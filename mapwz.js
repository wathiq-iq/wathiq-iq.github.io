(function(){const x=document.createElement("link").relList;if(x&&x.supports&&x.supports("modulepreload"))return;for(const M of document.querySelectorAll('link[rel="modulepreload"]'))b(M);new MutationObserver(M=>{for(const z of M)if(z.type==="childList")for(const B of z.addedNodes)B.tagName==="LINK"&&B.rel==="modulepreload"&&b(B)}).observe(document,{childList:!0,subtree:!0});function r(M){const z={};return M.integrity&&(z.integrity=M.integrity),M.referrerPolicy&&(z.referrerPolicy=M.referrerPolicy),M.crossOrigin==="use-credentials"?z.credentials="include":M.crossOrigin==="anonymous"?z.credentials="omit":z.credentials="same-origin",z}function b(M){if(M.ep)return;M.ep=!0;const z=r(M);fetch(M.href,z)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(y){return y&&y.__esModule&&Object.prototype.hasOwnProperty.call(y,"default")?y.default:y}function getAugmentedNamespace(y){if(Object.prototype.hasOwnProperty.call(y,"__esModule"))return y;var x=y.default;if(typeof x=="function"){var r=function b(){var M=!1;try{M=this instanceof b}catch{}return M?Reflect.construct(x,arguments,this.constructor):x.apply(this,arguments)};r.prototype=x.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(y).forEach(function(b){var M=Object.getOwnPropertyDescriptor(y,b);Object.defineProperty(r,b,M.get?M:{enumerable:!0,get:function(){return y[b]}})}),r}var jsxRuntime={exports:{}},reactJsxRuntime_production={};var hasRequiredReactJsxRuntime_production;function requireReactJsxRuntime_production(){if(hasRequiredReactJsxRuntime_production)return reactJsxRuntime_production;hasRequiredReactJsxRuntime_production=1;var y=Symbol.for("react.transitional.element"),x=Symbol.for("react.fragment");function r(b,M,z){var B=null;if(z!==void 0&&(B=""+z),M.key!==void 0&&(B=""+M.key),"key"in M){z={};for(var R in M)R!=="key"&&(z[R]=M[R])}else z=M;return M=z.ref,{$$typeof:y,type:b,key:B,ref:M!==void 0?M:null,props:z}}return reactJsxRuntime_production.Fragment=x,reactJsxRuntime_production.jsx=r,reactJsxRuntime_production.jsxs=r,reactJsxRuntime_production}var hasRequiredJsxRuntime;function requireJsxRuntime(){return hasRequiredJsxRuntime||(hasRequiredJsxRuntime=1,jsxRuntime.exports=requireReactJsxRuntime_production()),jsxRuntime.exports}var jsxRuntimeExports=requireJsxRuntime(),react={exports:{}},react_production={};var hasRequiredReact_production;function requireReact_production(){if(hasRequiredReact_production)return react_production;hasRequiredReact_production=1;var y=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),z=Symbol.for("react.consumer"),B=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),O=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),U=Symbol.iterator;function q(dt){return dt===null||typeof dt!="object"?null:(dt=U&&dt[U]||dt["@@iterator"],typeof dt=="function"?dt:null)}var K={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J=Object.assign,te={};function oe(dt,yt,Gt){this.props=dt,this.context=yt,this.refs=te,this.updater=Gt||K}oe.prototype.isReactComponent={},oe.prototype.setState=function(dt,yt){if(typeof dt!="object"&&typeof dt!="function"&&dt!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,dt,yt,"setState")},oe.prototype.forceUpdate=function(dt){this.updater.enqueueForceUpdate(this,dt,"forceUpdate")};function ue(){}ue.prototype=oe.prototype;function fe(dt,yt,Gt){this.props=dt,this.context=yt,this.refs=te,this.updater=Gt||K}var Le=fe.prototype=new ue;Le.constructor=fe,J(Le,oe.prototype),Le.isPureReactComponent=!0;var Ge=Array.isArray;function ze(){}var je={H:null,A:null,T:null,S:null},Be=Object.prototype.hasOwnProperty;function _e(dt,yt,Gt){var Bt=Gt.ref;return{$$typeof:y,type:dt,key:yt,ref:Bt!==void 0?Bt:null,props:Gt}}function He(dt,yt){return _e(dt.type,yt,dt.props)}function tt(dt){return typeof dt=="object"&&dt!==null&&dt.$$typeof===y}function Ke(dt){var yt={"=":"=0",":":"=2"};return"$"+dt.replace(/[=:]/g,function(Gt){return yt[Gt]})}var Ze=/\/+/g;function Qe(dt,yt){return typeof dt=="object"&&dt!==null&&dt.key!=null?Ke(""+dt.key):yt.toString(36)}function vt(dt){switch(dt.status){case"fulfilled":return dt.value;case"rejected":throw dt.reason;default:switch(typeof dt.status=="string"?dt.then(ze,ze):(dt.status="pending",dt.then(function(yt){dt.status==="pending"&&(dt.status="fulfilled",dt.value=yt)},function(yt){dt.status==="pending"&&(dt.status="rejected",dt.reason=yt)})),dt.status){case"fulfilled":return dt.value;case"rejected":throw dt.reason}}throw dt}function pt(dt,yt,Gt,Bt,Dt){var Ct=typeof dt;(Ct==="undefined"||Ct==="boolean")&&(dt=null);var It=!1;if(dt===null)It=!0;else switch(Ct){case"bigint":case"string":case"number":It=!0;break;case"object":switch(dt.$$typeof){case y:case x:It=!0;break;case A:return It=dt._init,pt(It(dt._payload),yt,Gt,Bt,Dt)}}if(It)return Dt=Dt(dt),It=Bt===""?"."+Qe(dt,0):Bt,Ge(Dt)?(Gt="",It!=null&&(Gt=It.replace(Ze,"$&/")+"/"),pt(Dt,yt,Gt,"",function(Ve){return Ve})):Dt!=null&&(tt(Dt)&&(Dt=He(Dt,Gt+(Dt.key==null||dt&&dt.key===Dt.key?"":(""+Dt.key).replace(Ze,"$&/")+"/")+It)),yt.push(Dt)),1;It=0;var lr=Bt===""?".":Bt+":";if(Ge(dt))for(var Je=0;Je<dt.length;Je++)Bt=dt[Je],Ct=lr+Qe(Bt,Je),It+=pt(Bt,yt,Gt,Ct,Dt);else if(Je=q(dt),typeof Je=="function")for(dt=Je.call(dt),Je=0;!(Bt=dt.next()).done;)Bt=Bt.value,Ct=lr+Qe(Bt,Je++),It+=pt(Bt,yt,Gt,Ct,Dt);else if(Ct==="object"){if(typeof dt.then=="function")return pt(vt(dt),yt,Gt,Bt,Dt);throw yt=String(dt),Error("Objects are not valid as a React child (found: "+(yt==="[object Object]"?"object with keys {"+Object.keys(dt).join(", ")+"}":yt)+"). If you meant to render a collection of children, use an array instead.")}return It}function ut(dt,yt,Gt){if(dt==null)return dt;var Bt=[],Dt=0;return pt(dt,Bt,"","",function(Ct){return yt.call(Gt,Ct,Dt++)}),Bt}function Mt(dt){if(dt._status===-1){var yt=dt._result;yt=yt(),yt.then(function(Gt){(dt._status===0||dt._status===-1)&&(dt._status=1,dt._result=Gt)},function(Gt){(dt._status===0||dt._status===-1)&&(dt._status=2,dt._result=Gt)}),dt._status===-1&&(dt._status=0,dt._result=yt)}if(dt._status===1)return dt._result.default;throw dt._result}var bt=typeof reportError=="function"?reportError:function(dt){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var yt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof dt=="object"&&dt!==null&&typeof dt.message=="string"?String(dt.message):String(dt),error:dt});if(!window.dispatchEvent(yt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",dt);return}console.error(dt)},ar={map:ut,forEach:function(dt,yt,Gt){ut(dt,function(){yt.apply(this,arguments)},Gt)},count:function(dt){var yt=0;return ut(dt,function(){yt++}),yt},toArray:function(dt){return ut(dt,function(yt){return yt})||[]},only:function(dt){if(!tt(dt))throw Error("React.Children.only expected to receive a single React element child.");return dt}};return react_production.Activity=T,react_production.Children=ar,react_production.Component=oe,react_production.Fragment=r,react_production.Profiler=M,react_production.PureComponent=fe,react_production.StrictMode=b,react_production.Suspense=I,react_production.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=je,react_production.__COMPILER_RUNTIME={__proto__:null,c:function(dt){return je.H.useMemoCache(dt)}},react_production.cache=function(dt){return function(){return dt.apply(null,arguments)}},react_production.cacheSignal=function(){return null},react_production.cloneElement=function(dt,yt,Gt){if(dt==null)throw Error("The argument must be a React element, but you passed "+dt+".");var Bt=J({},dt.props),Dt=dt.key;if(yt!=null)for(Ct in yt.key!==void 0&&(Dt=""+yt.key),yt)!Be.call(yt,Ct)||Ct==="key"||Ct==="__self"||Ct==="__source"||Ct==="ref"&&yt.ref===void 0||(Bt[Ct]=yt[Ct]);var Ct=arguments.length-2;if(Ct===1)Bt.children=Gt;else if(1<Ct){for(var It=Array(Ct),lr=0;lr<Ct;lr++)It[lr]=arguments[lr+2];Bt.children=It}return _e(dt.type,Dt,Bt)},react_production.createContext=function(dt){return dt={$$typeof:B,_currentValue:dt,_currentValue2:dt,_threadCount:0,Provider:null,Consumer:null},dt.Provider=dt,dt.Consumer={$$typeof:z,_context:dt},dt},react_production.createElement=function(dt,yt,Gt){var Bt,Dt={},Ct=null;if(yt!=null)for(Bt in yt.key!==void 0&&(Ct=""+yt.key),yt)Be.call(yt,Bt)&&Bt!=="key"&&Bt!=="__self"&&Bt!=="__source"&&(Dt[Bt]=yt[Bt]);var It=arguments.length-2;if(It===1)Dt.children=Gt;else if(1<It){for(var lr=Array(It),Je=0;Je<It;Je++)lr[Je]=arguments[Je+2];Dt.children=lr}if(dt&&dt.defaultProps)for(Bt in It=dt.defaultProps,It)Dt[Bt]===void 0&&(Dt[Bt]=It[Bt]);return _e(dt,Ct,Dt)},react_production.createRef=function(){return{current:null}},react_production.forwardRef=function(dt){return{$$typeof:R,render:dt}},react_production.isValidElement=tt,react_production.lazy=function(dt){return{$$typeof:A,_payload:{_status:-1,_result:dt},_init:Mt}},react_production.memo=function(dt,yt){return{$$typeof:O,type:dt,compare:yt===void 0?null:yt}},react_production.startTransition=function(dt){var yt=je.T,Gt={};je.T=Gt;try{var Bt=dt(),Dt=je.S;Dt!==null&&Dt(Gt,Bt),typeof Bt=="object"&&Bt!==null&&typeof Bt.then=="function"&&Bt.then(ze,bt)}catch(Ct){bt(Ct)}finally{yt!==null&&Gt.types!==null&&(yt.types=Gt.types),je.T=yt}},react_production.unstable_useCacheRefresh=function(){return je.H.useCacheRefresh()},react_production.use=function(dt){return je.H.use(dt)},react_production.useActionState=function(dt,yt,Gt){return je.H.useActionState(dt,yt,Gt)},react_production.useCallback=function(dt,yt){return je.H.useCallback(dt,yt)},react_production.useContext=function(dt){return je.H.useContext(dt)},react_production.useDebugValue=function(){},react_production.useDeferredValue=function(dt,yt){return je.H.useDeferredValue(dt,yt)},react_production.useEffect=function(dt,yt){return je.H.useEffect(dt,yt)},react_production.useEffectEvent=function(dt){return je.H.useEffectEvent(dt)},react_production.useId=function(){return je.H.useId()},react_production.useImperativeHandle=function(dt,yt,Gt){return je.H.useImperativeHandle(dt,yt,Gt)},react_production.useInsertionEffect=function(dt,yt){return je.H.useInsertionEffect(dt,yt)},react_production.useLayoutEffect=function(dt,yt){return je.H.useLayoutEffect(dt,yt)},react_production.useMemo=function(dt,yt){return je.H.useMemo(dt,yt)},react_production.useOptimistic=function(dt,yt){return je.H.useOptimistic(dt,yt)},react_production.useReducer=function(dt,yt,Gt){return je.H.useReducer(dt,yt,Gt)},react_production.useRef=function(dt){return je.H.useRef(dt)},react_production.useState=function(dt){return je.H.useState(dt)},react_production.useSyncExternalStore=function(dt,yt,Gt){return je.H.useSyncExternalStore(dt,yt,Gt)},react_production.useTransition=function(){return je.H.useTransition()},react_production.version="19.2.0",react_production}var hasRequiredReact;function requireReact(){return hasRequiredReact||(hasRequiredReact=1,react.exports=requireReact_production()),react.exports}var reactExports=requireReact();const React=getDefaultExportFromCjs(reactExports);var client={exports:{}},reactDomClient_production={},scheduler={exports:{}},scheduler_production={};var hasRequiredScheduler_production;function requireScheduler_production(){return hasRequiredScheduler_production||(hasRequiredScheduler_production=1,(function(y){function x(pt,ut){var Mt=pt.length;pt.push(ut);e:for(;0<Mt;){var bt=Mt-1>>>1,ar=pt[bt];if(0<M(ar,ut))pt[bt]=ut,pt[Mt]=ar,Mt=bt;else break e}}function r(pt){return pt.length===0?null:pt[0]}function b(pt){if(pt.length===0)return null;var ut=pt[0],Mt=pt.pop();if(Mt!==ut){pt[0]=Mt;e:for(var bt=0,ar=pt.length,dt=ar>>>1;bt<dt;){var yt=2*(bt+1)-1,Gt=pt[yt],Bt=yt+1,Dt=pt[Bt];if(0>M(Gt,Mt))Bt<ar&&0>M(Dt,Gt)?(pt[bt]=Dt,pt[Bt]=Mt,bt=Bt):(pt[bt]=Gt,pt[yt]=Mt,bt=yt);else if(Bt<ar&&0>M(Dt,Mt))pt[bt]=Dt,pt[Bt]=Mt,bt=Bt;else break e}}return ut}function M(pt,ut){var Mt=pt.sortIndex-ut.sortIndex;return Mt!==0?Mt:pt.id-ut.id}if(y.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var z=performance;y.unstable_now=function(){return z.now()}}else{var B=Date,R=B.now();y.unstable_now=function(){return B.now()-R}}var I=[],O=[],A=1,T=null,U=3,q=!1,K=!1,J=!1,te=!1,oe=typeof setTimeout=="function"?setTimeout:null,ue=typeof clearTimeout=="function"?clearTimeout:null,fe=typeof setImmediate<"u"?setImmediate:null;function Le(pt){for(var ut=r(O);ut!==null;){if(ut.callback===null)b(O);else if(ut.startTime<=pt)b(O),ut.sortIndex=ut.expirationTime,x(I,ut);else break;ut=r(O)}}function Ge(pt){if(J=!1,Le(pt),!K)if(r(I)!==null)K=!0,ze||(ze=!0,Ke());else{var ut=r(O);ut!==null&&vt(Ge,ut.startTime-pt)}}var ze=!1,je=-1,Be=5,_e=-1;function He(){return te?!0:!(y.unstable_now()-_e<Be)}function tt(){if(te=!1,ze){var pt=y.unstable_now();_e=pt;var ut=!0;try{e:{K=!1,J&&(J=!1,ue(je),je=-1),q=!0;var Mt=U;try{t:{for(Le(pt),T=r(I);T!==null&&!(T.expirationTime>pt&&He());){var bt=T.callback;if(typeof bt=="function"){T.callback=null,U=T.priorityLevel;var ar=bt(T.expirationTime<=pt);if(pt=y.unstable_now(),typeof ar=="function"){T.callback=ar,Le(pt),ut=!0;break t}T===r(I)&&b(I),Le(pt)}else b(I);T=r(I)}if(T!==null)ut=!0;else{var dt=r(O);dt!==null&&vt(Ge,dt.startTime-pt),ut=!1}}break e}finally{T=null,U=Mt,q=!1}ut=void 0}}finally{ut?Ke():ze=!1}}}var Ke;if(typeof fe=="function")Ke=function(){fe(tt)};else if(typeof MessageChannel<"u"){var Ze=new MessageChannel,Qe=Ze.port2;Ze.port1.onmessage=tt,Ke=function(){Qe.postMessage(null)}}else Ke=function(){oe(tt,0)};function vt(pt,ut){je=oe(function(){pt(y.unstable_now())},ut)}y.unstable_IdlePriority=5,y.unstable_ImmediatePriority=1,y.unstable_LowPriority=4,y.unstable_NormalPriority=3,y.unstable_Profiling=null,y.unstable_UserBlockingPriority=2,y.unstable_cancelCallback=function(pt){pt.callback=null},y.unstable_forceFrameRate=function(pt){0>pt||125<pt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Be=0<pt?Math.floor(1e3/pt):5},y.unstable_getCurrentPriorityLevel=function(){return U},y.unstable_next=function(pt){switch(U){case 1:case 2:case 3:var ut=3;break;default:ut=U}var Mt=U;U=ut;try{return pt()}finally{U=Mt}},y.unstable_requestPaint=function(){te=!0},y.unstable_runWithPriority=function(pt,ut){switch(pt){case 1:case 2:case 3:case 4:case 5:break;default:pt=3}var Mt=U;U=pt;try{return ut()}finally{U=Mt}},y.unstable_scheduleCallback=function(pt,ut,Mt){var bt=y.unstable_now();switch(typeof Mt=="object"&&Mt!==null?(Mt=Mt.delay,Mt=typeof Mt=="number"&&0<Mt?bt+Mt:bt):Mt=bt,pt){case 1:var ar=-1;break;case 2:ar=250;break;case 5:ar=1073741823;break;case 4:ar=1e4;break;default:ar=5e3}return ar=Mt+ar,pt={id:A++,callback:ut,priorityLevel:pt,startTime:Mt,expirationTime:ar,sortIndex:-1},Mt>bt?(pt.sortIndex=Mt,x(O,pt),r(I)===null&&pt===r(O)&&(J?(ue(je),je=-1):J=!0,vt(Ge,Mt-bt))):(pt.sortIndex=ar,x(I,pt),K||q||(K=!0,ze||(ze=!0,Ke()))),pt},y.unstable_shouldYield=He,y.unstable_wrapCallback=function(pt){var ut=U;return function(){var Mt=U;U=ut;try{return pt.apply(this,arguments)}finally{U=Mt}}}})(scheduler_production)),scheduler_production}var hasRequiredScheduler;function requireScheduler(){return hasRequiredScheduler||(hasRequiredScheduler=1,scheduler.exports=requireScheduler_production()),scheduler.exports}var reactDom={exports:{}},reactDom_production={};var hasRequiredReactDom_production;function requireReactDom_production(){if(hasRequiredReactDom_production)return reactDom_production;hasRequiredReactDom_production=1;var y=requireReact();function x(I){var O="https://react.dev/errors/"+I;if(1<arguments.length){O+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)O+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+I+"; visit "+O+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var b={d:{f:r,r:function(){throw Error(x(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},M=Symbol.for("react.portal");function z(I,O,A){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:M,key:T==null?null:""+T,children:I,containerInfo:O,implementation:A}}var B=y.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function R(I,O){if(I==="font")return"";if(typeof O=="string")return O==="use-credentials"?O:""}return reactDom_production.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=b,reactDom_production.createPortal=function(I,O){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!O||O.nodeType!==1&&O.nodeType!==9&&O.nodeType!==11)throw Error(x(299));return z(I,O,null,A)},reactDom_production.flushSync=function(I){var O=B.T,A=b.p;try{if(B.T=null,b.p=2,I)return I()}finally{B.T=O,b.p=A,b.d.f()}},reactDom_production.preconnect=function(I,O){typeof I=="string"&&(O?(O=O.crossOrigin,O=typeof O=="string"?O==="use-credentials"?O:"":void 0):O=null,b.d.C(I,O))},reactDom_production.prefetchDNS=function(I){typeof I=="string"&&b.d.D(I)},reactDom_production.preinit=function(I,O){if(typeof I=="string"&&O&&typeof O.as=="string"){var A=O.as,T=R(A,O.crossOrigin),U=typeof O.integrity=="string"?O.integrity:void 0,q=typeof O.fetchPriority=="string"?O.fetchPriority:void 0;A==="style"?b.d.S(I,typeof O.precedence=="string"?O.precedence:void 0,{crossOrigin:T,integrity:U,fetchPriority:q}):A==="script"&&b.d.X(I,{crossOrigin:T,integrity:U,fetchPriority:q,nonce:typeof O.nonce=="string"?O.nonce:void 0})}},reactDom_production.preinitModule=function(I,O){if(typeof I=="string")if(typeof O=="object"&&O!==null){if(O.as==null||O.as==="script"){var A=R(O.as,O.crossOrigin);b.d.M(I,{crossOrigin:A,integrity:typeof O.integrity=="string"?O.integrity:void 0,nonce:typeof O.nonce=="string"?O.nonce:void 0})}}else O==null&&b.d.M(I)},reactDom_production.preload=function(I,O){if(typeof I=="string"&&typeof O=="object"&&O!==null&&typeof O.as=="string"){var A=O.as,T=R(A,O.crossOrigin);b.d.L(I,A,{crossOrigin:T,integrity:typeof O.integrity=="string"?O.integrity:void 0,nonce:typeof O.nonce=="string"?O.nonce:void 0,type:typeof O.type=="string"?O.type:void 0,fetchPriority:typeof O.fetchPriority=="string"?O.fetchPriority:void 0,referrerPolicy:typeof O.referrerPolicy=="string"?O.referrerPolicy:void 0,imageSrcSet:typeof O.imageSrcSet=="string"?O.imageSrcSet:void 0,imageSizes:typeof O.imageSizes=="string"?O.imageSizes:void 0,media:typeof O.media=="string"?O.media:void 0})}},reactDom_production.preloadModule=function(I,O){if(typeof I=="string")if(O){var A=R(O.as,O.crossOrigin);b.d.m(I,{as:typeof O.as=="string"&&O.as!=="script"?O.as:void 0,crossOrigin:A,integrity:typeof O.integrity=="string"?O.integrity:void 0})}else b.d.m(I)},reactDom_production.requestFormReset=function(I){b.d.r(I)},reactDom_production.unstable_batchedUpdates=function(I,O){return I(O)},reactDom_production.useFormState=function(I,O,A){return B.H.useFormState(I,O,A)},reactDom_production.useFormStatus=function(){return B.H.useHostTransitionStatus()},reactDom_production.version="19.2.0",reactDom_production}var hasRequiredReactDom;function requireReactDom(){if(hasRequiredReactDom)return reactDom.exports;hasRequiredReactDom=1;function y(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(y)}catch(x){console.error(x)}}return y(),reactDom.exports=requireReactDom_production(),reactDom.exports}var hasRequiredReactDomClient_production;function requireReactDomClient_production(){if(hasRequiredReactDomClient_production)return reactDomClient_production;hasRequiredReactDomClient_production=1;var y=requireScheduler(),x=requireReact(),r=requireReactDom();function b(G){var X="https://react.dev/errors/"+G;if(1<arguments.length){X+="?args[]="+encodeURIComponent(arguments[1]);for(var ae=2;ae<arguments.length;ae++)X+="&args[]="+encodeURIComponent(arguments[ae])}return"Minified React error #"+G+"; visit "+X+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function M(G){return!(!G||G.nodeType!==1&&G.nodeType!==9&&G.nodeType!==11)}function z(G){var X=G,ae=G;if(G.alternate)for(;X.return;)X=X.return;else{G=X;do X=G,(X.flags&4098)!==0&&(ae=X.return),G=X.return;while(G)}return X.tag===3?ae:null}function B(G){if(G.tag===13){var X=G.memoizedState;if(X===null&&(G=G.alternate,G!==null&&(X=G.memoizedState)),X!==null)return X.dehydrated}return null}function R(G){if(G.tag===31){var X=G.memoizedState;if(X===null&&(G=G.alternate,G!==null&&(X=G.memoizedState)),X!==null)return X.dehydrated}return null}function I(G){if(z(G)!==G)throw Error(b(188))}function O(G){var X=G.alternate;if(!X){if(X=z(G),X===null)throw Error(b(188));return X!==G?null:G}for(var ae=G,xe=X;;){var Ye=ae.return;if(Ye===null)break;var ot=Ye.alternate;if(ot===null){if(xe=Ye.return,xe!==null){ae=xe;continue}break}if(Ye.child===ot.child){for(ot=Ye.child;ot;){if(ot===ae)return I(Ye),G;if(ot===xe)return I(Ye),X;ot=ot.sibling}throw Error(b(188))}if(ae.return!==xe.return)ae=Ye,xe=ot;else{for(var Pt=!1,dr=Ye.child;dr;){if(dr===ae){Pt=!0,ae=Ye,xe=ot;break}if(dr===xe){Pt=!0,xe=Ye,ae=ot;break}dr=dr.sibling}if(!Pt){for(dr=ot.child;dr;){if(dr===ae){Pt=!0,ae=ot,xe=Ye;break}if(dr===xe){Pt=!0,xe=ot,ae=Ye;break}dr=dr.sibling}if(!Pt)throw Error(b(189))}}if(ae.alternate!==xe)throw Error(b(190))}if(ae.tag!==3)throw Error(b(188));return ae.stateNode.current===ae?G:X}function A(G){var X=G.tag;if(X===5||X===26||X===27||X===6)return G;for(G=G.child;G!==null;){if(X=A(G),X!==null)return X;G=G.sibling}return null}var T=Object.assign,U=Symbol.for("react.element"),q=Symbol.for("react.transitional.element"),K=Symbol.for("react.portal"),J=Symbol.for("react.fragment"),te=Symbol.for("react.strict_mode"),oe=Symbol.for("react.profiler"),ue=Symbol.for("react.consumer"),fe=Symbol.for("react.context"),Le=Symbol.for("react.forward_ref"),Ge=Symbol.for("react.suspense"),ze=Symbol.for("react.suspense_list"),je=Symbol.for("react.memo"),Be=Symbol.for("react.lazy"),_e=Symbol.for("react.activity"),He=Symbol.for("react.memo_cache_sentinel"),tt=Symbol.iterator;function Ke(G){return G===null||typeof G!="object"?null:(G=tt&&G[tt]||G["@@iterator"],typeof G=="function"?G:null)}var Ze=Symbol.for("react.client.reference");function Qe(G){if(G==null)return null;if(typeof G=="function")return G.$$typeof===Ze?null:G.displayName||G.name||null;if(typeof G=="string")return G;switch(G){case J:return"Fragment";case oe:return"Profiler";case te:return"StrictMode";case Ge:return"Suspense";case ze:return"SuspenseList";case _e:return"Activity"}if(typeof G=="object")switch(G.$$typeof){case K:return"Portal";case fe:return G.displayName||"Context";case ue:return(G._context.displayName||"Context")+".Consumer";case Le:var X=G.render;return G=G.displayName,G||(G=X.displayName||X.name||"",G=G!==""?"ForwardRef("+G+")":"ForwardRef"),G;case je:return X=G.displayName||null,X!==null?X:Qe(G.type)||"Memo";case Be:X=G._payload,G=G._init;try{return Qe(G(X))}catch{}}return null}var vt=Array.isArray,pt=x.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Mt={pending:!1,data:null,method:null,action:null},bt=[],ar=-1;function dt(G){return{current:G}}function yt(G){0>ar||(G.current=bt[ar],bt[ar]=null,ar--)}function Gt(G,X){ar++,bt[ar]=G.current,G.current=X}var Bt=dt(null),Dt=dt(null),Ct=dt(null),It=dt(null);function lr(G,X){switch(Gt(Ct,X),Gt(Dt,G),Gt(Bt,null),X.nodeType){case 9:case 11:G=(G=X.documentElement)&&(G=G.namespaceURI)?Yp(G):0;break;default:if(G=X.tagName,X=X.namespaceURI)X=Yp(X),G=Kp(X,G);else switch(G){case"svg":G=1;break;case"math":G=2;break;default:G=0}}yt(Bt),Gt(Bt,G)}function Je(){yt(Bt),yt(Dt),yt(Ct)}function Ve(G){G.memoizedState!==null&&Gt(It,G);var X=Bt.current,ae=Kp(X,G.type);X!==ae&&(Gt(Dt,G),Gt(Bt,ae))}function st(G){Dt.current===G&&(yt(Bt),yt(Dt)),It.current===G&&(yt(It),Pl._currentValue=Mt)}var it,Wt;function rt(G){if(it===void 0)try{throw Error()}catch(ae){var X=ae.stack.trim().match(/\n( *(at )?)/);it=X&&X[1]||"",Wt=-1<ae.stack.indexOf(`
    at`)?" (<anonymous>)":-1<ae.stack.indexOf("@")?"@unknown:0:0":""}return`
`+it+G+Wt}var ur=!1;function tr(G,X){if(!G||ur)return"";ur=!0;var ae=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var xe={DetermineComponentFrameRoot:function(){try{if(X){var Hn=function(){throw Error()};if(Object.defineProperty(Hn.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Hn,[])}catch(An){var Tn=An}Reflect.construct(G,[],Hn)}else{try{Hn.call()}catch(An){Tn=An}G.call(Hn.prototype)}}else{try{throw Error()}catch(An){Tn=An}(Hn=G())&&typeof Hn.catch=="function"&&Hn.catch(function(){})}}catch(An){if(An&&Tn&&typeof An.stack=="string")return[An.stack,Tn.stack]}return[null,null]}};xe.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var Ye=Object.getOwnPropertyDescriptor(xe.DetermineComponentFrameRoot,"name");Ye&&Ye.configurable&&Object.defineProperty(xe.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var ot=xe.DetermineComponentFrameRoot(),Pt=ot[0],dr=ot[1];if(Pt&&dr){var jr=Pt.split(`
`),yn=dr.split(`
`);for(Ye=xe=0;xe<jr.length&&!jr[xe].includes("DetermineComponentFrameRoot");)xe++;for(;Ye<yn.length&&!yn[Ye].includes("DetermineComponentFrameRoot");)Ye++;if(xe===jr.length||Ye===yn.length)for(xe=jr.length-1,Ye=yn.length-1;1<=xe&&0<=Ye&&jr[xe]!==yn[Ye];)Ye--;for(;1<=xe&&0<=Ye;xe--,Ye--)if(jr[xe]!==yn[Ye]){if(xe!==1||Ye!==1)do if(xe--,Ye--,0>Ye||jr[xe]!==yn[Ye]){var Pn=`
`+jr[xe].replace(" at new "," at ");return G.displayName&&Pn.includes("<anonymous>")&&(Pn=Pn.replace("<anonymous>",G.displayName)),Pn}while(1<=xe&&0<=Ye);break}}}finally{ur=!1,Error.prepareStackTrace=ae}return(ae=G?G.displayName||G.name:"")?rt(ae):""}function Ft(G,X){switch(G.tag){case 26:case 27:case 5:return rt(G.type);case 16:return rt("Lazy");case 13:return G.child!==X&&X!==null?rt("Suspense Fallback"):rt("Suspense");case 19:return rt("SuspenseList");case 0:case 15:return tr(G.type,!1);case 11:return tr(G.type.render,!1);case 1:return tr(G.type,!0);case 31:return rt("Activity");default:return""}}function Jt(G){try{var X="",ae=null;do X+=Ft(G,ae),ae=G,G=G.return;while(G);return X}catch(xe){return`
Error generating stack: `+xe.message+`
`+xe.stack}}var et=Object.prototype.hasOwnProperty,gt=y.unstable_scheduleCallback,Et=y.unstable_cancelCallback,Xt=y.unstable_shouldYield,mr=y.unstable_requestPaint,Cr=y.unstable_now,Dr=y.unstable_getCurrentPriorityLevel,_n=y.unstable_ImmediatePriority,In=y.unstable_UserBlockingPriority,Fn=y.unstable_NormalPriority,ti=y.unstable_LowPriority,Qn=y.unstable_IdlePriority,vi=y.log,wi=y.unstable_setDisableYieldValue,oi=null,Si=null;function Gi(G){if(typeof vi=="function"&&wi(G),Si&&typeof Si.setStrictMode=="function")try{Si.setStrictMode(oi,G)}catch{}}var ai=Math.clz32?Math.clz32:fa,zi=Math.log,Ei=Math.LN2;function fa(G){return G>>>=0,G===0?32:31-(zi(G)/Ei|0)|0}var Vn=256,ha=262144,Na=4194304;function wt(G){var X=G&42;if(X!==0)return X;switch(G&-G){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return G&261888;case 262144:case 524288:case 1048576:case 2097152:return G&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return G&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return G}}function _t(G,X,ae){var xe=G.pendingLanes;if(xe===0)return 0;var Ye=0,ot=G.suspendedLanes,Pt=G.pingedLanes;G=G.warmLanes;var dr=xe&134217727;return dr!==0?(xe=dr&~ot,xe!==0?Ye=wt(xe):(Pt&=dr,Pt!==0?Ye=wt(Pt):ae||(ae=dr&~G,ae!==0&&(Ye=wt(ae))))):(dr=xe&~ot,dr!==0?Ye=wt(dr):Pt!==0?Ye=wt(Pt):ae||(ae=xe&~G,ae!==0&&(Ye=wt(ae)))),Ye===0?0:X!==0&&X!==Ye&&(X&ot)===0&&(ot=Ye&-Ye,ae=X&-X,ot>=ae||ot===32&&(ae&4194048)!==0)?X:Ye}function jt(G,X){return(G.pendingLanes&~(G.suspendedLanes&~G.pingedLanes)&X)===0}function nr(G,X){switch(G){case 1:case 2:case 4:case 8:case 64:return X+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return X+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yt(){var G=Na;return Na<<=1,(Na&62914560)===0&&(Na=4194304),G}function Nr(G){for(var X=[],ae=0;31>ae;ae++)X.push(G);return X}function Gr(G,X){G.pendingLanes|=X,X!==268435456&&(G.suspendedLanes=0,G.pingedLanes=0,G.warmLanes=0)}function Vr(G,X,ae,xe,Ye,ot){var Pt=G.pendingLanes;G.pendingLanes=ae,G.suspendedLanes=0,G.pingedLanes=0,G.warmLanes=0,G.expiredLanes&=ae,G.entangledLanes&=ae,G.errorRecoveryDisabledLanes&=ae,G.shellSuspendCounter=0;var dr=G.entanglements,jr=G.expirationTimes,yn=G.hiddenUpdates;for(ae=Pt&~ae;0<ae;){var Pn=31-ai(ae),Hn=1<<Pn;dr[Pn]=0,jr[Pn]=-1;var Tn=yn[Pn];if(Tn!==null)for(yn[Pn]=null,Pn=0;Pn<Tn.length;Pn++){var An=Tn[Pn];An!==null&&(An.lane&=-536870913)}ae&=~Hn}xe!==0&&Mn(G,xe,0),ot!==0&&Ye===0&&G.tag!==0&&(G.suspendedLanes|=ot&~(Pt&~X))}function Mn(G,X,ae){G.pendingLanes|=X,G.suspendedLanes&=~X;var xe=31-ai(X);G.entangledLanes|=X,G.entanglements[xe]=G.entanglements[xe]|1073741824|ae&261930}function hn(G,X){var ae=G.entangledLanes|=X;for(G=G.entanglements;ae;){var xe=31-ai(ae),Ye=1<<xe;Ye&X|G[xe]&X&&(G[xe]|=X),ae&=~Ye}}function vn(G,X){var ae=X&-X;return ae=(ae&42)!==0?1:Dn(ae),(ae&(G.suspendedLanes|X))!==0?0:ae}function Dn(G){switch(G){case 2:G=1;break;case 8:G=4;break;case 32:G=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:G=128;break;case 268435456:G=134217728;break;default:G=0}return G}function kn(G){return G&=-G,2<G?8<G?(G&134217727)!==0?32:268435456:8:2}function Zt(){var G=ut.p;return G!==0?G:(G=window.event,G===void 0?32:vd(G.type))}function _r(G,X){var ae=ut.p;try{return ut.p=G,X()}finally{ut.p=ae}}var fr=Math.random().toString(36).slice(2),pr="__reactFiber$"+fr,gr="__reactProps$"+fr,Ar="__reactContainer$"+fr,Xr="__reactEvents$"+fr,cn="__reactListeners$"+fr,nn="__reactHandles$"+fr,tn="__reactResources$"+fr,$r="__reactMarker$"+fr;function Bn(G){delete G[pr],delete G[gr],delete G[Xr],delete G[cn],delete G[nn]}function zn(G){var X=G[pr];if(X)return X;for(var ae=G.parentNode;ae;){if(X=ae[Ar]||ae[pr]){if(ae=X.alternate,X.child!==null||ae!==null&&ae.child!==null)for(G=nd(G);G!==null;){if(ae=G[pr])return ae;G=nd(G)}return X}G=ae,ae=G.parentNode}return null}function ri(G){if(G=G[pr]||G[Ar]){var X=G.tag;if(X===5||X===6||X===13||X===31||X===26||X===27||X===3)return G}return null}function qn(G){var X=G.tag;if(X===5||X===26||X===27||X===6)return G.stateNode;throw Error(b(33))}function Yn(G){var X=G[tn];return X||(X=G[tn]={hoistableStyles:new Map,hoistableScripts:new Map}),X}function fi(G){G[$r]=!0}var Yi=new Set,Wi={};function _a(G,X){ja(G,X),ja(G+"Capture",X)}function ja(G,X){for(Wi[G]=X,G=0;G<X.length;G++)Yi.add(X[G])}var io=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),No={},So={};function co(G){return et.call(So,G)?!0:et.call(No,G)?!1:io.test(G)?So[G]=!0:(No[G]=!0,!1)}function Bi(G,X,ae){if(co(X))if(ae===null)G.removeAttribute(X);else{switch(typeof ae){case"undefined":case"function":case"symbol":G.removeAttribute(X);return;case"boolean":var xe=X.toLowerCase().slice(0,5);if(xe!=="data-"&&xe!=="aria-"){G.removeAttribute(X);return}}G.setAttribute(X,""+ae)}}function ra(G,X,ae){if(ae===null)G.removeAttribute(X);else{switch(typeof ae){case"undefined":case"function":case"symbol":case"boolean":G.removeAttribute(X);return}G.setAttribute(X,""+ae)}}function Hi(G,X,ae,xe){if(xe===null)G.removeAttribute(ae);else{switch(typeof xe){case"undefined":case"function":case"symbol":case"boolean":G.removeAttribute(ae);return}G.setAttributeNS(X,ae,""+xe)}}function Ma(G){switch(typeof G){case"bigint":case"boolean":case"number":case"string":case"undefined":return G;case"object":return G;default:return""}}function _o(G){var X=G.type;return(G=G.nodeName)&&G.toLowerCase()==="input"&&(X==="checkbox"||X==="radio")}function $o(G,X,ae){var xe=Object.getOwnPropertyDescriptor(G.constructor.prototype,X);if(!G.hasOwnProperty(X)&&typeof xe<"u"&&typeof xe.get=="function"&&typeof xe.set=="function"){var Ye=xe.get,ot=xe.set;return Object.defineProperty(G,X,{configurable:!0,get:function(){return Ye.call(this)},set:function(Pt){ae=""+Pt,ot.call(this,Pt)}}),Object.defineProperty(G,X,{enumerable:xe.enumerable}),{getValue:function(){return ae},setValue:function(Pt){ae=""+Pt},stopTracking:function(){G._valueTracker=null,delete G[X]}}}}function Ii(G){if(!G._valueTracker){var X=_o(G)?"checked":"value";G._valueTracker=$o(G,X,""+G[X])}}function pa(G){if(!G)return!1;var X=G._valueTracker;if(!X)return!0;var ae=X.getValue(),xe="";return G&&(xe=_o(G)?G.checked?"true":"false":G.value),G=xe,G!==ae?(X.setValue(G),!0):!1}function Va(G){if(G=G||(typeof document<"u"?document:void 0),typeof G>"u")return null;try{return G.activeElement||G.body}catch{return G.body}}var Do=/[\n"\\]/g;function Zi(G){return G.replace(Do,function(X){return"\\"+X.charCodeAt(0).toString(16)+" "})}function es(G,X,ae,xe,Ye,ot,Pt,dr){G.name="",Pt!=null&&typeof Pt!="function"&&typeof Pt!="symbol"&&typeof Pt!="boolean"?G.type=Pt:G.removeAttribute("type"),X!=null?Pt==="number"?(X===0&&G.value===""||G.value!=X)&&(G.value=""+Ma(X)):G.value!==""+Ma(X)&&(G.value=""+Ma(X)):Pt!=="submit"&&Pt!=="reset"||G.removeAttribute("value"),X!=null?Ca(G,Pt,Ma(X)):ae!=null?Ca(G,Pt,Ma(ae)):xe!=null&&G.removeAttribute("value"),Ye==null&&ot!=null&&(G.defaultChecked=!!ot),Ye!=null&&(G.checked=Ye&&typeof Ye!="function"&&typeof Ye!="symbol"),dr!=null&&typeof dr!="function"&&typeof dr!="symbol"&&typeof dr!="boolean"?G.name=""+Ma(dr):G.removeAttribute("name")}function Ro(G,X,ae,xe,Ye,ot,Pt,dr){if(ot!=null&&typeof ot!="function"&&typeof ot!="symbol"&&typeof ot!="boolean"&&(G.type=ot),X!=null||ae!=null){if(!(ot!=="submit"&&ot!=="reset"||X!=null)){Ii(G);return}ae=ae!=null?""+Ma(ae):"",X=X!=null?""+Ma(X):ae,dr||X===G.value||(G.value=X),G.defaultValue=X}xe=xe??Ye,xe=typeof xe!="function"&&typeof xe!="symbol"&&!!xe,G.checked=dr?G.checked:!!xe,G.defaultChecked=!!xe,Pt!=null&&typeof Pt!="function"&&typeof Pt!="symbol"&&typeof Pt!="boolean"&&(G.name=Pt),Ii(G)}function Ca(G,X,ae){X==="number"&&Va(G.ownerDocument)===G||G.defaultValue===""+ae||(G.defaultValue=""+ae)}function ua(G,X,ae,xe){if(G=G.options,X){X={};for(var Ye=0;Ye<ae.length;Ye++)X["$"+ae[Ye]]=!0;for(ae=0;ae<G.length;ae++)Ye=X.hasOwnProperty("$"+G[ae].value),G[ae].selected!==Ye&&(G[ae].selected=Ye),Ye&&xe&&(G[ae].defaultSelected=!0)}else{for(ae=""+Ma(ae),X=null,Ye=0;Ye<G.length;Ye++){if(G[Ye].value===ae){G[Ye].selected=!0,xe&&(G[Ye].defaultSelected=!0);return}X!==null||G[Ye].disabled||(X=G[Ye])}X!==null&&(X.selected=!0)}}function ao(G,X,ae){if(X!=null&&(X=""+Ma(X),X!==G.value&&(G.value=X),ae==null)){G.defaultValue!==X&&(G.defaultValue=X);return}G.defaultValue=ae!=null?""+Ma(ae):""}function Qa(G,X,ae,xe){if(X==null){if(xe!=null){if(ae!=null)throw Error(b(92));if(vt(xe)){if(1<xe.length)throw Error(b(93));xe=xe[0]}ae=xe}ae==null&&(ae=""),X=ae}ae=Ma(X),G.defaultValue=ae,xe=G.textContent,xe===ae&&xe!==""&&xe!==null&&(G.value=xe),Ii(G)}function Sa(G,X){if(X){var ae=G.firstChild;if(ae&&ae===G.lastChild&&ae.nodeType===3){ae.nodeValue=X;return}}G.textContent=X}var po=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ja(G,X,ae){var xe=X.indexOf("--")===0;ae==null||typeof ae=="boolean"||ae===""?xe?G.setProperty(X,""):X==="float"?G.cssFloat="":G[X]="":xe?G.setProperty(X,ae):typeof ae!="number"||ae===0||po.has(X)?X==="float"?G.cssFloat=ae:G[X]=(""+ae).trim():G[X]=ae+"px"}function Ga(G,X,ae){if(X!=null&&typeof X!="object")throw Error(b(62));if(G=G.style,ae!=null){for(var xe in ae)!ae.hasOwnProperty(xe)||X!=null&&X.hasOwnProperty(xe)||(xe.indexOf("--")===0?G.setProperty(xe,""):xe==="float"?G.cssFloat="":G[xe]="");for(var Ye in X)xe=X[Ye],X.hasOwnProperty(Ye)&&ae[Ye]!==xe&&Ja(G,Ye,xe)}else for(var ot in X)X.hasOwnProperty(ot)&&Ja(G,ot,X[ot])}function oo(G){if(G.indexOf("-")===-1)return!1;switch(G){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var go=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),as=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ct(G){return as.test(""+G)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":G}function kt(){}var $t=null;function Sr(G){return G=G.target||G.srcElement||window,G.correspondingUseElement&&(G=G.correspondingUseElement),G.nodeType===3?G.parentNode:G}var Ur=null,Pr=null;function ei(G){var X=ri(G);if(X&&(G=X.stateNode)){var ae=G[gr]||null;e:switch(G=X.stateNode,X.type){case"input":if(es(G,ae.value,ae.defaultValue,ae.defaultValue,ae.checked,ae.defaultChecked,ae.type,ae.name),X=ae.name,ae.type==="radio"&&X!=null){for(ae=G;ae.parentNode;)ae=ae.parentNode;for(ae=ae.querySelectorAll('input[name="'+Zi(""+X)+'"][type="radio"]'),X=0;X<ae.length;X++){var xe=ae[X];if(xe!==G&&xe.form===G.form){var Ye=xe[gr]||null;if(!Ye)throw Error(b(90));es(xe,Ye.value,Ye.defaultValue,Ye.defaultValue,Ye.checked,Ye.defaultChecked,Ye.type,Ye.name)}}for(X=0;X<ae.length;X++)xe=ae[X],xe.form===G.form&&pa(xe)}break e;case"textarea":ao(G,ae.value,ae.defaultValue);break e;case"select":X=ae.value,X!=null&&ua(G,!!ae.multiple,X,!1)}}}var si=!1;function Ni(G,X,ae){if(si)return G(X,ae);si=!0;try{var xe=G(X);return xe}finally{if(si=!1,(Ur!==null||Pr!==null)&&(lc(),Ur&&(X=Ur,G=Pr,Pr=Ur=null,ei(X),G)))for(X=0;X<G.length;X++)ei(G[X])}}function Ui(G,X){var ae=G.stateNode;if(ae===null)return null;var xe=ae[gr]||null;if(xe===null)return null;ae=xe[X];e:switch(X){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(xe=!xe.disabled)||(G=G.type,xe=!(G==="button"||G==="input"||G==="select"||G==="textarea")),G=!xe;break e;default:G=!1}if(G)return null;if(ae&&typeof ae!="function")throw Error(b(231,X,typeof ae));return ae}var la=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$i=!1;if(la)try{var wa={};Object.defineProperty(wa,"passive",{get:function(){$i=!0}}),window.addEventListener("test",wa,wa),window.removeEventListener("test",wa,wa)}catch{$i=!1}var Ri=null,za=null,ea=null;function Xa(){if(ea)return ea;var G,X=za,ae=X.length,xe,Ye="value"in Ri?Ri.value:Ri.textContent,ot=Ye.length;for(G=0;G<ae&&X[G]===Ye[G];G++);var Pt=ae-G;for(xe=1;xe<=Pt&&X[ae-xe]===Ye[ot-xe];xe++);return ea=Ye.slice(G,1<xe?1-xe:void 0)}function Uo(G){var X=G.keyCode;return"charCode"in G?(G=G.charCode,G===0&&X===13&&(G=13)):G=X,G===10&&(G=13),32<=G||G===13?G:0}function ts(){return!0}function Ns(){return!1}function Wa(G){function X(ae,xe,Ye,ot,Pt){this._reactName=ae,this._targetInst=Ye,this.type=xe,this.nativeEvent=ot,this.target=Pt,this.currentTarget=null;for(var dr in G)G.hasOwnProperty(dr)&&(ae=G[dr],this[dr]=ae?ae(ot):ot[dr]);return this.isDefaultPrevented=(ot.defaultPrevented!=null?ot.defaultPrevented:ot.returnValue===!1)?ts:Ns,this.isPropagationStopped=Ns,this}return T(X.prototype,{preventDefault:function(){this.defaultPrevented=!0;var ae=this.nativeEvent;ae&&(ae.preventDefault?ae.preventDefault():typeof ae.returnValue!="unknown"&&(ae.returnValue=!1),this.isDefaultPrevented=ts)},stopPropagation:function(){var ae=this.nativeEvent;ae&&(ae.stopPropagation?ae.stopPropagation():typeof ae.cancelBubble!="unknown"&&(ae.cancelBubble=!0),this.isPropagationStopped=ts)},persist:function(){},isPersistent:ts}),X}var Bo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(G){return G.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zo=Wa(Bo),Yo=T({},Bo,{view:0,detail:0}),Vi=Wa(Yo),Yr,gi,so,yo=T({},Yo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:or,button:0,buttons:0,relatedTarget:function(G){return G.relatedTarget===void 0?G.fromElement===G.srcElement?G.toElement:G.fromElement:G.relatedTarget},movementX:function(G){return"movementX"in G?G.movementX:(G!==so&&(so&&G.type==="mousemove"?(Yr=G.screenX-so.screenX,gi=G.screenY-so.screenY):gi=Yr=0,so=G),Yr)},movementY:function(G){return"movementY"in G?G.movementY:gi}}),ms=Wa(yo),jo=T({},yo,{dataTransfer:0}),qi=Wa(jo),Po=T({},Yo,{relatedTarget:0}),vo=Wa(Po),$a=T({},Bo,{animationName:0,elapsedTime:0,pseudoElement:0}),ga=Wa($a),Da=T({},Bo,{clipboardData:function(G){return"clipboardData"in G?G.clipboardData:window.clipboardData}}),Za=Wa(Da),Ne=T({},Bo,{data:0}),at=Wa(Ne),mt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},At={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function br(G){var X=this.nativeEvent;return X.getModifierState?X.getModifierState(G):(G=Qt[G])?!!X[G]:!1}function or(){return br}var vr=T({},Yo,{key:function(G){if(G.key){var X=mt[G.key]||G.key;if(X!=="Unidentified")return X}return G.type==="keypress"?(G=Uo(G),G===13?"Enter":String.fromCharCode(G)):G.type==="keydown"||G.type==="keyup"?At[G.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:or,charCode:function(G){return G.type==="keypress"?Uo(G):0},keyCode:function(G){return G.type==="keydown"||G.type==="keyup"?G.keyCode:0},which:function(G){return G.type==="keypress"?Uo(G):G.type==="keydown"||G.type==="keyup"?G.keyCode:0}}),Hr=Wa(vr),Fr=T({},yo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Nn=Wa(Fr),Wn=T({},Yo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:or}),ui=Wa(Wn),pi=T({},Bo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Kn=Wa(pi),Li=T({},yo,{deltaX:function(G){return"deltaX"in G?G.deltaX:"wheelDeltaX"in G?-G.wheelDeltaX:0},deltaY:function(G){return"deltaY"in G?G.deltaY:"wheelDeltaY"in G?-G.wheelDeltaY:"wheelDelta"in G?-G.wheelDelta:0},deltaZ:0,deltaMode:0}),We=Wa(Li),nt=T({},Bo,{newState:0,oldState:0}),ft=Wa(nt),Rt=[9,13,27,32],Lt=la&&"CompositionEvent"in window,Ut=null;la&&"documentMode"in document&&(Ut=document.documentMode);var rr=la&&"TextEvent"in window&&!Ut,qt=la&&(!Lt||Ut&&8<Ut&&11>=Ut),Tr=" ",Lr=!1;function zr(G,X){switch(G){case"keyup":return Rt.indexOf(X.keyCode)!==-1;case"keydown":return X.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rn(G){return G=G.detail,typeof G=="object"&&"data"in G?G.data:null}var mn=!1;function on(G,X){switch(G){case"compositionend":return rn(X);case"keypress":return X.which!==32?null:(Lr=!0,Tr);case"textInput":return G=X.data,G===Tr&&Lr?null:G;default:return null}}function Cn(G,X){if(mn)return G==="compositionend"||!Lt&&zr(G,X)?(G=Xa(),ea=za=Ri=null,mn=!1,G):null;switch(G){case"paste":return null;case"keypress":if(!(X.ctrlKey||X.altKey||X.metaKey)||X.ctrlKey&&X.altKey){if(X.char&&1<X.char.length)return X.char;if(X.which)return String.fromCharCode(X.which)}return null;case"compositionend":return qt&&X.locale!=="ko"?null:X.data;default:return null}}var dn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $n(G){var X=G&&G.nodeName&&G.nodeName.toLowerCase();return X==="input"?!!dn[G.type]:X==="textarea"}function Rn(G,X,ae,xe){Ur?Pr?Pr.push(xe):Pr=[xe]:Ur=xe,X=_c(X,"onChange"),0<X.length&&(ae=new Zo("onChange","change",null,ae,xe),G.push({event:ae,listeners:X}))}var ni=null,_i=null;function di(G){Wp(G,0)}function Pi(G){var X=qn(G);if(pa(X))return G}function Ki(G,X){if(G==="change")return X}var eo=!1;if(la){var La;if(la){var Pa="oninput"in document;if(!Pa){var Go=document.createElement("div");Go.setAttribute("oninput","return;"),Pa=typeof Go.oninput=="function"}La=Pa}else La=!1;eo=La&&(!document.documentMode||9<document.documentMode)}function Qi(){ni&&(ni.detachEvent("onpropertychange",_s),_i=ni=null)}function _s(G){if(G.propertyName==="value"&&Pi(_i)){var X=[];Rn(X,_i,G,Sr(G)),Ni(di,X)}}function zo(G,X,ae){G==="focusin"?(Qi(),ni=X,_i=ae,ni.attachEvent("onpropertychange",_s)):G==="focusout"&&Qi()}function Bu(G){if(G==="selectionchange"||G==="keyup"||G==="keydown")return Pi(_i)}function St(G,X){if(G==="click")return Pi(X)}function xt(G,X){if(G==="input"||G==="change")return Pi(X)}function Ht(G,X){return G===X&&(G!==0||1/G===1/X)||G!==G&&X!==X}var hr=typeof Object.is=="function"?Object.is:Ht;function Kr(G,X){if(hr(G,X))return!0;if(typeof G!="object"||G===null||typeof X!="object"||X===null)return!1;var ae=Object.keys(G),xe=Object.keys(X);if(ae.length!==xe.length)return!1;for(xe=0;xe<ae.length;xe++){var Ye=ae[xe];if(!et.call(X,Ye)||!hr(G[Ye],X[Ye]))return!1}return!0}function Sn(G){for(;G&&G.firstChild;)G=G.firstChild;return G}function Xn(G,X){var ae=Sn(G);G=0;for(var xe;ae;){if(ae.nodeType===3){if(xe=G+ae.textContent.length,G<=X&&xe>=X)return{node:ae,offset:X-G};G=xe}e:{for(;ae;){if(ae.nextSibling){ae=ae.nextSibling;break e}ae=ae.parentNode}ae=void 0}ae=Sn(ae)}}function hi(G,X){return G&&X?G===X?!0:G&&G.nodeType===3?!1:X&&X.nodeType===3?hi(G,X.parentNode):"contains"in G?G.contains(X):G.compareDocumentPosition?!!(G.compareDocumentPosition(X)&16):!1:!1}function Di(G){G=G!=null&&G.ownerDocument!=null&&G.ownerDocument.defaultView!=null?G.ownerDocument.defaultView:window;for(var X=Va(G.document);X instanceof G.HTMLIFrameElement;){try{var ae=typeof X.contentWindow.location.href=="string"}catch{ae=!1}if(ae)G=X.contentWindow;else break;X=Va(G.document)}return X}function ki(G){var X=G&&G.nodeName&&G.nodeName.toLowerCase();return X&&(X==="input"&&(G.type==="text"||G.type==="search"||G.type==="tel"||G.type==="url"||G.type==="password")||X==="textarea"||G.contentEditable==="true")}var na=la&&"documentMode"in document&&11>=document.documentMode,Xi=null,Ia=null,uo=null,xo=!1;function os(G,X,ae){var xe=ae.window===ae?ae.document:ae.nodeType===9?ae:ae.ownerDocument;xo||Xi==null||Xi!==Va(xe)||(xe=Xi,"selectionStart"in xe&&ki(xe)?xe={start:xe.selectionStart,end:xe.selectionEnd}:(xe=(xe.ownerDocument&&xe.ownerDocument.defaultView||window).getSelection(),xe={anchorNode:xe.anchorNode,anchorOffset:xe.anchorOffset,focusNode:xe.focusNode,focusOffset:xe.focusOffset}),uo&&Kr(uo,xe)||(uo=xe,xe=_c(Ia,"onSelect"),0<xe.length&&(X=new Zo("onSelect","select",null,X,ae),G.push({event:X,listeners:xe}),X.target=Xi)))}function mo(G,X){var ae={};return ae[G.toLowerCase()]=X.toLowerCase(),ae["Webkit"+G]="webkit"+X,ae["Moz"+G]="moz"+X,ae}var Wo={animationend:mo("Animation","AnimationEnd"),animationiteration:mo("Animation","AnimationIteration"),animationstart:mo("Animation","AnimationStart"),transitionrun:mo("Transition","TransitionRun"),transitionstart:mo("Transition","TransitionStart"),transitioncancel:mo("Transition","TransitionCancel"),transitionend:mo("Transition","TransitionEnd")},Ao={},ii={};la&&(ii=document.createElement("div").style,"AnimationEvent"in window||(delete Wo.animationend.animation,delete Wo.animationiteration.animation,delete Wo.animationstart.animation),"TransitionEvent"in window||delete Wo.transitionend.transition);function er(G){if(Ao[G])return Ao[G];if(!Wo[G])return G;var X=Wo[G],ae;for(ae in X)if(X.hasOwnProperty(ae)&&ae in ii)return Ao[G]=X[ae];return G}var kr=er("animationend"),xn=er("animationiteration"),Ln=er("animationstart"),Gn=er("transitionrun"),Jn=er("transitionstart"),bi=er("transitioncancel"),oa=er("transitionend"),bo=new Map,Aa="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Aa.push("scrollEnd");function Ya(G,X){bo.set(G,X),_a(X,[G])}var js=typeof reportError=="function"?reportError:function(G){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof G=="object"&&G!==null&&typeof G.message=="string"?String(G.message):String(G),error:G});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",G);return}console.error(G)},ss=[],Ko=0,$s=0;function Gs(){for(var G=Ko,X=$s=Ko=0;X<G;){var ae=ss[X];ss[X++]=null;var xe=ss[X];ss[X++]=null;var Ye=ss[X];ss[X++]=null;var ot=ss[X];if(ss[X++]=null,xe!==null&&Ye!==null){var Pt=xe.pending;Pt===null?Ye.next=Ye:(Ye.next=Pt.next,Pt.next=Ye),xe.pending=Ye}ot!==0&&Mo(ae,Ye,ot)}}function Ds(G,X,ae,xe){ss[Ko++]=G,ss[Ko++]=X,ss[Ko++]=ae,ss[Ko++]=xe,$s|=xe,G.lanes|=xe,G=G.alternate,G!==null&&(G.lanes|=xe)}function Pu(G,X,ae,xe){return Ds(G,X,ae,xe),Eo(G)}function us(G,X){return Ds(G,null,null,X),Eo(G)}function Mo(G,X,ae){G.lanes|=ae;var xe=G.alternate;xe!==null&&(xe.lanes|=ae);for(var Ye=!1,ot=G.return;ot!==null;)ot.childLanes|=ae,xe=ot.alternate,xe!==null&&(xe.childLanes|=ae),ot.tag===22&&(G=ot.stateNode,G===null||G._visibility&1||(Ye=!0)),G=ot,ot=ot.return;return G.tag===3?(ot=G.stateNode,Ye&&X!==null&&(Ye=31-ai(ae),G=ot.hiddenUpdates,xe=G[Ye],xe===null?G[Ye]=[X]:xe.push(X),X.lane=ae|536870912),ot):null}function Eo(G){if(50<Ll)throw Ll=0,gf=null,Error(b(185));for(var X=G.return;X!==null;)G=X,X=G.return;return G.tag===3?G.stateNode:null}var Rs={};function hs(G,X,ae,xe){this.tag=G,this.key=ae,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=X,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=xe,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oi(G,X,ae,xe){return new hs(G,X,ae,xe)}function Ks(G){return G=G.prototype,!(!G||!G.isReactComponent)}function ls(G,X){var ae=G.alternate;return ae===null?(ae=Oi(G.tag,X,G.key,G.mode),ae.elementType=G.elementType,ae.type=G.type,ae.stateNode=G.stateNode,ae.alternate=G,G.alternate=ae):(ae.pendingProps=X,ae.type=G.type,ae.flags=0,ae.subtreeFlags=0,ae.deletions=null),ae.flags=G.flags&65011712,ae.childLanes=G.childLanes,ae.lanes=G.lanes,ae.child=G.child,ae.memoizedProps=G.memoizedProps,ae.memoizedState=G.memoizedState,ae.updateQueue=G.updateQueue,X=G.dependencies,ae.dependencies=X===null?null:{lanes:X.lanes,firstContext:X.firstContext},ae.sibling=G.sibling,ae.index=G.index,ae.ref=G.ref,ae.refCleanup=G.refCleanup,ae}function gs(G,X){G.flags&=65011714;var ae=G.alternate;return ae===null?(G.childLanes=0,G.lanes=X,G.child=null,G.subtreeFlags=0,G.memoizedProps=null,G.memoizedState=null,G.updateQueue=null,G.dependencies=null,G.stateNode=null):(G.childLanes=ae.childLanes,G.lanes=ae.lanes,G.child=ae.child,G.subtreeFlags=0,G.deletions=null,G.memoizedProps=ae.memoizedProps,G.memoizedState=ae.memoizedState,G.updateQueue=ae.updateQueue,G.type=ae.type,X=ae.dependencies,G.dependencies=X===null?null:{lanes:X.lanes,firstContext:X.firstContext}),G}function to(G,X,ae,xe,Ye,ot){var Pt=0;if(xe=G,typeof G=="function")Ks(G)&&(Pt=1);else if(typeof G=="string")Pt=T0(G,ae,Bt.current)?26:G==="html"||G==="head"||G==="body"?27:5;else e:switch(G){case _e:return G=Oi(31,ae,X,Ye),G.elementType=_e,G.lanes=ot,G;case J:return Bs(ae.children,Ye,ot,X);case te:Pt=8,Ye|=24;break;case oe:return G=Oi(12,ae,X,Ye|2),G.elementType=oe,G.lanes=ot,G;case Ge:return G=Oi(13,ae,X,Ye),G.elementType=Ge,G.lanes=ot,G;case ze:return G=Oi(19,ae,X,Ye),G.elementType=ze,G.lanes=ot,G;default:if(typeof G=="object"&&G!==null)switch(G.$$typeof){case fe:Pt=10;break e;case ue:Pt=9;break e;case Le:Pt=11;break e;case je:Pt=14;break e;case Be:Pt=16,xe=null;break e}Pt=29,ae=Error(b(130,G===null?"null":typeof G,"")),xe=null}return X=Oi(Pt,ae,X,Ye),X.elementType=G,X.type=xe,X.lanes=ot,X}function Bs(G,X,ae,xe){return G=Oi(7,G,xe,X),G.lanes=ae,G}function qo(G,X,ae){return G=Oi(6,G,null,X),G.lanes=ae,G}function Qo(G){var X=Oi(18,null,null,0);return X.stateNode=G,X}function Ts(G,X,ae){return X=Oi(4,G.children!==null?G.children:[],G.key,X),X.lanes=ae,X.stateNode={containerInfo:G.containerInfo,pendingChildren:null,implementation:G.implementation},X}var ee=new WeakMap;function ye(G,X){if(typeof G=="object"&&G!==null){var ae=ee.get(G);return ae!==void 0?ae:(X={value:G,source:X,stack:Jt(X)},ee.set(G,X),X)}return{value:G,source:X,stack:Jt(X)}}var Xe=[],lt=0,Nt=null,sr=0,Br=[],sn=0,En=null,Un=1,li="";function Ai(G,X){Xe[lt++]=sr,Xe[lt++]=Nt,Nt=G,sr=X}function Ji(G,X,ae){Br[sn++]=Un,Br[sn++]=li,Br[sn++]=En,En=G;var xe=Un;G=li;var Ye=32-ai(xe)-1;xe&=~(1<<Ye),ae+=1;var ot=32-ai(X)+Ye;if(30<ot){var Pt=Ye-Ye%5;ot=(xe&(1<<Pt)-1).toString(32),xe>>=Pt,Ye-=Pt,Un=1<<32-ai(X)+Ye|ae<<Ye|xe,li=ot+G}else Un=1<<ot|ae<<Ye|xe,li=G}function Lo(G){G.return!==null&&(Ai(G,1),Ji(G,1,0))}function fo(G){for(;G===Nt;)Nt=Xe[--lt],Xe[lt]=null,sr=Xe[--lt],Xe[lt]=null;for(;G===En;)En=Br[--sn],Br[sn]=null,li=Br[--sn],Br[sn]=null,Un=Br[--sn],Br[sn]=null}function Ho(G,X){Br[sn++]=Un,Br[sn++]=li,Br[sn++]=En,Un=X.id,li=X.overflow,En=G}var ta=null,da=null,ia=!1,ps=null,rs=!1,zs=Error(b(519));function Ps(G){var X=Error(b(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw eu(ye(X,G)),zs}function Iu(G){var X=G.stateNode,ae=G.type,xe=G.memoizedProps;switch(X[pr]=G,X[gr]=xe,ae){case"dialog":va("cancel",X),va("close",X);break;case"iframe":case"object":case"embed":va("load",X);break;case"video":case"audio":for(ae=0;ae<Ol.length;ae++)va(Ol[ae],X);break;case"source":va("error",X);break;case"img":case"image":case"link":va("error",X),va("load",X);break;case"details":va("toggle",X);break;case"input":va("invalid",X),Ro(X,xe.value,xe.defaultValue,xe.checked,xe.defaultChecked,xe.type,xe.name,!0);break;case"select":va("invalid",X);break;case"textarea":va("invalid",X),Qa(X,xe.value,xe.defaultValue,xe.children)}ae=xe.children,typeof ae!="string"&&typeof ae!="number"&&typeof ae!="bigint"||X.textContent===""+ae||xe.suppressHydrationWarning===!0||Xp(X.textContent,ae)?(xe.popover!=null&&(va("beforetoggle",X),va("toggle",X)),xe.onScroll!=null&&va("scroll",X),xe.onScrollEnd!=null&&va("scrollend",X),xe.onClick!=null&&(X.onclick=kt),X=!0):X=!1,X||Ps(G,!0)}function ro(G){for(ta=G.return;ta;)switch(ta.tag){case 5:case 31:case 13:rs=!1;return;case 27:case 3:rs=!0;return;default:ta=ta.return}}function ys(G){if(G!==ta)return!1;if(!ia)return ro(G),ia=!0,!1;var X=G.tag,ae;if((ae=X!==3&&X!==27)&&((ae=X===5)&&(ae=G.type,ae=!(ae!=="form"&&ae!=="button")||Nf(G.type,G.memoizedProps)),ae=!ae),ae&&da&&Ps(G),ro(G),X===13){if(G=G.memoizedState,G=G!==null?G.dehydrated:null,!G)throw Error(b(317));da=rd(G)}else if(X===31){if(G=G.memoizedState,G=G!==null?G.dehydrated:null,!G)throw Error(b(317));da=rd(G)}else X===27?(X=da,Lu(G.type)?(G=If,If=null,da=G):da=X):da=ta?Fs(G.stateNode.nextSibling):null;return!0}function Ws(){da=ta=null,ia=!1}function cs(){var G=ps;return G!==null&&(Es===null?Es=G:Es.push.apply(Es,G),ps=null),G}function eu(G){ps===null?ps=[G]:ps.push(G)}var Is=dt(null),Cs=null,Ss=null;function qs(G,X,ae){Gt(Is,X._currentValue),X._currentValue=ae}function Hs(G){G._currentValue=Is.current,yt(Is)}function Hu(G,X,ae){for(;G!==null;){var xe=G.alternate;if((G.childLanes&X)!==X?(G.childLanes|=X,xe!==null&&(xe.childLanes|=X)):xe!==null&&(xe.childLanes&X)!==X&&(xe.childLanes|=X),G===ae)break;G=G.return}}function pl(G,X,ae,xe){var Ye=G.child;for(Ye!==null&&(Ye.return=G);Ye!==null;){var ot=Ye.dependencies;if(ot!==null){var Pt=Ye.child;ot=ot.firstContext;e:for(;ot!==null;){var dr=ot;ot=Ye;for(var jr=0;jr<X.length;jr++)if(dr.context===X[jr]){ot.lanes|=ae,dr=ot.alternate,dr!==null&&(dr.lanes|=ae),Hu(ot.return,ae,G),xe||(Pt=null);break e}ot=dr.next}}else if(Ye.tag===18){if(Pt=Ye.return,Pt===null)throw Error(b(341));Pt.lanes|=ae,ot=Pt.alternate,ot!==null&&(ot.lanes|=ae),Hu(Pt,ae,G),Pt=null}else Pt=Ye.child;if(Pt!==null)Pt.return=Ye;else for(Pt=Ye;Pt!==null;){if(Pt===G){Pt=null;break}if(Ye=Pt.sibling,Ye!==null){Ye.return=Pt.return,Pt=Ye;break}Pt=Pt.return}Ye=Pt}}function _u(G,X,ae,xe){G=null;for(var Ye=X,ot=!1;Ye!==null;){if(!ot){if((Ye.flags&524288)!==0)ot=!0;else if((Ye.flags&262144)!==0)break}if(Ye.tag===10){var Pt=Ye.alternate;if(Pt===null)throw Error(b(387));if(Pt=Pt.memoizedProps,Pt!==null){var dr=Ye.type;hr(Ye.pendingProps.value,Pt.value)||(G!==null?G.push(dr):G=[dr])}}else if(Ye===It.current){if(Pt=Ye.alternate,Pt===null)throw Error(b(387));Pt.memoizedState.memoizedState!==Ye.memoizedState.memoizedState&&(G!==null?G.push(Pl):G=[Pl])}Ye=Ye.return}G!==null&&pl(X,G,ae,xe),X.flags|=262144}function Vu(G){for(G=G.firstContext;G!==null;){if(!hr(G.context._currentValue,G.memoizedValue))return!0;G=G.next}return!1}function As(G){Cs=G,Ss=null,G=G.dependencies,G!==null&&(G.firstContext=null)}function wo(G){return Gl(Cs,G)}function Xu(G,X){return Cs===null&&As(G),Gl(G,X)}function Gl(G,X){var ae=X._currentValue;if(X={context:X,memoizedValue:ae,next:null},Ss===null){if(G===null)throw Error(b(308));Ss=X,G.dependencies={lanes:0,firstContext:X},G.flags|=524288}else Ss=Ss.next=X;return ae}var Zu=typeof AbortController<"u"?AbortController:function(){var G=[],X=this.signal={aborted:!1,addEventListener:function(ae,xe){G.push(xe)}};this.abort=function(){X.aborted=!0,G.forEach(function(ae){return ae()})}},Yu=y.unstable_scheduleCallback,zl=y.unstable_NormalPriority,To={$$typeof:fe,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function dl(){return{controller:new Zu,data:new Map,refCount:0}}function gu(G){G.refCount--,G.refCount===0&&Yu(zl,function(){G.controller.abort()})}var yu=null,ml=0,vu=0,tu=null;function Nc(G,X){if(yu===null){var ae=yu=[];ml=0,vu=wf(),tu={status:"pending",value:void 0,then:function(xe){ae.push(xe)}}}return ml++,X.then(Wl,Wl),X}function Wl(){if(--ml===0&&yu!==null){tu!==null&&(tu.status="fulfilled");var G=yu;yu=null,vu=0,tu=null;for(var X=0;X<G.length;X++)(0,G[X])()}}function Dc(G,X){var ae=[],xe={status:"pending",value:null,reason:null,then:function(Ye){ae.push(Ye)}};return G.then(function(){xe.status="fulfilled",xe.value=X;for(var Ye=0;Ye<ae.length;Ye++)(0,ae[Ye])(X)},function(Ye){for(xe.status="rejected",xe.reason=Ye,Ye=0;Ye<ae.length;Ye++)(0,ae[Ye])(void 0)}),xe}var ql=pt.S;pt.S=function(G,X){gp=Cr(),typeof X=="object"&&X!==null&&typeof X.then=="function"&&Nc(G,X),ql!==null&&ql(G,X)};var ru=dt(null);function _l(){var G=ru.current;return G!==null?G:Ka.pooledCache}function Fu(G,X){X===null?Gt(ru,ru.current):Gt(ru,X.pool)}function nu(){var G=_l();return G===null?null:{parent:To._currentValue,pool:G}}var Vs=Error(b(460)),gl=Error(b(474)),Ku=Error(b(542)),Qu={then:function(){}};function ko(G){return G=G.status,G==="fulfilled"||G==="rejected"}function Xs(G,X,ae){switch(ae=G[ae],ae===void 0?G.push(X):ae!==X&&(X.then(kt,kt),X=ae),X.status){case"fulfilled":return X.value;case"rejected":throw G=X.reason,Hl(G),G;default:if(typeof X.status=="string")X.then(kt,kt);else{if(G=Ka,G!==null&&100<G.shellSuspendCounter)throw Error(b(482));G=X,G.status="pending",G.then(function(xe){if(X.status==="pending"){var Ye=X;Ye.status="fulfilled",Ye.value=xe}},function(xe){if(X.status==="pending"){var Ye=X;Ye.status="rejected",Ye.reason=xe}})}switch(X.status){case"fulfilled":return X.value;case"rejected":throw G=X.reason,Hl(G),G}throw au=X,Vs}}function iu(G){try{var X=G._init;return X(G._payload)}catch(ae){throw ae!==null&&typeof ae=="object"&&typeof ae.then=="function"?(au=ae,Vs):ae}}var au=null;function Ju(){if(au===null)throw Error(b(459));var G=au;return au=null,G}function Hl(G){if(G===Vs||G===Ku)throw Error(b(483))}var xu=null,Uu=0;function ne(G){var X=Uu;return Uu+=1,xu===null&&(xu=[]),Xs(xu,G,X)}function pe(G,X){X=X.props.ref,G.ref=X!==void 0?X:null}function Ue(G,X){throw X.$$typeof===U?Error(b(525)):(G=Object.prototype.toString.call(X),Error(b(31,G==="[object Object]"?"object with keys {"+Object.keys(X).join(", ")+"}":G)))}function qe(G){function X(ln,Jr){if(G){var gn=ln.deletions;gn===null?(ln.deletions=[Jr],ln.flags|=16):gn.push(Jr)}}function ae(ln,Jr){if(!G)return null;for(;Jr!==null;)X(ln,Jr),Jr=Jr.sibling;return null}function xe(ln){for(var Jr=new Map;ln!==null;)ln.key!==null?Jr.set(ln.key,ln):Jr.set(ln.index,ln),ln=ln.sibling;return Jr}function Ye(ln,Jr){return ln=ls(ln,Jr),ln.index=0,ln.sibling=null,ln}function ot(ln,Jr,gn){return ln.index=gn,G?(gn=ln.alternate,gn!==null?(gn=gn.index,gn<Jr?(ln.flags|=67108866,Jr):gn):(ln.flags|=67108866,Jr)):(ln.flags|=1048576,Jr)}function Pt(ln){return G&&ln.alternate===null&&(ln.flags|=67108866),ln}function dr(ln,Jr,gn,jn){return Jr===null||Jr.tag!==6?(Jr=qo(gn,ln.mode,jn),Jr.return=ln,Jr):(Jr=Ye(Jr,gn),Jr.return=ln,Jr)}function jr(ln,Jr,gn,jn){var Fi=gn.type;return Fi===J?Pn(ln,Jr,gn.props.children,jn,gn.key):Jr!==null&&(Jr.elementType===Fi||typeof Fi=="object"&&Fi!==null&&Fi.$$typeof===Be&&iu(Fi)===Jr.type)?(Jr=Ye(Jr,gn.props),pe(Jr,gn),Jr.return=ln,Jr):(Jr=to(gn.type,gn.key,gn.props,null,ln.mode,jn),pe(Jr,gn),Jr.return=ln,Jr)}function yn(ln,Jr,gn,jn){return Jr===null||Jr.tag!==4||Jr.stateNode.containerInfo!==gn.containerInfo||Jr.stateNode.implementation!==gn.implementation?(Jr=Ts(gn,ln.mode,jn),Jr.return=ln,Jr):(Jr=Ye(Jr,gn.children||[]),Jr.return=ln,Jr)}function Pn(ln,Jr,gn,jn,Fi){return Jr===null||Jr.tag!==7?(Jr=Bs(gn,ln.mode,jn,Fi),Jr.return=ln,Jr):(Jr=Ye(Jr,gn),Jr.return=ln,Jr)}function Hn(ln,Jr,gn){if(typeof Jr=="string"&&Jr!==""||typeof Jr=="number"||typeof Jr=="bigint")return Jr=qo(""+Jr,ln.mode,gn),Jr.return=ln,Jr;if(typeof Jr=="object"&&Jr!==null){switch(Jr.$$typeof){case q:return gn=to(Jr.type,Jr.key,Jr.props,null,ln.mode,gn),pe(gn,Jr),gn.return=ln,gn;case K:return Jr=Ts(Jr,ln.mode,gn),Jr.return=ln,Jr;case Be:return Jr=iu(Jr),Hn(ln,Jr,gn)}if(vt(Jr)||Ke(Jr))return Jr=Bs(Jr,ln.mode,gn,null),Jr.return=ln,Jr;if(typeof Jr.then=="function")return Hn(ln,ne(Jr),gn);if(Jr.$$typeof===fe)return Hn(ln,Xu(ln,Jr),gn);Ue(ln,Jr)}return null}function Tn(ln,Jr,gn,jn){var Fi=Jr!==null?Jr.key:null;if(typeof gn=="string"&&gn!==""||typeof gn=="number"||typeof gn=="bigint")return Fi!==null?null:dr(ln,Jr,""+gn,jn);if(typeof gn=="object"&&gn!==null){switch(gn.$$typeof){case q:return gn.key===Fi?jr(ln,Jr,gn,jn):null;case K:return gn.key===Fi?yn(ln,Jr,gn,jn):null;case Be:return gn=iu(gn),Tn(ln,Jr,gn,jn)}if(vt(gn)||Ke(gn))return Fi!==null?null:Pn(ln,Jr,gn,jn,null);if(typeof gn.then=="function")return Tn(ln,Jr,ne(gn),jn);if(gn.$$typeof===fe)return Tn(ln,Jr,Xu(ln,gn),jn);Ue(ln,gn)}return null}function An(ln,Jr,gn,jn,Fi){if(typeof jn=="string"&&jn!==""||typeof jn=="number"||typeof jn=="bigint")return ln=ln.get(gn)||null,dr(Jr,ln,""+jn,Fi);if(typeof jn=="object"&&jn!==null){switch(jn.$$typeof){case q:return ln=ln.get(jn.key===null?gn:jn.key)||null,jr(Jr,ln,jn,Fi);case K:return ln=ln.get(jn.key===null?gn:jn.key)||null,yn(Jr,ln,jn,Fi);case Be:return jn=iu(jn),An(ln,Jr,gn,jn,Fi)}if(vt(jn)||Ke(jn))return ln=ln.get(gn)||null,Pn(Jr,ln,jn,Fi,null);if(typeof jn.then=="function")return An(ln,Jr,gn,ne(jn),Fi);if(jn.$$typeof===fe)return An(ln,Jr,gn,Xu(Jr,jn),Fi);Ue(Jr,jn)}return null}function Ti(ln,Jr,gn,jn){for(var Fi=null,ka=null,Mi=Jr,aa=Jr=0,ba=null;Mi!==null&&aa<gn.length;aa++){Mi.index>aa?(ba=Mi,Mi=null):ba=Mi.sibling;var Oa=Tn(ln,Mi,gn[aa],jn);if(Oa===null){Mi===null&&(Mi=ba);break}G&&Mi&&Oa.alternate===null&&X(ln,Mi),Jr=ot(Oa,Jr,aa),ka===null?Fi=Oa:ka.sibling=Oa,ka=Oa,Mi=ba}if(aa===gn.length)return ae(ln,Mi),ia&&Ai(ln,aa),Fi;if(Mi===null){for(;aa<gn.length;aa++)Mi=Hn(ln,gn[aa],jn),Mi!==null&&(Jr=ot(Mi,Jr,aa),ka===null?Fi=Mi:ka.sibling=Mi,ka=Mi);return ia&&Ai(ln,aa),Fi}for(Mi=xe(Mi);aa<gn.length;aa++)ba=An(Mi,ln,aa,gn[aa],jn),ba!==null&&(G&&ba.alternate!==null&&Mi.delete(ba.key===null?aa:ba.key),Jr=ot(ba,Jr,aa),ka===null?Fi=ba:ka.sibling=ba,ka=ba);return G&&Mi.forEach(function(Ru){return X(ln,Ru)}),ia&&Ai(ln,aa),Fi}function ji(ln,Jr,gn,jn){if(gn==null)throw Error(b(151));for(var Fi=null,ka=null,Mi=Jr,aa=Jr=0,ba=null,Oa=gn.next();Mi!==null&&!Oa.done;aa++,Oa=gn.next()){Mi.index>aa?(ba=Mi,Mi=null):ba=Mi.sibling;var Ru=Tn(ln,Mi,Oa.value,jn);if(Ru===null){Mi===null&&(Mi=ba);break}G&&Mi&&Ru.alternate===null&&X(ln,Mi),Jr=ot(Ru,Jr,aa),ka===null?Fi=Ru:ka.sibling=Ru,ka=Ru,Mi=ba}if(Oa.done)return ae(ln,Mi),ia&&Ai(ln,aa),Fi;if(Mi===null){for(;!Oa.done;aa++,Oa=gn.next())Oa=Hn(ln,Oa.value,jn),Oa!==null&&(Jr=ot(Oa,Jr,aa),ka===null?Fi=Oa:ka.sibling=Oa,ka=Oa);return ia&&Ai(ln,aa),Fi}for(Mi=xe(Mi);!Oa.done;aa++,Oa=gn.next())Oa=An(Mi,ln,aa,Oa.value,jn),Oa!==null&&(G&&Oa.alternate!==null&&Mi.delete(Oa.key===null?aa:Oa.key),Jr=ot(Oa,Jr,aa),ka===null?Fi=Oa:ka.sibling=Oa,ka=Oa);return G&&Mi.forEach(function(B0){return X(ln,B0)}),ia&&Ai(ln,aa),Fi}function Ha(ln,Jr,gn,jn){if(typeof gn=="object"&&gn!==null&&gn.type===J&&gn.key===null&&(gn=gn.props.children),typeof gn=="object"&&gn!==null){switch(gn.$$typeof){case q:e:{for(var Fi=gn.key;Jr!==null;){if(Jr.key===Fi){if(Fi=gn.type,Fi===J){if(Jr.tag===7){ae(ln,Jr.sibling),jn=Ye(Jr,gn.props.children),jn.return=ln,ln=jn;break e}}else if(Jr.elementType===Fi||typeof Fi=="object"&&Fi!==null&&Fi.$$typeof===Be&&iu(Fi)===Jr.type){ae(ln,Jr.sibling),jn=Ye(Jr,gn.props),pe(jn,gn),jn.return=ln,ln=jn;break e}ae(ln,Jr);break}else X(ln,Jr);Jr=Jr.sibling}gn.type===J?(jn=Bs(gn.props.children,ln.mode,jn,gn.key),jn.return=ln,ln=jn):(jn=to(gn.type,gn.key,gn.props,null,ln.mode,jn),pe(jn,gn),jn.return=ln,ln=jn)}return Pt(ln);case K:e:{for(Fi=gn.key;Jr!==null;){if(Jr.key===Fi)if(Jr.tag===4&&Jr.stateNode.containerInfo===gn.containerInfo&&Jr.stateNode.implementation===gn.implementation){ae(ln,Jr.sibling),jn=Ye(Jr,gn.children||[]),jn.return=ln,ln=jn;break e}else{ae(ln,Jr);break}else X(ln,Jr);Jr=Jr.sibling}jn=Ts(gn,ln.mode,jn),jn.return=ln,ln=jn}return Pt(ln);case Be:return gn=iu(gn),Ha(ln,Jr,gn,jn)}if(vt(gn))return Ti(ln,Jr,gn,jn);if(Ke(gn)){if(Fi=Ke(gn),typeof Fi!="function")throw Error(b(150));return gn=Fi.call(gn),ji(ln,Jr,gn,jn)}if(typeof gn.then=="function")return Ha(ln,Jr,ne(gn),jn);if(gn.$$typeof===fe)return Ha(ln,Jr,Xu(ln,gn),jn);Ue(ln,gn)}return typeof gn=="string"&&gn!==""||typeof gn=="number"||typeof gn=="bigint"?(gn=""+gn,Jr!==null&&Jr.tag===6?(ae(ln,Jr.sibling),jn=Ye(Jr,gn),jn.return=ln,ln=jn):(ae(ln,Jr),jn=qo(gn,ln.mode,jn),jn.return=ln,ln=jn),Pt(ln)):ae(ln,Jr)}return function(ln,Jr,gn,jn){try{Uu=0;var Fi=Ha(ln,Jr,gn,jn);return xu=null,Fi}catch(Mi){if(Mi===Vs||Mi===Ku)throw Mi;var ka=Oi(29,Mi,null,ln.mode);return ka.lanes=jn,ka.return=ln,ka}finally{}}}var $e=qe(!0),ht=qe(!1),Tt=!1;function Ot(G){G.updateQueue={baseState:G.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Kt(G,X){G=G.updateQueue,X.updateQueue===G&&(X.updateQueue={baseState:G.baseState,firstBaseUpdate:G.firstBaseUpdate,lastBaseUpdate:G.lastBaseUpdate,shared:G.shared,callbacks:null})}function ir(G){return{lane:G,tag:0,payload:null,callback:null,next:null}}function Rr(G,X,ae){var xe=G.updateQueue;if(xe===null)return null;if(xe=xe.shared,(Ra&2)!==0){var Ye=xe.pending;return Ye===null?X.next=X:(X.next=Ye.next,Ye.next=X),xe.pending=X,X=Eo(G),Mo(G,null,ae),X}return Ds(G,xe,X,ae),Eo(G)}function Mr(G,X,ae){if(X=X.updateQueue,X!==null&&(X=X.shared,(ae&4194048)!==0)){var xe=X.lanes;xe&=G.pendingLanes,ae|=xe,X.lanes=ae,hn(G,ae)}}function pn(G,X){var ae=G.updateQueue,xe=G.alternate;if(xe!==null&&(xe=xe.updateQueue,ae===xe)){var Ye=null,ot=null;if(ae=ae.firstBaseUpdate,ae!==null){do{var Pt={lane:ae.lane,tag:ae.tag,payload:ae.payload,callback:null,next:null};ot===null?Ye=ot=Pt:ot=ot.next=Pt,ae=ae.next}while(ae!==null);ot===null?Ye=ot=X:ot=ot.next=X}else Ye=ot=X;ae={baseState:xe.baseState,firstBaseUpdate:Ye,lastBaseUpdate:ot,shared:xe.shared,callbacks:xe.callbacks},G.updateQueue=ae;return}G=ae.lastBaseUpdate,G===null?ae.firstBaseUpdate=X:G.next=X,ae.lastBaseUpdate=X}var bn=!1;function Zn(){if(bn){var G=tu;if(G!==null)throw G}}function ci(G,X,ae,xe){bn=!1;var Ye=G.updateQueue;Tt=!1;var ot=Ye.firstBaseUpdate,Pt=Ye.lastBaseUpdate,dr=Ye.shared.pending;if(dr!==null){Ye.shared.pending=null;var jr=dr,yn=jr.next;jr.next=null,Pt===null?ot=yn:Pt.next=yn,Pt=jr;var Pn=G.alternate;Pn!==null&&(Pn=Pn.updateQueue,dr=Pn.lastBaseUpdate,dr!==Pt&&(dr===null?Pn.firstBaseUpdate=yn:dr.next=yn,Pn.lastBaseUpdate=jr))}if(ot!==null){var Hn=Ye.baseState;Pt=0,Pn=yn=jr=null,dr=ot;do{var Tn=dr.lane&-536870913,An=Tn!==dr.lane;if(An?(xa&Tn)===Tn:(xe&Tn)===Tn){Tn!==0&&Tn===vu&&(bn=!0),Pn!==null&&(Pn=Pn.next={lane:0,tag:dr.tag,payload:dr.payload,callback:null,next:null});e:{var Ti=G,ji=dr;Tn=X;var Ha=ae;switch(ji.tag){case 1:if(Ti=ji.payload,typeof Ti=="function"){Hn=Ti.call(Ha,Hn,Tn);break e}Hn=Ti;break e;case 3:Ti.flags=Ti.flags&-65537|128;case 0:if(Ti=ji.payload,Tn=typeof Ti=="function"?Ti.call(Ha,Hn,Tn):Ti,Tn==null)break e;Hn=T({},Hn,Tn);break e;case 2:Tt=!0}}Tn=dr.callback,Tn!==null&&(G.flags|=64,An&&(G.flags|=8192),An=Ye.callbacks,An===null?Ye.callbacks=[Tn]:An.push(Tn))}else An={lane:Tn,tag:dr.tag,payload:dr.payload,callback:dr.callback,next:null},Pn===null?(yn=Pn=An,jr=Hn):Pn=Pn.next=An,Pt|=Tn;if(dr=dr.next,dr===null){if(dr=Ye.shared.pending,dr===null)break;An=dr,dr=An.next,An.next=null,Ye.lastBaseUpdate=An,Ye.shared.pending=null}}while(!0);Pn===null&&(jr=Hn),Ye.baseState=jr,Ye.firstBaseUpdate=yn,Ye.lastBaseUpdate=Pn,ot===null&&(Ye.shared.lanes=0),Tu|=Pt,G.lanes=Pt,G.memoizedState=Hn}}function xi(G,X){if(typeof G!="function")throw Error(b(191,G));G.call(X)}function ma(G,X){var ae=G.callbacks;if(ae!==null)for(G.callbacks=null,G=0;G<ae.length;G++)xi(ae[G],X)}var Or=dt(null),Wr=dt(0);function an(G,X){G=pu,Gt(Wr,G),Gt(Or,X),pu=G|X.baseLanes}function wn(){Gt(Wr,pu),Gt(Or,Or.current)}function un(){pu=Wr.current,yt(Or),yt(Wr)}var fn=dt(null),Vt=null;function cr(G){var X=G.alternate;Gt(Ir,Ir.current&1),Gt(fn,G),Vt===null&&(X===null||Or.current!==null||X.memoizedState!==null)&&(Vt=G)}function xr(G){Gt(Ir,Ir.current),Gt(fn,G),Vt===null&&(Vt=G)}function yr(G){G.tag===22?(Gt(Ir,Ir.current),Gt(fn,G),Vt===null&&(Vt=G)):wr()}function wr(){Gt(Ir,Ir.current),Gt(fn,fn.current)}function Er(G){yt(fn),Vt===G&&(Vt=null),yt(Ir)}var Ir=dt(0);function qr(G){for(var X=G;X!==null;){if(X.tag===13){var ae=X.memoizedState;if(ae!==null&&(ae=ae.dehydrated,ae===null||Bf(ae)||Pf(ae)))return X}else if(X.tag===19&&(X.memoizedProps.revealOrder==="forwards"||X.memoizedProps.revealOrder==="backwards"||X.memoizedProps.revealOrder==="unstable_legacy-backwards"||X.memoizedProps.revealOrder==="together")){if((X.flags&128)!==0)return X}else if(X.child!==null){X.child.return=X,X=X.child;continue}if(X===G)break;for(;X.sibling===null;){if(X.return===null||X.return===G)return null;X=X.return}X.sibling.return=X.return,X=X.sibling}return null}var Qr=0,Zr=null,en=null,On=null,mi=!1,yi=!1,Ci=!1,Ea=0,Ta=0,sa=null,Ba=0;function ca(){throw Error(b(321))}function bu(G,X){if(X===null)return!1;for(var ae=0;ae<X.length&&ae<G.length;ae++)if(!hr(G[ae],X[ae]))return!1;return!0}function ju(G,X,ae,xe,Ye,ot){return Qr=ot,Zr=X,X.memoizedState=null,X.updateQueue=null,X.lanes=0,pt.H=G===null||G.memoizedState===null?Mh:Hc,Ci=!1,ot=ae(xe,Ye),Ci=!1,yi&&(ot=Ms(X,ae,xe,Ye)),$u(G),ot}function $u(G){pt.H=xl;var X=en!==null&&en.next!==null;if(Qr=0,On=en=Zr=null,mi=!1,Ta=0,sa=null,X)throw Error(b(300));G===null||Io||(G=G.dependencies,G!==null&&Vu(G)&&(Io=!0))}function Ms(G,X,ae,xe){Zr=G;var Ye=0;do{if(yi&&(sa=null),Ta=0,yi=!1,25<=Ye)throw Error(b(301));if(Ye+=1,On=en=null,G.updateQueue!=null){var ot=G.updateQueue;ot.lastEffect=null,ot.events=null,ot.stores=null,ot.memoCache!=null&&(ot.memoCache.index=0)}pt.H=Lh,ot=X(ae,xe)}while(yi);return ot}function Gu(){var G=pt.H,X=G.useState()[0];return X=typeof X.then=="function"?yl(X):X,G=G.useState()[0],(en!==null?en.memoizedState:null)!==G&&(Zr.flags|=1024),X}function fs(){var G=Ea!==0;return Ea=0,G}function Vo(G,X,ae){X.updateQueue=G.updateQueue,X.flags&=-2053,G.lanes&=~ae}function no(G){if(mi){for(G=G.memoizedState;G!==null;){var X=G.queue;X!==null&&(X.pending=null),G=G.next}mi=!1}Qr=0,On=en=Zr=null,yi=!1,Ta=Ea=0,sa=null}function ds(){var G={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return On===null?Zr.memoizedState=On=G:On=On.next=G,On}function Oo(){if(en===null){var G=Zr.alternate;G=G!==null?G.memoizedState:null}else G=en.next;var X=On===null?Zr.memoizedState:On.next;if(X!==null)On=X,en=G;else{if(G===null)throw Zr.alternate===null?Error(b(467)):Error(b(310));en=G,G={memoizedState:en.memoizedState,baseState:en.baseState,baseQueue:en.baseQueue,queue:en.queue,next:null},On===null?Zr.memoizedState=On=G:On=On.next=G}return On}function Vl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function yl(G){var X=Ta;return Ta+=1,sa===null&&(sa=[]),G=Xs(sa,G,X),X=Zr,(On===null?X.memoizedState:On.next)===null&&(X=X.alternate,pt.H=X===null||X.memoizedState===null?Mh:Hc),G}function Xl(G){if(G!==null&&typeof G=="object"){if(typeof G.then=="function")return yl(G);if(G.$$typeof===fe)return wo(G)}throw Error(b(438,String(G)))}function Rc(G){var X=null,ae=Zr.updateQueue;if(ae!==null&&(X=ae.memoCache),X==null){var xe=Zr.alternate;xe!==null&&(xe=xe.updateQueue,xe!==null&&(xe=xe.memoCache,xe!=null&&(X={data:xe.data.map(function(Ye){return Ye.slice()}),index:0})))}if(X==null&&(X={data:[],index:0}),ae===null&&(ae=Vl(),Zr.updateQueue=ae),ae.memoCache=X,ae=X.data[X.index],ae===void 0)for(ae=X.data[X.index]=Array(G),xe=0;xe<G;xe++)ae[xe]=He;return X.index++,ae}function ou(G,X){return typeof X=="function"?X(G):X}function Zl(G){var X=Oo();return Bc(X,en,G)}function Bc(G,X,ae){var xe=G.queue;if(xe===null)throw Error(b(311));xe.lastRenderedReducer=ae;var Ye=G.baseQueue,ot=xe.pending;if(ot!==null){if(Ye!==null){var Pt=Ye.next;Ye.next=ot.next,ot.next=Pt}X.baseQueue=Ye=ot,xe.pending=null}if(ot=G.baseState,Ye===null)G.memoizedState=ot;else{X=Ye.next;var dr=Pt=null,jr=null,yn=X,Pn=!1;do{var Hn=yn.lane&-536870913;if(Hn!==yn.lane?(xa&Hn)===Hn:(Qr&Hn)===Hn){var Tn=yn.revertLane;if(Tn===0)jr!==null&&(jr=jr.next={lane:0,revertLane:0,gesture:null,action:yn.action,hasEagerState:yn.hasEagerState,eagerState:yn.eagerState,next:null}),Hn===vu&&(Pn=!0);else if((Qr&Tn)===Tn){yn=yn.next,Tn===vu&&(Pn=!0);continue}else Hn={lane:0,revertLane:yn.revertLane,gesture:null,action:yn.action,hasEagerState:yn.hasEagerState,eagerState:yn.eagerState,next:null},jr===null?(dr=jr=Hn,Pt=ot):jr=jr.next=Hn,Zr.lanes|=Tn,Tu|=Tn;Hn=yn.action,Ci&&ae(ot,Hn),ot=yn.hasEagerState?yn.eagerState:ae(ot,Hn)}else Tn={lane:Hn,revertLane:yn.revertLane,gesture:yn.gesture,action:yn.action,hasEagerState:yn.hasEagerState,eagerState:yn.eagerState,next:null},jr===null?(dr=jr=Tn,Pt=ot):jr=jr.next=Tn,Zr.lanes|=Hn,Tu|=Hn;yn=yn.next}while(yn!==null&&yn!==X);if(jr===null?Pt=ot:jr.next=dr,!hr(ot,G.memoizedState)&&(Io=!0,Pn&&(ae=tu,ae!==null)))throw ae;G.memoizedState=ot,G.baseState=Pt,G.baseQueue=jr,xe.lastRenderedState=ot}return Ye===null&&(xe.lanes=0),[G.memoizedState,xe.dispatch]}function Pc(G){var X=Oo(),ae=X.queue;if(ae===null)throw Error(b(311));ae.lastRenderedReducer=G;var xe=ae.dispatch,Ye=ae.pending,ot=X.memoizedState;if(Ye!==null){ae.pending=null;var Pt=Ye=Ye.next;do ot=G(ot,Pt.action),Pt=Pt.next;while(Pt!==Ye);hr(ot,X.memoizedState)||(Io=!0),X.memoizedState=ot,X.baseQueue===null&&(X.baseState=ot),ae.lastRenderedState=ot}return[ot,xe]}function Zf(G,X,ae){var xe=Zr,Ye=Oo(),ot=ia;if(ot){if(ae===void 0)throw Error(b(407));ae=ae()}else ae=X();var Pt=!hr((en||Ye).memoizedState,ae);if(Pt&&(Ye.memoizedState=ae,Io=!0),Ye=Ye.queue,Uc(Qf.bind(null,xe,Ye,G),[G]),Ye.getSnapshot!==X||Pt||On!==null&&On.memoizedState.tag&1){if(xe.flags|=2048,el(9,{destroy:void 0},Kf.bind(null,xe,Ye,ae,X),null),Ka===null)throw Error(b(349));ot||(Qr&127)!==0||Yf(xe,X,ae)}return ae}function Yf(G,X,ae){G.flags|=16384,G={getSnapshot:X,value:ae},X=Zr.updateQueue,X===null?(X=Vl(),Zr.updateQueue=X,X.stores=[G]):(ae=X.stores,ae===null?X.stores=[G]:ae.push(G))}function Kf(G,X,ae,xe){X.value=ae,X.getSnapshot=xe,Jf(X)&&$f(G)}function Qf(G,X,ae){return ae(function(){Jf(X)&&$f(G)})}function Jf(G){var X=G.getSnapshot;G=G.value;try{var ae=X();return!hr(G,ae)}catch{return!0}}function $f(G){var X=us(G,2);X!==null&&ws(X,G,2)}function Ic(G){var X=ds();if(typeof G=="function"){var ae=G;if(G=ae(),Ci){Gi(!0);try{ae()}finally{Gi(!1)}}}return X.memoizedState=X.baseState=G,X.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ou,lastRenderedState:G},X}function eh(G,X,ae,xe){return G.baseState=ae,Bc(G,en,typeof xe=="function"?xe:ou)}function Ad(G,X,ae,xe,Ye){if(Ql(G))throw Error(b(485));if(G=X.action,G!==null){var ot={payload:Ye,action:G,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(Pt){ot.listeners.push(Pt)}};pt.T!==null?ae(!0):ot.isTransition=!1,xe(ot),ae=X.pending,ae===null?(ot.next=X.pending=ot,th(X,ot)):(ot.next=ae.next,X.pending=ae.next=ot)}}function th(G,X){var ae=X.action,xe=X.payload,Ye=G.state;if(X.isTransition){var ot=pt.T,Pt={};pt.T=Pt;try{var dr=ae(Ye,xe),jr=pt.S;jr!==null&&jr(Pt,dr),rh(G,X,dr)}catch(yn){Fc(G,X,yn)}finally{ot!==null&&Pt.types!==null&&(ot.types=Pt.types),pt.T=ot}}else try{ot=ae(Ye,xe),rh(G,X,ot)}catch(yn){Fc(G,X,yn)}}function rh(G,X,ae){ae!==null&&typeof ae=="object"&&typeof ae.then=="function"?ae.then(function(xe){nh(G,X,xe)},function(xe){return Fc(G,X,xe)}):nh(G,X,ae)}function nh(G,X,ae){X.status="fulfilled",X.value=ae,ih(X),G.state=ae,X=G.pending,X!==null&&(ae=X.next,ae===X?G.pending=null:(ae=ae.next,X.next=ae,th(G,ae)))}function Fc(G,X,ae){var xe=G.pending;if(G.pending=null,xe!==null){xe=xe.next;do X.status="rejected",X.reason=ae,ih(X),X=X.next;while(X!==xe)}G.action=null}function ih(G){G=G.listeners;for(var X=0;X<G.length;X++)(0,G[X])()}function ah(G,X){return X}function oh(G,X){if(ia){var ae=Ka.formState;if(ae!==null){e:{var xe=Zr;if(ia){if(da){t:{for(var Ye=da,ot=rs;Ye.nodeType!==8;){if(!ot){Ye=null;break t}if(Ye=Fs(Ye.nextSibling),Ye===null){Ye=null;break t}}ot=Ye.data,Ye=ot==="F!"||ot==="F"?Ye:null}if(Ye){da=Fs(Ye.nextSibling),xe=Ye.data==="F!";break e}}Ps(xe)}xe=!1}xe&&(X=ae[0])}}return ae=ds(),ae.memoizedState=ae.baseState=X,xe={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ah,lastRenderedState:X},ae.queue=xe,ae=Ch.bind(null,Zr,xe),xe.dispatch=ae,xe=Ic(!1),ot=qc.bind(null,Zr,!1,xe.queue),xe=ds(),Ye={state:X,dispatch:null,action:G,pending:null},xe.queue=Ye,ae=Ad.bind(null,Zr,Ye,ot,ae),Ye.dispatch=ae,xe.memoizedState=G,[X,ae,!1]}function sh(G){var X=Oo();return uh(X,en,G)}function uh(G,X,ae){if(X=Bc(G,X,ah)[0],G=Zl(ou)[0],typeof X=="object"&&X!==null&&typeof X.then=="function")try{var xe=yl(X)}catch(Pt){throw Pt===Vs?Ku:Pt}else xe=X;X=Oo();var Ye=X.queue,ot=Ye.dispatch;return ae!==X.memoizedState&&(Zr.flags|=2048,el(9,{destroy:void 0},Md.bind(null,Ye,ae),null)),[xe,ot,G]}function Md(G,X){G.action=X}function lh(G){var X=Oo(),ae=en;if(ae!==null)return uh(X,ae,G);Oo(),X=X.memoizedState,ae=Oo();var xe=ae.queue.dispatch;return ae.memoizedState=G,[X,xe,!1]}function el(G,X,ae,xe){return G={tag:G,create:ae,deps:xe,inst:X,next:null},X=Zr.updateQueue,X===null&&(X=Vl(),Zr.updateQueue=X),ae=X.lastEffect,ae===null?X.lastEffect=G.next=G:(xe=ae.next,ae.next=G,G.next=xe,X.lastEffect=G),G}function ch(){return Oo().memoizedState}function Yl(G,X,ae,xe){var Ye=ds();Zr.flags|=G,Ye.memoizedState=el(1|X,{destroy:void 0},ae,xe===void 0?null:xe)}function Kl(G,X,ae,xe){var Ye=Oo();xe=xe===void 0?null:xe;var ot=Ye.memoizedState.inst;en!==null&&xe!==null&&bu(xe,en.memoizedState.deps)?Ye.memoizedState=el(X,ot,ae,xe):(Zr.flags|=G,Ye.memoizedState=el(1|X,ot,ae,xe))}function fh(G,X){Yl(8390656,8,G,X)}function Uc(G,X){Kl(2048,8,G,X)}function Ld(G){Zr.flags|=4;var X=Zr.updateQueue;if(X===null)X=Vl(),Zr.updateQueue=X,X.events=[G];else{var ae=X.events;ae===null?X.events=[G]:ae.push(G)}}function hh(G){var X=Oo().memoizedState;return Ld({ref:X,nextImpl:G}),function(){if((Ra&2)!==0)throw Error(b(440));return X.impl.apply(void 0,arguments)}}function ph(G,X){return Kl(4,2,G,X)}function dh(G,X){return Kl(4,4,G,X)}function mh(G,X){if(typeof X=="function"){G=G();var ae=X(G);return function(){typeof ae=="function"?ae():X(null)}}if(X!=null)return G=G(),X.current=G,function(){X.current=null}}function _h(G,X,ae){ae=ae!=null?ae.concat([G]):null,Kl(4,4,mh.bind(null,X,G),ae)}function jc(){}function gh(G,X){var ae=Oo();X=X===void 0?null:X;var xe=ae.memoizedState;return X!==null&&bu(X,xe[1])?xe[0]:(ae.memoizedState=[G,X],G)}function yh(G,X){var ae=Oo();X=X===void 0?null:X;var xe=ae.memoizedState;if(X!==null&&bu(X,xe[1]))return xe[0];if(xe=G(),Ci){Gi(!0);try{G()}finally{Gi(!1)}}return ae.memoizedState=[xe,X],xe}function Gc(G,X,ae){return ae===void 0||(Qr&1073741824)!==0&&(xa&261930)===0?G.memoizedState=X:(G.memoizedState=ae,G=vp(),Zr.lanes|=G,Tu|=G,ae)}function vh(G,X,ae,xe){return hr(ae,X)?ae:Or.current!==null?(G=Gc(G,ae,xe),hr(G,X)||(Io=!0),G):(Qr&42)===0||(Qr&1073741824)!==0&&(xa&261930)===0?(Io=!0,G.memoizedState=ae):(G=vp(),Zr.lanes|=G,Tu|=G,X)}function xh(G,X,ae,xe,Ye){var ot=ut.p;ut.p=ot!==0&&8>ot?ot:8;var Pt=pt.T,dr={};pt.T=dr,qc(G,!1,X,ae);try{var jr=Ye(),yn=pt.S;if(yn!==null&&yn(dr,jr),jr!==null&&typeof jr=="object"&&typeof jr.then=="function"){var Pn=Dc(jr,xe);vl(G,X,Pn,Os(G))}else vl(G,X,xe,Os(G))}catch(Hn){vl(G,X,{then:function(){},status:"rejected",reason:Hn},Os())}finally{ut.p=ot,Pt!==null&&dr.types!==null&&(Pt.types=dr.types),pt.T=Pt}}function kd(){}function zc(G,X,ae,xe){if(G.tag!==5)throw Error(b(476));var Ye=bh(G).queue;xh(G,Ye,X,Mt,ae===null?kd:function(){return Eh(G),ae(xe)})}function bh(G){var X=G.memoizedState;if(X!==null)return X;X={memoizedState:Mt,baseState:Mt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ou,lastRenderedState:Mt},next:null};var ae={};return X.next={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ou,lastRenderedState:ae},next:null},G.memoizedState=X,G=G.alternate,G!==null&&(G.memoizedState=X),X}function Eh(G){var X=bh(G);X.next===null&&(X=G.alternate.memoizedState),vl(G,X.next.queue,{},Os())}function Wc(){return wo(Pl)}function wh(){return Oo().memoizedState}function Th(){return Oo().memoizedState}function Od(G){for(var X=G.return;X!==null;){switch(X.tag){case 24:case 3:var ae=Os();G=ir(ae);var xe=Rr(X,G,ae);xe!==null&&(ws(xe,X,ae),Mr(xe,X,ae)),X={cache:dl()},G.payload=X;return}X=X.return}}function Nd(G,X,ae){var xe=Os();ae={lane:xe,revertLane:0,gesture:null,action:ae,hasEagerState:!1,eagerState:null,next:null},Ql(G)?Sh(X,ae):(ae=Pu(G,X,ae,xe),ae!==null&&(ws(ae,G,xe),Ah(ae,X,xe)))}function Ch(G,X,ae){var xe=Os();vl(G,X,ae,xe)}function vl(G,X,ae,xe){var Ye={lane:xe,revertLane:0,gesture:null,action:ae,hasEagerState:!1,eagerState:null,next:null};if(Ql(G))Sh(X,Ye);else{var ot=G.alternate;if(G.lanes===0&&(ot===null||ot.lanes===0)&&(ot=X.lastRenderedReducer,ot!==null))try{var Pt=X.lastRenderedState,dr=ot(Pt,ae);if(Ye.hasEagerState=!0,Ye.eagerState=dr,hr(dr,Pt))return Ds(G,X,Ye,0),Ka===null&&Gs(),!1}catch{}finally{}if(ae=Pu(G,X,Ye,xe),ae!==null)return ws(ae,G,xe),Ah(ae,X,xe),!0}return!1}function qc(G,X,ae,xe){if(xe={lane:2,revertLane:wf(),gesture:null,action:xe,hasEagerState:!1,eagerState:null,next:null},Ql(G)){if(X)throw Error(b(479))}else X=Pu(G,ae,xe,2),X!==null&&ws(X,G,2)}function Ql(G){var X=G.alternate;return G===Zr||X!==null&&X===Zr}function Sh(G,X){yi=mi=!0;var ae=G.pending;ae===null?X.next=X:(X.next=ae.next,ae.next=X),G.pending=X}function Ah(G,X,ae){if((ae&4194048)!==0){var xe=X.lanes;xe&=G.pendingLanes,ae|=xe,X.lanes=ae,hn(G,ae)}}var xl={readContext:wo,use:Xl,useCallback:ca,useContext:ca,useEffect:ca,useImperativeHandle:ca,useLayoutEffect:ca,useInsertionEffect:ca,useMemo:ca,useReducer:ca,useRef:ca,useState:ca,useDebugValue:ca,useDeferredValue:ca,useTransition:ca,useSyncExternalStore:ca,useId:ca,useHostTransitionStatus:ca,useFormState:ca,useActionState:ca,useOptimistic:ca,useMemoCache:ca,useCacheRefresh:ca};xl.useEffectEvent=ca;var Mh={readContext:wo,use:Xl,useCallback:function(G,X){return ds().memoizedState=[G,X===void 0?null:X],G},useContext:wo,useEffect:fh,useImperativeHandle:function(G,X,ae){ae=ae!=null?ae.concat([G]):null,Yl(4194308,4,mh.bind(null,X,G),ae)},useLayoutEffect:function(G,X){return Yl(4194308,4,G,X)},useInsertionEffect:function(G,X){Yl(4,2,G,X)},useMemo:function(G,X){var ae=ds();X=X===void 0?null:X;var xe=G();if(Ci){Gi(!0);try{G()}finally{Gi(!1)}}return ae.memoizedState=[xe,X],xe},useReducer:function(G,X,ae){var xe=ds();if(ae!==void 0){var Ye=ae(X);if(Ci){Gi(!0);try{ae(X)}finally{Gi(!1)}}}else Ye=X;return xe.memoizedState=xe.baseState=Ye,G={pending:null,lanes:0,dispatch:null,lastRenderedReducer:G,lastRenderedState:Ye},xe.queue=G,G=G.dispatch=Nd.bind(null,Zr,G),[xe.memoizedState,G]},useRef:function(G){var X=ds();return G={current:G},X.memoizedState=G},useState:function(G){G=Ic(G);var X=G.queue,ae=Ch.bind(null,Zr,X);return X.dispatch=ae,[G.memoizedState,ae]},useDebugValue:jc,useDeferredValue:function(G,X){var ae=ds();return Gc(ae,G,X)},useTransition:function(){var G=Ic(!1);return G=xh.bind(null,Zr,G.queue,!0,!1),ds().memoizedState=G,[!1,G]},useSyncExternalStore:function(G,X,ae){var xe=Zr,Ye=ds();if(ia){if(ae===void 0)throw Error(b(407));ae=ae()}else{if(ae=X(),Ka===null)throw Error(b(349));(xa&127)!==0||Yf(xe,X,ae)}Ye.memoizedState=ae;var ot={value:ae,getSnapshot:X};return Ye.queue=ot,fh(Qf.bind(null,xe,ot,G),[G]),xe.flags|=2048,el(9,{destroy:void 0},Kf.bind(null,xe,ot,ae,X),null),ae},useId:function(){var G=ds(),X=Ka.identifierPrefix;if(ia){var ae=li,xe=Un;ae=(xe&~(1<<32-ai(xe)-1)).toString(32)+ae,X="_"+X+"R_"+ae,ae=Ea++,0<ae&&(X+="H"+ae.toString(32)),X+="_"}else ae=Ba++,X="_"+X+"r_"+ae.toString(32)+"_";return G.memoizedState=X},useHostTransitionStatus:Wc,useFormState:oh,useActionState:oh,useOptimistic:function(G){var X=ds();X.memoizedState=X.baseState=G;var ae={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return X.queue=ae,X=qc.bind(null,Zr,!0,ae),ae.dispatch=X,[G,X]},useMemoCache:Rc,useCacheRefresh:function(){return ds().memoizedState=Od.bind(null,Zr)},useEffectEvent:function(G){var X=ds(),ae={impl:G};return X.memoizedState=ae,function(){if((Ra&2)!==0)throw Error(b(440));return ae.impl.apply(void 0,arguments)}}},Hc={readContext:wo,use:Xl,useCallback:gh,useContext:wo,useEffect:Uc,useImperativeHandle:_h,useInsertionEffect:ph,useLayoutEffect:dh,useMemo:yh,useReducer:Zl,useRef:ch,useState:function(){return Zl(ou)},useDebugValue:jc,useDeferredValue:function(G,X){var ae=Oo();return vh(ae,en.memoizedState,G,X)},useTransition:function(){var G=Zl(ou)[0],X=Oo().memoizedState;return[typeof G=="boolean"?G:yl(G),X]},useSyncExternalStore:Zf,useId:wh,useHostTransitionStatus:Wc,useFormState:sh,useActionState:sh,useOptimistic:function(G,X){var ae=Oo();return eh(ae,en,G,X)},useMemoCache:Rc,useCacheRefresh:Th};Hc.useEffectEvent=hh;var Lh={readContext:wo,use:Xl,useCallback:gh,useContext:wo,useEffect:Uc,useImperativeHandle:_h,useInsertionEffect:ph,useLayoutEffect:dh,useMemo:yh,useReducer:Pc,useRef:ch,useState:function(){return Pc(ou)},useDebugValue:jc,useDeferredValue:function(G,X){var ae=Oo();return en===null?Gc(ae,G,X):vh(ae,en.memoizedState,G,X)},useTransition:function(){var G=Pc(ou)[0],X=Oo().memoizedState;return[typeof G=="boolean"?G:yl(G),X]},useSyncExternalStore:Zf,useId:wh,useHostTransitionStatus:Wc,useFormState:lh,useActionState:lh,useOptimistic:function(G,X){var ae=Oo();return en!==null?eh(ae,en,G,X):(ae.baseState=G,[G,ae.queue.dispatch])},useMemoCache:Rc,useCacheRefresh:Th};Lh.useEffectEvent=hh;function Vc(G,X,ae,xe){X=G.memoizedState,ae=ae(xe,X),ae=ae==null?X:T({},X,ae),G.memoizedState=ae,G.lanes===0&&(G.updateQueue.baseState=ae)}var Xc={enqueueSetState:function(G,X,ae){G=G._reactInternals;var xe=Os(),Ye=ir(xe);Ye.payload=X,ae!=null&&(Ye.callback=ae),X=Rr(G,Ye,xe),X!==null&&(ws(X,G,xe),Mr(X,G,xe))},enqueueReplaceState:function(G,X,ae){G=G._reactInternals;var xe=Os(),Ye=ir(xe);Ye.tag=1,Ye.payload=X,ae!=null&&(Ye.callback=ae),X=Rr(G,Ye,xe),X!==null&&(ws(X,G,xe),Mr(X,G,xe))},enqueueForceUpdate:function(G,X){G=G._reactInternals;var ae=Os(),xe=ir(ae);xe.tag=2,X!=null&&(xe.callback=X),X=Rr(G,xe,ae),X!==null&&(ws(X,G,ae),Mr(X,G,ae))}};function kh(G,X,ae,xe,Ye,ot,Pt){return G=G.stateNode,typeof G.shouldComponentUpdate=="function"?G.shouldComponentUpdate(xe,ot,Pt):X.prototype&&X.prototype.isPureReactComponent?!Kr(ae,xe)||!Kr(Ye,ot):!0}function Oh(G,X,ae,xe){G=X.state,typeof X.componentWillReceiveProps=="function"&&X.componentWillReceiveProps(ae,xe),typeof X.UNSAFE_componentWillReceiveProps=="function"&&X.UNSAFE_componentWillReceiveProps(ae,xe),X.state!==G&&Xc.enqueueReplaceState(X,X.state,null)}function zu(G,X){var ae=X;if("ref"in X){ae={};for(var xe in X)xe!=="ref"&&(ae[xe]=X[xe])}if(G=G.defaultProps){ae===X&&(ae=T({},ae));for(var Ye in G)ae[Ye]===void 0&&(ae[Ye]=G[Ye])}return ae}function Nh(G){js(G)}function Dh(G){console.error(G)}function Rh(G){js(G)}function Jl(G,X){try{var ae=G.onUncaughtError;ae(X.value,{componentStack:X.stack})}catch(xe){setTimeout(function(){throw xe})}}function Bh(G,X,ae){try{var xe=G.onCaughtError;xe(ae.value,{componentStack:ae.stack,errorBoundary:X.tag===1?X.stateNode:null})}catch(Ye){setTimeout(function(){throw Ye})}}function Zc(G,X,ae){return ae=ir(ae),ae.tag=3,ae.payload={element:null},ae.callback=function(){Jl(G,X)},ae}function Ph(G){return G=ir(G),G.tag=3,G}function Ih(G,X,ae,xe){var Ye=ae.type.getDerivedStateFromError;if(typeof Ye=="function"){var ot=xe.value;G.payload=function(){return Ye(ot)},G.callback=function(){Bh(X,ae,xe)}}var Pt=ae.stateNode;Pt!==null&&typeof Pt.componentDidCatch=="function"&&(G.callback=function(){Bh(X,ae,xe),typeof Ye!="function"&&(Cu===null?Cu=new Set([this]):Cu.add(this));var dr=xe.stack;this.componentDidCatch(xe.value,{componentStack:dr!==null?dr:""})})}function Dd(G,X,ae,xe,Ye){if(ae.flags|=32768,xe!==null&&typeof xe=="object"&&typeof xe.then=="function"){if(X=ae.alternate,X!==null&&_u(X,ae,Ye,!0),ae=fn.current,ae!==null){switch(ae.tag){case 31:case 13:return Vt===null?cc():ae.alternate===null&&Co===0&&(Co=3),ae.flags&=-257,ae.flags|=65536,ae.lanes=Ye,xe===Qu?ae.flags|=16384:(X=ae.updateQueue,X===null?ae.updateQueue=new Set([xe]):X.add(xe),xf(G,xe,Ye)),!1;case 22:return ae.flags|=65536,xe===Qu?ae.flags|=16384:(X=ae.updateQueue,X===null?(X={transitions:null,markerInstances:null,retryQueue:new Set([xe])},ae.updateQueue=X):(ae=X.retryQueue,ae===null?X.retryQueue=new Set([xe]):ae.add(xe)),xf(G,xe,Ye)),!1}throw Error(b(435,ae.tag))}return xf(G,xe,Ye),cc(),!1}if(ia)return X=fn.current,X!==null?((X.flags&65536)===0&&(X.flags|=256),X.flags|=65536,X.lanes=Ye,xe!==zs&&(G=Error(b(422),{cause:xe}),eu(ye(G,ae)))):(xe!==zs&&(X=Error(b(423),{cause:xe}),eu(ye(X,ae))),G=G.current.alternate,G.flags|=65536,Ye&=-Ye,G.lanes|=Ye,xe=ye(xe,ae),Ye=Zc(G.stateNode,xe,Ye),pn(G,Ye),Co!==4&&(Co=2)),!1;var ot=Error(b(520),{cause:xe});if(ot=ye(ot,ae),Ml===null?Ml=[ot]:Ml.push(ot),Co!==4&&(Co=2),X===null)return!0;xe=ye(xe,ae),ae=X;do{switch(ae.tag){case 3:return ae.flags|=65536,G=Ye&-Ye,ae.lanes|=G,G=Zc(ae.stateNode,xe,G),pn(ae,G),!1;case 1:if(X=ae.type,ot=ae.stateNode,(ae.flags&128)===0&&(typeof X.getDerivedStateFromError=="function"||ot!==null&&typeof ot.componentDidCatch=="function"&&(Cu===null||!Cu.has(ot))))return ae.flags|=65536,Ye&=-Ye,ae.lanes|=Ye,Ye=Ph(Ye),Ih(Ye,G,ae,xe),pn(ae,Ye),!1}ae=ae.return}while(ae!==null);return!1}var Yc=Error(b(461)),Io=!1;function ns(G,X,ae,xe){X.child=G===null?ht(X,null,ae,xe):$e(X,G.child,ae,xe)}function Fh(G,X,ae,xe,Ye){ae=ae.render;var ot=X.ref;if("ref"in xe){var Pt={};for(var dr in xe)dr!=="ref"&&(Pt[dr]=xe[dr])}else Pt=xe;return As(X),xe=ju(G,X,ae,Pt,ot,Ye),dr=fs(),G!==null&&!Io?(Vo(G,X,Ye),su(G,X,Ye)):(ia&&dr&&Lo(X),X.flags|=1,ns(G,X,xe,Ye),X.child)}function Uh(G,X,ae,xe,Ye){if(G===null){var ot=ae.type;return typeof ot=="function"&&!Ks(ot)&&ot.defaultProps===void 0&&ae.compare===null?(X.tag=15,X.type=ot,jh(G,X,ot,xe,Ye)):(G=to(ae.type,null,xe,X,X.mode,Ye),G.ref=X.ref,G.return=X,X.child=G)}if(ot=G.child,!nf(G,Ye)){var Pt=ot.memoizedProps;if(ae=ae.compare,ae=ae!==null?ae:Kr,ae(Pt,xe)&&G.ref===X.ref)return su(G,X,Ye)}return X.flags|=1,G=ls(ot,xe),G.ref=X.ref,G.return=X,X.child=G}function jh(G,X,ae,xe,Ye){if(G!==null){var ot=G.memoizedProps;if(Kr(ot,xe)&&G.ref===X.ref)if(Io=!1,X.pendingProps=xe=ot,nf(G,Ye))(G.flags&131072)!==0&&(Io=!0);else return X.lanes=G.lanes,su(G,X,Ye)}return Kc(G,X,ae,xe,Ye)}function Gh(G,X,ae,xe){var Ye=xe.children,ot=G!==null?G.memoizedState:null;if(G===null&&X.stateNode===null&&(X.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),xe.mode==="hidden"){if((X.flags&128)!==0){if(ot=ot!==null?ot.baseLanes|ae:ae,G!==null){for(xe=X.child=G.child,Ye=0;xe!==null;)Ye=Ye|xe.lanes|xe.childLanes,xe=xe.sibling;xe=Ye&~ot}else xe=0,X.child=null;return zh(G,X,ot,ae,xe)}if((ae&536870912)!==0)X.memoizedState={baseLanes:0,cachePool:null},G!==null&&Fu(X,ot!==null?ot.cachePool:null),ot!==null?an(X,ot):wn(),yr(X);else return xe=X.lanes=536870912,zh(G,X,ot!==null?ot.baseLanes|ae:ae,ae,xe)}else ot!==null?(Fu(X,ot.cachePool),an(X,ot),wr(),X.memoizedState=null):(G!==null&&Fu(X,null),wn(),wr());return ns(G,X,Ye,ae),X.child}function bl(G,X){return G!==null&&G.tag===22||X.stateNode!==null||(X.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),X.sibling}function zh(G,X,ae,xe,Ye){var ot=_l();return ot=ot===null?null:{parent:To._currentValue,pool:ot},X.memoizedState={baseLanes:ae,cachePool:ot},G!==null&&Fu(X,null),wn(),yr(X),G!==null&&_u(G,X,xe,!0),X.childLanes=Ye,null}function $l(G,X){return X=tc({mode:X.mode,children:X.children},G.mode),X.ref=G.ref,G.child=X,X.return=G,X}function Wh(G,X,ae){return $e(X,G.child,null,ae),G=$l(X,X.pendingProps),G.flags|=2,Er(X),X.memoizedState=null,G}function Rd(G,X,ae){var xe=X.pendingProps,Ye=(X.flags&128)!==0;if(X.flags&=-129,G===null){if(ia){if(xe.mode==="hidden")return G=$l(X,xe),X.lanes=536870912,bl(null,G);if(xr(X),(G=da)?(G=td(G,rs),G=G!==null&&G.data==="&"?G:null,G!==null&&(X.memoizedState={dehydrated:G,treeContext:En!==null?{id:Un,overflow:li}:null,retryLane:536870912,hydrationErrors:null},ae=Qo(G),ae.return=X,X.child=ae,ta=X,da=null)):G=null,G===null)throw Ps(X);return X.lanes=536870912,null}return $l(X,xe)}var ot=G.memoizedState;if(ot!==null){var Pt=ot.dehydrated;if(xr(X),Ye)if(X.flags&256)X.flags&=-257,X=Wh(G,X,ae);else if(X.memoizedState!==null)X.child=G.child,X.flags|=128,X=null;else throw Error(b(558));else if(Io||_u(G,X,ae,!1),Ye=(ae&G.childLanes)!==0,Io||Ye){if(xe=Ka,xe!==null&&(Pt=vn(xe,ae),Pt!==0&&Pt!==ot.retryLane))throw ot.retryLane=Pt,us(G,Pt),ws(xe,G,Pt),Yc;cc(),X=Wh(G,X,ae)}else G=ot.treeContext,da=Fs(Pt.nextSibling),ta=X,ia=!0,ps=null,rs=!1,G!==null&&Ho(X,G),X=$l(X,xe),X.flags|=4096;return X}return G=ls(G.child,{mode:xe.mode,children:xe.children}),G.ref=X.ref,X.child=G,G.return=X,G}function ec(G,X){var ae=X.ref;if(ae===null)G!==null&&G.ref!==null&&(X.flags|=4194816);else{if(typeof ae!="function"&&typeof ae!="object")throw Error(b(284));(G===null||G.ref!==ae)&&(X.flags|=4194816)}}function Kc(G,X,ae,xe,Ye){return As(X),ae=ju(G,X,ae,xe,void 0,Ye),xe=fs(),G!==null&&!Io?(Vo(G,X,Ye),su(G,X,Ye)):(ia&&xe&&Lo(X),X.flags|=1,ns(G,X,ae,Ye),X.child)}function qh(G,X,ae,xe,Ye,ot){return As(X),X.updateQueue=null,ae=Ms(X,xe,ae,Ye),$u(G),xe=fs(),G!==null&&!Io?(Vo(G,X,ot),su(G,X,ot)):(ia&&xe&&Lo(X),X.flags|=1,ns(G,X,ae,ot),X.child)}function Hh(G,X,ae,xe,Ye){if(As(X),X.stateNode===null){var ot=Rs,Pt=ae.contextType;typeof Pt=="object"&&Pt!==null&&(ot=wo(Pt)),ot=new ae(xe,ot),X.memoizedState=ot.state!==null&&ot.state!==void 0?ot.state:null,ot.updater=Xc,X.stateNode=ot,ot._reactInternals=X,ot=X.stateNode,ot.props=xe,ot.state=X.memoizedState,ot.refs={},Ot(X),Pt=ae.contextType,ot.context=typeof Pt=="object"&&Pt!==null?wo(Pt):Rs,ot.state=X.memoizedState,Pt=ae.getDerivedStateFromProps,typeof Pt=="function"&&(Vc(X,ae,Pt,xe),ot.state=X.memoizedState),typeof ae.getDerivedStateFromProps=="function"||typeof ot.getSnapshotBeforeUpdate=="function"||typeof ot.UNSAFE_componentWillMount!="function"&&typeof ot.componentWillMount!="function"||(Pt=ot.state,typeof ot.componentWillMount=="function"&&ot.componentWillMount(),typeof ot.UNSAFE_componentWillMount=="function"&&ot.UNSAFE_componentWillMount(),Pt!==ot.state&&Xc.enqueueReplaceState(ot,ot.state,null),ci(X,xe,ot,Ye),Zn(),ot.state=X.memoizedState),typeof ot.componentDidMount=="function"&&(X.flags|=4194308),xe=!0}else if(G===null){ot=X.stateNode;var dr=X.memoizedProps,jr=zu(ae,dr);ot.props=jr;var yn=ot.context,Pn=ae.contextType;Pt=Rs,typeof Pn=="object"&&Pn!==null&&(Pt=wo(Pn));var Hn=ae.getDerivedStateFromProps;Pn=typeof Hn=="function"||typeof ot.getSnapshotBeforeUpdate=="function",dr=X.pendingProps!==dr,Pn||typeof ot.UNSAFE_componentWillReceiveProps!="function"&&typeof ot.componentWillReceiveProps!="function"||(dr||yn!==Pt)&&Oh(X,ot,xe,Pt),Tt=!1;var Tn=X.memoizedState;ot.state=Tn,ci(X,xe,ot,Ye),Zn(),yn=X.memoizedState,dr||Tn!==yn||Tt?(typeof Hn=="function"&&(Vc(X,ae,Hn,xe),yn=X.memoizedState),(jr=Tt||kh(X,ae,jr,xe,Tn,yn,Pt))?(Pn||typeof ot.UNSAFE_componentWillMount!="function"&&typeof ot.componentWillMount!="function"||(typeof ot.componentWillMount=="function"&&ot.componentWillMount(),typeof ot.UNSAFE_componentWillMount=="function"&&ot.UNSAFE_componentWillMount()),typeof ot.componentDidMount=="function"&&(X.flags|=4194308)):(typeof ot.componentDidMount=="function"&&(X.flags|=4194308),X.memoizedProps=xe,X.memoizedState=yn),ot.props=xe,ot.state=yn,ot.context=Pt,xe=jr):(typeof ot.componentDidMount=="function"&&(X.flags|=4194308),xe=!1)}else{ot=X.stateNode,Kt(G,X),Pt=X.memoizedProps,Pn=zu(ae,Pt),ot.props=Pn,Hn=X.pendingProps,Tn=ot.context,yn=ae.contextType,jr=Rs,typeof yn=="object"&&yn!==null&&(jr=wo(yn)),dr=ae.getDerivedStateFromProps,(yn=typeof dr=="function"||typeof ot.getSnapshotBeforeUpdate=="function")||typeof ot.UNSAFE_componentWillReceiveProps!="function"&&typeof ot.componentWillReceiveProps!="function"||(Pt!==Hn||Tn!==jr)&&Oh(X,ot,xe,jr),Tt=!1,Tn=X.memoizedState,ot.state=Tn,ci(X,xe,ot,Ye),Zn();var An=X.memoizedState;Pt!==Hn||Tn!==An||Tt||G!==null&&G.dependencies!==null&&Vu(G.dependencies)?(typeof dr=="function"&&(Vc(X,ae,dr,xe),An=X.memoizedState),(Pn=Tt||kh(X,ae,Pn,xe,Tn,An,jr)||G!==null&&G.dependencies!==null&&Vu(G.dependencies))?(yn||typeof ot.UNSAFE_componentWillUpdate!="function"&&typeof ot.componentWillUpdate!="function"||(typeof ot.componentWillUpdate=="function"&&ot.componentWillUpdate(xe,An,jr),typeof ot.UNSAFE_componentWillUpdate=="function"&&ot.UNSAFE_componentWillUpdate(xe,An,jr)),typeof ot.componentDidUpdate=="function"&&(X.flags|=4),typeof ot.getSnapshotBeforeUpdate=="function"&&(X.flags|=1024)):(typeof ot.componentDidUpdate!="function"||Pt===G.memoizedProps&&Tn===G.memoizedState||(X.flags|=4),typeof ot.getSnapshotBeforeUpdate!="function"||Pt===G.memoizedProps&&Tn===G.memoizedState||(X.flags|=1024),X.memoizedProps=xe,X.memoizedState=An),ot.props=xe,ot.state=An,ot.context=jr,xe=Pn):(typeof ot.componentDidUpdate!="function"||Pt===G.memoizedProps&&Tn===G.memoizedState||(X.flags|=4),typeof ot.getSnapshotBeforeUpdate!="function"||Pt===G.memoizedProps&&Tn===G.memoizedState||(X.flags|=1024),xe=!1)}return ot=xe,ec(G,X),xe=(X.flags&128)!==0,ot||xe?(ot=X.stateNode,ae=xe&&typeof ae.getDerivedStateFromError!="function"?null:ot.render(),X.flags|=1,G!==null&&xe?(X.child=$e(X,G.child,null,Ye),X.child=$e(X,null,ae,Ye)):ns(G,X,ae,Ye),X.memoizedState=ot.state,G=X.child):G=su(G,X,Ye),G}function Vh(G,X,ae,xe){return Ws(),X.flags|=256,ns(G,X,ae,xe),X.child}var Qc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Jc(G){return{baseLanes:G,cachePool:nu()}}function $c(G,X,ae){return G=G!==null?G.childLanes&~ae:0,X&&(G|=ks),G}function Xh(G,X,ae){var xe=X.pendingProps,Ye=!1,ot=(X.flags&128)!==0,Pt;if((Pt=ot)||(Pt=G!==null&&G.memoizedState===null?!1:(Ir.current&2)!==0),Pt&&(Ye=!0,X.flags&=-129),Pt=(X.flags&32)!==0,X.flags&=-33,G===null){if(ia){if(Ye?cr(X):wr(),(G=da)?(G=td(G,rs),G=G!==null&&G.data!=="&"?G:null,G!==null&&(X.memoizedState={dehydrated:G,treeContext:En!==null?{id:Un,overflow:li}:null,retryLane:536870912,hydrationErrors:null},ae=Qo(G),ae.return=X,X.child=ae,ta=X,da=null)):G=null,G===null)throw Ps(X);return Pf(G)?X.lanes=32:X.lanes=536870912,null}var dr=xe.children;return xe=xe.fallback,Ye?(wr(),Ye=X.mode,dr=tc({mode:"hidden",children:dr},Ye),xe=Bs(xe,Ye,ae,null),dr.return=X,xe.return=X,dr.sibling=xe,X.child=dr,xe=X.child,xe.memoizedState=Jc(ae),xe.childLanes=$c(G,Pt,ae),X.memoizedState=Qc,bl(null,xe)):(cr(X),ef(X,dr))}var jr=G.memoizedState;if(jr!==null&&(dr=jr.dehydrated,dr!==null)){if(ot)X.flags&256?(cr(X),X.flags&=-257,X=tf(G,X,ae)):X.memoizedState!==null?(wr(),X.child=G.child,X.flags|=128,X=null):(wr(),dr=xe.fallback,Ye=X.mode,xe=tc({mode:"visible",children:xe.children},Ye),dr=Bs(dr,Ye,ae,null),dr.flags|=2,xe.return=X,dr.return=X,xe.sibling=dr,X.child=xe,$e(X,G.child,null,ae),xe=X.child,xe.memoizedState=Jc(ae),xe.childLanes=$c(G,Pt,ae),X.memoizedState=Qc,X=bl(null,xe));else if(cr(X),Pf(dr)){if(Pt=dr.nextSibling&&dr.nextSibling.dataset,Pt)var yn=Pt.dgst;Pt=yn,xe=Error(b(419)),xe.stack="",xe.digest=Pt,eu({value:xe,source:null,stack:null}),X=tf(G,X,ae)}else if(Io||_u(G,X,ae,!1),Pt=(ae&G.childLanes)!==0,Io||Pt){if(Pt=Ka,Pt!==null&&(xe=vn(Pt,ae),xe!==0&&xe!==jr.retryLane))throw jr.retryLane=xe,us(G,xe),ws(Pt,G,xe),Yc;Bf(dr)||cc(),X=tf(G,X,ae)}else Bf(dr)?(X.flags|=192,X.child=G.child,X=null):(G=jr.treeContext,da=Fs(dr.nextSibling),ta=X,ia=!0,ps=null,rs=!1,G!==null&&Ho(X,G),X=ef(X,xe.children),X.flags|=4096);return X}return Ye?(wr(),dr=xe.fallback,Ye=X.mode,jr=G.child,yn=jr.sibling,xe=ls(jr,{mode:"hidden",children:xe.children}),xe.subtreeFlags=jr.subtreeFlags&65011712,yn!==null?dr=ls(yn,dr):(dr=Bs(dr,Ye,ae,null),dr.flags|=2),dr.return=X,xe.return=X,xe.sibling=dr,X.child=xe,bl(null,xe),xe=X.child,dr=G.child.memoizedState,dr===null?dr=Jc(ae):(Ye=dr.cachePool,Ye!==null?(jr=To._currentValue,Ye=Ye.parent!==jr?{parent:jr,pool:jr}:Ye):Ye=nu(),dr={baseLanes:dr.baseLanes|ae,cachePool:Ye}),xe.memoizedState=dr,xe.childLanes=$c(G,Pt,ae),X.memoizedState=Qc,bl(G.child,xe)):(cr(X),ae=G.child,G=ae.sibling,ae=ls(ae,{mode:"visible",children:xe.children}),ae.return=X,ae.sibling=null,G!==null&&(Pt=X.deletions,Pt===null?(X.deletions=[G],X.flags|=16):Pt.push(G)),X.child=ae,X.memoizedState=null,ae)}function ef(G,X){return X=tc({mode:"visible",children:X},G.mode),X.return=G,G.child=X}function tc(G,X){return G=Oi(22,G,null,X),G.lanes=0,G}function tf(G,X,ae){return $e(X,G.child,null,ae),G=ef(X,X.pendingProps.children),G.flags|=2,X.memoizedState=null,G}function Zh(G,X,ae){G.lanes|=X;var xe=G.alternate;xe!==null&&(xe.lanes|=X),Hu(G.return,X,ae)}function rf(G,X,ae,xe,Ye,ot){var Pt=G.memoizedState;Pt===null?G.memoizedState={isBackwards:X,rendering:null,renderingStartTime:0,last:xe,tail:ae,tailMode:Ye,treeForkCount:ot}:(Pt.isBackwards=X,Pt.rendering=null,Pt.renderingStartTime=0,Pt.last=xe,Pt.tail=ae,Pt.tailMode=Ye,Pt.treeForkCount=ot)}function Yh(G,X,ae){var xe=X.pendingProps,Ye=xe.revealOrder,ot=xe.tail;xe=xe.children;var Pt=Ir.current,dr=(Pt&2)!==0;if(dr?(Pt=Pt&1|2,X.flags|=128):Pt&=1,Gt(Ir,Pt),ns(G,X,xe,ae),xe=ia?sr:0,!dr&&G!==null&&(G.flags&128)!==0)e:for(G=X.child;G!==null;){if(G.tag===13)G.memoizedState!==null&&Zh(G,ae,X);else if(G.tag===19)Zh(G,ae,X);else if(G.child!==null){G.child.return=G,G=G.child;continue}if(G===X)break e;for(;G.sibling===null;){if(G.return===null||G.return===X)break e;G=G.return}G.sibling.return=G.return,G=G.sibling}switch(Ye){case"forwards":for(ae=X.child,Ye=null;ae!==null;)G=ae.alternate,G!==null&&qr(G)===null&&(Ye=ae),ae=ae.sibling;ae=Ye,ae===null?(Ye=X.child,X.child=null):(Ye=ae.sibling,ae.sibling=null),rf(X,!1,Ye,ae,ot,xe);break;case"backwards":case"unstable_legacy-backwards":for(ae=null,Ye=X.child,X.child=null;Ye!==null;){if(G=Ye.alternate,G!==null&&qr(G)===null){X.child=Ye;break}G=Ye.sibling,Ye.sibling=ae,ae=Ye,Ye=G}rf(X,!0,ae,null,ot,xe);break;case"together":rf(X,!1,null,null,void 0,xe);break;default:X.memoizedState=null}return X.child}function su(G,X,ae){if(G!==null&&(X.dependencies=G.dependencies),Tu|=X.lanes,(ae&X.childLanes)===0)if(G!==null){if(_u(G,X,ae,!1),(ae&X.childLanes)===0)return null}else return null;if(G!==null&&X.child!==G.child)throw Error(b(153));if(X.child!==null){for(G=X.child,ae=ls(G,G.pendingProps),X.child=ae,ae.return=X;G.sibling!==null;)G=G.sibling,ae=ae.sibling=ls(G,G.pendingProps),ae.return=X;ae.sibling=null}return X.child}function nf(G,X){return(G.lanes&X)!==0?!0:(G=G.dependencies,!!(G!==null&&Vu(G)))}function Bd(G,X,ae){switch(X.tag){case 3:lr(X,X.stateNode.containerInfo),qs(X,To,G.memoizedState.cache),Ws();break;case 27:case 5:Ve(X);break;case 4:lr(X,X.stateNode.containerInfo);break;case 10:qs(X,X.type,X.memoizedProps.value);break;case 31:if(X.memoizedState!==null)return X.flags|=128,xr(X),null;break;case 13:var xe=X.memoizedState;if(xe!==null)return xe.dehydrated!==null?(cr(X),X.flags|=128,null):(ae&X.child.childLanes)!==0?Xh(G,X,ae):(cr(X),G=su(G,X,ae),G!==null?G.sibling:null);cr(X);break;case 19:var Ye=(G.flags&128)!==0;if(xe=(ae&X.childLanes)!==0,xe||(_u(G,X,ae,!1),xe=(ae&X.childLanes)!==0),Ye){if(xe)return Yh(G,X,ae);X.flags|=128}if(Ye=X.memoizedState,Ye!==null&&(Ye.rendering=null,Ye.tail=null,Ye.lastEffect=null),Gt(Ir,Ir.current),xe)break;return null;case 22:return X.lanes=0,Gh(G,X,ae,X.pendingProps);case 24:qs(X,To,G.memoizedState.cache)}return su(G,X,ae)}function Kh(G,X,ae){if(G!==null)if(G.memoizedProps!==X.pendingProps)Io=!0;else{if(!nf(G,ae)&&(X.flags&128)===0)return Io=!1,Bd(G,X,ae);Io=(G.flags&131072)!==0}else Io=!1,ia&&(X.flags&1048576)!==0&&Ji(X,sr,X.index);switch(X.lanes=0,X.tag){case 16:e:{var xe=X.pendingProps;if(G=iu(X.elementType),X.type=G,typeof G=="function")Ks(G)?(xe=zu(G,xe),X.tag=1,X=Hh(null,X,G,xe,ae)):(X.tag=0,X=Kc(null,X,G,xe,ae));else{if(G!=null){var Ye=G.$$typeof;if(Ye===Le){X.tag=11,X=Fh(null,X,G,xe,ae);break e}else if(Ye===je){X.tag=14,X=Uh(null,X,G,xe,ae);break e}}throw X=Qe(G)||G,Error(b(306,X,""))}}return X;case 0:return Kc(G,X,X.type,X.pendingProps,ae);case 1:return xe=X.type,Ye=zu(xe,X.pendingProps),Hh(G,X,xe,Ye,ae);case 3:e:{if(lr(X,X.stateNode.containerInfo),G===null)throw Error(b(387));xe=X.pendingProps;var ot=X.memoizedState;Ye=ot.element,Kt(G,X),ci(X,xe,null,ae);var Pt=X.memoizedState;if(xe=Pt.cache,qs(X,To,xe),xe!==ot.cache&&pl(X,[To],ae,!0),Zn(),xe=Pt.element,ot.isDehydrated)if(ot={element:xe,isDehydrated:!1,cache:Pt.cache},X.updateQueue.baseState=ot,X.memoizedState=ot,X.flags&256){X=Vh(G,X,xe,ae);break e}else if(xe!==Ye){Ye=ye(Error(b(424)),X),eu(Ye),X=Vh(G,X,xe,ae);break e}else{switch(G=X.stateNode.containerInfo,G.nodeType){case 9:G=G.body;break;default:G=G.nodeName==="HTML"?G.ownerDocument.body:G}for(da=Fs(G.firstChild),ta=X,ia=!0,ps=null,rs=!0,ae=ht(X,null,xe,ae),X.child=ae;ae;)ae.flags=ae.flags&-3|4096,ae=ae.sibling}else{if(Ws(),xe===Ye){X=su(G,X,ae);break e}ns(G,X,xe,ae)}X=X.child}return X;case 26:return ec(G,X),G===null?(ae=sd(X.type,null,X.pendingProps,null))?X.memoizedState=ae:ia||(ae=X.type,G=X.pendingProps,xe=gc(Ct.current).createElement(ae),xe[pr]=X,xe[gr]=G,is(xe,ae,G),fi(xe),X.stateNode=xe):X.memoizedState=sd(X.type,G.memoizedProps,X.pendingProps,G.memoizedState),null;case 27:return Ve(X),G===null&&ia&&(xe=X.stateNode=id(X.type,X.pendingProps,Ct.current),ta=X,rs=!0,Ye=da,Lu(X.type)?(If=Ye,da=Fs(xe.firstChild)):da=Ye),ns(G,X,X.pendingProps.children,ae),ec(G,X),G===null&&(X.flags|=4194304),X.child;case 5:return G===null&&ia&&((Ye=xe=da)&&(xe=f0(xe,X.type,X.pendingProps,rs),xe!==null?(X.stateNode=xe,ta=X,da=Fs(xe.firstChild),rs=!1,Ye=!0):Ye=!1),Ye||Ps(X)),Ve(X),Ye=X.type,ot=X.pendingProps,Pt=G!==null?G.memoizedProps:null,xe=ot.children,Nf(Ye,ot)?xe=null:Pt!==null&&Nf(Ye,Pt)&&(X.flags|=32),X.memoizedState!==null&&(Ye=ju(G,X,Gu,null,null,ae),Pl._currentValue=Ye),ec(G,X),ns(G,X,xe,ae),X.child;case 6:return G===null&&ia&&((G=ae=da)&&(ae=h0(ae,X.pendingProps,rs),ae!==null?(X.stateNode=ae,ta=X,da=null,G=!0):G=!1),G||Ps(X)),null;case 13:return Xh(G,X,ae);case 4:return lr(X,X.stateNode.containerInfo),xe=X.pendingProps,G===null?X.child=$e(X,null,xe,ae):ns(G,X,xe,ae),X.child;case 11:return Fh(G,X,X.type,X.pendingProps,ae);case 7:return ns(G,X,X.pendingProps,ae),X.child;case 8:return ns(G,X,X.pendingProps.children,ae),X.child;case 12:return ns(G,X,X.pendingProps.children,ae),X.child;case 10:return xe=X.pendingProps,qs(X,X.type,xe.value),ns(G,X,xe.children,ae),X.child;case 9:return Ye=X.type._context,xe=X.pendingProps.children,As(X),Ye=wo(Ye),xe=xe(Ye),X.flags|=1,ns(G,X,xe,ae),X.child;case 14:return Uh(G,X,X.type,X.pendingProps,ae);case 15:return jh(G,X,X.type,X.pendingProps,ae);case 19:return Yh(G,X,ae);case 31:return Rd(G,X,ae);case 22:return Gh(G,X,ae,X.pendingProps);case 24:return As(X),xe=wo(To),G===null?(Ye=_l(),Ye===null&&(Ye=Ka,ot=dl(),Ye.pooledCache=ot,ot.refCount++,ot!==null&&(Ye.pooledCacheLanes|=ae),Ye=ot),X.memoizedState={parent:xe,cache:Ye},Ot(X),qs(X,To,Ye)):((G.lanes&ae)!==0&&(Kt(G,X),ci(X,null,null,ae),Zn()),Ye=G.memoizedState,ot=X.memoizedState,Ye.parent!==xe?(Ye={parent:xe,cache:xe},X.memoizedState=Ye,X.lanes===0&&(X.memoizedState=X.updateQueue.baseState=Ye),qs(X,To,xe)):(xe=ot.cache,qs(X,To,xe),xe!==Ye.cache&&pl(X,[To],ae,!0))),ns(G,X,X.pendingProps.children,ae),X.child;case 29:throw X.pendingProps}throw Error(b(156,X.tag))}function uu(G){G.flags|=4}function af(G,X,ae,xe,Ye){if((X=(G.mode&32)!==0)&&(X=!1),X){if(G.flags|=16777216,(Ye&335544128)===Ye)if(G.stateNode.complete)G.flags|=8192;else if(wp())G.flags|=8192;else throw au=Qu,gl}else G.flags&=-16777217}function Qh(G,X){if(X.type!=="stylesheet"||(X.state.loading&4)!==0)G.flags&=-16777217;else if(G.flags|=16777216,!hd(X))if(wp())G.flags|=8192;else throw au=Qu,gl}function rc(G,X){X!==null&&(G.flags|=4),G.flags&16384&&(X=G.tag!==22?Yt():536870912,G.lanes|=X,il|=X)}function El(G,X){if(!ia)switch(G.tailMode){case"hidden":X=G.tail;for(var ae=null;X!==null;)X.alternate!==null&&(ae=X),X=X.sibling;ae===null?G.tail=null:ae.sibling=null;break;case"collapsed":ae=G.tail;for(var xe=null;ae!==null;)ae.alternate!==null&&(xe=ae),ae=ae.sibling;xe===null?X||G.tail===null?G.tail=null:G.tail.sibling=null:xe.sibling=null}}function lo(G){var X=G.alternate!==null&&G.alternate.child===G.child,ae=0,xe=0;if(X)for(var Ye=G.child;Ye!==null;)ae|=Ye.lanes|Ye.childLanes,xe|=Ye.subtreeFlags&65011712,xe|=Ye.flags&65011712,Ye.return=G,Ye=Ye.sibling;else for(Ye=G.child;Ye!==null;)ae|=Ye.lanes|Ye.childLanes,xe|=Ye.subtreeFlags,xe|=Ye.flags,Ye.return=G,Ye=Ye.sibling;return G.subtreeFlags|=xe,G.childLanes=ae,X}function Pd(G,X,ae){var xe=X.pendingProps;switch(fo(X),X.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lo(X),null;case 1:return lo(X),null;case 3:return ae=X.stateNode,xe=null,G!==null&&(xe=G.memoizedState.cache),X.memoizedState.cache!==xe&&(X.flags|=2048),Hs(To),Je(),ae.pendingContext&&(ae.context=ae.pendingContext,ae.pendingContext=null),(G===null||G.child===null)&&(ys(X)?uu(X):G===null||G.memoizedState.isDehydrated&&(X.flags&256)===0||(X.flags|=1024,cs())),lo(X),null;case 26:var Ye=X.type,ot=X.memoizedState;return G===null?(uu(X),ot!==null?(lo(X),Qh(X,ot)):(lo(X),af(X,Ye,null,xe,ae))):ot?ot!==G.memoizedState?(uu(X),lo(X),Qh(X,ot)):(lo(X),X.flags&=-16777217):(G=G.memoizedProps,G!==xe&&uu(X),lo(X),af(X,Ye,G,xe,ae)),null;case 27:if(st(X),ae=Ct.current,Ye=X.type,G!==null&&X.stateNode!=null)G.memoizedProps!==xe&&uu(X);else{if(!xe){if(X.stateNode===null)throw Error(b(166));return lo(X),null}G=Bt.current,ys(X)?Iu(X):(G=id(Ye,xe,ae),X.stateNode=G,uu(X))}return lo(X),null;case 5:if(st(X),Ye=X.type,G!==null&&X.stateNode!=null)G.memoizedProps!==xe&&uu(X);else{if(!xe){if(X.stateNode===null)throw Error(b(166));return lo(X),null}if(ot=Bt.current,ys(X))Iu(X);else{var Pt=gc(Ct.current);switch(ot){case 1:ot=Pt.createElementNS("http://www.w3.org/2000/svg",Ye);break;case 2:ot=Pt.createElementNS("http://www.w3.org/1998/Math/MathML",Ye);break;default:switch(Ye){case"svg":ot=Pt.createElementNS("http://www.w3.org/2000/svg",Ye);break;case"math":ot=Pt.createElementNS("http://www.w3.org/1998/Math/MathML",Ye);break;case"script":ot=Pt.createElement("div"),ot.innerHTML="<script><\/script>",ot=ot.removeChild(ot.firstChild);break;case"select":ot=typeof xe.is=="string"?Pt.createElement("select",{is:xe.is}):Pt.createElement("select"),xe.multiple?ot.multiple=!0:xe.size&&(ot.size=xe.size);break;default:ot=typeof xe.is=="string"?Pt.createElement(Ye,{is:xe.is}):Pt.createElement(Ye)}}ot[pr]=X,ot[gr]=xe;e:for(Pt=X.child;Pt!==null;){if(Pt.tag===5||Pt.tag===6)ot.appendChild(Pt.stateNode);else if(Pt.tag!==4&&Pt.tag!==27&&Pt.child!==null){Pt.child.return=Pt,Pt=Pt.child;continue}if(Pt===X)break e;for(;Pt.sibling===null;){if(Pt.return===null||Pt.return===X)break e;Pt=Pt.return}Pt.sibling.return=Pt.return,Pt=Pt.sibling}X.stateNode=ot;e:switch(is(ot,Ye,xe),Ye){case"button":case"input":case"select":case"textarea":xe=!!xe.autoFocus;break e;case"img":xe=!0;break e;default:xe=!1}xe&&uu(X)}}return lo(X),af(X,X.type,G===null?null:G.memoizedProps,X.pendingProps,ae),null;case 6:if(G&&X.stateNode!=null)G.memoizedProps!==xe&&uu(X);else{if(typeof xe!="string"&&X.stateNode===null)throw Error(b(166));if(G=Ct.current,ys(X)){if(G=X.stateNode,ae=X.memoizedProps,xe=null,Ye=ta,Ye!==null)switch(Ye.tag){case 27:case 5:xe=Ye.memoizedProps}G[pr]=X,G=!!(G.nodeValue===ae||xe!==null&&xe.suppressHydrationWarning===!0||Xp(G.nodeValue,ae)),G||Ps(X,!0)}else G=gc(G).createTextNode(xe),G[pr]=X,X.stateNode=G}return lo(X),null;case 31:if(ae=X.memoizedState,G===null||G.memoizedState!==null){if(xe=ys(X),ae!==null){if(G===null){if(!xe)throw Error(b(318));if(G=X.memoizedState,G=G!==null?G.dehydrated:null,!G)throw Error(b(557));G[pr]=X}else Ws(),(X.flags&128)===0&&(X.memoizedState=null),X.flags|=4;lo(X),G=!1}else ae=cs(),G!==null&&G.memoizedState!==null&&(G.memoizedState.hydrationErrors=ae),G=!0;if(!G)return X.flags&256?(Er(X),X):(Er(X),null);if((X.flags&128)!==0)throw Error(b(558))}return lo(X),null;case 13:if(xe=X.memoizedState,G===null||G.memoizedState!==null&&G.memoizedState.dehydrated!==null){if(Ye=ys(X),xe!==null&&xe.dehydrated!==null){if(G===null){if(!Ye)throw Error(b(318));if(Ye=X.memoizedState,Ye=Ye!==null?Ye.dehydrated:null,!Ye)throw Error(b(317));Ye[pr]=X}else Ws(),(X.flags&128)===0&&(X.memoizedState=null),X.flags|=4;lo(X),Ye=!1}else Ye=cs(),G!==null&&G.memoizedState!==null&&(G.memoizedState.hydrationErrors=Ye),Ye=!0;if(!Ye)return X.flags&256?(Er(X),X):(Er(X),null)}return Er(X),(X.flags&128)!==0?(X.lanes=ae,X):(ae=xe!==null,G=G!==null&&G.memoizedState!==null,ae&&(xe=X.child,Ye=null,xe.alternate!==null&&xe.alternate.memoizedState!==null&&xe.alternate.memoizedState.cachePool!==null&&(Ye=xe.alternate.memoizedState.cachePool.pool),ot=null,xe.memoizedState!==null&&xe.memoizedState.cachePool!==null&&(ot=xe.memoizedState.cachePool.pool),ot!==Ye&&(xe.flags|=2048)),ae!==G&&ae&&(X.child.flags|=8192),rc(X,X.updateQueue),lo(X),null);case 4:return Je(),G===null&&Af(X.stateNode.containerInfo),lo(X),null;case 10:return Hs(X.type),lo(X),null;case 19:if(yt(Ir),xe=X.memoizedState,xe===null)return lo(X),null;if(Ye=(X.flags&128)!==0,ot=xe.rendering,ot===null)if(Ye)El(xe,!1);else{if(Co!==0||G!==null&&(G.flags&128)!==0)for(G=X.child;G!==null;){if(ot=qr(G),ot!==null){for(X.flags|=128,El(xe,!1),G=ot.updateQueue,X.updateQueue=G,rc(X,G),X.subtreeFlags=0,G=ae,ae=X.child;ae!==null;)gs(ae,G),ae=ae.sibling;return Gt(Ir,Ir.current&1|2),ia&&Ai(X,xe.treeForkCount),X.child}G=G.sibling}xe.tail!==null&&Cr()>sc&&(X.flags|=128,Ye=!0,El(xe,!1),X.lanes=4194304)}else{if(!Ye)if(G=qr(ot),G!==null){if(X.flags|=128,Ye=!0,G=G.updateQueue,X.updateQueue=G,rc(X,G),El(xe,!0),xe.tail===null&&xe.tailMode==="hidden"&&!ot.alternate&&!ia)return lo(X),null}else 2*Cr()-xe.renderingStartTime>sc&&ae!==536870912&&(X.flags|=128,Ye=!0,El(xe,!1),X.lanes=4194304);xe.isBackwards?(ot.sibling=X.child,X.child=ot):(G=xe.last,G!==null?G.sibling=ot:X.child=ot,xe.last=ot)}return xe.tail!==null?(G=xe.tail,xe.rendering=G,xe.tail=G.sibling,xe.renderingStartTime=Cr(),G.sibling=null,ae=Ir.current,Gt(Ir,Ye?ae&1|2:ae&1),ia&&Ai(X,xe.treeForkCount),G):(lo(X),null);case 22:case 23:return Er(X),un(),xe=X.memoizedState!==null,G!==null?G.memoizedState!==null!==xe&&(X.flags|=8192):xe&&(X.flags|=8192),xe?(ae&536870912)!==0&&(X.flags&128)===0&&(lo(X),X.subtreeFlags&6&&(X.flags|=8192)):lo(X),ae=X.updateQueue,ae!==null&&rc(X,ae.retryQueue),ae=null,G!==null&&G.memoizedState!==null&&G.memoizedState.cachePool!==null&&(ae=G.memoizedState.cachePool.pool),xe=null,X.memoizedState!==null&&X.memoizedState.cachePool!==null&&(xe=X.memoizedState.cachePool.pool),xe!==ae&&(X.flags|=2048),G!==null&&yt(ru),null;case 24:return ae=null,G!==null&&(ae=G.memoizedState.cache),X.memoizedState.cache!==ae&&(X.flags|=2048),Hs(To),lo(X),null;case 25:return null;case 30:return null}throw Error(b(156,X.tag))}function Id(G,X){switch(fo(X),X.tag){case 1:return G=X.flags,G&65536?(X.flags=G&-65537|128,X):null;case 3:return Hs(To),Je(),G=X.flags,(G&65536)!==0&&(G&128)===0?(X.flags=G&-65537|128,X):null;case 26:case 27:case 5:return st(X),null;case 31:if(X.memoizedState!==null){if(Er(X),X.alternate===null)throw Error(b(340));Ws()}return G=X.flags,G&65536?(X.flags=G&-65537|128,X):null;case 13:if(Er(X),G=X.memoizedState,G!==null&&G.dehydrated!==null){if(X.alternate===null)throw Error(b(340));Ws()}return G=X.flags,G&65536?(X.flags=G&-65537|128,X):null;case 19:return yt(Ir),null;case 4:return Je(),null;case 10:return Hs(X.type),null;case 22:case 23:return Er(X),un(),G!==null&&yt(ru),G=X.flags,G&65536?(X.flags=G&-65537|128,X):null;case 24:return Hs(To),null;case 25:return null;default:return null}}function Jh(G,X){switch(fo(X),X.tag){case 3:Hs(To),Je();break;case 26:case 27:case 5:st(X);break;case 4:Je();break;case 31:X.memoizedState!==null&&Er(X);break;case 13:Er(X);break;case 19:yt(Ir);break;case 10:Hs(X.type);break;case 22:case 23:Er(X),un(),G!==null&&yt(ru);break;case 24:Hs(To)}}function wl(G,X){try{var ae=X.updateQueue,xe=ae!==null?ae.lastEffect:null;if(xe!==null){var Ye=xe.next;ae=Ye;do{if((ae.tag&G)===G){xe=void 0;var ot=ae.create,Pt=ae.inst;xe=ot(),Pt.destroy=xe}ae=ae.next}while(ae!==Ye)}}catch(dr){Ua(X,X.return,dr)}}function Eu(G,X,ae){try{var xe=X.updateQueue,Ye=xe!==null?xe.lastEffect:null;if(Ye!==null){var ot=Ye.next;xe=ot;do{if((xe.tag&G)===G){var Pt=xe.inst,dr=Pt.destroy;if(dr!==void 0){Pt.destroy=void 0,Ye=X;var jr=ae,yn=dr;try{yn()}catch(Pn){Ua(Ye,jr,Pn)}}}xe=xe.next}while(xe!==ot)}}catch(Pn){Ua(X,X.return,Pn)}}function $h(G){var X=G.updateQueue;if(X!==null){var ae=G.stateNode;try{ma(X,ae)}catch(xe){Ua(G,G.return,xe)}}}function ep(G,X,ae){ae.props=zu(G.type,G.memoizedProps),ae.state=G.memoizedState;try{ae.componentWillUnmount()}catch(xe){Ua(G,X,xe)}}function Tl(G,X){try{var ae=G.ref;if(ae!==null){switch(G.tag){case 26:case 27:case 5:var xe=G.stateNode;break;case 30:xe=G.stateNode;break;default:xe=G.stateNode}typeof ae=="function"?G.refCleanup=ae(xe):ae.current=xe}}catch(Ye){Ua(G,X,Ye)}}function Qs(G,X){var ae=G.ref,xe=G.refCleanup;if(ae!==null)if(typeof xe=="function")try{xe()}catch(Ye){Ua(G,X,Ye)}finally{G.refCleanup=null,G=G.alternate,G!=null&&(G.refCleanup=null)}else if(typeof ae=="function")try{ae(null)}catch(Ye){Ua(G,X,Ye)}else ae.current=null}function tp(G){var X=G.type,ae=G.memoizedProps,xe=G.stateNode;try{e:switch(X){case"button":case"input":case"select":case"textarea":ae.autoFocus&&xe.focus();break e;case"img":ae.src?xe.src=ae.src:ae.srcSet&&(xe.srcset=ae.srcSet)}}catch(Ye){Ua(G,G.return,Ye)}}function of(G,X,ae){try{var xe=G.stateNode;a0(xe,G.type,ae,X),xe[gr]=X}catch(Ye){Ua(G,G.return,Ye)}}function rp(G){return G.tag===5||G.tag===3||G.tag===26||G.tag===27&&Lu(G.type)||G.tag===4}function sf(G){e:for(;;){for(;G.sibling===null;){if(G.return===null||rp(G.return))return null;G=G.return}for(G.sibling.return=G.return,G=G.sibling;G.tag!==5&&G.tag!==6&&G.tag!==18;){if(G.tag===27&&Lu(G.type)||G.flags&2||G.child===null||G.tag===4)continue e;G.child.return=G,G=G.child}if(!(G.flags&2))return G.stateNode}}function uf(G,X,ae){var xe=G.tag;if(xe===5||xe===6)G=G.stateNode,X?(ae.nodeType===9?ae.body:ae.nodeName==="HTML"?ae.ownerDocument.body:ae).insertBefore(G,X):(X=ae.nodeType===9?ae.body:ae.nodeName==="HTML"?ae.ownerDocument.body:ae,X.appendChild(G),ae=ae._reactRootContainer,ae!=null||X.onclick!==null||(X.onclick=kt));else if(xe!==4&&(xe===27&&Lu(G.type)&&(ae=G.stateNode,X=null),G=G.child,G!==null))for(uf(G,X,ae),G=G.sibling;G!==null;)uf(G,X,ae),G=G.sibling}function nc(G,X,ae){var xe=G.tag;if(xe===5||xe===6)G=G.stateNode,X?ae.insertBefore(G,X):ae.appendChild(G);else if(xe!==4&&(xe===27&&Lu(G.type)&&(ae=G.stateNode),G=G.child,G!==null))for(nc(G,X,ae),G=G.sibling;G!==null;)nc(G,X,ae),G=G.sibling}function np(G){var X=G.stateNode,ae=G.memoizedProps;try{for(var xe=G.type,Ye=X.attributes;Ye.length;)X.removeAttributeNode(Ye[0]);is(X,xe,ae),X[pr]=G,X[gr]=ae}catch(ot){Ua(G,G.return,ot)}}var lu=!1,Fo=!1,lf=!1,ip=typeof WeakSet=="function"?WeakSet:Set,Jo=null;function Fd(G,X){if(G=G.containerInfo,kf=Tc,G=Di(G),ki(G)){if("selectionStart"in G)var ae={start:G.selectionStart,end:G.selectionEnd};else e:{ae=(ae=G.ownerDocument)&&ae.defaultView||window;var xe=ae.getSelection&&ae.getSelection();if(xe&&xe.rangeCount!==0){ae=xe.anchorNode;var Ye=xe.anchorOffset,ot=xe.focusNode;xe=xe.focusOffset;try{ae.nodeType,ot.nodeType}catch{ae=null;break e}var Pt=0,dr=-1,jr=-1,yn=0,Pn=0,Hn=G,Tn=null;t:for(;;){for(var An;Hn!==ae||Ye!==0&&Hn.nodeType!==3||(dr=Pt+Ye),Hn!==ot||xe!==0&&Hn.nodeType!==3||(jr=Pt+xe),Hn.nodeType===3&&(Pt+=Hn.nodeValue.length),(An=Hn.firstChild)!==null;)Tn=Hn,Hn=An;for(;;){if(Hn===G)break t;if(Tn===ae&&++yn===Ye&&(dr=Pt),Tn===ot&&++Pn===xe&&(jr=Pt),(An=Hn.nextSibling)!==null)break;Hn=Tn,Tn=Hn.parentNode}Hn=An}ae=dr===-1||jr===-1?null:{start:dr,end:jr}}else ae=null}ae=ae||{start:0,end:0}}else ae=null;for(Of={focusedElem:G,selectionRange:ae},Tc=!1,Jo=X;Jo!==null;)if(X=Jo,G=X.child,(X.subtreeFlags&1028)!==0&&G!==null)G.return=X,Jo=G;else for(;Jo!==null;){switch(X=Jo,ot=X.alternate,G=X.flags,X.tag){case 0:if((G&4)!==0&&(G=X.updateQueue,G=G!==null?G.events:null,G!==null))for(ae=0;ae<G.length;ae++)Ye=G[ae],Ye.ref.impl=Ye.nextImpl;break;case 11:case 15:break;case 1:if((G&1024)!==0&&ot!==null){G=void 0,ae=X,Ye=ot.memoizedProps,ot=ot.memoizedState,xe=ae.stateNode;try{var Ti=zu(ae.type,Ye);G=xe.getSnapshotBeforeUpdate(Ti,ot),xe.__reactInternalSnapshotBeforeUpdate=G}catch(ji){Ua(ae,ae.return,ji)}}break;case 3:if((G&1024)!==0){if(G=X.stateNode.containerInfo,ae=G.nodeType,ae===9)Rf(G);else if(ae===1)switch(G.nodeName){case"HEAD":case"HTML":case"BODY":Rf(G);break;default:G.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((G&1024)!==0)throw Error(b(163))}if(G=X.sibling,G!==null){G.return=X.return,Jo=G;break}Jo=X.return}}function ap(G,X,ae){var xe=ae.flags;switch(ae.tag){case 0:case 11:case 15:fu(G,ae),xe&4&&wl(5,ae);break;case 1:if(fu(G,ae),xe&4)if(G=ae.stateNode,X===null)try{G.componentDidMount()}catch(Pt){Ua(ae,ae.return,Pt)}else{var Ye=zu(ae.type,X.memoizedProps);X=X.memoizedState;try{G.componentDidUpdate(Ye,X,G.__reactInternalSnapshotBeforeUpdate)}catch(Pt){Ua(ae,ae.return,Pt)}}xe&64&&$h(ae),xe&512&&Tl(ae,ae.return);break;case 3:if(fu(G,ae),xe&64&&(G=ae.updateQueue,G!==null)){if(X=null,ae.child!==null)switch(ae.child.tag){case 27:case 5:X=ae.child.stateNode;break;case 1:X=ae.child.stateNode}try{ma(G,X)}catch(Pt){Ua(ae,ae.return,Pt)}}break;case 27:X===null&&xe&4&&np(ae);case 26:case 5:fu(G,ae),X===null&&xe&4&&tp(ae),xe&512&&Tl(ae,ae.return);break;case 12:fu(G,ae);break;case 31:fu(G,ae),xe&4&&up(G,ae);break;case 13:fu(G,ae),xe&4&&lp(G,ae),xe&64&&(G=ae.memoizedState,G!==null&&(G=G.dehydrated,G!==null&&(ae=Xd.bind(null,ae),p0(G,ae))));break;case 22:if(xe=ae.memoizedState!==null||lu,!xe){X=X!==null&&X.memoizedState!==null||Fo,Ye=lu;var ot=Fo;lu=xe,(Fo=X)&&!ot?hu(G,ae,(ae.subtreeFlags&8772)!==0):fu(G,ae),lu=Ye,Fo=ot}break;case 30:break;default:fu(G,ae)}}function op(G){var X=G.alternate;X!==null&&(G.alternate=null,op(X)),G.child=null,G.deletions=null,G.sibling=null,G.tag===5&&(X=G.stateNode,X!==null&&Bn(X)),G.stateNode=null,G.return=null,G.dependencies=null,G.memoizedProps=null,G.memoizedState=null,G.pendingProps=null,G.stateNode=null,G.updateQueue=null}var ho=null,vs=!1;function cu(G,X,ae){for(ae=ae.child;ae!==null;)sp(G,X,ae),ae=ae.sibling}function sp(G,X,ae){if(Si&&typeof Si.onCommitFiberUnmount=="function")try{Si.onCommitFiberUnmount(oi,ae)}catch{}switch(ae.tag){case 26:Fo||Qs(ae,X),cu(G,X,ae),ae.memoizedState?ae.memoizedState.count--:ae.stateNode&&(ae=ae.stateNode,ae.parentNode.removeChild(ae));break;case 27:Fo||Qs(ae,X);var xe=ho,Ye=vs;Lu(ae.type)&&(ho=ae.stateNode,vs=!1),cu(G,X,ae),Dl(ae.stateNode),ho=xe,vs=Ye;break;case 5:Fo||Qs(ae,X);case 6:if(xe=ho,Ye=vs,ho=null,cu(G,X,ae),ho=xe,vs=Ye,ho!==null)if(vs)try{(ho.nodeType===9?ho.body:ho.nodeName==="HTML"?ho.ownerDocument.body:ho).removeChild(ae.stateNode)}catch(ot){Ua(ae,X,ot)}else try{ho.removeChild(ae.stateNode)}catch(ot){Ua(ae,X,ot)}break;case 18:ho!==null&&(vs?(G=ho,$p(G.nodeType===9?G.body:G.nodeName==="HTML"?G.ownerDocument.body:G,ae.stateNode),hl(G)):$p(ho,ae.stateNode));break;case 4:xe=ho,Ye=vs,ho=ae.stateNode.containerInfo,vs=!0,cu(G,X,ae),ho=xe,vs=Ye;break;case 0:case 11:case 14:case 15:Eu(2,ae,X),Fo||Eu(4,ae,X),cu(G,X,ae);break;case 1:Fo||(Qs(ae,X),xe=ae.stateNode,typeof xe.componentWillUnmount=="function"&&ep(ae,X,xe)),cu(G,X,ae);break;case 21:cu(G,X,ae);break;case 22:Fo=(xe=Fo)||ae.memoizedState!==null,cu(G,X,ae),Fo=xe;break;default:cu(G,X,ae)}}function up(G,X){if(X.memoizedState===null&&(G=X.alternate,G!==null&&(G=G.memoizedState,G!==null))){G=G.dehydrated;try{hl(G)}catch(ae){Ua(X,X.return,ae)}}}function lp(G,X){if(X.memoizedState===null&&(G=X.alternate,G!==null&&(G=G.memoizedState,G!==null&&(G=G.dehydrated,G!==null))))try{hl(G)}catch(ae){Ua(X,X.return,ae)}}function Ud(G){switch(G.tag){case 31:case 13:case 19:var X=G.stateNode;return X===null&&(X=G.stateNode=new ip),X;case 22:return G=G.stateNode,X=G._retryCache,X===null&&(X=G._retryCache=new ip),X;default:throw Error(b(435,G.tag))}}function ic(G,X){var ae=Ud(G);X.forEach(function(xe){if(!ae.has(xe)){ae.add(xe);var Ye=Zd.bind(null,G,xe);xe.then(Ye,Ye)}})}function xs(G,X){var ae=X.deletions;if(ae!==null)for(var xe=0;xe<ae.length;xe++){var Ye=ae[xe],ot=G,Pt=X,dr=Pt;e:for(;dr!==null;){switch(dr.tag){case 27:if(Lu(dr.type)){ho=dr.stateNode,vs=!1;break e}break;case 5:ho=dr.stateNode,vs=!1;break e;case 3:case 4:ho=dr.stateNode.containerInfo,vs=!0;break e}dr=dr.return}if(ho===null)throw Error(b(160));sp(ot,Pt,Ye),ho=null,vs=!1,ot=Ye.alternate,ot!==null&&(ot.return=null),Ye.return=null}if(X.subtreeFlags&13886)for(X=X.child;X!==null;)cp(X,G),X=X.sibling}var Zs=null;function cp(G,X){var ae=G.alternate,xe=G.flags;switch(G.tag){case 0:case 11:case 14:case 15:xs(X,G),bs(G),xe&4&&(Eu(3,G,G.return),wl(3,G),Eu(5,G,G.return));break;case 1:xs(X,G),bs(G),xe&512&&(Fo||ae===null||Qs(ae,ae.return)),xe&64&&lu&&(G=G.updateQueue,G!==null&&(xe=G.callbacks,xe!==null&&(ae=G.shared.hiddenCallbacks,G.shared.hiddenCallbacks=ae===null?xe:ae.concat(xe))));break;case 26:var Ye=Zs;if(xs(X,G),bs(G),xe&512&&(Fo||ae===null||Qs(ae,ae.return)),xe&4){var ot=ae!==null?ae.memoizedState:null;if(xe=G.memoizedState,ae===null)if(xe===null)if(G.stateNode===null){e:{xe=G.type,ae=G.memoizedProps,Ye=Ye.ownerDocument||Ye;t:switch(xe){case"title":ot=Ye.getElementsByTagName("title")[0],(!ot||ot[$r]||ot[pr]||ot.namespaceURI==="http://www.w3.org/2000/svg"||ot.hasAttribute("itemprop"))&&(ot=Ye.createElement(xe),Ye.head.insertBefore(ot,Ye.querySelector("head > title"))),is(ot,xe,ae),ot[pr]=G,fi(ot),xe=ot;break e;case"link":var Pt=cd("link","href",Ye).get(xe+(ae.href||""));if(Pt){for(var dr=0;dr<Pt.length;dr++)if(ot=Pt[dr],ot.getAttribute("href")===(ae.href==null||ae.href===""?null:ae.href)&&ot.getAttribute("rel")===(ae.rel==null?null:ae.rel)&&ot.getAttribute("title")===(ae.title==null?null:ae.title)&&ot.getAttribute("crossorigin")===(ae.crossOrigin==null?null:ae.crossOrigin)){Pt.splice(dr,1);break t}}ot=Ye.createElement(xe),is(ot,xe,ae),Ye.head.appendChild(ot);break;case"meta":if(Pt=cd("meta","content",Ye).get(xe+(ae.content||""))){for(dr=0;dr<Pt.length;dr++)if(ot=Pt[dr],ot.getAttribute("content")===(ae.content==null?null:""+ae.content)&&ot.getAttribute("name")===(ae.name==null?null:ae.name)&&ot.getAttribute("property")===(ae.property==null?null:ae.property)&&ot.getAttribute("http-equiv")===(ae.httpEquiv==null?null:ae.httpEquiv)&&ot.getAttribute("charset")===(ae.charSet==null?null:ae.charSet)){Pt.splice(dr,1);break t}}ot=Ye.createElement(xe),is(ot,xe,ae),Ye.head.appendChild(ot);break;default:throw Error(b(468,xe))}ot[pr]=G,fi(ot),xe=ot}G.stateNode=xe}else fd(Ye,G.type,G.stateNode);else G.stateNode=ld(Ye,xe,G.memoizedProps);else ot!==xe?(ot===null?ae.stateNode!==null&&(ae=ae.stateNode,ae.parentNode.removeChild(ae)):ot.count--,xe===null?fd(Ye,G.type,G.stateNode):ld(Ye,xe,G.memoizedProps)):xe===null&&G.stateNode!==null&&of(G,G.memoizedProps,ae.memoizedProps)}break;case 27:xs(X,G),bs(G),xe&512&&(Fo||ae===null||Qs(ae,ae.return)),ae!==null&&xe&4&&of(G,G.memoizedProps,ae.memoizedProps);break;case 5:if(xs(X,G),bs(G),xe&512&&(Fo||ae===null||Qs(ae,ae.return)),G.flags&32){Ye=G.stateNode;try{Sa(Ye,"")}catch(Ti){Ua(G,G.return,Ti)}}xe&4&&G.stateNode!=null&&(Ye=G.memoizedProps,of(G,Ye,ae!==null?ae.memoizedProps:Ye)),xe&1024&&(lf=!0);break;case 6:if(xs(X,G),bs(G),xe&4){if(G.stateNode===null)throw Error(b(162));xe=G.memoizedProps,ae=G.stateNode;try{ae.nodeValue=xe}catch(Ti){Ua(G,G.return,Ti)}}break;case 3:if(xc=null,Ye=Zs,Zs=yc(X.containerInfo),xs(X,G),Zs=Ye,bs(G),xe&4&&ae!==null&&ae.memoizedState.isDehydrated)try{hl(X.containerInfo)}catch(Ti){Ua(G,G.return,Ti)}lf&&(lf=!1,fp(G));break;case 4:xe=Zs,Zs=yc(G.stateNode.containerInfo),xs(X,G),bs(G),Zs=xe;break;case 12:xs(X,G),bs(G);break;case 31:xs(X,G),bs(G),xe&4&&(xe=G.updateQueue,xe!==null&&(G.updateQueue=null,ic(G,xe)));break;case 13:xs(X,G),bs(G),G.child.flags&8192&&G.memoizedState!==null!=(ae!==null&&ae.memoizedState!==null)&&(oc=Cr()),xe&4&&(xe=G.updateQueue,xe!==null&&(G.updateQueue=null,ic(G,xe)));break;case 22:Ye=G.memoizedState!==null;var jr=ae!==null&&ae.memoizedState!==null,yn=lu,Pn=Fo;if(lu=yn||Ye,Fo=Pn||jr,xs(X,G),Fo=Pn,lu=yn,bs(G),xe&8192)e:for(X=G.stateNode,X._visibility=Ye?X._visibility&-2:X._visibility|1,Ye&&(ae===null||jr||lu||Fo||Wu(G)),ae=null,X=G;;){if(X.tag===5||X.tag===26){if(ae===null){jr=ae=X;try{if(ot=jr.stateNode,Ye)Pt=ot.style,typeof Pt.setProperty=="function"?Pt.setProperty("display","none","important"):Pt.display="none";else{dr=jr.stateNode;var Hn=jr.memoizedProps.style,Tn=Hn!=null&&Hn.hasOwnProperty("display")?Hn.display:null;dr.style.display=Tn==null||typeof Tn=="boolean"?"":(""+Tn).trim()}}catch(Ti){Ua(jr,jr.return,Ti)}}}else if(X.tag===6){if(ae===null){jr=X;try{jr.stateNode.nodeValue=Ye?"":jr.memoizedProps}catch(Ti){Ua(jr,jr.return,Ti)}}}else if(X.tag===18){if(ae===null){jr=X;try{var An=jr.stateNode;Ye?ed(An,!0):ed(jr.stateNode,!1)}catch(Ti){Ua(jr,jr.return,Ti)}}}else if((X.tag!==22&&X.tag!==23||X.memoizedState===null||X===G)&&X.child!==null){X.child.return=X,X=X.child;continue}if(X===G)break e;for(;X.sibling===null;){if(X.return===null||X.return===G)break e;ae===X&&(ae=null),X=X.return}ae===X&&(ae=null),X.sibling.return=X.return,X=X.sibling}xe&4&&(xe=G.updateQueue,xe!==null&&(ae=xe.retryQueue,ae!==null&&(xe.retryQueue=null,ic(G,ae))));break;case 19:xs(X,G),bs(G),xe&4&&(xe=G.updateQueue,xe!==null&&(G.updateQueue=null,ic(G,xe)));break;case 30:break;case 21:break;default:xs(X,G),bs(G)}}function bs(G){var X=G.flags;if(X&2){try{for(var ae,xe=G.return;xe!==null;){if(rp(xe)){ae=xe;break}xe=xe.return}if(ae==null)throw Error(b(160));switch(ae.tag){case 27:var Ye=ae.stateNode,ot=sf(G);nc(G,ot,Ye);break;case 5:var Pt=ae.stateNode;ae.flags&32&&(Sa(Pt,""),ae.flags&=-33);var dr=sf(G);nc(G,dr,Pt);break;case 3:case 4:var jr=ae.stateNode.containerInfo,yn=sf(G);uf(G,yn,jr);break;default:throw Error(b(161))}}catch(Pn){Ua(G,G.return,Pn)}G.flags&=-3}X&4096&&(G.flags&=-4097)}function fp(G){if(G.subtreeFlags&1024)for(G=G.child;G!==null;){var X=G;fp(X),X.tag===5&&X.flags&1024&&X.stateNode.reset(),G=G.sibling}}function fu(G,X){if(X.subtreeFlags&8772)for(X=X.child;X!==null;)ap(G,X.alternate,X),X=X.sibling}function Wu(G){for(G=G.child;G!==null;){var X=G;switch(X.tag){case 0:case 11:case 14:case 15:Eu(4,X,X.return),Wu(X);break;case 1:Qs(X,X.return);var ae=X.stateNode;typeof ae.componentWillUnmount=="function"&&ep(X,X.return,ae),Wu(X);break;case 27:Dl(X.stateNode);case 26:case 5:Qs(X,X.return),Wu(X);break;case 22:X.memoizedState===null&&Wu(X);break;case 30:Wu(X);break;default:Wu(X)}G=G.sibling}}function hu(G,X,ae){for(ae=ae&&(X.subtreeFlags&8772)!==0,X=X.child;X!==null;){var xe=X.alternate,Ye=G,ot=X,Pt=ot.flags;switch(ot.tag){case 0:case 11:case 15:hu(Ye,ot,ae),wl(4,ot);break;case 1:if(hu(Ye,ot,ae),xe=ot,Ye=xe.stateNode,typeof Ye.componentDidMount=="function")try{Ye.componentDidMount()}catch(yn){Ua(xe,xe.return,yn)}if(xe=ot,Ye=xe.updateQueue,Ye!==null){var dr=xe.stateNode;try{var jr=Ye.shared.hiddenCallbacks;if(jr!==null)for(Ye.shared.hiddenCallbacks=null,Ye=0;Ye<jr.length;Ye++)xi(jr[Ye],dr)}catch(yn){Ua(xe,xe.return,yn)}}ae&&Pt&64&&$h(ot),Tl(ot,ot.return);break;case 27:np(ot);case 26:case 5:hu(Ye,ot,ae),ae&&xe===null&&Pt&4&&tp(ot),Tl(ot,ot.return);break;case 12:hu(Ye,ot,ae);break;case 31:hu(Ye,ot,ae),ae&&Pt&4&&up(Ye,ot);break;case 13:hu(Ye,ot,ae),ae&&Pt&4&&lp(Ye,ot);break;case 22:ot.memoizedState===null&&hu(Ye,ot,ae),Tl(ot,ot.return);break;case 30:break;default:hu(Ye,ot,ae)}X=X.sibling}}function cf(G,X){var ae=null;G!==null&&G.memoizedState!==null&&G.memoizedState.cachePool!==null&&(ae=G.memoizedState.cachePool.pool),G=null,X.memoizedState!==null&&X.memoizedState.cachePool!==null&&(G=X.memoizedState.cachePool.pool),G!==ae&&(G!=null&&G.refCount++,ae!=null&&gu(ae))}function ff(G,X){G=null,X.alternate!==null&&(G=X.alternate.memoizedState.cache),X=X.memoizedState.cache,X!==G&&(X.refCount++,G!=null&&gu(G))}function Ys(G,X,ae,xe){if(X.subtreeFlags&10256)for(X=X.child;X!==null;)hp(G,X,ae,xe),X=X.sibling}function hp(G,X,ae,xe){var Ye=X.flags;switch(X.tag){case 0:case 11:case 15:Ys(G,X,ae,xe),Ye&2048&&wl(9,X);break;case 1:Ys(G,X,ae,xe);break;case 3:Ys(G,X,ae,xe),Ye&2048&&(G=null,X.alternate!==null&&(G=X.alternate.memoizedState.cache),X=X.memoizedState.cache,X!==G&&(X.refCount++,G!=null&&gu(G)));break;case 12:if(Ye&2048){Ys(G,X,ae,xe),G=X.stateNode;try{var ot=X.memoizedProps,Pt=ot.id,dr=ot.onPostCommit;typeof dr=="function"&&dr(Pt,X.alternate===null?"mount":"update",G.passiveEffectDuration,-0)}catch(jr){Ua(X,X.return,jr)}}else Ys(G,X,ae,xe);break;case 31:Ys(G,X,ae,xe);break;case 13:Ys(G,X,ae,xe);break;case 23:break;case 22:ot=X.stateNode,Pt=X.alternate,X.memoizedState!==null?ot._visibility&2?Ys(G,X,ae,xe):Cl(G,X):ot._visibility&2?Ys(G,X,ae,xe):(ot._visibility|=2,tl(G,X,ae,xe,(X.subtreeFlags&10256)!==0||!1)),Ye&2048&&cf(Pt,X);break;case 24:Ys(G,X,ae,xe),Ye&2048&&ff(X.alternate,X);break;default:Ys(G,X,ae,xe)}}function tl(G,X,ae,xe,Ye){for(Ye=Ye&&((X.subtreeFlags&10256)!==0||!1),X=X.child;X!==null;){var ot=G,Pt=X,dr=ae,jr=xe,yn=Pt.flags;switch(Pt.tag){case 0:case 11:case 15:tl(ot,Pt,dr,jr,Ye),wl(8,Pt);break;case 23:break;case 22:var Pn=Pt.stateNode;Pt.memoizedState!==null?Pn._visibility&2?tl(ot,Pt,dr,jr,Ye):Cl(ot,Pt):(Pn._visibility|=2,tl(ot,Pt,dr,jr,Ye)),Ye&&yn&2048&&cf(Pt.alternate,Pt);break;case 24:tl(ot,Pt,dr,jr,Ye),Ye&&yn&2048&&ff(Pt.alternate,Pt);break;default:tl(ot,Pt,dr,jr,Ye)}X=X.sibling}}function Cl(G,X){if(X.subtreeFlags&10256)for(X=X.child;X!==null;){var ae=G,xe=X,Ye=xe.flags;switch(xe.tag){case 22:Cl(ae,xe),Ye&2048&&cf(xe.alternate,xe);break;case 24:Cl(ae,xe),Ye&2048&&ff(xe.alternate,xe);break;default:Cl(ae,xe)}X=X.sibling}}var Sl=8192;function rl(G,X,ae){if(G.subtreeFlags&Sl)for(G=G.child;G!==null;)pp(G,X,ae),G=G.sibling}function pp(G,X,ae){switch(G.tag){case 26:rl(G,X,ae),G.flags&Sl&&G.memoizedState!==null&&C0(ae,Zs,G.memoizedState,G.memoizedProps);break;case 5:rl(G,X,ae);break;case 3:case 4:var xe=Zs;Zs=yc(G.stateNode.containerInfo),rl(G,X,ae),Zs=xe;break;case 22:G.memoizedState===null&&(xe=G.alternate,xe!==null&&xe.memoizedState!==null?(xe=Sl,Sl=16777216,rl(G,X,ae),Sl=xe):rl(G,X,ae));break;default:rl(G,X,ae)}}function dp(G){var X=G.alternate;if(X!==null&&(G=X.child,G!==null)){X.child=null;do X=G.sibling,G.sibling=null,G=X;while(G!==null)}}function Al(G){var X=G.deletions;if((G.flags&16)!==0){if(X!==null)for(var ae=0;ae<X.length;ae++){var xe=X[ae];Jo=xe,_p(xe,G)}dp(G)}if(G.subtreeFlags&10256)for(G=G.child;G!==null;)mp(G),G=G.sibling}function mp(G){switch(G.tag){case 0:case 11:case 15:Al(G),G.flags&2048&&Eu(9,G,G.return);break;case 3:Al(G);break;case 12:Al(G);break;case 22:var X=G.stateNode;G.memoizedState!==null&&X._visibility&2&&(G.return===null||G.return.tag!==13)?(X._visibility&=-3,ac(G)):Al(G);break;default:Al(G)}}function ac(G){var X=G.deletions;if((G.flags&16)!==0){if(X!==null)for(var ae=0;ae<X.length;ae++){var xe=X[ae];Jo=xe,_p(xe,G)}dp(G)}for(G=G.child;G!==null;){switch(X=G,X.tag){case 0:case 11:case 15:Eu(8,X,X.return),ac(X);break;case 22:ae=X.stateNode,ae._visibility&2&&(ae._visibility&=-3,ac(X));break;default:ac(X)}G=G.sibling}}function _p(G,X){for(;Jo!==null;){var ae=Jo;switch(ae.tag){case 0:case 11:case 15:Eu(8,ae,X);break;case 23:case 22:if(ae.memoizedState!==null&&ae.memoizedState.cachePool!==null){var xe=ae.memoizedState.cachePool.pool;xe!=null&&xe.refCount++}break;case 24:gu(ae.memoizedState.cache)}if(xe=ae.child,xe!==null)xe.return=ae,Jo=xe;else e:for(ae=G;Jo!==null;){xe=Jo;var Ye=xe.sibling,ot=xe.return;if(op(xe),xe===ae){Jo=null;break e}if(Ye!==null){Ye.return=ot,Jo=Ye;break e}Jo=ot}}}var jd={getCacheForType:function(G){var X=wo(To),ae=X.data.get(G);return ae===void 0&&(ae=G(),X.data.set(G,ae)),ae},cacheSignal:function(){return wo(To).controller.signal}},Gd=typeof WeakMap=="function"?WeakMap:Map,Ra=0,Ka=null,ya=null,xa=0,Fa=0,Ls=null,wu=!1,nl=!1,hf=!1,pu=0,Co=0,Tu=0,qu=0,pf=0,ks=0,il=0,Ml=null,Es=null,df=!1,oc=0,gp=0,sc=1/0,uc=null,Cu=null,Xo=0,Su=null,al=null,du=0,mf=0,_f=null,yp=null,Ll=0,gf=null;function Os(){return(Ra&2)!==0&&xa!==0?xa&-xa:pt.T!==null?wf():Zt()}function vp(){if(ks===0)if((xa&536870912)===0||ia){var G=ha;ha<<=1,(ha&3932160)===0&&(ha=262144),ks=G}else ks=536870912;return G=fn.current,G!==null&&(G.flags|=32),ks}function ws(G,X,ae){(G===Ka&&(Fa===2||Fa===9)||G.cancelPendingCommit!==null)&&(ol(G,0),Au(G,xa,ks,!1)),Gr(G,ae),((Ra&2)===0||G!==Ka)&&(G===Ka&&((Ra&2)===0&&(qu|=ae),Co===4&&Au(G,xa,ks,!1)),Js(G))}function xp(G,X,ae){if((Ra&6)!==0)throw Error(b(327));var xe=!ae&&(X&127)===0&&(X&G.expiredLanes)===0||jt(G,X),Ye=xe?qd(G,X):vf(G,X,!0),ot=xe;do{if(Ye===0){nl&&!xe&&Au(G,X,0,!1);break}else{if(ae=G.current.alternate,ot&&!zd(ae)){Ye=vf(G,X,!1),ot=!1;continue}if(Ye===2){if(ot=X,G.errorRecoveryDisabledLanes&ot)var Pt=0;else Pt=G.pendingLanes&-536870913,Pt=Pt!==0?Pt:Pt&536870912?536870912:0;if(Pt!==0){X=Pt;e:{var dr=G;Ye=Ml;var jr=dr.current.memoizedState.isDehydrated;if(jr&&(ol(dr,Pt).flags|=256),Pt=vf(dr,Pt,!1),Pt!==2){if(hf&&!jr){dr.errorRecoveryDisabledLanes|=ot,qu|=ot,Ye=4;break e}ot=Es,Es=Ye,ot!==null&&(Es===null?Es=ot:Es.push.apply(Es,ot))}Ye=Pt}if(ot=!1,Ye!==2)continue}}if(Ye===1){ol(G,0),Au(G,X,0,!0);break}e:{switch(xe=G,ot=Ye,ot){case 0:case 1:throw Error(b(345));case 4:if((X&4194048)!==X)break;case 6:Au(xe,X,ks,!wu);break e;case 2:Es=null;break;case 3:case 5:break;default:throw Error(b(329))}if((X&62914560)===X&&(Ye=oc+300-Cr(),10<Ye)){if(Au(xe,X,ks,!wu),_t(xe,0,!0)!==0)break e;du=X,xe.timeoutHandle=Qp(bp.bind(null,xe,ae,Es,uc,df,X,ks,qu,il,wu,ot,"Throttled",-0,0),Ye);break e}bp(xe,ae,Es,uc,df,X,ks,qu,il,wu,ot,null,-0,0)}}break}while(!0);Js(G)}function bp(G,X,ae,xe,Ye,ot,Pt,dr,jr,yn,Pn,Hn,Tn,An){if(G.timeoutHandle=-1,Hn=X.subtreeFlags,Hn&8192||(Hn&16785408)===16785408){Hn={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:kt},pp(X,ot,Hn);var Ti=(ot&62914560)===ot?oc-Cr():(ot&4194048)===ot?gp-Cr():0;if(Ti=S0(Hn,Ti),Ti!==null){du=ot,G.cancelPendingCommit=Ti(Lp.bind(null,G,X,ot,ae,xe,Ye,Pt,dr,jr,Pn,Hn,null,Tn,An)),Au(G,ot,Pt,!yn);return}}Lp(G,X,ot,ae,xe,Ye,Pt,dr,jr)}function zd(G){for(var X=G;;){var ae=X.tag;if((ae===0||ae===11||ae===15)&&X.flags&16384&&(ae=X.updateQueue,ae!==null&&(ae=ae.stores,ae!==null)))for(var xe=0;xe<ae.length;xe++){var Ye=ae[xe],ot=Ye.getSnapshot;Ye=Ye.value;try{if(!hr(ot(),Ye))return!1}catch{return!1}}if(ae=X.child,X.subtreeFlags&16384&&ae!==null)ae.return=X,X=ae;else{if(X===G)break;for(;X.sibling===null;){if(X.return===null||X.return===G)return!0;X=X.return}X.sibling.return=X.return,X=X.sibling}}return!0}function Au(G,X,ae,xe){X&=~pf,X&=~qu,G.suspendedLanes|=X,G.pingedLanes&=~X,xe&&(G.warmLanes|=X),xe=G.expirationTimes;for(var Ye=X;0<Ye;){var ot=31-ai(Ye),Pt=1<<ot;xe[ot]=-1,Ye&=~Pt}ae!==0&&Mn(G,ae,X)}function lc(){return(Ra&6)===0?(kl(0),!1):!0}function yf(){if(ya!==null){if(Fa===0)var G=ya.return;else G=ya,Ss=Cs=null,no(G),xu=null,Uu=0,G=ya;for(;G!==null;)Jh(G.alternate,G),G=G.return;ya=null}}function ol(G,X){var ae=G.timeoutHandle;ae!==-1&&(G.timeoutHandle=-1,u0(ae)),ae=G.cancelPendingCommit,ae!==null&&(G.cancelPendingCommit=null,ae()),du=0,yf(),Ka=G,ya=ae=ls(G.current,null),xa=X,Fa=0,Ls=null,wu=!1,nl=jt(G,X),hf=!1,il=ks=pf=qu=Tu=Co=0,Es=Ml=null,df=!1,(X&8)!==0&&(X|=X&32);var xe=G.entangledLanes;if(xe!==0)for(G=G.entanglements,xe&=X;0<xe;){var Ye=31-ai(xe),ot=1<<Ye;X|=G[Ye],xe&=~ot}return pu=X,Gs(),ae}function Ep(G,X){Zr=null,pt.H=xl,X===Vs||X===Ku?(X=Ju(),Fa=3):X===gl?(X=Ju(),Fa=4):Fa=X===Yc?8:X!==null&&typeof X=="object"&&typeof X.then=="function"?6:1,Ls=X,ya===null&&(Co=1,Jl(G,ye(X,G.current)))}function wp(){var G=fn.current;return G===null?!0:(xa&4194048)===xa?Vt===null:(xa&62914560)===xa||(xa&536870912)!==0?G===Vt:!1}function Tp(){var G=pt.H;return pt.H=xl,G===null?xl:G}function Cp(){var G=pt.A;return pt.A=jd,G}function cc(){Co=4,wu||(xa&4194048)!==xa&&fn.current!==null||(nl=!0),(Tu&134217727)===0&&(qu&134217727)===0||Ka===null||Au(Ka,xa,ks,!1)}function vf(G,X,ae){var xe=Ra;Ra|=2;var Ye=Tp(),ot=Cp();(Ka!==G||xa!==X)&&(uc=null,ol(G,X)),X=!1;var Pt=Co;e:do try{if(Fa!==0&&ya!==null){var dr=ya,jr=Ls;switch(Fa){case 8:yf(),Pt=6;break e;case 3:case 2:case 9:case 6:fn.current===null&&(X=!0);var yn=Fa;if(Fa=0,Ls=null,sl(G,dr,jr,yn),ae&&nl){Pt=0;break e}break;default:yn=Fa,Fa=0,Ls=null,sl(G,dr,jr,yn)}}Wd(),Pt=Co;break}catch(Pn){Ep(G,Pn)}while(!0);return X&&G.shellSuspendCounter++,Ss=Cs=null,Ra=xe,pt.H=Ye,pt.A=ot,ya===null&&(Ka=null,xa=0,Gs()),Pt}function Wd(){for(;ya!==null;)Sp(ya)}function qd(G,X){var ae=Ra;Ra|=2;var xe=Tp(),Ye=Cp();Ka!==G||xa!==X?(uc=null,sc=Cr()+500,ol(G,X)):nl=jt(G,X);e:do try{if(Fa!==0&&ya!==null){X=ya;var ot=Ls;t:switch(Fa){case 1:Fa=0,Ls=null,sl(G,X,ot,1);break;case 2:case 9:if(ko(ot)){Fa=0,Ls=null,Ap(X);break}X=function(){Fa!==2&&Fa!==9||Ka!==G||(Fa=7),Js(G)},ot.then(X,X);break e;case 3:Fa=7;break e;case 4:Fa=5;break e;case 7:ko(ot)?(Fa=0,Ls=null,Ap(X)):(Fa=0,Ls=null,sl(G,X,ot,7));break;case 5:var Pt=null;switch(ya.tag){case 26:Pt=ya.memoizedState;case 5:case 27:var dr=ya;if(Pt?hd(Pt):dr.stateNode.complete){Fa=0,Ls=null;var jr=dr.sibling;if(jr!==null)ya=jr;else{var yn=dr.return;yn!==null?(ya=yn,fc(yn)):ya=null}break t}}Fa=0,Ls=null,sl(G,X,ot,5);break;case 6:Fa=0,Ls=null,sl(G,X,ot,6);break;case 8:yf(),Co=6;break e;default:throw Error(b(462))}}Hd();break}catch(Pn){Ep(G,Pn)}while(!0);return Ss=Cs=null,pt.H=xe,pt.A=Ye,Ra=ae,ya!==null?0:(Ka=null,xa=0,Gs(),Co)}function Hd(){for(;ya!==null&&!Xt();)Sp(ya)}function Sp(G){var X=Kh(G.alternate,G,pu);G.memoizedProps=G.pendingProps,X===null?fc(G):ya=X}function Ap(G){var X=G,ae=X.alternate;switch(X.tag){case 15:case 0:X=qh(ae,X,X.pendingProps,X.type,void 0,xa);break;case 11:X=qh(ae,X,X.pendingProps,X.type.render,X.ref,xa);break;case 5:no(X);default:Jh(ae,X),X=ya=gs(X,pu),X=Kh(ae,X,pu)}G.memoizedProps=G.pendingProps,X===null?fc(G):ya=X}function sl(G,X,ae,xe){Ss=Cs=null,no(X),xu=null,Uu=0;var Ye=X.return;try{if(Dd(G,Ye,X,ae,xa)){Co=1,Jl(G,ye(ae,G.current)),ya=null;return}}catch(ot){if(Ye!==null)throw ya=Ye,ot;Co=1,Jl(G,ye(ae,G.current)),ya=null;return}X.flags&32768?(ia||xe===1?G=!0:nl||(xa&536870912)!==0?G=!1:(wu=G=!0,(xe===2||xe===9||xe===3||xe===6)&&(xe=fn.current,xe!==null&&xe.tag===13&&(xe.flags|=16384))),Mp(X,G)):fc(X)}function fc(G){var X=G;do{if((X.flags&32768)!==0){Mp(X,wu);return}G=X.return;var ae=Pd(X.alternate,X,pu);if(ae!==null){ya=ae;return}if(X=X.sibling,X!==null){ya=X;return}ya=X=G}while(X!==null);Co===0&&(Co=5)}function Mp(G,X){do{var ae=Id(G.alternate,G);if(ae!==null){ae.flags&=32767,ya=ae;return}if(ae=G.return,ae!==null&&(ae.flags|=32768,ae.subtreeFlags=0,ae.deletions=null),!X&&(G=G.sibling,G!==null)){ya=G;return}ya=G=ae}while(G!==null);Co=6,ya=null}function Lp(G,X,ae,xe,Ye,ot,Pt,dr,jr){G.cancelPendingCommit=null;do hc();while(Xo!==0);if((Ra&6)!==0)throw Error(b(327));if(X!==null){if(X===G.current)throw Error(b(177));if(ot=X.lanes|X.childLanes,ot|=$s,Vr(G,ae,ot,Pt,dr,jr),G===Ka&&(ya=Ka=null,xa=0),al=X,Su=G,du=ae,mf=ot,_f=Ye,yp=xe,(X.subtreeFlags&10256)!==0||(X.flags&10256)!==0?(G.callbackNode=null,G.callbackPriority=0,Yd(Fn,function(){return Rp(),null})):(G.callbackNode=null,G.callbackPriority=0),xe=(X.flags&13878)!==0,(X.subtreeFlags&13878)!==0||xe){xe=pt.T,pt.T=null,Ye=ut.p,ut.p=2,Pt=Ra,Ra|=4;try{Fd(G,X,ae)}finally{Ra=Pt,ut.p=Ye,pt.T=xe}}Xo=1,kp(),Op(),Np()}}function kp(){if(Xo===1){Xo=0;var G=Su,X=al,ae=(X.flags&13878)!==0;if((X.subtreeFlags&13878)!==0||ae){ae=pt.T,pt.T=null;var xe=ut.p;ut.p=2;var Ye=Ra;Ra|=4;try{cp(X,G);var ot=Of,Pt=Di(G.containerInfo),dr=ot.focusedElem,jr=ot.selectionRange;if(Pt!==dr&&dr&&dr.ownerDocument&&hi(dr.ownerDocument.documentElement,dr)){if(jr!==null&&ki(dr)){var yn=jr.start,Pn=jr.end;if(Pn===void 0&&(Pn=yn),"selectionStart"in dr)dr.selectionStart=yn,dr.selectionEnd=Math.min(Pn,dr.value.length);else{var Hn=dr.ownerDocument||document,Tn=Hn&&Hn.defaultView||window;if(Tn.getSelection){var An=Tn.getSelection(),Ti=dr.textContent.length,ji=Math.min(jr.start,Ti),Ha=jr.end===void 0?ji:Math.min(jr.end,Ti);!An.extend&&ji>Ha&&(Pt=Ha,Ha=ji,ji=Pt);var ln=Xn(dr,ji),Jr=Xn(dr,Ha);if(ln&&Jr&&(An.rangeCount!==1||An.anchorNode!==ln.node||An.anchorOffset!==ln.offset||An.focusNode!==Jr.node||An.focusOffset!==Jr.offset)){var gn=Hn.createRange();gn.setStart(ln.node,ln.offset),An.removeAllRanges(),ji>Ha?(An.addRange(gn),An.extend(Jr.node,Jr.offset)):(gn.setEnd(Jr.node,Jr.offset),An.addRange(gn))}}}}for(Hn=[],An=dr;An=An.parentNode;)An.nodeType===1&&Hn.push({element:An,left:An.scrollLeft,top:An.scrollTop});for(typeof dr.focus=="function"&&dr.focus(),dr=0;dr<Hn.length;dr++){var jn=Hn[dr];jn.element.scrollLeft=jn.left,jn.element.scrollTop=jn.top}}Tc=!!kf,Of=kf=null}finally{Ra=Ye,ut.p=xe,pt.T=ae}}G.current=X,Xo=2}}function Op(){if(Xo===2){Xo=0;var G=Su,X=al,ae=(X.flags&8772)!==0;if((X.subtreeFlags&8772)!==0||ae){ae=pt.T,pt.T=null;var xe=ut.p;ut.p=2;var Ye=Ra;Ra|=4;try{ap(G,X.alternate,X)}finally{Ra=Ye,ut.p=xe,pt.T=ae}}Xo=3}}function Np(){if(Xo===4||Xo===3){Xo=0,mr();var G=Su,X=al,ae=du,xe=yp;(X.subtreeFlags&10256)!==0||(X.flags&10256)!==0?Xo=5:(Xo=0,al=Su=null,Dp(G,G.pendingLanes));var Ye=G.pendingLanes;if(Ye===0&&(Cu=null),kn(ae),X=X.stateNode,Si&&typeof Si.onCommitFiberRoot=="function")try{Si.onCommitFiberRoot(oi,X,void 0,(X.current.flags&128)===128)}catch{}if(xe!==null){X=pt.T,Ye=ut.p,ut.p=2,pt.T=null;try{for(var ot=G.onRecoverableError,Pt=0;Pt<xe.length;Pt++){var dr=xe[Pt];ot(dr.value,{componentStack:dr.stack})}}finally{pt.T=X,ut.p=Ye}}(du&3)!==0&&hc(),Js(G),Ye=G.pendingLanes,(ae&261930)!==0&&(Ye&42)!==0?G===gf?Ll++:(Ll=0,gf=G):Ll=0,kl(0)}}function Dp(G,X){(G.pooledCacheLanes&=X)===0&&(X=G.pooledCache,X!=null&&(G.pooledCache=null,gu(X)))}function hc(){return kp(),Op(),Np(),Rp()}function Rp(){if(Xo!==5)return!1;var G=Su,X=mf;mf=0;var ae=kn(du),xe=pt.T,Ye=ut.p;try{ut.p=32>ae?32:ae,pt.T=null,ae=_f,_f=null;var ot=Su,Pt=du;if(Xo=0,al=Su=null,du=0,(Ra&6)!==0)throw Error(b(331));var dr=Ra;if(Ra|=4,mp(ot.current),hp(ot,ot.current,Pt,ae),Ra=dr,kl(0,!1),Si&&typeof Si.onPostCommitFiberRoot=="function")try{Si.onPostCommitFiberRoot(oi,ot)}catch{}return!0}finally{ut.p=Ye,pt.T=xe,Dp(G,X)}}function Bp(G,X,ae){X=ye(ae,X),X=Zc(G.stateNode,X,2),G=Rr(G,X,2),G!==null&&(Gr(G,2),Js(G))}function Ua(G,X,ae){if(G.tag===3)Bp(G,G,ae);else for(;X!==null;){if(X.tag===3){Bp(X,G,ae);break}else if(X.tag===1){var xe=X.stateNode;if(typeof X.type.getDerivedStateFromError=="function"||typeof xe.componentDidCatch=="function"&&(Cu===null||!Cu.has(xe))){G=ye(ae,G),ae=Ph(2),xe=Rr(X,ae,2),xe!==null&&(Ih(ae,xe,X,G),Gr(xe,2),Js(xe));break}}X=X.return}}function xf(G,X,ae){var xe=G.pingCache;if(xe===null){xe=G.pingCache=new Gd;var Ye=new Set;xe.set(X,Ye)}else Ye=xe.get(X),Ye===void 0&&(Ye=new Set,xe.set(X,Ye));Ye.has(ae)||(hf=!0,Ye.add(ae),G=Vd.bind(null,G,X,ae),X.then(G,G))}function Vd(G,X,ae){var xe=G.pingCache;xe!==null&&xe.delete(X),G.pingedLanes|=G.suspendedLanes&ae,G.warmLanes&=~ae,Ka===G&&(xa&ae)===ae&&(Co===4||Co===3&&(xa&62914560)===xa&&300>Cr()-oc?(Ra&2)===0&&ol(G,0):pf|=ae,il===xa&&(il=0)),Js(G)}function Pp(G,X){X===0&&(X=Yt()),G=us(G,X),G!==null&&(Gr(G,X),Js(G))}function Xd(G){var X=G.memoizedState,ae=0;X!==null&&(ae=X.retryLane),Pp(G,ae)}function Zd(G,X){var ae=0;switch(G.tag){case 31:case 13:var xe=G.stateNode,Ye=G.memoizedState;Ye!==null&&(ae=Ye.retryLane);break;case 19:xe=G.stateNode;break;case 22:xe=G.stateNode._retryCache;break;default:throw Error(b(314))}xe!==null&&xe.delete(X),Pp(G,ae)}function Yd(G,X){return gt(G,X)}var pc=null,ul=null,bf=!1,dc=!1,Ef=!1,Mu=0;function Js(G){G!==ul&&G.next===null&&(ul===null?pc=ul=G:ul=ul.next=G),dc=!0,bf||(bf=!0,Qd())}function kl(G,X){if(!Ef&&dc){Ef=!0;do for(var ae=!1,xe=pc;xe!==null;){if(G!==0){var Ye=xe.pendingLanes;if(Ye===0)var ot=0;else{var Pt=xe.suspendedLanes,dr=xe.pingedLanes;ot=(1<<31-ai(42|G)+1)-1,ot&=Ye&~(Pt&~dr),ot=ot&201326741?ot&201326741|1:ot?ot|2:0}ot!==0&&(ae=!0,jp(xe,ot))}else ot=xa,ot=_t(xe,xe===Ka?ot:0,xe.cancelPendingCommit!==null||xe.timeoutHandle!==-1),(ot&3)===0||jt(xe,ot)||(ae=!0,jp(xe,ot));xe=xe.next}while(ae);Ef=!1}}function Kd(){Ip()}function Ip(){dc=bf=!1;var G=0;Mu!==0&&s0()&&(G=Mu);for(var X=Cr(),ae=null,xe=pc;xe!==null;){var Ye=xe.next,ot=Fp(xe,X);ot===0?(xe.next=null,ae===null?pc=Ye:ae.next=Ye,Ye===null&&(ul=ae)):(ae=xe,(G!==0||(ot&3)!==0)&&(dc=!0)),xe=Ye}Xo!==0&&Xo!==5||kl(G),Mu!==0&&(Mu=0)}function Fp(G,X){for(var ae=G.suspendedLanes,xe=G.pingedLanes,Ye=G.expirationTimes,ot=G.pendingLanes&-62914561;0<ot;){var Pt=31-ai(ot),dr=1<<Pt,jr=Ye[Pt];jr===-1?((dr&ae)===0||(dr&xe)!==0)&&(Ye[Pt]=nr(dr,X)):jr<=X&&(G.expiredLanes|=dr),ot&=~dr}if(X=Ka,ae=xa,ae=_t(G,G===X?ae:0,G.cancelPendingCommit!==null||G.timeoutHandle!==-1),xe=G.callbackNode,ae===0||G===X&&(Fa===2||Fa===9)||G.cancelPendingCommit!==null)return xe!==null&&xe!==null&&Et(xe),G.callbackNode=null,G.callbackPriority=0;if((ae&3)===0||jt(G,ae)){if(X=ae&-ae,X===G.callbackPriority)return X;switch(xe!==null&&Et(xe),kn(ae)){case 2:case 8:ae=In;break;case 32:ae=Fn;break;case 268435456:ae=Qn;break;default:ae=Fn}return xe=Up.bind(null,G),ae=gt(ae,xe),G.callbackPriority=X,G.callbackNode=ae,X}return xe!==null&&xe!==null&&Et(xe),G.callbackPriority=2,G.callbackNode=null,2}function Up(G,X){if(Xo!==0&&Xo!==5)return G.callbackNode=null,G.callbackPriority=0,null;var ae=G.callbackNode;if(hc()&&G.callbackNode!==ae)return null;var xe=xa;return xe=_t(G,G===Ka?xe:0,G.cancelPendingCommit!==null||G.timeoutHandle!==-1),xe===0?null:(xp(G,xe,X),Fp(G,Cr()),G.callbackNode!=null&&G.callbackNode===ae?Up.bind(null,G):null)}function jp(G,X){if(hc())return null;xp(G,X,!0)}function Qd(){l0(function(){(Ra&6)!==0?gt(_n,Kd):Ip()})}function wf(){if(Mu===0){var G=vu;G===0&&(G=Vn,Vn<<=1,(Vn&261888)===0&&(Vn=256)),Mu=G}return Mu}function Gp(G){return G==null||typeof G=="symbol"||typeof G=="boolean"?null:typeof G=="function"?G:ct(""+G)}function zp(G,X){var ae=X.ownerDocument.createElement("input");return ae.name=X.name,ae.value=X.value,G.id&&ae.setAttribute("form",G.id),X.parentNode.insertBefore(ae,X),G=new FormData(G),ae.parentNode.removeChild(ae),G}function Jd(G,X,ae,xe,Ye){if(X==="submit"&&ae&&ae.stateNode===Ye){var ot=Gp((Ye[gr]||null).action),Pt=xe.submitter;Pt&&(X=(X=Pt[gr]||null)?Gp(X.formAction):Pt.getAttribute("formAction"),X!==null&&(ot=X,Pt=null));var dr=new Zo("action","action",null,xe,Ye);G.push({event:dr,listeners:[{instance:null,listener:function(){if(xe.defaultPrevented){if(Mu!==0){var jr=Pt?zp(Ye,Pt):new FormData(Ye);zc(ae,{pending:!0,data:jr,method:Ye.method,action:ot},null,jr)}}else typeof ot=="function"&&(dr.preventDefault(),jr=Pt?zp(Ye,Pt):new FormData(Ye),zc(ae,{pending:!0,data:jr,method:Ye.method,action:ot},ot,jr))},currentTarget:Ye}]})}}for(var Tf=0;Tf<Aa.length;Tf++){var Cf=Aa[Tf],$d=Cf.toLowerCase(),e0=Cf[0].toUpperCase()+Cf.slice(1);Ya($d,"on"+e0)}Ya(kr,"onAnimationEnd"),Ya(xn,"onAnimationIteration"),Ya(Ln,"onAnimationStart"),Ya("dblclick","onDoubleClick"),Ya("focusin","onFocus"),Ya("focusout","onBlur"),Ya(Gn,"onTransitionRun"),Ya(Jn,"onTransitionStart"),Ya(bi,"onTransitionCancel"),Ya(oa,"onTransitionEnd"),ja("onMouseEnter",["mouseout","mouseover"]),ja("onMouseLeave",["mouseout","mouseover"]),ja("onPointerEnter",["pointerout","pointerover"]),ja("onPointerLeave",["pointerout","pointerover"]),_a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_a("onBeforeInput",["compositionend","keypress","textInput","paste"]),_a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),t0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ol));function Wp(G,X){X=(X&4)!==0;for(var ae=0;ae<G.length;ae++){var xe=G[ae],Ye=xe.event;xe=xe.listeners;e:{var ot=void 0;if(X)for(var Pt=xe.length-1;0<=Pt;Pt--){var dr=xe[Pt],jr=dr.instance,yn=dr.currentTarget;if(dr=dr.listener,jr!==ot&&Ye.isPropagationStopped())break e;ot=dr,Ye.currentTarget=yn;try{ot(Ye)}catch(Pn){js(Pn)}Ye.currentTarget=null,ot=jr}else for(Pt=0;Pt<xe.length;Pt++){if(dr=xe[Pt],jr=dr.instance,yn=dr.currentTarget,dr=dr.listener,jr!==ot&&Ye.isPropagationStopped())break e;ot=dr,Ye.currentTarget=yn;try{ot(Ye)}catch(Pn){js(Pn)}Ye.currentTarget=null,ot=jr}}}}function va(G,X){var ae=X[Xr];ae===void 0&&(ae=X[Xr]=new Set);var xe=G+"__bubble";ae.has(xe)||(qp(X,G,2,!1),ae.add(xe))}function Sf(G,X,ae){var xe=0;X&&(xe|=4),qp(ae,G,xe,X)}var mc="_reactListening"+Math.random().toString(36).slice(2);function Af(G){if(!G[mc]){G[mc]=!0,Yi.forEach(function(ae){ae!=="selectionchange"&&(t0.has(ae)||Sf(ae,!1,G),Sf(ae,!0,G))});var X=G.nodeType===9?G:G.ownerDocument;X===null||X[mc]||(X[mc]=!0,Sf("selectionchange",!1,X))}}function qp(G,X,ae,xe){switch(vd(X)){case 2:var Ye=L0;break;case 8:Ye=k0;break;default:Ye=zf}ae=Ye.bind(null,X,ae,G),Ye=void 0,!$i||X!=="touchstart"&&X!=="touchmove"&&X!=="wheel"||(Ye=!0),xe?Ye!==void 0?G.addEventListener(X,ae,{capture:!0,passive:Ye}):G.addEventListener(X,ae,!0):Ye!==void 0?G.addEventListener(X,ae,{passive:Ye}):G.addEventListener(X,ae,!1)}function Mf(G,X,ae,xe,Ye){var ot=xe;if((X&1)===0&&(X&2)===0&&xe!==null)e:for(;;){if(xe===null)return;var Pt=xe.tag;if(Pt===3||Pt===4){var dr=xe.stateNode.containerInfo;if(dr===Ye)break;if(Pt===4)for(Pt=xe.return;Pt!==null;){var jr=Pt.tag;if((jr===3||jr===4)&&Pt.stateNode.containerInfo===Ye)return;Pt=Pt.return}for(;dr!==null;){if(Pt=zn(dr),Pt===null)return;if(jr=Pt.tag,jr===5||jr===6||jr===26||jr===27){xe=ot=Pt;continue e}dr=dr.parentNode}}xe=xe.return}Ni(function(){var yn=ot,Pn=Sr(ae),Hn=[];e:{var Tn=bo.get(G);if(Tn!==void 0){var An=Zo,Ti=G;switch(G){case"keypress":if(Uo(ae)===0)break e;case"keydown":case"keyup":An=Hr;break;case"focusin":Ti="focus",An=vo;break;case"focusout":Ti="blur",An=vo;break;case"beforeblur":case"afterblur":An=vo;break;case"click":if(ae.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":An=ms;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":An=qi;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":An=ui;break;case kr:case xn:case Ln:An=ga;break;case oa:An=Kn;break;case"scroll":case"scrollend":An=Vi;break;case"wheel":An=We;break;case"copy":case"cut":case"paste":An=Za;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":An=Nn;break;case"toggle":case"beforetoggle":An=ft}var ji=(X&4)!==0,Ha=!ji&&(G==="scroll"||G==="scrollend"),ln=ji?Tn!==null?Tn+"Capture":null:Tn;ji=[];for(var Jr=yn,gn;Jr!==null;){var jn=Jr;if(gn=jn.stateNode,jn=jn.tag,jn!==5&&jn!==26&&jn!==27||gn===null||ln===null||(jn=Ui(Jr,ln),jn!=null&&ji.push(Nl(Jr,jn,gn))),Ha)break;Jr=Jr.return}0<ji.length&&(Tn=new An(Tn,Ti,null,ae,Pn),Hn.push({event:Tn,listeners:ji}))}}if((X&7)===0){e:{if(Tn=G==="mouseover"||G==="pointerover",An=G==="mouseout"||G==="pointerout",Tn&&ae!==$t&&(Ti=ae.relatedTarget||ae.fromElement)&&(zn(Ti)||Ti[Ar]))break e;if((An||Tn)&&(Tn=Pn.window===Pn?Pn:(Tn=Pn.ownerDocument)?Tn.defaultView||Tn.parentWindow:window,An?(Ti=ae.relatedTarget||ae.toElement,An=yn,Ti=Ti?zn(Ti):null,Ti!==null&&(Ha=z(Ti),ji=Ti.tag,Ti!==Ha||ji!==5&&ji!==27&&ji!==6)&&(Ti=null)):(An=null,Ti=yn),An!==Ti)){if(ji=ms,jn="onMouseLeave",ln="onMouseEnter",Jr="mouse",(G==="pointerout"||G==="pointerover")&&(ji=Nn,jn="onPointerLeave",ln="onPointerEnter",Jr="pointer"),Ha=An==null?Tn:qn(An),gn=Ti==null?Tn:qn(Ti),Tn=new ji(jn,Jr+"leave",An,ae,Pn),Tn.target=Ha,Tn.relatedTarget=gn,jn=null,zn(Pn)===yn&&(ji=new ji(ln,Jr+"enter",Ti,ae,Pn),ji.target=gn,ji.relatedTarget=Ha,jn=ji),Ha=jn,An&&Ti)t:{for(ji=r0,ln=An,Jr=Ti,gn=0,jn=ln;jn;jn=ji(jn))gn++;jn=0;for(var Fi=Jr;Fi;Fi=ji(Fi))jn++;for(;0<gn-jn;)ln=ji(ln),gn--;for(;0<jn-gn;)Jr=ji(Jr),jn--;for(;gn--;){if(ln===Jr||Jr!==null&&ln===Jr.alternate){ji=ln;break t}ln=ji(ln),Jr=ji(Jr)}ji=null}else ji=null;An!==null&&Hp(Hn,Tn,An,ji,!1),Ti!==null&&Ha!==null&&Hp(Hn,Ha,Ti,ji,!0)}}e:{if(Tn=yn?qn(yn):window,An=Tn.nodeName&&Tn.nodeName.toLowerCase(),An==="select"||An==="input"&&Tn.type==="file")var ka=Ki;else if($n(Tn))if(eo)ka=xt;else{ka=Bu;var Mi=zo}else An=Tn.nodeName,!An||An.toLowerCase()!=="input"||Tn.type!=="checkbox"&&Tn.type!=="radio"?yn&&oo(yn.elementType)&&(ka=Ki):ka=St;if(ka&&(ka=ka(G,yn))){Rn(Hn,ka,ae,Pn);break e}Mi&&Mi(G,Tn,yn),G==="focusout"&&yn&&Tn.type==="number"&&yn.memoizedProps.value!=null&&Ca(Tn,"number",Tn.value)}switch(Mi=yn?qn(yn):window,G){case"focusin":($n(Mi)||Mi.contentEditable==="true")&&(Xi=Mi,Ia=yn,uo=null);break;case"focusout":uo=Ia=Xi=null;break;case"mousedown":xo=!0;break;case"contextmenu":case"mouseup":case"dragend":xo=!1,os(Hn,ae,Pn);break;case"selectionchange":if(na)break;case"keydown":case"keyup":os(Hn,ae,Pn)}var aa;if(Lt)e:{switch(G){case"compositionstart":var ba="onCompositionStart";break e;case"compositionend":ba="onCompositionEnd";break e;case"compositionupdate":ba="onCompositionUpdate";break e}ba=void 0}else mn?zr(G,ae)&&(ba="onCompositionEnd"):G==="keydown"&&ae.keyCode===229&&(ba="onCompositionStart");ba&&(qt&&ae.locale!=="ko"&&(mn||ba!=="onCompositionStart"?ba==="onCompositionEnd"&&mn&&(aa=Xa()):(Ri=Pn,za="value"in Ri?Ri.value:Ri.textContent,mn=!0)),Mi=_c(yn,ba),0<Mi.length&&(ba=new at(ba,G,null,ae,Pn),Hn.push({event:ba,listeners:Mi}),aa?ba.data=aa:(aa=rn(ae),aa!==null&&(ba.data=aa)))),(aa=rr?on(G,ae):Cn(G,ae))&&(ba=_c(yn,"onBeforeInput"),0<ba.length&&(Mi=new at("onBeforeInput","beforeinput",null,ae,Pn),Hn.push({event:Mi,listeners:ba}),Mi.data=aa)),Jd(Hn,G,yn,ae,Pn)}Wp(Hn,X)})}function Nl(G,X,ae){return{instance:G,listener:X,currentTarget:ae}}function _c(G,X){for(var ae=X+"Capture",xe=[];G!==null;){var Ye=G,ot=Ye.stateNode;if(Ye=Ye.tag,Ye!==5&&Ye!==26&&Ye!==27||ot===null||(Ye=Ui(G,ae),Ye!=null&&xe.unshift(Nl(G,Ye,ot)),Ye=Ui(G,X),Ye!=null&&xe.push(Nl(G,Ye,ot))),G.tag===3)return xe;G=G.return}return[]}function r0(G){if(G===null)return null;do G=G.return;while(G&&G.tag!==5&&G.tag!==27);return G||null}function Hp(G,X,ae,xe,Ye){for(var ot=X._reactName,Pt=[];ae!==null&&ae!==xe;){var dr=ae,jr=dr.alternate,yn=dr.stateNode;if(dr=dr.tag,jr!==null&&jr===xe)break;dr!==5&&dr!==26&&dr!==27||yn===null||(jr=yn,Ye?(yn=Ui(ae,ot),yn!=null&&Pt.unshift(Nl(ae,yn,jr))):Ye||(yn=Ui(ae,ot),yn!=null&&Pt.push(Nl(ae,yn,jr)))),ae=ae.return}Pt.length!==0&&G.push({event:X,listeners:Pt})}var n0=/\r\n?/g,i0=/\u0000|\uFFFD/g;function Vp(G){return(typeof G=="string"?G:""+G).replace(n0,`
`).replace(i0,"")}function Xp(G,X){return X=Vp(X),Vp(G)===X}function qa(G,X,ae,xe,Ye,ot){switch(ae){case"children":typeof xe=="string"?X==="body"||X==="textarea"&&xe===""||Sa(G,xe):(typeof xe=="number"||typeof xe=="bigint")&&X!=="body"&&Sa(G,""+xe);break;case"className":ra(G,"class",xe);break;case"tabIndex":ra(G,"tabindex",xe);break;case"dir":case"role":case"viewBox":case"width":case"height":ra(G,ae,xe);break;case"style":Ga(G,xe,ot);break;case"data":if(X!=="object"){ra(G,"data",xe);break}case"src":case"href":if(xe===""&&(X!=="a"||ae!=="href")){G.removeAttribute(ae);break}if(xe==null||typeof xe=="function"||typeof xe=="symbol"||typeof xe=="boolean"){G.removeAttribute(ae);break}xe=ct(""+xe),G.setAttribute(ae,xe);break;case"action":case"formAction":if(typeof xe=="function"){G.setAttribute(ae,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof ot=="function"&&(ae==="formAction"?(X!=="input"&&qa(G,X,"name",Ye.name,Ye,null),qa(G,X,"formEncType",Ye.formEncType,Ye,null),qa(G,X,"formMethod",Ye.formMethod,Ye,null),qa(G,X,"formTarget",Ye.formTarget,Ye,null)):(qa(G,X,"encType",Ye.encType,Ye,null),qa(G,X,"method",Ye.method,Ye,null),qa(G,X,"target",Ye.target,Ye,null)));if(xe==null||typeof xe=="symbol"||typeof xe=="boolean"){G.removeAttribute(ae);break}xe=ct(""+xe),G.setAttribute(ae,xe);break;case"onClick":xe!=null&&(G.onclick=kt);break;case"onScroll":xe!=null&&va("scroll",G);break;case"onScrollEnd":xe!=null&&va("scrollend",G);break;case"dangerouslySetInnerHTML":if(xe!=null){if(typeof xe!="object"||!("__html"in xe))throw Error(b(61));if(ae=xe.__html,ae!=null){if(Ye.children!=null)throw Error(b(60));G.innerHTML=ae}}break;case"multiple":G.multiple=xe&&typeof xe!="function"&&typeof xe!="symbol";break;case"muted":G.muted=xe&&typeof xe!="function"&&typeof xe!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(xe==null||typeof xe=="function"||typeof xe=="boolean"||typeof xe=="symbol"){G.removeAttribute("xlink:href");break}ae=ct(""+xe),G.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",ae);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":xe!=null&&typeof xe!="function"&&typeof xe!="symbol"?G.setAttribute(ae,""+xe):G.removeAttribute(ae);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":xe&&typeof xe!="function"&&typeof xe!="symbol"?G.setAttribute(ae,""):G.removeAttribute(ae);break;case"capture":case"download":xe===!0?G.setAttribute(ae,""):xe!==!1&&xe!=null&&typeof xe!="function"&&typeof xe!="symbol"?G.setAttribute(ae,xe):G.removeAttribute(ae);break;case"cols":case"rows":case"size":case"span":xe!=null&&typeof xe!="function"&&typeof xe!="symbol"&&!isNaN(xe)&&1<=xe?G.setAttribute(ae,xe):G.removeAttribute(ae);break;case"rowSpan":case"start":xe==null||typeof xe=="function"||typeof xe=="symbol"||isNaN(xe)?G.removeAttribute(ae):G.setAttribute(ae,xe);break;case"popover":va("beforetoggle",G),va("toggle",G),Bi(G,"popover",xe);break;case"xlinkActuate":Hi(G,"http://www.w3.org/1999/xlink","xlink:actuate",xe);break;case"xlinkArcrole":Hi(G,"http://www.w3.org/1999/xlink","xlink:arcrole",xe);break;case"xlinkRole":Hi(G,"http://www.w3.org/1999/xlink","xlink:role",xe);break;case"xlinkShow":Hi(G,"http://www.w3.org/1999/xlink","xlink:show",xe);break;case"xlinkTitle":Hi(G,"http://www.w3.org/1999/xlink","xlink:title",xe);break;case"xlinkType":Hi(G,"http://www.w3.org/1999/xlink","xlink:type",xe);break;case"xmlBase":Hi(G,"http://www.w3.org/XML/1998/namespace","xml:base",xe);break;case"xmlLang":Hi(G,"http://www.w3.org/XML/1998/namespace","xml:lang",xe);break;case"xmlSpace":Hi(G,"http://www.w3.org/XML/1998/namespace","xml:space",xe);break;case"is":Bi(G,"is",xe);break;case"innerText":case"textContent":break;default:(!(2<ae.length)||ae[0]!=="o"&&ae[0]!=="O"||ae[1]!=="n"&&ae[1]!=="N")&&(ae=go.get(ae)||ae,Bi(G,ae,xe))}}function Lf(G,X,ae,xe,Ye,ot){switch(ae){case"style":Ga(G,xe,ot);break;case"dangerouslySetInnerHTML":if(xe!=null){if(typeof xe!="object"||!("__html"in xe))throw Error(b(61));if(ae=xe.__html,ae!=null){if(Ye.children!=null)throw Error(b(60));G.innerHTML=ae}}break;case"children":typeof xe=="string"?Sa(G,xe):(typeof xe=="number"||typeof xe=="bigint")&&Sa(G,""+xe);break;case"onScroll":xe!=null&&va("scroll",G);break;case"onScrollEnd":xe!=null&&va("scrollend",G);break;case"onClick":xe!=null&&(G.onclick=kt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Wi.hasOwnProperty(ae))e:{if(ae[0]==="o"&&ae[1]==="n"&&(Ye=ae.endsWith("Capture"),X=ae.slice(2,Ye?ae.length-7:void 0),ot=G[gr]||null,ot=ot!=null?ot[ae]:null,typeof ot=="function"&&G.removeEventListener(X,ot,Ye),typeof xe=="function")){typeof ot!="function"&&ot!==null&&(ae in G?G[ae]=null:G.hasAttribute(ae)&&G.removeAttribute(ae)),G.addEventListener(X,xe,Ye);break e}ae in G?G[ae]=xe:xe===!0?G.setAttribute(ae,""):Bi(G,ae,xe)}}}function is(G,X,ae){switch(X){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":va("error",G),va("load",G);var xe=!1,Ye=!1,ot;for(ot in ae)if(ae.hasOwnProperty(ot)){var Pt=ae[ot];if(Pt!=null)switch(ot){case"src":xe=!0;break;case"srcSet":Ye=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(b(137,X));default:qa(G,X,ot,Pt,ae,null)}}Ye&&qa(G,X,"srcSet",ae.srcSet,ae,null),xe&&qa(G,X,"src",ae.src,ae,null);return;case"input":va("invalid",G);var dr=ot=Pt=Ye=null,jr=null,yn=null;for(xe in ae)if(ae.hasOwnProperty(xe)){var Pn=ae[xe];if(Pn!=null)switch(xe){case"name":Ye=Pn;break;case"type":Pt=Pn;break;case"checked":jr=Pn;break;case"defaultChecked":yn=Pn;break;case"value":ot=Pn;break;case"defaultValue":dr=Pn;break;case"children":case"dangerouslySetInnerHTML":if(Pn!=null)throw Error(b(137,X));break;default:qa(G,X,xe,Pn,ae,null)}}Ro(G,ot,dr,jr,yn,Pt,Ye,!1);return;case"select":va("invalid",G),xe=Pt=ot=null;for(Ye in ae)if(ae.hasOwnProperty(Ye)&&(dr=ae[Ye],dr!=null))switch(Ye){case"value":ot=dr;break;case"defaultValue":Pt=dr;break;case"multiple":xe=dr;default:qa(G,X,Ye,dr,ae,null)}X=ot,ae=Pt,G.multiple=!!xe,X!=null?ua(G,!!xe,X,!1):ae!=null&&ua(G,!!xe,ae,!0);return;case"textarea":va("invalid",G),ot=Ye=xe=null;for(Pt in ae)if(ae.hasOwnProperty(Pt)&&(dr=ae[Pt],dr!=null))switch(Pt){case"value":xe=dr;break;case"defaultValue":Ye=dr;break;case"children":ot=dr;break;case"dangerouslySetInnerHTML":if(dr!=null)throw Error(b(91));break;default:qa(G,X,Pt,dr,ae,null)}Qa(G,xe,Ye,ot);return;case"option":for(jr in ae)if(ae.hasOwnProperty(jr)&&(xe=ae[jr],xe!=null))switch(jr){case"selected":G.selected=xe&&typeof xe!="function"&&typeof xe!="symbol";break;default:qa(G,X,jr,xe,ae,null)}return;case"dialog":va("beforetoggle",G),va("toggle",G),va("cancel",G),va("close",G);break;case"iframe":case"object":va("load",G);break;case"video":case"audio":for(xe=0;xe<Ol.length;xe++)va(Ol[xe],G);break;case"image":va("error",G),va("load",G);break;case"details":va("toggle",G);break;case"embed":case"source":case"link":va("error",G),va("load",G);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(yn in ae)if(ae.hasOwnProperty(yn)&&(xe=ae[yn],xe!=null))switch(yn){case"children":case"dangerouslySetInnerHTML":throw Error(b(137,X));default:qa(G,X,yn,xe,ae,null)}return;default:if(oo(X)){for(Pn in ae)ae.hasOwnProperty(Pn)&&(xe=ae[Pn],xe!==void 0&&Lf(G,X,Pn,xe,ae,void 0));return}}for(dr in ae)ae.hasOwnProperty(dr)&&(xe=ae[dr],xe!=null&&qa(G,X,dr,xe,ae,null))}function a0(G,X,ae,xe){switch(X){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var Ye=null,ot=null,Pt=null,dr=null,jr=null,yn=null,Pn=null;for(An in ae){var Hn=ae[An];if(ae.hasOwnProperty(An)&&Hn!=null)switch(An){case"checked":break;case"value":break;case"defaultValue":jr=Hn;default:xe.hasOwnProperty(An)||qa(G,X,An,null,xe,Hn)}}for(var Tn in xe){var An=xe[Tn];if(Hn=ae[Tn],xe.hasOwnProperty(Tn)&&(An!=null||Hn!=null))switch(Tn){case"type":ot=An;break;case"name":Ye=An;break;case"checked":yn=An;break;case"defaultChecked":Pn=An;break;case"value":Pt=An;break;case"defaultValue":dr=An;break;case"children":case"dangerouslySetInnerHTML":if(An!=null)throw Error(b(137,X));break;default:An!==Hn&&qa(G,X,Tn,An,xe,Hn)}}es(G,Pt,dr,jr,yn,Pn,ot,Ye);return;case"select":An=Pt=dr=Tn=null;for(ot in ae)if(jr=ae[ot],ae.hasOwnProperty(ot)&&jr!=null)switch(ot){case"value":break;case"multiple":An=jr;default:xe.hasOwnProperty(ot)||qa(G,X,ot,null,xe,jr)}for(Ye in xe)if(ot=xe[Ye],jr=ae[Ye],xe.hasOwnProperty(Ye)&&(ot!=null||jr!=null))switch(Ye){case"value":Tn=ot;break;case"defaultValue":dr=ot;break;case"multiple":Pt=ot;default:ot!==jr&&qa(G,X,Ye,ot,xe,jr)}X=dr,ae=Pt,xe=An,Tn!=null?ua(G,!!ae,Tn,!1):!!xe!=!!ae&&(X!=null?ua(G,!!ae,X,!0):ua(G,!!ae,ae?[]:"",!1));return;case"textarea":An=Tn=null;for(dr in ae)if(Ye=ae[dr],ae.hasOwnProperty(dr)&&Ye!=null&&!xe.hasOwnProperty(dr))switch(dr){case"value":break;case"children":break;default:qa(G,X,dr,null,xe,Ye)}for(Pt in xe)if(Ye=xe[Pt],ot=ae[Pt],xe.hasOwnProperty(Pt)&&(Ye!=null||ot!=null))switch(Pt){case"value":Tn=Ye;break;case"defaultValue":An=Ye;break;case"children":break;case"dangerouslySetInnerHTML":if(Ye!=null)throw Error(b(91));break;default:Ye!==ot&&qa(G,X,Pt,Ye,xe,ot)}ao(G,Tn,An);return;case"option":for(var Ti in ae)if(Tn=ae[Ti],ae.hasOwnProperty(Ti)&&Tn!=null&&!xe.hasOwnProperty(Ti))switch(Ti){case"selected":G.selected=!1;break;default:qa(G,X,Ti,null,xe,Tn)}for(jr in xe)if(Tn=xe[jr],An=ae[jr],xe.hasOwnProperty(jr)&&Tn!==An&&(Tn!=null||An!=null))switch(jr){case"selected":G.selected=Tn&&typeof Tn!="function"&&typeof Tn!="symbol";break;default:qa(G,X,jr,Tn,xe,An)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ji in ae)Tn=ae[ji],ae.hasOwnProperty(ji)&&Tn!=null&&!xe.hasOwnProperty(ji)&&qa(G,X,ji,null,xe,Tn);for(yn in xe)if(Tn=xe[yn],An=ae[yn],xe.hasOwnProperty(yn)&&Tn!==An&&(Tn!=null||An!=null))switch(yn){case"children":case"dangerouslySetInnerHTML":if(Tn!=null)throw Error(b(137,X));break;default:qa(G,X,yn,Tn,xe,An)}return;default:if(oo(X)){for(var Ha in ae)Tn=ae[Ha],ae.hasOwnProperty(Ha)&&Tn!==void 0&&!xe.hasOwnProperty(Ha)&&Lf(G,X,Ha,void 0,xe,Tn);for(Pn in xe)Tn=xe[Pn],An=ae[Pn],!xe.hasOwnProperty(Pn)||Tn===An||Tn===void 0&&An===void 0||Lf(G,X,Pn,Tn,xe,An);return}}for(var ln in ae)Tn=ae[ln],ae.hasOwnProperty(ln)&&Tn!=null&&!xe.hasOwnProperty(ln)&&qa(G,X,ln,null,xe,Tn);for(Hn in xe)Tn=xe[Hn],An=ae[Hn],!xe.hasOwnProperty(Hn)||Tn===An||Tn==null&&An==null||qa(G,X,Hn,Tn,xe,An)}function Zp(G){switch(G){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function o0(){if(typeof performance.getEntriesByType=="function"){for(var G=0,X=0,ae=performance.getEntriesByType("resource"),xe=0;xe<ae.length;xe++){var Ye=ae[xe],ot=Ye.transferSize,Pt=Ye.initiatorType,dr=Ye.duration;if(ot&&dr&&Zp(Pt)){for(Pt=0,dr=Ye.responseEnd,xe+=1;xe<ae.length;xe++){var jr=ae[xe],yn=jr.startTime;if(yn>dr)break;var Pn=jr.transferSize,Hn=jr.initiatorType;Pn&&Zp(Hn)&&(jr=jr.responseEnd,Pt+=Pn*(jr<dr?1:(dr-yn)/(jr-yn)))}if(--xe,X+=8*(ot+Pt)/(Ye.duration/1e3),G++,10<G)break}}if(0<G)return X/G/1e6}return navigator.connection&&(G=navigator.connection.downlink,typeof G=="number")?G:5}var kf=null,Of=null;function gc(G){return G.nodeType===9?G:G.ownerDocument}function Yp(G){switch(G){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Kp(G,X){if(G===0)switch(X){case"svg":return 1;case"math":return 2;default:return 0}return G===1&&X==="foreignObject"?0:G}function Nf(G,X){return G==="textarea"||G==="noscript"||typeof X.children=="string"||typeof X.children=="number"||typeof X.children=="bigint"||typeof X.dangerouslySetInnerHTML=="object"&&X.dangerouslySetInnerHTML!==null&&X.dangerouslySetInnerHTML.__html!=null}var Df=null;function s0(){var G=window.event;return G&&G.type==="popstate"?G===Df?!1:(Df=G,!0):(Df=null,!1)}var Qp=typeof setTimeout=="function"?setTimeout:void 0,u0=typeof clearTimeout=="function"?clearTimeout:void 0,Jp=typeof Promise=="function"?Promise:void 0,l0=typeof queueMicrotask=="function"?queueMicrotask:typeof Jp<"u"?function(G){return Jp.resolve(null).then(G).catch(c0)}:Qp;function c0(G){setTimeout(function(){throw G})}function Lu(G){return G==="head"}function $p(G,X){var ae=X,xe=0;do{var Ye=ae.nextSibling;if(G.removeChild(ae),Ye&&Ye.nodeType===8)if(ae=Ye.data,ae==="/$"||ae==="/&"){if(xe===0){G.removeChild(Ye),hl(X);return}xe--}else if(ae==="$"||ae==="$?"||ae==="$~"||ae==="$!"||ae==="&")xe++;else if(ae==="html")Dl(G.ownerDocument.documentElement);else if(ae==="head"){ae=G.ownerDocument.head,Dl(ae);for(var ot=ae.firstChild;ot;){var Pt=ot.nextSibling,dr=ot.nodeName;ot[$r]||dr==="SCRIPT"||dr==="STYLE"||dr==="LINK"&&ot.rel.toLowerCase()==="stylesheet"||ae.removeChild(ot),ot=Pt}}else ae==="body"&&Dl(G.ownerDocument.body);ae=Ye}while(ae);hl(X)}function ed(G,X){var ae=G;G=0;do{var xe=ae.nextSibling;if(ae.nodeType===1?X?(ae._stashedDisplay=ae.style.display,ae.style.display="none"):(ae.style.display=ae._stashedDisplay||"",ae.getAttribute("style")===""&&ae.removeAttribute("style")):ae.nodeType===3&&(X?(ae._stashedText=ae.nodeValue,ae.nodeValue=""):ae.nodeValue=ae._stashedText||""),xe&&xe.nodeType===8)if(ae=xe.data,ae==="/$"){if(G===0)break;G--}else ae!=="$"&&ae!=="$?"&&ae!=="$~"&&ae!=="$!"||G++;ae=xe}while(ae)}function Rf(G){var X=G.firstChild;for(X&&X.nodeType===10&&(X=X.nextSibling);X;){var ae=X;switch(X=X.nextSibling,ae.nodeName){case"HTML":case"HEAD":case"BODY":Rf(ae),Bn(ae);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(ae.rel.toLowerCase()==="stylesheet")continue}G.removeChild(ae)}}function f0(G,X,ae,xe){for(;G.nodeType===1;){var Ye=ae;if(G.nodeName.toLowerCase()!==X.toLowerCase()){if(!xe&&(G.nodeName!=="INPUT"||G.type!=="hidden"))break}else if(xe){if(!G[$r])switch(X){case"meta":if(!G.hasAttribute("itemprop"))break;return G;case"link":if(ot=G.getAttribute("rel"),ot==="stylesheet"&&G.hasAttribute("data-precedence"))break;if(ot!==Ye.rel||G.getAttribute("href")!==(Ye.href==null||Ye.href===""?null:Ye.href)||G.getAttribute("crossorigin")!==(Ye.crossOrigin==null?null:Ye.crossOrigin)||G.getAttribute("title")!==(Ye.title==null?null:Ye.title))break;return G;case"style":if(G.hasAttribute("data-precedence"))break;return G;case"script":if(ot=G.getAttribute("src"),(ot!==(Ye.src==null?null:Ye.src)||G.getAttribute("type")!==(Ye.type==null?null:Ye.type)||G.getAttribute("crossorigin")!==(Ye.crossOrigin==null?null:Ye.crossOrigin))&&ot&&G.hasAttribute("async")&&!G.hasAttribute("itemprop"))break;return G;default:return G}}else if(X==="input"&&G.type==="hidden"){var ot=Ye.name==null?null:""+Ye.name;if(Ye.type==="hidden"&&G.getAttribute("name")===ot)return G}else return G;if(G=Fs(G.nextSibling),G===null)break}return null}function h0(G,X,ae){if(X==="")return null;for(;G.nodeType!==3;)if((G.nodeType!==1||G.nodeName!=="INPUT"||G.type!=="hidden")&&!ae||(G=Fs(G.nextSibling),G===null))return null;return G}function td(G,X){for(;G.nodeType!==8;)if((G.nodeType!==1||G.nodeName!=="INPUT"||G.type!=="hidden")&&!X||(G=Fs(G.nextSibling),G===null))return null;return G}function Bf(G){return G.data==="$?"||G.data==="$~"}function Pf(G){return G.data==="$!"||G.data==="$?"&&G.ownerDocument.readyState!=="loading"}function p0(G,X){var ae=G.ownerDocument;if(G.data==="$~")G._reactRetry=X;else if(G.data!=="$?"||ae.readyState!=="loading")X();else{var xe=function(){X(),ae.removeEventListener("DOMContentLoaded",xe)};ae.addEventListener("DOMContentLoaded",xe),G._reactRetry=xe}}function Fs(G){for(;G!=null;G=G.nextSibling){var X=G.nodeType;if(X===1||X===3)break;if(X===8){if(X=G.data,X==="$"||X==="$!"||X==="$?"||X==="$~"||X==="&"||X==="F!"||X==="F")break;if(X==="/$"||X==="/&")return null}}return G}var If=null;function rd(G){G=G.nextSibling;for(var X=0;G;){if(G.nodeType===8){var ae=G.data;if(ae==="/$"||ae==="/&"){if(X===0)return Fs(G.nextSibling);X--}else ae!=="$"&&ae!=="$!"&&ae!=="$?"&&ae!=="$~"&&ae!=="&"||X++}G=G.nextSibling}return null}function nd(G){G=G.previousSibling;for(var X=0;G;){if(G.nodeType===8){var ae=G.data;if(ae==="$"||ae==="$!"||ae==="$?"||ae==="$~"||ae==="&"){if(X===0)return G;X--}else ae!=="/$"&&ae!=="/&"||X++}G=G.previousSibling}return null}function id(G,X,ae){switch(X=gc(ae),G){case"html":if(G=X.documentElement,!G)throw Error(b(452));return G;case"head":if(G=X.head,!G)throw Error(b(453));return G;case"body":if(G=X.body,!G)throw Error(b(454));return G;default:throw Error(b(451))}}function Dl(G){for(var X=G.attributes;X.length;)G.removeAttributeNode(X[0]);Bn(G)}var Us=new Map,ad=new Set;function yc(G){return typeof G.getRootNode=="function"?G.getRootNode():G.nodeType===9?G:G.ownerDocument}var mu=ut.d;ut.d={f:d0,r:m0,D:_0,C:g0,L:y0,m:v0,X:b0,S:x0,M:E0};function d0(){var G=mu.f(),X=lc();return G||X}function m0(G){var X=ri(G);X!==null&&X.tag===5&&X.type==="form"?Eh(X):mu.r(G)}var ll=typeof document>"u"?null:document;function od(G,X,ae){var xe=ll;if(xe&&typeof X=="string"&&X){var Ye=Zi(X);Ye='link[rel="'+G+'"][href="'+Ye+'"]',typeof ae=="string"&&(Ye+='[crossorigin="'+ae+'"]'),ad.has(Ye)||(ad.add(Ye),G={rel:G,crossOrigin:ae,href:X},xe.querySelector(Ye)===null&&(X=xe.createElement("link"),is(X,"link",G),fi(X),xe.head.appendChild(X)))}}function _0(G){mu.D(G),od("dns-prefetch",G,null)}function g0(G,X){mu.C(G,X),od("preconnect",G,X)}function y0(G,X,ae){mu.L(G,X,ae);var xe=ll;if(xe&&G&&X){var Ye='link[rel="preload"][as="'+Zi(X)+'"]';X==="image"&&ae&&ae.imageSrcSet?(Ye+='[imagesrcset="'+Zi(ae.imageSrcSet)+'"]',typeof ae.imageSizes=="string"&&(Ye+='[imagesizes="'+Zi(ae.imageSizes)+'"]')):Ye+='[href="'+Zi(G)+'"]';var ot=Ye;switch(X){case"style":ot=cl(G);break;case"script":ot=fl(G)}Us.has(ot)||(G=T({rel:"preload",href:X==="image"&&ae&&ae.imageSrcSet?void 0:G,as:X},ae),Us.set(ot,G),xe.querySelector(Ye)!==null||X==="style"&&xe.querySelector(Rl(ot))||X==="script"&&xe.querySelector(Bl(ot))||(X=xe.createElement("link"),is(X,"link",G),fi(X),xe.head.appendChild(X)))}}function v0(G,X){mu.m(G,X);var ae=ll;if(ae&&G){var xe=X&&typeof X.as=="string"?X.as:"script",Ye='link[rel="modulepreload"][as="'+Zi(xe)+'"][href="'+Zi(G)+'"]',ot=Ye;switch(xe){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":ot=fl(G)}if(!Us.has(ot)&&(G=T({rel:"modulepreload",href:G},X),Us.set(ot,G),ae.querySelector(Ye)===null)){switch(xe){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(ae.querySelector(Bl(ot)))return}xe=ae.createElement("link"),is(xe,"link",G),fi(xe),ae.head.appendChild(xe)}}}function x0(G,X,ae){mu.S(G,X,ae);var xe=ll;if(xe&&G){var Ye=Yn(xe).hoistableStyles,ot=cl(G);X=X||"default";var Pt=Ye.get(ot);if(!Pt){var dr={loading:0,preload:null};if(Pt=xe.querySelector(Rl(ot)))dr.loading=5;else{G=T({rel:"stylesheet",href:G,"data-precedence":X},ae),(ae=Us.get(ot))&&Ff(G,ae);var jr=Pt=xe.createElement("link");fi(jr),is(jr,"link",G),jr._p=new Promise(function(yn,Pn){jr.onload=yn,jr.onerror=Pn}),jr.addEventListener("load",function(){dr.loading|=1}),jr.addEventListener("error",function(){dr.loading|=2}),dr.loading|=4,vc(Pt,X,xe)}Pt={type:"stylesheet",instance:Pt,count:1,state:dr},Ye.set(ot,Pt)}}}function b0(G,X){mu.X(G,X);var ae=ll;if(ae&&G){var xe=Yn(ae).hoistableScripts,Ye=fl(G),ot=xe.get(Ye);ot||(ot=ae.querySelector(Bl(Ye)),ot||(G=T({src:G,async:!0},X),(X=Us.get(Ye))&&Uf(G,X),ot=ae.createElement("script"),fi(ot),is(ot,"link",G),ae.head.appendChild(ot)),ot={type:"script",instance:ot,count:1,state:null},xe.set(Ye,ot))}}function E0(G,X){mu.M(G,X);var ae=ll;if(ae&&G){var xe=Yn(ae).hoistableScripts,Ye=fl(G),ot=xe.get(Ye);ot||(ot=ae.querySelector(Bl(Ye)),ot||(G=T({src:G,async:!0,type:"module"},X),(X=Us.get(Ye))&&Uf(G,X),ot=ae.createElement("script"),fi(ot),is(ot,"link",G),ae.head.appendChild(ot)),ot={type:"script",instance:ot,count:1,state:null},xe.set(Ye,ot))}}function sd(G,X,ae,xe){var Ye=(Ye=Ct.current)?yc(Ye):null;if(!Ye)throw Error(b(446));switch(G){case"meta":case"title":return null;case"style":return typeof ae.precedence=="string"&&typeof ae.href=="string"?(X=cl(ae.href),ae=Yn(Ye).hoistableStyles,xe=ae.get(X),xe||(xe={type:"style",instance:null,count:0,state:null},ae.set(X,xe)),xe):{type:"void",instance:null,count:0,state:null};case"link":if(ae.rel==="stylesheet"&&typeof ae.href=="string"&&typeof ae.precedence=="string"){G=cl(ae.href);var ot=Yn(Ye).hoistableStyles,Pt=ot.get(G);if(Pt||(Ye=Ye.ownerDocument||Ye,Pt={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},ot.set(G,Pt),(ot=Ye.querySelector(Rl(G)))&&!ot._p&&(Pt.instance=ot,Pt.state.loading=5),Us.has(G)||(ae={rel:"preload",as:"style",href:ae.href,crossOrigin:ae.crossOrigin,integrity:ae.integrity,media:ae.media,hrefLang:ae.hrefLang,referrerPolicy:ae.referrerPolicy},Us.set(G,ae),ot||w0(Ye,G,ae,Pt.state))),X&&xe===null)throw Error(b(528,""));return Pt}if(X&&xe!==null)throw Error(b(529,""));return null;case"script":return X=ae.async,ae=ae.src,typeof ae=="string"&&X&&typeof X!="function"&&typeof X!="symbol"?(X=fl(ae),ae=Yn(Ye).hoistableScripts,xe=ae.get(X),xe||(xe={type:"script",instance:null,count:0,state:null},ae.set(X,xe)),xe):{type:"void",instance:null,count:0,state:null};default:throw Error(b(444,G))}}function cl(G){return'href="'+Zi(G)+'"'}function Rl(G){return'link[rel="stylesheet"]['+G+"]"}function ud(G){return T({},G,{"data-precedence":G.precedence,precedence:null})}function w0(G,X,ae,xe){G.querySelector('link[rel="preload"][as="style"]['+X+"]")?xe.loading=1:(X=G.createElement("link"),xe.preload=X,X.addEventListener("load",function(){return xe.loading|=1}),X.addEventListener("error",function(){return xe.loading|=2}),is(X,"link",ae),fi(X),G.head.appendChild(X))}function fl(G){return'[src="'+Zi(G)+'"]'}function Bl(G){return"script[async]"+G}function ld(G,X,ae){if(X.count++,X.instance===null)switch(X.type){case"style":var xe=G.querySelector('style[data-href~="'+Zi(ae.href)+'"]');if(xe)return X.instance=xe,fi(xe),xe;var Ye=T({},ae,{"data-href":ae.href,"data-precedence":ae.precedence,href:null,precedence:null});return xe=(G.ownerDocument||G).createElement("style"),fi(xe),is(xe,"style",Ye),vc(xe,ae.precedence,G),X.instance=xe;case"stylesheet":Ye=cl(ae.href);var ot=G.querySelector(Rl(Ye));if(ot)return X.state.loading|=4,X.instance=ot,fi(ot),ot;xe=ud(ae),(Ye=Us.get(Ye))&&Ff(xe,Ye),ot=(G.ownerDocument||G).createElement("link"),fi(ot);var Pt=ot;return Pt._p=new Promise(function(dr,jr){Pt.onload=dr,Pt.onerror=jr}),is(ot,"link",xe),X.state.loading|=4,vc(ot,ae.precedence,G),X.instance=ot;case"script":return ot=fl(ae.src),(Ye=G.querySelector(Bl(ot)))?(X.instance=Ye,fi(Ye),Ye):(xe=ae,(Ye=Us.get(ot))&&(xe=T({},ae),Uf(xe,Ye)),G=G.ownerDocument||G,Ye=G.createElement("script"),fi(Ye),is(Ye,"link",xe),G.head.appendChild(Ye),X.instance=Ye);case"void":return null;default:throw Error(b(443,X.type))}else X.type==="stylesheet"&&(X.state.loading&4)===0&&(xe=X.instance,X.state.loading|=4,vc(xe,ae.precedence,G));return X.instance}function vc(G,X,ae){for(var xe=ae.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),Ye=xe.length?xe[xe.length-1]:null,ot=Ye,Pt=0;Pt<xe.length;Pt++){var dr=xe[Pt];if(dr.dataset.precedence===X)ot=dr;else if(ot!==Ye)break}ot?ot.parentNode.insertBefore(G,ot.nextSibling):(X=ae.nodeType===9?ae.head:ae,X.insertBefore(G,X.firstChild))}function Ff(G,X){G.crossOrigin==null&&(G.crossOrigin=X.crossOrigin),G.referrerPolicy==null&&(G.referrerPolicy=X.referrerPolicy),G.title==null&&(G.title=X.title)}function Uf(G,X){G.crossOrigin==null&&(G.crossOrigin=X.crossOrigin),G.referrerPolicy==null&&(G.referrerPolicy=X.referrerPolicy),G.integrity==null&&(G.integrity=X.integrity)}var xc=null;function cd(G,X,ae){if(xc===null){var xe=new Map,Ye=xc=new Map;Ye.set(ae,xe)}else Ye=xc,xe=Ye.get(ae),xe||(xe=new Map,Ye.set(ae,xe));if(xe.has(G))return xe;for(xe.set(G,null),ae=ae.getElementsByTagName(G),Ye=0;Ye<ae.length;Ye++){var ot=ae[Ye];if(!(ot[$r]||ot[pr]||G==="link"&&ot.getAttribute("rel")==="stylesheet")&&ot.namespaceURI!=="http://www.w3.org/2000/svg"){var Pt=ot.getAttribute(X)||"";Pt=G+Pt;var dr=xe.get(Pt);dr?dr.push(ot):xe.set(Pt,[ot])}}return xe}function fd(G,X,ae){G=G.ownerDocument||G,G.head.insertBefore(ae,X==="title"?G.querySelector("head > title"):null)}function T0(G,X,ae){if(ae===1||X.itemProp!=null)return!1;switch(G){case"meta":case"title":return!0;case"style":if(typeof X.precedence!="string"||typeof X.href!="string"||X.href==="")break;return!0;case"link":if(typeof X.rel!="string"||typeof X.href!="string"||X.href===""||X.onLoad||X.onError)break;switch(X.rel){case"stylesheet":return G=X.disabled,typeof X.precedence=="string"&&G==null;default:return!0}case"script":if(X.async&&typeof X.async!="function"&&typeof X.async!="symbol"&&!X.onLoad&&!X.onError&&X.src&&typeof X.src=="string")return!0}return!1}function hd(G){return!(G.type==="stylesheet"&&(G.state.loading&3)===0)}function C0(G,X,ae,xe){if(ae.type==="stylesheet"&&(typeof xe.media!="string"||matchMedia(xe.media).matches!==!1)&&(ae.state.loading&4)===0){if(ae.instance===null){var Ye=cl(xe.href),ot=X.querySelector(Rl(Ye));if(ot){X=ot._p,X!==null&&typeof X=="object"&&typeof X.then=="function"&&(G.count++,G=bc.bind(G),X.then(G,G)),ae.state.loading|=4,ae.instance=ot,fi(ot);return}ot=X.ownerDocument||X,xe=ud(xe),(Ye=Us.get(Ye))&&Ff(xe,Ye),ot=ot.createElement("link"),fi(ot);var Pt=ot;Pt._p=new Promise(function(dr,jr){Pt.onload=dr,Pt.onerror=jr}),is(ot,"link",xe),ae.instance=ot}G.stylesheets===null&&(G.stylesheets=new Map),G.stylesheets.set(ae,X),(X=ae.state.preload)&&(ae.state.loading&3)===0&&(G.count++,ae=bc.bind(G),X.addEventListener("load",ae),X.addEventListener("error",ae))}}var jf=0;function S0(G,X){return G.stylesheets&&G.count===0&&wc(G,G.stylesheets),0<G.count||0<G.imgCount?function(ae){var xe=setTimeout(function(){if(G.stylesheets&&wc(G,G.stylesheets),G.unsuspend){var ot=G.unsuspend;G.unsuspend=null,ot()}},6e4+X);0<G.imgBytes&&jf===0&&(jf=62500*o0());var Ye=setTimeout(function(){if(G.waitingForImages=!1,G.count===0&&(G.stylesheets&&wc(G,G.stylesheets),G.unsuspend)){var ot=G.unsuspend;G.unsuspend=null,ot()}},(G.imgBytes>jf?50:800)+X);return G.unsuspend=ae,function(){G.unsuspend=null,clearTimeout(xe),clearTimeout(Ye)}}:null}function bc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)wc(this,this.stylesheets);else if(this.unsuspend){var G=this.unsuspend;this.unsuspend=null,G()}}}var Ec=null;function wc(G,X){G.stylesheets=null,G.unsuspend!==null&&(G.count++,Ec=new Map,X.forEach(A0,G),Ec=null,bc.call(G))}function A0(G,X){if(!(X.state.loading&4)){var ae=Ec.get(G);if(ae)var xe=ae.get(null);else{ae=new Map,Ec.set(G,ae);for(var Ye=G.querySelectorAll("link[data-precedence],style[data-precedence]"),ot=0;ot<Ye.length;ot++){var Pt=Ye[ot];(Pt.nodeName==="LINK"||Pt.getAttribute("media")!=="not all")&&(ae.set(Pt.dataset.precedence,Pt),xe=Pt)}xe&&ae.set(null,xe)}Ye=X.instance,Pt=Ye.getAttribute("data-precedence"),ot=ae.get(Pt)||xe,ot===xe&&ae.set(null,Ye),ae.set(Pt,Ye),this.count++,xe=bc.bind(this),Ye.addEventListener("load",xe),Ye.addEventListener("error",xe),ot?ot.parentNode.insertBefore(Ye,ot.nextSibling):(G=G.nodeType===9?G.head:G,G.insertBefore(Ye,G.firstChild)),X.state.loading|=4}}var Pl={$$typeof:fe,Provider:null,Consumer:null,_currentValue:Mt,_currentValue2:Mt,_threadCount:0};function M0(G,X,ae,xe,Ye,ot,Pt,dr,jr){this.tag=1,this.containerInfo=G,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Nr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nr(0),this.hiddenUpdates=Nr(null),this.identifierPrefix=xe,this.onUncaughtError=Ye,this.onCaughtError=ot,this.onRecoverableError=Pt,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=jr,this.incompleteTransitions=new Map}function pd(G,X,ae,xe,Ye,ot,Pt,dr,jr,yn,Pn,Hn){return G=new M0(G,X,ae,Pt,jr,yn,Pn,Hn,dr),X=1,ot===!0&&(X|=24),ot=Oi(3,null,null,X),G.current=ot,ot.stateNode=G,X=dl(),X.refCount++,G.pooledCache=X,X.refCount++,ot.memoizedState={element:xe,isDehydrated:ae,cache:X},Ot(ot),G}function dd(G){return G?(G=Rs,G):Rs}function md(G,X,ae,xe,Ye,ot){Ye=dd(Ye),xe.context===null?xe.context=Ye:xe.pendingContext=Ye,xe=ir(X),xe.payload={element:ae},ot=ot===void 0?null:ot,ot!==null&&(xe.callback=ot),ae=Rr(G,xe,X),ae!==null&&(ws(ae,G,X),Mr(ae,G,X))}function _d(G,X){if(G=G.memoizedState,G!==null&&G.dehydrated!==null){var ae=G.retryLane;G.retryLane=ae!==0&&ae<X?ae:X}}function Gf(G,X){_d(G,X),(G=G.alternate)&&_d(G,X)}function gd(G){if(G.tag===13||G.tag===31){var X=us(G,67108864);X!==null&&ws(X,G,67108864),Gf(G,67108864)}}function yd(G){if(G.tag===13||G.tag===31){var X=Os();X=Dn(X);var ae=us(G,X);ae!==null&&ws(ae,G,X),Gf(G,X)}}var Tc=!0;function L0(G,X,ae,xe){var Ye=pt.T;pt.T=null;var ot=ut.p;try{ut.p=2,zf(G,X,ae,xe)}finally{ut.p=ot,pt.T=Ye}}function k0(G,X,ae,xe){var Ye=pt.T;pt.T=null;var ot=ut.p;try{ut.p=8,zf(G,X,ae,xe)}finally{ut.p=ot,pt.T=Ye}}function zf(G,X,ae,xe){if(Tc){var Ye=Wf(xe);if(Ye===null)Mf(G,X,xe,Cc,ae),xd(G,xe);else if(N0(Ye,G,X,ae,xe))xe.stopPropagation();else if(xd(G,xe),X&4&&-1<O0.indexOf(G)){for(;Ye!==null;){var ot=ri(Ye);if(ot!==null)switch(ot.tag){case 3:if(ot=ot.stateNode,ot.current.memoizedState.isDehydrated){var Pt=wt(ot.pendingLanes);if(Pt!==0){var dr=ot;for(dr.pendingLanes|=2,dr.entangledLanes|=2;Pt;){var jr=1<<31-ai(Pt);dr.entanglements[1]|=jr,Pt&=~jr}Js(ot),(Ra&6)===0&&(sc=Cr()+500,kl(0))}}break;case 31:case 13:dr=us(ot,2),dr!==null&&ws(dr,ot,2),lc(),Gf(ot,2)}if(ot=Wf(xe),ot===null&&Mf(G,X,xe,Cc,ae),ot===Ye)break;Ye=ot}Ye!==null&&xe.stopPropagation()}else Mf(G,X,xe,null,ae)}}function Wf(G){return G=Sr(G),qf(G)}var Cc=null;function qf(G){if(Cc=null,G=zn(G),G!==null){var X=z(G);if(X===null)G=null;else{var ae=X.tag;if(ae===13){if(G=B(X),G!==null)return G;G=null}else if(ae===31){if(G=R(X),G!==null)return G;G=null}else if(ae===3){if(X.stateNode.current.memoizedState.isDehydrated)return X.tag===3?X.stateNode.containerInfo:null;G=null}else X!==G&&(G=null)}}return Cc=G,null}function vd(G){switch(G){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Dr()){case _n:return 2;case In:return 8;case Fn:case ti:return 32;case Qn:return 268435456;default:return 32}default:return 32}}var Hf=!1,ku=null,Ou=null,Nu=null,Il=new Map,Fl=new Map,Du=[],O0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function xd(G,X){switch(G){case"focusin":case"focusout":ku=null;break;case"dragenter":case"dragleave":Ou=null;break;case"mouseover":case"mouseout":Nu=null;break;case"pointerover":case"pointerout":Il.delete(X.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fl.delete(X.pointerId)}}function Ul(G,X,ae,xe,Ye,ot){return G===null||G.nativeEvent!==ot?(G={blockedOn:X,domEventName:ae,eventSystemFlags:xe,nativeEvent:ot,targetContainers:[Ye]},X!==null&&(X=ri(X),X!==null&&gd(X)),G):(G.eventSystemFlags|=xe,X=G.targetContainers,Ye!==null&&X.indexOf(Ye)===-1&&X.push(Ye),G)}function N0(G,X,ae,xe,Ye){switch(X){case"focusin":return ku=Ul(ku,G,X,ae,xe,Ye),!0;case"dragenter":return Ou=Ul(Ou,G,X,ae,xe,Ye),!0;case"mouseover":return Nu=Ul(Nu,G,X,ae,xe,Ye),!0;case"pointerover":var ot=Ye.pointerId;return Il.set(ot,Ul(Il.get(ot)||null,G,X,ae,xe,Ye)),!0;case"gotpointercapture":return ot=Ye.pointerId,Fl.set(ot,Ul(Fl.get(ot)||null,G,X,ae,xe,Ye)),!0}return!1}function bd(G){var X=zn(G.target);if(X!==null){var ae=z(X);if(ae!==null){if(X=ae.tag,X===13){if(X=B(ae),X!==null){G.blockedOn=X,_r(G.priority,function(){yd(ae)});return}}else if(X===31){if(X=R(ae),X!==null){G.blockedOn=X,_r(G.priority,function(){yd(ae)});return}}else if(X===3&&ae.stateNode.current.memoizedState.isDehydrated){G.blockedOn=ae.tag===3?ae.stateNode.containerInfo:null;return}}}G.blockedOn=null}function Sc(G){if(G.blockedOn!==null)return!1;for(var X=G.targetContainers;0<X.length;){var ae=Wf(G.nativeEvent);if(ae===null){ae=G.nativeEvent;var xe=new ae.constructor(ae.type,ae);$t=xe,ae.target.dispatchEvent(xe),$t=null}else return X=ri(ae),X!==null&&gd(X),G.blockedOn=ae,!1;X.shift()}return!0}function Ed(G,X,ae){Sc(G)&&ae.delete(X)}function D0(){Hf=!1,ku!==null&&Sc(ku)&&(ku=null),Ou!==null&&Sc(Ou)&&(Ou=null),Nu!==null&&Sc(Nu)&&(Nu=null),Il.forEach(Ed),Fl.forEach(Ed)}function Ac(G,X){G.blockedOn===X&&(G.blockedOn=null,Hf||(Hf=!0,y.unstable_scheduleCallback(y.unstable_NormalPriority,D0)))}var Mc=null;function wd(G){Mc!==G&&(Mc=G,y.unstable_scheduleCallback(y.unstable_NormalPriority,function(){Mc===G&&(Mc=null);for(var X=0;X<G.length;X+=3){var ae=G[X],xe=G[X+1],Ye=G[X+2];if(typeof xe!="function"){if(qf(xe||ae)===null)continue;break}var ot=ri(ae);ot!==null&&(G.splice(X,3),X-=3,zc(ot,{pending:!0,data:Ye,method:ae.method,action:xe},xe,Ye))}}))}function hl(G){function X(jr){return Ac(jr,G)}ku!==null&&Ac(ku,G),Ou!==null&&Ac(Ou,G),Nu!==null&&Ac(Nu,G),Il.forEach(X),Fl.forEach(X);for(var ae=0;ae<Du.length;ae++){var xe=Du[ae];xe.blockedOn===G&&(xe.blockedOn=null)}for(;0<Du.length&&(ae=Du[0],ae.blockedOn===null);)bd(ae),ae.blockedOn===null&&Du.shift();if(ae=(G.ownerDocument||G).$$reactFormReplay,ae!=null)for(xe=0;xe<ae.length;xe+=3){var Ye=ae[xe],ot=ae[xe+1],Pt=Ye[gr]||null;if(typeof ot=="function")Pt||wd(ae);else if(Pt){var dr=null;if(ot&&ot.hasAttribute("formAction")){if(Ye=ot,Pt=ot[gr]||null)dr=Pt.formAction;else if(qf(Ye)!==null)continue}else dr=Pt.action;typeof dr=="function"?ae[xe+1]=dr:(ae.splice(xe,3),xe-=3),wd(ae)}}}function Td(){function G(ot){ot.canIntercept&&ot.info==="react-transition"&&ot.intercept({handler:function(){return new Promise(function(Pt){return Ye=Pt})},focusReset:"manual",scroll:"manual"})}function X(){Ye!==null&&(Ye(),Ye=null),xe||setTimeout(ae,20)}function ae(){if(!xe&&!navigation.transition){var ot=navigation.currentEntry;ot&&ot.url!=null&&navigation.navigate(ot.url,{state:ot.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var xe=!1,Ye=null;return navigation.addEventListener("navigate",G),navigation.addEventListener("navigatesuccess",X),navigation.addEventListener("navigateerror",X),setTimeout(ae,100),function(){xe=!0,navigation.removeEventListener("navigate",G),navigation.removeEventListener("navigatesuccess",X),navigation.removeEventListener("navigateerror",X),Ye!==null&&(Ye(),Ye=null)}}}function Vf(G){this._internalRoot=G}Lc.prototype.render=Vf.prototype.render=function(G){var X=this._internalRoot;if(X===null)throw Error(b(409));var ae=X.current,xe=Os();md(ae,xe,G,X,null,null)},Lc.prototype.unmount=Vf.prototype.unmount=function(){var G=this._internalRoot;if(G!==null){this._internalRoot=null;var X=G.containerInfo;md(G.current,2,null,G,null,null),lc(),X[Ar]=null}};function Lc(G){this._internalRoot=G}Lc.prototype.unstable_scheduleHydration=function(G){if(G){var X=Zt();G={blockedOn:null,target:G,priority:X};for(var ae=0;ae<Du.length&&X!==0&&X<Du[ae].priority;ae++);Du.splice(ae,0,G),ae===0&&bd(G)}};var Cd=x.version;if(Cd!=="19.2.0")throw Error(b(527,Cd,"19.2.0"));ut.findDOMNode=function(G){var X=G._reactInternals;if(X===void 0)throw typeof G.render=="function"?Error(b(188)):(G=Object.keys(G).join(","),Error(b(268,G)));return G=O(X),G=G!==null?A(G):null,G=G===null?null:G.stateNode,G};var R0={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:pt,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kc.isDisabled&&kc.supportsFiber)try{oi=kc.inject(R0),Si=kc}catch{}}return reactDomClient_production.createRoot=function(G,X){if(!M(G))throw Error(b(299));var ae=!1,xe="",Ye=Nh,ot=Dh,Pt=Rh;return X!=null&&(X.unstable_strictMode===!0&&(ae=!0),X.identifierPrefix!==void 0&&(xe=X.identifierPrefix),X.onUncaughtError!==void 0&&(Ye=X.onUncaughtError),X.onCaughtError!==void 0&&(ot=X.onCaughtError),X.onRecoverableError!==void 0&&(Pt=X.onRecoverableError)),X=pd(G,1,!1,null,null,ae,xe,null,Ye,ot,Pt,Td),G[Ar]=X.current,Af(G),new Vf(X)},reactDomClient_production.hydrateRoot=function(G,X,ae){if(!M(G))throw Error(b(299));var xe=!1,Ye="",ot=Nh,Pt=Dh,dr=Rh,jr=null;return ae!=null&&(ae.unstable_strictMode===!0&&(xe=!0),ae.identifierPrefix!==void 0&&(Ye=ae.identifierPrefix),ae.onUncaughtError!==void 0&&(ot=ae.onUncaughtError),ae.onCaughtError!==void 0&&(Pt=ae.onCaughtError),ae.onRecoverableError!==void 0&&(dr=ae.onRecoverableError),ae.formState!==void 0&&(jr=ae.formState)),X=pd(G,1,!0,X,ae??null,xe,Ye,jr,ot,Pt,dr,Td),X.context=dd(null),ae=X.current,xe=Os(),xe=Dn(xe),Ye=ir(xe),Ye.callback=null,Rr(ae,Ye,xe),ae=xe,X.current.lanes=ae,Gr(X,ae),Js(X),G[Ar]=X.current,Af(G),new Lc(X)},reactDomClient_production.version="19.2.0",reactDomClient_production}var hasRequiredClient;function requireClient(){if(hasRequiredClient)return client.exports;hasRequiredClient=1;function y(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(y)}catch(x){console.error(x)}}return y(),client.exports=requireReactDomClient_production(),client.exports}var clientExports=requireClient();let e={data:""},t=y=>{if(typeof window=="object"){let x=(y?y.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return x.nonce=window.__nonce__,x.parentNode||(y||document.head).appendChild(x),x.firstChild}return y||e},l=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,a=/\/\*[^]*?\*\/|  +/g,n$1=/\n+/g,o=(y,x)=>{let r="",b="",M="";for(let z in y){let B=y[z];z[0]=="@"?z[1]=="i"?r=z+" "+B+";":b+=z[1]=="f"?o(B,z):z+"{"+o(B,z[1]=="k"?"":x)+"}":typeof B=="object"?b+=o(B,x?x.replace(/([^,])+/g,R=>z.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,I=>/&/.test(I)?I.replace(/&/g,R):R?R+" "+I:I)):z):B!=null&&(z=/^--/.test(z)?z:z.replace(/[A-Z]/g,"-$&").toLowerCase(),M+=o.p?o.p(z,B):z+":"+B+";")}return r+(x&&M?x+"{"+M+"}":M)+b},c={},s=y=>{if(typeof y=="object"){let x="";for(let r in y)x+=r+s(y[r]);return x}return y},i=(y,x,r,b,M)=>{let z=s(y),B=c[z]||(c[z]=(I=>{let O=0,A=11;for(;O<I.length;)A=101*A+I.charCodeAt(O++)>>>0;return"go"+A})(z));if(!c[B]){let I=z!==y?y:(O=>{let A,T,U=[{}];for(;A=l.exec(O.replace(a,""));)A[4]?U.shift():A[3]?(T=A[3].replace(n$1," ").trim(),U.unshift(U[0][T]=U[0][T]||{})):U[0][A[1]]=A[2].replace(n$1," ").trim();return U[0]})(y);c[B]=o(M?{["@keyframes "+B]:I}:I,r?"":"."+B)}let R=r&&c.g?c.g:null;return r&&(c.g=c[B]),((I,O,A,T)=>{T?O.data=O.data.replace(T,I):O.data.indexOf(I)===-1&&(O.data=A?I+O.data:O.data+I)})(c[B],x,b,R),B},p=(y,x,r)=>y.reduce((b,M,z)=>{let B=x[z];if(B&&B.call){let R=B(r),I=R&&R.props&&R.props.className||/^go/.test(R)&&R;B=I?"."+I:R&&typeof R=="object"?R.props?"":o(R,""):R===!1?"":R}return b+M+(B??"")},"");function u(y){let x=this||{},r=y.call?y(x.p):y;return i(r.unshift?r.raw?p(r,[].slice.call(arguments,1),x.p):r.reduce((b,M)=>Object.assign(b,M&&M.call?M(x.p):M),{}):r,t(x.target),x.g,x.o,x.k)}let d,f$1,g;u.bind({g:1});let h$1=u.bind({k:1});function m(y,x,r,b){o.p=x,d=y,f$1=r,g=b}function w$1(y,x){let r=this||{};return function(){let b=arguments;function M(z,B){let R=Object.assign({},z),I=R.className||M.className;r.p=Object.assign({theme:f$1&&f$1()},R),r.o=/ *go\d+/.test(I),R.className=u.apply(r,b)+(I?" "+I:"");let O=y;return y[0]&&(O=R.as||y,delete R.as),g&&O[0]&&g(R),d(O,R)}return M}}var Z=y=>typeof y=="function",h=(y,x)=>Z(y)?y(x):y,W=(()=>{let y=0;return()=>(++y).toString()})(),E=(()=>{let y;return()=>{if(y===void 0&&typeof window<"u"){let x=matchMedia("(prefers-reduced-motion: reduce)");y=!x||x.matches}return y}})(),re=20,k="default",H=(y,x)=>{let{toastLimit:r}=y.settings;switch(x.type){case 0:return{...y,toasts:[x.toast,...y.toasts].slice(0,r)};case 1:return{...y,toasts:y.toasts.map(B=>B.id===x.toast.id?{...B,...x.toast}:B)};case 2:let{toast:b}=x;return H(y,{type:y.toasts.find(B=>B.id===b.id)?1:0,toast:b});case 3:let{toastId:M}=x;return{...y,toasts:y.toasts.map(B=>B.id===M||M===void 0?{...B,dismissed:!0,visible:!1}:B)};case 4:return x.toastId===void 0?{...y,toasts:[]}:{...y,toasts:y.toasts.filter(B=>B.id!==x.toastId)};case 5:return{...y,pausedAt:x.time};case 6:let z=x.time-(y.pausedAt||0);return{...y,pausedAt:void 0,toasts:y.toasts.map(B=>({...B,pauseDuration:B.pauseDuration+z}))}}},v=[],j={toasts:[],pausedAt:void 0,settings:{toastLimit:re}},f={},Y=(y,x=k)=>{f[x]=H(f[x]||j,y),v.forEach(([r,b])=>{r===x&&b(f[x])})},_=y=>Object.keys(f).forEach(x=>Y(y,x)),Q=y=>Object.keys(f).find(x=>f[x].toasts.some(r=>r.id===y)),S=(y=k)=>x=>{Y(x,y)},se={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},V=(y={},x=k)=>{let[r,b]=reactExports.useState(f[x]||j),M=reactExports.useRef(f[x]);reactExports.useEffect(()=>(M.current!==f[x]&&b(f[x]),v.push([x,b]),()=>{let B=v.findIndex(([R])=>R===x);B>-1&&v.splice(B,1)}),[x]);let z=r.toasts.map(B=>{var R,I,O;return{...y,...y[B.type],...B,removeDelay:B.removeDelay||((R=y[B.type])==null?void 0:R.removeDelay)||y?.removeDelay,duration:B.duration||((I=y[B.type])==null?void 0:I.duration)||y?.duration||se[B.type],style:{...y.style,...(O=y[B.type])==null?void 0:O.style,...B.style}}});return{...r,toasts:z}},ie=(y,x="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:x,ariaProps:{role:"status","aria-live":"polite"},message:y,pauseDuration:0,...r,id:r?.id||W()}),P=y=>(x,r)=>{let b=ie(x,y,r);return S(b.toasterId||Q(b.id))({type:2,toast:b}),b.id},n=(y,x)=>P("blank")(y,x);n.error=P("error");n.success=P("success");n.loading=P("loading");n.custom=P("custom");n.dismiss=(y,x)=>{let r={type:3,toastId:y};x?S(x)(r):_(r)};n.dismissAll=y=>n.dismiss(void 0,y);n.remove=(y,x)=>{let r={type:4,toastId:y};x?S(x)(r):_(r)};n.removeAll=y=>n.remove(void 0,y);n.promise=(y,x,r)=>{let b=n.loading(x.loading,{...r,...r?.loading});return typeof y=="function"&&(y=y()),y.then(M=>{let z=x.success?h(x.success,M):void 0;return z?n.success(z,{id:b,...r,...r?.success}):n.dismiss(b),M}).catch(M=>{let z=x.error?h(x.error,M):void 0;z?n.error(z,{id:b,...r,...r?.error}):n.dismiss(b)}),y};var ce=1e3,w=(y,x="default")=>{let{toasts:r,pausedAt:b}=V(y,x),M=reactExports.useRef(new Map).current,z=reactExports.useCallback((T,U=ce)=>{if(M.has(T))return;let q=setTimeout(()=>{M.delete(T),B({type:4,toastId:T})},U);M.set(T,q)},[]);reactExports.useEffect(()=>{if(b)return;let T=Date.now(),U=r.map(q=>{if(q.duration===1/0)return;let K=(q.duration||0)+q.pauseDuration-(T-q.createdAt);if(K<0){q.visible&&n.dismiss(q.id);return}return setTimeout(()=>n.dismiss(q.id,x),K)});return()=>{U.forEach(q=>q&&clearTimeout(q))}},[r,b,x]);let B=reactExports.useCallback(S(x),[x]),R=reactExports.useCallback(()=>{B({type:5,time:Date.now()})},[B]),I=reactExports.useCallback((T,U)=>{B({type:1,toast:{id:T,height:U}})},[B]),O=reactExports.useCallback(()=>{b&&B({type:6,time:Date.now()})},[b,B]),A=reactExports.useCallback((T,U)=>{let{reverseOrder:q=!1,gutter:K=8,defaultPosition:J}=U||{},te=r.filter(fe=>(fe.position||J)===(T.position||J)&&fe.height),oe=te.findIndex(fe=>fe.id===T.id),ue=te.filter((fe,Le)=>Le<oe&&fe.visible).length;return te.filter(fe=>fe.visible).slice(...q?[ue+1]:[0,ue]).reduce((fe,Le)=>fe+(Le.height||0)+K,0)},[r]);return reactExports.useEffect(()=>{r.forEach(T=>{if(T.dismissed)z(T.id,T.removeDelay);else{let U=M.get(T.id);U&&(clearTimeout(U),M.delete(T.id))}})},[r,z]),{toasts:r,handlers:{updateHeight:I,startPause:R,endPause:O,calculateOffset:A}}},de=h$1`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,me=h$1`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,le=h$1`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,C=w$1("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${y=>y.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${de} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${me} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${y=>y.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${le} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Te=h$1`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,F=w$1("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${y=>y.secondary||"#e0e0e0"};
  border-right-color: ${y=>y.primary||"#616161"};
  animation: ${Te} 1s linear infinite;
`,ge=h$1`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,he=h$1`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,L$2=w$1("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${y=>y.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${ge} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${he} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${y=>y.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,be=w$1("div")`
  position: absolute;
`,Se=w$1("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Ae=h$1`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Pe=w$1("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Ae} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,$$1=({toast:y})=>{let{icon:x,type:r,iconTheme:b}=y;return x!==void 0?typeof x=="string"?reactExports.createElement(Pe,null,x):x:r==="blank"?null:reactExports.createElement(Se,null,reactExports.createElement(F,{...b}),r!=="loading"&&reactExports.createElement(be,null,r==="error"?reactExports.createElement(C,{...b}):reactExports.createElement(L$2,{...b})))},Re=y=>`
0% {transform: translate3d(0,${y*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Ee=y=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${y*-150}%,-1px) scale(.6); opacity:0;}
`,ve="0%{opacity:0;} 100%{opacity:1;}",De="0%{opacity:1;} 100%{opacity:0;}",Oe=w$1("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Ie=w$1("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,ke=(y,x)=>{let r=y.includes("top")?1:-1,[b,M]=E()?[ve,De]:[Re(r),Ee(r)];return{animation:x?`${h$1(b)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${h$1(M)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},N=reactExports.memo(({toast:y,position:x,style:r,children:b})=>{let M=y.height?ke(y.position||x||"top-center",y.visible):{opacity:0},z=reactExports.createElement($$1,{toast:y}),B=reactExports.createElement(Ie,{...y.ariaProps},h(y.message,y));return reactExports.createElement(Oe,{className:y.className,style:{...M,...r,...y.style}},typeof b=="function"?b({icon:z,message:B}):reactExports.createElement(reactExports.Fragment,null,z,B))});m(reactExports.createElement);var we=({id:y,className:x,style:r,onHeightUpdate:b,children:M})=>{let z=reactExports.useCallback(B=>{if(B){let R=()=>{let I=B.getBoundingClientRect().height;b(y,I)};R(),new MutationObserver(R).observe(B,{subtree:!0,childList:!0,characterData:!0})}},[y,b]);return reactExports.createElement("div",{ref:z,className:x,style:r},M)},Me=(y,x)=>{let r=y.includes("top"),b=r?{top:0}:{bottom:0},M=y.includes("center")?{justifyContent:"center"}:y.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:E()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${x*(r?1:-1)}px)`,...b,...M}},Ce=u`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,D=16,Fe=({reverseOrder:y,position:x="top-center",toastOptions:r,gutter:b,children:M,toasterId:z,containerStyle:B,containerClassName:R})=>{let{toasts:I,handlers:O}=w(r,z);return reactExports.createElement("div",{"data-rht-toaster":z||"",style:{position:"fixed",zIndex:9999,top:D,left:D,right:D,bottom:D,pointerEvents:"none",...B},className:R,onMouseEnter:O.startPause,onMouseLeave:O.endPause},I.map(A=>{let T=A.position||x,U=O.calculateOffset(A,{reverseOrder:y,gutter:b,defaultPosition:x}),q=Me(T,U);return reactExports.createElement(we,{id:A.id,key:A.id,onHeightUpdate:O.updateHeight,className:A.visible?Ce:"",style:q},A.type==="custom"?h(A.message,A):M?M(A):reactExports.createElement(N,{toast:A,position:T}))}))},zt=n;function useAttribution(y,x){const r=reactExports.useRef(x);reactExports.useEffect(function(){x!==r.current&&y.attributionControl!=null&&(r.current!=null&&y.attributionControl.removeAttribution(r.current),x!=null&&y.attributionControl.addAttribution(x)),r.current=x},[y,x])}function updateCircle(y,x,r){x.center!==r.center&&y.setLatLng(x.center),x.radius!=null&&x.radius!==r.radius&&y.setRadius(x.radius)}var reactDomExports=requireReactDom();const CONTEXT_VERSION=1;function createLeafletContext(y){return Object.freeze({__version:CONTEXT_VERSION,map:y})}function extendContext(y,x){return Object.freeze({...y,...x})}const LeafletContext=reactExports.createContext(null);function useLeafletContext(){const y=reactExports.use(LeafletContext);if(y==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return y}function createContainerComponent(y){function x(r,b){const{instance:M,context:z}=y(r).current;reactExports.useImperativeHandle(b,()=>M);const{children:B}=r;return B==null?null:React.createElement(LeafletContext,{value:z},B)}return reactExports.forwardRef(x)}function createDivOverlayComponent(y){function x(r,b){const[M,z]=reactExports.useState(!1),{instance:B}=y(r,z).current;reactExports.useImperativeHandle(b,()=>B),reactExports.useEffect(function(){M&&B.update()},[B,M,r.children]);const R=B._contentNode;return R?reactDomExports.createPortal(r.children,R):null}return reactExports.forwardRef(x)}function createLeafComponent(y){function x(r,b){const{instance:M}=y(r).current;return reactExports.useImperativeHandle(b,()=>M),null}return reactExports.forwardRef(x)}function createControlHook(y){return function(r){const b=useLeafletContext(),M=y(r,b),{instance:z}=M.current,B=reactExports.useRef(r.position),{position:R}=r;return reactExports.useEffect(function(){return z.addTo(b.map),function(){z.remove()}},[b.map,z]),reactExports.useEffect(function(){R!=null&&R!==B.current&&(z.setPosition(R),B.current=R)},[z,R]),M}}function useEventHandlers(y,x){const r=reactExports.useRef(void 0);reactExports.useEffect(function(){return x!=null&&y.instance.on(x),r.current=x,function(){r.current!=null&&y.instance.off(r.current),r.current=null}},[y,x])}function withPane(y,x){const r=y.pane??x.pane;return r?{...y,pane:r}:y}function createDivOverlayHook(y,x){return function(b,M){const z=useLeafletContext(),B=y(withPane(b,z),z);return useAttribution(z.map,b.attribution),useEventHandlers(B.current,b.eventHandlers),x(B.current,z,b,M),B}}var leafletSrc$1={exports:{}};var leafletSrc=leafletSrc$1.exports,hasRequiredLeafletSrc;function requireLeafletSrc(){return hasRequiredLeafletSrc||(hasRequiredLeafletSrc=1,(function(y,x){(function(r,b){b(x)})(leafletSrc,(function(r){var b="1.9.4";function M(ee){var ye,Xe,lt,Nt;for(Xe=1,lt=arguments.length;Xe<lt;Xe++){Nt=arguments[Xe];for(ye in Nt)ee[ye]=Nt[ye]}return ee}var z=Object.create||(function(){function ee(){}return function(ye){return ee.prototype=ye,new ee}})();function B(ee,ye){var Xe=Array.prototype.slice;if(ee.bind)return ee.bind.apply(ee,Xe.call(arguments,1));var lt=Xe.call(arguments,2);return function(){return ee.apply(ye,lt.length?lt.concat(Xe.call(arguments)):arguments)}}var R=0;function I(ee){return"_leaflet_id"in ee||(ee._leaflet_id=++R),ee._leaflet_id}function O(ee,ye,Xe){var lt,Nt,sr,Br;return Br=function(){lt=!1,Nt&&(sr.apply(Xe,Nt),Nt=!1)},sr=function(){lt?Nt=arguments:(ee.apply(Xe,arguments),setTimeout(Br,ye),lt=!0)},sr}function A(ee,ye,Xe){var lt=ye[1],Nt=ye[0],sr=lt-Nt;return ee===lt&&Xe?ee:((ee-Nt)%sr+sr)%sr+Nt}function T(){return!1}function U(ee,ye){if(ye===!1)return ee;var Xe=Math.pow(10,ye===void 0?6:ye);return Math.round(ee*Xe)/Xe}function q(ee){return ee.trim?ee.trim():ee.replace(/^\s+|\s+$/g,"")}function K(ee){return q(ee).split(/\s+/)}function J(ee,ye){Object.prototype.hasOwnProperty.call(ee,"options")||(ee.options=ee.options?z(ee.options):{});for(var Xe in ye)ee.options[Xe]=ye[Xe];return ee.options}function te(ee,ye,Xe){var lt=[];for(var Nt in ee)lt.push(encodeURIComponent(Xe?Nt.toUpperCase():Nt)+"="+encodeURIComponent(ee[Nt]));return(!ye||ye.indexOf("?")===-1?"?":"&")+lt.join("&")}var oe=/\{ *([\w_ -]+) *\}/g;function ue(ee,ye){return ee.replace(oe,function(Xe,lt){var Nt=ye[lt];if(Nt===void 0)throw new Error("No value provided for variable "+Xe);return typeof Nt=="function"&&(Nt=Nt(ye)),Nt})}var fe=Array.isArray||function(ee){return Object.prototype.toString.call(ee)==="[object Array]"};function Le(ee,ye){for(var Xe=0;Xe<ee.length;Xe++)if(ee[Xe]===ye)return Xe;return-1}var Ge="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function ze(ee){return window["webkit"+ee]||window["moz"+ee]||window["ms"+ee]}var je=0;function Be(ee){var ye=+new Date,Xe=Math.max(0,16-(ye-je));return je=ye+Xe,window.setTimeout(ee,Xe)}var _e=window.requestAnimationFrame||ze("RequestAnimationFrame")||Be,He=window.cancelAnimationFrame||ze("CancelAnimationFrame")||ze("CancelRequestAnimationFrame")||function(ee){window.clearTimeout(ee)};function tt(ee,ye,Xe){if(Xe&&_e===Be)ee.call(ye);else return _e.call(window,B(ee,ye))}function Ke(ee){ee&&He.call(window,ee)}var Ze={__proto__:null,extend:M,create:z,bind:B,get lastId(){return R},stamp:I,throttle:O,wrapNum:A,falseFn:T,formatNum:U,trim:q,splitWords:K,setOptions:J,getParamString:te,template:ue,isArray:fe,indexOf:Le,emptyImageUrl:Ge,requestFn:_e,cancelFn:He,requestAnimFrame:tt,cancelAnimFrame:Ke};function Qe(){}Qe.extend=function(ee){var ye=function(){J(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},Xe=ye.__super__=this.prototype,lt=z(Xe);lt.constructor=ye,ye.prototype=lt;for(var Nt in this)Object.prototype.hasOwnProperty.call(this,Nt)&&Nt!=="prototype"&&Nt!=="__super__"&&(ye[Nt]=this[Nt]);return ee.statics&&M(ye,ee.statics),ee.includes&&(vt(ee.includes),M.apply(null,[lt].concat(ee.includes))),M(lt,ee),delete lt.statics,delete lt.includes,lt.options&&(lt.options=Xe.options?z(Xe.options):{},M(lt.options,ee.options)),lt._initHooks=[],lt.callInitHooks=function(){if(!this._initHooksCalled){Xe.callInitHooks&&Xe.callInitHooks.call(this),this._initHooksCalled=!0;for(var sr=0,Br=lt._initHooks.length;sr<Br;sr++)lt._initHooks[sr].call(this)}},ye},Qe.include=function(ee){var ye=this.prototype.options;return M(this.prototype,ee),ee.options&&(this.prototype.options=ye,this.mergeOptions(ee.options)),this},Qe.mergeOptions=function(ee){return M(this.prototype.options,ee),this},Qe.addInitHook=function(ee){var ye=Array.prototype.slice.call(arguments,1),Xe=typeof ee=="function"?ee:function(){this[ee].apply(this,ye)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(Xe),this};function vt(ee){if(!(typeof L>"u"||!L||!L.Mixin)){ee=fe(ee)?ee:[ee];for(var ye=0;ye<ee.length;ye++)ee[ye]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var pt={on:function(ee,ye,Xe){if(typeof ee=="object")for(var lt in ee)this._on(lt,ee[lt],ye);else{ee=K(ee);for(var Nt=0,sr=ee.length;Nt<sr;Nt++)this._on(ee[Nt],ye,Xe)}return this},off:function(ee,ye,Xe){if(!arguments.length)delete this._events;else if(typeof ee=="object")for(var lt in ee)this._off(lt,ee[lt],ye);else{ee=K(ee);for(var Nt=arguments.length===1,sr=0,Br=ee.length;sr<Br;sr++)Nt?this._off(ee[sr]):this._off(ee[sr],ye,Xe)}return this},_on:function(ee,ye,Xe,lt){if(typeof ye!="function"){console.warn("wrong listener type: "+typeof ye);return}if(this._listens(ee,ye,Xe)===!1){Xe===this&&(Xe=void 0);var Nt={fn:ye,ctx:Xe};lt&&(Nt.once=!0),this._events=this._events||{},this._events[ee]=this._events[ee]||[],this._events[ee].push(Nt)}},_off:function(ee,ye,Xe){var lt,Nt,sr;if(this._events&&(lt=this._events[ee],!!lt)){if(arguments.length===1){if(this._firingCount)for(Nt=0,sr=lt.length;Nt<sr;Nt++)lt[Nt].fn=T;delete this._events[ee];return}if(typeof ye!="function"){console.warn("wrong listener type: "+typeof ye);return}var Br=this._listens(ee,ye,Xe);if(Br!==!1){var sn=lt[Br];this._firingCount&&(sn.fn=T,this._events[ee]=lt=lt.slice()),lt.splice(Br,1)}}},fire:function(ee,ye,Xe){if(!this.listens(ee,Xe))return this;var lt=M({},ye,{type:ee,target:this,sourceTarget:ye&&ye.sourceTarget||this});if(this._events){var Nt=this._events[ee];if(Nt){this._firingCount=this._firingCount+1||1;for(var sr=0,Br=Nt.length;sr<Br;sr++){var sn=Nt[sr],En=sn.fn;sn.once&&this.off(ee,En,sn.ctx),En.call(sn.ctx||this,lt)}this._firingCount--}}return Xe&&this._propagateEvent(lt),this},listens:function(ee,ye,Xe,lt){typeof ee!="string"&&console.warn('"string" type argument expected');var Nt=ye;typeof ye!="function"&&(lt=!!ye,Nt=void 0,Xe=void 0);var sr=this._events&&this._events[ee];if(sr&&sr.length&&this._listens(ee,Nt,Xe)!==!1)return!0;if(lt){for(var Br in this._eventParents)if(this._eventParents[Br].listens(ee,ye,Xe,lt))return!0}return!1},_listens:function(ee,ye,Xe){if(!this._events)return!1;var lt=this._events[ee]||[];if(!ye)return!!lt.length;Xe===this&&(Xe=void 0);for(var Nt=0,sr=lt.length;Nt<sr;Nt++)if(lt[Nt].fn===ye&&lt[Nt].ctx===Xe)return Nt;return!1},once:function(ee,ye,Xe){if(typeof ee=="object")for(var lt in ee)this._on(lt,ee[lt],ye,!0);else{ee=K(ee);for(var Nt=0,sr=ee.length;Nt<sr;Nt++)this._on(ee[Nt],ye,Xe,!0)}return this},addEventParent:function(ee){return this._eventParents=this._eventParents||{},this._eventParents[I(ee)]=ee,this},removeEventParent:function(ee){return this._eventParents&&delete this._eventParents[I(ee)],this},_propagateEvent:function(ee){for(var ye in this._eventParents)this._eventParents[ye].fire(ee.type,M({layer:ee.target,propagatedFrom:ee.target},ee),!0)}};pt.addEventListener=pt.on,pt.removeEventListener=pt.clearAllEventListeners=pt.off,pt.addOneTimeEventListener=pt.once,pt.fireEvent=pt.fire,pt.hasEventListeners=pt.listens;var ut=Qe.extend(pt);function Mt(ee,ye,Xe){this.x=Xe?Math.round(ee):ee,this.y=Xe?Math.round(ye):ye}var bt=Math.trunc||function(ee){return ee>0?Math.floor(ee):Math.ceil(ee)};Mt.prototype={clone:function(){return new Mt(this.x,this.y)},add:function(ee){return this.clone()._add(ar(ee))},_add:function(ee){return this.x+=ee.x,this.y+=ee.y,this},subtract:function(ee){return this.clone()._subtract(ar(ee))},_subtract:function(ee){return this.x-=ee.x,this.y-=ee.y,this},divideBy:function(ee){return this.clone()._divideBy(ee)},_divideBy:function(ee){return this.x/=ee,this.y/=ee,this},multiplyBy:function(ee){return this.clone()._multiplyBy(ee)},_multiplyBy:function(ee){return this.x*=ee,this.y*=ee,this},scaleBy:function(ee){return new Mt(this.x*ee.x,this.y*ee.y)},unscaleBy:function(ee){return new Mt(this.x/ee.x,this.y/ee.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=bt(this.x),this.y=bt(this.y),this},distanceTo:function(ee){ee=ar(ee);var ye=ee.x-this.x,Xe=ee.y-this.y;return Math.sqrt(ye*ye+Xe*Xe)},equals:function(ee){return ee=ar(ee),ee.x===this.x&&ee.y===this.y},contains:function(ee){return ee=ar(ee),Math.abs(ee.x)<=Math.abs(this.x)&&Math.abs(ee.y)<=Math.abs(this.y)},toString:function(){return"Point("+U(this.x)+", "+U(this.y)+")"}};function ar(ee,ye,Xe){return ee instanceof Mt?ee:fe(ee)?new Mt(ee[0],ee[1]):ee==null?ee:typeof ee=="object"&&"x"in ee&&"y"in ee?new Mt(ee.x,ee.y):new Mt(ee,ye,Xe)}function dt(ee,ye){if(ee)for(var Xe=ye?[ee,ye]:ee,lt=0,Nt=Xe.length;lt<Nt;lt++)this.extend(Xe[lt])}dt.prototype={extend:function(ee){var ye,Xe;if(!ee)return this;if(ee instanceof Mt||typeof ee[0]=="number"||"x"in ee)ye=Xe=ar(ee);else if(ee=yt(ee),ye=ee.min,Xe=ee.max,!ye||!Xe)return this;return!this.min&&!this.max?(this.min=ye.clone(),this.max=Xe.clone()):(this.min.x=Math.min(ye.x,this.min.x),this.max.x=Math.max(Xe.x,this.max.x),this.min.y=Math.min(ye.y,this.min.y),this.max.y=Math.max(Xe.y,this.max.y)),this},getCenter:function(ee){return ar((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,ee)},getBottomLeft:function(){return ar(this.min.x,this.max.y)},getTopRight:function(){return ar(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(ee){var ye,Xe;return typeof ee[0]=="number"||ee instanceof Mt?ee=ar(ee):ee=yt(ee),ee instanceof dt?(ye=ee.min,Xe=ee.max):ye=Xe=ee,ye.x>=this.min.x&&Xe.x<=this.max.x&&ye.y>=this.min.y&&Xe.y<=this.max.y},intersects:function(ee){ee=yt(ee);var ye=this.min,Xe=this.max,lt=ee.min,Nt=ee.max,sr=Nt.x>=ye.x&&lt.x<=Xe.x,Br=Nt.y>=ye.y&&lt.y<=Xe.y;return sr&&Br},overlaps:function(ee){ee=yt(ee);var ye=this.min,Xe=this.max,lt=ee.min,Nt=ee.max,sr=Nt.x>ye.x&&lt.x<Xe.x,Br=Nt.y>ye.y&&lt.y<Xe.y;return sr&&Br},isValid:function(){return!!(this.min&&this.max)},pad:function(ee){var ye=this.min,Xe=this.max,lt=Math.abs(ye.x-Xe.x)*ee,Nt=Math.abs(ye.y-Xe.y)*ee;return yt(ar(ye.x-lt,ye.y-Nt),ar(Xe.x+lt,Xe.y+Nt))},equals:function(ee){return ee?(ee=yt(ee),this.min.equals(ee.getTopLeft())&&this.max.equals(ee.getBottomRight())):!1}};function yt(ee,ye){return!ee||ee instanceof dt?ee:new dt(ee,ye)}function Gt(ee,ye){if(ee)for(var Xe=ye?[ee,ye]:ee,lt=0,Nt=Xe.length;lt<Nt;lt++)this.extend(Xe[lt])}Gt.prototype={extend:function(ee){var ye=this._southWest,Xe=this._northEast,lt,Nt;if(ee instanceof Dt)lt=ee,Nt=ee;else if(ee instanceof Gt){if(lt=ee._southWest,Nt=ee._northEast,!lt||!Nt)return this}else return ee?this.extend(Ct(ee)||Bt(ee)):this;return!ye&&!Xe?(this._southWest=new Dt(lt.lat,lt.lng),this._northEast=new Dt(Nt.lat,Nt.lng)):(ye.lat=Math.min(lt.lat,ye.lat),ye.lng=Math.min(lt.lng,ye.lng),Xe.lat=Math.max(Nt.lat,Xe.lat),Xe.lng=Math.max(Nt.lng,Xe.lng)),this},pad:function(ee){var ye=this._southWest,Xe=this._northEast,lt=Math.abs(ye.lat-Xe.lat)*ee,Nt=Math.abs(ye.lng-Xe.lng)*ee;return new Gt(new Dt(ye.lat-lt,ye.lng-Nt),new Dt(Xe.lat+lt,Xe.lng+Nt))},getCenter:function(){return new Dt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Dt(this.getNorth(),this.getWest())},getSouthEast:function(){return new Dt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(ee){typeof ee[0]=="number"||ee instanceof Dt||"lat"in ee?ee=Ct(ee):ee=Bt(ee);var ye=this._southWest,Xe=this._northEast,lt,Nt;return ee instanceof Gt?(lt=ee.getSouthWest(),Nt=ee.getNorthEast()):lt=Nt=ee,lt.lat>=ye.lat&&Nt.lat<=Xe.lat&&lt.lng>=ye.lng&&Nt.lng<=Xe.lng},intersects:function(ee){ee=Bt(ee);var ye=this._southWest,Xe=this._northEast,lt=ee.getSouthWest(),Nt=ee.getNorthEast(),sr=Nt.lat>=ye.lat&&lt.lat<=Xe.lat,Br=Nt.lng>=ye.lng&&lt.lng<=Xe.lng;return sr&&Br},overlaps:function(ee){ee=Bt(ee);var ye=this._southWest,Xe=this._northEast,lt=ee.getSouthWest(),Nt=ee.getNorthEast(),sr=Nt.lat>ye.lat&&lt.lat<Xe.lat,Br=Nt.lng>ye.lng&&lt.lng<Xe.lng;return sr&&Br},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(ee,ye){return ee?(ee=Bt(ee),this._southWest.equals(ee.getSouthWest(),ye)&&this._northEast.equals(ee.getNorthEast(),ye)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Bt(ee,ye){return ee instanceof Gt?ee:new Gt(ee,ye)}function Dt(ee,ye,Xe){if(isNaN(ee)||isNaN(ye))throw new Error("Invalid LatLng object: ("+ee+", "+ye+")");this.lat=+ee,this.lng=+ye,Xe!==void 0&&(this.alt=+Xe)}Dt.prototype={equals:function(ee,ye){if(!ee)return!1;ee=Ct(ee);var Xe=Math.max(Math.abs(this.lat-ee.lat),Math.abs(this.lng-ee.lng));return Xe<=(ye===void 0?1e-9:ye)},toString:function(ee){return"LatLng("+U(this.lat,ee)+", "+U(this.lng,ee)+")"},distanceTo:function(ee){return lr.distance(this,Ct(ee))},wrap:function(){return lr.wrapLatLng(this)},toBounds:function(ee){var ye=180*ee/40075017,Xe=ye/Math.cos(Math.PI/180*this.lat);return Bt([this.lat-ye,this.lng-Xe],[this.lat+ye,this.lng+Xe])},clone:function(){return new Dt(this.lat,this.lng,this.alt)}};function Ct(ee,ye,Xe){return ee instanceof Dt?ee:fe(ee)&&typeof ee[0]!="object"?ee.length===3?new Dt(ee[0],ee[1],ee[2]):ee.length===2?new Dt(ee[0],ee[1]):null:ee==null?ee:typeof ee=="object"&&"lat"in ee?new Dt(ee.lat,"lng"in ee?ee.lng:ee.lon,ee.alt):ye===void 0?null:new Dt(ee,ye,Xe)}var It={latLngToPoint:function(ee,ye){var Xe=this.projection.project(ee),lt=this.scale(ye);return this.transformation._transform(Xe,lt)},pointToLatLng:function(ee,ye){var Xe=this.scale(ye),lt=this.transformation.untransform(ee,Xe);return this.projection.unproject(lt)},project:function(ee){return this.projection.project(ee)},unproject:function(ee){return this.projection.unproject(ee)},scale:function(ee){return 256*Math.pow(2,ee)},zoom:function(ee){return Math.log(ee/256)/Math.LN2},getProjectedBounds:function(ee){if(this.infinite)return null;var ye=this.projection.bounds,Xe=this.scale(ee),lt=this.transformation.transform(ye.min,Xe),Nt=this.transformation.transform(ye.max,Xe);return new dt(lt,Nt)},infinite:!1,wrapLatLng:function(ee){var ye=this.wrapLng?A(ee.lng,this.wrapLng,!0):ee.lng,Xe=this.wrapLat?A(ee.lat,this.wrapLat,!0):ee.lat,lt=ee.alt;return new Dt(Xe,ye,lt)},wrapLatLngBounds:function(ee){var ye=ee.getCenter(),Xe=this.wrapLatLng(ye),lt=ye.lat-Xe.lat,Nt=ye.lng-Xe.lng;if(lt===0&&Nt===0)return ee;var sr=ee.getSouthWest(),Br=ee.getNorthEast(),sn=new Dt(sr.lat-lt,sr.lng-Nt),En=new Dt(Br.lat-lt,Br.lng-Nt);return new Gt(sn,En)}},lr=M({},It,{wrapLng:[-180,180],R:6371e3,distance:function(ee,ye){var Xe=Math.PI/180,lt=ee.lat*Xe,Nt=ye.lat*Xe,sr=Math.sin((ye.lat-ee.lat)*Xe/2),Br=Math.sin((ye.lng-ee.lng)*Xe/2),sn=sr*sr+Math.cos(lt)*Math.cos(Nt)*Br*Br,En=2*Math.atan2(Math.sqrt(sn),Math.sqrt(1-sn));return this.R*En}}),Je=6378137,Ve={R:Je,MAX_LATITUDE:85.0511287798,project:function(ee){var ye=Math.PI/180,Xe=this.MAX_LATITUDE,lt=Math.max(Math.min(Xe,ee.lat),-Xe),Nt=Math.sin(lt*ye);return new Mt(this.R*ee.lng*ye,this.R*Math.log((1+Nt)/(1-Nt))/2)},unproject:function(ee){var ye=180/Math.PI;return new Dt((2*Math.atan(Math.exp(ee.y/this.R))-Math.PI/2)*ye,ee.x*ye/this.R)},bounds:(function(){var ee=Je*Math.PI;return new dt([-ee,-ee],[ee,ee])})()};function st(ee,ye,Xe,lt){if(fe(ee)){this._a=ee[0],this._b=ee[1],this._c=ee[2],this._d=ee[3];return}this._a=ee,this._b=ye,this._c=Xe,this._d=lt}st.prototype={transform:function(ee,ye){return this._transform(ee.clone(),ye)},_transform:function(ee,ye){return ye=ye||1,ee.x=ye*(this._a*ee.x+this._b),ee.y=ye*(this._c*ee.y+this._d),ee},untransform:function(ee,ye){return ye=ye||1,new Mt((ee.x/ye-this._b)/this._a,(ee.y/ye-this._d)/this._c)}};function it(ee,ye,Xe,lt){return new st(ee,ye,Xe,lt)}var Wt=M({},lr,{code:"EPSG:3857",projection:Ve,transformation:(function(){var ee=.5/(Math.PI*Ve.R);return it(ee,.5,-ee,.5)})()}),rt=M({},Wt,{code:"EPSG:900913"});function ur(ee){return document.createElementNS("http://www.w3.org/2000/svg",ee)}function tr(ee,ye){var Xe="",lt,Nt,sr,Br,sn,En;for(lt=0,sr=ee.length;lt<sr;lt++){for(sn=ee[lt],Nt=0,Br=sn.length;Nt<Br;Nt++)En=sn[Nt],Xe+=(Nt?"L":"M")+En.x+" "+En.y;Xe+=ye?kn.svg?"z":"x":""}return Xe||"M0 0"}var Ft=document.documentElement.style,Jt="ActiveXObject"in window,et=Jt&&!document.addEventListener,gt="msLaunchUri"in navigator&&!("documentMode"in document),Et=Dn("webkit"),Xt=Dn("android"),mr=Dn("android 2")||Dn("android 3"),Cr=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Dr=Xt&&Dn("Google")&&Cr<537&&!("AudioNode"in window),_n=!!window.opera,In=!gt&&Dn("chrome"),Fn=Dn("gecko")&&!Et&&!_n&&!Jt,ti=!In&&Dn("safari"),Qn=Dn("phantom"),vi="OTransition"in Ft,wi=navigator.platform.indexOf("Win")===0,oi=Jt&&"transition"in Ft,Si="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!mr,Gi="MozPerspective"in Ft,ai=!window.L_DISABLE_3D&&(oi||Si||Gi)&&!vi&&!Qn,zi=typeof orientation<"u"||Dn("mobile"),Ei=zi&&Et,fa=zi&&Si,Vn=!window.PointerEvent&&window.MSPointerEvent,ha=!!(window.PointerEvent||Vn),Na="ontouchstart"in window||!!window.TouchEvent,wt=!window.L_NO_TOUCH&&(Na||ha),_t=zi&&_n,jt=zi&&Fn,nr=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Yt=(function(){var ee=!1;try{var ye=Object.defineProperty({},"passive",{get:function(){ee=!0}});window.addEventListener("testPassiveEventSupport",T,ye),window.removeEventListener("testPassiveEventSupport",T,ye)}catch{}return ee})(),Nr=(function(){return!!document.createElement("canvas").getContext})(),Gr=!!(document.createElementNS&&ur("svg").createSVGRect),Vr=!!Gr&&(function(){var ee=document.createElement("div");return ee.innerHTML="<svg/>",(ee.firstChild&&ee.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Mn=!Gr&&(function(){try{var ee=document.createElement("div");ee.innerHTML='<v:shape adj="1"/>';var ye=ee.firstChild;return ye.style.behavior="url(#default#VML)",ye&&typeof ye.adj=="object"}catch{return!1}})(),hn=navigator.platform.indexOf("Mac")===0,vn=navigator.platform.indexOf("Linux")===0;function Dn(ee){return navigator.userAgent.toLowerCase().indexOf(ee)>=0}var kn={ie:Jt,ielt9:et,edge:gt,webkit:Et,android:Xt,android23:mr,androidStock:Dr,opera:_n,chrome:In,gecko:Fn,safari:ti,phantom:Qn,opera12:vi,win:wi,ie3d:oi,webkit3d:Si,gecko3d:Gi,any3d:ai,mobile:zi,mobileWebkit:Ei,mobileWebkit3d:fa,msPointer:Vn,pointer:ha,touch:wt,touchNative:Na,mobileOpera:_t,mobileGecko:jt,retina:nr,passiveEvents:Yt,canvas:Nr,svg:Gr,vml:Mn,inlineSvg:Vr,mac:hn,linux:vn},Zt=kn.msPointer?"MSPointerDown":"pointerdown",_r=kn.msPointer?"MSPointerMove":"pointermove",fr=kn.msPointer?"MSPointerUp":"pointerup",pr=kn.msPointer?"MSPointerCancel":"pointercancel",gr={touchstart:Zt,touchmove:_r,touchend:fr,touchcancel:pr},Ar={touchstart:Yn,touchmove:qn,touchend:qn,touchcancel:qn},Xr={},cn=!1;function nn(ee,ye,Xe){return ye==="touchstart"&&ri(),Ar[ye]?(Xe=Ar[ye].bind(this,Xe),ee.addEventListener(gr[ye],Xe,!1),Xe):(console.warn("wrong event specified:",ye),T)}function tn(ee,ye,Xe){if(!gr[ye]){console.warn("wrong event specified:",ye);return}ee.removeEventListener(gr[ye],Xe,!1)}function $r(ee){Xr[ee.pointerId]=ee}function Bn(ee){Xr[ee.pointerId]&&(Xr[ee.pointerId]=ee)}function zn(ee){delete Xr[ee.pointerId]}function ri(){cn||(document.addEventListener(Zt,$r,!0),document.addEventListener(_r,Bn,!0),document.addEventListener(fr,zn,!0),document.addEventListener(pr,zn,!0),cn=!0)}function qn(ee,ye){if(ye.pointerType!==(ye.MSPOINTER_TYPE_MOUSE||"mouse")){ye.touches=[];for(var Xe in Xr)ye.touches.push(Xr[Xe]);ye.changedTouches=[ye],ee(ye)}}function Yn(ee,ye){ye.MSPOINTER_TYPE_TOUCH&&ye.pointerType===ye.MSPOINTER_TYPE_TOUCH&&ea(ye),qn(ee,ye)}function fi(ee){var ye={},Xe,lt;for(lt in ee)Xe=ee[lt],ye[lt]=Xe&&Xe.bind?Xe.bind(ee):Xe;return ee=ye,ye.type="dblclick",ye.detail=2,ye.isTrusted=!1,ye._simulated=!0,ye}var Yi=200;function Wi(ee,ye){ee.addEventListener("dblclick",ye);var Xe=0,lt;function Nt(sr){if(sr.detail!==1){lt=sr.detail;return}if(!(sr.pointerType==="mouse"||sr.sourceCapabilities&&!sr.sourceCapabilities.firesTouchEvents)){var Br=Uo(sr);if(!(Br.some(function(En){return En instanceof HTMLLabelElement&&En.attributes.for})&&!Br.some(function(En){return En instanceof HTMLInputElement||En instanceof HTMLSelectElement}))){var sn=Date.now();sn-Xe<=Yi?(lt++,lt===2&&ye(fi(sr))):lt=1,Xe=sn}}}return ee.addEventListener("click",Nt),{dblclick:ye,simDblclick:Nt}}function _a(ee,ye){ee.removeEventListener("dblclick",ye.dblclick),ee.removeEventListener("click",ye.simDblclick)}var ja=Ro(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),io=Ro(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),No=io==="webkitTransition"||io==="OTransition"?io+"End":"transitionend";function So(ee){return typeof ee=="string"?document.getElementById(ee):ee}function co(ee,ye){var Xe=ee.style[ye]||ee.currentStyle&&ee.currentStyle[ye];if((!Xe||Xe==="auto")&&document.defaultView){var lt=document.defaultView.getComputedStyle(ee,null);Xe=lt?lt[ye]:null}return Xe==="auto"?null:Xe}function Bi(ee,ye,Xe){var lt=document.createElement(ee);return lt.className=ye||"",Xe&&Xe.appendChild(lt),lt}function ra(ee){var ye=ee.parentNode;ye&&ye.removeChild(ee)}function Hi(ee){for(;ee.firstChild;)ee.removeChild(ee.firstChild)}function Ma(ee){var ye=ee.parentNode;ye&&ye.lastChild!==ee&&ye.appendChild(ee)}function _o(ee){var ye=ee.parentNode;ye&&ye.firstChild!==ee&&ye.insertBefore(ee,ye.firstChild)}function $o(ee,ye){if(ee.classList!==void 0)return ee.classList.contains(ye);var Xe=Do(ee);return Xe.length>0&&new RegExp("(^|\\s)"+ye+"(\\s|$)").test(Xe)}function Ii(ee,ye){if(ee.classList!==void 0)for(var Xe=K(ye),lt=0,Nt=Xe.length;lt<Nt;lt++)ee.classList.add(Xe[lt]);else if(!$o(ee,ye)){var sr=Do(ee);Va(ee,(sr?sr+" ":"")+ye)}}function pa(ee,ye){ee.classList!==void 0?ee.classList.remove(ye):Va(ee,q((" "+Do(ee)+" ").replace(" "+ye+" "," ")))}function Va(ee,ye){ee.className.baseVal===void 0?ee.className=ye:ee.className.baseVal=ye}function Do(ee){return ee.correspondingElement&&(ee=ee.correspondingElement),ee.className.baseVal===void 0?ee.className:ee.className.baseVal}function Zi(ee,ye){"opacity"in ee.style?ee.style.opacity=ye:"filter"in ee.style&&es(ee,ye)}function es(ee,ye){var Xe=!1,lt="DXImageTransform.Microsoft.Alpha";try{Xe=ee.filters.item(lt)}catch{if(ye===1)return}ye=Math.round(ye*100),Xe?(Xe.Enabled=ye!==100,Xe.Opacity=ye):ee.style.filter+=" progid:"+lt+"(opacity="+ye+")"}function Ro(ee){for(var ye=document.documentElement.style,Xe=0;Xe<ee.length;Xe++)if(ee[Xe]in ye)return ee[Xe];return!1}function Ca(ee,ye,Xe){var lt=ye||new Mt(0,0);ee.style[ja]=(kn.ie3d?"translate("+lt.x+"px,"+lt.y+"px)":"translate3d("+lt.x+"px,"+lt.y+"px,0)")+(Xe?" scale("+Xe+")":"")}function ua(ee,ye){ee._leaflet_pos=ye,kn.any3d?Ca(ee,ye):(ee.style.left=ye.x+"px",ee.style.top=ye.y+"px")}function ao(ee){return ee._leaflet_pos||new Mt(0,0)}var Qa,Sa,po;if("onselectstart"in document)Qa=function(){Pr(window,"selectstart",ea)},Sa=function(){si(window,"selectstart",ea)};else{var Ja=Ro(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Qa=function(){if(Ja){var ee=document.documentElement.style;po=ee[Ja],ee[Ja]="none"}},Sa=function(){Ja&&(document.documentElement.style[Ja]=po,po=void 0)}}function Ga(){Pr(window,"dragstart",ea)}function oo(){si(window,"dragstart",ea)}var go,as;function ct(ee){for(;ee.tabIndex===-1;)ee=ee.parentNode;ee.style&&(kt(),go=ee,as=ee.style.outlineStyle,ee.style.outlineStyle="none",Pr(window,"keydown",kt))}function kt(){go&&(go.style.outlineStyle=as,go=void 0,as=void 0,si(window,"keydown",kt))}function $t(ee){do ee=ee.parentNode;while((!ee.offsetWidth||!ee.offsetHeight)&&ee!==document.body);return ee}function Sr(ee){var ye=ee.getBoundingClientRect();return{x:ye.width/ee.offsetWidth||1,y:ye.height/ee.offsetHeight||1,boundingClientRect:ye}}var Ur={__proto__:null,TRANSFORM:ja,TRANSITION:io,TRANSITION_END:No,get:So,getStyle:co,create:Bi,remove:ra,empty:Hi,toFront:Ma,toBack:_o,hasClass:$o,addClass:Ii,removeClass:pa,setClass:Va,getClass:Do,setOpacity:Zi,testProp:Ro,setTransform:Ca,setPosition:ua,getPosition:ao,get disableTextSelection(){return Qa},get enableTextSelection(){return Sa},disableImageDrag:Ga,enableImageDrag:oo,preventOutline:ct,restoreOutline:kt,getSizedParentNode:$t,getScale:Sr};function Pr(ee,ye,Xe,lt){if(ye&&typeof ye=="object")for(var Nt in ye)la(ee,Nt,ye[Nt],Xe);else{ye=K(ye);for(var sr=0,Br=ye.length;sr<Br;sr++)la(ee,ye[sr],Xe,lt)}return this}var ei="_leaflet_events";function si(ee,ye,Xe,lt){if(arguments.length===1)Ni(ee),delete ee[ei];else if(ye&&typeof ye=="object")for(var Nt in ye)$i(ee,Nt,ye[Nt],Xe);else if(ye=K(ye),arguments.length===2)Ni(ee,function(sn){return Le(ye,sn)!==-1});else for(var sr=0,Br=ye.length;sr<Br;sr++)$i(ee,ye[sr],Xe,lt);return this}function Ni(ee,ye){for(var Xe in ee[ei]){var lt=Xe.split(/\d/)[0];(!ye||ye(lt))&&$i(ee,lt,null,null,Xe)}}var Ui={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function la(ee,ye,Xe,lt){var Nt=ye+I(Xe)+(lt?"_"+I(lt):"");if(ee[ei]&&ee[ei][Nt])return this;var sr=function(sn){return Xe.call(lt||ee,sn||window.event)},Br=sr;!kn.touchNative&&kn.pointer&&ye.indexOf("touch")===0?sr=nn(ee,ye,sr):kn.touch&&ye==="dblclick"?sr=Wi(ee,sr):"addEventListener"in ee?ye==="touchstart"||ye==="touchmove"||ye==="wheel"||ye==="mousewheel"?ee.addEventListener(Ui[ye]||ye,sr,kn.passiveEvents?{passive:!1}:!1):ye==="mouseenter"||ye==="mouseleave"?(sr=function(sn){sn=sn||window.event,Bo(ee,sn)&&Br(sn)},ee.addEventListener(Ui[ye],sr,!1)):ee.addEventListener(ye,Br,!1):ee.attachEvent("on"+ye,sr),ee[ei]=ee[ei]||{},ee[ei][Nt]=sr}function $i(ee,ye,Xe,lt,Nt){Nt=Nt||ye+I(Xe)+(lt?"_"+I(lt):"");var sr=ee[ei]&&ee[ei][Nt];if(!sr)return this;!kn.touchNative&&kn.pointer&&ye.indexOf("touch")===0?tn(ee,ye,sr):kn.touch&&ye==="dblclick"?_a(ee,sr):"removeEventListener"in ee?ee.removeEventListener(Ui[ye]||ye,sr,!1):ee.detachEvent("on"+ye,sr),ee[ei][Nt]=null}function wa(ee){return ee.stopPropagation?ee.stopPropagation():ee.originalEvent?ee.originalEvent._stopped=!0:ee.cancelBubble=!0,this}function Ri(ee){return la(ee,"wheel",wa),this}function za(ee){return Pr(ee,"mousedown touchstart dblclick contextmenu",wa),ee._leaflet_disable_click=!0,this}function ea(ee){return ee.preventDefault?ee.preventDefault():ee.returnValue=!1,this}function Xa(ee){return ea(ee),wa(ee),this}function Uo(ee){if(ee.composedPath)return ee.composedPath();for(var ye=[],Xe=ee.target;Xe;)ye.push(Xe),Xe=Xe.parentNode;return ye}function ts(ee,ye){if(!ye)return new Mt(ee.clientX,ee.clientY);var Xe=Sr(ye),lt=Xe.boundingClientRect;return new Mt((ee.clientX-lt.left)/Xe.x-ye.clientLeft,(ee.clientY-lt.top)/Xe.y-ye.clientTop)}var Ns=kn.linux&&kn.chrome?window.devicePixelRatio:kn.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Wa(ee){return kn.edge?ee.wheelDeltaY/2:ee.deltaY&&ee.deltaMode===0?-ee.deltaY/Ns:ee.deltaY&&ee.deltaMode===1?-ee.deltaY*20:ee.deltaY&&ee.deltaMode===2?-ee.deltaY*60:ee.deltaX||ee.deltaZ?0:ee.wheelDelta?(ee.wheelDeltaY||ee.wheelDelta)/2:ee.detail&&Math.abs(ee.detail)<32765?-ee.detail*20:ee.detail?ee.detail/-32765*60:0}function Bo(ee,ye){var Xe=ye.relatedTarget;if(!Xe)return!0;try{for(;Xe&&Xe!==ee;)Xe=Xe.parentNode}catch{return!1}return Xe!==ee}var Zo={__proto__:null,on:Pr,off:si,stopPropagation:wa,disableScrollPropagation:Ri,disableClickPropagation:za,preventDefault:ea,stop:Xa,getPropagationPath:Uo,getMousePosition:ts,getWheelDelta:Wa,isExternalTarget:Bo,addListener:Pr,removeListener:si},Yo=ut.extend({run:function(ee,ye,Xe,lt){this.stop(),this._el=ee,this._inProgress=!0,this._duration=Xe||.25,this._easeOutPower=1/Math.max(lt||.5,.2),this._startPos=ao(ee),this._offset=ye.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=tt(this._animate,this),this._step()},_step:function(ee){var ye=+new Date-this._startTime,Xe=this._duration*1e3;ye<Xe?this._runFrame(this._easeOut(ye/Xe),ee):(this._runFrame(1),this._complete())},_runFrame:function(ee,ye){var Xe=this._startPos.add(this._offset.multiplyBy(ee));ye&&Xe._round(),ua(this._el,Xe),this.fire("step")},_complete:function(){Ke(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(ee){return 1-Math.pow(1-ee,this._easeOutPower)}}),Vi=ut.extend({options:{crs:Wt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(ee,ye){ye=J(this,ye),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(ee),this._initLayout(),this._onResize=B(this._onResize,this),this._initEvents(),ye.maxBounds&&this.setMaxBounds(ye.maxBounds),ye.zoom!==void 0&&(this._zoom=this._limitZoom(ye.zoom)),ye.center&&ye.zoom!==void 0&&this.setView(Ct(ye.center),ye.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=io&&kn.any3d&&!kn.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Pr(this._proxy,No,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(ee,ye,Xe){if(ye=ye===void 0?this._zoom:this._limitZoom(ye),ee=this._limitCenter(Ct(ee),ye,this.options.maxBounds),Xe=Xe||{},this._stop(),this._loaded&&!Xe.reset&&Xe!==!0){Xe.animate!==void 0&&(Xe.zoom=M({animate:Xe.animate},Xe.zoom),Xe.pan=M({animate:Xe.animate,duration:Xe.duration},Xe.pan));var lt=this._zoom!==ye?this._tryAnimatedZoom&&this._tryAnimatedZoom(ee,ye,Xe.zoom):this._tryAnimatedPan(ee,Xe.pan);if(lt)return clearTimeout(this._sizeTimer),this}return this._resetView(ee,ye,Xe.pan&&Xe.pan.noMoveStart),this},setZoom:function(ee,ye){return this._loaded?this.setView(this.getCenter(),ee,{zoom:ye}):(this._zoom=ee,this)},zoomIn:function(ee,ye){return ee=ee||(kn.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+ee,ye)},zoomOut:function(ee,ye){return ee=ee||(kn.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-ee,ye)},setZoomAround:function(ee,ye,Xe){var lt=this.getZoomScale(ye),Nt=this.getSize().divideBy(2),sr=ee instanceof Mt?ee:this.latLngToContainerPoint(ee),Br=sr.subtract(Nt).multiplyBy(1-1/lt),sn=this.containerPointToLatLng(Nt.add(Br));return this.setView(sn,ye,{zoom:Xe})},_getBoundsCenterZoom:function(ee,ye){ye=ye||{},ee=ee.getBounds?ee.getBounds():Bt(ee);var Xe=ar(ye.paddingTopLeft||ye.padding||[0,0]),lt=ar(ye.paddingBottomRight||ye.padding||[0,0]),Nt=this.getBoundsZoom(ee,!1,Xe.add(lt));if(Nt=typeof ye.maxZoom=="number"?Math.min(ye.maxZoom,Nt):Nt,Nt===1/0)return{center:ee.getCenter(),zoom:Nt};var sr=lt.subtract(Xe).divideBy(2),Br=this.project(ee.getSouthWest(),Nt),sn=this.project(ee.getNorthEast(),Nt),En=this.unproject(Br.add(sn).divideBy(2).add(sr),Nt);return{center:En,zoom:Nt}},fitBounds:function(ee,ye){if(ee=Bt(ee),!ee.isValid())throw new Error("Bounds are not valid.");var Xe=this._getBoundsCenterZoom(ee,ye);return this.setView(Xe.center,Xe.zoom,ye)},fitWorld:function(ee){return this.fitBounds([[-90,-180],[90,180]],ee)},panTo:function(ee,ye){return this.setView(ee,this._zoom,{pan:ye})},panBy:function(ee,ye){if(ee=ar(ee).round(),ye=ye||{},!ee.x&&!ee.y)return this.fire("moveend");if(ye.animate!==!0&&!this.getSize().contains(ee))return this._resetView(this.unproject(this.project(this.getCenter()).add(ee)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Yo,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),ye.noMoveStart||this.fire("movestart"),ye.animate!==!1){Ii(this._mapPane,"leaflet-pan-anim");var Xe=this._getMapPanePos().subtract(ee).round();this._panAnim.run(this._mapPane,Xe,ye.duration||.25,ye.easeLinearity)}else this._rawPanBy(ee),this.fire("move").fire("moveend");return this},flyTo:function(ee,ye,Xe){if(Xe=Xe||{},Xe.animate===!1||!kn.any3d)return this.setView(ee,ye,Xe);this._stop();var lt=this.project(this.getCenter()),Nt=this.project(ee),sr=this.getSize(),Br=this._zoom;ee=Ct(ee),ye=ye===void 0?Br:ye;var sn=Math.max(sr.x,sr.y),En=sn*this.getZoomScale(Br,ye),Un=Nt.distanceTo(lt)||1,li=1.42,Ai=li*li;function Ji(ro){var ys=ro?-1:1,Ws=ro?En:sn,cs=En*En-sn*sn+ys*Ai*Ai*Un*Un,eu=2*Ws*Ai*Un,Is=cs/eu,Cs=Math.sqrt(Is*Is+1)-Is,Ss=Cs<1e-9?-18:Math.log(Cs);return Ss}function Lo(ro){return(Math.exp(ro)-Math.exp(-ro))/2}function fo(ro){return(Math.exp(ro)+Math.exp(-ro))/2}function Ho(ro){return Lo(ro)/fo(ro)}var ta=Ji(0);function da(ro){return sn*(fo(ta)/fo(ta+li*ro))}function ia(ro){return sn*(fo(ta)*Ho(ta+li*ro)-Lo(ta))/Ai}function ps(ro){return 1-Math.pow(1-ro,1.5)}var rs=Date.now(),zs=(Ji(1)-ta)/li,Ps=Xe.duration?1e3*Xe.duration:1e3*zs*.8;function Iu(){var ro=(Date.now()-rs)/Ps,ys=ps(ro)*zs;ro<=1?(this._flyToFrame=tt(Iu,this),this._move(this.unproject(lt.add(Nt.subtract(lt).multiplyBy(ia(ys)/Un)),Br),this.getScaleZoom(sn/da(ys),Br),{flyTo:!0})):this._move(ee,ye)._moveEnd(!0)}return this._moveStart(!0,Xe.noMoveStart),Iu.call(this),this},flyToBounds:function(ee,ye){var Xe=this._getBoundsCenterZoom(ee,ye);return this.flyTo(Xe.center,Xe.zoom,ye)},setMaxBounds:function(ee){return ee=Bt(ee),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),ee.isValid()?(this.options.maxBounds=ee,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(ee){var ye=this.options.minZoom;return this.options.minZoom=ee,this._loaded&&ye!==ee&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(ee):this},setMaxZoom:function(ee){var ye=this.options.maxZoom;return this.options.maxZoom=ee,this._loaded&&ye!==ee&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(ee):this},panInsideBounds:function(ee,ye){this._enforcingBounds=!0;var Xe=this.getCenter(),lt=this._limitCenter(Xe,this._zoom,Bt(ee));return Xe.equals(lt)||this.panTo(lt,ye),this._enforcingBounds=!1,this},panInside:function(ee,ye){ye=ye||{};var Xe=ar(ye.paddingTopLeft||ye.padding||[0,0]),lt=ar(ye.paddingBottomRight||ye.padding||[0,0]),Nt=this.project(this.getCenter()),sr=this.project(ee),Br=this.getPixelBounds(),sn=yt([Br.min.add(Xe),Br.max.subtract(lt)]),En=sn.getSize();if(!sn.contains(sr)){this._enforcingBounds=!0;var Un=sr.subtract(sn.getCenter()),li=sn.extend(sr).getSize().subtract(En);Nt.x+=Un.x<0?-li.x:li.x,Nt.y+=Un.y<0?-li.y:li.y,this.panTo(this.unproject(Nt),ye),this._enforcingBounds=!1}return this},invalidateSize:function(ee){if(!this._loaded)return this;ee=M({animate:!1,pan:!0},ee===!0?{animate:!0}:ee);var ye=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var Xe=this.getSize(),lt=ye.divideBy(2).round(),Nt=Xe.divideBy(2).round(),sr=lt.subtract(Nt);return!sr.x&&!sr.y?this:(ee.animate&&ee.pan?this.panBy(sr):(ee.pan&&this._rawPanBy(sr),this.fire("move"),ee.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(B(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:ye,newSize:Xe}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(ee){if(ee=this._locateOptions=M({timeout:1e4,watch:!1},ee),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var ye=B(this._handleGeolocationResponse,this),Xe=B(this._handleGeolocationError,this);return ee.watch?this._locationWatchId=navigator.geolocation.watchPosition(ye,Xe,ee):navigator.geolocation.getCurrentPosition(ye,Xe,ee),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(ee){if(this._container._leaflet_id){var ye=ee.code,Xe=ee.message||(ye===1?"permission denied":ye===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:ye,message:"Geolocation error: "+Xe+"."})}},_handleGeolocationResponse:function(ee){if(this._container._leaflet_id){var ye=ee.coords.latitude,Xe=ee.coords.longitude,lt=new Dt(ye,Xe),Nt=lt.toBounds(ee.coords.accuracy*2),sr=this._locateOptions;if(sr.setView){var Br=this.getBoundsZoom(Nt);this.setView(lt,sr.maxZoom?Math.min(Br,sr.maxZoom):Br)}var sn={latlng:lt,bounds:Nt,timestamp:ee.timestamp};for(var En in ee.coords)typeof ee.coords[En]=="number"&&(sn[En]=ee.coords[En]);this.fire("locationfound",sn)}},addHandler:function(ee,ye){if(!ye)return this;var Xe=this[ee]=new ye(this);return this._handlers.push(Xe),this.options[ee]&&Xe.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ra(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Ke(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var ee;for(ee in this._layers)this._layers[ee].remove();for(ee in this._panes)ra(this._panes[ee]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(ee,ye){var Xe="leaflet-pane"+(ee?" leaflet-"+ee.replace("Pane","")+"-pane":""),lt=Bi("div",Xe,ye||this._mapPane);return ee&&(this._panes[ee]=lt),lt},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var ee=this.getPixelBounds(),ye=this.unproject(ee.getBottomLeft()),Xe=this.unproject(ee.getTopRight());return new Gt(ye,Xe)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(ee,ye,Xe){ee=Bt(ee),Xe=ar(Xe||[0,0]);var lt=this.getZoom()||0,Nt=this.getMinZoom(),sr=this.getMaxZoom(),Br=ee.getNorthWest(),sn=ee.getSouthEast(),En=this.getSize().subtract(Xe),Un=yt(this.project(sn,lt),this.project(Br,lt)).getSize(),li=kn.any3d?this.options.zoomSnap:1,Ai=En.x/Un.x,Ji=En.y/Un.y,Lo=ye?Math.max(Ai,Ji):Math.min(Ai,Ji);return lt=this.getScaleZoom(Lo,lt),li&&(lt=Math.round(lt/(li/100))*(li/100),lt=ye?Math.ceil(lt/li)*li:Math.floor(lt/li)*li),Math.max(Nt,Math.min(sr,lt))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new Mt(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(ee,ye){var Xe=this._getTopLeftPoint(ee,ye);return new dt(Xe,Xe.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(ee){return this.options.crs.getProjectedBounds(ee===void 0?this.getZoom():ee)},getPane:function(ee){return typeof ee=="string"?this._panes[ee]:ee},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(ee,ye){var Xe=this.options.crs;return ye=ye===void 0?this._zoom:ye,Xe.scale(ee)/Xe.scale(ye)},getScaleZoom:function(ee,ye){var Xe=this.options.crs;ye=ye===void 0?this._zoom:ye;var lt=Xe.zoom(ee*Xe.scale(ye));return isNaN(lt)?1/0:lt},project:function(ee,ye){return ye=ye===void 0?this._zoom:ye,this.options.crs.latLngToPoint(Ct(ee),ye)},unproject:function(ee,ye){return ye=ye===void 0?this._zoom:ye,this.options.crs.pointToLatLng(ar(ee),ye)},layerPointToLatLng:function(ee){var ye=ar(ee).add(this.getPixelOrigin());return this.unproject(ye)},latLngToLayerPoint:function(ee){var ye=this.project(Ct(ee))._round();return ye._subtract(this.getPixelOrigin())},wrapLatLng:function(ee){return this.options.crs.wrapLatLng(Ct(ee))},wrapLatLngBounds:function(ee){return this.options.crs.wrapLatLngBounds(Bt(ee))},distance:function(ee,ye){return this.options.crs.distance(Ct(ee),Ct(ye))},containerPointToLayerPoint:function(ee){return ar(ee).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(ee){return ar(ee).add(this._getMapPanePos())},containerPointToLatLng:function(ee){var ye=this.containerPointToLayerPoint(ar(ee));return this.layerPointToLatLng(ye)},latLngToContainerPoint:function(ee){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Ct(ee)))},mouseEventToContainerPoint:function(ee){return ts(ee,this._container)},mouseEventToLayerPoint:function(ee){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(ee))},mouseEventToLatLng:function(ee){return this.layerPointToLatLng(this.mouseEventToLayerPoint(ee))},_initContainer:function(ee){var ye=this._container=So(ee);if(ye){if(ye._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Pr(ye,"scroll",this._onScroll,this),this._containerId=I(ye)},_initLayout:function(){var ee=this._container;this._fadeAnimated=this.options.fadeAnimation&&kn.any3d,Ii(ee,"leaflet-container"+(kn.touch?" leaflet-touch":"")+(kn.retina?" leaflet-retina":"")+(kn.ielt9?" leaflet-oldie":"")+(kn.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var ye=co(ee,"position");ye!=="absolute"&&ye!=="relative"&&ye!=="fixed"&&ye!=="sticky"&&(ee.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var ee=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ua(this._mapPane,new Mt(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ii(ee.markerPane,"leaflet-zoom-hide"),Ii(ee.shadowPane,"leaflet-zoom-hide"))},_resetView:function(ee,ye,Xe){ua(this._mapPane,new Mt(0,0));var lt=!this._loaded;this._loaded=!0,ye=this._limitZoom(ye),this.fire("viewprereset");var Nt=this._zoom!==ye;this._moveStart(Nt,Xe)._move(ee,ye)._moveEnd(Nt),this.fire("viewreset"),lt&&this.fire("load")},_moveStart:function(ee,ye){return ee&&this.fire("zoomstart"),ye||this.fire("movestart"),this},_move:function(ee,ye,Xe,lt){ye===void 0&&(ye=this._zoom);var Nt=this._zoom!==ye;return this._zoom=ye,this._lastCenter=ee,this._pixelOrigin=this._getNewPixelOrigin(ee),lt?Xe&&Xe.pinch&&this.fire("zoom",Xe):((Nt||Xe&&Xe.pinch)&&this.fire("zoom",Xe),this.fire("move",Xe)),this},_moveEnd:function(ee){return ee&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Ke(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(ee){ua(this._mapPane,this._getMapPanePos().subtract(ee))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(ee){this._targets={},this._targets[I(this._container)]=this;var ye=ee?si:Pr;ye(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&ye(window,"resize",this._onResize,this),kn.any3d&&this.options.transform3DLimit&&(ee?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Ke(this._resizeRequest),this._resizeRequest=tt(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var ee=this._getMapPanePos();Math.max(Math.abs(ee.x),Math.abs(ee.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(ee,ye){for(var Xe=[],lt,Nt=ye==="mouseout"||ye==="mouseover",sr=ee.target||ee.srcElement,Br=!1;sr;){if(lt=this._targets[I(sr)],lt&&(ye==="click"||ye==="preclick")&&this._draggableMoved(lt)){Br=!0;break}if(lt&&lt.listens(ye,!0)&&(Nt&&!Bo(sr,ee)||(Xe.push(lt),Nt))||sr===this._container)break;sr=sr.parentNode}return!Xe.length&&!Br&&!Nt&&this.listens(ye,!0)&&(Xe=[this]),Xe},_isClickDisabled:function(ee){for(;ee&&ee!==this._container;){if(ee._leaflet_disable_click)return!0;ee=ee.parentNode}},_handleDOMEvent:function(ee){var ye=ee.target||ee.srcElement;if(!(!this._loaded||ye._leaflet_disable_events||ee.type==="click"&&this._isClickDisabled(ye))){var Xe=ee.type;Xe==="mousedown"&&ct(ye),this._fireDOMEvent(ee,Xe)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(ee,ye,Xe){if(ee.type==="click"){var lt=M({},ee);lt.type="preclick",this._fireDOMEvent(lt,lt.type,Xe)}var Nt=this._findEventTargets(ee,ye);if(Xe){for(var sr=[],Br=0;Br<Xe.length;Br++)Xe[Br].listens(ye,!0)&&sr.push(Xe[Br]);Nt=sr.concat(Nt)}if(Nt.length){ye==="contextmenu"&&ea(ee);var sn=Nt[0],En={originalEvent:ee};if(ee.type!=="keypress"&&ee.type!=="keydown"&&ee.type!=="keyup"){var Un=sn.getLatLng&&(!sn._radius||sn._radius<=10);En.containerPoint=Un?this.latLngToContainerPoint(sn.getLatLng()):this.mouseEventToContainerPoint(ee),En.layerPoint=this.containerPointToLayerPoint(En.containerPoint),En.latlng=Un?sn.getLatLng():this.layerPointToLatLng(En.layerPoint)}for(Br=0;Br<Nt.length;Br++)if(Nt[Br].fire(ye,En,!0),En.originalEvent._stopped||Nt[Br].options.bubblingMouseEvents===!1&&Le(this._mouseEvents,ye)!==-1)return}},_draggableMoved:function(ee){return ee=ee.dragging&&ee.dragging.enabled()?ee:this,ee.dragging&&ee.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var ee=0,ye=this._handlers.length;ee<ye;ee++)this._handlers[ee].disable()},whenReady:function(ee,ye){return this._loaded?ee.call(ye||this,{target:this}):this.on("load",ee,ye),this},_getMapPanePos:function(){return ao(this._mapPane)||new Mt(0,0)},_moved:function(){var ee=this._getMapPanePos();return ee&&!ee.equals([0,0])},_getTopLeftPoint:function(ee,ye){var Xe=ee&&ye!==void 0?this._getNewPixelOrigin(ee,ye):this.getPixelOrigin();return Xe.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(ee,ye){var Xe=this.getSize()._divideBy(2);return this.project(ee,ye)._subtract(Xe)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(ee,ye,Xe){var lt=this._getNewPixelOrigin(Xe,ye);return this.project(ee,ye)._subtract(lt)},_latLngBoundsToNewLayerBounds:function(ee,ye,Xe){var lt=this._getNewPixelOrigin(Xe,ye);return yt([this.project(ee.getSouthWest(),ye)._subtract(lt),this.project(ee.getNorthWest(),ye)._subtract(lt),this.project(ee.getSouthEast(),ye)._subtract(lt),this.project(ee.getNorthEast(),ye)._subtract(lt)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(ee){return this.latLngToLayerPoint(ee).subtract(this._getCenterLayerPoint())},_limitCenter:function(ee,ye,Xe){if(!Xe)return ee;var lt=this.project(ee,ye),Nt=this.getSize().divideBy(2),sr=new dt(lt.subtract(Nt),lt.add(Nt)),Br=this._getBoundsOffset(sr,Xe,ye);return Math.abs(Br.x)<=1&&Math.abs(Br.y)<=1?ee:this.unproject(lt.add(Br),ye)},_limitOffset:function(ee,ye){if(!ye)return ee;var Xe=this.getPixelBounds(),lt=new dt(Xe.min.add(ee),Xe.max.add(ee));return ee.add(this._getBoundsOffset(lt,ye))},_getBoundsOffset:function(ee,ye,Xe){var lt=yt(this.project(ye.getNorthEast(),Xe),this.project(ye.getSouthWest(),Xe)),Nt=lt.min.subtract(ee.min),sr=lt.max.subtract(ee.max),Br=this._rebound(Nt.x,-sr.x),sn=this._rebound(Nt.y,-sr.y);return new Mt(Br,sn)},_rebound:function(ee,ye){return ee+ye>0?Math.round(ee-ye)/2:Math.max(0,Math.ceil(ee))-Math.max(0,Math.floor(ye))},_limitZoom:function(ee){var ye=this.getMinZoom(),Xe=this.getMaxZoom(),lt=kn.any3d?this.options.zoomSnap:1;return lt&&(ee=Math.round(ee/lt)*lt),Math.max(ye,Math.min(Xe,ee))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){pa(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(ee,ye){var Xe=this._getCenterOffset(ee)._trunc();return(ye&&ye.animate)!==!0&&!this.getSize().contains(Xe)?!1:(this.panBy(Xe,ye),!0)},_createAnimProxy:function(){var ee=this._proxy=Bi("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(ee),this.on("zoomanim",function(ye){var Xe=ja,lt=this._proxy.style[Xe];Ca(this._proxy,this.project(ye.center,ye.zoom),this.getZoomScale(ye.zoom,1)),lt===this._proxy.style[Xe]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ra(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var ee=this.getCenter(),ye=this.getZoom();Ca(this._proxy,this.project(ee,ye),this.getZoomScale(ye,1))},_catchTransitionEnd:function(ee){this._animatingZoom&&ee.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(ee,ye,Xe){if(this._animatingZoom)return!0;if(Xe=Xe||{},!this._zoomAnimated||Xe.animate===!1||this._nothingToAnimate()||Math.abs(ye-this._zoom)>this.options.zoomAnimationThreshold)return!1;var lt=this.getZoomScale(ye),Nt=this._getCenterOffset(ee)._divideBy(1-1/lt);return Xe.animate!==!0&&!this.getSize().contains(Nt)?!1:(tt(function(){this._moveStart(!0,Xe.noMoveStart||!1)._animateZoom(ee,ye,!0)},this),!0)},_animateZoom:function(ee,ye,Xe,lt){this._mapPane&&(Xe&&(this._animatingZoom=!0,this._animateToCenter=ee,this._animateToZoom=ye,Ii(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:ee,zoom:ye,noUpdate:lt}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(B(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&pa(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Yr(ee,ye){return new Vi(ee,ye)}var gi=Qe.extend({options:{position:"topright"},initialize:function(ee){J(this,ee)},getPosition:function(){return this.options.position},setPosition:function(ee){var ye=this._map;return ye&&ye.removeControl(this),this.options.position=ee,ye&&ye.addControl(this),this},getContainer:function(){return this._container},addTo:function(ee){this.remove(),this._map=ee;var ye=this._container=this.onAdd(ee),Xe=this.getPosition(),lt=ee._controlCorners[Xe];return Ii(ye,"leaflet-control"),Xe.indexOf("bottom")!==-1?lt.insertBefore(ye,lt.firstChild):lt.appendChild(ye),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ra(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(ee){this._map&&ee&&ee.screenX>0&&ee.screenY>0&&this._map.getContainer().focus()}}),so=function(ee){return new gi(ee)};Vi.include({addControl:function(ee){return ee.addTo(this),this},removeControl:function(ee){return ee.remove(),this},_initControlPos:function(){var ee=this._controlCorners={},ye="leaflet-",Xe=this._controlContainer=Bi("div",ye+"control-container",this._container);function lt(Nt,sr){var Br=ye+Nt+" "+ye+sr;ee[Nt+sr]=Bi("div",Br,Xe)}lt("top","left"),lt("top","right"),lt("bottom","left"),lt("bottom","right")},_clearControlPos:function(){for(var ee in this._controlCorners)ra(this._controlCorners[ee]);ra(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var yo=gi.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(ee,ye,Xe,lt){return Xe<lt?-1:lt<Xe?1:0}},initialize:function(ee,ye,Xe){J(this,Xe),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var lt in ee)this._addLayer(ee[lt],lt);for(lt in ye)this._addLayer(ye[lt],lt,!0)},onAdd:function(ee){this._initLayout(),this._update(),this._map=ee,ee.on("zoomend",this._checkDisabledLayers,this);for(var ye=0;ye<this._layers.length;ye++)this._layers[ye].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(ee){return gi.prototype.addTo.call(this,ee),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var ee=0;ee<this._layers.length;ee++)this._layers[ee].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(ee,ye){return this._addLayer(ee,ye),this._map?this._update():this},addOverlay:function(ee,ye){return this._addLayer(ee,ye,!0),this._map?this._update():this},removeLayer:function(ee){ee.off("add remove",this._onLayerChange,this);var ye=this._getLayer(I(ee));return ye&&this._layers.splice(this._layers.indexOf(ye),1),this._map?this._update():this},expand:function(){Ii(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var ee=this._map.getSize().y-(this._container.offsetTop+50);return ee<this._section.clientHeight?(Ii(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=ee+"px"):pa(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return pa(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var ee="leaflet-control-layers",ye=this._container=Bi("div",ee),Xe=this.options.collapsed;ye.setAttribute("aria-haspopup",!0),za(ye),Ri(ye);var lt=this._section=Bi("section",ee+"-list");Xe&&(this._map.on("click",this.collapse,this),Pr(ye,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var Nt=this._layersLink=Bi("a",ee+"-toggle",ye);Nt.href="#",Nt.title="Layers",Nt.setAttribute("role","button"),Pr(Nt,{keydown:function(sr){sr.keyCode===13&&this._expandSafely()},click:function(sr){ea(sr),this._expandSafely()}},this),Xe||this.expand(),this._baseLayersList=Bi("div",ee+"-base",lt),this._separator=Bi("div",ee+"-separator",lt),this._overlaysList=Bi("div",ee+"-overlays",lt),ye.appendChild(lt)},_getLayer:function(ee){for(var ye=0;ye<this._layers.length;ye++)if(this._layers[ye]&&I(this._layers[ye].layer)===ee)return this._layers[ye]},_addLayer:function(ee,ye,Xe){this._map&&ee.on("add remove",this._onLayerChange,this),this._layers.push({layer:ee,name:ye,overlay:Xe}),this.options.sortLayers&&this._layers.sort(B(function(lt,Nt){return this.options.sortFunction(lt.layer,Nt.layer,lt.name,Nt.name)},this)),this.options.autoZIndex&&ee.setZIndex&&(this._lastZIndex++,ee.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Hi(this._baseLayersList),Hi(this._overlaysList),this._layerControlInputs=[];var ee,ye,Xe,lt,Nt=0;for(Xe=0;Xe<this._layers.length;Xe++)lt=this._layers[Xe],this._addItem(lt),ye=ye||lt.overlay,ee=ee||!lt.overlay,Nt+=lt.overlay?0:1;return this.options.hideSingleBase&&(ee=ee&&Nt>1,this._baseLayersList.style.display=ee?"":"none"),this._separator.style.display=ye&&ee?"":"none",this},_onLayerChange:function(ee){this._handlingClick||this._update();var ye=this._getLayer(I(ee.target)),Xe=ye.overlay?ee.type==="add"?"overlayadd":"overlayremove":ee.type==="add"?"baselayerchange":null;Xe&&this._map.fire(Xe,ye)},_createRadioElement:function(ee,ye){var Xe='<input type="radio" class="leaflet-control-layers-selector" name="'+ee+'"'+(ye?' checked="checked"':"")+"/>",lt=document.createElement("div");return lt.innerHTML=Xe,lt.firstChild},_addItem:function(ee){var ye=document.createElement("label"),Xe=this._map.hasLayer(ee.layer),lt;ee.overlay?(lt=document.createElement("input"),lt.type="checkbox",lt.className="leaflet-control-layers-selector",lt.defaultChecked=Xe):lt=this._createRadioElement("leaflet-base-layers_"+I(this),Xe),this._layerControlInputs.push(lt),lt.layerId=I(ee.layer),Pr(lt,"click",this._onInputClick,this);var Nt=document.createElement("span");Nt.innerHTML=" "+ee.name;var sr=document.createElement("span");ye.appendChild(sr),sr.appendChild(lt),sr.appendChild(Nt);var Br=ee.overlay?this._overlaysList:this._baseLayersList;return Br.appendChild(ye),this._checkDisabledLayers(),ye},_onInputClick:function(){if(!this._preventClick){var ee=this._layerControlInputs,ye,Xe,lt=[],Nt=[];this._handlingClick=!0;for(var sr=ee.length-1;sr>=0;sr--)ye=ee[sr],Xe=this._getLayer(ye.layerId).layer,ye.checked?lt.push(Xe):ye.checked||Nt.push(Xe);for(sr=0;sr<Nt.length;sr++)this._map.hasLayer(Nt[sr])&&this._map.removeLayer(Nt[sr]);for(sr=0;sr<lt.length;sr++)this._map.hasLayer(lt[sr])||this._map.addLayer(lt[sr]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var ee=this._layerControlInputs,ye,Xe,lt=this._map.getZoom(),Nt=ee.length-1;Nt>=0;Nt--)ye=ee[Nt],Xe=this._getLayer(ye.layerId).layer,ye.disabled=Xe.options.minZoom!==void 0&&lt<Xe.options.minZoom||Xe.options.maxZoom!==void 0&&lt>Xe.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var ee=this._section;this._preventClick=!0,Pr(ee,"click",ea),this.expand();var ye=this;setTimeout(function(){si(ee,"click",ea),ye._preventClick=!1})}}),ms=function(ee,ye,Xe){return new yo(ee,ye,Xe)},jo=gi.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(ee){var ye="leaflet-control-zoom",Xe=Bi("div",ye+" leaflet-bar"),lt=this.options;return this._zoomInButton=this._createButton(lt.zoomInText,lt.zoomInTitle,ye+"-in",Xe,this._zoomIn),this._zoomOutButton=this._createButton(lt.zoomOutText,lt.zoomOutTitle,ye+"-out",Xe,this._zoomOut),this._updateDisabled(),ee.on("zoomend zoomlevelschange",this._updateDisabled,this),Xe},onRemove:function(ee){ee.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(ee){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(ee.shiftKey?3:1))},_zoomOut:function(ee){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(ee.shiftKey?3:1))},_createButton:function(ee,ye,Xe,lt,Nt){var sr=Bi("a",Xe,lt);return sr.innerHTML=ee,sr.href="#",sr.title=ye,sr.setAttribute("role","button"),sr.setAttribute("aria-label",ye),za(sr),Pr(sr,"click",Xa),Pr(sr,"click",Nt,this),Pr(sr,"click",this._refocusOnMap,this),sr},_updateDisabled:function(){var ee=this._map,ye="leaflet-disabled";pa(this._zoomInButton,ye),pa(this._zoomOutButton,ye),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||ee._zoom===ee.getMinZoom())&&(Ii(this._zoomOutButton,ye),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||ee._zoom===ee.getMaxZoom())&&(Ii(this._zoomInButton,ye),this._zoomInButton.setAttribute("aria-disabled","true"))}});Vi.mergeOptions({zoomControl:!0}),Vi.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new jo,this.addControl(this.zoomControl))});var qi=function(ee){return new jo(ee)},Po=gi.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(ee){var ye="leaflet-control-scale",Xe=Bi("div",ye),lt=this.options;return this._addScales(lt,ye+"-line",Xe),ee.on(lt.updateWhenIdle?"moveend":"move",this._update,this),ee.whenReady(this._update,this),Xe},onRemove:function(ee){ee.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(ee,ye,Xe){ee.metric&&(this._mScale=Bi("div",ye,Xe)),ee.imperial&&(this._iScale=Bi("div",ye,Xe))},_update:function(){var ee=this._map,ye=ee.getSize().y/2,Xe=ee.distance(ee.containerPointToLatLng([0,ye]),ee.containerPointToLatLng([this.options.maxWidth,ye]));this._updateScales(Xe)},_updateScales:function(ee){this.options.metric&&ee&&this._updateMetric(ee),this.options.imperial&&ee&&this._updateImperial(ee)},_updateMetric:function(ee){var ye=this._getRoundNum(ee),Xe=ye<1e3?ye+" m":ye/1e3+" km";this._updateScale(this._mScale,Xe,ye/ee)},_updateImperial:function(ee){var ye=ee*3.2808399,Xe,lt,Nt;ye>5280?(Xe=ye/5280,lt=this._getRoundNum(Xe),this._updateScale(this._iScale,lt+" mi",lt/Xe)):(Nt=this._getRoundNum(ye),this._updateScale(this._iScale,Nt+" ft",Nt/ye))},_updateScale:function(ee,ye,Xe){ee.style.width=Math.round(this.options.maxWidth*Xe)+"px",ee.innerHTML=ye},_getRoundNum:function(ee){var ye=Math.pow(10,(Math.floor(ee)+"").length-1),Xe=ee/ye;return Xe=Xe>=10?10:Xe>=5?5:Xe>=3?3:Xe>=2?2:1,ye*Xe}}),vo=function(ee){return new Po(ee)},$a='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',ga=gi.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(kn.inlineSvg?$a+" ":"")+"Leaflet</a>"},initialize:function(ee){J(this,ee),this._attributions={}},onAdd:function(ee){ee.attributionControl=this,this._container=Bi("div","leaflet-control-attribution"),za(this._container);for(var ye in ee._layers)ee._layers[ye].getAttribution&&this.addAttribution(ee._layers[ye].getAttribution());return this._update(),ee.on("layeradd",this._addAttribution,this),this._container},onRemove:function(ee){ee.off("layeradd",this._addAttribution,this)},_addAttribution:function(ee){ee.layer.getAttribution&&(this.addAttribution(ee.layer.getAttribution()),ee.layer.once("remove",function(){this.removeAttribution(ee.layer.getAttribution())},this))},setPrefix:function(ee){return this.options.prefix=ee,this._update(),this},addAttribution:function(ee){return ee?(this._attributions[ee]||(this._attributions[ee]=0),this._attributions[ee]++,this._update(),this):this},removeAttribution:function(ee){return ee?(this._attributions[ee]&&(this._attributions[ee]--,this._update()),this):this},_update:function(){if(this._map){var ee=[];for(var ye in this._attributions)this._attributions[ye]&&ee.push(ye);var Xe=[];this.options.prefix&&Xe.push(this.options.prefix),ee.length&&Xe.push(ee.join(", ")),this._container.innerHTML=Xe.join(' <span aria-hidden="true">|</span> ')}}});Vi.mergeOptions({attributionControl:!0}),Vi.addInitHook(function(){this.options.attributionControl&&new ga().addTo(this)});var Da=function(ee){return new ga(ee)};gi.Layers=yo,gi.Zoom=jo,gi.Scale=Po,gi.Attribution=ga,so.layers=ms,so.zoom=qi,so.scale=vo,so.attribution=Da;var Za=Qe.extend({initialize:function(ee){this._map=ee},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Za.addTo=function(ee,ye){return ee.addHandler(ye,this),this};var Ne={Events:pt},at=kn.touch?"touchstart mousedown":"mousedown",mt=ut.extend({options:{clickTolerance:3},initialize:function(ee,ye,Xe,lt){J(this,lt),this._element=ee,this._dragStartTarget=ye||ee,this._preventOutline=Xe},enable:function(){this._enabled||(Pr(this._dragStartTarget,at,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(mt._dragging===this&&this.finishDrag(!0),si(this._dragStartTarget,at,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(ee){if(this._enabled&&(this._moved=!1,!$o(this._element,"leaflet-zoom-anim"))){if(ee.touches&&ee.touches.length!==1){mt._dragging===this&&this.finishDrag();return}if(!(mt._dragging||ee.shiftKey||ee.which!==1&&ee.button!==1&&!ee.touches)&&(mt._dragging=this,this._preventOutline&&ct(this._element),Ga(),Qa(),!this._moving)){this.fire("down");var ye=ee.touches?ee.touches[0]:ee,Xe=$t(this._element);this._startPoint=new Mt(ye.clientX,ye.clientY),this._startPos=ao(this._element),this._parentScale=Sr(Xe);var lt=ee.type==="mousedown";Pr(document,lt?"mousemove":"touchmove",this._onMove,this),Pr(document,lt?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(ee){if(this._enabled){if(ee.touches&&ee.touches.length>1){this._moved=!0;return}var ye=ee.touches&&ee.touches.length===1?ee.touches[0]:ee,Xe=new Mt(ye.clientX,ye.clientY)._subtract(this._startPoint);!Xe.x&&!Xe.y||Math.abs(Xe.x)+Math.abs(Xe.y)<this.options.clickTolerance||(Xe.x/=this._parentScale.x,Xe.y/=this._parentScale.y,ea(ee),this._moved||(this.fire("dragstart"),this._moved=!0,Ii(document.body,"leaflet-dragging"),this._lastTarget=ee.target||ee.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ii(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(Xe),this._moving=!0,this._lastEvent=ee,this._updatePosition())}},_updatePosition:function(){var ee={originalEvent:this._lastEvent};this.fire("predrag",ee),ua(this._element,this._newPos),this.fire("drag",ee)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(ee){pa(document.body,"leaflet-dragging"),this._lastTarget&&(pa(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),si(document,"mousemove touchmove",this._onMove,this),si(document,"mouseup touchend touchcancel",this._onUp,this),oo(),Sa();var ye=this._moved&&this._moving;this._moving=!1,mt._dragging=!1,ye&&this.fire("dragend",{noInertia:ee,distance:this._newPos.distanceTo(this._startPos)})}});function At(ee,ye,Xe){var lt,Nt=[1,4,2,8],sr,Br,sn,En,Un,li,Ai,Ji;for(sr=0,li=ee.length;sr<li;sr++)ee[sr]._code=We(ee[sr],ye);for(sn=0;sn<4;sn++){for(Ai=Nt[sn],lt=[],sr=0,li=ee.length,Br=li-1;sr<li;Br=sr++)En=ee[sr],Un=ee[Br],En._code&Ai?Un._code&Ai||(Ji=Li(Un,En,Ai,ye,Xe),Ji._code=We(Ji,ye),lt.push(Ji)):(Un._code&Ai&&(Ji=Li(Un,En,Ai,ye,Xe),Ji._code=We(Ji,ye),lt.push(Ji)),lt.push(En));ee=lt}return ee}function Qt(ee,ye){var Xe,lt,Nt,sr,Br,sn,En,Un,li;if(!ee||ee.length===0)throw new Error("latlngs not passed");Rt(ee)||(console.warn("latlngs are not flat! Only the first ring will be used"),ee=ee[0]);var Ai=Ct([0,0]),Ji=Bt(ee),Lo=Ji.getNorthWest().distanceTo(Ji.getSouthWest())*Ji.getNorthEast().distanceTo(Ji.getNorthWest());Lo<1700&&(Ai=br(ee));var fo=ee.length,Ho=[];for(Xe=0;Xe<fo;Xe++){var ta=Ct(ee[Xe]);Ho.push(ye.project(Ct([ta.lat-Ai.lat,ta.lng-Ai.lng])))}for(sn=En=Un=0,Xe=0,lt=fo-1;Xe<fo;lt=Xe++)Nt=Ho[Xe],sr=Ho[lt],Br=Nt.y*sr.x-sr.y*Nt.x,En+=(Nt.x+sr.x)*Br,Un+=(Nt.y+sr.y)*Br,sn+=Br*3;sn===0?li=Ho[0]:li=[En/sn,Un/sn];var da=ye.unproject(ar(li));return Ct([da.lat+Ai.lat,da.lng+Ai.lng])}function br(ee){for(var ye=0,Xe=0,lt=0,Nt=0;Nt<ee.length;Nt++){var sr=Ct(ee[Nt]);ye+=sr.lat,Xe+=sr.lng,lt++}return Ct([ye/lt,Xe/lt])}var or={__proto__:null,clipPolygon:At,polygonCenter:Qt,centroid:br};function vr(ee,ye){if(!ye||!ee.length)return ee.slice();var Xe=ye*ye;return ee=ui(ee,Xe),ee=Nn(ee,Xe),ee}function Hr(ee,ye,Xe){return Math.sqrt(ft(ee,ye,Xe,!0))}function Fr(ee,ye,Xe){return ft(ee,ye,Xe)}function Nn(ee,ye){var Xe=ee.length,lt=typeof Uint8Array<"u"?Uint8Array:Array,Nt=new lt(Xe);Nt[0]=Nt[Xe-1]=1,Wn(ee,Nt,ye,0,Xe-1);var sr,Br=[];for(sr=0;sr<Xe;sr++)Nt[sr]&&Br.push(ee[sr]);return Br}function Wn(ee,ye,Xe,lt,Nt){var sr=0,Br,sn,En;for(sn=lt+1;sn<=Nt-1;sn++)En=ft(ee[sn],ee[lt],ee[Nt],!0),En>sr&&(Br=sn,sr=En);sr>Xe&&(ye[Br]=1,Wn(ee,ye,Xe,lt,Br),Wn(ee,ye,Xe,Br,Nt))}function ui(ee,ye){for(var Xe=[ee[0]],lt=1,Nt=0,sr=ee.length;lt<sr;lt++)nt(ee[lt],ee[Nt])>ye&&(Xe.push(ee[lt]),Nt=lt);return Nt<sr-1&&Xe.push(ee[sr-1]),Xe}var pi;function Kn(ee,ye,Xe,lt,Nt){var sr=lt?pi:We(ee,Xe),Br=We(ye,Xe),sn,En,Un;for(pi=Br;;){if(!(sr|Br))return[ee,ye];if(sr&Br)return!1;sn=sr||Br,En=Li(ee,ye,sn,Xe,Nt),Un=We(En,Xe),sn===sr?(ee=En,sr=Un):(ye=En,Br=Un)}}function Li(ee,ye,Xe,lt,Nt){var sr=ye.x-ee.x,Br=ye.y-ee.y,sn=lt.min,En=lt.max,Un,li;return Xe&8?(Un=ee.x+sr*(En.y-ee.y)/Br,li=En.y):Xe&4?(Un=ee.x+sr*(sn.y-ee.y)/Br,li=sn.y):Xe&2?(Un=En.x,li=ee.y+Br*(En.x-ee.x)/sr):Xe&1&&(Un=sn.x,li=ee.y+Br*(sn.x-ee.x)/sr),new Mt(Un,li,Nt)}function We(ee,ye){var Xe=0;return ee.x<ye.min.x?Xe|=1:ee.x>ye.max.x&&(Xe|=2),ee.y<ye.min.y?Xe|=4:ee.y>ye.max.y&&(Xe|=8),Xe}function nt(ee,ye){var Xe=ye.x-ee.x,lt=ye.y-ee.y;return Xe*Xe+lt*lt}function ft(ee,ye,Xe,lt){var Nt=ye.x,sr=ye.y,Br=Xe.x-Nt,sn=Xe.y-sr,En=Br*Br+sn*sn,Un;return En>0&&(Un=((ee.x-Nt)*Br+(ee.y-sr)*sn)/En,Un>1?(Nt=Xe.x,sr=Xe.y):Un>0&&(Nt+=Br*Un,sr+=sn*Un)),Br=ee.x-Nt,sn=ee.y-sr,lt?Br*Br+sn*sn:new Mt(Nt,sr)}function Rt(ee){return!fe(ee[0])||typeof ee[0][0]!="object"&&typeof ee[0][0]<"u"}function Lt(ee){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Rt(ee)}function Ut(ee,ye){var Xe,lt,Nt,sr,Br,sn,En,Un;if(!ee||ee.length===0)throw new Error("latlngs not passed");Rt(ee)||(console.warn("latlngs are not flat! Only the first ring will be used"),ee=ee[0]);var li=Ct([0,0]),Ai=Bt(ee),Ji=Ai.getNorthWest().distanceTo(Ai.getSouthWest())*Ai.getNorthEast().distanceTo(Ai.getNorthWest());Ji<1700&&(li=br(ee));var Lo=ee.length,fo=[];for(Xe=0;Xe<Lo;Xe++){var Ho=Ct(ee[Xe]);fo.push(ye.project(Ct([Ho.lat-li.lat,Ho.lng-li.lng])))}for(Xe=0,lt=0;Xe<Lo-1;Xe++)lt+=fo[Xe].distanceTo(fo[Xe+1])/2;if(lt===0)Un=fo[0];else for(Xe=0,sr=0;Xe<Lo-1;Xe++)if(Br=fo[Xe],sn=fo[Xe+1],Nt=Br.distanceTo(sn),sr+=Nt,sr>lt){En=(sr-lt)/Nt,Un=[sn.x-En*(sn.x-Br.x),sn.y-En*(sn.y-Br.y)];break}var ta=ye.unproject(ar(Un));return Ct([ta.lat+li.lat,ta.lng+li.lng])}var rr={__proto__:null,simplify:vr,pointToSegmentDistance:Hr,closestPointOnSegment:Fr,clipSegment:Kn,_getEdgeIntersection:Li,_getBitCode:We,_sqClosestPointOnSegment:ft,isFlat:Rt,_flat:Lt,polylineCenter:Ut},qt={project:function(ee){return new Mt(ee.lng,ee.lat)},unproject:function(ee){return new Dt(ee.y,ee.x)},bounds:new dt([-180,-90],[180,90])},Tr={R:6378137,R_MINOR:6356752314245179e-9,bounds:new dt([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(ee){var ye=Math.PI/180,Xe=this.R,lt=ee.lat*ye,Nt=this.R_MINOR/Xe,sr=Math.sqrt(1-Nt*Nt),Br=sr*Math.sin(lt),sn=Math.tan(Math.PI/4-lt/2)/Math.pow((1-Br)/(1+Br),sr/2);return lt=-Xe*Math.log(Math.max(sn,1e-10)),new Mt(ee.lng*ye*Xe,lt)},unproject:function(ee){for(var ye=180/Math.PI,Xe=this.R,lt=this.R_MINOR/Xe,Nt=Math.sqrt(1-lt*lt),sr=Math.exp(-ee.y/Xe),Br=Math.PI/2-2*Math.atan(sr),sn=0,En=.1,Un;sn<15&&Math.abs(En)>1e-7;sn++)Un=Nt*Math.sin(Br),Un=Math.pow((1-Un)/(1+Un),Nt/2),En=Math.PI/2-2*Math.atan(sr*Un)-Br,Br+=En;return new Dt(Br*ye,ee.x*ye/Xe)}},Lr={__proto__:null,LonLat:qt,Mercator:Tr,SphericalMercator:Ve},zr=M({},lr,{code:"EPSG:3395",projection:Tr,transformation:(function(){var ee=.5/(Math.PI*Tr.R);return it(ee,.5,-ee,.5)})()}),rn=M({},lr,{code:"EPSG:4326",projection:qt,transformation:it(1/180,1,-1/180,.5)}),mn=M({},It,{projection:qt,transformation:it(1,0,-1,0),scale:function(ee){return Math.pow(2,ee)},zoom:function(ee){return Math.log(ee)/Math.LN2},distance:function(ee,ye){var Xe=ye.lng-ee.lng,lt=ye.lat-ee.lat;return Math.sqrt(Xe*Xe+lt*lt)},infinite:!0});It.Earth=lr,It.EPSG3395=zr,It.EPSG3857=Wt,It.EPSG900913=rt,It.EPSG4326=rn,It.Simple=mn;var on=ut.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(ee){return ee.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(ee){return ee&&ee.removeLayer(this),this},getPane:function(ee){return this._map.getPane(ee?this.options[ee]||ee:this.options.pane)},addInteractiveTarget:function(ee){return this._map._targets[I(ee)]=this,this},removeInteractiveTarget:function(ee){return delete this._map._targets[I(ee)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(ee){var ye=ee.target;if(ye.hasLayer(this)){if(this._map=ye,this._zoomAnimated=ye._zoomAnimated,this.getEvents){var Xe=this.getEvents();ye.on(Xe,this),this.once("remove",function(){ye.off(Xe,this)},this)}this.onAdd(ye),this.fire("add"),ye.fire("layeradd",{layer:this})}}});Vi.include({addLayer:function(ee){if(!ee._layerAdd)throw new Error("The provided object is not a Layer.");var ye=I(ee);return this._layers[ye]?this:(this._layers[ye]=ee,ee._mapToAdd=this,ee.beforeAdd&&ee.beforeAdd(this),this.whenReady(ee._layerAdd,ee),this)},removeLayer:function(ee){var ye=I(ee);return this._layers[ye]?(this._loaded&&ee.onRemove(this),delete this._layers[ye],this._loaded&&(this.fire("layerremove",{layer:ee}),ee.fire("remove")),ee._map=ee._mapToAdd=null,this):this},hasLayer:function(ee){return I(ee)in this._layers},eachLayer:function(ee,ye){for(var Xe in this._layers)ee.call(ye,this._layers[Xe]);return this},_addLayers:function(ee){ee=ee?fe(ee)?ee:[ee]:[];for(var ye=0,Xe=ee.length;ye<Xe;ye++)this.addLayer(ee[ye])},_addZoomLimit:function(ee){(!isNaN(ee.options.maxZoom)||!isNaN(ee.options.minZoom))&&(this._zoomBoundLayers[I(ee)]=ee,this._updateZoomLevels())},_removeZoomLimit:function(ee){var ye=I(ee);this._zoomBoundLayers[ye]&&(delete this._zoomBoundLayers[ye],this._updateZoomLevels())},_updateZoomLevels:function(){var ee=1/0,ye=-1/0,Xe=this._getZoomSpan();for(var lt in this._zoomBoundLayers){var Nt=this._zoomBoundLayers[lt].options;ee=Nt.minZoom===void 0?ee:Math.min(ee,Nt.minZoom),ye=Nt.maxZoom===void 0?ye:Math.max(ye,Nt.maxZoom)}this._layersMaxZoom=ye===-1/0?void 0:ye,this._layersMinZoom=ee===1/0?void 0:ee,Xe!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Cn=on.extend({initialize:function(ee,ye){J(this,ye),this._layers={};var Xe,lt;if(ee)for(Xe=0,lt=ee.length;Xe<lt;Xe++)this.addLayer(ee[Xe])},addLayer:function(ee){var ye=this.getLayerId(ee);return this._layers[ye]=ee,this._map&&this._map.addLayer(ee),this},removeLayer:function(ee){var ye=ee in this._layers?ee:this.getLayerId(ee);return this._map&&this._layers[ye]&&this._map.removeLayer(this._layers[ye]),delete this._layers[ye],this},hasLayer:function(ee){var ye=typeof ee=="number"?ee:this.getLayerId(ee);return ye in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(ee){var ye=Array.prototype.slice.call(arguments,1),Xe,lt;for(Xe in this._layers)lt=this._layers[Xe],lt[ee]&&lt[ee].apply(lt,ye);return this},onAdd:function(ee){this.eachLayer(ee.addLayer,ee)},onRemove:function(ee){this.eachLayer(ee.removeLayer,ee)},eachLayer:function(ee,ye){for(var Xe in this._layers)ee.call(ye,this._layers[Xe]);return this},getLayer:function(ee){return this._layers[ee]},getLayers:function(){var ee=[];return this.eachLayer(ee.push,ee),ee},setZIndex:function(ee){return this.invoke("setZIndex",ee)},getLayerId:function(ee){return I(ee)}}),dn=function(ee,ye){return new Cn(ee,ye)},$n=Cn.extend({addLayer:function(ee){return this.hasLayer(ee)?this:(ee.addEventParent(this),Cn.prototype.addLayer.call(this,ee),this.fire("layeradd",{layer:ee}))},removeLayer:function(ee){return this.hasLayer(ee)?(ee in this._layers&&(ee=this._layers[ee]),ee.removeEventParent(this),Cn.prototype.removeLayer.call(this,ee),this.fire("layerremove",{layer:ee})):this},setStyle:function(ee){return this.invoke("setStyle",ee)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var ee=new Gt;for(var ye in this._layers){var Xe=this._layers[ye];ee.extend(Xe.getBounds?Xe.getBounds():Xe.getLatLng())}return ee}}),Rn=function(ee,ye){return new $n(ee,ye)},ni=Qe.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(ee){J(this,ee)},createIcon:function(ee){return this._createIcon("icon",ee)},createShadow:function(ee){return this._createIcon("shadow",ee)},_createIcon:function(ee,ye){var Xe=this._getIconUrl(ee);if(!Xe){if(ee==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var lt=this._createImg(Xe,ye&&ye.tagName==="IMG"?ye:null);return this._setIconStyles(lt,ee),(this.options.crossOrigin||this.options.crossOrigin==="")&&(lt.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),lt},_setIconStyles:function(ee,ye){var Xe=this.options,lt=Xe[ye+"Size"];typeof lt=="number"&&(lt=[lt,lt]);var Nt=ar(lt),sr=ar(ye==="shadow"&&Xe.shadowAnchor||Xe.iconAnchor||Nt&&Nt.divideBy(2,!0));ee.className="leaflet-marker-"+ye+" "+(Xe.className||""),sr&&(ee.style.marginLeft=-sr.x+"px",ee.style.marginTop=-sr.y+"px"),Nt&&(ee.style.width=Nt.x+"px",ee.style.height=Nt.y+"px")},_createImg:function(ee,ye){return ye=ye||document.createElement("img"),ye.src=ee,ye},_getIconUrl:function(ee){return kn.retina&&this.options[ee+"RetinaUrl"]||this.options[ee+"Url"]}});function _i(ee){return new ni(ee)}var di=ni.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(ee){return typeof di.imagePath!="string"&&(di.imagePath=this._detectIconPath()),(this.options.imagePath||di.imagePath)+ni.prototype._getIconUrl.call(this,ee)},_stripUrl:function(ee){var ye=function(Xe,lt,Nt){var sr=lt.exec(Xe);return sr&&sr[Nt]};return ee=ye(ee,/^url\((['"])?(.+)\1\)$/,2),ee&&ye(ee,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var ee=Bi("div","leaflet-default-icon-path",document.body),ye=co(ee,"background-image")||co(ee,"backgroundImage");if(document.body.removeChild(ee),ye=this._stripUrl(ye),ye)return ye;var Xe=document.querySelector('link[href$="leaflet.css"]');return Xe?Xe.href.substring(0,Xe.href.length-11-1):""}}),Pi=Za.extend({initialize:function(ee){this._marker=ee},addHooks:function(){var ee=this._marker._icon;this._draggable||(this._draggable=new mt(ee,ee,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ii(ee,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&pa(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(ee){var ye=this._marker,Xe=ye._map,lt=this._marker.options.autoPanSpeed,Nt=this._marker.options.autoPanPadding,sr=ao(ye._icon),Br=Xe.getPixelBounds(),sn=Xe.getPixelOrigin(),En=yt(Br.min._subtract(sn).add(Nt),Br.max._subtract(sn).subtract(Nt));if(!En.contains(sr)){var Un=ar((Math.max(En.max.x,sr.x)-En.max.x)/(Br.max.x-En.max.x)-(Math.min(En.min.x,sr.x)-En.min.x)/(Br.min.x-En.min.x),(Math.max(En.max.y,sr.y)-En.max.y)/(Br.max.y-En.max.y)-(Math.min(En.min.y,sr.y)-En.min.y)/(Br.min.y-En.min.y)).multiplyBy(lt);Xe.panBy(Un,{animate:!1}),this._draggable._newPos._add(Un),this._draggable._startPos._add(Un),ua(ye._icon,this._draggable._newPos),this._onDrag(ee),this._panRequest=tt(this._adjustPan.bind(this,ee))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(ee){this._marker.options.autoPan&&(Ke(this._panRequest),this._panRequest=tt(this._adjustPan.bind(this,ee)))},_onDrag:function(ee){var ye=this._marker,Xe=ye._shadow,lt=ao(ye._icon),Nt=ye._map.layerPointToLatLng(lt);Xe&&ua(Xe,lt),ye._latlng=Nt,ee.latlng=Nt,ee.oldLatLng=this._oldLatLng,ye.fire("move",ee).fire("drag",ee)},_onDragEnd:function(ee){Ke(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",ee)}}),Ki=on.extend({options:{icon:new di,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(ee,ye){J(this,ye),this._latlng=Ct(ee)},onAdd:function(ee){this._zoomAnimated=this._zoomAnimated&&ee.options.markerZoomAnimation,this._zoomAnimated&&ee.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(ee){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&ee.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(ee){var ye=this._latlng;return this._latlng=Ct(ee),this.update(),this.fire("move",{oldLatLng:ye,latlng:this._latlng})},setZIndexOffset:function(ee){return this.options.zIndexOffset=ee,this.update()},getIcon:function(){return this.options.icon},setIcon:function(ee){return this.options.icon=ee,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var ee=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(ee)}return this},_initIcon:function(){var ee=this.options,ye="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),Xe=ee.icon.createIcon(this._icon),lt=!1;Xe!==this._icon&&(this._icon&&this._removeIcon(),lt=!0,ee.title&&(Xe.title=ee.title),Xe.tagName==="IMG"&&(Xe.alt=ee.alt||"")),Ii(Xe,ye),ee.keyboard&&(Xe.tabIndex="0",Xe.setAttribute("role","button")),this._icon=Xe,ee.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Pr(Xe,"focus",this._panOnFocus,this);var Nt=ee.icon.createShadow(this._shadow),sr=!1;Nt!==this._shadow&&(this._removeShadow(),sr=!0),Nt&&(Ii(Nt,ye),Nt.alt=""),this._shadow=Nt,ee.opacity<1&&this._updateOpacity(),lt&&this.getPane().appendChild(this._icon),this._initInteraction(),Nt&&sr&&this.getPane(ee.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&si(this._icon,"focus",this._panOnFocus,this),ra(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ra(this._shadow),this._shadow=null},_setPos:function(ee){this._icon&&ua(this._icon,ee),this._shadow&&ua(this._shadow,ee),this._zIndex=ee.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(ee){this._icon&&(this._icon.style.zIndex=this._zIndex+ee)},_animateZoom:function(ee){var ye=this._map._latLngToNewLayerPoint(this._latlng,ee.zoom,ee.center).round();this._setPos(ye)},_initInteraction:function(){if(this.options.interactive&&(Ii(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Pi)){var ee=this.options.draggable;this.dragging&&(ee=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Pi(this),ee&&this.dragging.enable()}},setOpacity:function(ee){return this.options.opacity=ee,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var ee=this.options.opacity;this._icon&&Zi(this._icon,ee),this._shadow&&Zi(this._shadow,ee)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var ee=this._map;if(ee){var ye=this.options.icon.options,Xe=ye.iconSize?ar(ye.iconSize):ar(0,0),lt=ye.iconAnchor?ar(ye.iconAnchor):ar(0,0);ee.panInside(this._latlng,{paddingTopLeft:lt,paddingBottomRight:Xe.subtract(lt)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function eo(ee,ye){return new Ki(ee,ye)}var La=on.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(ee){this._renderer=ee.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(ee){return J(this,ee),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&ee&&Object.prototype.hasOwnProperty.call(ee,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Pa=La.extend({options:{fill:!0,radius:10},initialize:function(ee,ye){J(this,ye),this._latlng=Ct(ee),this._radius=this.options.radius},setLatLng:function(ee){var ye=this._latlng;return this._latlng=Ct(ee),this.redraw(),this.fire("move",{oldLatLng:ye,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(ee){return this.options.radius=this._radius=ee,this.redraw()},getRadius:function(){return this._radius},setStyle:function(ee){var ye=ee&&ee.radius||this._radius;return La.prototype.setStyle.call(this,ee),this.setRadius(ye),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var ee=this._radius,ye=this._radiusY||ee,Xe=this._clickTolerance(),lt=[ee+Xe,ye+Xe];this._pxBounds=new dt(this._point.subtract(lt),this._point.add(lt))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(ee){return ee.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Go(ee,ye){return new Pa(ee,ye)}var Qi=Pa.extend({initialize:function(ee,ye,Xe){if(typeof ye=="number"&&(ye=M({},Xe,{radius:ye})),J(this,ye),this._latlng=Ct(ee),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(ee){return this._mRadius=ee,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var ee=[this._radius,this._radiusY||this._radius];return new Gt(this._map.layerPointToLatLng(this._point.subtract(ee)),this._map.layerPointToLatLng(this._point.add(ee)))},setStyle:La.prototype.setStyle,_project:function(){var ee=this._latlng.lng,ye=this._latlng.lat,Xe=this._map,lt=Xe.options.crs;if(lt.distance===lr.distance){var Nt=Math.PI/180,sr=this._mRadius/lr.R/Nt,Br=Xe.project([ye+sr,ee]),sn=Xe.project([ye-sr,ee]),En=Br.add(sn).divideBy(2),Un=Xe.unproject(En).lat,li=Math.acos((Math.cos(sr*Nt)-Math.sin(ye*Nt)*Math.sin(Un*Nt))/(Math.cos(ye*Nt)*Math.cos(Un*Nt)))/Nt;(isNaN(li)||li===0)&&(li=sr/Math.cos(Math.PI/180*ye)),this._point=En.subtract(Xe.getPixelOrigin()),this._radius=isNaN(li)?0:En.x-Xe.project([Un,ee-li]).x,this._radiusY=En.y-Br.y}else{var Ai=lt.unproject(lt.project(this._latlng).subtract([this._mRadius,0]));this._point=Xe.latLngToLayerPoint(this._latlng),this._radius=this._point.x-Xe.latLngToLayerPoint(Ai).x}this._updateBounds()}});function _s(ee,ye,Xe){return new Qi(ee,ye,Xe)}var zo=La.extend({options:{smoothFactor:1,noClip:!1},initialize:function(ee,ye){J(this,ye),this._setLatLngs(ee)},getLatLngs:function(){return this._latlngs},setLatLngs:function(ee){return this._setLatLngs(ee),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(ee){for(var ye=1/0,Xe=null,lt=ft,Nt,sr,Br=0,sn=this._parts.length;Br<sn;Br++)for(var En=this._parts[Br],Un=1,li=En.length;Un<li;Un++){Nt=En[Un-1],sr=En[Un];var Ai=lt(ee,Nt,sr,!0);Ai<ye&&(ye=Ai,Xe=lt(ee,Nt,sr))}return Xe&&(Xe.distance=Math.sqrt(ye)),Xe},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ut(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(ee,ye){return ye=ye||this._defaultShape(),ee=Ct(ee),ye.push(ee),this._bounds.extend(ee),this.redraw()},_setLatLngs:function(ee){this._bounds=new Gt,this._latlngs=this._convertLatLngs(ee)},_defaultShape:function(){return Rt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(ee){for(var ye=[],Xe=Rt(ee),lt=0,Nt=ee.length;lt<Nt;lt++)Xe?(ye[lt]=Ct(ee[lt]),this._bounds.extend(ye[lt])):ye[lt]=this._convertLatLngs(ee[lt]);return ye},_project:function(){var ee=new dt;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,ee),this._bounds.isValid()&&ee.isValid()&&(this._rawPxBounds=ee,this._updateBounds())},_updateBounds:function(){var ee=this._clickTolerance(),ye=new Mt(ee,ee);this._rawPxBounds&&(this._pxBounds=new dt([this._rawPxBounds.min.subtract(ye),this._rawPxBounds.max.add(ye)]))},_projectLatlngs:function(ee,ye,Xe){var lt=ee[0]instanceof Dt,Nt=ee.length,sr,Br;if(lt){for(Br=[],sr=0;sr<Nt;sr++)Br[sr]=this._map.latLngToLayerPoint(ee[sr]),Xe.extend(Br[sr]);ye.push(Br)}else for(sr=0;sr<Nt;sr++)this._projectLatlngs(ee[sr],ye,Xe)},_clipPoints:function(){var ee=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(ee))){if(this.options.noClip){this._parts=this._rings;return}var ye=this._parts,Xe,lt,Nt,sr,Br,sn,En;for(Xe=0,Nt=0,sr=this._rings.length;Xe<sr;Xe++)for(En=this._rings[Xe],lt=0,Br=En.length;lt<Br-1;lt++)sn=Kn(En[lt],En[lt+1],ee,lt,!0),sn&&(ye[Nt]=ye[Nt]||[],ye[Nt].push(sn[0]),(sn[1]!==En[lt+1]||lt===Br-2)&&(ye[Nt].push(sn[1]),Nt++))}},_simplifyPoints:function(){for(var ee=this._parts,ye=this.options.smoothFactor,Xe=0,lt=ee.length;Xe<lt;Xe++)ee[Xe]=vr(ee[Xe],ye)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(ee,ye){var Xe,lt,Nt,sr,Br,sn,En=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(ee))return!1;for(Xe=0,sr=this._parts.length;Xe<sr;Xe++)for(sn=this._parts[Xe],lt=0,Br=sn.length,Nt=Br-1;lt<Br;Nt=lt++)if(!(!ye&&lt===0)&&Hr(ee,sn[Nt],sn[lt])<=En)return!0;return!1}});function Bu(ee,ye){return new zo(ee,ye)}zo._flat=Lt;var St=zo.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Qt(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(ee){var ye=zo.prototype._convertLatLngs.call(this,ee),Xe=ye.length;return Xe>=2&&ye[0]instanceof Dt&&ye[0].equals(ye[Xe-1])&&ye.pop(),ye},_setLatLngs:function(ee){zo.prototype._setLatLngs.call(this,ee),Rt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Rt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var ee=this._renderer._bounds,ye=this.options.weight,Xe=new Mt(ye,ye);if(ee=new dt(ee.min.subtract(Xe),ee.max.add(Xe)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(ee))){if(this.options.noClip){this._parts=this._rings;return}for(var lt=0,Nt=this._rings.length,sr;lt<Nt;lt++)sr=At(this._rings[lt],ee,!0),sr.length&&this._parts.push(sr)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(ee){var ye=!1,Xe,lt,Nt,sr,Br,sn,En,Un;if(!this._pxBounds||!this._pxBounds.contains(ee))return!1;for(sr=0,En=this._parts.length;sr<En;sr++)for(Xe=this._parts[sr],Br=0,Un=Xe.length,sn=Un-1;Br<Un;sn=Br++)lt=Xe[Br],Nt=Xe[sn],lt.y>ee.y!=Nt.y>ee.y&&ee.x<(Nt.x-lt.x)*(ee.y-lt.y)/(Nt.y-lt.y)+lt.x&&(ye=!ye);return ye||zo.prototype._containsPoint.call(this,ee,!0)}});function xt(ee,ye){return new St(ee,ye)}var Ht=$n.extend({initialize:function(ee,ye){J(this,ye),this._layers={},ee&&this.addData(ee)},addData:function(ee){var ye=fe(ee)?ee:ee.features,Xe,lt,Nt;if(ye){for(Xe=0,lt=ye.length;Xe<lt;Xe++)Nt=ye[Xe],(Nt.geometries||Nt.geometry||Nt.features||Nt.coordinates)&&this.addData(Nt);return this}var sr=this.options;if(sr.filter&&!sr.filter(ee))return this;var Br=hr(ee,sr);return Br?(Br.feature=na(ee),Br.defaultOptions=Br.options,this.resetStyle(Br),sr.onEachFeature&&sr.onEachFeature(ee,Br),this.addLayer(Br)):this},resetStyle:function(ee){return ee===void 0?this.eachLayer(this.resetStyle,this):(ee.options=M({},ee.defaultOptions),this._setLayerStyle(ee,this.options.style),this)},setStyle:function(ee){return this.eachLayer(function(ye){this._setLayerStyle(ye,ee)},this)},_setLayerStyle:function(ee,ye){ee.setStyle&&(typeof ye=="function"&&(ye=ye(ee.feature)),ee.setStyle(ye))}});function hr(ee,ye){var Xe=ee.type==="Feature"?ee.geometry:ee,lt=Xe?Xe.coordinates:null,Nt=[],sr=ye&&ye.pointToLayer,Br=ye&&ye.coordsToLatLng||Sn,sn,En,Un,li;if(!lt&&!Xe)return null;switch(Xe.type){case"Point":return sn=Br(lt),Kr(sr,ee,sn,ye);case"MultiPoint":for(Un=0,li=lt.length;Un<li;Un++)sn=Br(lt[Un]),Nt.push(Kr(sr,ee,sn,ye));return new $n(Nt);case"LineString":case"MultiLineString":return En=Xn(lt,Xe.type==="LineString"?0:1,Br),new zo(En,ye);case"Polygon":case"MultiPolygon":return En=Xn(lt,Xe.type==="Polygon"?1:2,Br),new St(En,ye);case"GeometryCollection":for(Un=0,li=Xe.geometries.length;Un<li;Un++){var Ai=hr({geometry:Xe.geometries[Un],type:"Feature",properties:ee.properties},ye);Ai&&Nt.push(Ai)}return new $n(Nt);case"FeatureCollection":for(Un=0,li=Xe.features.length;Un<li;Un++){var Ji=hr(Xe.features[Un],ye);Ji&&Nt.push(Ji)}return new $n(Nt);default:throw new Error("Invalid GeoJSON object.")}}function Kr(ee,ye,Xe,lt){return ee?ee(ye,Xe):new Ki(Xe,lt&&lt.markersInheritOptions&&lt)}function Sn(ee){return new Dt(ee[1],ee[0],ee[2])}function Xn(ee,ye,Xe){for(var lt=[],Nt=0,sr=ee.length,Br;Nt<sr;Nt++)Br=ye?Xn(ee[Nt],ye-1,Xe):(Xe||Sn)(ee[Nt]),lt.push(Br);return lt}function hi(ee,ye){return ee=Ct(ee),ee.alt!==void 0?[U(ee.lng,ye),U(ee.lat,ye),U(ee.alt,ye)]:[U(ee.lng,ye),U(ee.lat,ye)]}function Di(ee,ye,Xe,lt){for(var Nt=[],sr=0,Br=ee.length;sr<Br;sr++)Nt.push(ye?Di(ee[sr],Rt(ee[sr])?0:ye-1,Xe,lt):hi(ee[sr],lt));return!ye&&Xe&&Nt.length>0&&Nt.push(Nt[0].slice()),Nt}function ki(ee,ye){return ee.feature?M({},ee.feature,{geometry:ye}):na(ye)}function na(ee){return ee.type==="Feature"||ee.type==="FeatureCollection"?ee:{type:"Feature",properties:{},geometry:ee}}var Xi={toGeoJSON:function(ee){return ki(this,{type:"Point",coordinates:hi(this.getLatLng(),ee)})}};Ki.include(Xi),Qi.include(Xi),Pa.include(Xi),zo.include({toGeoJSON:function(ee){var ye=!Rt(this._latlngs),Xe=Di(this._latlngs,ye?1:0,!1,ee);return ki(this,{type:(ye?"Multi":"")+"LineString",coordinates:Xe})}}),St.include({toGeoJSON:function(ee){var ye=!Rt(this._latlngs),Xe=ye&&!Rt(this._latlngs[0]),lt=Di(this._latlngs,Xe?2:ye?1:0,!0,ee);return ye||(lt=[lt]),ki(this,{type:(Xe?"Multi":"")+"Polygon",coordinates:lt})}}),Cn.include({toMultiPoint:function(ee){var ye=[];return this.eachLayer(function(Xe){ye.push(Xe.toGeoJSON(ee).geometry.coordinates)}),ki(this,{type:"MultiPoint",coordinates:ye})},toGeoJSON:function(ee){var ye=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(ye==="MultiPoint")return this.toMultiPoint(ee);var Xe=ye==="GeometryCollection",lt=[];return this.eachLayer(function(Nt){if(Nt.toGeoJSON){var sr=Nt.toGeoJSON(ee);if(Xe)lt.push(sr.geometry);else{var Br=na(sr);Br.type==="FeatureCollection"?lt.push.apply(lt,Br.features):lt.push(Br)}}}),Xe?ki(this,{geometries:lt,type:"GeometryCollection"}):{type:"FeatureCollection",features:lt}}});function Ia(ee,ye){return new Ht(ee,ye)}var uo=Ia,xo=on.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(ee,ye,Xe){this._url=ee,this._bounds=Bt(ye),J(this,Xe)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ii(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ra(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(ee){return this.options.opacity=ee,this._image&&this._updateOpacity(),this},setStyle:function(ee){return ee.opacity&&this.setOpacity(ee.opacity),this},bringToFront:function(){return this._map&&Ma(this._image),this},bringToBack:function(){return this._map&&_o(this._image),this},setUrl:function(ee){return this._url=ee,this._image&&(this._image.src=ee),this},setBounds:function(ee){return this._bounds=Bt(ee),this._map&&this._reset(),this},getEvents:function(){var ee={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(ee.zoomanim=this._animateZoom),ee},setZIndex:function(ee){return this.options.zIndex=ee,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var ee=this._url.tagName==="IMG",ye=this._image=ee?this._url:Bi("img");if(Ii(ye,"leaflet-image-layer"),this._zoomAnimated&&Ii(ye,"leaflet-zoom-animated"),this.options.className&&Ii(ye,this.options.className),ye.onselectstart=T,ye.onmousemove=T,ye.onload=B(this.fire,this,"load"),ye.onerror=B(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(ye.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),ee){this._url=ye.src;return}ye.src=this._url,ye.alt=this.options.alt},_animateZoom:function(ee){var ye=this._map.getZoomScale(ee.zoom),Xe=this._map._latLngBoundsToNewLayerBounds(this._bounds,ee.zoom,ee.center).min;Ca(this._image,Xe,ye)},_reset:function(){var ee=this._image,ye=new dt(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),Xe=ye.getSize();ua(ee,ye.min),ee.style.width=Xe.x+"px",ee.style.height=Xe.y+"px"},_updateOpacity:function(){Zi(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var ee=this.options.errorOverlayUrl;ee&&this._url!==ee&&(this._url=ee,this._image.src=ee)},getCenter:function(){return this._bounds.getCenter()}}),os=function(ee,ye,Xe){return new xo(ee,ye,Xe)},mo=xo.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var ee=this._url.tagName==="VIDEO",ye=this._image=ee?this._url:Bi("video");if(Ii(ye,"leaflet-image-layer"),this._zoomAnimated&&Ii(ye,"leaflet-zoom-animated"),this.options.className&&Ii(ye,this.options.className),ye.onselectstart=T,ye.onmousemove=T,ye.onloadeddata=B(this.fire,this,"load"),ee){for(var Xe=ye.getElementsByTagName("source"),lt=[],Nt=0;Nt<Xe.length;Nt++)lt.push(Xe[Nt].src);this._url=Xe.length>0?lt:[ye.src];return}fe(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(ye.style,"objectFit")&&(ye.style.objectFit="fill"),ye.autoplay=!!this.options.autoplay,ye.loop=!!this.options.loop,ye.muted=!!this.options.muted,ye.playsInline=!!this.options.playsInline;for(var sr=0;sr<this._url.length;sr++){var Br=Bi("source");Br.src=this._url[sr],ye.appendChild(Br)}}});function Wo(ee,ye,Xe){return new mo(ee,ye,Xe)}var Ao=xo.extend({_initImage:function(){var ee=this._image=this._url;Ii(ee,"leaflet-image-layer"),this._zoomAnimated&&Ii(ee,"leaflet-zoom-animated"),this.options.className&&Ii(ee,this.options.className),ee.onselectstart=T,ee.onmousemove=T}});function ii(ee,ye,Xe){return new Ao(ee,ye,Xe)}var er=on.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(ee,ye){ee&&(ee instanceof Dt||fe(ee))?(this._latlng=Ct(ee),J(this,ye)):(J(this,ee),this._source=ye),this.options.content&&(this._content=this.options.content)},openOn:function(ee){return ee=arguments.length?ee:this._source._map,ee.hasLayer(this)||ee.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(ee){return this._map?this.close():(arguments.length?this._source=ee:ee=this._source,this._prepareOpen(),this.openOn(ee._map)),this},onAdd:function(ee){this._zoomAnimated=ee._zoomAnimated,this._container||this._initLayout(),ee._fadeAnimated&&Zi(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),ee._fadeAnimated&&Zi(this._container,1),this.bringToFront(),this.options.interactive&&(Ii(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(ee){ee._fadeAnimated?(Zi(this._container,0),this._removeTimeout=setTimeout(B(ra,void 0,this._container),200)):ra(this._container),this.options.interactive&&(pa(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(ee){return this._latlng=Ct(ee),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(ee){return this._content=ee,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var ee={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(ee.zoomanim=this._animateZoom),ee},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Ma(this._container),this},bringToBack:function(){return this._map&&_o(this._container),this},_prepareOpen:function(ee){var ye=this._source;if(!ye._map)return!1;if(ye instanceof $n){ye=null;var Xe=this._source._layers;for(var lt in Xe)if(Xe[lt]._map){ye=Xe[lt];break}if(!ye)return!1;this._source=ye}if(!ee)if(ye.getCenter)ee=ye.getCenter();else if(ye.getLatLng)ee=ye.getLatLng();else if(ye.getBounds)ee=ye.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(ee),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var ee=this._contentNode,ye=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof ye=="string")ee.innerHTML=ye;else{for(;ee.hasChildNodes();)ee.removeChild(ee.firstChild);ee.appendChild(ye)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var ee=this._map.latLngToLayerPoint(this._latlng),ye=ar(this.options.offset),Xe=this._getAnchor();this._zoomAnimated?ua(this._container,ee.add(Xe)):ye=ye.add(ee).add(Xe);var lt=this._containerBottom=-ye.y,Nt=this._containerLeft=-Math.round(this._containerWidth/2)+ye.x;this._container.style.bottom=lt+"px",this._container.style.left=Nt+"px"}},_getAnchor:function(){return[0,0]}});Vi.include({_initOverlay:function(ee,ye,Xe,lt){var Nt=ye;return Nt instanceof ee||(Nt=new ee(lt).setContent(ye)),Xe&&Nt.setLatLng(Xe),Nt}}),on.include({_initOverlay:function(ee,ye,Xe,lt){var Nt=Xe;return Nt instanceof ee?(J(Nt,lt),Nt._source=this):(Nt=ye&&!lt?ye:new ee(lt,this),Nt.setContent(Xe)),Nt}});var kr=er.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(ee){return ee=arguments.length?ee:this._source._map,!ee.hasLayer(this)&&ee._popup&&ee._popup.options.autoClose&&ee.removeLayer(ee._popup),ee._popup=this,er.prototype.openOn.call(this,ee)},onAdd:function(ee){er.prototype.onAdd.call(this,ee),ee.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof La||this._source.on("preclick",wa))},onRemove:function(ee){er.prototype.onRemove.call(this,ee),ee.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof La||this._source.off("preclick",wa))},getEvents:function(){var ee=er.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(ee.preclick=this.close),this.options.keepInView&&(ee.moveend=this._adjustPan),ee},_initLayout:function(){var ee="leaflet-popup",ye=this._container=Bi("div",ee+" "+(this.options.className||"")+" leaflet-zoom-animated"),Xe=this._wrapper=Bi("div",ee+"-content-wrapper",ye);if(this._contentNode=Bi("div",ee+"-content",Xe),za(ye),Ri(this._contentNode),Pr(ye,"contextmenu",wa),this._tipContainer=Bi("div",ee+"-tip-container",ye),this._tip=Bi("div",ee+"-tip",this._tipContainer),this.options.closeButton){var lt=this._closeButton=Bi("a",ee+"-close-button",ye);lt.setAttribute("role","button"),lt.setAttribute("aria-label","Close popup"),lt.href="#close",lt.innerHTML='<span aria-hidden="true">&#215;</span>',Pr(lt,"click",function(Nt){ea(Nt),this.close()},this)}},_updateLayout:function(){var ee=this._contentNode,ye=ee.style;ye.width="",ye.whiteSpace="nowrap";var Xe=ee.offsetWidth;Xe=Math.min(Xe,this.options.maxWidth),Xe=Math.max(Xe,this.options.minWidth),ye.width=Xe+1+"px",ye.whiteSpace="",ye.height="";var lt=ee.offsetHeight,Nt=this.options.maxHeight,sr="leaflet-popup-scrolled";Nt&&lt>Nt?(ye.height=Nt+"px",Ii(ee,sr)):pa(ee,sr),this._containerWidth=this._container.offsetWidth},_animateZoom:function(ee){var ye=this._map._latLngToNewLayerPoint(this._latlng,ee.zoom,ee.center),Xe=this._getAnchor();ua(this._container,ye.add(Xe))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var ee=this._map,ye=parseInt(co(this._container,"marginBottom"),10)||0,Xe=this._container.offsetHeight+ye,lt=this._containerWidth,Nt=new Mt(this._containerLeft,-Xe-this._containerBottom);Nt._add(ao(this._container));var sr=ee.layerPointToContainerPoint(Nt),Br=ar(this.options.autoPanPadding),sn=ar(this.options.autoPanPaddingTopLeft||Br),En=ar(this.options.autoPanPaddingBottomRight||Br),Un=ee.getSize(),li=0,Ai=0;sr.x+lt+En.x>Un.x&&(li=sr.x+lt-Un.x+En.x),sr.x-li-sn.x<0&&(li=sr.x-sn.x),sr.y+Xe+En.y>Un.y&&(Ai=sr.y+Xe-Un.y+En.y),sr.y-Ai-sn.y<0&&(Ai=sr.y-sn.y),(li||Ai)&&(this.options.keepInView&&(this._autopanning=!0),ee.fire("autopanstart").panBy([li,Ai]))}},_getAnchor:function(){return ar(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),xn=function(ee,ye){return new kr(ee,ye)};Vi.mergeOptions({closePopupOnClick:!0}),Vi.include({openPopup:function(ee,ye,Xe){return this._initOverlay(kr,ee,ye,Xe).openOn(this),this},closePopup:function(ee){return ee=arguments.length?ee:this._popup,ee&&ee.close(),this}}),on.include({bindPopup:function(ee,ye){return this._popup=this._initOverlay(kr,this._popup,ee,ye),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(ee){return this._popup&&(this instanceof $n||(this._popup._source=this),this._popup._prepareOpen(ee||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(ee){return this._popup&&this._popup.setContent(ee),this},getPopup:function(){return this._popup},_openPopup:function(ee){if(!(!this._popup||!this._map)){Xa(ee);var ye=ee.layer||ee.target;if(this._popup._source===ye&&!(ye instanceof La)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(ee.latlng);return}this._popup._source=ye,this.openPopup(ee.latlng)}},_movePopup:function(ee){this._popup.setLatLng(ee.latlng)},_onKeyPress:function(ee){ee.originalEvent.keyCode===13&&this._openPopup(ee)}});var Ln=er.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(ee){er.prototype.onAdd.call(this,ee),this.setOpacity(this.options.opacity),ee.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(ee){er.prototype.onRemove.call(this,ee),ee.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var ee=er.prototype.getEvents.call(this);return this.options.permanent||(ee.preclick=this.close),ee},_initLayout:function(){var ee="leaflet-tooltip",ye=ee+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Bi("div",ye),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+I(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(ee){var ye,Xe,lt=this._map,Nt=this._container,sr=lt.latLngToContainerPoint(lt.getCenter()),Br=lt.layerPointToContainerPoint(ee),sn=this.options.direction,En=Nt.offsetWidth,Un=Nt.offsetHeight,li=ar(this.options.offset),Ai=this._getAnchor();sn==="top"?(ye=En/2,Xe=Un):sn==="bottom"?(ye=En/2,Xe=0):sn==="center"?(ye=En/2,Xe=Un/2):sn==="right"?(ye=0,Xe=Un/2):sn==="left"?(ye=En,Xe=Un/2):Br.x<sr.x?(sn="right",ye=0,Xe=Un/2):(sn="left",ye=En+(li.x+Ai.x)*2,Xe=Un/2),ee=ee.subtract(ar(ye,Xe,!0)).add(li).add(Ai),pa(Nt,"leaflet-tooltip-right"),pa(Nt,"leaflet-tooltip-left"),pa(Nt,"leaflet-tooltip-top"),pa(Nt,"leaflet-tooltip-bottom"),Ii(Nt,"leaflet-tooltip-"+sn),ua(Nt,ee)},_updatePosition:function(){var ee=this._map.latLngToLayerPoint(this._latlng);this._setPosition(ee)},setOpacity:function(ee){this.options.opacity=ee,this._container&&Zi(this._container,ee)},_animateZoom:function(ee){var ye=this._map._latLngToNewLayerPoint(this._latlng,ee.zoom,ee.center);this._setPosition(ye)},_getAnchor:function(){return ar(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Gn=function(ee,ye){return new Ln(ee,ye)};Vi.include({openTooltip:function(ee,ye,Xe){return this._initOverlay(Ln,ee,ye,Xe).openOn(this),this},closeTooltip:function(ee){return ee.close(),this}}),on.include({bindTooltip:function(ee,ye){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Ln,this._tooltip,ee,ye),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(ee){if(!(!ee&&this._tooltipHandlersAdded)){var ye=ee?"off":"on",Xe={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?Xe.add=this._openTooltip:(Xe.mouseover=this._openTooltip,Xe.mouseout=this.closeTooltip,Xe.click=this._openTooltip,this._map?this._addFocusListeners():Xe.add=this._addFocusListeners),this._tooltip.options.sticky&&(Xe.mousemove=this._moveTooltip),this[ye](Xe),this._tooltipHandlersAdded=!ee}},openTooltip:function(ee){return this._tooltip&&(this instanceof $n||(this._tooltip._source=this),this._tooltip._prepareOpen(ee)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(ee){return this._tooltip&&this._tooltip.setContent(ee),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(ee){var ye=typeof ee.getElement=="function"&&ee.getElement();ye&&(Pr(ye,"focus",function(){this._tooltip._source=ee,this.openTooltip()},this),Pr(ye,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(ee){var ye=typeof ee.getElement=="function"&&ee.getElement();ye&&ye.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(ee){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var ye=this;this._map.once("moveend",function(){ye._openOnceFlag=!1,ye._openTooltip(ee)});return}this._tooltip._source=ee.layer||ee.target,this.openTooltip(this._tooltip.options.sticky?ee.latlng:void 0)}},_moveTooltip:function(ee){var ye=ee.latlng,Xe,lt;this._tooltip.options.sticky&&ee.originalEvent&&(Xe=this._map.mouseEventToContainerPoint(ee.originalEvent),lt=this._map.containerPointToLayerPoint(Xe),ye=this._map.layerPointToLatLng(lt)),this._tooltip.setLatLng(ye)}});var Jn=ni.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(ee){var ye=ee&&ee.tagName==="DIV"?ee:document.createElement("div"),Xe=this.options;if(Xe.html instanceof Element?(Hi(ye),ye.appendChild(Xe.html)):ye.innerHTML=Xe.html!==!1?Xe.html:"",Xe.bgPos){var lt=ar(Xe.bgPos);ye.style.backgroundPosition=-lt.x+"px "+-lt.y+"px"}return this._setIconStyles(ye,"icon"),ye},createShadow:function(){return null}});function bi(ee){return new Jn(ee)}ni.Default=di;var oa=on.extend({options:{tileSize:256,opacity:1,updateWhenIdle:kn.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(ee){J(this,ee)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(ee){ee._addZoomLimit(this)},onRemove:function(ee){this._removeAllTiles(),ra(this._container),ee._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Ma(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(_o(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(ee){return this.options.opacity=ee,this._updateOpacity(),this},setZIndex:function(ee){return this.options.zIndex=ee,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var ee=this._clampZoom(this._map.getZoom());ee!==this._tileZoom&&(this._tileZoom=ee,this._updateLevels()),this._update()}return this},getEvents:function(){var ee={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=O(this._onMoveEnd,this.options.updateInterval,this)),ee.move=this._onMove),this._zoomAnimated&&(ee.zoomanim=this._animateZoom),ee},createTile:function(){return document.createElement("div")},getTileSize:function(){var ee=this.options.tileSize;return ee instanceof Mt?ee:new Mt(ee,ee)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(ee){for(var ye=this.getPane().children,Xe=-ee(-1/0,1/0),lt=0,Nt=ye.length,sr;lt<Nt;lt++)sr=ye[lt].style.zIndex,ye[lt]!==this._container&&sr&&(Xe=ee(Xe,+sr));isFinite(Xe)&&(this.options.zIndex=Xe+ee(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!kn.ielt9){Zi(this._container,this.options.opacity);var ee=+new Date,ye=!1,Xe=!1;for(var lt in this._tiles){var Nt=this._tiles[lt];if(!(!Nt.current||!Nt.loaded)){var sr=Math.min(1,(ee-Nt.loaded)/200);Zi(Nt.el,sr),sr<1?ye=!0:(Nt.active?Xe=!0:this._onOpaqueTile(Nt),Nt.active=!0)}}Xe&&!this._noPrune&&this._pruneTiles(),ye&&(Ke(this._fadeFrame),this._fadeFrame=tt(this._updateOpacity,this))}},_onOpaqueTile:T,_initContainer:function(){this._container||(this._container=Bi("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var ee=this._tileZoom,ye=this.options.maxZoom;if(ee!==void 0){for(var Xe in this._levels)Xe=Number(Xe),this._levels[Xe].el.children.length||Xe===ee?(this._levels[Xe].el.style.zIndex=ye-Math.abs(ee-Xe),this._onUpdateLevel(Xe)):(ra(this._levels[Xe].el),this._removeTilesAtZoom(Xe),this._onRemoveLevel(Xe),delete this._levels[Xe]);var lt=this._levels[ee],Nt=this._map;return lt||(lt=this._levels[ee]={},lt.el=Bi("div","leaflet-tile-container leaflet-zoom-animated",this._container),lt.el.style.zIndex=ye,lt.origin=Nt.project(Nt.unproject(Nt.getPixelOrigin()),ee).round(),lt.zoom=ee,this._setZoomTransform(lt,Nt.getCenter(),Nt.getZoom()),T(lt.el.offsetWidth),this._onCreateLevel(lt)),this._level=lt,lt}},_onUpdateLevel:T,_onRemoveLevel:T,_onCreateLevel:T,_pruneTiles:function(){if(this._map){var ee,ye,Xe=this._map.getZoom();if(Xe>this.options.maxZoom||Xe<this.options.minZoom){this._removeAllTiles();return}for(ee in this._tiles)ye=this._tiles[ee],ye.retain=ye.current;for(ee in this._tiles)if(ye=this._tiles[ee],ye.current&&!ye.active){var lt=ye.coords;this._retainParent(lt.x,lt.y,lt.z,lt.z-5)||this._retainChildren(lt.x,lt.y,lt.z,lt.z+2)}for(ee in this._tiles)this._tiles[ee].retain||this._removeTile(ee)}},_removeTilesAtZoom:function(ee){for(var ye in this._tiles)this._tiles[ye].coords.z===ee&&this._removeTile(ye)},_removeAllTiles:function(){for(var ee in this._tiles)this._removeTile(ee)},_invalidateAll:function(){for(var ee in this._levels)ra(this._levels[ee].el),this._onRemoveLevel(Number(ee)),delete this._levels[ee];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(ee,ye,Xe,lt){var Nt=Math.floor(ee/2),sr=Math.floor(ye/2),Br=Xe-1,sn=new Mt(+Nt,+sr);sn.z=+Br;var En=this._tileCoordsToKey(sn),Un=this._tiles[En];return Un&&Un.active?(Un.retain=!0,!0):(Un&&Un.loaded&&(Un.retain=!0),Br>lt?this._retainParent(Nt,sr,Br,lt):!1)},_retainChildren:function(ee,ye,Xe,lt){for(var Nt=2*ee;Nt<2*ee+2;Nt++)for(var sr=2*ye;sr<2*ye+2;sr++){var Br=new Mt(Nt,sr);Br.z=Xe+1;var sn=this._tileCoordsToKey(Br),En=this._tiles[sn];if(En&&En.active){En.retain=!0;continue}else En&&En.loaded&&(En.retain=!0);Xe+1<lt&&this._retainChildren(Nt,sr,Xe+1,lt)}},_resetView:function(ee){var ye=ee&&(ee.pinch||ee.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),ye,ye)},_animateZoom:function(ee){this._setView(ee.center,ee.zoom,!0,ee.noUpdate)},_clampZoom:function(ee){var ye=this.options;return ye.minNativeZoom!==void 0&&ee<ye.minNativeZoom?ye.minNativeZoom:ye.maxNativeZoom!==void 0&&ye.maxNativeZoom<ee?ye.maxNativeZoom:ee},_setView:function(ee,ye,Xe,lt){var Nt=Math.round(ye);this.options.maxZoom!==void 0&&Nt>this.options.maxZoom||this.options.minZoom!==void 0&&Nt<this.options.minZoom?Nt=void 0:Nt=this._clampZoom(Nt);var sr=this.options.updateWhenZooming&&Nt!==this._tileZoom;(!lt||sr)&&(this._tileZoom=Nt,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),Nt!==void 0&&this._update(ee),Xe||this._pruneTiles(),this._noPrune=!!Xe),this._setZoomTransforms(ee,ye)},_setZoomTransforms:function(ee,ye){for(var Xe in this._levels)this._setZoomTransform(this._levels[Xe],ee,ye)},_setZoomTransform:function(ee,ye,Xe){var lt=this._map.getZoomScale(Xe,ee.zoom),Nt=ee.origin.multiplyBy(lt).subtract(this._map._getNewPixelOrigin(ye,Xe)).round();kn.any3d?Ca(ee.el,Nt,lt):ua(ee.el,Nt)},_resetGrid:function(){var ee=this._map,ye=ee.options.crs,Xe=this._tileSize=this.getTileSize(),lt=this._tileZoom,Nt=this._map.getPixelWorldBounds(this._tileZoom);Nt&&(this._globalTileRange=this._pxBoundsToTileRange(Nt)),this._wrapX=ye.wrapLng&&!this.options.noWrap&&[Math.floor(ee.project([0,ye.wrapLng[0]],lt).x/Xe.x),Math.ceil(ee.project([0,ye.wrapLng[1]],lt).x/Xe.y)],this._wrapY=ye.wrapLat&&!this.options.noWrap&&[Math.floor(ee.project([ye.wrapLat[0],0],lt).y/Xe.x),Math.ceil(ee.project([ye.wrapLat[1],0],lt).y/Xe.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(ee){var ye=this._map,Xe=ye._animatingZoom?Math.max(ye._animateToZoom,ye.getZoom()):ye.getZoom(),lt=ye.getZoomScale(Xe,this._tileZoom),Nt=ye.project(ee,this._tileZoom).floor(),sr=ye.getSize().divideBy(lt*2);return new dt(Nt.subtract(sr),Nt.add(sr))},_update:function(ee){var ye=this._map;if(ye){var Xe=this._clampZoom(ye.getZoom());if(ee===void 0&&(ee=ye.getCenter()),this._tileZoom!==void 0){var lt=this._getTiledPixelBounds(ee),Nt=this._pxBoundsToTileRange(lt),sr=Nt.getCenter(),Br=[],sn=this.options.keepBuffer,En=new dt(Nt.getBottomLeft().subtract([sn,-sn]),Nt.getTopRight().add([sn,-sn]));if(!(isFinite(Nt.min.x)&&isFinite(Nt.min.y)&&isFinite(Nt.max.x)&&isFinite(Nt.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Un in this._tiles){var li=this._tiles[Un].coords;(li.z!==this._tileZoom||!En.contains(new Mt(li.x,li.y)))&&(this._tiles[Un].current=!1)}if(Math.abs(Xe-this._tileZoom)>1){this._setView(ee,Xe);return}for(var Ai=Nt.min.y;Ai<=Nt.max.y;Ai++)for(var Ji=Nt.min.x;Ji<=Nt.max.x;Ji++){var Lo=new Mt(Ji,Ai);if(Lo.z=this._tileZoom,!!this._isValidTile(Lo)){var fo=this._tiles[this._tileCoordsToKey(Lo)];fo?fo.current=!0:Br.push(Lo)}}if(Br.sort(function(ta,da){return ta.distanceTo(sr)-da.distanceTo(sr)}),Br.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Ho=document.createDocumentFragment();for(Ji=0;Ji<Br.length;Ji++)this._addTile(Br[Ji],Ho);this._level.el.appendChild(Ho)}}}},_isValidTile:function(ee){var ye=this._map.options.crs;if(!ye.infinite){var Xe=this._globalTileRange;if(!ye.wrapLng&&(ee.x<Xe.min.x||ee.x>Xe.max.x)||!ye.wrapLat&&(ee.y<Xe.min.y||ee.y>Xe.max.y))return!1}if(!this.options.bounds)return!0;var lt=this._tileCoordsToBounds(ee);return Bt(this.options.bounds).overlaps(lt)},_keyToBounds:function(ee){return this._tileCoordsToBounds(this._keyToTileCoords(ee))},_tileCoordsToNwSe:function(ee){var ye=this._map,Xe=this.getTileSize(),lt=ee.scaleBy(Xe),Nt=lt.add(Xe),sr=ye.unproject(lt,ee.z),Br=ye.unproject(Nt,ee.z);return[sr,Br]},_tileCoordsToBounds:function(ee){var ye=this._tileCoordsToNwSe(ee),Xe=new Gt(ye[0],ye[1]);return this.options.noWrap||(Xe=this._map.wrapLatLngBounds(Xe)),Xe},_tileCoordsToKey:function(ee){return ee.x+":"+ee.y+":"+ee.z},_keyToTileCoords:function(ee){var ye=ee.split(":"),Xe=new Mt(+ye[0],+ye[1]);return Xe.z=+ye[2],Xe},_removeTile:function(ee){var ye=this._tiles[ee];ye&&(ra(ye.el),delete this._tiles[ee],this.fire("tileunload",{tile:ye.el,coords:this._keyToTileCoords(ee)}))},_initTile:function(ee){Ii(ee,"leaflet-tile");var ye=this.getTileSize();ee.style.width=ye.x+"px",ee.style.height=ye.y+"px",ee.onselectstart=T,ee.onmousemove=T,kn.ielt9&&this.options.opacity<1&&Zi(ee,this.options.opacity)},_addTile:function(ee,ye){var Xe=this._getTilePos(ee),lt=this._tileCoordsToKey(ee),Nt=this.createTile(this._wrapCoords(ee),B(this._tileReady,this,ee));this._initTile(Nt),this.createTile.length<2&&tt(B(this._tileReady,this,ee,null,Nt)),ua(Nt,Xe),this._tiles[lt]={el:Nt,coords:ee,current:!0},ye.appendChild(Nt),this.fire("tileloadstart",{tile:Nt,coords:ee})},_tileReady:function(ee,ye,Xe){ye&&this.fire("tileerror",{error:ye,tile:Xe,coords:ee});var lt=this._tileCoordsToKey(ee);Xe=this._tiles[lt],Xe&&(Xe.loaded=+new Date,this._map._fadeAnimated?(Zi(Xe.el,0),Ke(this._fadeFrame),this._fadeFrame=tt(this._updateOpacity,this)):(Xe.active=!0,this._pruneTiles()),ye||(Ii(Xe.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:Xe.el,coords:ee})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),kn.ielt9||!this._map._fadeAnimated?tt(this._pruneTiles,this):setTimeout(B(this._pruneTiles,this),250)))},_getTilePos:function(ee){return ee.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(ee){var ye=new Mt(this._wrapX?A(ee.x,this._wrapX):ee.x,this._wrapY?A(ee.y,this._wrapY):ee.y);return ye.z=ee.z,ye},_pxBoundsToTileRange:function(ee){var ye=this.getTileSize();return new dt(ee.min.unscaleBy(ye).floor(),ee.max.unscaleBy(ye).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var ee in this._tiles)if(!this._tiles[ee].loaded)return!1;return!0}});function bo(ee){return new oa(ee)}var Aa=oa.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(ee,ye){this._url=ee,ye=J(this,ye),ye.detectRetina&&kn.retina&&ye.maxZoom>0?(ye.tileSize=Math.floor(ye.tileSize/2),ye.zoomReverse?(ye.zoomOffset--,ye.minZoom=Math.min(ye.maxZoom,ye.minZoom+1)):(ye.zoomOffset++,ye.maxZoom=Math.max(ye.minZoom,ye.maxZoom-1)),ye.minZoom=Math.max(0,ye.minZoom)):ye.zoomReverse?ye.minZoom=Math.min(ye.maxZoom,ye.minZoom):ye.maxZoom=Math.max(ye.minZoom,ye.maxZoom),typeof ye.subdomains=="string"&&(ye.subdomains=ye.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(ee,ye){return this._url===ee&&ye===void 0&&(ye=!0),this._url=ee,ye||this.redraw(),this},createTile:function(ee,ye){var Xe=document.createElement("img");return Pr(Xe,"load",B(this._tileOnLoad,this,ye,Xe)),Pr(Xe,"error",B(this._tileOnError,this,ye,Xe)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(Xe.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(Xe.referrerPolicy=this.options.referrerPolicy),Xe.alt="",Xe.src=this.getTileUrl(ee),Xe},getTileUrl:function(ee){var ye={r:kn.retina?"@2x":"",s:this._getSubdomain(ee),x:ee.x,y:ee.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var Xe=this._globalTileRange.max.y-ee.y;this.options.tms&&(ye.y=Xe),ye["-y"]=Xe}return ue(this._url,M(ye,this.options))},_tileOnLoad:function(ee,ye){kn.ielt9?setTimeout(B(ee,this,null,ye),0):ee(null,ye)},_tileOnError:function(ee,ye,Xe){var lt=this.options.errorTileUrl;lt&&ye.getAttribute("src")!==lt&&(ye.src=lt),ee(Xe,ye)},_onTileRemove:function(ee){ee.tile.onload=null},_getZoomForUrl:function(){var ee=this._tileZoom,ye=this.options.maxZoom,Xe=this.options.zoomReverse,lt=this.options.zoomOffset;return Xe&&(ee=ye-ee),ee+lt},_getSubdomain:function(ee){var ye=Math.abs(ee.x+ee.y)%this.options.subdomains.length;return this.options.subdomains[ye]},_abortLoading:function(){var ee,ye;for(ee in this._tiles)if(this._tiles[ee].coords.z!==this._tileZoom&&(ye=this._tiles[ee].el,ye.onload=T,ye.onerror=T,!ye.complete)){ye.src=Ge;var Xe=this._tiles[ee].coords;ra(ye),delete this._tiles[ee],this.fire("tileabort",{tile:ye,coords:Xe})}},_removeTile:function(ee){var ye=this._tiles[ee];if(ye)return ye.el.setAttribute("src",Ge),oa.prototype._removeTile.call(this,ee)},_tileReady:function(ee,ye,Xe){if(!(!this._map||Xe&&Xe.getAttribute("src")===Ge))return oa.prototype._tileReady.call(this,ee,ye,Xe)}});function Ya(ee,ye){return new Aa(ee,ye)}var js=Aa.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(ee,ye){this._url=ee;var Xe=M({},this.defaultWmsParams);for(var lt in ye)lt in this.options||(Xe[lt]=ye[lt]);ye=J(this,ye);var Nt=ye.detectRetina&&kn.retina?2:1,sr=this.getTileSize();Xe.width=sr.x*Nt,Xe.height=sr.y*Nt,this.wmsParams=Xe},onAdd:function(ee){this._crs=this.options.crs||ee.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var ye=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[ye]=this._crs.code,Aa.prototype.onAdd.call(this,ee)},getTileUrl:function(ee){var ye=this._tileCoordsToNwSe(ee),Xe=this._crs,lt=yt(Xe.project(ye[0]),Xe.project(ye[1])),Nt=lt.min,sr=lt.max,Br=(this._wmsVersion>=1.3&&this._crs===rn?[Nt.y,Nt.x,sr.y,sr.x]:[Nt.x,Nt.y,sr.x,sr.y]).join(","),sn=Aa.prototype.getTileUrl.call(this,ee);return sn+te(this.wmsParams,sn,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Br},setParams:function(ee,ye){return M(this.wmsParams,ee),ye||this.redraw(),this}});function ss(ee,ye){return new js(ee,ye)}Aa.WMS=js,Ya.wms=ss;var Ko=on.extend({options:{padding:.1},initialize:function(ee){J(this,ee),I(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Ii(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var ee={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(ee.zoomanim=this._onAnimZoom),ee},_onAnimZoom:function(ee){this._updateTransform(ee.center,ee.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(ee,ye){var Xe=this._map.getZoomScale(ye,this._zoom),lt=this._map.getSize().multiplyBy(.5+this.options.padding),Nt=this._map.project(this._center,ye),sr=lt.multiplyBy(-Xe).add(Nt).subtract(this._map._getNewPixelOrigin(ee,ye));kn.any3d?Ca(this._container,sr,Xe):ua(this._container,sr)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var ee in this._layers)this._layers[ee]._reset()},_onZoomEnd:function(){for(var ee in this._layers)this._layers[ee]._project()},_updatePaths:function(){for(var ee in this._layers)this._layers[ee]._update()},_update:function(){var ee=this.options.padding,ye=this._map.getSize(),Xe=this._map.containerPointToLayerPoint(ye.multiplyBy(-ee)).round();this._bounds=new dt(Xe,Xe.add(ye.multiplyBy(1+ee*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),$s=Ko.extend({options:{tolerance:0},getEvents:function(){var ee=Ko.prototype.getEvents.call(this);return ee.viewprereset=this._onViewPreReset,ee},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Ko.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var ee=this._container=document.createElement("canvas");Pr(ee,"mousemove",this._onMouseMove,this),Pr(ee,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Pr(ee,"mouseout",this._handleMouseOut,this),ee._leaflet_disable_events=!0,this._ctx=ee.getContext("2d")},_destroyContainer:function(){Ke(this._redrawRequest),delete this._ctx,ra(this._container),si(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var ee;this._redrawBounds=null;for(var ye in this._layers)ee=this._layers[ye],ee._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ko.prototype._update.call(this);var ee=this._bounds,ye=this._container,Xe=ee.getSize(),lt=kn.retina?2:1;ua(ye,ee.min),ye.width=lt*Xe.x,ye.height=lt*Xe.y,ye.style.width=Xe.x+"px",ye.style.height=Xe.y+"px",kn.retina&&this._ctx.scale(2,2),this._ctx.translate(-ee.min.x,-ee.min.y),this.fire("update")}},_reset:function(){Ko.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(ee){this._updateDashArray(ee),this._layers[I(ee)]=ee;var ye=ee._order={layer:ee,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=ye),this._drawLast=ye,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(ee){this._requestRedraw(ee)},_removePath:function(ee){var ye=ee._order,Xe=ye.next,lt=ye.prev;Xe?Xe.prev=lt:this._drawLast=lt,lt?lt.next=Xe:this._drawFirst=Xe,delete ee._order,delete this._layers[I(ee)],this._requestRedraw(ee)},_updatePath:function(ee){this._extendRedrawBounds(ee),ee._project(),ee._update(),this._requestRedraw(ee)},_updateStyle:function(ee){this._updateDashArray(ee),this._requestRedraw(ee)},_updateDashArray:function(ee){if(typeof ee.options.dashArray=="string"){var ye=ee.options.dashArray.split(/[, ]+/),Xe=[],lt,Nt;for(Nt=0;Nt<ye.length;Nt++){if(lt=Number(ye[Nt]),isNaN(lt))return;Xe.push(lt)}ee.options._dashArray=Xe}else ee.options._dashArray=ee.options.dashArray},_requestRedraw:function(ee){this._map&&(this._extendRedrawBounds(ee),this._redrawRequest=this._redrawRequest||tt(this._redraw,this))},_extendRedrawBounds:function(ee){if(ee._pxBounds){var ye=(ee.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new dt,this._redrawBounds.extend(ee._pxBounds.min.subtract([ye,ye])),this._redrawBounds.extend(ee._pxBounds.max.add([ye,ye]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var ee=this._redrawBounds;if(ee){var ye=ee.getSize();this._ctx.clearRect(ee.min.x,ee.min.y,ye.x,ye.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var ee,ye=this._redrawBounds;if(this._ctx.save(),ye){var Xe=ye.getSize();this._ctx.beginPath(),this._ctx.rect(ye.min.x,ye.min.y,Xe.x,Xe.y),this._ctx.clip()}this._drawing=!0;for(var lt=this._drawFirst;lt;lt=lt.next)ee=lt.layer,(!ye||ee._pxBounds&&ee._pxBounds.intersects(ye))&&ee._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(ee,ye){if(this._drawing){var Xe,lt,Nt,sr,Br=ee._parts,sn=Br.length,En=this._ctx;if(sn){for(En.beginPath(),Xe=0;Xe<sn;Xe++){for(lt=0,Nt=Br[Xe].length;lt<Nt;lt++)sr=Br[Xe][lt],En[lt?"lineTo":"moveTo"](sr.x,sr.y);ye&&En.closePath()}this._fillStroke(En,ee)}}},_updateCircle:function(ee){if(!(!this._drawing||ee._empty())){var ye=ee._point,Xe=this._ctx,lt=Math.max(Math.round(ee._radius),1),Nt=(Math.max(Math.round(ee._radiusY),1)||lt)/lt;Nt!==1&&(Xe.save(),Xe.scale(1,Nt)),Xe.beginPath(),Xe.arc(ye.x,ye.y/Nt,lt,0,Math.PI*2,!1),Nt!==1&&Xe.restore(),this._fillStroke(Xe,ee)}},_fillStroke:function(ee,ye){var Xe=ye.options;Xe.fill&&(ee.globalAlpha=Xe.fillOpacity,ee.fillStyle=Xe.fillColor||Xe.color,ee.fill(Xe.fillRule||"evenodd")),Xe.stroke&&Xe.weight!==0&&(ee.setLineDash&&ee.setLineDash(ye.options&&ye.options._dashArray||[]),ee.globalAlpha=Xe.opacity,ee.lineWidth=Xe.weight,ee.strokeStyle=Xe.color,ee.lineCap=Xe.lineCap,ee.lineJoin=Xe.lineJoin,ee.stroke())},_onClick:function(ee){for(var ye=this._map.mouseEventToLayerPoint(ee),Xe,lt,Nt=this._drawFirst;Nt;Nt=Nt.next)Xe=Nt.layer,Xe.options.interactive&&Xe._containsPoint(ye)&&(!(ee.type==="click"||ee.type==="preclick")||!this._map._draggableMoved(Xe))&&(lt=Xe);this._fireEvent(lt?[lt]:!1,ee)},_onMouseMove:function(ee){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var ye=this._map.mouseEventToLayerPoint(ee);this._handleMouseHover(ee,ye)}},_handleMouseOut:function(ee){var ye=this._hoveredLayer;ye&&(pa(this._container,"leaflet-interactive"),this._fireEvent([ye],ee,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(ee,ye){if(!this._mouseHoverThrottled){for(var Xe,lt,Nt=this._drawFirst;Nt;Nt=Nt.next)Xe=Nt.layer,Xe.options.interactive&&Xe._containsPoint(ye)&&(lt=Xe);lt!==this._hoveredLayer&&(this._handleMouseOut(ee),lt&&(Ii(this._container,"leaflet-interactive"),this._fireEvent([lt],ee,"mouseover"),this._hoveredLayer=lt)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,ee),this._mouseHoverThrottled=!0,setTimeout(B(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(ee,ye,Xe){this._map._fireDOMEvent(ye,Xe||ye.type,ee)},_bringToFront:function(ee){var ye=ee._order;if(ye){var Xe=ye.next,lt=ye.prev;if(Xe)Xe.prev=lt;else return;lt?lt.next=Xe:Xe&&(this._drawFirst=Xe),ye.prev=this._drawLast,this._drawLast.next=ye,ye.next=null,this._drawLast=ye,this._requestRedraw(ee)}},_bringToBack:function(ee){var ye=ee._order;if(ye){var Xe=ye.next,lt=ye.prev;if(lt)lt.next=Xe;else return;Xe?Xe.prev=lt:lt&&(this._drawLast=lt),ye.prev=null,ye.next=this._drawFirst,this._drawFirst.prev=ye,this._drawFirst=ye,this._requestRedraw(ee)}}});function Gs(ee){return kn.canvas?new $s(ee):null}var Ds=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(ee){return document.createElement("<lvml:"+ee+' class="lvml">')}}catch{}return function(ee){return document.createElement("<"+ee+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),Pu={_initContainer:function(){this._container=Bi("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Ko.prototype._update.call(this),this.fire("update"))},_initPath:function(ee){var ye=ee._container=Ds("shape");Ii(ye,"leaflet-vml-shape "+(this.options.className||"")),ye.coordsize="1 1",ee._path=Ds("path"),ye.appendChild(ee._path),this._updateStyle(ee),this._layers[I(ee)]=ee},_addPath:function(ee){var ye=ee._container;this._container.appendChild(ye),ee.options.interactive&&ee.addInteractiveTarget(ye)},_removePath:function(ee){var ye=ee._container;ra(ye),ee.removeInteractiveTarget(ye),delete this._layers[I(ee)]},_updateStyle:function(ee){var ye=ee._stroke,Xe=ee._fill,lt=ee.options,Nt=ee._container;Nt.stroked=!!lt.stroke,Nt.filled=!!lt.fill,lt.stroke?(ye||(ye=ee._stroke=Ds("stroke")),Nt.appendChild(ye),ye.weight=lt.weight+"px",ye.color=lt.color,ye.opacity=lt.opacity,lt.dashArray?ye.dashStyle=fe(lt.dashArray)?lt.dashArray.join(" "):lt.dashArray.replace(/( *, *)/g," "):ye.dashStyle="",ye.endcap=lt.lineCap.replace("butt","flat"),ye.joinstyle=lt.lineJoin):ye&&(Nt.removeChild(ye),ee._stroke=null),lt.fill?(Xe||(Xe=ee._fill=Ds("fill")),Nt.appendChild(Xe),Xe.color=lt.fillColor||lt.color,Xe.opacity=lt.fillOpacity):Xe&&(Nt.removeChild(Xe),ee._fill=null)},_updateCircle:function(ee){var ye=ee._point.round(),Xe=Math.round(ee._radius),lt=Math.round(ee._radiusY||Xe);this._setPath(ee,ee._empty()?"M0 0":"AL "+ye.x+","+ye.y+" "+Xe+","+lt+" 0,"+65535*360)},_setPath:function(ee,ye){ee._path.v=ye},_bringToFront:function(ee){Ma(ee._container)},_bringToBack:function(ee){_o(ee._container)}},us=kn.vml?Ds:ur,Mo=Ko.extend({_initContainer:function(){this._container=us("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=us("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ra(this._container),si(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ko.prototype._update.call(this);var ee=this._bounds,ye=ee.getSize(),Xe=this._container;(!this._svgSize||!this._svgSize.equals(ye))&&(this._svgSize=ye,Xe.setAttribute("width",ye.x),Xe.setAttribute("height",ye.y)),ua(Xe,ee.min),Xe.setAttribute("viewBox",[ee.min.x,ee.min.y,ye.x,ye.y].join(" ")),this.fire("update")}},_initPath:function(ee){var ye=ee._path=us("path");ee.options.className&&Ii(ye,ee.options.className),ee.options.interactive&&Ii(ye,"leaflet-interactive"),this._updateStyle(ee),this._layers[I(ee)]=ee},_addPath:function(ee){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(ee._path),ee.addInteractiveTarget(ee._path)},_removePath:function(ee){ra(ee._path),ee.removeInteractiveTarget(ee._path),delete this._layers[I(ee)]},_updatePath:function(ee){ee._project(),ee._update()},_updateStyle:function(ee){var ye=ee._path,Xe=ee.options;ye&&(Xe.stroke?(ye.setAttribute("stroke",Xe.color),ye.setAttribute("stroke-opacity",Xe.opacity),ye.setAttribute("stroke-width",Xe.weight),ye.setAttribute("stroke-linecap",Xe.lineCap),ye.setAttribute("stroke-linejoin",Xe.lineJoin),Xe.dashArray?ye.setAttribute("stroke-dasharray",Xe.dashArray):ye.removeAttribute("stroke-dasharray"),Xe.dashOffset?ye.setAttribute("stroke-dashoffset",Xe.dashOffset):ye.removeAttribute("stroke-dashoffset")):ye.setAttribute("stroke","none"),Xe.fill?(ye.setAttribute("fill",Xe.fillColor||Xe.color),ye.setAttribute("fill-opacity",Xe.fillOpacity),ye.setAttribute("fill-rule",Xe.fillRule||"evenodd")):ye.setAttribute("fill","none"))},_updatePoly:function(ee,ye){this._setPath(ee,tr(ee._parts,ye))},_updateCircle:function(ee){var ye=ee._point,Xe=Math.max(Math.round(ee._radius),1),lt=Math.max(Math.round(ee._radiusY),1)||Xe,Nt="a"+Xe+","+lt+" 0 1,0 ",sr=ee._empty()?"M0 0":"M"+(ye.x-Xe)+","+ye.y+Nt+Xe*2+",0 "+Nt+-Xe*2+",0 ";this._setPath(ee,sr)},_setPath:function(ee,ye){ee._path.setAttribute("d",ye)},_bringToFront:function(ee){Ma(ee._path)},_bringToBack:function(ee){_o(ee._path)}});kn.vml&&Mo.include(Pu);function Eo(ee){return kn.svg||kn.vml?new Mo(ee):null}Vi.include({getRenderer:function(ee){var ye=ee.options.renderer||this._getPaneRenderer(ee.options.pane)||this.options.renderer||this._renderer;return ye||(ye=this._renderer=this._createRenderer()),this.hasLayer(ye)||this.addLayer(ye),ye},_getPaneRenderer:function(ee){if(ee==="overlayPane"||ee===void 0)return!1;var ye=this._paneRenderers[ee];return ye===void 0&&(ye=this._createRenderer({pane:ee}),this._paneRenderers[ee]=ye),ye},_createRenderer:function(ee){return this.options.preferCanvas&&Gs(ee)||Eo(ee)}});var Rs=St.extend({initialize:function(ee,ye){St.prototype.initialize.call(this,this._boundsToLatLngs(ee),ye)},setBounds:function(ee){return this.setLatLngs(this._boundsToLatLngs(ee))},_boundsToLatLngs:function(ee){return ee=Bt(ee),[ee.getSouthWest(),ee.getNorthWest(),ee.getNorthEast(),ee.getSouthEast()]}});function hs(ee,ye){return new Rs(ee,ye)}Mo.create=us,Mo.pointsToPath=tr,Ht.geometryToLayer=hr,Ht.coordsToLatLng=Sn,Ht.coordsToLatLngs=Xn,Ht.latLngToCoords=hi,Ht.latLngsToCoords=Di,Ht.getFeature=ki,Ht.asFeature=na,Vi.mergeOptions({boxZoom:!0});var Oi=Za.extend({initialize:function(ee){this._map=ee,this._container=ee._container,this._pane=ee._panes.overlayPane,this._resetStateTimeout=0,ee.on("unload",this._destroy,this)},addHooks:function(){Pr(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){si(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ra(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(ee){if(!ee.shiftKey||ee.which!==1&&ee.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Qa(),Ga(),this._startPoint=this._map.mouseEventToContainerPoint(ee),Pr(document,{contextmenu:Xa,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(ee){this._moved||(this._moved=!0,this._box=Bi("div","leaflet-zoom-box",this._container),Ii(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(ee);var ye=new dt(this._point,this._startPoint),Xe=ye.getSize();ua(this._box,ye.min),this._box.style.width=Xe.x+"px",this._box.style.height=Xe.y+"px"},_finish:function(){this._moved&&(ra(this._box),pa(this._container,"leaflet-crosshair")),Sa(),oo(),si(document,{contextmenu:Xa,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(ee){if(!(ee.which!==1&&ee.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(B(this._resetState,this),0);var ye=new Gt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(ye).fire("boxzoomend",{boxZoomBounds:ye})}},_onKeyDown:function(ee){ee.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Vi.addInitHook("addHandler","boxZoom",Oi),Vi.mergeOptions({doubleClickZoom:!0});var Ks=Za.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(ee){var ye=this._map,Xe=ye.getZoom(),lt=ye.options.zoomDelta,Nt=ee.originalEvent.shiftKey?Xe-lt:Xe+lt;ye.options.doubleClickZoom==="center"?ye.setZoom(Nt):ye.setZoomAround(ee.containerPoint,Nt)}});Vi.addInitHook("addHandler","doubleClickZoom",Ks),Vi.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var ls=Za.extend({addHooks:function(){if(!this._draggable){var ee=this._map;this._draggable=new mt(ee._mapPane,ee._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),ee.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),ee.on("zoomend",this._onZoomEnd,this),ee.whenReady(this._onZoomEnd,this))}Ii(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){pa(this._map._container,"leaflet-grab"),pa(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var ee=this._map;if(ee._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var ye=Bt(this._map.options.maxBounds);this._offsetLimit=yt(this._map.latLngToContainerPoint(ye.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(ye.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;ee.fire("movestart").fire("dragstart"),ee.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(ee){if(this._map.options.inertia){var ye=this._lastTime=+new Date,Xe=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(Xe),this._times.push(ye),this._prunePositions(ye)}this._map.fire("move",ee).fire("drag",ee)},_prunePositions:function(ee){for(;this._positions.length>1&&ee-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var ee=this._map.getSize().divideBy(2),ye=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=ye.subtract(ee).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(ee,ye){return ee-(ee-ye)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var ee=this._draggable._newPos.subtract(this._draggable._startPos),ye=this._offsetLimit;ee.x<ye.min.x&&(ee.x=this._viscousLimit(ee.x,ye.min.x)),ee.y<ye.min.y&&(ee.y=this._viscousLimit(ee.y,ye.min.y)),ee.x>ye.max.x&&(ee.x=this._viscousLimit(ee.x,ye.max.x)),ee.y>ye.max.y&&(ee.y=this._viscousLimit(ee.y,ye.max.y)),this._draggable._newPos=this._draggable._startPos.add(ee)}},_onPreDragWrap:function(){var ee=this._worldWidth,ye=Math.round(ee/2),Xe=this._initialWorldOffset,lt=this._draggable._newPos.x,Nt=(lt-ye+Xe)%ee+ye-Xe,sr=(lt+ye+Xe)%ee-ye-Xe,Br=Math.abs(Nt+Xe)<Math.abs(sr+Xe)?Nt:sr;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Br},_onDragEnd:function(ee){var ye=this._map,Xe=ye.options,lt=!Xe.inertia||ee.noInertia||this._times.length<2;if(ye.fire("dragend",ee),lt)ye.fire("moveend");else{this._prunePositions(+new Date);var Nt=this._lastPos.subtract(this._positions[0]),sr=(this._lastTime-this._times[0])/1e3,Br=Xe.easeLinearity,sn=Nt.multiplyBy(Br/sr),En=sn.distanceTo([0,0]),Un=Math.min(Xe.inertiaMaxSpeed,En),li=sn.multiplyBy(Un/En),Ai=Un/(Xe.inertiaDeceleration*Br),Ji=li.multiplyBy(-Ai/2).round();!Ji.x&&!Ji.y?ye.fire("moveend"):(Ji=ye._limitOffset(Ji,ye.options.maxBounds),tt(function(){ye.panBy(Ji,{duration:Ai,easeLinearity:Br,noMoveStart:!0,animate:!0})}))}}});Vi.addInitHook("addHandler","dragging",ls),Vi.mergeOptions({keyboard:!0,keyboardPanDelta:80});var gs=Za.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(ee){this._map=ee,this._setPanDelta(ee.options.keyboardPanDelta),this._setZoomDelta(ee.options.zoomDelta)},addHooks:function(){var ee=this._map._container;ee.tabIndex<=0&&(ee.tabIndex="0"),Pr(ee,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),si(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var ee=document.body,ye=document.documentElement,Xe=ee.scrollTop||ye.scrollTop,lt=ee.scrollLeft||ye.scrollLeft;this._map._container.focus(),window.scrollTo(lt,Xe)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(ee){var ye=this._panKeys={},Xe=this.keyCodes,lt,Nt;for(lt=0,Nt=Xe.left.length;lt<Nt;lt++)ye[Xe.left[lt]]=[-1*ee,0];for(lt=0,Nt=Xe.right.length;lt<Nt;lt++)ye[Xe.right[lt]]=[ee,0];for(lt=0,Nt=Xe.down.length;lt<Nt;lt++)ye[Xe.down[lt]]=[0,ee];for(lt=0,Nt=Xe.up.length;lt<Nt;lt++)ye[Xe.up[lt]]=[0,-1*ee]},_setZoomDelta:function(ee){var ye=this._zoomKeys={},Xe=this.keyCodes,lt,Nt;for(lt=0,Nt=Xe.zoomIn.length;lt<Nt;lt++)ye[Xe.zoomIn[lt]]=ee;for(lt=0,Nt=Xe.zoomOut.length;lt<Nt;lt++)ye[Xe.zoomOut[lt]]=-ee},_addHooks:function(){Pr(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){si(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(ee){if(!(ee.altKey||ee.ctrlKey||ee.metaKey)){var ye=ee.keyCode,Xe=this._map,lt;if(ye in this._panKeys){if(!Xe._panAnim||!Xe._panAnim._inProgress)if(lt=this._panKeys[ye],ee.shiftKey&&(lt=ar(lt).multiplyBy(3)),Xe.options.maxBounds&&(lt=Xe._limitOffset(ar(lt),Xe.options.maxBounds)),Xe.options.worldCopyJump){var Nt=Xe.wrapLatLng(Xe.unproject(Xe.project(Xe.getCenter()).add(lt)));Xe.panTo(Nt)}else Xe.panBy(lt)}else if(ye in this._zoomKeys)Xe.setZoom(Xe.getZoom()+(ee.shiftKey?3:1)*this._zoomKeys[ye]);else if(ye===27&&Xe._popup&&Xe._popup.options.closeOnEscapeKey)Xe.closePopup();else return;Xa(ee)}}});Vi.addInitHook("addHandler","keyboard",gs),Vi.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var to=Za.extend({addHooks:function(){Pr(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){si(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(ee){var ye=Wa(ee),Xe=this._map.options.wheelDebounceTime;this._delta+=ye,this._lastMousePos=this._map.mouseEventToContainerPoint(ee),this._startTime||(this._startTime=+new Date);var lt=Math.max(Xe-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(B(this._performZoom,this),lt),Xa(ee)},_performZoom:function(){var ee=this._map,ye=ee.getZoom(),Xe=this._map.options.zoomSnap||0;ee._stop();var lt=this._delta/(this._map.options.wheelPxPerZoomLevel*4),Nt=4*Math.log(2/(1+Math.exp(-Math.abs(lt))))/Math.LN2,sr=Xe?Math.ceil(Nt/Xe)*Xe:Nt,Br=ee._limitZoom(ye+(this._delta>0?sr:-sr))-ye;this._delta=0,this._startTime=null,Br&&(ee.options.scrollWheelZoom==="center"?ee.setZoom(ye+Br):ee.setZoomAround(this._lastMousePos,ye+Br))}});Vi.addInitHook("addHandler","scrollWheelZoom",to);var Bs=600;Vi.mergeOptions({tapHold:kn.touchNative&&kn.safari&&kn.mobile,tapTolerance:15});var qo=Za.extend({addHooks:function(){Pr(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){si(this._map._container,"touchstart",this._onDown,this)},_onDown:function(ee){if(clearTimeout(this._holdTimeout),ee.touches.length===1){var ye=ee.touches[0];this._startPos=this._newPos=new Mt(ye.clientX,ye.clientY),this._holdTimeout=setTimeout(B(function(){this._cancel(),this._isTapValid()&&(Pr(document,"touchend",ea),Pr(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",ye))},this),Bs),Pr(document,"touchend touchcancel contextmenu",this._cancel,this),Pr(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function ee(){si(document,"touchend",ea),si(document,"touchend touchcancel",ee)},_cancel:function(){clearTimeout(this._holdTimeout),si(document,"touchend touchcancel contextmenu",this._cancel,this),si(document,"touchmove",this._onMove,this)},_onMove:function(ee){var ye=ee.touches[0];this._newPos=new Mt(ye.clientX,ye.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(ee,ye){var Xe=new MouseEvent(ee,{bubbles:!0,cancelable:!0,view:window,screenX:ye.screenX,screenY:ye.screenY,clientX:ye.clientX,clientY:ye.clientY});Xe._simulated=!0,ye.target.dispatchEvent(Xe)}});Vi.addInitHook("addHandler","tapHold",qo),Vi.mergeOptions({touchZoom:kn.touch,bounceAtZoomLimits:!0});var Qo=Za.extend({addHooks:function(){Ii(this._map._container,"leaflet-touch-zoom"),Pr(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){pa(this._map._container,"leaflet-touch-zoom"),si(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(ee){var ye=this._map;if(!(!ee.touches||ee.touches.length!==2||ye._animatingZoom||this._zooming)){var Xe=ye.mouseEventToContainerPoint(ee.touches[0]),lt=ye.mouseEventToContainerPoint(ee.touches[1]);this._centerPoint=ye.getSize()._divideBy(2),this._startLatLng=ye.containerPointToLatLng(this._centerPoint),ye.options.touchZoom!=="center"&&(this._pinchStartLatLng=ye.containerPointToLatLng(Xe.add(lt)._divideBy(2))),this._startDist=Xe.distanceTo(lt),this._startZoom=ye.getZoom(),this._moved=!1,this._zooming=!0,ye._stop(),Pr(document,"touchmove",this._onTouchMove,this),Pr(document,"touchend touchcancel",this._onTouchEnd,this),ea(ee)}},_onTouchMove:function(ee){if(!(!ee.touches||ee.touches.length!==2||!this._zooming)){var ye=this._map,Xe=ye.mouseEventToContainerPoint(ee.touches[0]),lt=ye.mouseEventToContainerPoint(ee.touches[1]),Nt=Xe.distanceTo(lt)/this._startDist;if(this._zoom=ye.getScaleZoom(Nt,this._startZoom),!ye.options.bounceAtZoomLimits&&(this._zoom<ye.getMinZoom()&&Nt<1||this._zoom>ye.getMaxZoom()&&Nt>1)&&(this._zoom=ye._limitZoom(this._zoom)),ye.options.touchZoom==="center"){if(this._center=this._startLatLng,Nt===1)return}else{var sr=Xe._add(lt)._divideBy(2)._subtract(this._centerPoint);if(Nt===1&&sr.x===0&&sr.y===0)return;this._center=ye.unproject(ye.project(this._pinchStartLatLng,this._zoom).subtract(sr),this._zoom)}this._moved||(ye._moveStart(!0,!1),this._moved=!0),Ke(this._animRequest);var Br=B(ye._move,ye,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=tt(Br,this,!0),ea(ee)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Ke(this._animRequest),si(document,"touchmove",this._onTouchMove,this),si(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Vi.addInitHook("addHandler","touchZoom",Qo),Vi.BoxZoom=Oi,Vi.DoubleClickZoom=Ks,Vi.Drag=ls,Vi.Keyboard=gs,Vi.ScrollWheelZoom=to,Vi.TapHold=qo,Vi.TouchZoom=Qo,r.Bounds=dt,r.Browser=kn,r.CRS=It,r.Canvas=$s,r.Circle=Qi,r.CircleMarker=Pa,r.Class=Qe,r.Control=gi,r.DivIcon=Jn,r.DivOverlay=er,r.DomEvent=Zo,r.DomUtil=Ur,r.Draggable=mt,r.Evented=ut,r.FeatureGroup=$n,r.GeoJSON=Ht,r.GridLayer=oa,r.Handler=Za,r.Icon=ni,r.ImageOverlay=xo,r.LatLng=Dt,r.LatLngBounds=Gt,r.Layer=on,r.LayerGroup=Cn,r.LineUtil=rr,r.Map=Vi,r.Marker=Ki,r.Mixin=Ne,r.Path=La,r.Point=Mt,r.PolyUtil=or,r.Polygon=St,r.Polyline=zo,r.Popup=kr,r.PosAnimation=Yo,r.Projection=Lr,r.Rectangle=Rs,r.Renderer=Ko,r.SVG=Mo,r.SVGOverlay=Ao,r.TileLayer=Aa,r.Tooltip=Ln,r.Transformation=st,r.Util=Ze,r.VideoOverlay=mo,r.bind=B,r.bounds=yt,r.canvas=Gs,r.circle=_s,r.circleMarker=Go,r.control=so,r.divIcon=bi,r.extend=M,r.featureGroup=Rn,r.geoJSON=Ia,r.geoJson=uo,r.gridLayer=bo,r.icon=_i,r.imageOverlay=os,r.latLng=Ct,r.latLngBounds=Bt,r.layerGroup=dn,r.map=Yr,r.marker=eo,r.point=ar,r.polygon=xt,r.polyline=Bu,r.popup=xn,r.rectangle=hs,r.setOptions=J,r.stamp=I,r.svg=Eo,r.svgOverlay=ii,r.tileLayer=Ya,r.tooltip=Gn,r.transformation=it,r.version=b,r.videoOverlay=Wo;var Ts=window.L;r.noConflict=function(){return window.L=Ts,this},window.L=r}))})(leafletSrc$1,leafletSrc$1.exports)),leafletSrc$1.exports}var leafletSrcExports=requireLeafletSrc();const L$1=getDefaultExportFromCjs(leafletSrcExports);function createElementObject(y,x,r){return Object.freeze({instance:y,context:x,container:r})}function createElementHook(y,x){return x==null?function(b,M){const z=reactExports.useRef(void 0);return z.current||(z.current=y(b,M)),z}:function(b,M){const z=reactExports.useRef(void 0);z.current||(z.current=y(b,M));const B=reactExports.useRef(b),{instance:R}=z.current;return reactExports.useEffect(function(){B.current!==b&&(x(R,b,B.current),B.current=b)},[R,b,x]),z}}function useLayerLifecycle(y,x){reactExports.useEffect(function(){return(x.layerContainer??x.map).addLayer(y.instance),function(){x.layerContainer?.removeLayer(y.instance),x.map.removeLayer(y.instance)}},[x,y])}function createLayerHook(y){return function(r){const b=useLeafletContext(),M=y(withPane(r,b),b);return useAttribution(b.map,r.attribution),useEventHandlers(M.current,r.eventHandlers),useLayerLifecycle(M.current,b),M}}function usePathOptions(y,x){const r=reactExports.useRef(void 0);reactExports.useEffect(function(){if(x.pathOptions!==r.current){const M=x.pathOptions??{};y.instance.setStyle(M),r.current=M}},[y,x])}function createPathHook(y){return function(r){const b=useLeafletContext(),M=y(withPane(r,b),b);return useEventHandlers(M.current,r.eventHandlers),useLayerLifecycle(M.current,b),usePathOptions(M.current,r),M}}function createOverlayComponent(y,x){const r=createElementHook(y),b=createDivOverlayHook(r,x);return createDivOverlayComponent(b)}function createPathComponent(y,x){const r=createElementHook(y,x),b=createPathHook(r);return createContainerComponent(b)}function createTileLayerComponent(y,x){const r=createElementHook(y,x),b=createLayerHook(r);return createLeafComponent(b)}function updateGridLayer(y,x,r){const{opacity:b,zIndex:M}=x;b!=null&&b!==r.opacity&&y.setOpacity(b),M!=null&&M!==r.zIndex&&y.setZIndex(M)}function useMap(){return useLeafletContext().map}const CircleMarker=createPathComponent(function({center:x,children:r,...b},M){const z=new leafletSrcExports.CircleMarker(x,b);return createElementObject(z,extendContext(M,{overlayContainer:z}))},updateCircle),FeatureGroup=createPathComponent(function({children:x,...r},b){const M=new leafletSrcExports.FeatureGroup([],r);return createElementObject(M,extendContext(b,{layerContainer:M,overlayContainer:M}))}),useLayersControlElement=createElementHook(function({children:x,...r},b){const M=new leafletSrcExports.Control.Layers(void 0,void 0,r);return createElementObject(M,extendContext(b,{layersControl:M}))},function(x,r,b){r.collapsed!==b.collapsed&&(r.collapsed===!0?x.collapse():x.expand())}),useLayersControl=createControlHook(useLayersControlElement),LayersControl=createContainerComponent(useLayersControl);function createControlledLayer(y){return function(r){const b=useLeafletContext(),M=reactExports.useRef(r),[z,B]=reactExports.useState(null),{layersControl:R,map:I}=b,O=reactExports.useCallback(U=>{R!=null&&(M.current.checked&&I.addLayer(U),y(R,U,M.current.name),B(U))},[y,R,I]),A=reactExports.useCallback(U=>{R?.removeLayer(U),B(null)},[R]),T=reactExports.useMemo(()=>extendContext(b,{layerContainer:{addLayer:O,removeLayer:A}}),[b,O,A]);return reactExports.useEffect(()=>{z!==null&&M.current!==r&&(r.checked===!0&&(M.current.checked==null||M.current.checked===!1)?I.addLayer(z):M.current.checked===!0&&(r.checked==null||r.checked===!1)&&I.removeLayer(z),M.current=r)}),r.children?React.createElement(LeafletContext,{value:T},r.children):null}}LayersControl.BaseLayer=createControlledLayer(function(x,r,b){x.addBaseLayer(r,b)});LayersControl.Overlay=createControlledLayer(function(x,r,b){x.addOverlay(r,b)});function MapContainerComponent({bounds:y,boundsOptions:x,center:r,children:b,className:M,id:z,placeholder:B,style:R,whenReady:I,zoom:O,...A},T){const[U]=reactExports.useState({className:M,id:z,style:R}),[q,K]=reactExports.useState(null),J=reactExports.useRef(void 0);reactExports.useImperativeHandle(T,()=>q?.map??null,[q]);const te=reactExports.useCallback(ue=>{if(ue!==null&&!J.current){const fe=new leafletSrcExports.Map(ue,A);J.current=fe,r!=null&&O!=null?fe.setView(r,O):y!=null&&fe.fitBounds(y,x),I!=null&&fe.whenReady(I),K(createLeafletContext(fe))}},[]);reactExports.useEffect(()=>()=>{q?.map.remove()},[q]);const oe=q?React.createElement(LeafletContext,{value:q},b):B??null;return React.createElement("div",{...U,ref:te},oe)}const MapContainer=reactExports.forwardRef(MapContainerComponent),Popup=createOverlayComponent(function(x,r){const b=new leafletSrcExports.Popup(x,r.overlayContainer);return createElementObject(b,r)},function(x,r,{position:b},M){reactExports.useEffect(function(){const{instance:B}=x;function R(O){O.popup===B&&(B.update(),M(!0))}function I(O){O.popup===B&&M(!1)}return r.map.on({popupopen:R,popupclose:I}),r.overlayContainer==null?(b!=null&&B.setLatLng(b),B.openOn(r.map)):r.overlayContainer.bindPopup(B),function(){r.map.off({popupopen:R,popupclose:I}),r.overlayContainer?.unbindPopup(),r.map.removeLayer(B)}},[x,r,M,b])}),TileLayer=createTileLayerComponent(function({url:x,...r},b){const M=new leafletSrcExports.TileLayer(x,withPane(r,b));return createElementObject(M,b)},function(x,r,b){updateGridLayer(x,r,b);const{url:M}=r;M!=null&&M!==b.url&&x.setUrl(M)});var leafletGeoman={},hasRequiredLeafletGeoman;function requireLeafletGeoman(){return hasRequiredLeafletGeoman||(hasRequiredLeafletGeoman=1,(()=>{var y=Object.create,x=Object.defineProperty,r=Object.getOwnPropertyDescriptor,b=Object.getOwnPropertyNames,M=Object.getPrototypeOf,z=Object.prototype.hasOwnProperty,B=(ne,pe)=>()=>(pe||ne((pe={exports:{}}).exports,pe),pe.exports),R=(ne,pe,Ue,qe)=>{if(pe&&typeof pe=="object"||typeof pe=="function")for(let $e of b(pe))!z.call(ne,$e)&&$e!==Ue&&x(ne,$e,{get:()=>pe[$e],enumerable:!(qe=r(pe,$e))||qe.enumerable});return ne},I=(ne,pe,Ue)=>(Ue=ne!=null?y(M(ne)):{},R(pe||!ne||!ne.__esModule?x(Ue,"default",{value:ne,enumerable:!0}):Ue,ne)),O=B((ne,pe)=>{function Ue(){this.__data__=[],this.size=0}pe.exports=Ue}),A=B((ne,pe)=>{function Ue(qe,$e){return qe===$e||qe!==qe&&$e!==$e}pe.exports=Ue}),T=B((ne,pe)=>{var Ue=A();function qe($e,ht){for(var Tt=$e.length;Tt--;)if(Ue($e[Tt][0],ht))return Tt;return-1}pe.exports=qe}),U=B((ne,pe)=>{var Ue=T(),qe=Array.prototype,$e=qe.splice;function ht(Tt){var Ot=this.__data__,Kt=Ue(Ot,Tt);if(Kt<0)return!1;var ir=Ot.length-1;return Kt==ir?Ot.pop():$e.call(Ot,Kt,1),--this.size,!0}pe.exports=ht}),q=B((ne,pe)=>{var Ue=T();function qe($e){var ht=this.__data__,Tt=Ue(ht,$e);return Tt<0?void 0:ht[Tt][1]}pe.exports=qe}),K=B((ne,pe)=>{var Ue=T();function qe($e){return Ue(this.__data__,$e)>-1}pe.exports=qe}),J=B((ne,pe)=>{var Ue=T();function qe($e,ht){var Tt=this.__data__,Ot=Ue(Tt,$e);return Ot<0?(++this.size,Tt.push([$e,ht])):Tt[Ot][1]=ht,this}pe.exports=qe}),te=B((ne,pe)=>{var Ue=O(),qe=U(),$e=q(),ht=K(),Tt=J();function Ot(Kt){var ir=-1,Rr=Kt==null?0:Kt.length;for(this.clear();++ir<Rr;){var Mr=Kt[ir];this.set(Mr[0],Mr[1])}}Ot.prototype.clear=Ue,Ot.prototype.delete=qe,Ot.prototype.get=$e,Ot.prototype.has=ht,Ot.prototype.set=Tt,pe.exports=Ot}),oe=B((ne,pe)=>{var Ue=te();function qe(){this.__data__=new Ue,this.size=0}pe.exports=qe}),ue=B((ne,pe)=>{function Ue(qe){var $e=this.__data__,ht=$e.delete(qe);return this.size=$e.size,ht}pe.exports=Ue}),fe=B((ne,pe)=>{function Ue(qe){return this.__data__.get(qe)}pe.exports=Ue}),Le=B((ne,pe)=>{function Ue(qe){return this.__data__.has(qe)}pe.exports=Ue}),Ge=B((ne,pe)=>{var Ue=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal;pe.exports=Ue}),ze=B((ne,pe)=>{var Ue=Ge(),qe=typeof self=="object"&&self&&self.Object===Object&&self,$e=Ue||qe||Function("return this")();pe.exports=$e}),je=B((ne,pe)=>{var Ue=ze(),qe=Ue.Symbol;pe.exports=qe}),Be=B((ne,pe)=>{var Ue=je(),qe=Object.prototype,$e=qe.hasOwnProperty,ht=qe.toString,Tt=Ue?Ue.toStringTag:void 0;function Ot(Kt){var ir=$e.call(Kt,Tt),Rr=Kt[Tt];try{Kt[Tt]=void 0;var Mr=!0}catch{}var pn=ht.call(Kt);return Mr&&(ir?Kt[Tt]=Rr:delete Kt[Tt]),pn}pe.exports=Ot}),_e=B((ne,pe)=>{var Ue=Object.prototype,qe=Ue.toString;function $e(ht){return qe.call(ht)}pe.exports=$e}),He=B((ne,pe)=>{var Ue=je(),qe=Be(),$e=_e(),ht="[object Null]",Tt="[object Undefined]",Ot=Ue?Ue.toStringTag:void 0;function Kt(ir){return ir==null?ir===void 0?Tt:ht:Ot&&Ot in Object(ir)?qe(ir):$e(ir)}pe.exports=Kt}),tt=B((ne,pe)=>{function Ue(qe){var $e=typeof qe;return qe!=null&&($e=="object"||$e=="function")}pe.exports=Ue}),Ke=B((ne,pe)=>{var Ue=He(),qe=tt(),$e="[object AsyncFunction]",ht="[object Function]",Tt="[object GeneratorFunction]",Ot="[object Proxy]";function Kt(ir){if(!qe(ir))return!1;var Rr=Ue(ir);return Rr==ht||Rr==Tt||Rr==$e||Rr==Ot}pe.exports=Kt}),Ze=B((ne,pe)=>{var Ue=ze(),qe=Ue["__core-js_shared__"];pe.exports=qe}),Qe=B((ne,pe)=>{var Ue=Ze(),qe=(function(){var ht=/[^.]+$/.exec(Ue&&Ue.keys&&Ue.keys.IE_PROTO||"");return ht?"Symbol(src)_1."+ht:""})();function $e(ht){return!!qe&&qe in ht}pe.exports=$e}),vt=B((ne,pe)=>{var Ue=Function.prototype,qe=Ue.toString;function $e(ht){if(ht!=null){try{return qe.call(ht)}catch{}try{return ht+""}catch{}}return""}pe.exports=$e}),pt=B((ne,pe)=>{var Ue=Ke(),qe=Qe(),$e=tt(),ht=vt(),Tt=/[\\^$.*+?()[\]{}|]/g,Ot=/^\[object .+?Constructor\]$/,Kt=Function.prototype,ir=Object.prototype,Rr=Kt.toString,Mr=ir.hasOwnProperty,pn=RegExp("^"+Rr.call(Mr).replace(Tt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function bn(Zn){if(!$e(Zn)||qe(Zn))return!1;var ci=Ue(Zn)?pn:Ot;return ci.test(ht(Zn))}pe.exports=bn}),ut=B((ne,pe)=>{function Ue(qe,$e){return qe?.[$e]}pe.exports=Ue}),Mt=B((ne,pe)=>{var Ue=pt(),qe=ut();function $e(ht,Tt){var Ot=qe(ht,Tt);return Ue(Ot)?Ot:void 0}pe.exports=$e}),bt=B((ne,pe)=>{var Ue=Mt(),qe=ze(),$e=Ue(qe,"Map");pe.exports=$e}),ar=B((ne,pe)=>{var Ue=Mt(),qe=Ue(Object,"create");pe.exports=qe}),dt=B((ne,pe)=>{var Ue=ar();function qe(){this.__data__=Ue?Ue(null):{},this.size=0}pe.exports=qe}),yt=B((ne,pe)=>{function Ue(qe){var $e=this.has(qe)&&delete this.__data__[qe];return this.size-=$e?1:0,$e}pe.exports=Ue}),Gt=B((ne,pe)=>{var Ue=ar(),qe="__lodash_hash_undefined__",$e=Object.prototype,ht=$e.hasOwnProperty;function Tt(Ot){var Kt=this.__data__;if(Ue){var ir=Kt[Ot];return ir===qe?void 0:ir}return ht.call(Kt,Ot)?Kt[Ot]:void 0}pe.exports=Tt}),Bt=B((ne,pe)=>{var Ue=ar(),qe=Object.prototype,$e=qe.hasOwnProperty;function ht(Tt){var Ot=this.__data__;return Ue?Ot[Tt]!==void 0:$e.call(Ot,Tt)}pe.exports=ht}),Dt=B((ne,pe)=>{var Ue=ar(),qe="__lodash_hash_undefined__";function $e(ht,Tt){var Ot=this.__data__;return this.size+=this.has(ht)?0:1,Ot[ht]=Ue&&Tt===void 0?qe:Tt,this}pe.exports=$e}),Ct=B((ne,pe)=>{var Ue=dt(),qe=yt(),$e=Gt(),ht=Bt(),Tt=Dt();function Ot(Kt){var ir=-1,Rr=Kt==null?0:Kt.length;for(this.clear();++ir<Rr;){var Mr=Kt[ir];this.set(Mr[0],Mr[1])}}Ot.prototype.clear=Ue,Ot.prototype.delete=qe,Ot.prototype.get=$e,Ot.prototype.has=ht,Ot.prototype.set=Tt,pe.exports=Ot}),It=B((ne,pe)=>{var Ue=Ct(),qe=te(),$e=bt();function ht(){this.size=0,this.__data__={hash:new Ue,map:new($e||qe),string:new Ue}}pe.exports=ht}),lr=B((ne,pe)=>{function Ue(qe){var $e=typeof qe;return $e=="string"||$e=="number"||$e=="symbol"||$e=="boolean"?qe!=="__proto__":qe===null}pe.exports=Ue}),Je=B((ne,pe)=>{var Ue=lr();function qe($e,ht){var Tt=$e.__data__;return Ue(ht)?Tt[typeof ht=="string"?"string":"hash"]:Tt.map}pe.exports=qe}),Ve=B((ne,pe)=>{var Ue=Je();function qe($e){var ht=Ue(this,$e).delete($e);return this.size-=ht?1:0,ht}pe.exports=qe}),st=B((ne,pe)=>{var Ue=Je();function qe($e){return Ue(this,$e).get($e)}pe.exports=qe}),it=B((ne,pe)=>{var Ue=Je();function qe($e){return Ue(this,$e).has($e)}pe.exports=qe}),Wt=B((ne,pe)=>{var Ue=Je();function qe($e,ht){var Tt=Ue(this,$e),Ot=Tt.size;return Tt.set($e,ht),this.size+=Tt.size==Ot?0:1,this}pe.exports=qe}),rt=B((ne,pe)=>{var Ue=It(),qe=Ve(),$e=st(),ht=it(),Tt=Wt();function Ot(Kt){var ir=-1,Rr=Kt==null?0:Kt.length;for(this.clear();++ir<Rr;){var Mr=Kt[ir];this.set(Mr[0],Mr[1])}}Ot.prototype.clear=Ue,Ot.prototype.delete=qe,Ot.prototype.get=$e,Ot.prototype.has=ht,Ot.prototype.set=Tt,pe.exports=Ot}),ur=B((ne,pe)=>{var Ue=te(),qe=bt(),$e=rt(),ht=200;function Tt(Ot,Kt){var ir=this.__data__;if(ir instanceof Ue){var Rr=ir.__data__;if(!qe||Rr.length<ht-1)return Rr.push([Ot,Kt]),this.size=++ir.size,this;ir=this.__data__=new $e(Rr)}return ir.set(Ot,Kt),this.size=ir.size,this}pe.exports=Tt}),tr=B((ne,pe)=>{var Ue=te(),qe=oe(),$e=ue(),ht=fe(),Tt=Le(),Ot=ur();function Kt(ir){var Rr=this.__data__=new Ue(ir);this.size=Rr.size}Kt.prototype.clear=qe,Kt.prototype.delete=$e,Kt.prototype.get=ht,Kt.prototype.has=Tt,Kt.prototype.set=Ot,pe.exports=Kt}),Ft=B((ne,pe)=>{var Ue=Mt(),qe=(function(){try{var $e=Ue(Object,"defineProperty");return $e({},"",{}),$e}catch{}})();pe.exports=qe}),Jt=B((ne,pe)=>{var Ue=Ft();function qe($e,ht,Tt){ht=="__proto__"&&Ue?Ue($e,ht,{configurable:!0,enumerable:!0,value:Tt,writable:!0}):$e[ht]=Tt}pe.exports=qe}),et=B((ne,pe)=>{var Ue=Jt(),qe=A();function $e(ht,Tt,Ot){(Ot!==void 0&&!qe(ht[Tt],Ot)||Ot===void 0&&!(Tt in ht))&&Ue(ht,Tt,Ot)}pe.exports=$e}),gt=B((ne,pe)=>{function Ue(qe){return function($e,ht,Tt){for(var Ot=-1,Kt=Object($e),ir=Tt($e),Rr=ir.length;Rr--;){var Mr=ir[qe?Rr:++Ot];if(ht(Kt[Mr],Mr,Kt)===!1)break}return $e}}pe.exports=Ue}),Et=B((ne,pe)=>{var Ue=gt(),qe=Ue();pe.exports=qe}),Xt=B((ne,pe)=>{var Ue=ze(),qe=typeof ne=="object"&&ne&&!ne.nodeType&&ne,$e=qe&&typeof pe=="object"&&pe&&!pe.nodeType&&pe,ht=$e&&$e.exports===qe,Tt=ht?Ue.Buffer:void 0,Ot=Tt?Tt.allocUnsafe:void 0;function Kt(ir,Rr){if(Rr)return ir.slice();var Mr=ir.length,pn=Ot?Ot(Mr):new ir.constructor(Mr);return ir.copy(pn),pn}pe.exports=Kt}),mr=B((ne,pe)=>{var Ue=ze(),qe=Ue.Uint8Array;pe.exports=qe}),Cr=B((ne,pe)=>{var Ue=mr();function qe($e){var ht=new $e.constructor($e.byteLength);return new Ue(ht).set(new Ue($e)),ht}pe.exports=qe}),Dr=B((ne,pe)=>{var Ue=Cr();function qe($e,ht){var Tt=ht?Ue($e.buffer):$e.buffer;return new $e.constructor(Tt,$e.byteOffset,$e.length)}pe.exports=qe}),_n=B((ne,pe)=>{function Ue(qe,$e){var ht=-1,Tt=qe.length;for($e||($e=Array(Tt));++ht<Tt;)$e[ht]=qe[ht];return $e}pe.exports=Ue}),In=B((ne,pe)=>{var Ue=tt(),qe=Object.create,$e=(function(){function ht(){}return function(Tt){if(!Ue(Tt))return{};if(qe)return qe(Tt);ht.prototype=Tt;var Ot=new ht;return ht.prototype=void 0,Ot}})();pe.exports=$e}),Fn=B((ne,pe)=>{function Ue(qe,$e){return function(ht){return qe($e(ht))}}pe.exports=Ue}),ti=B((ne,pe)=>{var Ue=Fn(),qe=Ue(Object.getPrototypeOf,Object);pe.exports=qe}),Qn=B((ne,pe)=>{var Ue=Object.prototype;function qe($e){var ht=$e&&$e.constructor,Tt=typeof ht=="function"&&ht.prototype||Ue;return $e===Tt}pe.exports=qe}),vi=B((ne,pe)=>{var Ue=In(),qe=ti(),$e=Qn();function ht(Tt){return typeof Tt.constructor=="function"&&!$e(Tt)?Ue(qe(Tt)):{}}pe.exports=ht}),wi=B((ne,pe)=>{function Ue(qe){return qe!=null&&typeof qe=="object"}pe.exports=Ue}),oi=B((ne,pe)=>{var Ue=He(),qe=wi(),$e="[object Arguments]";function ht(Tt){return qe(Tt)&&Ue(Tt)==$e}pe.exports=ht}),Si=B((ne,pe)=>{var Ue=oi(),qe=wi(),$e=Object.prototype,ht=$e.hasOwnProperty,Tt=$e.propertyIsEnumerable,Ot=Ue((function(){return arguments})())?Ue:function(Kt){return qe(Kt)&&ht.call(Kt,"callee")&&!Tt.call(Kt,"callee")};pe.exports=Ot}),Gi=B((ne,pe)=>{var Ue=Array.isArray;pe.exports=Ue}),ai=B((ne,pe)=>{var Ue=9007199254740991;function qe($e){return typeof $e=="number"&&$e>-1&&$e%1==0&&$e<=Ue}pe.exports=qe}),zi=B((ne,pe)=>{var Ue=Ke(),qe=ai();function $e(ht){return ht!=null&&qe(ht.length)&&!Ue(ht)}pe.exports=$e}),Ei=B((ne,pe)=>{var Ue=zi(),qe=wi();function $e(ht){return qe(ht)&&Ue(ht)}pe.exports=$e}),fa=B((ne,pe)=>{function Ue(){return!1}pe.exports=Ue}),Vn=B((ne,pe)=>{var Ue=ze(),qe=fa(),$e=typeof ne=="object"&&ne&&!ne.nodeType&&ne,ht=$e&&typeof pe=="object"&&pe&&!pe.nodeType&&pe,Tt=ht&&ht.exports===$e,Ot=Tt?Ue.Buffer:void 0,Kt=Ot?Ot.isBuffer:void 0,ir=Kt||qe;pe.exports=ir}),ha=B((ne,pe)=>{var Ue=He(),qe=ti(),$e=wi(),ht="[object Object]",Tt=Function.prototype,Ot=Object.prototype,Kt=Tt.toString,ir=Ot.hasOwnProperty,Rr=Kt.call(Object);function Mr(pn){if(!$e(pn)||Ue(pn)!=ht)return!1;var bn=qe(pn);if(bn===null)return!0;var Zn=ir.call(bn,"constructor")&&bn.constructor;return typeof Zn=="function"&&Zn instanceof Zn&&Kt.call(Zn)==Rr}pe.exports=Mr}),Na=B((ne,pe)=>{var Ue=He(),qe=ai(),$e=wi(),ht="[object Arguments]",Tt="[object Array]",Ot="[object Boolean]",Kt="[object Date]",ir="[object Error]",Rr="[object Function]",Mr="[object Map]",pn="[object Number]",bn="[object Object]",Zn="[object RegExp]",ci="[object Set]",xi="[object String]",ma="[object WeakMap]",Or="[object ArrayBuffer]",Wr="[object DataView]",an="[object Float32Array]",wn="[object Float64Array]",un="[object Int8Array]",fn="[object Int16Array]",Vt="[object Int32Array]",cr="[object Uint8Array]",xr="[object Uint8ClampedArray]",yr="[object Uint16Array]",wr="[object Uint32Array]",Er={};Er[an]=Er[wn]=Er[un]=Er[fn]=Er[Vt]=Er[cr]=Er[xr]=Er[yr]=Er[wr]=!0,Er[ht]=Er[Tt]=Er[Or]=Er[Ot]=Er[Wr]=Er[Kt]=Er[ir]=Er[Rr]=Er[Mr]=Er[pn]=Er[bn]=Er[Zn]=Er[ci]=Er[xi]=Er[ma]=!1;function Ir(qr){return $e(qr)&&qe(qr.length)&&!!Er[Ue(qr)]}pe.exports=Ir}),wt=B((ne,pe)=>{function Ue(qe){return function($e){return qe($e)}}pe.exports=Ue}),_t=B((ne,pe)=>{var Ue=Ge(),qe=typeof ne=="object"&&ne&&!ne.nodeType&&ne,$e=qe&&typeof pe=="object"&&pe&&!pe.nodeType&&pe,ht=$e&&$e.exports===qe,Tt=ht&&Ue.process,Ot=(function(){try{var Kt=$e&&$e.require&&$e.require("util").types;return Kt||Tt&&Tt.binding&&Tt.binding("util")}catch{}})();pe.exports=Ot}),jt=B((ne,pe)=>{var Ue=Na(),qe=wt(),$e=_t(),ht=$e&&$e.isTypedArray,Tt=ht?qe(ht):Ue;pe.exports=Tt}),nr=B((ne,pe)=>{function Ue(qe,$e){if(!($e==="constructor"&&typeof qe[$e]=="function")&&$e!="__proto__")return qe[$e]}pe.exports=Ue}),Yt=B((ne,pe)=>{var Ue=Jt(),qe=A(),$e=Object.prototype,ht=$e.hasOwnProperty;function Tt(Ot,Kt,ir){var Rr=Ot[Kt];(!(ht.call(Ot,Kt)&&qe(Rr,ir))||ir===void 0&&!(Kt in Ot))&&Ue(Ot,Kt,ir)}pe.exports=Tt}),Nr=B((ne,pe)=>{var Ue=Yt(),qe=Jt();function $e(ht,Tt,Ot,Kt){var ir=!Ot;Ot||(Ot={});for(var Rr=-1,Mr=Tt.length;++Rr<Mr;){var pn=Tt[Rr],bn=Kt?Kt(Ot[pn],ht[pn],pn,Ot,ht):void 0;bn===void 0&&(bn=ht[pn]),ir?qe(Ot,pn,bn):Ue(Ot,pn,bn)}return Ot}pe.exports=$e}),Gr=B((ne,pe)=>{function Ue(qe,$e){for(var ht=-1,Tt=Array(qe);++ht<qe;)Tt[ht]=$e(ht);return Tt}pe.exports=Ue}),Vr=B((ne,pe)=>{var Ue=9007199254740991,qe=/^(?:0|[1-9]\d*)$/;function $e(ht,Tt){var Ot=typeof ht;return Tt=Tt??Ue,!!Tt&&(Ot=="number"||Ot!="symbol"&&qe.test(ht))&&ht>-1&&ht%1==0&&ht<Tt}pe.exports=$e}),Mn=B((ne,pe)=>{var Ue=Gr(),qe=Si(),$e=Gi(),ht=Vn(),Tt=Vr(),Ot=jt(),Kt=Object.prototype,ir=Kt.hasOwnProperty;function Rr(Mr,pn){var bn=$e(Mr),Zn=!bn&&qe(Mr),ci=!bn&&!Zn&&ht(Mr),xi=!bn&&!Zn&&!ci&&Ot(Mr),ma=bn||Zn||ci||xi,Or=ma?Ue(Mr.length,String):[],Wr=Or.length;for(var an in Mr)(pn||ir.call(Mr,an))&&!(ma&&(an=="length"||ci&&(an=="offset"||an=="parent")||xi&&(an=="buffer"||an=="byteLength"||an=="byteOffset")||Tt(an,Wr)))&&Or.push(an);return Or}pe.exports=Rr}),hn=B((ne,pe)=>{function Ue(qe){var $e=[];if(qe!=null)for(var ht in Object(qe))$e.push(ht);return $e}pe.exports=Ue}),vn=B((ne,pe)=>{var Ue=tt(),qe=Qn(),$e=hn(),ht=Object.prototype,Tt=ht.hasOwnProperty;function Ot(Kt){if(!Ue(Kt))return $e(Kt);var ir=qe(Kt),Rr=[];for(var Mr in Kt)Mr=="constructor"&&(ir||!Tt.call(Kt,Mr))||Rr.push(Mr);return Rr}pe.exports=Ot}),Dn=B((ne,pe)=>{var Ue=Mn(),qe=vn(),$e=zi();function ht(Tt){return $e(Tt)?Ue(Tt,!0):qe(Tt)}pe.exports=ht}),kn=B((ne,pe)=>{var Ue=Nr(),qe=Dn();function $e(ht){return Ue(ht,qe(ht))}pe.exports=$e}),Zt=B((ne,pe)=>{var Ue=et(),qe=Xt(),$e=Dr(),ht=_n(),Tt=vi(),Ot=Si(),Kt=Gi(),ir=Ei(),Rr=Vn(),Mr=Ke(),pn=tt(),bn=ha(),Zn=jt(),ci=nr(),xi=kn();function ma(Or,Wr,an,wn,un,fn,Vt){var cr=ci(Or,an),xr=ci(Wr,an),yr=Vt.get(xr);if(yr){Ue(Or,an,yr);return}var wr=fn?fn(cr,xr,an+"",Or,Wr,Vt):void 0,Er=wr===void 0;if(Er){var Ir=Kt(xr),qr=!Ir&&Rr(xr),Qr=!Ir&&!qr&&Zn(xr);wr=xr,Ir||qr||Qr?Kt(cr)?wr=cr:ir(cr)?wr=ht(cr):qr?(Er=!1,wr=qe(xr,!0)):Qr?(Er=!1,wr=$e(xr,!0)):wr=[]:bn(xr)||Ot(xr)?(wr=cr,Ot(cr)?wr=xi(cr):(!pn(cr)||Mr(cr))&&(wr=Tt(xr))):Er=!1}Er&&(Vt.set(xr,wr),un(wr,xr,wn,fn,Vt),Vt.delete(xr)),Ue(Or,an,wr)}pe.exports=ma}),_r=B((ne,pe)=>{var Ue=tr(),qe=et(),$e=Et(),ht=Zt(),Tt=tt(),Ot=Dn(),Kt=nr();function ir(Rr,Mr,pn,bn,Zn){Rr!==Mr&&$e(Mr,function(ci,xi){if(Zn||(Zn=new Ue),Tt(ci))ht(Rr,Mr,xi,pn,ir,bn,Zn);else{var ma=bn?bn(Kt(Rr,xi),ci,xi+"",Rr,Mr,Zn):void 0;ma===void 0&&(ma=ci),qe(Rr,xi,ma)}},Ot)}pe.exports=ir}),fr=B((ne,pe)=>{function Ue(qe){return qe}pe.exports=Ue}),pr=B((ne,pe)=>{function Ue(qe,$e,ht){switch(ht.length){case 0:return qe.call($e);case 1:return qe.call($e,ht[0]);case 2:return qe.call($e,ht[0],ht[1]);case 3:return qe.call($e,ht[0],ht[1],ht[2])}return qe.apply($e,ht)}pe.exports=Ue}),gr=B((ne,pe)=>{var Ue=pr(),qe=Math.max;function $e(ht,Tt,Ot){return Tt=qe(Tt===void 0?ht.length-1:Tt,0),function(){for(var Kt=arguments,ir=-1,Rr=qe(Kt.length-Tt,0),Mr=Array(Rr);++ir<Rr;)Mr[ir]=Kt[Tt+ir];ir=-1;for(var pn=Array(Tt+1);++ir<Tt;)pn[ir]=Kt[ir];return pn[Tt]=Ot(Mr),Ue(ht,this,pn)}}pe.exports=$e}),Ar=B((ne,pe)=>{function Ue(qe){return function(){return qe}}pe.exports=Ue}),Xr=B((ne,pe)=>{var Ue=Ar(),qe=Ft(),$e=fr(),ht=qe?function(Tt,Ot){return qe(Tt,"toString",{configurable:!0,enumerable:!1,value:Ue(Ot),writable:!0})}:$e;pe.exports=ht}),cn=B((ne,pe)=>{var Ue=800,qe=16,$e=Date.now;function ht(Tt){var Ot=0,Kt=0;return function(){var ir=$e(),Rr=qe-(ir-Kt);if(Kt=ir,Rr>0){if(++Ot>=Ue)return arguments[0]}else Ot=0;return Tt.apply(void 0,arguments)}}pe.exports=ht}),nn=B((ne,pe)=>{var Ue=Xr(),qe=cn(),$e=qe(Ue);pe.exports=$e}),tn=B((ne,pe)=>{var Ue=fr(),qe=gr(),$e=nn();function ht(Tt,Ot){return $e(qe(Tt,Ot,Ue),Tt+"")}pe.exports=ht}),$r=B((ne,pe)=>{var Ue=A(),qe=zi(),$e=Vr(),ht=tt();function Tt(Ot,Kt,ir){if(!ht(ir))return!1;var Rr=typeof Kt;return(Rr=="number"?qe(ir)&&$e(Kt,ir.length):Rr=="string"&&Kt in ir)?Ue(ir[Kt],Ot):!1}pe.exports=Tt}),Bn=B((ne,pe)=>{var Ue=tn(),qe=$r();function $e(ht){return Ue(function(Tt,Ot){var Kt=-1,ir=Ot.length,Rr=ir>1?Ot[ir-1]:void 0,Mr=ir>2?Ot[2]:void 0;for(Rr=ht.length>3&&typeof Rr=="function"?(ir--,Rr):void 0,Mr&&qe(Ot[0],Ot[1],Mr)&&(Rr=ir<3?void 0:Rr,ir=1),Tt=Object(Tt);++Kt<ir;){var pn=Ot[Kt];pn&&ht(Tt,pn,Kt,Rr)}return Tt})}pe.exports=$e}),zn=B((ne,pe)=>{var Ue=_r(),qe=Bn(),$e=qe(function(ht,Tt,Ot){Ue(ht,Tt,Ot)});pe.exports=$e}),ri=B((ne,pe)=>{var Ue=He(),qe=wi(),$e="[object Symbol]";function ht(Tt){return typeof Tt=="symbol"||qe(Tt)&&Ue(Tt)==$e}pe.exports=ht}),qn=B((ne,pe)=>{var Ue=Gi(),qe=ri(),$e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ht=/^\w*$/;function Tt(Ot,Kt){if(Ue(Ot))return!1;var ir=typeof Ot;return ir=="number"||ir=="symbol"||ir=="boolean"||Ot==null||qe(Ot)?!0:ht.test(Ot)||!$e.test(Ot)||Kt!=null&&Ot in Object(Kt)}pe.exports=Tt}),Yn=B((ne,pe)=>{var Ue=rt(),qe="Expected a function";function $e(ht,Tt){if(typeof ht!="function"||Tt!=null&&typeof Tt!="function")throw new TypeError(qe);var Ot=function(){var Kt=arguments,ir=Tt?Tt.apply(this,Kt):Kt[0],Rr=Ot.cache;if(Rr.has(ir))return Rr.get(ir);var Mr=ht.apply(this,Kt);return Ot.cache=Rr.set(ir,Mr)||Rr,Mr};return Ot.cache=new($e.Cache||Ue),Ot}$e.Cache=Ue,pe.exports=$e}),fi=B((ne,pe)=>{var Ue=Yn(),qe=500;function $e(ht){var Tt=Ue(ht,function(Kt){return Ot.size===qe&&Ot.clear(),Kt}),Ot=Tt.cache;return Tt}pe.exports=$e}),Yi=B((ne,pe)=>{var Ue=fi(),qe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,$e=/\\(\\)?/g,ht=Ue(function(Tt){var Ot=[];return Tt.charCodeAt(0)===46&&Ot.push(""),Tt.replace(qe,function(Kt,ir,Rr,Mr){Ot.push(Rr?Mr.replace($e,"$1"):ir||Kt)}),Ot});pe.exports=ht}),Wi=B((ne,pe)=>{function Ue(qe,$e){for(var ht=-1,Tt=qe==null?0:qe.length,Ot=Array(Tt);++ht<Tt;)Ot[ht]=$e(qe[ht],ht,qe);return Ot}pe.exports=Ue}),_a=B((ne,pe)=>{var Ue=je(),qe=Wi(),$e=Gi(),ht=ri(),Tt=Ue?Ue.prototype:void 0,Ot=Tt?Tt.toString:void 0;function Kt(ir){if(typeof ir=="string")return ir;if($e(ir))return qe(ir,Kt)+"";if(ht(ir))return Ot?Ot.call(ir):"";var Rr=ir+"";return Rr=="0"&&1/ir==-1/0?"-0":Rr}pe.exports=Kt}),ja=B((ne,pe)=>{var Ue=_a();function qe($e){return $e==null?"":Ue($e)}pe.exports=qe}),io=B((ne,pe)=>{var Ue=Gi(),qe=qn(),$e=Yi(),ht=ja();function Tt(Ot,Kt){return Ue(Ot)?Ot:qe(Ot,Kt)?[Ot]:$e(ht(Ot))}pe.exports=Tt}),No=B((ne,pe)=>{var Ue=ri();function qe($e){if(typeof $e=="string"||Ue($e))return $e;var ht=$e+"";return ht=="0"&&1/$e==-1/0?"-0":ht}pe.exports=qe}),So=B((ne,pe)=>{var Ue=io(),qe=No();function $e(ht,Tt){Tt=Ue(Tt,ht);for(var Ot=0,Kt=Tt.length;ht!=null&&Ot<Kt;)ht=ht[qe(Tt[Ot++])];return Ot&&Ot==Kt?ht:void 0}pe.exports=$e}),co=B((ne,pe)=>{var Ue=So();function qe($e,ht,Tt){var Ot=$e==null?void 0:Ue($e,ht);return Ot===void 0?Tt:Ot}pe.exports=qe}),Bi=B((ne,pe)=>{(function(Ue,qe){typeof ne=="object"&&typeof pe<"u"?pe.exports=qe():(Ue=Ue||self).RBush=qe()})(ne,function(){function Ue(Or,Wr,an,wn,un){(function fn(Vt,cr,xr,yr,wr){for(;yr>xr;){if(yr-xr>600){var Er=yr-xr+1,Ir=cr-xr+1,qr=Math.log(Er),Qr=.5*Math.exp(2*qr/3),Zr=.5*Math.sqrt(qr*Qr*(Er-Qr)/Er)*(Ir-Er/2<0?-1:1),en=Math.max(xr,Math.floor(cr-Ir*Qr/Er+Zr)),On=Math.min(yr,Math.floor(cr+(Er-Ir)*Qr/Er+Zr));fn(Vt,cr,en,On,wr)}var mi=Vt[cr],yi=xr,Ci=yr;for(qe(Vt,xr,cr),wr(Vt[yr],mi)>0&&qe(Vt,xr,yr);yi<Ci;){for(qe(Vt,yi,Ci),yi++,Ci--;wr(Vt[yi],mi)<0;)yi++;for(;wr(Vt[Ci],mi)>0;)Ci--}wr(Vt[xr],mi)===0?qe(Vt,xr,Ci):qe(Vt,++Ci,yr),Ci<=cr&&(xr=Ci+1),cr<=Ci&&(yr=Ci-1)}})(Or,Wr,an||0,wn||Or.length-1,un||$e)}function qe(Or,Wr,an){var wn=Or[Wr];Or[Wr]=Or[an],Or[an]=wn}function $e(Or,Wr){return Or<Wr?-1:Or>Wr?1:0}var ht=function(Or){Or===void 0&&(Or=9),this._maxEntries=Math.max(4,Or),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function Tt(Or,Wr,an){if(!an)return Wr.indexOf(Or);for(var wn=0;wn<Wr.length;wn++)if(an(Or,Wr[wn]))return wn;return-1}function Ot(Or,Wr){Kt(Or,0,Or.children.length,Wr,Or)}function Kt(Or,Wr,an,wn,un){un||(un=xi(null)),un.minX=1/0,un.minY=1/0,un.maxX=-1/0,un.maxY=-1/0;for(var fn=Wr;fn<an;fn++){var Vt=Or.children[fn];ir(un,Or.leaf?wn(Vt):Vt)}return un}function ir(Or,Wr){return Or.minX=Math.min(Or.minX,Wr.minX),Or.minY=Math.min(Or.minY,Wr.minY),Or.maxX=Math.max(Or.maxX,Wr.maxX),Or.maxY=Math.max(Or.maxY,Wr.maxY),Or}function Rr(Or,Wr){return Or.minX-Wr.minX}function Mr(Or,Wr){return Or.minY-Wr.minY}function pn(Or){return(Or.maxX-Or.minX)*(Or.maxY-Or.minY)}function bn(Or){return Or.maxX-Or.minX+(Or.maxY-Or.minY)}function Zn(Or,Wr){return Or.minX<=Wr.minX&&Or.minY<=Wr.minY&&Wr.maxX<=Or.maxX&&Wr.maxY<=Or.maxY}function ci(Or,Wr){return Wr.minX<=Or.maxX&&Wr.minY<=Or.maxY&&Wr.maxX>=Or.minX&&Wr.maxY>=Or.minY}function xi(Or){return{children:Or,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function ma(Or,Wr,an,wn,un){for(var fn=[Wr,an];fn.length;)if(!((an=fn.pop())-(Wr=fn.pop())<=wn)){var Vt=Wr+Math.ceil((an-Wr)/wn/2)*wn;Ue(Or,Vt,Wr,an,un),fn.push(Wr,Vt,Vt,an)}}return ht.prototype.all=function(){return this._all(this.data,[])},ht.prototype.search=function(Or){var Wr=this.data,an=[];if(!ci(Or,Wr))return an;for(var wn=this.toBBox,un=[];Wr;){for(var fn=0;fn<Wr.children.length;fn++){var Vt=Wr.children[fn],cr=Wr.leaf?wn(Vt):Vt;ci(Or,cr)&&(Wr.leaf?an.push(Vt):Zn(Or,cr)?this._all(Vt,an):un.push(Vt))}Wr=un.pop()}return an},ht.prototype.collides=function(Or){var Wr=this.data;if(!ci(Or,Wr))return!1;for(var an=[];Wr;){for(var wn=0;wn<Wr.children.length;wn++){var un=Wr.children[wn],fn=Wr.leaf?this.toBBox(un):un;if(ci(Or,fn)){if(Wr.leaf||Zn(Or,fn))return!0;an.push(un)}}Wr=an.pop()}return!1},ht.prototype.load=function(Or){if(!Or||!Or.length)return this;if(Or.length<this._minEntries){for(var Wr=0;Wr<Or.length;Wr++)this.insert(Or[Wr]);return this}var an=this._build(Or.slice(),0,Or.length-1,0);if(this.data.children.length)if(this.data.height===an.height)this._splitRoot(this.data,an);else{if(this.data.height<an.height){var wn=this.data;this.data=an,an=wn}this._insert(an,this.data.height-an.height-1,!0)}else this.data=an;return this},ht.prototype.insert=function(Or){return Or&&this._insert(Or,this.data.height-1),this},ht.prototype.clear=function(){return this.data=xi([]),this},ht.prototype.remove=function(Or,Wr){if(!Or)return this;for(var an,wn,un,fn=this.data,Vt=this.toBBox(Or),cr=[],xr=[];fn||cr.length;){if(fn||(fn=cr.pop(),wn=cr[cr.length-1],an=xr.pop(),un=!0),fn.leaf){var yr=Tt(Or,fn.children,Wr);if(yr!==-1)return fn.children.splice(yr,1),cr.push(fn),this._condense(cr),this}un||fn.leaf||!Zn(fn,Vt)?wn?(an++,fn=wn.children[an],un=!1):fn=null:(cr.push(fn),xr.push(an),an=0,wn=fn,fn=fn.children[0])}return this},ht.prototype.toBBox=function(Or){return Or},ht.prototype.compareMinX=function(Or,Wr){return Or.minX-Wr.minX},ht.prototype.compareMinY=function(Or,Wr){return Or.minY-Wr.minY},ht.prototype.toJSON=function(){return this.data},ht.prototype.fromJSON=function(Or){return this.data=Or,this},ht.prototype._all=function(Or,Wr){for(var an=[];Or;)Or.leaf?Wr.push.apply(Wr,Or.children):an.push.apply(an,Or.children),Or=an.pop();return Wr},ht.prototype._build=function(Or,Wr,an,wn){var un,fn=an-Wr+1,Vt=this._maxEntries;if(fn<=Vt)return Ot(un=xi(Or.slice(Wr,an+1)),this.toBBox),un;wn||(wn=Math.ceil(Math.log(fn)/Math.log(Vt)),Vt=Math.ceil(fn/Math.pow(Vt,wn-1))),(un=xi([])).leaf=!1,un.height=wn;var cr=Math.ceil(fn/Vt),xr=cr*Math.ceil(Math.sqrt(Vt));ma(Or,Wr,an,xr,this.compareMinX);for(var yr=Wr;yr<=an;yr+=xr){var wr=Math.min(yr+xr-1,an);ma(Or,yr,wr,cr,this.compareMinY);for(var Er=yr;Er<=wr;Er+=cr){var Ir=Math.min(Er+cr-1,wr);un.children.push(this._build(Or,Er,Ir,wn-1))}}return Ot(un,this.toBBox),un},ht.prototype._chooseSubtree=function(Or,Wr,an,wn){for(;wn.push(Wr),!Wr.leaf&&wn.length-1!==an;){for(var un=1/0,fn=1/0,Vt=void 0,cr=0;cr<Wr.children.length;cr++){var xr=Wr.children[cr],yr=pn(xr),wr=(Er=Or,Ir=xr,(Math.max(Ir.maxX,Er.maxX)-Math.min(Ir.minX,Er.minX))*(Math.max(Ir.maxY,Er.maxY)-Math.min(Ir.minY,Er.minY))-yr);wr<fn?(fn=wr,un=yr<un?yr:un,Vt=xr):wr===fn&&yr<un&&(un=yr,Vt=xr)}Wr=Vt||Wr.children[0]}var Er,Ir;return Wr},ht.prototype._insert=function(Or,Wr,an){var wn=an?Or:this.toBBox(Or),un=[],fn=this._chooseSubtree(wn,this.data,Wr,un);for(fn.children.push(Or),ir(fn,wn);Wr>=0&&un[Wr].children.length>this._maxEntries;)this._split(un,Wr),Wr--;this._adjustParentBBoxes(wn,un,Wr)},ht.prototype._split=function(Or,Wr){var an=Or[Wr],wn=an.children.length,un=this._minEntries;this._chooseSplitAxis(an,un,wn);var fn=this._chooseSplitIndex(an,un,wn),Vt=xi(an.children.splice(fn,an.children.length-fn));Vt.height=an.height,Vt.leaf=an.leaf,Ot(an,this.toBBox),Ot(Vt,this.toBBox),Wr?Or[Wr-1].children.push(Vt):this._splitRoot(an,Vt)},ht.prototype._splitRoot=function(Or,Wr){this.data=xi([Or,Wr]),this.data.height=Or.height+1,this.data.leaf=!1,Ot(this.data,this.toBBox)},ht.prototype._chooseSplitIndex=function(Or,Wr,an){for(var wn,un,fn,Vt,cr,xr,yr,wr=1/0,Er=1/0,Ir=Wr;Ir<=an-Wr;Ir++){var qr=Kt(Or,0,Ir,this.toBBox),Qr=Kt(Or,Ir,an,this.toBBox),Zr=(un=qr,fn=Qr,Vt=void 0,cr=void 0,xr=void 0,yr=void 0,Vt=Math.max(un.minX,fn.minX),cr=Math.max(un.minY,fn.minY),xr=Math.min(un.maxX,fn.maxX),yr=Math.min(un.maxY,fn.maxY),Math.max(0,xr-Vt)*Math.max(0,yr-cr)),en=pn(qr)+pn(Qr);Zr<wr?(wr=Zr,wn=Ir,Er=en<Er?en:Er):Zr===wr&&en<Er&&(Er=en,wn=Ir)}return wn||an-Wr},ht.prototype._chooseSplitAxis=function(Or,Wr,an){var wn=Or.leaf?this.compareMinX:Rr,un=Or.leaf?this.compareMinY:Mr;this._allDistMargin(Or,Wr,an,wn)<this._allDistMargin(Or,Wr,an,un)&&Or.children.sort(wn)},ht.prototype._allDistMargin=function(Or,Wr,an,wn){Or.children.sort(wn);for(var un=this.toBBox,fn=Kt(Or,0,Wr,un),Vt=Kt(Or,an-Wr,an,un),cr=bn(fn)+bn(Vt),xr=Wr;xr<an-Wr;xr++){var yr=Or.children[xr];ir(fn,Or.leaf?un(yr):yr),cr+=bn(fn)}for(var wr=an-Wr-1;wr>=Wr;wr--){var Er=Or.children[wr];ir(Vt,Or.leaf?un(Er):Er),cr+=bn(Vt)}return cr},ht.prototype._adjustParentBBoxes=function(Or,Wr,an){for(var wn=an;wn>=0;wn--)ir(Wr[wn],Or)},ht.prototype._condense=function(Or){for(var Wr=Or.length-1,an=void 0;Wr>=0;Wr--)Or[Wr].children.length===0?Wr>0?(an=Or[Wr-1].children).splice(an.indexOf(Or[Wr]),1):this.clear():Ot(Or[Wr],this.toBBox)},ht})}),ra=B(ne=>{Object.defineProperty(ne,"__esModule",{value:!0}),ne.earthRadius=63710088e-1,ne.factors={centimeters:ne.earthRadius*100,centimetres:ne.earthRadius*100,degrees:ne.earthRadius/111325,feet:ne.earthRadius*3.28084,inches:ne.earthRadius*39.37,kilometers:ne.earthRadius/1e3,kilometres:ne.earthRadius/1e3,meters:ne.earthRadius,metres:ne.earthRadius,miles:ne.earthRadius/1609.344,millimeters:ne.earthRadius*1e3,millimetres:ne.earthRadius*1e3,nauticalmiles:ne.earthRadius/1852,radians:1,yards:ne.earthRadius*1.0936},ne.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:1/1e3,kilometres:1/1e3,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/ne.earthRadius,yards:1.0936133},ne.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function pe(yr,wr,Er){Er===void 0&&(Er={});var Ir={type:"Feature"};return(Er.id===0||Er.id)&&(Ir.id=Er.id),Er.bbox&&(Ir.bbox=Er.bbox),Ir.properties=wr||{},Ir.geometry=yr,Ir}ne.feature=pe;function Ue(yr,wr,Er){switch(yr){case"Point":return qe(wr).geometry;case"LineString":return Ot(wr).geometry;case"Polygon":return ht(wr).geometry;case"MultiPoint":return Mr(wr).geometry;case"MultiLineString":return Rr(wr).geometry;case"MultiPolygon":return pn(wr).geometry;default:throw new Error(yr+" is invalid")}}ne.geometry=Ue;function qe(yr,wr,Er){if(Er===void 0&&(Er={}),!yr)throw new Error("coordinates is required");if(!Array.isArray(yr))throw new Error("coordinates must be an Array");if(yr.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!fn(yr[0])||!fn(yr[1]))throw new Error("coordinates must contain numbers");var Ir={type:"Point",coordinates:yr};return pe(Ir,wr,Er)}ne.point=qe;function $e(yr,wr,Er){return Er===void 0&&(Er={}),ir(yr.map(function(Ir){return qe(Ir,wr)}),Er)}ne.points=$e;function ht(yr,wr,Er){Er===void 0&&(Er={});for(var Ir=0,qr=yr;Ir<qr.length;Ir++){var Qr=qr[Ir];if(Qr.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var Zr=0;Zr<Qr[Qr.length-1].length;Zr++)if(Qr[Qr.length-1][Zr]!==Qr[0][Zr])throw new Error("First and last Position are not equivalent.")}var en={type:"Polygon",coordinates:yr};return pe(en,wr,Er)}ne.polygon=ht;function Tt(yr,wr,Er){return Er===void 0&&(Er={}),ir(yr.map(function(Ir){return ht(Ir,wr)}),Er)}ne.polygons=Tt;function Ot(yr,wr,Er){if(Er===void 0&&(Er={}),yr.length<2)throw new Error("coordinates must be an array of two or more positions");var Ir={type:"LineString",coordinates:yr};return pe(Ir,wr,Er)}ne.lineString=Ot;function Kt(yr,wr,Er){return Er===void 0&&(Er={}),ir(yr.map(function(Ir){return Ot(Ir,wr)}),Er)}ne.lineStrings=Kt;function ir(yr,wr){wr===void 0&&(wr={});var Er={type:"FeatureCollection"};return wr.id&&(Er.id=wr.id),wr.bbox&&(Er.bbox=wr.bbox),Er.features=yr,Er}ne.featureCollection=ir;function Rr(yr,wr,Er){Er===void 0&&(Er={});var Ir={type:"MultiLineString",coordinates:yr};return pe(Ir,wr,Er)}ne.multiLineString=Rr;function Mr(yr,wr,Er){Er===void 0&&(Er={});var Ir={type:"MultiPoint",coordinates:yr};return pe(Ir,wr,Er)}ne.multiPoint=Mr;function pn(yr,wr,Er){Er===void 0&&(Er={});var Ir={type:"MultiPolygon",coordinates:yr};return pe(Ir,wr,Er)}ne.multiPolygon=pn;function bn(yr,wr,Er){Er===void 0&&(Er={});var Ir={type:"GeometryCollection",geometries:yr};return pe(Ir,wr,Er)}ne.geometryCollection=bn;function Zn(yr,wr){if(wr===void 0&&(wr=0),wr&&!(wr>=0))throw new Error("precision must be a positive number");var Er=Math.pow(10,wr||0);return Math.round(yr*Er)/Er}ne.round=Zn;function ci(yr,wr){wr===void 0&&(wr="kilometers");var Er=ne.factors[wr];if(!Er)throw new Error(wr+" units is invalid");return yr*Er}ne.radiansToLength=ci;function xi(yr,wr){wr===void 0&&(wr="kilometers");var Er=ne.factors[wr];if(!Er)throw new Error(wr+" units is invalid");return yr/Er}ne.lengthToRadians=xi;function ma(yr,wr){return Wr(xi(yr,wr))}ne.lengthToDegrees=ma;function Or(yr){var wr=yr%360;return wr<0&&(wr+=360),wr}ne.bearingToAzimuth=Or;function Wr(yr){var wr=yr%(2*Math.PI);return wr*180/Math.PI}ne.radiansToDegrees=Wr;function an(yr){var wr=yr%360;return wr*Math.PI/180}ne.degreesToRadians=an;function wn(yr,wr,Er){if(wr===void 0&&(wr="kilometers"),Er===void 0&&(Er="kilometers"),!(yr>=0))throw new Error("length must be a positive number");return ci(xi(yr,wr),Er)}ne.convertLength=wn;function un(yr,wr,Er){if(wr===void 0&&(wr="meters"),Er===void 0&&(Er="kilometers"),!(yr>=0))throw new Error("area must be a positive number");var Ir=ne.areaFactors[wr];if(!Ir)throw new Error("invalid original units");var qr=ne.areaFactors[Er];if(!qr)throw new Error("invalid final units");return yr/Ir*qr}ne.convertArea=un;function fn(yr){return!isNaN(yr)&&yr!==null&&!Array.isArray(yr)}ne.isNumber=fn;function Vt(yr){return!!yr&&yr.constructor===Object}ne.isObject=Vt;function cr(yr){if(!yr)throw new Error("bbox is required");if(!Array.isArray(yr))throw new Error("bbox must be an Array");if(yr.length!==4&&yr.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");yr.forEach(function(wr){if(!fn(wr))throw new Error("bbox must only contain numbers")})}ne.validateBBox=cr;function xr(yr){if(!yr)throw new Error("id is required");if(["string","number"].indexOf(typeof yr)===-1)throw new Error("id must be a number or a string")}ne.validateId=xr}),Hi=B(ne=>{Object.defineProperty(ne,"__esModule",{value:!0});var pe=ra();function Ue(Wr,an,wn){if(Wr!==null)for(var un,fn,Vt,cr,xr,yr,wr,Er=0,Ir=0,qr,Qr=Wr.type,Zr=Qr==="FeatureCollection",en=Qr==="Feature",On=Zr?Wr.features.length:1,mi=0;mi<On;mi++){wr=Zr?Wr.features[mi].geometry:en?Wr.geometry:Wr,qr=wr?wr.type==="GeometryCollection":!1,xr=qr?wr.geometries.length:1;for(var yi=0;yi<xr;yi++){var Ci=0,Ea=0;if(cr=qr?wr.geometries[yi]:wr,cr!==null){yr=cr.coordinates;var Ta=cr.type;switch(Er=wn&&(Ta==="Polygon"||Ta==="MultiPolygon")?1:0,Ta){case null:break;case"Point":if(an(yr,Ir,mi,Ci,Ea)===!1)return!1;Ir++,Ci++;break;case"LineString":case"MultiPoint":for(un=0;un<yr.length;un++){if(an(yr[un],Ir,mi,Ci,Ea)===!1)return!1;Ir++,Ta==="MultiPoint"&&Ci++}Ta==="LineString"&&Ci++;break;case"Polygon":case"MultiLineString":for(un=0;un<yr.length;un++){for(fn=0;fn<yr[un].length-Er;fn++){if(an(yr[un][fn],Ir,mi,Ci,Ea)===!1)return!1;Ir++}Ta==="MultiLineString"&&Ci++,Ta==="Polygon"&&Ea++}Ta==="Polygon"&&Ci++;break;case"MultiPolygon":for(un=0;un<yr.length;un++){for(Ea=0,fn=0;fn<yr[un].length;fn++){for(Vt=0;Vt<yr[un][fn].length-Er;Vt++){if(an(yr[un][fn][Vt],Ir,mi,Ci,Ea)===!1)return!1;Ir++}Ea++}Ci++}break;case"GeometryCollection":for(un=0;un<cr.geometries.length;un++)if(Ue(cr.geometries[un],an,wn)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function qe(Wr,an,wn,un){var fn=wn;return Ue(Wr,function(Vt,cr,xr,yr,wr){cr===0&&wn===void 0?fn=Vt:fn=an(fn,Vt,cr,xr,yr,wr)},un),fn}function $e(Wr,an){var wn;switch(Wr.type){case"FeatureCollection":for(wn=0;wn<Wr.features.length&&an(Wr.features[wn].properties,wn)!==!1;wn++);break;case"Feature":an(Wr.properties,0);break}}function ht(Wr,an,wn){var un=wn;return $e(Wr,function(fn,Vt){Vt===0&&wn===void 0?un=fn:un=an(un,fn,Vt)}),un}function Tt(Wr,an){if(Wr.type==="Feature")an(Wr,0);else if(Wr.type==="FeatureCollection")for(var wn=0;wn<Wr.features.length&&an(Wr.features[wn],wn)!==!1;wn++);}function Ot(Wr,an,wn){var un=wn;return Tt(Wr,function(fn,Vt){Vt===0&&wn===void 0?un=fn:un=an(un,fn,Vt)}),un}function Kt(Wr){var an=[];return Ue(Wr,function(wn){an.push(wn)}),an}function ir(Wr,an){var wn,un,fn,Vt,cr,xr,yr,wr,Er,Ir,qr=0,Qr=Wr.type==="FeatureCollection",Zr=Wr.type==="Feature",en=Qr?Wr.features.length:1;for(wn=0;wn<en;wn++){for(xr=Qr?Wr.features[wn].geometry:Zr?Wr.geometry:Wr,wr=Qr?Wr.features[wn].properties:Zr?Wr.properties:{},Er=Qr?Wr.features[wn].bbox:Zr?Wr.bbox:void 0,Ir=Qr?Wr.features[wn].id:Zr?Wr.id:void 0,yr=xr?xr.type==="GeometryCollection":!1,cr=yr?xr.geometries.length:1,fn=0;fn<cr;fn++){if(Vt=yr?xr.geometries[fn]:xr,Vt===null){if(an(null,qr,wr,Er,Ir)===!1)return!1;continue}switch(Vt.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(an(Vt,qr,wr,Er,Ir)===!1)return!1;break}case"GeometryCollection":{for(un=0;un<Vt.geometries.length;un++)if(an(Vt.geometries[un],qr,wr,Er,Ir)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}qr++}}function Rr(Wr,an,wn){var un=wn;return ir(Wr,function(fn,Vt,cr,xr,yr){Vt===0&&wn===void 0?un=fn:un=an(un,fn,Vt,cr,xr,yr)}),un}function Mr(Wr,an){ir(Wr,function(wn,un,fn,Vt,cr){var xr=wn===null?null:wn.type;switch(xr){case null:case"Point":case"LineString":case"Polygon":return an(pe.feature(wn,fn,{bbox:Vt,id:cr}),un,0)===!1?!1:void 0}var yr;switch(xr){case"MultiPoint":yr="Point";break;case"MultiLineString":yr="LineString";break;case"MultiPolygon":yr="Polygon";break}for(var wr=0;wr<wn.coordinates.length;wr++){var Er=wn.coordinates[wr],Ir={type:yr,coordinates:Er};if(an(pe.feature(Ir,fn),un,wr)===!1)return!1}})}function pn(Wr,an,wn){var un=wn;return Mr(Wr,function(fn,Vt,cr){Vt===0&&cr===0&&wn===void 0?un=fn:un=an(un,fn,Vt,cr)}),un}function bn(Wr,an){Mr(Wr,function(wn,un,fn){var Vt=0;if(wn.geometry){var cr=wn.geometry.type;if(!(cr==="Point"||cr==="MultiPoint")){var xr,yr=0,wr=0,Er=0;if(Ue(wn,function(Ir,qr,Qr,Zr,en){if(xr===void 0||un>yr||Zr>wr||en>Er){xr=Ir,yr=un,wr=Zr,Er=en,Vt=0;return}var On=pe.lineString([xr,Ir],wn.properties);if(an(On,un,fn,en,Vt)===!1)return!1;Vt++,xr=Ir})===!1)return!1}}})}function Zn(Wr,an,wn){var un=wn,fn=!1;return bn(Wr,function(Vt,cr,xr,yr,wr){fn===!1&&wn===void 0?un=Vt:un=an(un,Vt,cr,xr,yr,wr),fn=!0}),un}function ci(Wr,an){if(!Wr)throw new Error("geojson is required");Mr(Wr,function(wn,un,fn){if(wn.geometry!==null){var Vt=wn.geometry.type,cr=wn.geometry.coordinates;switch(Vt){case"LineString":if(an(wn,un,fn,0,0)===!1)return!1;break;case"Polygon":for(var xr=0;xr<cr.length;xr++)if(an(pe.lineString(cr[xr],wn.properties),un,fn,xr)===!1)return!1;break}}})}function xi(Wr,an,wn){var un=wn;return ci(Wr,function(fn,Vt,cr,xr){Vt===0&&wn===void 0?un=fn:un=an(un,fn,Vt,cr,xr)}),un}function ma(Wr,an){if(an=an||{},!pe.isObject(an))throw new Error("options is invalid");var wn=an.featureIndex||0,un=an.multiFeatureIndex||0,fn=an.geometryIndex||0,Vt=an.segmentIndex||0,cr=an.properties,xr;switch(Wr.type){case"FeatureCollection":wn<0&&(wn=Wr.features.length+wn),cr=cr||Wr.features[wn].properties,xr=Wr.features[wn].geometry;break;case"Feature":cr=cr||Wr.properties,xr=Wr.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":xr=Wr;break;default:throw new Error("geojson is invalid")}if(xr===null)return null;var yr=xr.coordinates;switch(xr.type){case"Point":case"MultiPoint":return null;case"LineString":return Vt<0&&(Vt=yr.length+Vt-1),pe.lineString([yr[Vt],yr[Vt+1]],cr,an);case"Polygon":return fn<0&&(fn=yr.length+fn),Vt<0&&(Vt=yr[fn].length+Vt-1),pe.lineString([yr[fn][Vt],yr[fn][Vt+1]],cr,an);case"MultiLineString":return un<0&&(un=yr.length+un),Vt<0&&(Vt=yr[un].length+Vt-1),pe.lineString([yr[un][Vt],yr[un][Vt+1]],cr,an);case"MultiPolygon":return un<0&&(un=yr.length+un),fn<0&&(fn=yr[un].length+fn),Vt<0&&(Vt=yr[un][fn].length-Vt-1),pe.lineString([yr[un][fn][Vt],yr[un][fn][Vt+1]],cr,an)}throw new Error("geojson is invalid")}function Or(Wr,an){if(an=an||{},!pe.isObject(an))throw new Error("options is invalid");var wn=an.featureIndex||0,un=an.multiFeatureIndex||0,fn=an.geometryIndex||0,Vt=an.coordIndex||0,cr=an.properties,xr;switch(Wr.type){case"FeatureCollection":wn<0&&(wn=Wr.features.length+wn),cr=cr||Wr.features[wn].properties,xr=Wr.features[wn].geometry;break;case"Feature":cr=cr||Wr.properties,xr=Wr.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":xr=Wr;break;default:throw new Error("geojson is invalid")}if(xr===null)return null;var yr=xr.coordinates;switch(xr.type){case"Point":return pe.point(yr,cr,an);case"MultiPoint":return un<0&&(un=yr.length+un),pe.point(yr[un],cr,an);case"LineString":return Vt<0&&(Vt=yr.length+Vt),pe.point(yr[Vt],cr,an);case"Polygon":return fn<0&&(fn=yr.length+fn),Vt<0&&(Vt=yr[fn].length+Vt),pe.point(yr[fn][Vt],cr,an);case"MultiLineString":return un<0&&(un=yr.length+un),Vt<0&&(Vt=yr[un].length+Vt),pe.point(yr[un][Vt],cr,an);case"MultiPolygon":return un<0&&(un=yr.length+un),fn<0&&(fn=yr[un].length+fn),Vt<0&&(Vt=yr[un][fn].length-Vt),pe.point(yr[un][fn][Vt],cr,an)}throw new Error("geojson is invalid")}ne.coordAll=Kt,ne.coordEach=Ue,ne.coordReduce=qe,ne.featureEach=Tt,ne.featureReduce=Ot,ne.findPoint=Or,ne.findSegment=ma,ne.flattenEach=Mr,ne.flattenReduce=pn,ne.geomEach=ir,ne.geomReduce=Rr,ne.lineEach=ci,ne.lineReduce=xi,ne.propEach=$e,ne.propReduce=ht,ne.segmentEach=bn,ne.segmentReduce=Zn}),Ma=B(ne=>{Object.defineProperty(ne,"__esModule",{value:!0});var pe=Hi();function Ue(qe){var $e=[1/0,1/0,-1/0,-1/0];return pe.coordEach(qe,function(ht){$e[0]>ht[0]&&($e[0]=ht[0]),$e[1]>ht[1]&&($e[1]=ht[1]),$e[2]<ht[0]&&($e[2]=ht[0]),$e[3]<ht[1]&&($e[3]=ht[1])}),$e}Ue.default=Ue,ne.default=Ue}),_o=B((ne,pe)=>{var Ue=Bi(),qe=ra(),$e=Hi(),ht=Ma().default,Tt=$e.featureEach;$e.coordEach,qe.polygon;var Ot=qe.featureCollection;function Kt(ir){var Rr=new Ue(ir);return Rr.insert=function(Mr){if(Mr.type!=="Feature")throw new Error("invalid feature");return Mr.bbox=Mr.bbox?Mr.bbox:ht(Mr),Ue.prototype.insert.call(this,Mr)},Rr.load=function(Mr){var pn=[];return Array.isArray(Mr)?Mr.forEach(function(bn){if(bn.type!=="Feature")throw new Error("invalid features");bn.bbox=bn.bbox?bn.bbox:ht(bn),pn.push(bn)}):Tt(Mr,function(bn){if(bn.type!=="Feature")throw new Error("invalid features");bn.bbox=bn.bbox?bn.bbox:ht(bn),pn.push(bn)}),Ue.prototype.load.call(this,pn)},Rr.remove=function(Mr,pn){if(Mr.type!=="Feature")throw new Error("invalid feature");return Mr.bbox=Mr.bbox?Mr.bbox:ht(Mr),Ue.prototype.remove.call(this,Mr,pn)},Rr.clear=function(){return Ue.prototype.clear.call(this)},Rr.search=function(Mr){var pn=Ue.prototype.search.call(this,this.toBBox(Mr));return Ot(pn)},Rr.collides=function(Mr){return Ue.prototype.collides.call(this,this.toBBox(Mr))},Rr.all=function(){var Mr=Ue.prototype.all.call(this);return Ot(Mr)},Rr.toJSON=function(){return Ue.prototype.toJSON.call(this)},Rr.fromJSON=function(Mr){return Ue.prototype.fromJSON.call(this,Mr)},Rr.toBBox=function(Mr){var pn;if(Mr.bbox)pn=Mr.bbox;else if(Array.isArray(Mr)&&Mr.length===4)pn=Mr;else if(Array.isArray(Mr)&&Mr.length===6)pn=[Mr[0],Mr[1],Mr[3],Mr[4]];else if(Mr.type==="Feature")pn=ht(Mr);else if(Mr.type==="FeatureCollection")pn=ht(Mr);else throw new Error("invalid geojson");return{minX:pn[0],minY:pn[1],maxX:pn[2],maxY:pn[3]}},Rr}pe.exports=Kt,pe.exports.default=Kt});Array.prototype.findIndex=Array.prototype.findIndex||function(ne){if(this===null)throw new TypeError("Array.prototype.findIndex called on null or undefined");if(typeof ne!="function")throw new TypeError("callback must be a function");for(var pe=Object(this),Ue=pe.length>>>0,qe=arguments[1],$e=0;$e<Ue;$e++)if(ne.call(qe,pe[$e],$e,pe))return $e;return-1},Array.prototype.find=Array.prototype.find||function(ne){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof ne!="function")throw new TypeError("callback must be a function");for(var pe=Object(this),Ue=pe.length>>>0,qe=arguments[1],$e=0;$e<Ue;$e++){var ht=pe[$e];if(ne.call(qe,ht,$e,pe))return ht}},typeof Object.assign!="function"&&(Object.assign=function(ne){if(ne==null)throw new TypeError("Cannot convert undefined or null to object");ne=Object(ne);for(var pe=1;pe<arguments.length;pe++){var Ue=arguments[pe];if(Ue!=null)for(var qe in Ue)Object.prototype.hasOwnProperty.call(Ue,qe)&&(ne[qe]=Ue[qe])}return ne}),(function(ne){ne.forEach(function(pe){pe.hasOwnProperty("remove")||Object.defineProperty(pe,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})})})([Element.prototype,CharacterData.prototype,DocumentType.prototype]),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(ne,pe){if(this==null)throw new TypeError('"this" is null or not defined');var Ue=Object(this),qe=Ue.length>>>0;if(qe===0)return!1;var $e=pe|0,ht=Math.max($e>=0?$e:qe-Math.abs($e),0);function Tt(Ot,Kt){return Ot===Kt||typeof Ot=="number"&&typeof Kt=="number"&&isNaN(Ot)&&isNaN(Kt)}for(;ht<qe;){if(Tt(Ue[ht],ne))return!0;ht++}return!1}});var $o={version:"2.18.3"},Ii=I(zn()),pa={tooltips:{placeMarker:"Click to place marker",firstVertex:"Click to place first vertex",continueLine:"Click to continue drawing",finishLine:"Click any existing marker to finish",finishPoly:"Click first marker to finish",finishRect:"Click to finish",startCircle:"Click to place circle center",finishCircle:"Click to finish circle",placeCircleMarker:"Click to place circle marker",placeText:"Click to place text",selectFirstLayerFor:"Select first layer for {action}",selectSecondLayerFor:"Select second layer for {action}"},actions:{finish:"Finish",cancel:"Cancel",removeLastVertex:"Remove Last Vertex"},buttonTitles:{drawMarkerButton:"Draw Marker",drawPolyButton:"Draw Polygons",drawLineButton:"Draw Polyline",drawCircleButton:"Draw Circle",drawRectButton:"Draw Rectangle",editButton:"Edit Layers",dragButton:"Drag Layers",cutButton:"Cut Layers",deleteButton:"Remove Layers",drawCircleMarkerButton:"Draw Circle Marker",snappingButton:"Snap dragged marker to other layers and vertices",pinningButton:"Pin shared vertices together",rotateButton:"Rotate Layers",drawTextButton:"Draw Text",scaleButton:"Scale Layers",autoTracingButton:"Auto trace Line",snapGuidesButton:"Show SnapGuides",unionButton:"Union layers",differenceButton:"Subtract layers"},measurements:{totalLength:"Length",segmentLength:"Segment length",area:"Area",radius:"Radius",perimeter:"Perimeter",height:"Height",width:"Width",coordinates:"Position",coordinatesMarker:"Position Marker"}},Va={tooltips:{placeMarker:"Platziere den Marker mit Klick",firstVertex:"Platziere den ersten Marker mit Klick",continueLine:"Klicke, um weiter zu zeichnen",finishLine:"Beende mit Klick auf existierenden Marker",finishPoly:"Beende mit Klick auf ersten Marker",finishRect:"Beende mit Klick",startCircle:"Platziere das Kreiszentrum mit Klick",finishCircle:"Beende den Kreis mit Klick",placeCircleMarker:"Platziere den Kreismarker mit Klick",placeText:"Platziere den Text mit Klick"},actions:{finish:"Beenden",cancel:"Abbrechen",removeLastVertex:"Letzten Vertex lschen"},buttonTitles:{drawMarkerButton:"Marker zeichnen",drawPolyButton:"Polygon zeichnen",drawLineButton:"Polyline zeichnen",drawCircleButton:"Kreis zeichnen",drawRectButton:"Rechteck zeichnen",editButton:"Layer editieren",dragButton:"Layer bewegen",cutButton:"Layer schneiden",deleteButton:"Layer lschen",drawCircleMarkerButton:"Kreismarker zeichnen",snappingButton:"Bewegter Layer an andere Layer oder Vertexe einhacken",pinningButton:"Vertexe an der gleichen Position verknpfen",rotateButton:"Layer drehen",drawTextButton:"Text zeichnen",scaleButton:"Layer skalieren",autoTracingButton:"Linie automatisch nachzeichen"},measurements:{totalLength:"Lnge",segmentLength:"Segment Lnge",area:"Flche",radius:"Radius",perimeter:"Umfang",height:"Hhe",width:"Breite",coordinates:"Position",coordinatesMarker:"Position Marker"}},Do={tooltips:{placeMarker:"Clicca per posizionare un Marker",firstVertex:"Clicca per posizionare il primo vertice",continueLine:"Clicca per continuare a disegnare",finishLine:"Clicca qualsiasi marker esistente per terminare",finishPoly:"Clicca il primo marker per terminare",finishRect:"Clicca per terminare",startCircle:"Clicca per posizionare il punto centrale del cerchio",finishCircle:"Clicca per terminare il cerchio",placeCircleMarker:"Clicca per posizionare un Marker del cherchio"},actions:{finish:"Termina",cancel:"Annulla",removeLastVertex:"Rimuovi l'ultimo vertice"},buttonTitles:{drawMarkerButton:"Disegna Marker",drawPolyButton:"Disegna Poligoni",drawLineButton:"Disegna Polilinea",drawCircleButton:"Disegna Cerchio",drawRectButton:"Disegna Rettangolo",editButton:"Modifica Livelli",dragButton:"Sposta Livelli",cutButton:"Ritaglia Livelli",deleteButton:"Elimina Livelli",drawCircleMarkerButton:"Disegna Marker del Cerchio",snappingButton:"Snap ha trascinato il pennarello su altri strati e vertici",pinningButton:"Pin condiviso vertici insieme",rotateButton:"Ruota livello"}},Zi={tooltips:{placeMarker:"Klik untuk menempatkan marker",firstVertex:"Klik untuk menempatkan vertex pertama",continueLine:"Klik untuk meneruskan digitasi",finishLine:"Klik pada sembarang marker yang ada untuk mengakhiri",finishPoly:"Klik marker pertama untuk mengakhiri",finishRect:"Klik untuk mengakhiri",startCircle:"Klik untuk menempatkan titik pusat lingkaran",finishCircle:"Klik untuk mengakhiri lingkaran",placeCircleMarker:"Klik untuk menempatkan penanda lingkarann"},actions:{finish:"Selesai",cancel:"Batal",removeLastVertex:"Hilangkan Vertex Terakhir"},buttonTitles:{drawMarkerButton:"Digitasi Marker",drawPolyButton:"Digitasi Polygon",drawLineButton:"Digitasi Polyline",drawCircleButton:"Digitasi Lingkaran",drawRectButton:"Digitasi Segi Empat",editButton:"Edit Layer",dragButton:"Geser Layer",cutButton:"Potong Layer",deleteButton:"Hilangkan Layer",drawCircleMarkerButton:"Digitasi Penanda Lingkaran",snappingButton:"Jepretkan penanda yang ditarik ke lapisan dan simpul lain",pinningButton:"Sematkan simpul bersama bersama",rotateButton:"Putar lapisan"}},es={tooltips:{placeMarker:"Adaug un punct",firstVertex:"Apas aici pentru a aduga primul Vertex",continueLine:"Apas aici pentru a continua desenul",finishLine:"Apas pe orice obiect pentru a finisa desenul",finishPoly:"Apas pe primul obiect pentru a finisa",finishRect:"Apas pentru a finisa",startCircle:"Apas pentru a desena un cerc",finishCircle:"Apas pentru a finisa un cerc",placeCircleMarker:"Adaug un punct"},actions:{finish:"Termin",cancel:"Anuleaz",removeLastVertex:"terge ultimul Vertex"},buttonTitles:{drawMarkerButton:"Adaug o bulin",drawPolyButton:"Deseneaz un poligon",drawLineButton:"Deseneaz o linie",drawCircleButton:"Deseneaz un cerc",drawRectButton:"Deseneaz un dreptunghi",editButton:"Editeaz straturile",dragButton:"Mut straturile",cutButton:"Taie straturile",deleteButton:"terge straturile",drawCircleMarkerButton:"Deseneaz marcatorul cercului",snappingButton:"Fixai marcatorul glisat pe alte straturi i vrfuri",pinningButton:"Fixai vrfurile partajate mpreun",rotateButton:"Rotii stratul"}},Ro={tooltips:{placeMarker:",   ",firstVertex:",    ",continueLine:",   ",finishLine:"     ",finishPoly:"  ,  ",finishRect:",  ",startCircle:",    ",finishCircle:",   ",placeCircleMarker:",    "},actions:{finish:"",cancel:"",removeLastVertex:"  "},buttonTitles:{drawMarkerButton:" ",drawPolyButton:" ",drawLineButton:" ",drawCircleButton:" ",drawRectButton:" ",editButton:" ",dragButton:" ",cutButton:" ",deleteButton:" ",drawCircleMarkerButton:"  ",snappingButton:"       ",pinningButton:"   ",rotateButton:" "}},Ca={tooltips:{placeMarker:"Presiona para colocar un marcador",firstVertex:"Presiona para colocar el primer vrtice",continueLine:"Presiona para continuar dibujando",finishLine:"Presiona cualquier marcador existente para finalizar",finishPoly:"Presiona el primer marcador para finalizar",finishRect:"Presiona para finalizar",startCircle:"Presiona para colocar el centro del crculo",finishCircle:"Presiona para finalizar el crculo",placeCircleMarker:"Presiona para colocar un marcador de crculo"},actions:{finish:"Finalizar",cancel:"Cancelar",removeLastVertex:"Eliminar ltimo vrtice"},buttonTitles:{drawMarkerButton:"Dibujar Marcador",drawPolyButton:"Dibujar Polgono",drawLineButton:"Dibujar Lnea",drawCircleButton:"Dibujar Crculo",drawRectButton:"Dibujar Rectngulo",editButton:"Editar Capas",dragButton:"Arrastrar Capas",cutButton:"Cortar Capas",deleteButton:"Eliminar Capas",drawCircleMarkerButton:"Dibujar Marcador de Crculo",snappingButton:"El marcador de Snap arrastrado a otras capas y vrtices",pinningButton:"Fijar juntos los vrtices compartidos",rotateButton:"Rotar capa"}},ua={tooltips:{placeMarker:"Klik om een marker te plaatsen",firstVertex:"Klik om het eerste punt te plaatsen",continueLine:"Klik om te blijven tekenen",finishLine:"Klik op een bestaand punt om te beindigen",finishPoly:"Klik op het eerst punt om te beindigen",finishRect:"Klik om te beindigen",startCircle:"Klik om het middelpunt te plaatsen",finishCircle:"Klik om de cirkel te beindigen",placeCircleMarker:"Klik om een marker te plaatsen"},actions:{finish:"Bewaar",cancel:"Annuleer",removeLastVertex:"Verwijder laatste punt"},buttonTitles:{drawMarkerButton:"Plaats Marker",drawPolyButton:"Teken een vlak",drawLineButton:"Teken een lijn",drawCircleButton:"Teken een cirkel",drawRectButton:"Teken een vierkant",editButton:"Bewerk",dragButton:"Verplaats",cutButton:"Knip",deleteButton:"Verwijder",drawCircleMarkerButton:"Plaats Marker",snappingButton:"Snap gesleepte marker naar andere lagen en hoekpunten",pinningButton:"Speld gedeelde hoekpunten samen",rotateButton:"Laag roteren"}},ao={tooltips:{placeMarker:"Cliquez pour placer un marqueur",firstVertex:"Cliquez pour placer le premier sommet",continueLine:"Cliquez pour continuer  dessiner",finishLine:"Cliquez sur n'importe quel marqueur pour terminer",finishPoly:"Cliquez sur le premier marqueur pour terminer",finishRect:"Cliquez pour terminer",startCircle:"Cliquez pour placer le centre du cercle",finishCircle:"Cliquez pour finir le cercle",placeCircleMarker:"Cliquez pour placer le marqueur circulaire"},actions:{finish:"Terminer",cancel:"Annuler",removeLastVertex:"Retirer le dernier sommet"},buttonTitles:{drawMarkerButton:"Placer des marqueurs",drawPolyButton:"Dessiner des polygones",drawLineButton:"Dessiner des polylignes",drawCircleButton:"Dessiner un cercle",drawRectButton:"Dessiner un rectangle",editButton:"diter des calques",dragButton:"Dplacer des calques",cutButton:"Couper des calques",deleteButton:"Supprimer des calques",drawCircleMarkerButton:"Dessiner un marqueur circulaire",snappingButton:"Glisser le marqueur vers d'autres couches et sommets",pinningButton:"pingler ensemble les sommets partags",rotateButton:"Tourner des calques"}},Qa={tooltips:{placeMarker:"",firstVertex:"",continueLine:"",finishLine:"",finishPoly:"",finishRect:"",startCircle:"",finishCircle:"",placeCircleMarker:""},actions:{finish:"",cancel:"",removeLastVertex:""},buttonTitles:{drawMarkerButton:"",drawPolyButton:"",drawLineButton:"",drawCircleButton:"",drawRectButton:"",editButton:"",dragButton:"",cutButton:"",deleteButton:"",drawCircleMarkerButton:"",snappingButton:"",pinningButton:"",rotateButton:""}},Sa={tooltips:{placeMarker:"",firstVertex:"",continueLine:"",finishLine:"",finishPoly:"",finishRect:"",startCircle:"",finishCircle:"",placeCircleMarker:""},actions:{finish:"",cancel:"",removeLastVertex:""},buttonTitles:{drawMarkerButton:"",drawPolyButton:"",drawLineButton:"",drawCircleButton:"",drawRectButton:"",editButton:"",dragButton:"",cutButton:"",deleteButton:"",drawCircleMarkerButton:"",snappingButton:"",pinningButton:"",rotateButton:""}},po={tooltips:{placeMarker:"Clique para posicionar o marcador",firstVertex:"Clique para posicionar o primeiro vrtice",continueLine:"Clique para continuar desenhando",finishLine:"Clique em qualquer marcador existente para finalizar",finishPoly:"Clique no primeiro marcador para finalizar",finishRect:"Clique para finalizar",startCircle:"Clique para posicionar o centro do crculo",finishCircle:"Clique para finalizar o crculo",placeCircleMarker:"Clique para posicionar o marcador circular",placeText:"Clique para inserir texto"},actions:{finish:"Finalizar",cancel:"Cancelar",removeLastVertex:"Remover ltimo vrtice"},buttonTitles:{drawMarkerButton:"Desenhar Marcador",drawPolyButton:"Desenhar Polgonos",drawLineButton:"Desenhar Linha Poligonal",drawCircleButton:"Desenhar Crculo",drawRectButton:"Desenhar Retngulo",editButton:"Editar Camadas",dragButton:"Arrastar Camadas",cutButton:"Recortar Camadas",deleteButton:"Remover Camadas",drawCircleMarkerButton:"Desenhar Marcador de Crculo",snappingButton:"Ajustar marcador arrastado a outras camadas e vrtices",pinningButton:"Unir vrtices compartilhados",rotateButton:"Rotacionar Camadas",drawTextButton:"Desenhar Texto",scaleButton:"Redimensionar Camadas",autoTracingButton:"Traado Automtico de Linha"},measurements:{totalLength:"Comprimento",segmentLength:"Comprimento do Segmento",area:"rea",radius:"Raio",perimeter:"Permetro",height:"Altura",width:"Largura",coordinates:"Posio",coordinatesMarker:"Marcador de Posio"}},Ja={tooltips:{placeMarker:"Clique para colocar marcador",firstVertex:"Clique para colocar primeiro vrtice",continueLine:"Clique para continuar a desenhar",finishLine:"Clique num marcador existente para terminar",finishPoly:"Clique no primeiro marcador para terminar",finishRect:"Clique para terminar",startCircle:"Clique para colocar o centro do crculo",finishCircle:"Clique para terminar o crculo",placeCircleMarker:"Clique para colocar marcador de crculo",placeText:"Clique para colocar texto"},actions:{finish:"Terminar",cancel:"Cancelar",removeLastVertex:"Remover ltimo Vrtice"},buttonTitles:{drawMarkerButton:"Desenhar Marcador",drawPolyButton:"Desenhar Polgonos",drawLineButton:"Desenhar Polilinha",drawCircleButton:"Desenhar Crculo",drawRectButton:"Desenhar Retngulo",editButton:"Editar Camadas",dragButton:"Arrastar Camadas",cutButton:"Cortar Camadas",deleteButton:"Remover Camadas",drawCircleMarkerButton:"Desenhar Marcador de Crculo",snappingButton:"Ajustar marcador arrastado a outras camadas e vrtices",pinningButton:"Unir vrtices partilhados",rotateButton:"Rodar Camadas",drawTextButton:"Desenhar Texto",scaleButton:"Escalar Camadas",autoTracingButton:"Traado Automtico de Linha"},measurements:{totalLength:"Comprimento",segmentLength:"Comprimento do Segmento",area:"rea",radius:"Raio",perimeter:"Permetro",height:"Altura",width:"Largura",coordinates:"Posio",coordinatesMarker:"Marcador de Posio"}},Ga={tooltips:{placeMarker:"Kliknij, aby umieci znacznik",firstVertex:"Kliknij, aby umieci pierwszy wierzchoek",continueLine:"Kliknij, aby kontynuowa rysowanie",finishLine:"Kliknij dowolny istniejcy znacznik, aby zakoczy",finishPoly:"Kliknij pierwszy znacznik, aby zakoczy",finishRect:"Kliknij, aby zakoczy",startCircle:"Kliknij, aby umieci rodek okrgu",finishCircle:"Kliknij, aby zakoczy okrg",placeCircleMarker:"Kliknij, aby umieci znacznik okrgu",placeText:"Kliknij, aby umieci tekst"},actions:{finish:"Zakocz",cancel:"Anuluj",removeLastVertex:"Usu ostatni wierzchoek"},buttonTitles:{drawMarkerButton:"Rysuj znacznik",drawPolyButton:"Rysuj wielokt",drawLineButton:"Rysuj lini",drawCircleButton:"Rysuj okrg",drawRectButton:"Rysuj prostokt",editButton:"Edytuj warstwy",dragButton:"Przecignij warstwy",cutButton:"Wytnij warstwy",deleteButton:"Usu warstwy",drawCircleMarkerButton:"Rysuj znacznik okrgy",snappingButton:"Przycignij przenoszony znacznik do innych warstw i wierzchokw",pinningButton:"Przypnij wsplne wierzchoki razem",rotateButton:"Obr warstwy",drawTextButton:"Rysuj tekst",scaleButton:"Skaluj warstwy",autoTracingButton:"Automatyczne ledzenie linii"},measurements:{totalLength:"Dugo",segmentLength:"Dugo odcinka",area:"Obszar",radius:"Promie",perimeter:"Obwd",height:"Wysoko",width:"Szeroko",coordinates:"Pozycja",coordinatesMarker:"Znacznik pozycji"}},oo={tooltips:{placeMarker:"Klicka fr att placera markr",firstVertex:"Klicka fr att placera frsta hrnet",continueLine:"Klicka fr att fortstta rita",finishLine:"Klicka p en existerande punkt fr att slutfra",finishPoly:"Klicka p den frsta punkten fr att slutfra",finishRect:"Klicka fr att slutfra",startCircle:"Klicka fr att placera cirkelns centrum",finishCircle:"Klicka fr att slutfra cirkeln",placeCircleMarker:"Klicka fr att placera cirkelmarkr"},actions:{finish:"Slutfr",cancel:"Avbryt",removeLastVertex:"Ta bort sista hrnet"},buttonTitles:{drawMarkerButton:"Rita Markr",drawPolyButton:"Rita Polygoner",drawLineButton:"Rita Linje",drawCircleButton:"Rita Cirkel",drawRectButton:"Rita Rektangel",editButton:"Redigera Lager",dragButton:"Dra Lager",cutButton:"Klipp i Lager",deleteButton:"Ta bort Lager",drawCircleMarkerButton:"Rita Cirkelmarkr",snappingButton:"Snpp dra markren till andra lager och hrn",pinningButton:"Fst delade hrn tillsammans",rotateButton:"Rotera lagret"}},go={tooltips:{placeMarker:"     ",firstVertex:"       ",continueLine:"      ",finishLine:"        ",finishPoly:"       ",finishRect:"    ",startCircle:"      ",finishCircle:"      ",placeCircleMarker:"      "},actions:{finish:"",cancel:"",removeLastVertex:"  "},buttonTitles:{drawMarkerButton:" ",drawPolyButton:" ",drawLineButton:" ",drawCircleButton:" ",drawRectButton:" ",editButton:" ",dragButton:" ",cutButton:" ",deleteButton:" ",drawCircleMarkerButton:"  ",snappingButton:"        ",pinningButton:"   ",rotateButton:"  "}},as={tooltips:{placeMarker:"Kattintson a jell elhelyezshez",firstVertex:"Kattintson az els pont elhelyezshez",continueLine:"Kattintson a kvetkez pont elhelyezshez",finishLine:"A befejezshez kattintson egy meglv pontra",finishPoly:"A befejezshez kattintson az els pontra",finishRect:"Kattintson a befejezshez",startCircle:"Kattintson a kr kzppontjnak elhelyezshez",finishCircle:"Kattintson a kr befejezshez",placeCircleMarker:"Kattintson a krjell elhelyezshez"},actions:{finish:"Befejezs",cancel:"Mgse",removeLastVertex:"Utols pont eltvoltsa"},buttonTitles:{drawMarkerButton:"Jell rajzolsa",drawPolyButton:"Poligon rajzolsa",drawLineButton:"Vonal rajzolsa",drawCircleButton:"Kr rajzolsa",drawRectButton:"Ngyzet rajzolsa",editButton:"Elemek szerkesztse",dragButton:"Elemek mozgatsa",cutButton:"Elemek vgsa",deleteButton:"Elemek trlse",drawCircleMarkerButton:"Kr jell rajzolsa",snappingButton:"Kapcsolja a jelltt msik elemhez vagy ponthoz",pinningButton:"Kzs pontok sszektse",rotateButton:"Flia elforgatsa"}},ct={tooltips:{placeMarker:"Tryk for at placere en markr",firstVertex:"Tryk for at placere det frste punkt",continueLine:"Tryk for at fortstte linjen",finishLine:"Tryk p et eksisterende punkt for at afslutte",finishPoly:"Tryk p det frste punkt for at afslutte",finishRect:"Tryk for at afslutte",startCircle:"Tryk for at placere cirklens center",finishCircle:"Tryk for at afslutte cirklen",placeCircleMarker:"Tryk for at placere en cirkelmarkr"},actions:{finish:"Afslut",cancel:"Afbryd",removeLastVertex:"Fjern sidste punkt"},buttonTitles:{drawMarkerButton:"Placer markr",drawPolyButton:"Tegn polygon",drawLineButton:"Tegn linje",drawCircleButton:"Tegn cirkel",drawRectButton:"Tegn firkant",editButton:"Rediger",dragButton:"Trk",cutButton:"Klip",deleteButton:"Fjern",drawCircleMarkerButton:"Tegn cirkelmarkr",snappingButton:"Fastgr trukket markr til andre elementer",pinningButton:"Sammenlg delte elementer",rotateButton:"Roter laget"}},kt={tooltips:{placeMarker:"Klikk for  plassere punkt",firstVertex:"Klikk for  plassere frste punkt",continueLine:"Klikk for  tegne videre",finishLine:"Klikk p et eksisterende punkt for  fullfre",finishPoly:"Klikk frste punkt for  fullfre",finishRect:"Klikk for  fullfre",startCircle:"Klikk for  sette sirkel midtpunkt",finishCircle:"Klikk for  fullfre sirkel",placeCircleMarker:"Klikk for  plassere sirkel",placeText:"Klikk for  plassere tekst"},actions:{finish:"Fullfr",cancel:"Kanseller",removeLastVertex:"Fjern forrige punkt"},buttonTitles:{drawMarkerButton:"Tegn punkt",drawPolyButton:"Tegn flate",drawLineButton:"Tegn linje",drawCircleButton:"Tegn sirkel",drawRectButton:"Tegn rektangel",editButton:"Rediger objekter",dragButton:"Dra objekter",cutButton:"Kutt objekter",deleteButton:"Fjern objekter",drawCircleMarkerButton:"Tegn sirkel-punkt",snappingButton:"Fest dratt punkt til andre objekter og punkt",pinningButton:"Pin delte punkter sammen",rotateButton:"Rotr objekter",drawTextButton:"Tegn tekst",scaleButton:"Skalr objekter",autoTracingButton:"Automatisk sporing av linje"},measurements:{totalLength:"Lengde",segmentLength:"Segmentlengde",area:"Omrde",radius:"Radius",perimeter:"Omriss",height:"Hyde",width:"Bredde",coordinates:"Posisjon",coordinatesMarker:"Posisjonsmarkr"}},$t={tooltips:{placeMarker:"   ",firstVertex:"    ",continueLine:"   ",finishLine:"      ",finishPoly:"     ",finishRect:"  ",startCircle:"    ",finishCircle:"    ",placeCircleMarker:"    ",placeText:"   "},actions:{finish:"",cancel:"",removeLastVertex:"  "},buttonTitles:{drawMarkerButton:" ",drawPolyButton:" ",drawLineButton:" ",drawCircleButton:" ",drawRectButton:" ",editButton:" ",dragButton:" ",cutButton:" ",deleteButton:" ",drawCircleMarkerButton:"  ",snappingButton:"       ",pinningButton:"      ",rotateButton:" ",drawTextButton:" ",scaleButton:"",autoTracingButton:" "},measurements:{totalLength:"",segmentLength:" ",area:"",radius:"",perimeter:"",height:"",width:"",coordinates:"",coordinatesMarker:" "}},Sr={tooltips:{placeMarker:",   ",firstVertex:",    ",continueLine:",   ",finishLine:" -    ",finishPoly:"  ,  ",finishRect:",  ",startCircle:",    ",finishCircle:",   ",placeCircleMarker:",    "},actions:{finish:"",cancel:"",removeLastVertex:"  "},buttonTitles:{drawMarkerButton:" ",drawPolyButton:" ",drawLineButton:" ",drawCircleButton:" ",drawRectButton:" ",editButton:" ",dragButton:" ",cutButton:" ",deleteButton:" ",drawCircleMarkerButton:"  ",snappingButton:"       ",pinningButton:"'   ",rotateButton:" "}},Ur={tooltips:{placeMarker:"areti yerletirmek iin tklayn",firstVertex:"lk tepe noktasn yerletirmek iin tklayn",continueLine:"izime devam etmek iin tklayn",finishLine:"Bitirmek iin mevcut herhangi bir iaretiyi tklayn",finishPoly:"Bitirmek iin ilk iaretiyi tklayn",finishRect:"Bitirmek iin tklayn",startCircle:"Daire merkezine yerletirmek iin tklayn",finishCircle:"Daireyi bitirmek iin tklayn",placeCircleMarker:"Daire iaretisi yerletirmek iin tklayn"},actions:{finish:"Bitir",cancel:"ptal",removeLastVertex:"Son keyi kaldr"},buttonTitles:{drawMarkerButton:"izim aretisi",drawPolyButton:"okgenler iz",drawLineButton:"oklu izgi iz",drawCircleButton:"ember iz",drawRectButton:"Dikdrtgen iz",editButton:"Katmanlar dzenle",dragButton:"Katmanlar srkle",cutButton:"Katmanlar kes",deleteButton:"Katmanlar kaldr",drawCircleMarkerButton:"Daire iaretisi iz",snappingButton:"Srklenen iaretiyi dier katmanlara ve kelere yaptr",pinningButton:"Paylalan keleri birbirine sabitle",rotateButton:"Katman dndr"}},Pr={tooltips:{placeMarker:"Kliknutm vytvote znaku",firstVertex:"Kliknutm vytvote prvn objekt",continueLine:"Kliknutm pokraujte v kreslen",finishLine:"Kliknut na libovolnou existujc znaku pro dokonen",finishPoly:"Vyberte prvn bod pro dokonen",finishRect:"Kliknte pro dokonen",startCircle:"Kliknutm pidejte sted kruhu",finishCircle:",   ",placeCircleMarker:"Kliknutm nastavte polomr"},actions:{finish:"Dokonit",cancel:"Zruit",removeLastVertex:"Zruit posledn akci"},buttonTitles:{drawMarkerButton:"Pidat znaku",drawPolyButton:"Nakreslit polygon",drawLineButton:"Nakreslit kivku",drawCircleButton:"Nakreslit kruh",drawRectButton:"Nakreslit obdlnk",editButton:"Upravit vrstvu",dragButton:"Peneste vrstvu",cutButton:"Vyjmout vrstvu",deleteButton:"Smazat vrstvu",drawCircleMarkerButton:"Pidat kruhovou znaku",snappingButton:"Navzat tanou znaku k dalm vrstvm a vrcholm",pinningButton:"Spojit spolen body dohromady",rotateButton:"Otote vrstvu"}},ei={tooltips:{placeMarker:"",firstVertex:"",continueLine:"",finishLine:"",finishPoly:"",finishRect:"",startCircle:"",finishCircle:"",placeCircleMarker:"",placeText:""},actions:{finish:"",cancel:"",removeLastVertex:""},buttonTitles:{drawMarkerButton:"",drawPolyButton:"",drawLineButton:"",drawCircleButton:"",drawRectButton:"",editButton:"",dragButton:"",cutButton:"",deleteButton:"",drawCircleMarkerButton:"",snappingButton:"",pinningButton:"",rotateButton:"",drawTextButton:""}},si={tooltips:{placeMarker:"Klikkaa asettaaksesi merkin",firstVertex:"Klikkaa asettaakseni ensimmisen osuuden",continueLine:"Klikkaa jatkaaksesi piirtmist",finishLine:"Klikkaa olemassa olevaa merkki lopettaaksesi",finishPoly:"Klikkaa ensimmist merkki lopettaaksesi",finishRect:"Klikkaa lopettaaksesi",startCircle:"Klikkaa asettaaksesi ympyrn keskipisteen",finishCircle:"Klikkaa lopettaaksesi ympyrn",placeCircleMarker:"Klikkaa asettaaksesi ympyrmerkin",placeText:"Klikkaa asettaaksesi tekstin"},actions:{finish:"Valmis",cancel:"Peruuta",removeLastVertex:"Poista viimeinen osuus"},buttonTitles:{drawMarkerButton:"Piirr merkkej",drawPolyButton:"Piirr monikulmioita",drawLineButton:"Piirr viivoja",drawCircleButton:"Piirr ympyr",drawRectButton:"Piirr neliskulmioita",editButton:"Muokkaa",dragButton:"Siirr",cutButton:"Leikkaa",deleteButton:"Poista",drawCircleMarkerButton:"Piirr ympyrmerkki",snappingButton:"Kiinnit siirrettv merkki toisiin muotoihin",pinningButton:"Kiinnit jaetut muodot yhteen",rotateButton:"Knn",drawTextButton:"Piirr teksti"}},Ni={tooltips:{placeMarker:"  ",firstVertex:"   ",continueLine:"  ",finishLine:"   ",finishPoly:"   ",finishRect:" ",startCircle:"    ",finishCircle:"  ",placeCircleMarker:"   ",placeText:"  "},actions:{finish:"",cancel:"",removeLastVertex:"  "},buttonTitles:{drawMarkerButton:" ",drawPolyButton:" ",drawLineButton:" ",drawCircleButton:" ",drawRectButton:" ",editButton:" ",dragButton:" ",cutButton:" ",deleteButton:" ",drawCircleMarkerButton:"  ",snappingButton:"       ",pinningButton:"   ",rotateButton:" ",drawTextButton:" "}},Ui={tooltips:{placeMarker:"   ",firstVertex:"    ",continueLine:"    ",finishLine:"    ",finishPoly:"    ",finishRect:"  ",startCircle:"    ",finishCircle:"   ",placeCircleMarker:"    ",placeText:"   "},actions:{finish:"",cancel:" ",removeLastVertex:"  "},buttonTitles:{drawMarkerButton:" ",drawPolyButton:" ",drawLineButton:" ",drawCircleButton:" ",drawRectButton:" ",editButton:" ",dragButton:"  ",cutButton:"  ",deleteButton:" ",drawCircleMarkerButton:"  ",snappingButton:"     ",pinningButton:"   ",rotateButton:" ",drawTextButton:" ",scaleButton:"  ",autoTracingButton:"  "},measurements:{totalLength:"",segmentLength:" ",area:"",radius:"",perimeter:"",height:"",width:"",coordinates:"",coordinatesMarker:" "}},la=Ja,$i={en:pa,de:Va,it:Do,id:Zi,ro:es,ru:Ro,es:Ca,nl:ua,fr:ao,pt:la,pt_br:po,pt_pt:Ja,zh:Qa,zh_tw:Sa,pl:Ga,sv:oo,el:go,hu:as,da:ct,no:kt,fa:$t,ua:Sr,tr:Ur,cz:Pr,ja:ei,fi:si,ko:Ni,ky:Ui},wa={_globalEditModeEnabled:!1,enableGlobalEditMode(ne){let pe={...ne};this._globalEditModeEnabled=!0,this.Toolbar.toggleButton("editMode",this.globalEditModeEnabled()),L.PM.Utils.findLayers(this.map).forEach(Ue=>{this._isRelevantForEdit(Ue)&&Ue.pm.enable(pe)}),this.throttledReInitEdit||(this.throttledReInitEdit=L.Util.throttle(this.handleLayerAdditionInGlobalEditMode,100,this)),this._addedLayersEdit={},this.map.on("layeradd",this._layerAddedEdit,this),this.map.on("layeradd",this.throttledReInitEdit,this),this._fireGlobalEditModeToggled(!0)},disableGlobalEditMode(){this._globalEditModeEnabled=!1,L.PM.Utils.findLayers(this.map).forEach(ne=>{ne.pm.disable()}),this.map.off("layeradd",this._layerAddedEdit,this),this.map.off("layeradd",this.throttledReInitEdit,this),this.Toolbar.toggleButton("editMode",this.globalEditModeEnabled()),this._fireGlobalEditModeToggled(!1)},globalEditEnabled(){return this.globalEditModeEnabled()},globalEditModeEnabled(){return this._globalEditModeEnabled},toggleGlobalEditMode(ne=this.globalOptions){this.globalEditModeEnabled()?this.disableGlobalEditMode():this.enableGlobalEditMode(ne)},handleLayerAdditionInGlobalEditMode(){let ne=this._addedLayersEdit;if(this._addedLayersEdit={},this.globalEditModeEnabled())for(let pe in ne){let Ue=ne[pe];this._isRelevantForEdit(Ue)&&Ue.pm.enable({...this.globalOptions})}},_layerAddedEdit({layer:ne}){this._addedLayersEdit[L.stamp(ne)]=ne},_isRelevantForEdit(ne){return ne.pm&&!(ne instanceof L.LayerGroup)&&(!L.PM.optIn&&!ne.options.pmIgnore||L.PM.optIn&&ne.options.pmIgnore===!1)&&!ne._pmTempLayer&&ne.pm.options.allowEditing}},Ri=wa,za={_globalDragModeEnabled:!1,enableGlobalDragMode(){let ne=L.PM.Utils.findLayers(this.map);this._globalDragModeEnabled=!0,this._addedLayersDrag={},ne.forEach(pe=>{this._isRelevantForDrag(pe)&&pe.pm.enableLayerDrag()}),this.throttledReInitDrag||(this.throttledReInitDrag=L.Util.throttle(this.reinitGlobalDragMode,100,this)),this.map.on("layeradd",this._layerAddedDrag,this),this.map.on("layeradd",this.throttledReInitDrag,this),this.Toolbar.toggleButton("dragMode",this.globalDragModeEnabled()),this._fireGlobalDragModeToggled(!0)},disableGlobalDragMode(){let ne=L.PM.Utils.findLayers(this.map);this._globalDragModeEnabled=!1,ne.forEach(pe=>{pe.pm.disableLayerDrag()}),this.map.off("layeradd",this._layerAddedDrag,this),this.map.off("layeradd",this.throttledReInitDrag,this),this.Toolbar.toggleButton("dragMode",this.globalDragModeEnabled()),this._fireGlobalDragModeToggled(!1)},globalDragModeEnabled(){return!!this._globalDragModeEnabled},toggleGlobalDragMode(){this.globalDragModeEnabled()?this.disableGlobalDragMode():this.enableGlobalDragMode()},reinitGlobalDragMode(){let ne=this._addedLayersDrag;if(this._addedLayersDrag={},this.globalDragModeEnabled())for(let pe in ne){let Ue=ne[pe];this._isRelevantForDrag(Ue)&&Ue.pm.enableLayerDrag()}},_layerAddedDrag({layer:ne}){this._addedLayersDrag[L.stamp(ne)]=ne},_isRelevantForDrag(ne){return ne.pm&&!(ne instanceof L.LayerGroup)&&(!L.PM.optIn&&!ne.options.pmIgnore||L.PM.optIn&&ne.options.pmIgnore===!1)&&!ne._pmTempLayer&&ne.pm.options.draggable}},ea=za,Xa={_globalRemovalModeEnabled:!1,enableGlobalRemovalMode(){this._globalRemovalModeEnabled=!0,this.map.eachLayer(ne=>{this._isRelevantForRemoval(ne)&&(ne.pm.enabled()&&ne.pm.disable(),ne.on("click",this.removeLayer,this))}),this.throttledReInitRemoval||(this.throttledReInitRemoval=L.Util.throttle(this.handleLayerAdditionInGlobalRemovalMode,100,this)),this._addedLayersRemoval={},this.map.on("layeradd",this._layerAddedRemoval,this),this.map.on("layeradd",this.throttledReInitRemoval,this),this.Toolbar.toggleButton("removalMode",this.globalRemovalModeEnabled()),this._fireGlobalRemovalModeToggled(!0)},disableGlobalRemovalMode(){this._globalRemovalModeEnabled=!1,this.map.eachLayer(ne=>{ne.off("click",this.removeLayer,this)}),this.map.off("layeradd",this._layerAddedRemoval,this),this.map.off("layeradd",this.throttledReInitRemoval,this),this.Toolbar.toggleButton("removalMode",this.globalRemovalModeEnabled()),this._fireGlobalRemovalModeToggled(!1)},globalRemovalEnabled(){return this.globalRemovalModeEnabled()},globalRemovalModeEnabled(){return!!this._globalRemovalModeEnabled},toggleGlobalRemovalMode(){this.globalRemovalModeEnabled()?this.disableGlobalRemovalMode():this.enableGlobalRemovalMode()},removeLayer(ne){let pe=ne.target;this._isRelevantForRemoval(pe)&&!pe.pm.dragging()&&(pe.removeFrom(this.map.pm._getContainingLayer()),pe.remove(),pe instanceof L.LayerGroup?(this._fireRemoveLayerGroup(pe),this._fireRemoveLayerGroup(this.map,pe)):(pe.pm._fireRemove(pe),pe.pm._fireRemove(this.map,pe)))},_isRelevantForRemoval(ne){return ne.pm&&!(ne instanceof L.LayerGroup)&&(!L.PM.optIn&&!ne.options.pmIgnore||L.PM.optIn&&ne.options.pmIgnore===!1)&&!ne._pmTempLayer&&ne.pm.options.allowRemoval},handleLayerAdditionInGlobalRemovalMode(){let ne=this._addedLayersRemoval;if(this._addedLayersRemoval={},this.globalRemovalModeEnabled())for(let pe in ne){let Ue=ne[pe];this._isRelevantForRemoval(Ue)&&(Ue.pm.enabled()&&Ue.pm.disable(),Ue.on("click",this.removeLayer,this))}},_layerAddedRemoval({layer:ne}){this._addedLayersRemoval[L.stamp(ne)]=ne}},Uo=Xa,ts={_globalRotateModeEnabled:!1,enableGlobalRotateMode(){this._globalRotateModeEnabled=!0,L.PM.Utils.findLayers(this.map).filter(ne=>ne instanceof L.Polyline).forEach(ne=>{this._isRelevantForRotate(ne)&&ne.pm.enableRotate()}),this.throttledReInitRotate||(this.throttledReInitRotate=L.Util.throttle(this.handleLayerAdditionInGlobalRotateMode,100,this)),this._addedLayersRotate={},this.map.on("layeradd",this._layerAddedRotate,this),this.map.on("layeradd",this.throttledReInitRotate,this),this.Toolbar.toggleButton("rotateMode",this.globalRotateModeEnabled()),this._fireGlobalRotateModeToggled()},disableGlobalRotateMode(){this._globalRotateModeEnabled=!1,L.PM.Utils.findLayers(this.map).filter(ne=>ne instanceof L.Polyline).forEach(ne=>{ne.pm.disableRotate()}),this.map.off("layeradd",this._layerAddedRotate,this),this.map.off("layeradd",this.throttledReInitRotate,this),this.Toolbar.toggleButton("rotateMode",this.globalRotateModeEnabled()),this._fireGlobalRotateModeToggled()},globalRotateModeEnabled(){return!!this._globalRotateModeEnabled},toggleGlobalRotateMode(){this.globalRotateModeEnabled()?this.disableGlobalRotateMode():this.enableGlobalRotateMode()},_isRelevantForRotate(ne){return ne.pm&&ne instanceof L.Polyline&&!(ne instanceof L.LayerGroup)&&(!L.PM.optIn&&!ne.options.pmIgnore||L.PM.optIn&&ne.options.pmIgnore===!1)&&!ne._pmTempLayer&&ne.pm.options.allowRotation},handleLayerAdditionInGlobalRotateMode(){let ne=this._addedLayersRotate;if(this._addedLayersRotate={},this.globalRotateModeEnabled())for(let pe in ne){let Ue=ne[pe];this._isRelevantForRemoval(Ue)&&Ue.pm.enableRotate()}},_layerAddedRotate({layer:ne}){this._addedLayersRotate[L.stamp(ne)]=ne}},Ns=ts,Wa=I(zn()),Bo={_fireDrawStart(ne="Draw",pe={}){this.__fire(this._map,"pm:drawstart",{shape:this._shape,workingLayer:this._layer},ne,pe)},_fireDrawEnd(ne="Draw",pe={}){this.__fire(this._map,"pm:drawend",{shape:this._shape},ne,pe)},_fireCreate(ne,pe="Draw",Ue={}){this.__fire(this._map,"pm:create",{shape:this._shape,marker:ne,layer:ne},pe,Ue)},_fireCenterPlaced(ne="Draw",pe={}){let Ue=ne==="Draw"?this._layer:void 0,qe=ne!=="Draw"?this._layer:void 0;this.__fire(this._layer,"pm:centerplaced",{shape:this._shape,workingLayer:Ue,layer:qe,latlng:this._layer.getLatLng()},ne,pe)},_fireCut(ne,pe,Ue,qe="Draw",$e={}){this.__fire(ne,"pm:cut",{shape:this._shape,layer:pe,originalLayer:Ue},qe,$e)},_fireEdit(ne=this._layer,pe="Edit",Ue={}){this.__fire(ne,"pm:edit",{layer:this._layer,shape:this.getShape()},pe,Ue)},_fireEnable(ne="Edit",pe={}){this.__fire(this._layer,"pm:enable",{layer:this._layer,shape:this.getShape()},ne,pe)},_fireDisable(ne="Edit",pe={}){this.__fire(this._layer,"pm:disable",{layer:this._layer,shape:this.getShape()},ne,pe)},_fireUpdate(ne="Edit",pe={}){this.__fire(this._layer,"pm:update",{layer:this._layer,shape:this.getShape()},ne,pe)},_fireMarkerDragStart(ne,pe=void 0,Ue="Edit",qe={}){this.__fire(this._layer,"pm:markerdragstart",{layer:this._layer,markerEvent:ne,shape:this.getShape(),indexPath:pe},Ue,qe)},_fireMarkerDrag(ne,pe=void 0,Ue="Edit",qe={}){this.__fire(this._layer,"pm:markerdrag",{layer:this._layer,markerEvent:ne,shape:this.getShape(),indexPath:pe},Ue,qe)},_fireMarkerDragEnd(ne,pe=void 0,Ue=void 0,qe="Edit",$e={}){this.__fire(this._layer,"pm:markerdragend",{layer:this._layer,markerEvent:ne,shape:this.getShape(),indexPath:pe,intersectionReset:Ue},qe,$e)},_fireDragStart(ne="Edit",pe={}){this.__fire(this._layer,"pm:dragstart",{layer:this._layer,shape:this.getShape()},ne,pe)},_fireDrag(ne,pe="Edit",Ue={}){this.__fire(this._layer,"pm:drag",{...ne,shape:this.getShape()},pe,Ue)},_fireDragEnd(ne="Edit",pe={}){this.__fire(this._layer,"pm:dragend",{layer:this._layer,shape:this.getShape()},ne,pe)},_fireDragEnable(ne="Edit",pe={}){this.__fire(this._layer,"pm:dragenable",{layer:this._layer,shape:this.getShape()},ne,pe)},_fireDragDisable(ne="Edit",pe={}){this.__fire(this._layer,"pm:dragdisable",{layer:this._layer,shape:this.getShape()},ne,pe)},_fireRemove(ne,pe=ne,Ue="Edit",qe={}){this.__fire(ne,"pm:remove",{layer:pe,shape:this.getShape()},Ue,qe)},_fireVertexAdded(ne,pe,Ue,qe="Edit",$e={}){this.__fire(this._layer,"pm:vertexadded",{layer:this._layer,workingLayer:this._layer,marker:ne,indexPath:pe,latlng:Ue,shape:this.getShape()},qe,$e)},_fireVertexRemoved(ne,pe,Ue="Edit",qe={}){this.__fire(this._layer,"pm:vertexremoved",{layer:this._layer,marker:ne,indexPath:pe,shape:this.getShape()},Ue,qe)},_fireVertexClick(ne,pe,Ue="Edit",qe={}){this.__fire(this._layer,"pm:vertexclick",{layer:this._layer,markerEvent:ne,indexPath:pe,shape:this.getShape()},Ue,qe)},_fireIntersect(ne,pe=this._layer,Ue="Edit",qe={}){this.__fire(pe,"pm:intersect",{layer:this._layer,intersection:ne,shape:this.getShape()},Ue,qe)},_fireLayerReset(ne,pe,Ue="Edit",qe={}){this.__fire(this._layer,"pm:layerreset",{layer:this._layer,markerEvent:ne,indexPath:pe,shape:this.getShape()},Ue,qe)},_fireChange(ne,pe="Edit",Ue={}){this.__fire(this._layer,"pm:change",{layer:this._layer,latlngs:ne,shape:this.getShape()},pe,Ue)},_fireTextChange(ne,pe="Edit",Ue={}){this.__fire(this._layer,"pm:textchange",{layer:this._layer,text:ne,shape:this.getShape()},pe,Ue)},_fireTextFocus(ne="Edit",pe={}){this.__fire(this._layer,"pm:textfocus",{layer:this._layer,shape:this.getShape()},ne,pe)},_fireTextBlur(ne="Edit",pe={}){this.__fire(this._layer,"pm:textblur",{layer:this._layer,shape:this.getShape()},ne,pe)},_fireSnapDrag(ne,pe,Ue="Snapping",qe={}){this.__fire(ne,"pm:snapdrag",pe,Ue,qe)},_fireSnap(ne,pe,Ue="Snapping",qe={}){this.__fire(ne,"pm:snap",pe,Ue,qe)},_fireUnsnap(ne,pe,Ue="Snapping",qe={}){this.__fire(ne,"pm:unsnap",pe,Ue,qe)},_fireRotationEnable(ne,pe,Ue="Rotation",qe={}){this.__fire(ne,"pm:rotateenable",{layer:this._layer,helpLayer:this._rotatePoly,shape:this.getShape()},Ue,qe)},_fireRotationDisable(ne,pe="Rotation",Ue={}){this.__fire(ne,"pm:rotatedisable",{layer:this._layer,shape:this.getShape()},pe,Ue)},_fireRotationStart(ne,pe,Ue="Rotation",qe={}){this.__fire(ne,"pm:rotatestart",{layer:this._rotationLayer,helpLayer:this._layer,startAngle:this._startAngle,originLatLngs:pe},Ue,qe)},_fireRotation(ne,pe,Ue,qe=this._rotationLayer,$e="Rotation",ht={}){this.__fire(ne,"pm:rotate",{layer:qe,helpLayer:this._layer,startAngle:this._startAngle,angle:qe.pm.getAngle(),angleDiff:pe,oldLatLngs:Ue,newLatLngs:qe.getLatLngs()},$e,ht)},_fireRotationEnd(ne,pe,Ue,qe="Rotation",$e={}){this.__fire(ne,"pm:rotateend",{layer:this._rotationLayer,helpLayer:this._layer,startAngle:pe,angle:this._rotationLayer.pm.getAngle(),originLatLngs:Ue,newLatLngs:this._rotationLayer.getLatLngs()},qe,$e)},_fireActionClick(ne,pe,Ue,qe="Toolbar",$e={}){this.__fire(this._map,"pm:actionclick",{text:ne.text,action:ne,btnName:pe,button:Ue},qe,$e)},_fireButtonClick(ne,pe,Ue="Toolbar",qe={}){this.__fire(this._map,"pm:buttonclick",{btnName:ne,button:pe},Ue,qe)},_fireLangChange(ne,pe,Ue,qe,$e="Global",ht={}){this.__fire(this.map,"pm:langchange",{oldLang:ne,activeLang:pe,fallback:Ue,translations:qe},$e,ht)},_fireGlobalDragModeToggled(ne,pe="Global",Ue={}){this.__fire(this.map,"pm:globaldragmodetoggled",{enabled:ne,map:this.map},pe,Ue)},_fireGlobalEditModeToggled(ne,pe="Global",Ue={}){this.__fire(this.map,"pm:globaleditmodetoggled",{enabled:ne,map:this.map},pe,Ue)},_fireGlobalRemovalModeToggled(ne,pe="Global",Ue={}){this.__fire(this.map,"pm:globalremovalmodetoggled",{enabled:ne,map:this.map},pe,Ue)},_fireGlobalCutModeToggled(ne="Global",pe={}){this.__fire(this._map,"pm:globalcutmodetoggled",{enabled:!!this._enabled,map:this._map},ne,pe)},_fireGlobalDrawModeToggled(ne="Global",pe={}){this.__fire(this._map,"pm:globaldrawmodetoggled",{enabled:this._enabled,shape:this._shape,map:this._map},ne,pe)},_fireGlobalRotateModeToggled(ne="Global",pe={}){this.__fire(this.map,"pm:globalrotatemodetoggled",{enabled:this.globalRotateModeEnabled(),map:this.map},ne,pe)},_fireRemoveLayerGroup(ne,pe=ne,Ue="Edit",qe={}){this.__fire(ne,"pm:remove",{layer:pe,shape:void 0},Ue,qe)},_fireKeyeventEvent(ne,pe,Ue,qe="Global",$e={}){this.__fire(this.map,"pm:keyevent",{event:ne,eventType:pe,focusOn:Ue},qe,$e)},__fire(ne,pe,Ue,qe,$e={}){Ue=(0,Wa.default)(Ue,$e,{source:qe}),L.PM.Utils._fireEvent(ne,pe,Ue)}},Zo=Bo,Yo=()=>({_lastEvents:{keydown:void 0,keyup:void 0,current:void 0},_initKeyListener(ne){this.map=ne,L.DomEvent.on(document,"keydown keyup",this._onKeyListener,this),L.DomEvent.on(window,"blur",this._onBlur,this),ne.once("unload",this._unbindKeyListenerEvents,this)},_unbindKeyListenerEvents(){L.DomEvent.off(document,"keydown keyup",this._onKeyListener,this),L.DomEvent.off(window,"blur",this._onBlur,this)},_onKeyListener(ne){let pe="document";this.map.getContainer().contains(ne.target)&&(pe="map");let Ue={event:ne,eventType:ne.type,focusOn:pe};this._lastEvents[ne.type]=Ue,this._lastEvents.current=Ue,this.map.pm._fireKeyeventEvent(ne,ne.type,pe)},_onBlur(ne){ne.altKey=!1;let pe={event:ne,eventType:ne.type,focusOn:"document"};this._lastEvents[ne.type]=pe,this._lastEvents.current=pe},getLastKeyEvent(ne="current"){return this._lastEvents[ne]},isShiftKeyPressed(){return this._lastEvents.current?.event.shiftKey},isAltKeyPressed(){return this._lastEvents.current?.event.altKey},isCtrlKeyPressed(){return this._lastEvents.current?.event.ctrlKey},isMetaKeyPressed(){return this._lastEvents.current?.event.metaKey},getPressedKey(){return this._lastEvents.current?.event.key}}),Vi=Yo,Yr=I(co());function gi(ne){let pe=L.PM.activeLang;return(0,Yr.default)($i[pe],ne)||(0,Yr.default)($i.en,ne)||ne}function so(ne){for(let pe=0;pe<ne.length;pe+=1){let Ue=ne[pe];if(Array.isArray(Ue)){if(so(Ue))return!0}else if(Ue!=null&&Ue!=="")return!0}return!1}function yo(ne){return ne.reduce((pe,Ue)=>{if(Ue.length!==0){let qe=Array.isArray(Ue)?yo(Ue):Ue;Array.isArray(qe)?qe.length!==0&&pe.push(qe):pe.push(qe)}return pe},[])}function ms(ne,pe,Ue){let qe={a:L.CRS.Earth.R,b:63567523142e-4,f:.0033528106647474805},{a:$e,b:ht,f:Tt}=qe,Ot=ne.lng,Kt=ne.lat,ir=Ue,Rr=Math.PI,Mr=pe*Rr/180,pn=Math.sin(Mr),bn=Math.cos(Mr),Zn=(1-Tt)*Math.tan(Kt*Rr/180),ci=1/Math.sqrt(1+Zn*Zn),xi=Zn*ci,ma=Math.atan2(Zn,bn),Or=ci*pn,Wr=1-Or*Or,an=Wr*($e*$e-ht*ht)/(ht*ht),wn=1+an/16384*(4096+an*(-768+an*(320-175*an))),un=an/1024*(256+an*(-128+an*(74-47*an))),fn=ir/(ht*wn),Vt=2*Math.PI,cr,xr,yr;for(;Math.abs(fn-Vt)>1e-12;){cr=Math.cos(2*ma+fn),xr=Math.sin(fn),yr=Math.cos(fn);let On=un*xr*(cr+un/4*(yr*(-1+2*cr*cr)-un/6*cr*(-3+4*xr*xr)*(-3+4*cr*cr)));Vt=fn,fn=ir/(ht*wn)+On}let wr=xi*xr-ci*yr*bn,Er=Math.atan2(xi*yr+ci*xr*bn,(1-Tt)*Math.sqrt(Or*Or+wr*wr)),Ir=Math.atan2(xr*pn,ci*yr-xi*xr*bn),qr=Tt/16*Wr*(4+Tt*(4-3*Wr)),Qr=Ir-(1-qr)*Tt*Or*(fn+qr*xr*(cr+qr*yr*(-1+2*cr*cr))),Zr=Ot+Qr*180/Rr,en=Er*180/Rr;return L.latLng(Zr,en)}function jo(ne,pe,Ue,qe,$e=!0){let ht,Tt,Ot,Kt=[];for(let ir=0;ir<Ue;ir+=1){if($e)ht=ir*360/Ue+qe,Tt=ms(ne,ht,pe),Ot=L.latLng(Tt.lng,Tt.lat);else{let Rr=ne.lat+Math.cos(2*ir*Math.PI/Ue)*pe,Mr=ne.lng+Math.sin(2*ir*Math.PI/Ue)*pe;Ot=L.latLng(Rr,Mr)}Kt.push(Ot)}return Kt}function qi(ne,pe,Ue){pe=(pe+360)%360;let qe=Math.PI/180,$e=180/Math.PI,{R:ht}=L.CRS.Earth,Tt=ne.lng*qe,Ot=ne.lat*qe,Kt=pe*qe,ir=Math.sin(Ot),Rr=Math.cos(Ot),Mr=Math.cos(Ue/ht),pn=Math.sin(Ue/ht),bn=Math.asin(ir*Mr+Rr*pn*Math.cos(Kt)),Zn=Tt+Math.atan2(Math.sin(Kt)*pn*Rr,Mr-ir*Math.sin(bn));Zn*=$e;let ci=Zn-360,xi=Zn<-180?Zn+360:Zn;return Zn=Zn>180?ci:xi,L.latLng([bn*$e,Zn])}function Po(ne,pe,Ue){let qe=ne.latLngToContainerPoint(pe),$e=ne.latLngToContainerPoint(Ue),ht=Math.atan2($e.y-qe.y,$e.x-qe.x)*180/Math.PI+90;return ht+=ht<0?360:0,ht}function vo(ne,pe,Ue,qe){let $e=Po(ne,pe,Ue);return qi(pe,$e,qe)}function $a(ne,pe,Ue="asc"){if(!pe||Object.keys(pe).length===0)return(Kt,ir)=>Kt-ir;let qe=Object.keys(pe),$e,ht=qe.length-1,Tt={};for(;ht>=0;)$e=qe[ht],Tt[$e.toLowerCase()]=pe[$e],ht-=1;function Ot(Kt){if(Kt instanceof L.Marker)return"Marker";if(Kt instanceof L.Circle)return"Circle";if(Kt instanceof L.CircleMarker)return"CircleMarker";if(Kt instanceof L.Rectangle)return"Rectangle";if(Kt instanceof L.Polygon)return"Polygon";if(Kt instanceof L.Polyline)return"Line"}return(Kt,ir)=>{let Rr,Mr;if(Rr=Ot(Kt.layer).toLowerCase(),Mr=Ot(ir.layer).toLowerCase(),!Rr||!Mr)return 0;let pn=Rr in Tt?Tt[Rr]:Number.MAX_SAFE_INTEGER,bn=Mr in Tt?Tt[Mr]:Number.MAX_SAFE_INTEGER,Zn=0;return pn<bn?Zn=-1:pn>bn&&(Zn=1),Ue==="desc"?Zn*-1:Zn}}function ga(ne,pe=ne.getLatLngs()){return ne instanceof L.Polygon?L.polygon(pe).getLatLngs():L.polyline(pe).getLatLngs()}function Da(ne,pe){if(pe.options.crs?.projection?.MAX_LATITUDE){let Ue=pe.options.crs?.projection?.MAX_LATITUDE;ne.lat=Math.max(Math.min(Ue,ne.lat),-Ue)}return ne}function Za(ne){return ne.options.renderer||ne._map&&(ne._map._getPaneRenderer(ne.options.pane)||ne._map.options.renderer||ne._map._renderer)||ne._renderer}var Ne=L.Class.extend({includes:[Ri,ea,Uo,Ns,Zo],initialize(ne){this.map=ne,this.Draw=new L.PM.Draw(ne),this.Toolbar=new L.PM.Toolbar(ne),this.Keyboard=Vi(),this.globalOptions={snappable:!0,layerGroup:void 0,snappingOrder:["Marker","CircleMarker","Circle","Line","Polygon","Rectangle"],panes:{vertexPane:"markerPane",layerPane:"overlayPane",markerPane:"markerPane"},draggable:!0},this.Keyboard._initKeyListener(ne)},setLang(ne="en",pe,Ue="en"){if(ne=ne.trim().toLowerCase(),!/^[a-z]{2}$/.test(ne)){let $e=ne.replace(/[-_\s]/g,"-").replace(/^(\w{2})$/,"$1-").match(/([a-z]{2})-?([a-z]{2})?/);if($e){let ht=[`${$e[1]}_${$e[2]}`,`${$e[1]}`];for(let Tt of ht)if($i[Tt]){ne=Tt;break}}}let qe=L.PM.activeLang;pe&&($i[ne]=(0,Ii.default)($i[Ue],pe)),L.PM.activeLang=ne,this.map.pm.Toolbar.reinit(),this._fireLangChange(qe,ne,Ue,$i[ne])},addControls(ne){this.Toolbar.addControls(ne)},removeControls(){this.Toolbar.removeControls()},toggleControls(){this.Toolbar.toggleControls()},controlsVisible(){return this.Toolbar.isVisible},enableDraw(ne="Polygon",pe){ne==="Poly"&&(ne="Polygon"),this.Draw.enable(ne,pe)},disableDraw(ne="Polygon"){ne==="Poly"&&(ne="Polygon"),this.Draw.disable(ne)},setPathOptions(ne,pe={}){let Ue=pe.ignoreShapes||[],qe=pe.merge||!1;this.map.pm.Draw.shapes.forEach($e=>{Ue.indexOf($e)===-1&&this.map.pm.Draw[$e].setPathOptions(ne,qe)})},getGlobalOptions(){return this.globalOptions},setGlobalOptions(ne){let pe=(0,Ii.default)(this.globalOptions,ne);pe.editable&&(pe.resizeableCircleMarker=pe.editable,delete pe.editable);let Ue=!1;this.map.pm.Draw.CircleMarker.enabled()&&!!this.map.pm.Draw.CircleMarker.options.resizeableCircleMarker!=!!pe.resizeableCircleMarker&&(this.map.pm.Draw.CircleMarker.disable(),Ue=!0);let qe=!1;this.map.pm.Draw.Circle.enabled()&&!!this.map.pm.Draw.Circle.options.resizeableCircle!=!!pe.resizeableCircle&&(this.map.pm.Draw.Circle.disable(),qe=!0),this.map.pm.Draw.shapes.forEach($e=>{this.map.pm.Draw[$e].setOptions(pe)}),Ue&&this.map.pm.Draw.CircleMarker.enable(),qe&&this.map.pm.Draw.Circle.enable(),L.PM.Utils.findLayers(this.map).forEach($e=>{$e.pm.setOptions(pe)}),this.map.fire("pm:globaloptionschanged"),this.globalOptions=pe,this.applyGlobalOptions()},applyGlobalOptions(){L.PM.Utils.findLayers(this.map).forEach(ne=>{ne.pm.enabled()&&ne.pm.applyOptions()})},globalDrawModeEnabled(){return!!this.Draw.getActiveShape()},globalCutModeEnabled(){return!!this.Draw.Cut.enabled()},enableGlobalCutMode(ne){return this.Draw.Cut.enable(ne)},toggleGlobalCutMode(ne){return this.Draw.Cut.toggle(ne)},disableGlobalCutMode(){return this.Draw.Cut.disable()},getGeomanLayers(ne=!1){let pe=L.PM.Utils.findLayers(this.map);if(!ne)return pe;let Ue=L.featureGroup();return Ue._pmTempLayer=!0,pe.forEach(qe=>{Ue.addLayer(qe)}),Ue},getGeomanDrawLayers(ne=!1){let pe=L.PM.Utils.findLayers(this.map).filter(qe=>qe._drawnByGeoman===!0);if(!ne)return pe;let Ue=L.featureGroup();return Ue._pmTempLayer=!0,pe.forEach(qe=>{Ue.addLayer(qe)}),Ue},_getContainingLayer(){return this.globalOptions.layerGroup&&this.globalOptions.layerGroup instanceof L.LayerGroup?this.globalOptions.layerGroup:this.map},_isCRSSimple(){return this.map.options.crs===L.CRS.Simple},_touchEventCounter:0,_addTouchEvents(ne){this._touchEventCounter===0&&(L.DomEvent.on(ne,"touchmove",this._canvasTouchMove,this),L.DomEvent.on(ne,"touchstart touchend touchcancel",this._canvasTouchClick,this)),this._touchEventCounter+=1},_removeTouchEvents(ne){this._touchEventCounter===1&&(L.DomEvent.off(ne,"touchmove",this._canvasTouchMove,this),L.DomEvent.off(ne,"touchstart touchend touchcancel",this._canvasTouchClick,this)),this._touchEventCounter=this._touchEventCounter<=1?0:this._touchEventCounter-1},_canvasTouchMove(ne){Za(this.map)._onMouseMove(this._createMouseEvent("mousemove",ne))},_canvasTouchClick(ne){let pe="";ne.type==="touchstart"||ne.type==="pointerdown"?pe="mousedown":(ne.type==="touchend"||ne.type==="pointerup"||ne.type==="touchcancel"||ne.type==="pointercancel")&&(pe="mouseup"),pe&&Za(this.map)._onClick(this._createMouseEvent(pe,ne))},_createMouseEvent(ne,pe){let Ue,qe=pe.touches[0]||pe.changedTouches[0];try{Ue=new MouseEvent(ne,{bubbles:pe.bubbles,cancelable:pe.cancelable,view:pe.view,detail:qe.detail,screenX:qe.screenX,screenY:qe.screenY,clientX:qe.clientX,clientY:qe.clientY,ctrlKey:pe.ctrlKey,altKey:pe.altKey,shiftKey:pe.shiftKey,metaKey:pe.metaKey,button:pe.button,relatedTarget:pe.relatedTarget})}catch{Ue=document.createEvent("MouseEvents"),Ue.initMouseEvent(ne,pe.bubbles,pe.cancelable,pe.view,qe.detail,qe.screenX,qe.screenY,qe.clientX,qe.clientY,pe.ctrlKey,pe.altKey,pe.shiftKey,pe.metaKey,pe.button,pe.relatedTarget)}return Ue}}),at=Ne,mt=L.Control.extend({includes:[Zo],options:{position:"topleft",disableByOtherButtons:!0},initialize(ne){this._button=L.Util.extend({},this.options,ne)},onAdd(ne){return this._map=ne,this._map.pm.Toolbar.options.oneBlock?this._container=this._map.pm.Toolbar._createContainer(this.options.position):this._button.tool==="edit"?this._container=this._map.pm.Toolbar.editContainer:this._button.tool==="options"?this._container=this._map.pm.Toolbar.optionsContainer:this._button.tool==="custom"?this._container=this._map.pm.Toolbar.customContainer:this._container=this._map.pm.Toolbar.drawContainer,this._renderButton(),this._container},_renderButton(){let ne=this.buttonsDomNode;this.buttonsDomNode=this._makeButton(this._button),ne?ne.replaceWith(this.buttonsDomNode):this._container.appendChild(this.buttonsDomNode)},onRemove(){return this.buttonsDomNode.remove(),this._container},getText(){return this._button.text},getIconUrl(){return this._button.iconUrl},destroy(){this._button={},this._update()},toggle(ne){return typeof ne=="boolean"?this._button.toggleStatus=ne:this._button.toggleStatus=!this._button.toggleStatus,this._applyStyleClasses(),this._updateActiveAction(this._button),this._button.toggleStatus},toggled(){return this._button.toggleStatus},onCreate(){this.toggle(!1)},disable(){this.toggle(!1),this._button.disabled=!0,this._updateDisabled()},enable(){this._button.disabled=!1,this._updateDisabled(),this._updateActiveAction(this._button)},_triggerClick(ne){ne&&ne.preventDefault(),!this._button.disabled&&(this._button.onClick(ne,{button:this,event:ne}),this._clicked(ne),this._button.afterClick(ne,{button:this,event:ne}))},_makeButton(ne){let pe=this.options.position.indexOf("right")>-1?"pos-right":"",Ue=L.DomUtil.create("div",`button-container  ${pe}`,this._container);ne.title&&Ue.setAttribute("title",ne.title);let qe=L.DomUtil.create("a","leaflet-buttons-control-button",Ue);qe.setAttribute("role","button"),qe.setAttribute("tabindex","0"),qe.href="#";let $e=L.DomUtil.create("div",`leaflet-pm-actions-container ${pe}`,Ue),ht=ne.actions,Tt={cancel:{text:gi("actions.cancel"),title:gi("actions.cancel"),onClick(){this._triggerClick()}},finishMode:{text:gi("actions.finish"),title:gi("actions.finish"),onClick(){this._triggerClick()}},removeLastVertex:{text:gi("actions.removeLastVertex"),title:gi("actions.removeLastVertex"),onClick(){this._map.pm.Draw[ne.jsClass]._removeLastVertex()}},finish:{text:gi("actions.finish"),title:gi("actions.finish"),onClick(Kt){this._map.pm.Draw[ne.jsClass]._finishShape(Kt)}}};ne._preparedActions=ht.map(Kt=>{let ir=typeof Kt=="string"?Kt:Kt.name,Rr;if(Tt[ir])Rr=Tt[ir];else if(Kt.text)Rr=Kt;else return Rr;let Mr=L.DomUtil.create("a",`leaflet-pm-action ${pe} action-${ir}`,$e);if(Mr.setAttribute("role","button"),Mr.setAttribute("tabindex","0"),Mr.href="#",Rr.title&&(Mr.title=Rr.title),Mr.innerHTML=Rr.text,L.DomEvent.disableClickPropagation(Mr),L.DomEvent.on(Mr,"click",L.DomEvent.stop),Rr._node=Mr,!ne.disabled&&Rr.onClick){let pn=bn=>{bn.preventDefault();let Zn="",{buttons:ci}=this._map.pm.Toolbar;for(let xi in ci)if(ci[xi]._button===ne){Zn=xi;break}this._fireActionClick(Rr,Zn,ne)};L.DomEvent.addListener(Mr,"click",pn,this),L.DomEvent.addListener(Mr,"click",Rr.onClick,this),L.DomEvent.addListener(Mr,"click",()=>this._updateActiveAction(ne))}return Rr}),this._updateActiveAction(ne),ne.toggleStatus&&L.DomUtil.addClass(Ue,"active");let Ot=L.DomUtil.create("div","control-icon",qe);return ne.iconUrl&&Ot.setAttribute("src",ne.iconUrl),ne.className&&L.DomUtil.addClass(Ot,ne.className),L.DomEvent.disableClickPropagation(qe),L.DomEvent.on(qe,"click",L.DomEvent.stop),ne.disabled||(L.DomEvent.addListener(qe,"click",this._onBtnClick,this),L.DomEvent.addListener(qe,"click",this._triggerClick,this)),ne.disabled&&(L.DomUtil.addClass(qe,"pm-disabled"),qe.setAttribute("aria-disabled","true")),Ue},_applyStyleClasses(){this._container&&(!this._button.toggleStatus||this._button.cssToggle===!1?(L.DomUtil.removeClass(this.buttonsDomNode,"active"),L.DomUtil.removeClass(this._container,"activeChild")):(L.DomUtil.addClass(this.buttonsDomNode,"active"),L.DomUtil.addClass(this._container,"activeChild")))},_onBtnClick(){if(this._button.disabled)return;this._button.disableOtherButtons&&this._map.pm.Toolbar.triggerClickOnToggledButtons(this);let ne="",{buttons:pe}=this._map.pm.Toolbar;for(let Ue in pe)if(pe[Ue]._button===this._button){ne=Ue;break}this._fireButtonClick(ne,this._button)},_clicked(){this._button.doToggle&&this.toggle()},_updateDisabled(){if(!this._container)return;let ne="pm-disabled",pe=this.buttonsDomNode.children[0];this._button.disabled?(L.DomUtil.addClass(pe,ne),pe.setAttribute("aria-disabled","true")):(L.DomUtil.removeClass(pe,ne),pe.setAttribute("aria-disabled","false"))},_updateActiveAction(ne){ne._preparedActions?.forEach(pe=>{pe?._node&&(pe.isActive&&pe.isActive.call(this)?L.DomUtil.addClass(pe._node,"active-action"):L.DomUtil.removeClass(pe._node,"active-action"))})}}),At=mt;L.Control.PMButton=At;var Qt=L.Class.extend({options:{drawMarker:!0,drawRectangle:!0,drawPolyline:!0,drawPolygon:!0,drawCircle:!0,drawCircleMarker:!0,drawText:!0,editMode:!0,dragMode:!0,cutPolygon:!0,removalMode:!0,rotateMode:!0,snappingOption:!0,drawControls:!0,editControls:!0,optionsControls:!0,customControls:!0,oneBlock:!1,position:"topleft",positions:{draw:"",edit:"",options:"",custom:""}},customButtons:[],initialize(ne){this.customButtons=[],this.options.positions={draw:"",edit:"",options:"",custom:""},this.init(ne)},reinit(){let ne=this.isVisible;this.removeControls(),this._defineButtons(),ne&&this.addControls()},init(ne){this.map=ne,this.buttons={},this.isVisible=!1,this.drawContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-draw leaflet-bar leaflet-control"),this.editContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-edit leaflet-bar leaflet-control"),this.optionsContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-options leaflet-bar leaflet-control"),this.customContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-custom leaflet-bar leaflet-control"),this._defineButtons()},_createContainer(ne){let pe=`${ne}Container`;return this[pe]||(this[pe]=L.DomUtil.create("div",`leaflet-pm-toolbar leaflet-pm-${ne} leaflet-bar leaflet-control`)),this[pe]},getButtons(){return this.buttons},addControls(ne=this.options){typeof ne.editPolygon<"u"&&(ne.editMode=ne.editPolygon),typeof ne.deleteLayer<"u"&&(ne.removalMode=ne.deleteLayer),L.Util.setOptions(this,ne),this.applyIconStyle(),this.isVisible=!0,this._showHideButtons()},applyIconStyle(){let ne=this.getButtons(),pe={geomanIcons:{drawMarker:"control-icon leaflet-pm-icon-marker",drawPolyline:"control-icon leaflet-pm-icon-polyline",drawRectangle:"control-icon leaflet-pm-icon-rectangle",drawPolygon:"control-icon leaflet-pm-icon-polygon",drawCircle:"control-icon leaflet-pm-icon-circle",drawCircleMarker:"control-icon leaflet-pm-icon-circle-marker",editMode:"control-icon leaflet-pm-icon-edit",dragMode:"control-icon leaflet-pm-icon-drag",cutPolygon:"control-icon leaflet-pm-icon-cut",removalMode:"control-icon leaflet-pm-icon-delete",drawText:"control-icon leaflet-pm-icon-text"}};for(let Ue in ne){let qe=ne[Ue];L.Util.setOptions(qe,{className:pe.geomanIcons[Ue]})}},removeControls(){let ne=this.getButtons();for(let pe in ne)ne[pe].remove();this.isVisible=!1},toggleControls(ne=this.options){this.isVisible?this.removeControls():this.addControls(ne)},_addButton(ne,pe){return this.buttons[ne]=pe,this.options[ne]=!!this.options[ne]||!1,this.buttons[ne]},triggerClickOnToggledButtons(ne){for(let pe in this.buttons){let Ue=this.buttons[pe];Ue._button.disableByOtherButtons&&Ue!==ne&&Ue.toggled()&&Ue._triggerClick()}},toggleButton(ne,pe,Ue=!0){ne==="editPolygon"&&(ne="editMode"),ne==="deleteLayer"&&(ne="removalMode");let qe=ne;return Ue&&this.triggerClickOnToggledButtons(this.buttons[qe]),this.buttons[qe]?this.buttons[qe].toggle(pe):!1},_defineButtons(){let ne={className:"control-icon leaflet-pm-icon-marker",title:gi("buttonTitles.drawMarkerButton"),jsClass:"Marker",onClick:()=>{},afterClick:(pn,bn)=>{this.map.pm.Draw[bn.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},pe={title:gi("buttonTitles.drawPolyButton"),className:"control-icon leaflet-pm-icon-polygon",jsClass:"Polygon",onClick:()=>{},afterClick:(pn,bn)=>{this.map.pm.Draw[bn.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["finish","removeLastVertex","cancel"]},Ue={className:"control-icon leaflet-pm-icon-polyline",title:gi("buttonTitles.drawLineButton"),jsClass:"Line",onClick:()=>{},afterClick:(pn,bn)=>{this.map.pm.Draw[bn.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["finish","removeLastVertex","cancel"]},qe={title:gi("buttonTitles.drawCircleButton"),className:"control-icon leaflet-pm-icon-circle",jsClass:"Circle",onClick:()=>{},afterClick:(pn,bn)=>{this.map.pm.Draw[bn.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},$e={title:gi("buttonTitles.drawCircleMarkerButton"),className:"control-icon leaflet-pm-icon-circle-marker",jsClass:"CircleMarker",onClick:()=>{},afterClick:(pn,bn)=>{this.map.pm.Draw[bn.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},ht={title:gi("buttonTitles.drawRectButton"),className:"control-icon leaflet-pm-icon-rectangle",jsClass:"Rectangle",onClick:()=>{},afterClick:(pn,bn)=>{this.map.pm.Draw[bn.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},Tt={title:gi("buttonTitles.editButton"),className:"control-icon leaflet-pm-icon-edit",onClick:()=>{},afterClick:()=>{this.map.pm.toggleGlobalEditMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},Ot={title:gi("buttonTitles.dragButton"),className:"control-icon leaflet-pm-icon-drag",onClick:()=>{},afterClick:()=>{this.map.pm.toggleGlobalDragMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},Kt={title:gi("buttonTitles.cutButton"),className:"control-icon leaflet-pm-icon-cut",jsClass:"Cut",onClick:()=>{},afterClick:(pn,bn)=>{this.map.pm.Draw[bn.button._button.jsClass].toggle({snappable:!0,cursorMarker:!0,allowSelfIntersection:!1})},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finish","removeLastVertex","cancel"]},ir={title:gi("buttonTitles.deleteButton"),className:"control-icon leaflet-pm-icon-delete",onClick:()=>{},afterClick:()=>{this.map.pm.toggleGlobalRemovalMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},Rr={title:gi("buttonTitles.rotateButton"),className:"control-icon leaflet-pm-icon-rotate",onClick:()=>{},afterClick:()=>{this.map.pm.toggleGlobalRotateMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},Mr={className:"control-icon leaflet-pm-icon-text",title:gi("buttonTitles.drawTextButton"),jsClass:"Text",onClick:()=>{},afterClick:(pn,bn)=>{this.map.pm.Draw[bn.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]};this._addButton("drawMarker",new L.Control.PMButton(ne)),this._addButton("drawPolyline",new L.Control.PMButton(Ue)),this._addButton("drawRectangle",new L.Control.PMButton(ht)),this._addButton("drawPolygon",new L.Control.PMButton(pe)),this._addButton("drawCircle",new L.Control.PMButton(qe)),this._addButton("drawCircleMarker",new L.Control.PMButton($e)),this._addButton("drawText",new L.Control.PMButton(Mr)),this._addButton("editMode",new L.Control.PMButton(Tt)),this._addButton("dragMode",new L.Control.PMButton(Ot)),this._addButton("cutPolygon",new L.Control.PMButton(Kt)),this._addButton("removalMode",new L.Control.PMButton(ir)),this._addButton("rotateMode",new L.Control.PMButton(Rr))},_showHideButtons(){if(!this.isVisible)return;this.removeControls(),this.isVisible=!0;let ne=this.getButtons(),pe=[];this.options.drawControls===!1&&(pe=pe.concat(Object.keys(ne).filter(Ue=>!ne[Ue]._button.tool))),this.options.editControls===!1&&(pe=pe.concat(Object.keys(ne).filter(Ue=>ne[Ue]._button.tool==="edit"))),this.options.optionsControls===!1&&(pe=pe.concat(Object.keys(ne).filter(Ue=>ne[Ue]._button.tool==="options"))),this.options.customControls===!1&&(pe=pe.concat(Object.keys(ne).filter(Ue=>ne[Ue]._button.tool==="custom")));for(let Ue in ne)if(this.options[Ue]&&pe.indexOf(Ue)===-1){let qe=ne[Ue]._button.tool;qe||(qe="draw"),ne[Ue].setPosition(this._getBtnPosition(qe)),ne[Ue].addTo(this.map)}},_getBtnPosition(ne){return this.options.positions&&this.options.positions[ne]?this.options.positions[ne]:this.options.position},setBlockPosition(ne,pe){this.options.positions[ne]=pe,this._showHideButtons(),this.changeControlOrder()},getBlockPositions(){return this.options.positions},copyDrawControl(ne,pe){if(pe)typeof pe!="object"&&(pe={name:pe});else throw new TypeError("Button has no name");let Ue=this._btnNameMapping(ne);if(!pe.name)throw new TypeError("Button has no name");if(this.buttons[pe.name])throw new TypeError("Button with this name already exists");let qe=this.map.pm.Draw.createNewDrawInstance(pe.name,Ue);pe={...this.buttons[Ue]._button,...pe};let $e=this.createCustomControl(pe);return{drawInstance:qe,control:$e}},createCustomControl(ne){if(!ne.name)throw new TypeError("Button has no name");if(this.buttons[ne.name])throw new TypeError("Button with this name already exists");ne.onClick||(ne.onClick=()=>{}),ne.afterClick||(ne.afterClick=()=>{}),ne.toggle!==!1&&(ne.toggle=!0),ne.block&&(ne.block=ne.block.toLowerCase()),(!ne.block||ne.block==="draw")&&(ne.block=""),ne.className?ne.className.indexOf("control-icon")===-1&&(ne.className=`control-icon ${ne.className}`):ne.className="control-icon";let pe={tool:ne.block,className:ne.className,title:ne.title||"",jsClass:ne.name,onClick:ne.onClick,afterClick:ne.afterClick,doToggle:ne.toggle,toggleStatus:!1,disableOtherButtons:ne.disableOtherButtons??!0,disableByOtherButtons:ne.disableByOtherButtons??!0,cssToggle:ne.toggle,position:this.options.position,actions:ne.actions||[],disabled:!!ne.disabled};this.options[ne.name]!==!1&&(this.options[ne.name]=!0);let Ue=this._addButton(ne.name,new L.Control.PMButton(pe));return this.changeControlOrder(),Ue},controlExists(ne){return!!this.getButton(ne)},getButton(ne){return this.getButtons()[ne]},getButtonsInBlock(ne){let pe={};if(ne)for(let Ue in this.getButtons()){let qe=this.getButtons()[Ue];(qe._button.tool===ne||ne==="draw"&&!qe._button.tool)&&(pe[Ue]=qe)}return pe},changeControlOrder(ne=[]){let pe=this._shapeMapping(),Ue=[];ne.forEach(ht=>{pe[ht]?Ue.push(pe[ht]):Ue.push(ht)});let qe=this.getButtons(),$e={};Ue.forEach(ht=>{qe[ht]&&($e[ht]=qe[ht])}),Object.keys(qe).filter(ht=>!qe[ht]._button.tool||qe[ht]._button.tool==="draw").forEach(ht=>{Ue.indexOf(ht)===-1&&($e[ht]=qe[ht])}),Object.keys(qe).filter(ht=>qe[ht]._button.tool==="edit").forEach(ht=>{Ue.indexOf(ht)===-1&&($e[ht]=qe[ht])}),Object.keys(qe).filter(ht=>qe[ht]._button.tool==="options").forEach(ht=>{Ue.indexOf(ht)===-1&&($e[ht]=qe[ht])}),Object.keys(qe).filter(ht=>qe[ht]._button.tool==="custom").forEach(ht=>{Ue.indexOf(ht)===-1&&($e[ht]=qe[ht])}),Object.keys(qe).forEach(ht=>{Ue.indexOf(ht)===-1&&($e[ht]=qe[ht])}),this.map.pm.Toolbar.buttons=$e,this._showHideButtons()},getControlOrder(){let ne=this.getButtons(),pe=[];for(let Ue in ne)pe.push(Ue);return pe},changeActionsOfControl(ne,pe){let Ue=this._btnNameMapping(ne);if(!Ue)throw new TypeError("No name passed");if(!pe)throw new TypeError("No actions passed");if(!this.buttons[Ue])throw new TypeError("Button with this name not exists");this.buttons[Ue]._button.actions=pe,this.changeControlOrder()},setButtonDisabled(ne,pe){let Ue=this._btnNameMapping(ne);pe?this.buttons[Ue].disable():this.buttons[Ue].enable()},_shapeMapping(){return{Marker:"drawMarker",Circle:"drawCircle",Polygon:"drawPolygon",Rectangle:"drawRectangle",Polyline:"drawPolyline",Line:"drawPolyline",CircleMarker:"drawCircleMarker",Edit:"editMode",Drag:"dragMode",Cut:"cutPolygon",Removal:"removalMode",Rotate:"rotateMode",Text:"drawText"}},_btnNameMapping(ne){let pe=this._shapeMapping();return pe[ne]?pe[ne]:ne}}),br=Qt,or=I(zn()),vr={_initSnappableMarkers(){this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0?!0:this.options.snapSegment,this._assignEvents(this._markers),this._layer.off("pm:dragstart",this._unsnap,this),this._layer.on("pm:dragstart",this._unsnap,this)},_disableSnapping(){this._layer.off("pm:dragstart",this._unsnap,this)},_assignEvents(ne){ne.forEach(pe=>{if(Array.isArray(pe)){this._assignEvents(pe);return}pe.off("drag",this._handleSnapping,this),pe.on("drag",this._handleSnapping,this),pe.off("dragend",this._cleanupSnapping,this),pe.on("dragend",this._cleanupSnapping,this)})},_cleanupSnapping(ne){if(ne){let pe=ne.target;pe._snapped=!1}delete this._snapList,this.throttledList&&(this._map.off("layeradd",this.throttledList,this),this.throttledList=void 0),this._map.off("layerremove",this._handleSnapLayerRemoval,this),this.debugIndicatorLines&&this.debugIndicatorLines.forEach(pe=>{pe.remove()})},_handleThrottleSnapping(){this.throttledList&&this._createSnapList()},_handleSnapping(ne){let pe=ne.target;if(pe._snapped=!1,this.throttledList||(this.throttledList=L.Util.throttle(this._handleThrottleSnapping,100,this)),ne?.originalEvent?.altKey||this._map?.pm?.Keyboard.isAltKeyPressed()||(this._snapList===void 0&&(this._createSnapList(),this._map.off("layeradd",this.throttledList,this),this._map.on("layeradd",this.throttledList,this)),this._snapList.length<=0))return!1;let Ue=this._calcClosestLayer(pe.getLatLng(),this._snapList);if(Object.keys(Ue).length===0)return!1;let qe=Ue.layer instanceof L.Marker||Ue.layer instanceof L.CircleMarker||!this.options.snapSegment,$e;qe?$e=Ue.latlng:$e=this._checkPrioritiySnapping(Ue);let ht=this.options.snapDistance,Tt={marker:pe,shape:this._shape,snapLatLng:$e,segment:Ue.segment,layer:this._layer,workingLayer:this._layer,layerInteractedWith:Ue.layer,distance:Ue.distance};if(this._fireSnapDrag(Tt.marker,Tt),this._fireSnapDrag(this._layer,Tt),Ue.distance<ht){pe._orgLatLng=pe.getLatLng(),pe.setLatLng($e),pe._snapped=!0,pe._snapInfo=Tt;let Ot=()=>{this._snapLatLng=$e,this._fireSnap(pe,Tt),this._fireSnap(this._layer,Tt)},Kt=this._snapLatLng||{},ir=$e||{};(Kt.lat!==ir.lat||Kt.lng!==ir.lng)&&Ot()}else this._snapLatLng&&(this._unsnap(Tt),pe._snapped=!1,pe._snapInfo=void 0,this._fireUnsnap(Tt.marker,Tt),this._fireUnsnap(this._layer,Tt));return!0},_createSnapList(){let ne=[],pe=[],Ue=this._map;Ue.off("layerremove",this._handleSnapLayerRemoval,this),Ue.on("layerremove",this._handleSnapLayerRemoval,this),Ue.eachLayer(qe=>{if((qe instanceof L.Polyline||qe instanceof L.Marker||qe instanceof L.CircleMarker||qe instanceof L.ImageOverlay)&&qe.options.snapIgnore!==!0){if(qe.options.snapIgnore===void 0&&(!L.PM.optIn&&qe.options.pmIgnore===!0||L.PM.optIn&&qe.options.pmIgnore!==!1))return;(qe instanceof L.Circle||qe instanceof L.CircleMarker)&&qe.pm&&qe.pm._hiddenPolyCircle?ne.push(qe.pm._hiddenPolyCircle):qe instanceof L.ImageOverlay&&(qe=L.rectangle(qe.getBounds())),ne.push(qe);let $e=L.polyline([],{color:"red",pmIgnore:!0});$e._pmTempLayer=!0,pe.push($e),(qe instanceof L.Circle||qe instanceof L.CircleMarker)&&pe.push($e)}}),ne=ne.filter(qe=>this._layer!==qe),ne=ne.filter(qe=>qe._latlng||qe._latlngs&&so(qe._latlngs)),ne=ne.filter(qe=>!qe._pmTempLayer),this._otherSnapLayers?(this._otherSnapLayers.forEach(()=>{let qe=L.polyline([],{color:"red",pmIgnore:!0});qe._pmTempLayer=!0,pe.push(qe)}),this._snapList=ne.concat(this._otherSnapLayers)):this._snapList=ne,this.debugIndicatorLines=pe},_handleSnapLayerRemoval({layer:ne}){if(!ne._leaflet_id)return;let pe=this._snapList.findIndex(Ue=>Ue._leaflet_id===ne._leaflet_id);pe>-1&&this._snapList.splice(pe,1)},_calcClosestLayer(ne,pe){return this._calcClosestLayers(ne,pe,1)[0]},_calcClosestLayers(ne,pe,Ue=1){let qe=[],$e={};pe.forEach((Tt,Ot)=>{if(Tt._parentCopy&&Tt._parentCopy===this._layer||Tt.getLatLngs?.().flat(5).length<2)return;let Kt=this._calcLayerDistances(ne,Tt);if(Kt.distance=Math.floor(Kt.distance),this.debugIndicatorLines){if(!this.debugIndicatorLines[Ot]){let ir=L.polyline([],{color:"red",pmIgnore:!0});ir._pmTempLayer=!0,this.debugIndicatorLines[Ot]=ir}this.debugIndicatorLines[Ot].setLatLngs([ne,Kt.latlng])}Ue===1&&($e.distance===void 0||Kt.distance-5<=$e.distance)?(Kt.distance+5<$e.distance&&(qe=[]),$e=Kt,$e.layer=Tt,qe.push($e)):Ue!==1&&($e={},$e=Kt,$e.layer=Tt,qe.push($e))}),Ue!==1&&(qe=qe.sort((Tt,Ot)=>Tt.distance-Ot.distance)),Ue===-1&&(Ue=qe.length);let ht=this._getClosestLayerByPriority(qe,Ue);return L.Util.isArray(ht)?ht:[ht]},_calcLayerDistances(ne,pe){let Ue=this._map,qe=pe instanceof L.Marker||pe instanceof L.CircleMarker,$e=pe instanceof L.Polygon,ht=ne;if(qe){let Tt=pe.getLatLng();return{latlng:{...Tt},distance:this._getDistance(Ue,Tt,ht)}}return this._calcLatLngDistances(ht,pe.getLatLngs(),Ue,$e)},_calcLatLngDistances(ne,pe,Ue,qe=!1){let $e,ht,Tt,Ot=Kt=>{Kt.forEach((ir,Rr)=>{if(Array.isArray(ir)){Ot(ir);return}if(this.options.snapSegment){let Mr=ir,pn;qe?pn=Rr+1===Kt.length?0:Rr+1:pn=Rr+1===Kt.length?void 0:Rr+1;let bn=Kt[pn];if(bn){let Zn=this._getDistanceToSegment(Ue,ne,Mr,bn);(ht===void 0||Zn<ht)&&(ht=Zn,Tt=[Mr,bn])}}else{let Mr=this._getDistance(Ue,ne,ir);(ht===void 0||Mr<ht)&&(ht=Mr,$e=ir)}})};return Ot(pe),this.options.snapSegment?{latlng:{...this._getClosestPointOnSegment(Ue,ne,Tt[0],Tt[1])},segment:Tt,distance:ht}:{latlng:$e,distance:ht}},_getClosestLayerByPriority(ne,pe=1){ne=ne.sort((Tt,Ot)=>Tt._leaflet_id-Ot._leaflet_id);let Ue=["Marker","CircleMarker","Circle","Line","Polygon","Rectangle"],qe=this._map.pm.globalOptions.snappingOrder||[],$e=0,ht={};return qe.concat(Ue).forEach(Tt=>{ht[Tt]||($e+=1,ht[Tt]=$e)}),ne.sort($a("instanceofShape",ht)),pe===1?ne[0]||{}:ne.slice(0,pe)},_checkPrioritiySnapping(ne){let pe=this._map,Ue=ne.segment[0],qe=ne.segment[1],$e=ne.latlng,ht=$e;if(this.options.snapVertex){let Tt=this._getDistance(pe,Ue,$e),Ot=this._getDistance(pe,qe,$e),Kt=Tt<Ot?Ue:qe,ir=Tt<Ot?Tt:Ot;if(this.options.snapMiddle){let Mr=L.PM.Utils.calcMiddleLatLng(pe,Ue,qe),pn=this._getDistance(pe,Mr,$e);pn<Tt&&pn<Ot&&(Kt=Mr,ir=pn)}let Rr=this.options.snapDistance;ir<Rr&&(ht=Kt)}return{...ht}},_unsnap(){delete this._snapLatLng},_getClosestPointOnSegment(ne,pe,Ue,qe){let $e=ne.getMaxZoom();$e===1/0&&($e=ne.getZoom());let ht=ne.project(pe,$e),Tt=ne.project(Ue,$e),Ot=ne.project(qe,$e),Kt=L.LineUtil.closestPointOnSegment(ht,Tt,Ot);return ne.unproject(Kt,$e)},_getDistanceToSegment(ne,pe,Ue,qe){let $e=ne.latLngToContainerPoint(pe),ht=ne.latLngToContainerPoint(Ue),Tt=ne.latLngToContainerPoint(qe);return L.LineUtil.pointToSegmentDistance($e,ht,Tt)},_getDistance(ne,pe,Ue){return ne.latLngToContainerPoint(pe).distanceTo(ne.latLngToContainerPoint(Ue))}},Hr=vr,Fr=L.Class.extend({includes:[Hr,Zo],options:{snappable:!0,snapDistance:20,snapMiddle:!1,allowSelfIntersection:!0,tooltips:!0,templineStyle:{},hintlineStyle:{color:"#3388ff",dashArray:"5,5"},pathOptions:null,cursorMarker:!0,finishOn:null,markerStyle:{draggable:!0,icon:L.icon()},hideMiddleMarkers:!1,minRadiusCircle:null,maxRadiusCircle:null,minRadiusCircleMarker:null,maxRadiusCircleMarker:null,resizeableCircleMarker:!1,resizeableCircle:!0,markerEditable:!0,continueDrawing:!1,snapSegment:!0,requireSnapToFinish:!1,rectangleAngle:0,textOptions:{text:null,focusAfterDraw:null,removeIfEmpty:null,className:null},snapVertex:!0},setOptions(ne){L.Util.setOptions(this,ne),this.setStyle(this.options)},setStyle(){},getOptions(){return this.options},initialize(ne){let pe=new L.Icon.Default;pe.options.tooltipAnchor=[0,0],this.options.markerStyle.icon=pe,this._map=ne,this.shapes=["Marker","CircleMarker","Line","Polygon","Rectangle","Circle","Cut","Text"],this.shapes.forEach(Ue=>{this[Ue]=new L.PM.Draw[Ue](this._map)}),this.Marker.setOptions({continueDrawing:!0}),this.CircleMarker.setOptions({continueDrawing:!0})},setPathOptions(ne,pe=!1){pe?this.options.pathOptions=(0,or.default)(this.options.pathOptions,ne):this.options.pathOptions=ne},getShapes(){return this.shapes},getShape(){return this._shape},enable(ne,pe){if(!ne)throw new Error(`Error: Please pass a shape as a parameter. Possible shapes are: ${this.getShapes().join(",")}`);this.disable(),this[ne].enable(pe)},disable(){this.shapes.forEach(ne=>{this[ne].disable()})},addControls(){this.shapes.forEach(ne=>{this[ne].addButton()})},getActiveShape(){let ne;return this.shapes.forEach(pe=>{this[pe]._enabled&&(ne=pe)}),ne},_setGlobalDrawMode(){this._shape==="Cut"?this._fireGlobalCutModeToggled():this._fireGlobalDrawModeToggled();let ne=[];this._map.eachLayer(pe=>{(pe instanceof L.Polyline||pe instanceof L.Marker||pe instanceof L.Circle||pe instanceof L.CircleMarker||pe instanceof L.ImageOverlay)&&(pe._pmTempLayer||ne.push(pe))}),this._enabled?ne.forEach(pe=>{L.PM.Utils.disablePopup(pe)}):ne.forEach(pe=>{L.PM.Utils.enablePopup(pe)})},createNewDrawInstance(ne,pe){let Ue=this._getShapeFromBtnName(pe);if(this[ne])throw new TypeError("Draw Type already exists");if(!L.PM.Draw[Ue])throw new TypeError(`There is no class L.PM.Draw.${Ue}`);return this[ne]=new L.PM.Draw[Ue](this._map),this[ne].toolbarButtonName=ne,this[ne]._shape=ne,this.shapes.push(ne),this[pe]&&this[ne].setOptions(this[pe].options),this[ne].setOptions(this[ne].options),this[ne]},_getShapeFromBtnName(ne){let pe={drawMarker:"Marker",drawCircle:"Circle",drawPolygon:"Polygon",drawPolyline:"Line",drawRectangle:"Rectangle",drawCircleMarker:"CircleMarker",editMode:"Edit",dragMode:"Drag",cutPolygon:"Cut",removalMode:"Removal",rotateMode:"Rotate",drawText:"Text"};return pe[ne]?pe[ne]:this[ne]?this[ne]._shape:ne},_finishLayer(ne){ne.pm&&(ne.pm.setOptions(this.options),ne.pm._shape=this._shape,ne.pm._map=this._map),this._addDrawnLayerProp(ne)},_addDrawnLayerProp(ne){ne._drawnByGeoman=!0},_setPane(ne,pe){pe==="layerPane"?ne.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.layerPane||"overlayPane":pe==="vertexPane"?ne.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.vertexPane||"markerPane":pe==="markerPane"&&(ne.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.markerPane||"markerPane")},_isFirstLayer(){return(this._map||this._layer._map).pm.getGeomanLayers().length===0}}),Nn=Fr;Nn.Marker=Nn.extend({initialize(ne){this._map=ne,this._shape="Marker",this.toolbarButtonName="drawMarker"},enable(ne){L.Util.setOptions(this,ne),this._enabled=!0,this._map.getContainer().classList.add("geoman-draw-cursor"),this._map.on("click",this._createMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._hintMarker=L.marker(this._map.getCenter(),this.options.markerStyle),this._setPane(this._hintMarker,"markerPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this.options.tooltips&&this._hintMarker.bindTooltip(gi("tooltips.placeMarker"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._layer=this._hintMarker,this._map.on("mousemove",this._syncHintMarker,this),this.options.markerEditable&&this._map.eachLayer(pe=>{this.isRelevantMarker(pe)&&pe.pm.enable()}),this._fireDrawStart(),this._setGlobalDrawMode()},disable(){this._enabled&&(this._enabled=!1,this._map.getContainer().classList.remove("geoman-draw-cursor"),this._map.off("click",this._createMarker,this),this._hintMarker.remove(),this._map.off("mousemove",this._syncHintMarker,this),this._map.eachLayer(ne=>{this.isRelevantMarker(ne)&&ne.pm.disable()}),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled(){return this._enabled},toggle(ne){this.enabled()?this.disable():this.enable(ne)},isRelevantMarker(ne){return ne instanceof L.Marker&&ne.pm&&!ne._pmTempLayer&&!ne.pm._initTextMarker},_syncHintMarker(ne){if(this._hintMarker.setLatLng(ne.latlng),this.options.snappable){let pe=ne;pe.target=this._hintMarker,this._handleSnapping(pe)}this._fireChange(this._hintMarker.getLatLng(),"Draw")},_createMarker(ne){if(!ne.latlng||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;this._hintMarker._snapped||this._hintMarker.setLatLng(ne.latlng);let pe=this._hintMarker.getLatLng(),Ue=new L.Marker(pe,this.options.markerStyle);this._setPane(Ue,"markerPane"),this._finishLayer(Ue),Ue.pm||(Ue.options.draggable=!1),Ue.addTo(this._map.pm._getContainingLayer()),Ue.pm&&this.options.markerEditable?Ue.pm.enable():Ue.dragging&&Ue.dragging.disable(),this._fireCreate(Ue),this._cleanupSnapping(),this.options.continueDrawing||this.disable()},setStyle(){this.options.markerStyle?.icon&&this._hintMarker?.setIcon(this.options.markerStyle.icon)}});var Wn=63710088e-1,ui={centimeters:Wn*100,centimetres:Wn*100,degrees:Wn/111325,feet:Wn*3.28084,inches:Wn*39.37,kilometers:Wn/1e3,kilometres:Wn/1e3,meters:Wn,metres:Wn,miles:Wn/1609.344,millimeters:Wn*1e3,millimetres:Wn*1e3,nauticalmiles:Wn/1852,radians:1,yards:Wn*1.0936};function pi(ne,pe,Ue){Ue===void 0&&(Ue={});var qe={type:"Feature"};return(Ue.id===0||Ue.id)&&(qe.id=Ue.id),Ue.bbox&&(qe.bbox=Ue.bbox),qe.properties=pe||{},qe.geometry=ne,qe}function Kn(ne,pe,Ue){if(Ue===void 0&&(Ue={}),!ne)throw new Error("coordinates is required");if(!Array.isArray(ne))throw new Error("coordinates must be an Array");if(ne.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!Ut(ne[0])||!Ut(ne[1]))throw new Error("coordinates must contain numbers");var qe={type:"Point",coordinates:ne};return pi(qe,pe,Ue)}function Li(ne,pe,Ue){if(Ue===void 0&&(Ue={}),ne.length<2)throw new Error("coordinates must be an array of two or more positions");var qe={type:"LineString",coordinates:ne};return pi(qe,pe,Ue)}function We(ne,pe){pe===void 0&&(pe={});var Ue={type:"FeatureCollection"};return pe.id&&(Ue.id=pe.id),pe.bbox&&(Ue.bbox=pe.bbox),Ue.features=ne,Ue}function nt(ne,pe){pe===void 0&&(pe="kilometers");var Ue=ui[pe];if(!Ue)throw new Error(pe+" units is invalid");return ne*Ue}function ft(ne,pe){pe===void 0&&(pe="kilometers");var Ue=ui[pe];if(!Ue)throw new Error(pe+" units is invalid");return ne/Ue}function Rt(ne){var pe=ne%(2*Math.PI);return pe*180/Math.PI}function Lt(ne){var pe=ne%360;return pe*Math.PI/180}function Ut(ne){return!isNaN(ne)&&ne!==null&&!Array.isArray(ne)}function rr(ne){var pe,Ue,qe={type:"FeatureCollection",features:[]};if(ne.type==="Feature"?Ue=ne.geometry:Ue=ne,Ue.type==="LineString")pe=[Ue.coordinates];else if(Ue.type==="MultiLineString")pe=Ue.coordinates;else if(Ue.type==="MultiPolygon")pe=[].concat.apply([],Ue.coordinates);else if(Ue.type==="Polygon")pe=Ue.coordinates;else throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");return pe.forEach(function($e){pe.forEach(function(ht){for(var Tt=0;Tt<$e.length-1;Tt++)for(var Ot=Tt;Ot<ht.length-1;Ot++)if(!($e===ht&&(Math.abs(Tt-Ot)===1||Tt===0&&Ot===$e.length-2&&$e[Tt][0]===$e[$e.length-1][0]&&$e[Tt][1]===$e[$e.length-1][1]))){var Kt=qt($e[Tt][0],$e[Tt][1],$e[Tt+1][0],$e[Tt+1][1],ht[Ot][0],ht[Ot][1],ht[Ot+1][0],ht[Ot+1][1]);Kt&&qe.features.push(Kn([Kt[0],Kt[1]]))}})}),qe}function qt(ne,pe,Ue,qe,$e,ht,Tt,Ot){var Kt,ir,Rr,Mr,pn,bn={x:null,y:null,onLine1:!1,onLine2:!1};return Kt=(Ot-ht)*(Ue-ne)-(Tt-$e)*(qe-pe),Kt===0?bn.x!==null&&bn.y!==null?bn:!1:(ir=pe-ht,Rr=ne-$e,Mr=(Tt-$e)*ir-(Ot-ht)*Rr,pn=(Ue-ne)*ir-(qe-pe)*Rr,ir=Mr/Kt,Rr=pn/Kt,bn.x=ne+ir*(Ue-ne),bn.y=pe+ir*(qe-pe),ir>=0&&ir<=1&&(bn.onLine1=!0),Rr>=0&&Rr<=1&&(bn.onLine2=!0),bn.onLine1&&bn.onLine2?[bn.x,bn.y]:!1)}Nn.Line=Nn.extend({initialize(ne){this._map=ne,this._shape="Line",this.toolbarButtonName="drawPolyline",this._doesSelfIntersect=!1},enable(ne){L.Util.setOptions(this,ne),this._enabled=!0,this._markers=[],this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.polyline([],{...this.options.templineStyle,pmIgnore:!1}),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._layerGroup.addLayer(this._layer),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._hintMarker=L.marker(this._map.getCenter(),{interactive:!1,zIndexOffset:100,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(gi("tooltips.firstVertex"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._map.getContainer().classList.add("geoman-draw-cursor"),this._map.on("click",this._createVertex,this),this.options.finishOn&&this.options.finishOn!=="snap"&&this._map.on(this.options.finishOn,this._finishShape,this),this.options.finishOn==="dblclick"&&(this.tempMapDoubleClickZoomState=this._map.doubleClickZoom._enabled,this.tempMapDoubleClickZoomState&&this._map.doubleClickZoom.disable()),this._map.on("mousemove",this._syncHintMarker,this),this._hintMarker.on("move",this._syncHintLine,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],this.isRed=!1,this._fireDrawStart(),this._setGlobalDrawMode()},disable(){this._enabled&&(this._enabled=!1,this._map.getContainer().classList.remove("geoman-draw-cursor"),this._map.off("click",this._createVertex,this),this._map.off("mousemove",this._syncHintMarker,this),this.options.finishOn&&this.options.finishOn!=="snap"&&this._map.off(this.options.finishOn,this._finishShape,this),this.tempMapDoubleClickZoomState&&this._map.doubleClickZoom.enable(),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled(){return this._enabled},toggle(ne){this.enabled()?this.disable():this.enable(ne)},_syncHintLine(){let ne=this._layer.getLatLngs();if(ne.length>0){let pe=ne[ne.length-1];this._hintline.setLatLngs([pe,this._hintMarker.getLatLng()])}},_syncHintMarker(ne){if(this._hintMarker.setLatLng(ne.latlng),this.options.snappable){let Ue=ne;Ue.target=this._hintMarker,this._handleSnapping(Ue)}this.options.allowSelfIntersection||this._handleSelfIntersection(!0,this._hintMarker.getLatLng());let pe=this._layer._defaultShape().slice();pe.push(this._hintMarker.getLatLng()),this._change(pe)},hasSelfIntersection(){return rr(this._layer.toGeoJSON(15)).features.length>0},_handleSelfIntersection(ne,pe){let Ue=L.polyline(this._layer.getLatLngs());ne&&(pe||(pe=this._hintMarker.getLatLng()),Ue.addLatLng(pe));let qe=rr(Ue.toGeoJSON(15));this._doesSelfIntersect=qe.features.length>0,this._doesSelfIntersect?this.isRed||(this.isRed=!0,this._hintline.setStyle({color:"#f00000ff"}),this._fireIntersect(qe,this._map,"Draw")):this._hintline.isEmpty()||(this.isRed=!1,this._hintline.setStyle(this.options.hintlineStyle))},_createVertex(ne){if(!this.options.allowSelfIntersection&&(this._handleSelfIntersection(!0,ne.latlng),this._doesSelfIntersect))return;this._hintMarker._snapped||this._hintMarker.setLatLng(ne.latlng);let pe=this._hintMarker.getLatLng(),Ue=this._layer.getLatLngs(),qe=Ue[Ue.length-1];if(pe.equals(Ue[0])||Ue.length>0&&pe.equals(qe)){this._finishShape();return}this._layer._latlngInfo=this._layer._latlngInfo||[],this._layer._latlngInfo.push({latlng:pe,snapInfo:this._hintMarker._snapInfo}),this._layer.addLatLng(pe);let $e=this._createMarker(pe);this._setTooltipText(),this._setHintLineAfterNewVertex(pe),this._fireVertexAdded($e,void 0,pe,"Draw"),this._change(this._layer.getLatLngs()),this.options.finishOn==="snap"&&this._hintMarker._snapped&&this._finishShape(ne)},_setHintLineAfterNewVertex(ne){this._hintline.setLatLngs([ne,ne])},_removeLastVertex(){let ne=this._markers;if(ne.length<=1){this.disable();return}let pe=this._layer.getLatLngs(),Ue=ne[ne.length-1],{indexPath:qe}=L.PM.Utils.findDeepMarkerIndex(ne,Ue);ne.pop(),this._layerGroup.removeLayer(Ue);let $e=ne[ne.length-1],ht=pe.indexOf($e.getLatLng());pe=pe.slice(0,ht+1),this._layer.setLatLngs(pe),this._layer._latlngInfo.pop(),this._syncHintLine(),this._setTooltipText(),this._fireVertexRemoved(Ue,qe,"Draw"),this._change(this._layer.getLatLngs())},_finishShape(){if(!this.options.allowSelfIntersection&&(this._handleSelfIntersection(!1),this._doesSelfIntersect)||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;let ne=this._layer.getLatLngs();if(ne.length<=1)return;let pe=L.polyline(ne,this.options.pathOptions);this._setPane(pe,"layerPane"),this._finishLayer(pe),pe.addTo(this._map.pm._getContainingLayer()),this._fireCreate(pe),this.options.snappable&&this._cleanupSnapping();let Ue=this._hintMarker.getLatLng();this.disable(),this.options.continueDrawing&&(this.enable(),this._hintMarker.setLatLng(Ue))},_createMarker(ne){let pe=new L.Marker(ne,{draggable:!1,icon:L.divIcon({className:"marker-icon"})});return this._setPane(pe,"vertexPane"),pe._pmTempLayer=!0,this._layerGroup.addLayer(pe),this._markers.push(pe),pe.on("click",this._finishShape,this),pe},_setTooltipText(){let{length:ne}=this._layer.getLatLngs().flat(),pe="";ne<=1?pe=gi("tooltips.continueLine"):pe=gi("tooltips.finishLine"),this._hintMarker.setTooltipContent(pe)},_change(ne){this._fireChange(ne,"Draw")},setStyle(){this._layer?.setStyle(this.options.templineStyle),this._hintline?.setStyle(this.options.hintlineStyle)}}),Nn.Polygon=Nn.Line.extend({initialize(ne){this._map=ne,this._shape="Polygon",this.toolbarButtonName="drawPolygon"},enable(ne){L.PM.Draw.Line.prototype.enable.call(this,ne),this._layer.pm._shape="Polygon"},_createMarker(ne){let pe=new L.Marker(ne,{draggable:!1,icon:L.divIcon({className:"marker-icon"})});return this._setPane(pe,"vertexPane"),pe._pmTempLayer=!0,this._layerGroup.addLayer(pe),this._markers.push(pe),this._layer.getLatLngs().flat().length===1?(pe.on("click",this._finishShape,this),this._tempSnapLayerIndex=this._otherSnapLayers.push(pe)-1,this.options.snappable&&this._cleanupSnapping()):pe.on("click",()=>1),pe},_setTooltipText(){let{length:ne}=this._layer.getLatLngs().flat(),pe="";ne<=2?pe=gi("tooltips.continueLine"):pe=gi("tooltips.finishPoly"),this._hintMarker.setTooltipContent(pe)},_finishShape(){if(!this.options.allowSelfIntersection&&(this._handleSelfIntersection(!0,this._layer.getLatLngs()[0]),this._doesSelfIntersect)||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;let ne=this._layer.getLatLngs();if(ne.length<=2)return;let pe=L.polygon(ne,this.options.pathOptions);this._setPane(pe,"layerPane"),this._finishLayer(pe),pe.addTo(this._map.pm._getContainingLayer()),this._fireCreate(pe),this._cleanupSnapping(),this._otherSnapLayers.splice(this._tempSnapLayerIndex,1),delete this._tempSnapLayerIndex;let Ue=this._hintMarker.getLatLng();this.disable(),this.options.continueDrawing&&(this.enable(),this._hintMarker.setLatLng(Ue))}}),Nn.Rectangle=Nn.extend({initialize(ne){this._map=ne,this._shape="Rectangle",this.toolbarButtonName="drawRectangle"},enable(ne){if(L.Util.setOptions(this,ne),this._enabled=!0,this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.rectangle([[0,0],[0,0]],this.options.pathOptions),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._startMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon rect-start-marker"}),draggable:!1,zIndexOffset:-100,opacity:this.options.cursorMarker?1:0}),this._setPane(this._startMarker,"vertexPane"),this._startMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._startMarker),this._hintMarker=L.marker(this._map.getCenter(),{zIndexOffset:150,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(gi("tooltips.firstVertex"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this.options.cursorMarker){this._styleMarkers=[];for(let pe=0;pe<2;pe+=1){let Ue=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon rect-style-marker"}),draggable:!1,zIndexOffset:100});this._setPane(Ue,"vertexPane"),Ue._pmTempLayer=!0,this._layerGroup.addLayer(Ue),this._styleMarkers.push(Ue)}}this._map.getContainer().classList.add("geoman-draw-cursor"),this._map.on("click",this._placeStartingMarkers,this),this._map.on("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],this._fireDrawStart(),this._setGlobalDrawMode()},disable(){this._enabled&&(this._enabled=!1,this._map.getContainer().classList.remove("geoman-draw-cursor"),this._map.off("click",this._finishShape,this),this._map.off("click",this._placeStartingMarkers,this),this._map.off("mousemove",this._syncHintMarker,this),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled(){return this._enabled},toggle(ne){this.enabled()?this.disable():this.enable(ne)},_placeStartingMarkers(ne){this._hintMarker._snapped||this._hintMarker.setLatLng(ne.latlng);let pe=this._hintMarker.getLatLng();L.DomUtil.addClass(this._startMarker._icon,"visible"),this._startMarker.setLatLng(pe),this.options.cursorMarker&&this._styleMarkers&&this._styleMarkers.forEach(Ue=>{L.DomUtil.addClass(Ue._icon,"visible"),Ue.setLatLng(pe)}),this._map.off("click",this._placeStartingMarkers,this),this._map.on("click",this._finishShape,this),this._hintMarker.setTooltipContent(gi("tooltips.finishRect")),this._setRectangleOrigin()},_setRectangleOrigin(){let ne=this._startMarker.getLatLng();ne&&(this._layerGroup.addLayer(this._layer),this._layer.setLatLngs([ne,ne]),this._hintMarker.on("move",this._syncRectangleSize,this))},_syncHintMarker(ne){if(this._hintMarker.setLatLng(ne.latlng),this.options.snappable){let Ue=ne;Ue.target=this._hintMarker,this._handleSnapping(Ue)}let pe=this._layerGroup&&this._layerGroup.hasLayer(this._layer)?this._layer.getLatLngs():[this._hintMarker.getLatLng()];this._fireChange(pe,"Draw")},_syncRectangleSize(){let ne=Da(this._startMarker.getLatLng(),this._map),pe=Da(this._hintMarker.getLatLng(),this._map),Ue=L.PM.Utils._getRotatedRectangle(ne,pe,this.options.rectangleAngle||0,this._map);if(this._layer.setLatLngs(Ue),this.options.cursorMarker&&this._styleMarkers){let qe=[];Ue.forEach($e=>{!$e.equals(ne,1e-8)&&!$e.equals(pe,1e-8)&&qe.push($e)}),qe.forEach(($e,ht)=>{try{this._styleMarkers[ht].setLatLng($e)}catch{}})}},_findCorners(){let ne=this._layer.getLatLngs()[0];return L.PM.Utils._getRotatedRectangle(ne[0],ne[2],this.options.rectangleAngle||0,this._map)},_finishShape(ne){this._hintMarker._snapped||this._hintMarker.setLatLng(ne.latlng);let pe=this._hintMarker.getLatLng(),Ue=this._startMarker.getLatLng();if(this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer()||Ue.equals(pe))return;let qe=L.rectangle([Ue,pe],this.options.pathOptions);if(this.options.rectangleAngle){let ht=L.PM.Utils._getRotatedRectangle(Ue,pe,this.options.rectangleAngle||0,this._map);qe.setLatLngs(ht),qe.pm&&qe.pm._setAngle(this.options.rectangleAngle||0)}this._setPane(qe,"layerPane"),this._finishLayer(qe),qe.addTo(this._map.pm._getContainingLayer()),this._fireCreate(qe);let $e=this._hintMarker.getLatLng();this.disable(),this.options.continueDrawing&&(this.enable(),this._hintMarker.setLatLng($e))},setStyle(){this._layer?.setStyle(this.options.pathOptions)}}),Nn.CircleMarker=Nn.extend({initialize(ne){this._map=ne,this._shape="CircleMarker",this.toolbarButtonName="drawCircleMarker",this._layerIsDragging=!1,this._BaseCircleClass=L.CircleMarker,this._minRadiusOption="minRadiusCircleMarker",this._maxRadiusOption="maxRadiusCircleMarker",this._editableOption="resizeableCircleMarker",this._defaultRadius=10},enable(ne){if(L.Util.setOptions(this,ne),this.options.editable&&(this.options.resizeableCircleMarker=this.options.editable,delete this.options.editable),this._enabled=!0,this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._map.getContainer().classList.add("geoman-draw-cursor"),this.options[this._editableOption]){let pe={};L.extend(pe,this.options.templineStyle),pe.radius=0,this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=new this._BaseCircleClass(this._map.getCenter(),pe),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._centerMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon"}),draggable:!1,zIndexOffset:100}),this._setPane(this._centerMarker,"vertexPane"),this._centerMarker._pmTempLayer=!0,this._hintMarker=L.marker(this._map.getCenter(),{zIndexOffset:110,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(gi("tooltips.startCircle"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._map.on("click",this._placeCenterMarker,this)}else this._map.on("click",this._createMarker,this),this._hintMarker=new this._BaseCircleClass(this._map.getCenter(),{radius:this._defaultRadius,...this.options.templineStyle}),this._setPane(this._hintMarker,"layerPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this._layer=this._hintMarker,this.options.tooltips&&this._hintMarker.bindTooltip(gi("tooltips.placeCircleMarker"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip();this._map.on("mousemove",this._syncHintMarker,this),this._extendingEnable(),this._otherSnapLayers=[],this._fireDrawStart(),this._setGlobalDrawMode()},_extendingEnable(){!this.options[this._editableOption]&&this.options.markerEditable&&this._map.eachLayer(ne=>{this.isRelevantMarker(ne)&&ne.pm.enable()}),this._layer.bringToBack()},disable(){this._enabled&&(this._enabled=!1,this._map.getContainer().classList.remove("geoman-draw-cursor"),this.options[this._editableOption]?(this._map.off("click",this._finishShape,this),this._map.off("click",this._placeCenterMarker,this),this._map.removeLayer(this._layerGroup)):(this._map.off("click",this._createMarker,this),this._extendingDisable(),this._hintMarker.remove()),this._map.off("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},_extendingDisable(){this._map.eachLayer(ne=>{this.isRelevantMarker(ne)&&ne.pm.disable()})},enabled(){return this._enabled},toggle(ne){this.enabled()?this.disable():this.enable(ne)},_placeCenterMarker(ne){this._hintMarker._snapped||this._hintMarker.setLatLng(ne.latlng),this._layerGroup.addLayer(this._layer),this._layerGroup.addLayer(this._centerMarker);let pe=this._hintMarker.getLatLng();this._centerMarker.setLatLng(pe),this._map.off("click",this._placeCenterMarker,this),this._map.on("click",this._finishShape,this),this._placeCircleCenter()},_placeCircleCenter(){let ne=this._centerMarker.getLatLng();ne&&(this._layer.setLatLng(ne),this._hintMarker.on("move",this._syncHintLine,this),this._hintMarker.on("move",this._syncCircleRadius,this),this._hintMarker.setTooltipContent(gi("tooltips.finishCircle")),this._fireCenterPlaced(),this._fireChange(this._layer.getLatLng(),"Draw"))},_syncHintLine(){let ne=this._centerMarker.getLatLng(),pe=this._getNewDestinationOfHintMarker();this._hintline.setLatLngs([ne,pe])},_syncCircleRadius(){let ne=this._centerMarker.getLatLng(),pe=this._hintMarker.getLatLng(),Ue=this._distanceCalculation(ne,pe);this.options[this._minRadiusOption]&&Ue<this.options[this._minRadiusOption]?this._layer.setRadius(this.options[this._minRadiusOption]):this.options[this._maxRadiusOption]&&Ue>this.options[this._maxRadiusOption]?this._layer.setRadius(this.options[this._maxRadiusOption]):this._layer.setRadius(Ue)},_syncHintMarker(ne){if(this._hintMarker.setLatLng(ne.latlng),this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker()),this.options.snappable){let Ue=ne;Ue.target=this._hintMarker,this._handleSnapping(Ue)}this._handleHintMarkerSnapping();let pe=this._layerGroup&&this._layerGroup.hasLayer(this._centerMarker)?this._centerMarker.getLatLng():this._hintMarker.getLatLng();this._fireChange(pe,"Draw")},isRelevantMarker(ne){return ne instanceof L.CircleMarker&&!(ne instanceof L.Circle)&&ne.pm&&!ne._pmTempLayer},_createMarker(ne){if(this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer()||!ne.latlng||this._layerIsDragging)return;this._hintMarker._snapped||this._hintMarker.setLatLng(ne.latlng);let pe=this._hintMarker.getLatLng(),Ue=new this._BaseCircleClass(pe,{radius:this._defaultRadius,...this.options.pathOptions});this._setPane(Ue,"layerPane"),this._finishLayer(Ue),Ue.addTo(this._map.pm._getContainingLayer()),this._extendingCreateMarker(Ue),this._fireCreate(Ue),this._cleanupSnapping(),this.options.continueDrawing||this.disable()},_extendingCreateMarker(ne){ne.pm&&this.options.markerEditable&&ne.pm.enable()},_finishShape(ne){if(this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;this._hintMarker._snapped||this._hintMarker.setLatLng(ne.latlng);let pe=this._centerMarker.getLatLng(),Ue=this._defaultRadius;if(this.options[this._editableOption]){let Tt=this._hintMarker.getLatLng();Ue=this._distanceCalculation(pe,Tt),this.options[this._minRadiusOption]&&Ue<this.options[this._minRadiusOption]?Ue=this.options[this._minRadiusOption]:this.options[this._maxRadiusOption]&&Ue>this.options[this._maxRadiusOption]&&(Ue=this.options[this._maxRadiusOption])}let qe={...this.options.pathOptions,radius:Ue},$e=new this._BaseCircleClass(pe,qe);this._setPane($e,"layerPane"),this._finishLayer($e),$e.addTo(this._map.pm._getContainingLayer()),$e.pm&&$e.pm._updateHiddenPolyCircle(),this._fireCreate($e);let ht=this._hintMarker.getLatLng();this.disable(),this.options.continueDrawing&&(this.enable(),this._hintMarker.setLatLng(ht))},_getNewDestinationOfHintMarker(){let ne=this._hintMarker.getLatLng();if(this.options[this._editableOption]){if(!this._layerGroup.hasLayer(this._centerMarker))return ne;let pe=this._centerMarker.getLatLng(),Ue=this._distanceCalculation(pe,ne);this.options[this._minRadiusOption]&&Ue<this.options[this._minRadiusOption]?ne=vo(this._map,pe,ne,this._getMinDistanceInMeter()):this.options[this._maxRadiusOption]&&Ue>this.options[this._maxRadiusOption]&&(ne=vo(this._map,pe,ne,this._getMaxDistanceInMeter()))}return ne},_getMinDistanceInMeter(){return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._minRadiusOption],this._map,this._centerMarker.getLatLng())},_getMaxDistanceInMeter(){return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._maxRadiusOption],this._map,this._centerMarker.getLatLng())},_handleHintMarkerSnapping(){if(this.options[this._editableOption]){if(this._hintMarker._snapped){let ne=this._centerMarker.getLatLng(),pe=this._hintMarker.getLatLng(),Ue=this._distanceCalculation(ne,pe);this._layerGroup.hasLayer(this._centerMarker)&&(this.options[this._minRadiusOption]&&Ue<this.options[this._minRadiusOption]?this._hintMarker.setLatLng(this._hintMarker._orgLatLng):this.options[this._maxRadiusOption]&&Ue>this.options[this._maxRadiusOption]&&this._hintMarker.setLatLng(this._hintMarker._orgLatLng))}this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker())}},setStyle(){let ne={};L.extend(ne,this.options.templineStyle),this.options[this._editableOption]&&(ne.radius=0),this._layer?.setStyle(ne),this._hintline?.setStyle(this.options.hintlineStyle)},_distanceCalculation(ne,pe){return this._map.project(ne).distanceTo(this._map.project(pe))}}),Nn.Circle=Nn.CircleMarker.extend({initialize(ne){this._map=ne,this._shape="Circle",this.toolbarButtonName="drawCircle",this._BaseCircleClass=L.Circle,this._minRadiusOption="minRadiusCircle",this._maxRadiusOption="maxRadiusCircle",this._editableOption="resizeableCircle",this._defaultRadius=100},_extendingEnable(){},_extendingDisable(){},_extendingCreateMarker(){},isRelevantMarker(){},_getMinDistanceInMeter(){return this.options[this._minRadiusOption]},_getMaxDistanceInMeter(){return this.options[this._maxRadiusOption]},_distanceCalculation(ne,pe){return this._map.distance(ne,pe)}});function Tr(ne){if(!ne)throw new Error("coord is required");if(!Array.isArray(ne)){if(ne.type==="Feature"&&ne.geometry!==null&&ne.geometry.type==="Point")return ne.geometry.coordinates;if(ne.type==="Point")return ne.coordinates}if(Array.isArray(ne)&&ne.length>=2&&!Array.isArray(ne[0])&&!Array.isArray(ne[1]))return ne;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function Lr(ne){if(Array.isArray(ne))return ne;if(ne.type==="Feature"){if(ne.geometry!==null)return ne.geometry.coordinates}else if(ne.coordinates)return ne.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function zr(ne){return ne.type==="Feature"?ne.geometry:ne}function rn(ne,pe){return ne.type==="FeatureCollection"?"FeatureCollection":ne.type==="GeometryCollection"?"GeometryCollection":ne.type==="Feature"&&ne.geometry!==null?ne.geometry.type:ne.type}function mn(ne,pe,Ue){if(ne!==null)for(var qe,$e,ht,Tt,Ot,Kt,ir,Rr=0,Mr=0,pn,bn=ne.type,Zn=bn==="FeatureCollection",ci=bn==="Feature",xi=Zn?ne.features.length:1,ma=0;ma<xi;ma++){ir=Zn?ne.features[ma].geometry:ci?ne.geometry:ne,pn=ir?ir.type==="GeometryCollection":!1,Ot=pn?ir.geometries.length:1;for(var Or=0;Or<Ot;Or++){var Wr=0,an=0;if(Tt=pn?ir.geometries[Or]:ir,Tt!==null){Kt=Tt.coordinates;var wn=Tt.type;switch(Rr=0,wn){case null:break;case"Point":if(pe(Kt,Mr,ma,Wr,an)===!1)return!1;Mr++,Wr++;break;case"LineString":case"MultiPoint":for(qe=0;qe<Kt.length;qe++){if(pe(Kt[qe],Mr,ma,Wr,an)===!1)return!1;Mr++,wn==="MultiPoint"&&Wr++}wn==="LineString"&&Wr++;break;case"Polygon":case"MultiLineString":for(qe=0;qe<Kt.length;qe++){for($e=0;$e<Kt[qe].length-Rr;$e++){if(pe(Kt[qe][$e],Mr,ma,Wr,an)===!1)return!1;Mr++}wn==="MultiLineString"&&Wr++,wn==="Polygon"&&an++}wn==="Polygon"&&Wr++;break;case"MultiPolygon":for(qe=0;qe<Kt.length;qe++){for(an=0,$e=0;$e<Kt[qe].length;$e++){for(ht=0;ht<Kt[qe][$e].length-Rr;ht++){if(pe(Kt[qe][$e][ht],Mr,ma,Wr,an)===!1)return!1;Mr++}an++}Wr++}break;case"GeometryCollection":for(qe=0;qe<Tt.geometries.length;qe++)if(mn(Tt.geometries[qe],pe)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function on(ne,pe){if(ne.type==="Feature")pe(ne,0);else if(ne.type==="FeatureCollection")for(var Ue=0;Ue<ne.features.length&&pe(ne.features[Ue],Ue)!==!1;Ue++);}function Cn(ne,pe,Ue){var qe=Ue;return on(ne,function($e,ht){ht===0&&Ue===void 0?qe=$e:qe=pe(qe,$e,ht)}),qe}function dn(ne,pe){var Ue,qe,$e,ht,Tt,Ot,Kt,ir,Rr,Mr,pn=0,bn=ne.type==="FeatureCollection",Zn=ne.type==="Feature",ci=bn?ne.features.length:1;for(Ue=0;Ue<ci;Ue++){for(Ot=bn?ne.features[Ue].geometry:Zn?ne.geometry:ne,ir=bn?ne.features[Ue].properties:Zn?ne.properties:{},Rr=bn?ne.features[Ue].bbox:Zn?ne.bbox:void 0,Mr=bn?ne.features[Ue].id:Zn?ne.id:void 0,Kt=Ot?Ot.type==="GeometryCollection":!1,Tt=Kt?Ot.geometries.length:1,$e=0;$e<Tt;$e++){if(ht=Kt?Ot.geometries[$e]:Ot,ht===null){if(pe(null,pn,ir,Rr,Mr)===!1)return!1;continue}switch(ht.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(pe(ht,pn,ir,Rr,Mr)===!1)return!1;break}case"GeometryCollection":{for(qe=0;qe<ht.geometries.length;qe++)if(pe(ht.geometries[qe],pn,ir,Rr,Mr)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}pn++}}function $n(ne,pe){dn(ne,function(Ue,qe,$e,ht,Tt){var Ot=Ue===null?null:Ue.type;switch(Ot){case null:case"Point":case"LineString":case"Polygon":return pe(pi(Ue,$e,{bbox:ht,id:Tt}),qe,0)===!1?!1:void 0}var Kt;switch(Ot){case"MultiPoint":Kt="Point";break;case"MultiLineString":Kt="LineString";break;case"MultiPolygon":Kt="Polygon";break}for(var ir=0;ir<Ue.coordinates.length;ir++){var Rr=Ue.coordinates[ir],Mr={type:Kt,coordinates:Rr};if(pe(pi(Mr,$e),qe,ir)===!1)return!1}})}function Rn(ne){if(!ne)throw new Error("geojson is required");var pe=[];return $n(ne,function(Ue){ni(Ue,pe)}),We(pe)}function ni(ne,pe){var Ue=[],qe=ne.geometry;if(qe!==null){switch(qe.type){case"Polygon":Ue=Lr(qe);break;case"LineString":Ue=[Lr(qe)]}Ue.forEach(function($e){var ht=_i($e,ne.properties);ht.forEach(function(Tt){Tt.id=pe.length,pe.push(Tt)})})}}function _i(ne,pe){var Ue=[];return ne.reduce(function(qe,$e){var ht=Li([qe,$e],pe);return ht.bbox=di(qe,$e),Ue.push(ht),$e}),Ue}function di(ne,pe){var Ue=ne[0],qe=ne[1],$e=pe[0],ht=pe[1],Tt=Ue<$e?Ue:$e,Ot=qe<ht?qe:ht,Kt=Ue>$e?Ue:$e,ir=qe>ht?qe:ht;return[Tt,Ot,Kt,ir]}var Pi=Rn,Ki=I(_o(),1);function eo(ne,pe){var Ue={},qe=[];if(ne.type==="LineString"&&(ne=pi(ne)),pe.type==="LineString"&&(pe=pi(pe)),ne.type==="Feature"&&pe.type==="Feature"&&ne.geometry!==null&&pe.geometry!==null&&ne.geometry.type==="LineString"&&pe.geometry.type==="LineString"&&ne.geometry.coordinates.length===2&&pe.geometry.coordinates.length===2){var $e=La(ne,pe);return $e&&qe.push($e),We(qe)}var ht=(0,Ki.default)();return ht.load(Pi(pe)),on(Pi(ne),function(Tt){on(ht.search(Tt),function(Ot){var Kt=La(Tt,Ot);if(Kt){var ir=Lr(Kt).join(",");Ue[ir]||(Ue[ir]=!0,qe.push(Kt))}})}),We(qe)}function La(ne,pe){var Ue=Lr(ne),qe=Lr(pe);if(Ue.length!==2)throw new Error("<intersects> line1 must only contain 2 coordinates");if(qe.length!==2)throw new Error("<intersects> line2 must only contain 2 coordinates");var $e=Ue[0][0],ht=Ue[0][1],Tt=Ue[1][0],Ot=Ue[1][1],Kt=qe[0][0],ir=qe[0][1],Rr=qe[1][0],Mr=qe[1][1],pn=(Mr-ir)*(Tt-$e)-(Rr-Kt)*(Ot-ht),bn=(Rr-Kt)*(ht-ir)-(Mr-ir)*($e-Kt),Zn=(Tt-$e)*(ht-ir)-(Ot-ht)*($e-Kt);if(pn===0)return null;var ci=bn/pn,xi=Zn/pn;if(ci>=0&&ci<=1&&xi>=0&&xi<=1){var ma=$e+ci*(Tt-$e),Or=ht+ci*(Ot-ht);return Kn([ma,Or])}return null}var Pa=eo,Go=I(_o(),1);function Qi(ne,pe,Ue){Ue===void 0&&(Ue={});var qe=Tr(ne),$e=Tr(pe),ht=Lt($e[1]-qe[1]),Tt=Lt($e[0]-qe[0]),Ot=Lt(qe[1]),Kt=Lt($e[1]),ir=Math.pow(Math.sin(ht/2),2)+Math.pow(Math.sin(Tt/2),2)*Math.cos(Ot)*Math.cos(Kt);return nt(2*Math.atan2(Math.sqrt(ir),Math.sqrt(1-ir)),Ue.units)}var _s=Qi;function zo(ne){var pe=ne[0],Ue=ne[1],qe=ne[2],$e=ne[3],ht=_s(ne.slice(0,2),[qe,Ue]),Tt=_s(ne.slice(0,2),[pe,$e]);if(ht>=Tt){var Ot=(Ue+$e)/2;return[pe,Ot-(qe-pe)/2,qe,Ot+(qe-pe)/2]}else{var Kt=(pe+qe)/2;return[Kt-($e-Ue)/2,Ue,Kt+($e-Ue)/2,$e]}}var Bu=zo;function St(ne){var pe=[1/0,1/0,-1/0,-1/0];return mn(ne,function(Ue){pe[0]>Ue[0]&&(pe[0]=Ue[0]),pe[1]>Ue[1]&&(pe[1]=Ue[1]),pe[2]<Ue[0]&&(pe[2]=Ue[0]),pe[3]<Ue[1]&&(pe[3]=Ue[1])}),pe}St.default=St;var xt=St;function Ht(ne,pe){pe===void 0&&(pe={});var Ue=pe.precision,qe=pe.coordinates,$e=pe.mutate;if(Ue=Ue==null||isNaN(Ue)?6:Ue,qe=qe==null||isNaN(qe)?3:qe,!ne)throw new Error("<geojson> is required");if(typeof Ue!="number")throw new Error("<precision> must be a number");if(typeof qe!="number")throw new Error("<coordinates> must be a number");($e===!1||$e===void 0)&&(ne=JSON.parse(JSON.stringify(ne)));var ht=Math.pow(10,Ue);return mn(ne,function(Tt){hr(Tt,ht,qe)}),ne}function hr(ne,pe,Ue){ne.length>Ue&&ne.splice(Ue,ne.length);for(var qe=0;qe<ne.length;qe++)ne[qe]=Math.round(ne[qe]*pe)/pe;return ne}var Kr=Ht;function Sn(ne,pe,Ue){if(Ue===void 0&&(Ue={}),Ue.final===!0)return Xn(ne,pe);var qe=Tr(ne),$e=Tr(pe),ht=Lt(qe[0]),Tt=Lt($e[0]),Ot=Lt(qe[1]),Kt=Lt($e[1]),ir=Math.sin(Tt-ht)*Math.cos(Kt),Rr=Math.cos(Ot)*Math.sin(Kt)-Math.sin(Ot)*Math.cos(Kt)*Math.cos(Tt-ht);return Rt(Math.atan2(ir,Rr))}function Xn(ne,pe){var Ue=Sn(pe,ne);return Ue=(Ue+180)%360,Ue}function hi(ne,pe,Ue,qe){qe===void 0&&(qe={});var $e=Tr(ne),ht=Lt($e[0]),Tt=Lt($e[1]),Ot=Lt(Ue),Kt=ft(pe,qe.units),ir=Math.asin(Math.sin(Tt)*Math.cos(Kt)+Math.cos(Tt)*Math.sin(Kt)*Math.cos(Ot)),Rr=ht+Math.atan2(Math.sin(Ot)*Math.sin(Kt)*Math.cos(Tt),Math.cos(Kt)-Math.sin(Tt)*Math.sin(ir)),Mr=Rt(Rr),pn=Rt(ir);return Kn([Mr,pn],qe.properties)}function Di(ne,pe,Ue){Ue===void 0&&(Ue={});var qe=Kn([1/0,1/0],{dist:1/0}),$e=0;return $n(ne,function(ht){for(var Tt=Lr(ht),Ot=0;Ot<Tt.length-1;Ot++){var Kt=Kn(Tt[Ot]);Kt.properties.dist=_s(pe,Kt,Ue);var ir=Kn(Tt[Ot+1]);ir.properties.dist=_s(pe,ir,Ue);var Rr=_s(Kt,ir,Ue),Mr=Math.max(Kt.properties.dist,ir.properties.dist),pn=Sn(Kt,ir),bn=hi(pe,Mr,pn+90,Ue),Zn=hi(pe,Mr,pn-90,Ue),ci=Pa(Li([bn.geometry.coordinates,Zn.geometry.coordinates]),Li([Kt.geometry.coordinates,ir.geometry.coordinates])),xi=null;ci.features.length>0&&(xi=ci.features[0],xi.properties.dist=_s(pe,xi,Ue),xi.properties.location=$e+_s(Kt,xi,Ue)),Kt.properties.dist<qe.properties.dist&&(qe=Kt,qe.properties.index=Ot,qe.properties.location=$e),ir.properties.dist<qe.properties.dist&&(qe=ir,qe.properties.index=Ot+1,qe.properties.location=$e+Rr),xi&&xi.properties.dist<qe.properties.dist&&(qe=xi,qe.properties.index=Ot),$e+=Rr}}),qe}var ki=Di;function na(ne,pe){if(!ne)throw new Error("line is required");if(!pe)throw new Error("splitter is required");var Ue=rn(ne),qe=rn(pe);if(Ue!=="LineString")throw new Error("line must be LineString");if(qe==="FeatureCollection")throw new Error("splitter cannot be a FeatureCollection");if(qe==="GeometryCollection")throw new Error("splitter cannot be a GeometryCollection");var $e=Kr(pe,{precision:7});switch(qe){case"Point":return Ia(ne,$e);case"MultiPoint":return Xi(ne,$e);case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":return Xi(ne,Pa(ne,$e))}}function Xi(ne,pe){var Ue=[],qe=(0,Go.default)();return $n(pe,function($e){if(Ue.forEach(function(Ot,Kt){Ot.id=Kt}),!Ue.length)Ue=Ia(ne,$e).features,Ue.forEach(function(Ot){Ot.bbox||(Ot.bbox=Bu(xt(Ot)))}),qe.load(We(Ue));else{var ht=qe.search($e);if(ht.features.length){var Tt=uo($e,ht);Ue=Ue.filter(function(Ot){return Ot.id!==Tt.id}),qe.remove(Tt),on(Ia(Tt,$e),function(Ot){Ue.push(Ot),qe.insert(Ot)})}}}),We(Ue)}function Ia(ne,pe){var Ue=[],qe=Lr(ne)[0],$e=Lr(ne)[ne.geometry.coordinates.length-1];if(xo(qe,Tr(pe))||xo($e,Tr(pe)))return We([ne]);var ht=(0,Go.default)(),Tt=Pi(ne);ht.load(Tt);var Ot=ht.search(pe);if(!Ot.features.length)return We([ne]);var Kt=uo(pe,Ot),ir=[qe],Rr=Cn(Tt,function(Mr,pn,bn){var Zn=Lr(pn)[1],ci=Tr(pe);return bn===Kt.id?(Mr.push(ci),Ue.push(Li(Mr)),xo(ci,Zn)?[ci]:[ci,Zn]):(Mr.push(Zn),Mr)},ir);return Rr.length>1&&Ue.push(Li(Rr)),We(Ue)}function uo(ne,pe){if(!pe.features.length)throw new Error("lines must contain features");if(pe.features.length===1)return pe.features[0];var Ue,qe=1/0;return on(pe,function($e){var ht=ki($e,ne),Tt=ht.properties.dist;Tt<qe&&(Ue=$e,qe=Tt)}),Ue}function xo(ne,pe){return ne[0]===pe[0]&&ne[1]===pe[1]}var os=na;function mo(ne,pe,Ue){if(Ue===void 0&&(Ue={}),!ne)throw new Error("point is required");if(!pe)throw new Error("polygon is required");var qe=Tr(ne),$e=zr(pe),ht=$e.type,Tt=pe.bbox,Ot=$e.coordinates;if(Tt&&Ao(qe,Tt)===!1)return!1;ht==="Polygon"&&(Ot=[Ot]);for(var Kt=!1,ir=0;ir<Ot.length&&!Kt;ir++)if(Wo(qe,Ot[ir][0],Ue.ignoreBoundary)){for(var Rr=!1,Mr=1;Mr<Ot[ir].length&&!Rr;)Wo(qe,Ot[ir][Mr],!Ue.ignoreBoundary)&&(Rr=!0),Mr++;Rr||(Kt=!0)}return Kt}function Wo(ne,pe,Ue){var qe=!1;pe[0][0]===pe[pe.length-1][0]&&pe[0][1]===pe[pe.length-1][1]&&(pe=pe.slice(0,pe.length-1));for(var $e=0,ht=pe.length-1;$e<pe.length;ht=$e++){var Tt=pe[$e][0],Ot=pe[$e][1],Kt=pe[ht][0],ir=pe[ht][1],Rr=ne[1]*(Tt-Kt)+Ot*(Kt-ne[0])+ir*(ne[0]-Tt)===0&&(Tt-ne[0])*(Kt-ne[0])<=0&&(Ot-ne[1])*(ir-ne[1])<=0;if(Rr)return!Ue;var Mr=Ot>ne[1]!=ir>ne[1]&&ne[0]<(Kt-Tt)*(ne[1]-Ot)/(ir-Ot)+Tt;Mr&&(qe=!qe)}return qe}function Ao(ne,pe){return pe[0]<=ne[0]&&pe[1]<=ne[1]&&pe[2]>=ne[0]&&pe[3]>=ne[1]}function ii(ne,pe,Ue){Ue===void 0&&(Ue={});for(var qe=Tr(ne),$e=Lr(pe),ht=0;ht<$e.length-1;ht++){var Tt=!1;if(Ue.ignoreEndVertices&&(ht===0&&(Tt="start"),ht===$e.length-2&&(Tt="end"),ht===0&&ht+1===$e.length-1&&(Tt="both")),er($e[ht],$e[ht+1],qe,Tt,typeof Ue.epsilon>"u"?null:Ue.epsilon))return!0}return!1}function er(ne,pe,Ue,qe,$e){var ht=Ue[0],Tt=Ue[1],Ot=ne[0],Kt=ne[1],ir=pe[0],Rr=pe[1],Mr=Ue[0]-Ot,pn=Ue[1]-Kt,bn=ir-Ot,Zn=Rr-Kt,ci=Mr*Zn-pn*bn;if($e!==null){if(Math.abs(ci)>$e)return!1}else if(ci!==0)return!1;if(qe){if(qe==="start")return Math.abs(bn)>=Math.abs(Zn)?bn>0?Ot<ht&&ht<=ir:ir<=ht&&ht<Ot:Zn>0?Kt<Tt&&Tt<=Rr:Rr<=Tt&&Tt<Kt;if(qe==="end")return Math.abs(bn)>=Math.abs(Zn)?bn>0?Ot<=ht&&ht<ir:ir<ht&&ht<=Ot:Zn>0?Kt<=Tt&&Tt<Rr:Rr<Tt&&Tt<=Kt;if(qe==="both")return Math.abs(bn)>=Math.abs(Zn)?bn>0?Ot<ht&&ht<ir:ir<ht&&ht<Ot:Zn>0?Kt<Tt&&Tt<Rr:Rr<Tt&&Tt<Kt}else return Math.abs(bn)>=Math.abs(Zn)?bn>0?Ot<=ht&&ht<=ir:ir<=ht&&ht<=Ot:Zn>0?Kt<=Tt&&Tt<=Rr:Rr<=Tt&&Tt<=Kt;return!1}var kr=ii;function xn(ne,pe){var Ue=zr(ne),qe=zr(pe),$e=Ue.type,ht=qe.type,Tt=Ue.coordinates,Ot=qe.coordinates;switch($e){case"Point":switch(ht){case"Point":return js(Tt,Ot);default:throw new Error("feature2 "+ht+" geometry not supported")}case"MultiPoint":switch(ht){case"Point":return Ln(Ue,qe);case"MultiPoint":return Gn(Ue,qe);default:throw new Error("feature2 "+ht+" geometry not supported")}case"LineString":switch(ht){case"Point":return kr(qe,Ue,{ignoreEndVertices:!0});case"LineString":return oa(Ue,qe);case"MultiPoint":return Jn(Ue,qe);default:throw new Error("feature2 "+ht+" geometry not supported")}case"Polygon":switch(ht){case"Point":return mo(qe,Ue,{ignoreBoundary:!0});case"LineString":return bo(Ue,qe);case"Polygon":return Aa(Ue,qe);case"MultiPoint":return bi(Ue,qe);default:throw new Error("feature2 "+ht+" geometry not supported")}default:throw new Error("feature1 "+$e+" geometry not supported")}}function Ln(ne,pe){var Ue,qe=!1;for(Ue=0;Ue<ne.coordinates.length;Ue++)if(js(ne.coordinates[Ue],pe.coordinates)){qe=!0;break}return qe}function Gn(ne,pe){for(var Ue=0,qe=pe.coordinates;Ue<qe.length;Ue++){for(var $e=qe[Ue],ht=!1,Tt=0,Ot=ne.coordinates;Tt<Ot.length;Tt++){var Kt=Ot[Tt];if(js($e,Kt)){ht=!0;break}}if(!ht)return!1}return!0}function Jn(ne,pe){for(var Ue=!1,qe=0,$e=pe.coordinates;qe<$e.length;qe++){var ht=$e[qe];if(kr(ht,ne,{ignoreEndVertices:!0})&&(Ue=!0),!kr(ht,ne))return!1}return!!Ue}function bi(ne,pe){for(var Ue=0,qe=pe.coordinates;Ue<qe.length;Ue++){var $e=qe[Ue];if(!mo($e,ne,{ignoreBoundary:!0}))return!1}return!0}function oa(ne,pe){for(var Ue=!1,qe=0,$e=pe.coordinates;qe<$e.length;qe++){var ht=$e[qe];if(kr({type:"Point",coordinates:ht},ne,{ignoreEndVertices:!0})&&(Ue=!0),!kr({type:"Point",coordinates:ht},ne,{ignoreEndVertices:!1}))return!1}return Ue}function bo(ne,pe){var Ue=!1,qe=0,$e=xt(ne),ht=xt(pe);if(!Ya($e,ht))return!1;for(qe;qe<pe.coordinates.length-1;qe++){var Tt=ss(pe.coordinates[qe],pe.coordinates[qe+1]);if(mo({type:"Point",coordinates:Tt},ne,{ignoreBoundary:!0})){Ue=!0;break}}return Ue}function Aa(ne,pe){if(ne.type==="Feature"&&ne.geometry===null||pe.type==="Feature"&&pe.geometry===null)return!1;var Ue=xt(ne),qe=xt(pe);if(!Ya(Ue,qe))return!1;for(var $e=zr(pe).coordinates,ht=0,Tt=$e;ht<Tt.length;ht++)for(var Ot=Tt[ht],Kt=0,ir=Ot;Kt<ir.length;Kt++){var Rr=ir[Kt];if(!mo(Rr,ne))return!1}return!0}function Ya(ne,pe){return!(ne[0]>pe[0]||ne[2]<pe[2]||ne[1]>pe[1]||ne[3]<pe[3])}function js(ne,pe){return ne[0]===pe[0]&&ne[1]===pe[1]}function ss(ne,pe){return[(ne[0]+pe[0])/2,(ne[1]+pe[1])/2]}var Ko=I(co()),$s=ne=>()=>ne,Gs=ne=>{let pe=ne?(Ue,qe)=>qe.minus(Ue).abs().isLessThanOrEqualTo(ne):$s(!1);return(Ue,qe)=>pe(Ue,qe)?0:Ue.comparedTo(qe)};function Ds(ne){let pe=ne?(Ue,qe,$e,ht,Tt)=>Ue.exponentiatedBy(2).isLessThanOrEqualTo(ht.minus(qe).exponentiatedBy(2).plus(Tt.minus($e).exponentiatedBy(2)).times(ne)):$s(!1);return(Ue,qe,$e)=>{let ht=Ue.x,Tt=Ue.y,Ot=$e.x,Kt=$e.y,ir=Tt.minus(Kt).times(qe.x.minus(Ot)).minus(ht.minus(Ot).times(qe.y.minus(Kt)));return pe(ir,ht,Tt,Ot,Kt)?0:ir.comparedTo(0)}}var Pu=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,us=Math.ceil,Mo=Math.floor,Eo="[BigNumber Error] ",Rs=Eo+"Number primitive has more than 15 significant digits: ",hs=1e14,Oi=14,Ks=9007199254740991,ls=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],gs=1e7,to=1e9;function Bs(ne){var pe,Ue,qe,$e=Or.prototype={constructor:Or,toString:null,valueOf:null},ht=new Or(1),Tt=20,Ot=4,Kt=-7,ir=21,Rr=-1e7,Mr=1e7,pn=!1,bn=1,Zn=0,ci={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},xi="0123456789abcdefghijklmnopqrstuvwxyz",ma=!0;function Or(Vt,cr){var xr,yr,wr,Er,Ir,qr,Qr,Zr,en=this;if(!(en instanceof Or))return new Or(Vt,cr);if(cr==null){if(Vt&&Vt._isBigNumber===!0){en.s=Vt.s,!Vt.c||Vt.e>Mr?en.c=en.e=null:Vt.e<Rr?en.c=[en.e=0]:(en.e=Vt.e,en.c=Vt.c.slice());return}if((qr=typeof Vt=="number")&&Vt*0==0){if(en.s=1/Vt<0?(Vt=-Vt,-1):1,Vt===~~Vt){for(Er=0,Ir=Vt;Ir>=10;Ir/=10,Er++);Er>Mr?en.c=en.e=null:(en.e=Er,en.c=[Vt]);return}Zr=String(Vt)}else{if(!Pu.test(Zr=String(Vt)))return qe(en,Zr,qr);en.s=Zr.charCodeAt(0)==45?(Zr=Zr.slice(1),-1):1}(Er=Zr.indexOf("."))>-1&&(Zr=Zr.replace(".","")),(Ir=Zr.search(/e/i))>0?(Er<0&&(Er=Ir),Er+=+Zr.slice(Ir+1),Zr=Zr.substring(0,Ir)):Er<0&&(Er=Zr.length)}else{if(ee(cr,2,xi.length,"Base"),cr==10&&ma)return en=new Or(Vt),un(en,Tt+en.e+1,Ot);if(Zr=String(Vt),qr=typeof Vt=="number"){if(Vt*0!=0)return qe(en,Zr,qr,cr);if(en.s=1/Vt<0?(Zr=Zr.slice(1),-1):1,Or.DEBUG&&Zr.replace(/^0\.0*|\./,"").length>15)throw Error(Rs+Vt)}else en.s=Zr.charCodeAt(0)===45?(Zr=Zr.slice(1),-1):1;for(xr=xi.slice(0,cr),Er=Ir=0,Qr=Zr.length;Ir<Qr;Ir++)if(xr.indexOf(yr=Zr.charAt(Ir))<0){if(yr=="."){if(Ir>Er){Er=Qr;continue}}else if(!wr&&(Zr==Zr.toUpperCase()&&(Zr=Zr.toLowerCase())||Zr==Zr.toLowerCase()&&(Zr=Zr.toUpperCase()))){wr=!0,Ir=-1,Er=0;continue}return qe(en,String(Vt),qr,cr)}qr=!1,Zr=Ue(Zr,cr,10,en.s),(Er=Zr.indexOf("."))>-1?Zr=Zr.replace(".",""):Er=Zr.length}for(Ir=0;Zr.charCodeAt(Ir)===48;Ir++);for(Qr=Zr.length;Zr.charCodeAt(--Qr)===48;);if(Zr=Zr.slice(Ir,++Qr)){if(Qr-=Ir,qr&&Or.DEBUG&&Qr>15&&(Vt>Ks||Vt!==Mo(Vt)))throw Error(Rs+en.s*Vt);if((Er=Er-Ir-1)>Mr)en.c=en.e=null;else if(Er<Rr)en.c=[en.e=0];else{if(en.e=Er,en.c=[],Ir=(Er+1)%Oi,Er<0&&(Ir+=Oi),Ir<Qr){for(Ir&&en.c.push(+Zr.slice(0,Ir)),Qr-=Oi;Ir<Qr;)en.c.push(+Zr.slice(Ir,Ir+=Oi));Ir=Oi-(Zr=Zr.slice(Ir)).length}else Ir-=Qr;for(;Ir--;Zr+="0");en.c.push(+Zr)}}else en.c=[en.e=0]}Or.clone=Bs,Or.ROUND_UP=0,Or.ROUND_DOWN=1,Or.ROUND_CEIL=2,Or.ROUND_FLOOR=3,Or.ROUND_HALF_UP=4,Or.ROUND_HALF_DOWN=5,Or.ROUND_HALF_EVEN=6,Or.ROUND_HALF_CEIL=7,Or.ROUND_HALF_FLOOR=8,Or.EUCLID=9,Or.config=Or.set=function(Vt){var cr,xr;if(Vt!=null)if(typeof Vt=="object"){if(Vt.hasOwnProperty(cr="DECIMAL_PLACES")&&(xr=Vt[cr],ee(xr,0,to,cr),Tt=xr),Vt.hasOwnProperty(cr="ROUNDING_MODE")&&(xr=Vt[cr],ee(xr,0,8,cr),Ot=xr),Vt.hasOwnProperty(cr="EXPONENTIAL_AT")&&(xr=Vt[cr],xr&&xr.pop?(ee(xr[0],-to,0,cr),ee(xr[1],0,to,cr),Kt=xr[0],ir=xr[1]):(ee(xr,-to,to,cr),Kt=-(ir=xr<0?-xr:xr))),Vt.hasOwnProperty(cr="RANGE"))if(xr=Vt[cr],xr&&xr.pop)ee(xr[0],-to,-1,cr),ee(xr[1],1,to,cr),Rr=xr[0],Mr=xr[1];else if(ee(xr,-to,to,cr),xr)Rr=-(Mr=xr<0?-xr:xr);else throw Error(Eo+cr+" cannot be zero: "+xr);if(Vt.hasOwnProperty(cr="CRYPTO"))if(xr=Vt[cr],xr===!!xr)if(xr)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))pn=xr;else throw pn=!xr,Error(Eo+"crypto unavailable");else pn=xr;else throw Error(Eo+cr+" not true or false: "+xr);if(Vt.hasOwnProperty(cr="MODULO_MODE")&&(xr=Vt[cr],ee(xr,0,9,cr),bn=xr),Vt.hasOwnProperty(cr="POW_PRECISION")&&(xr=Vt[cr],ee(xr,0,to,cr),Zn=xr),Vt.hasOwnProperty(cr="FORMAT"))if(xr=Vt[cr],typeof xr=="object")ci=xr;else throw Error(Eo+cr+" not an object: "+xr);if(Vt.hasOwnProperty(cr="ALPHABET"))if(xr=Vt[cr],typeof xr=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(xr))ma=xr.slice(0,10)=="0123456789",xi=xr;else throw Error(Eo+cr+" invalid: "+xr)}else throw Error(Eo+"Object expected: "+Vt);return{DECIMAL_PLACES:Tt,ROUNDING_MODE:Ot,EXPONENTIAL_AT:[Kt,ir],RANGE:[Rr,Mr],CRYPTO:pn,MODULO_MODE:bn,POW_PRECISION:Zn,FORMAT:ci,ALPHABET:xi}},Or.isBigNumber=function(Vt){if(!Vt||Vt._isBigNumber!==!0)return!1;if(!Or.DEBUG)return!0;var cr,xr,yr=Vt.c,wr=Vt.e,Er=Vt.s;e:if({}.toString.call(yr)=="[object Array]"){if((Er===1||Er===-1)&&wr>=-to&&wr<=to&&wr===Mo(wr)){if(yr[0]===0){if(wr===0&&yr.length===1)return!0;break e}if(cr=(wr+1)%Oi,cr<1&&(cr+=Oi),String(yr[0]).length==cr){for(cr=0;cr<yr.length;cr++)if(xr=yr[cr],xr<0||xr>=hs||xr!==Mo(xr))break e;if(xr!==0)return!0}}}else if(yr===null&&wr===null&&(Er===null||Er===1||Er===-1))return!0;throw Error(Eo+"Invalid BigNumber: "+Vt)},Or.maximum=Or.max=function(){return an(arguments,-1)},Or.minimum=Or.min=function(){return an(arguments,1)},Or.random=(function(){var Vt=9007199254740992,cr=Math.random()*Vt&2097151?function(){return Mo(Math.random()*Vt)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(xr){var yr,wr,Er,Ir,qr,Qr=0,Zr=[],en=new Or(ht);if(xr==null?xr=Tt:ee(xr,0,to),Ir=us(xr/Oi),pn)if(crypto.getRandomValues){for(yr=crypto.getRandomValues(new Uint32Array(Ir*=2));Qr<Ir;)qr=yr[Qr]*131072+(yr[Qr+1]>>>11),qr>=9e15?(wr=crypto.getRandomValues(new Uint32Array(2)),yr[Qr]=wr[0],yr[Qr+1]=wr[1]):(Zr.push(qr%1e14),Qr+=2);Qr=Ir/2}else if(crypto.randomBytes){for(yr=crypto.randomBytes(Ir*=7);Qr<Ir;)qr=(yr[Qr]&31)*281474976710656+yr[Qr+1]*1099511627776+yr[Qr+2]*4294967296+yr[Qr+3]*16777216+(yr[Qr+4]<<16)+(yr[Qr+5]<<8)+yr[Qr+6],qr>=9e15?crypto.randomBytes(7).copy(yr,Qr):(Zr.push(qr%1e14),Qr+=7);Qr=Ir/7}else throw pn=!1,Error(Eo+"crypto unavailable");if(!pn)for(;Qr<Ir;)qr=cr(),qr<9e15&&(Zr[Qr++]=qr%1e14);for(Ir=Zr[--Qr],xr%=Oi,Ir&&xr&&(qr=ls[Oi-xr],Zr[Qr]=Mo(Ir/qr)*qr);Zr[Qr]===0;Zr.pop(),Qr--);if(Qr<0)Zr=[Er=0];else{for(Er=-1;Zr[0]===0;Zr.splice(0,1),Er-=Oi);for(Qr=1,qr=Zr[0];qr>=10;qr/=10,Qr++);Qr<Oi&&(Er-=Oi-Qr)}return en.e=Er,en.c=Zr,en}})(),Or.sum=function(){for(var Vt=1,cr=arguments,xr=new Or(cr[0]);Vt<cr.length;)xr=xr.plus(cr[Vt++]);return xr},Ue=(function(){var Vt="0123456789";function cr(xr,yr,wr,Er){for(var Ir,qr=[0],Qr,Zr=0,en=xr.length;Zr<en;){for(Qr=qr.length;Qr--;qr[Qr]*=yr);for(qr[0]+=Er.indexOf(xr.charAt(Zr++)),Ir=0;Ir<qr.length;Ir++)qr[Ir]>wr-1&&(qr[Ir+1]==null&&(qr[Ir+1]=0),qr[Ir+1]+=qr[Ir]/wr|0,qr[Ir]%=wr)}return qr.reverse()}return function(xr,yr,wr,Er,Ir){var qr,Qr,Zr,en,On,mi,yi,Ci,Ea=xr.indexOf("."),Ta=Tt,sa=Ot;for(Ea>=0&&(en=Zn,Zn=0,xr=xr.replace(".",""),Ci=new Or(yr),mi=Ci.pow(xr.length-Ea),Zn=en,Ci.c=cr(lt(Qo(mi.c),mi.e,"0"),10,wr,Vt),Ci.e=Ci.c.length),yi=cr(xr,yr,wr,Ir?(qr=xi,Vt):(qr=Vt,xi)),Zr=en=yi.length;yi[--en]==0;yi.pop());if(!yi[0])return qr.charAt(0);if(Ea<0?--Zr:(mi.c=yi,mi.e=Zr,mi.s=Er,mi=pe(mi,Ci,Ta,sa,wr),yi=mi.c,On=mi.r,Zr=mi.e),Qr=Zr+Ta+1,Ea=yi[Qr],en=wr/2,On=On||Qr<0||yi[Qr+1]!=null,On=sa<4?(Ea!=null||On)&&(sa==0||sa==(mi.s<0?3:2)):Ea>en||Ea==en&&(sa==4||On||sa==6&&yi[Qr-1]&1||sa==(mi.s<0?8:7)),Qr<1||!yi[0])xr=On?lt(qr.charAt(1),-Ta,qr.charAt(0)):qr.charAt(0);else{if(yi.length=Qr,On)for(--wr;++yi[--Qr]>wr;)yi[Qr]=0,Qr||(++Zr,yi=[1].concat(yi));for(en=yi.length;!yi[--en];);for(Ea=0,xr="";Ea<=en;xr+=qr.charAt(yi[Ea++]));xr=lt(xr,Zr,qr.charAt(0))}return xr}})(),pe=(function(){function Vt(yr,wr,Er){var Ir,qr,Qr,Zr,en=0,On=yr.length,mi=wr%gs,yi=wr/gs|0;for(yr=yr.slice();On--;)Qr=yr[On]%gs,Zr=yr[On]/gs|0,Ir=yi*Qr+Zr*mi,qr=mi*Qr+Ir%gs*gs+en,en=(qr/Er|0)+(Ir/gs|0)+yi*Zr,yr[On]=qr%Er;return en&&(yr=[en].concat(yr)),yr}function cr(yr,wr,Er,Ir){var qr,Qr;if(Er!=Ir)Qr=Er>Ir?1:-1;else for(qr=Qr=0;qr<Er;qr++)if(yr[qr]!=wr[qr]){Qr=yr[qr]>wr[qr]?1:-1;break}return Qr}function xr(yr,wr,Er,Ir){for(var qr=0;Er--;)yr[Er]-=qr,qr=yr[Er]<wr[Er]?1:0,yr[Er]=qr*Ir+yr[Er]-wr[Er];for(;!yr[0]&&yr.length>1;yr.splice(0,1));}return function(yr,wr,Er,Ir,qr){var Qr,Zr,en,On,mi,yi,Ci,Ea,Ta,sa,Ba,ca,bu,ju,$u,Ms,Gu,fs=yr.s==wr.s?1:-1,Vo=yr.c,no=wr.c;if(!Vo||!Vo[0]||!no||!no[0])return new Or(!yr.s||!wr.s||(Vo?no&&Vo[0]==no[0]:!no)?NaN:Vo&&Vo[0]==0||!no?fs*0:fs/0);for(Ea=new Or(fs),Ta=Ea.c=[],Zr=yr.e-wr.e,fs=Er+Zr+1,qr||(qr=hs,Zr=qo(yr.e/Oi)-qo(wr.e/Oi),fs=fs/Oi|0),en=0;no[en]==(Vo[en]||0);en++);if(no[en]>(Vo[en]||0)&&Zr--,fs<0)Ta.push(1),On=!0;else{for(ju=Vo.length,Ms=no.length,en=0,fs+=2,mi=Mo(qr/(no[0]+1)),mi>1&&(no=Vt(no,mi,qr),Vo=Vt(Vo,mi,qr),Ms=no.length,ju=Vo.length),bu=Ms,sa=Vo.slice(0,Ms),Ba=sa.length;Ba<Ms;sa[Ba++]=0);Gu=no.slice(),Gu=[0].concat(Gu),$u=no[0],no[1]>=qr/2&&$u++;do{if(mi=0,Qr=cr(no,sa,Ms,Ba),Qr<0){if(ca=sa[0],Ms!=Ba&&(ca=ca*qr+(sa[1]||0)),mi=Mo(ca/$u),mi>1)for(mi>=qr&&(mi=qr-1),yi=Vt(no,mi,qr),Ci=yi.length,Ba=sa.length;cr(yi,sa,Ci,Ba)==1;)mi--,xr(yi,Ms<Ci?Gu:no,Ci,qr),Ci=yi.length,Qr=1;else mi==0&&(Qr=mi=1),yi=no.slice(),Ci=yi.length;if(Ci<Ba&&(yi=[0].concat(yi)),xr(sa,yi,Ba,qr),Ba=sa.length,Qr==-1)for(;cr(no,sa,Ms,Ba)<1;)mi++,xr(sa,Ms<Ba?Gu:no,Ba,qr),Ba=sa.length}else Qr===0&&(mi++,sa=[0]);Ta[en++]=mi,sa[0]?sa[Ba++]=Vo[bu]||0:(sa=[Vo[bu]],Ba=1)}while((bu++<ju||sa[0]!=null)&&fs--);On=sa[0]!=null,Ta[0]||Ta.splice(0,1)}if(qr==hs){for(en=1,fs=Ta[0];fs>=10;fs/=10,en++);un(Ea,Er+(Ea.e=en+Zr*Oi-1)+1,Ir,On)}else Ea.e=Zr,Ea.r=+On;return Ea}})();function Wr(Vt,cr,xr,yr){var wr,Er,Ir,qr,Qr;if(xr==null?xr=Ot:ee(xr,0,8),!Vt.c)return Vt.toString();if(wr=Vt.c[0],Ir=Vt.e,cr==null)Qr=Qo(Vt.c),Qr=yr==1||yr==2&&(Ir<=Kt||Ir>=ir)?Xe(Qr,Ir):lt(Qr,Ir,"0");else if(Vt=un(new Or(Vt),cr,xr),Er=Vt.e,Qr=Qo(Vt.c),qr=Qr.length,yr==1||yr==2&&(cr<=Er||Er<=Kt)){for(;qr<cr;Qr+="0",qr++);Qr=Xe(Qr,Er)}else if(cr-=Ir,Qr=lt(Qr,Er,"0"),Er+1>qr){if(--cr>0)for(Qr+=".";cr--;Qr+="0");}else if(cr+=Er-qr,cr>0)for(Er+1==qr&&(Qr+=".");cr--;Qr+="0");return Vt.s<0&&wr?"-"+Qr:Qr}function an(Vt,cr){for(var xr,yr,wr=1,Er=new Or(Vt[0]);wr<Vt.length;wr++)yr=new Or(Vt[wr]),(!yr.s||(xr=Ts(Er,yr))===cr||xr===0&&Er.s===cr)&&(Er=yr);return Er}function wn(Vt,cr,xr){for(var yr=1,wr=cr.length;!cr[--wr];cr.pop());for(wr=cr[0];wr>=10;wr/=10,yr++);return(xr=yr+xr*Oi-1)>Mr?Vt.c=Vt.e=null:xr<Rr?Vt.c=[Vt.e=0]:(Vt.e=xr,Vt.c=cr),Vt}qe=(function(){var Vt=/^(-?)0([xbo])(?=\w[\w.]*$)/i,cr=/^([^.]+)\.$/,xr=/^\.([^.]+)$/,yr=/^-?(Infinity|NaN)$/,wr=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(Er,Ir,qr,Qr){var Zr,en=qr?Ir:Ir.replace(wr,"");if(yr.test(en))Er.s=isNaN(en)?null:en<0?-1:1;else{if(!qr&&(en=en.replace(Vt,function(On,mi,yi){return Zr=(yi=yi.toLowerCase())=="x"?16:yi=="b"?2:8,!Qr||Qr==Zr?mi:On}),Qr&&(Zr=Qr,en=en.replace(cr,"$1").replace(xr,"0.$1")),Ir!=en))return new Or(en,Zr);if(Or.DEBUG)throw Error(Eo+"Not a"+(Qr?" base "+Qr:"")+" number: "+Ir);Er.s=null}Er.c=Er.e=null}})();function un(Vt,cr,xr,yr){var wr,Er,Ir,qr,Qr,Zr,en,On=Vt.c,mi=ls;if(On){e:{for(wr=1,qr=On[0];qr>=10;qr/=10,wr++);if(Er=cr-wr,Er<0)Er+=Oi,Ir=cr,Qr=On[Zr=0],en=Mo(Qr/mi[wr-Ir-1]%10);else if(Zr=us((Er+1)/Oi),Zr>=On.length)if(yr){for(;On.length<=Zr;On.push(0));Qr=en=0,wr=1,Er%=Oi,Ir=Er-Oi+1}else break e;else{for(Qr=qr=On[Zr],wr=1;qr>=10;qr/=10,wr++);Er%=Oi,Ir=Er-Oi+wr,en=Ir<0?0:Mo(Qr/mi[wr-Ir-1]%10)}if(yr=yr||cr<0||On[Zr+1]!=null||(Ir<0?Qr:Qr%mi[wr-Ir-1]),yr=xr<4?(en||yr)&&(xr==0||xr==(Vt.s<0?3:2)):en>5||en==5&&(xr==4||yr||xr==6&&(Er>0?Ir>0?Qr/mi[wr-Ir]:0:On[Zr-1])%10&1||xr==(Vt.s<0?8:7)),cr<1||!On[0])return On.length=0,yr?(cr-=Vt.e+1,On[0]=mi[(Oi-cr%Oi)%Oi],Vt.e=-cr||0):On[0]=Vt.e=0,Vt;if(Er==0?(On.length=Zr,qr=1,Zr--):(On.length=Zr+1,qr=mi[Oi-Er],On[Zr]=Ir>0?Mo(Qr/mi[wr-Ir]%mi[Ir])*qr:0),yr)for(;;)if(Zr==0){for(Er=1,Ir=On[0];Ir>=10;Ir/=10,Er++);for(Ir=On[0]+=qr,qr=1;Ir>=10;Ir/=10,qr++);Er!=qr&&(Vt.e++,On[0]==hs&&(On[0]=1));break}else{if(On[Zr]+=qr,On[Zr]!=hs)break;On[Zr--]=0,qr=1}for(Er=On.length;On[--Er]===0;On.pop());}Vt.e>Mr?Vt.c=Vt.e=null:Vt.e<Rr&&(Vt.c=[Vt.e=0])}return Vt}function fn(Vt){var cr,xr=Vt.e;return xr===null?Vt.toString():(cr=Qo(Vt.c),cr=xr<=Kt||xr>=ir?Xe(cr,xr):lt(cr,xr,"0"),Vt.s<0?"-"+cr:cr)}return $e.absoluteValue=$e.abs=function(){var Vt=new Or(this);return Vt.s<0&&(Vt.s=1),Vt},$e.comparedTo=function(Vt,cr){return Ts(this,new Or(Vt,cr))},$e.decimalPlaces=$e.dp=function(Vt,cr){var xr,yr,wr,Er=this;if(Vt!=null)return ee(Vt,0,to),cr==null?cr=Ot:ee(cr,0,8),un(new Or(Er),Vt+Er.e+1,cr);if(!(xr=Er.c))return null;if(yr=((wr=xr.length-1)-qo(this.e/Oi))*Oi,wr=xr[wr])for(;wr%10==0;wr/=10,yr--);return yr<0&&(yr=0),yr},$e.dividedBy=$e.div=function(Vt,cr){return pe(this,new Or(Vt,cr),Tt,Ot)},$e.dividedToIntegerBy=$e.idiv=function(Vt,cr){return pe(this,new Or(Vt,cr),0,1)},$e.exponentiatedBy=$e.pow=function(Vt,cr){var xr,yr,wr,Er,Ir,qr,Qr,Zr,en,On=this;if(Vt=new Or(Vt),Vt.c&&!Vt.isInteger())throw Error(Eo+"Exponent not an integer: "+fn(Vt));if(cr!=null&&(cr=new Or(cr)),qr=Vt.e>14,!On.c||!On.c[0]||On.c[0]==1&&!On.e&&On.c.length==1||!Vt.c||!Vt.c[0])return en=new Or(Math.pow(+fn(On),qr?Vt.s*(2-ye(Vt)):+fn(Vt))),cr?en.mod(cr):en;if(Qr=Vt.s<0,cr){if(cr.c?!cr.c[0]:!cr.s)return new Or(NaN);yr=!Qr&&On.isInteger()&&cr.isInteger(),yr&&(On=On.mod(cr))}else{if(Vt.e>9&&(On.e>0||On.e<-1||(On.e==0?On.c[0]>1||qr&&On.c[1]>=24e7:On.c[0]<8e13||qr&&On.c[0]<=9999975e7)))return Er=On.s<0&&ye(Vt)?-0:0,On.e>-1&&(Er=1/Er),new Or(Qr?1/Er:Er);Zn&&(Er=us(Zn/Oi+2))}for(qr?(xr=new Or(.5),Qr&&(Vt.s=1),Zr=ye(Vt)):(wr=Math.abs(+fn(Vt)),Zr=wr%2),en=new Or(ht);;){if(Zr){if(en=en.times(On),!en.c)break;Er?en.c.length>Er&&(en.c.length=Er):yr&&(en=en.mod(cr))}if(wr){if(wr=Mo(wr/2),wr===0)break;Zr=wr%2}else if(Vt=Vt.times(xr),un(Vt,Vt.e+1,1),Vt.e>14)Zr=ye(Vt);else{if(wr=+fn(Vt),wr===0)break;Zr=wr%2}On=On.times(On),Er?On.c&&On.c.length>Er&&(On.c.length=Er):yr&&(On=On.mod(cr))}return yr?en:(Qr&&(en=ht.div(en)),cr?en.mod(cr):Er?un(en,Zn,Ot,Ir):en)},$e.integerValue=function(Vt){var cr=new Or(this);return Vt==null?Vt=Ot:ee(Vt,0,8),un(cr,cr.e+1,Vt)},$e.isEqualTo=$e.eq=function(Vt,cr){return Ts(this,new Or(Vt,cr))===0},$e.isFinite=function(){return!!this.c},$e.isGreaterThan=$e.gt=function(Vt,cr){return Ts(this,new Or(Vt,cr))>0},$e.isGreaterThanOrEqualTo=$e.gte=function(Vt,cr){return(cr=Ts(this,new Or(Vt,cr)))===1||cr===0},$e.isInteger=function(){return!!this.c&&qo(this.e/Oi)>this.c.length-2},$e.isLessThan=$e.lt=function(Vt,cr){return Ts(this,new Or(Vt,cr))<0},$e.isLessThanOrEqualTo=$e.lte=function(Vt,cr){return(cr=Ts(this,new Or(Vt,cr)))===-1||cr===0},$e.isNaN=function(){return!this.s},$e.isNegative=function(){return this.s<0},$e.isPositive=function(){return this.s>0},$e.isZero=function(){return!!this.c&&this.c[0]==0},$e.minus=function(Vt,cr){var xr,yr,wr,Er,Ir=this,qr=Ir.s;if(Vt=new Or(Vt,cr),cr=Vt.s,!qr||!cr)return new Or(NaN);if(qr!=cr)return Vt.s=-cr,Ir.plus(Vt);var Qr=Ir.e/Oi,Zr=Vt.e/Oi,en=Ir.c,On=Vt.c;if(!Qr||!Zr){if(!en||!On)return en?(Vt.s=-cr,Vt):new Or(On?Ir:NaN);if(!en[0]||!On[0])return On[0]?(Vt.s=-cr,Vt):new Or(en[0]?Ir:Ot==3?-0:0)}if(Qr=qo(Qr),Zr=qo(Zr),en=en.slice(),qr=Qr-Zr){for((Er=qr<0)?(qr=-qr,wr=en):(Zr=Qr,wr=On),wr.reverse(),cr=qr;cr--;wr.push(0));wr.reverse()}else for(yr=(Er=(qr=en.length)<(cr=On.length))?qr:cr,qr=cr=0;cr<yr;cr++)if(en[cr]!=On[cr]){Er=en[cr]<On[cr];break}if(Er&&(wr=en,en=On,On=wr,Vt.s=-Vt.s),cr=(yr=On.length)-(xr=en.length),cr>0)for(;cr--;en[xr++]=0);for(cr=hs-1;yr>qr;){if(en[--yr]<On[yr]){for(xr=yr;xr&&!en[--xr];en[xr]=cr);--en[xr],en[yr]+=hs}en[yr]-=On[yr]}for(;en[0]==0;en.splice(0,1),--Zr);return en[0]?wn(Vt,en,Zr):(Vt.s=Ot==3?-1:1,Vt.c=[Vt.e=0],Vt)},$e.modulo=$e.mod=function(Vt,cr){var xr,yr,wr=this;return Vt=new Or(Vt,cr),!wr.c||!Vt.s||Vt.c&&!Vt.c[0]?new Or(NaN):!Vt.c||wr.c&&!wr.c[0]?new Or(wr):(bn==9?(yr=Vt.s,Vt.s=1,xr=pe(wr,Vt,0,3),Vt.s=yr,xr.s*=yr):xr=pe(wr,Vt,0,bn),Vt=wr.minus(xr.times(Vt)),!Vt.c[0]&&bn==1&&(Vt.s=wr.s),Vt)},$e.multipliedBy=$e.times=function(Vt,cr){var xr,yr,wr,Er,Ir,qr,Qr,Zr,en,On,mi,yi,Ci,Ea,Ta,sa=this,Ba=sa.c,ca=(Vt=new Or(Vt,cr)).c;if(!Ba||!ca||!Ba[0]||!ca[0])return!sa.s||!Vt.s||Ba&&!Ba[0]&&!ca||ca&&!ca[0]&&!Ba?Vt.c=Vt.e=Vt.s=null:(Vt.s*=sa.s,!Ba||!ca?Vt.c=Vt.e=null:(Vt.c=[0],Vt.e=0)),Vt;for(yr=qo(sa.e/Oi)+qo(Vt.e/Oi),Vt.s*=sa.s,Qr=Ba.length,On=ca.length,Qr<On&&(Ci=Ba,Ba=ca,ca=Ci,wr=Qr,Qr=On,On=wr),wr=Qr+On,Ci=[];wr--;Ci.push(0));for(Ea=hs,Ta=gs,wr=On;--wr>=0;){for(xr=0,mi=ca[wr]%Ta,yi=ca[wr]/Ta|0,Ir=Qr,Er=wr+Ir;Er>wr;)Zr=Ba[--Ir]%Ta,en=Ba[Ir]/Ta|0,qr=yi*Zr+en*mi,Zr=mi*Zr+qr%Ta*Ta+Ci[Er]+xr,xr=(Zr/Ea|0)+(qr/Ta|0)+yi*en,Ci[Er--]=Zr%Ea;Ci[Er]=xr}return xr?++yr:Ci.splice(0,1),wn(Vt,Ci,yr)},$e.negated=function(){var Vt=new Or(this);return Vt.s=-Vt.s||null,Vt},$e.plus=function(Vt,cr){var xr,yr=this,wr=yr.s;if(Vt=new Or(Vt,cr),cr=Vt.s,!wr||!cr)return new Or(NaN);if(wr!=cr)return Vt.s=-cr,yr.minus(Vt);var Er=yr.e/Oi,Ir=Vt.e/Oi,qr=yr.c,Qr=Vt.c;if(!Er||!Ir){if(!qr||!Qr)return new Or(wr/0);if(!qr[0]||!Qr[0])return Qr[0]?Vt:new Or(qr[0]?yr:wr*0)}if(Er=qo(Er),Ir=qo(Ir),qr=qr.slice(),wr=Er-Ir){for(wr>0?(Ir=Er,xr=Qr):(wr=-wr,xr=qr),xr.reverse();wr--;xr.push(0));xr.reverse()}for(wr=qr.length,cr=Qr.length,wr-cr<0&&(xr=Qr,Qr=qr,qr=xr,cr=wr),wr=0;cr;)wr=(qr[--cr]=qr[cr]+Qr[cr]+wr)/hs|0,qr[cr]=hs===qr[cr]?0:qr[cr]%hs;return wr&&(qr=[wr].concat(qr),++Ir),wn(Vt,qr,Ir)},$e.precision=$e.sd=function(Vt,cr){var xr,yr,wr,Er=this;if(Vt!=null&&Vt!==!!Vt)return ee(Vt,1,to),cr==null?cr=Ot:ee(cr,0,8),un(new Or(Er),Vt,cr);if(!(xr=Er.c))return null;if(wr=xr.length-1,yr=wr*Oi+1,wr=xr[wr]){for(;wr%10==0;wr/=10,yr--);for(wr=xr[0];wr>=10;wr/=10,yr++);}return Vt&&Er.e+1>yr&&(yr=Er.e+1),yr},$e.shiftedBy=function(Vt){return ee(Vt,-Ks,Ks),this.times("1e"+Vt)},$e.squareRoot=$e.sqrt=function(){var Vt,cr,xr,yr,wr,Er=this,Ir=Er.c,qr=Er.s,Qr=Er.e,Zr=Tt+4,en=new Or("0.5");if(qr!==1||!Ir||!Ir[0])return new Or(!qr||qr<0&&(!Ir||Ir[0])?NaN:Ir?Er:1/0);if(qr=Math.sqrt(+fn(Er)),qr==0||qr==1/0?(cr=Qo(Ir),(cr.length+Qr)%2==0&&(cr+="0"),qr=Math.sqrt(+cr),Qr=qo((Qr+1)/2)-(Qr<0||Qr%2),qr==1/0?cr="5e"+Qr:(cr=qr.toExponential(),cr=cr.slice(0,cr.indexOf("e")+1)+Qr),xr=new Or(cr)):xr=new Or(qr+""),xr.c[0]){for(Qr=xr.e,qr=Qr+Zr,qr<3&&(qr=0);;)if(wr=xr,xr=en.times(wr.plus(pe(Er,wr,Zr,1))),Qo(wr.c).slice(0,qr)===(cr=Qo(xr.c)).slice(0,qr))if(xr.e<Qr&&--qr,cr=cr.slice(qr-3,qr+1),cr=="9999"||!yr&&cr=="4999"){if(!yr&&(un(wr,wr.e+Tt+2,0),wr.times(wr).eq(Er))){xr=wr;break}Zr+=4,qr+=4,yr=1}else{(!+cr||!+cr.slice(1)&&cr.charAt(0)=="5")&&(un(xr,xr.e+Tt+2,1),Vt=!xr.times(xr).eq(Er));break}}return un(xr,xr.e+Tt+1,Ot,Vt)},$e.toExponential=function(Vt,cr){return Vt!=null&&(ee(Vt,0,to),Vt++),Wr(this,Vt,cr,1)},$e.toFixed=function(Vt,cr){return Vt!=null&&(ee(Vt,0,to),Vt=Vt+this.e+1),Wr(this,Vt,cr)},$e.toFormat=function(Vt,cr,xr){var yr,wr=this;if(xr==null)Vt!=null&&cr&&typeof cr=="object"?(xr=cr,cr=null):Vt&&typeof Vt=="object"?(xr=Vt,Vt=cr=null):xr=ci;else if(typeof xr!="object")throw Error(Eo+"Argument not an object: "+xr);if(yr=wr.toFixed(Vt,cr),wr.c){var Er,Ir=yr.split("."),qr=+xr.groupSize,Qr=+xr.secondaryGroupSize,Zr=xr.groupSeparator||"",en=Ir[0],On=Ir[1],mi=wr.s<0,yi=mi?en.slice(1):en,Ci=yi.length;if(Qr&&(Er=qr,qr=Qr,Qr=Er,Ci-=Er),qr>0&&Ci>0){for(Er=Ci%qr||qr,en=yi.substr(0,Er);Er<Ci;Er+=qr)en+=Zr+yi.substr(Er,qr);Qr>0&&(en+=Zr+yi.slice(Er)),mi&&(en="-"+en)}yr=On?en+(xr.decimalSeparator||"")+((Qr=+xr.fractionGroupSize)?On.replace(new RegExp("\\d{"+Qr+"}\\B","g"),"$&"+(xr.fractionGroupSeparator||"")):On):en}return(xr.prefix||"")+yr+(xr.suffix||"")},$e.toFraction=function(Vt){var cr,xr,yr,wr,Er,Ir,qr,Qr,Zr,en,On,mi,yi=this,Ci=yi.c;if(Vt!=null&&(qr=new Or(Vt),!qr.isInteger()&&(qr.c||qr.s!==1)||qr.lt(ht)))throw Error(Eo+"Argument "+(qr.isInteger()?"out of range: ":"not an integer: ")+fn(qr));if(!Ci)return new Or(yi);for(cr=new Or(ht),Zr=xr=new Or(ht),yr=Qr=new Or(ht),mi=Qo(Ci),Er=cr.e=mi.length-yi.e-1,cr.c[0]=ls[(Ir=Er%Oi)<0?Oi+Ir:Ir],Vt=!Vt||qr.comparedTo(cr)>0?Er>0?cr:Zr:qr,Ir=Mr,Mr=1/0,qr=new Or(mi),Qr.c[0]=0;en=pe(qr,cr,0,1),wr=xr.plus(en.times(yr)),wr.comparedTo(Vt)!=1;)xr=yr,yr=wr,Zr=Qr.plus(en.times(wr=Zr)),Qr=wr,cr=qr.minus(en.times(wr=cr)),qr=wr;return wr=pe(Vt.minus(xr),yr,0,1),Qr=Qr.plus(wr.times(Zr)),xr=xr.plus(wr.times(yr)),Qr.s=Zr.s=yi.s,Er=Er*2,On=pe(Zr,yr,Er,Ot).minus(yi).abs().comparedTo(pe(Qr,xr,Er,Ot).minus(yi).abs())<1?[Zr,yr]:[Qr,xr],Mr=Ir,On},$e.toNumber=function(){return+fn(this)},$e.toPrecision=function(Vt,cr){return Vt!=null&&ee(Vt,1,to),Wr(this,Vt,cr,2)},$e.toString=function(Vt){var cr,xr=this,yr=xr.s,wr=xr.e;return wr===null?yr?(cr="Infinity",yr<0&&(cr="-"+cr)):cr="NaN":(Vt==null?cr=wr<=Kt||wr>=ir?Xe(Qo(xr.c),wr):lt(Qo(xr.c),wr,"0"):Vt===10&&ma?(xr=un(new Or(xr),Tt+wr+1,Ot),cr=lt(Qo(xr.c),xr.e,"0")):(ee(Vt,2,xi.length,"Base"),cr=Ue(lt(Qo(xr.c),wr,"0"),10,Vt,yr,!0)),yr<0&&xr.c[0]&&(cr="-"+cr)),cr},$e.valueOf=$e.toJSON=function(){return fn(this)},$e._isBigNumber=!0,$e[Symbol.toStringTag]="BigNumber",$e[Symbol.for("nodejs.util.inspect.custom")]=$e.valueOf,ne!=null&&Or.set(ne),Or}function qo(ne){var pe=ne|0;return ne>0||ne===pe?pe:pe-1}function Qo(ne){for(var pe,Ue,qe=1,$e=ne.length,ht=ne[0]+"";qe<$e;){for(pe=ne[qe++]+"",Ue=Oi-pe.length;Ue--;pe="0"+pe);ht+=pe}for($e=ht.length;ht.charCodeAt(--$e)===48;);return ht.slice(0,$e+1||1)}function Ts(ne,pe){var Ue,qe,$e=ne.c,ht=pe.c,Tt=ne.s,Ot=pe.s,Kt=ne.e,ir=pe.e;if(!Tt||!Ot)return null;if(Ue=$e&&!$e[0],qe=ht&&!ht[0],Ue||qe)return Ue?qe?0:-Ot:Tt;if(Tt!=Ot)return Tt;if(Ue=Tt<0,qe=Kt==ir,!$e||!ht)return qe?0:!$e^Ue?1:-1;if(!qe)return Kt>ir^Ue?1:-1;for(Ot=(Kt=$e.length)<(ir=ht.length)?Kt:ir,Tt=0;Tt<Ot;Tt++)if($e[Tt]!=ht[Tt])return $e[Tt]>ht[Tt]^Ue?1:-1;return Kt==ir?0:Kt>ir^Ue?1:-1}function ee(ne,pe,Ue,qe){if(ne<pe||ne>Ue||ne!==Mo(ne))throw Error(Eo+(qe||"Argument")+(typeof ne=="number"?ne<pe||ne>Ue?" out of range: ":" not an integer: ":" not a primitive number: ")+String(ne))}function ye(ne){var pe=ne.c.length-1;return qo(ne.e/Oi)==pe&&ne.c[pe]%2!=0}function Xe(ne,pe){return(ne.length>1?ne.charAt(0)+"."+ne.slice(1):ne)+(pe<0?"e":"e+")+pe}function lt(ne,pe,Ue){var qe,$e;if(pe<0){for($e=Ue+".";++pe;$e+=Ue);ne=$e+ne}else if(qe=ne.length,++pe>qe){for($e=Ue,pe-=qe;--pe;$e+=Ue);ne+=$e}else pe<qe&&(ne=ne.slice(0,pe)+"."+ne.slice(pe));return ne}var Nt=Bs(),sr=Nt,Br=class{key;left=null;right=null;constructor(ne){this.key=ne}},sn=class extends Br{constructor(ne){super(ne)}},En=class{size=0;modificationCount=0;splayCount=0;splay(ne){let pe=this.root;if(pe==null)return this.compare(ne,ne),-1;let Ue=null,qe=null,$e=null,ht=null,Tt=pe,Ot=this.compare,Kt;for(;;)if(Kt=Ot(Tt.key,ne),Kt>0){let ir=Tt.left;if(ir==null||(Kt=Ot(ir.key,ne),Kt>0&&(Tt.left=ir.right,ir.right=Tt,Tt=ir,ir=Tt.left,ir==null)))break;Ue==null?qe=Tt:Ue.left=Tt,Ue=Tt,Tt=ir}else if(Kt<0){let ir=Tt.right;if(ir==null||(Kt=Ot(ir.key,ne),Kt<0&&(Tt.right=ir.left,ir.left=Tt,Tt=ir,ir=Tt.right,ir==null)))break;$e==null?ht=Tt:$e.right=Tt,$e=Tt,Tt=ir}else break;return $e!=null&&($e.right=Tt.left,Tt.left=ht),Ue!=null&&(Ue.left=Tt.right,Tt.right=qe),this.root!==Tt&&(this.root=Tt,this.splayCount++),Kt}splayMin(ne){let pe=ne,Ue=pe.left;for(;Ue!=null;){let qe=Ue;pe.left=qe.right,qe.right=pe,pe=qe,Ue=pe.left}return pe}splayMax(ne){let pe=ne,Ue=pe.right;for(;Ue!=null;){let qe=Ue;pe.right=qe.left,qe.left=pe,pe=qe,Ue=pe.right}return pe}_delete(ne){if(this.root==null||this.splay(ne)!=0)return null;let pe=this.root,Ue=pe,qe=pe.left;if(this.size--,qe==null)this.root=pe.right;else{let $e=pe.right;pe=this.splayMax(qe),pe.right=$e,this.root=pe}return this.modificationCount++,Ue}addNewRoot(ne,pe){this.size++,this.modificationCount++;let Ue=this.root;if(Ue==null){this.root=ne;return}pe<0?(ne.left=Ue,ne.right=Ue.right,Ue.right=null):(ne.right=Ue,ne.left=Ue.left,Ue.left=null),this.root=ne}_first(){let ne=this.root;return ne==null?null:(this.root=this.splayMin(ne),this.root)}_last(){let ne=this.root;return ne==null?null:(this.root=this.splayMax(ne),this.root)}clear(){this.root=null,this.size=0,this.modificationCount++}has(ne){return this.validKey(ne)&&this.splay(ne)==0}defaultCompare(){return(ne,pe)=>ne<pe?-1:ne>pe?1:0}wrap(){return{getRoot:()=>this.root,setRoot:ne=>{this.root=ne},getSize:()=>this.size,getModificationCount:()=>this.modificationCount,getSplayCount:()=>this.splayCount,setSplayCount:ne=>{this.splayCount=ne},splay:ne=>this.splay(ne),has:ne=>this.has(ne)}}},Un=class jl extends En{root=null;compare;validKey;constructor(pe,Ue){super(),this.compare=pe??this.defaultCompare(),this.validKey=Ue??(qe=>qe!=null&&qe!=null)}delete(pe){return this.validKey(pe)?this._delete(pe)!=null:!1}deleteAll(pe){for(let Ue of pe)this.delete(Ue)}forEach(pe){let Ue=this[Symbol.iterator](),qe;for(;qe=Ue.next(),!qe.done;)pe(qe.value,qe.value,this)}add(pe){let Ue=this.splay(pe);return Ue!=0&&this.addNewRoot(new sn(pe),Ue),this}addAndReturn(pe){let Ue=this.splay(pe);return Ue!=0&&this.addNewRoot(new sn(pe),Ue),this.root.key}addAll(pe){for(let Ue of pe)this.add(Ue)}isEmpty(){return this.root==null}isNotEmpty(){return this.root!=null}single(){if(this.size==0)throw"Bad state: No element";if(this.size>1)throw"Bad state: Too many element";return this.root.key}first(){if(this.size==0)throw"Bad state: No element";return this._first().key}last(){if(this.size==0)throw"Bad state: No element";return this._last().key}lastBefore(pe){if(pe==null)throw"Invalid arguments(s)";if(this.root==null)return null;if(this.splay(pe)<0)return this.root.key;let Ue=this.root.left;if(Ue==null)return null;let qe=Ue.right;for(;qe!=null;)Ue=qe,qe=Ue.right;return Ue.key}firstAfter(pe){if(pe==null)throw"Invalid arguments(s)";if(this.root==null)return null;if(this.splay(pe)>0)return this.root.key;let Ue=this.root.right;if(Ue==null)return null;let qe=Ue.left;for(;qe!=null;)Ue=qe,qe=Ue.left;return Ue.key}retainAll(pe){let Ue=new jl(this.compare,this.validKey),qe=this.modificationCount;for(let $e of pe){if(qe!=this.modificationCount)throw"Concurrent modification during iteration.";this.validKey($e)&&this.splay($e)==0&&Ue.add(this.root.key)}Ue.size!=this.size&&(this.root=Ue.root,this.size=Ue.size,this.modificationCount++)}lookup(pe){return!this.validKey(pe)||this.splay(pe)!=0?null:this.root.key}intersection(pe){let Ue=new jl(this.compare,this.validKey);for(let qe of this)pe.has(qe)&&Ue.add(qe);return Ue}difference(pe){let Ue=new jl(this.compare,this.validKey);for(let qe of this)pe.has(qe)||Ue.add(qe);return Ue}union(pe){let Ue=this.clone();return Ue.addAll(pe),Ue}clone(){let pe=new jl(this.compare,this.validKey);return pe.size=this.size,pe.root=this.copyNode(this.root),pe}copyNode(pe){if(pe==null)return null;function Ue($e,ht){let Tt,Ot;do{if(Tt=$e.left,Ot=$e.right,Tt!=null){let Kt=new sn(Tt.key);ht.left=Kt,Ue(Tt,Kt)}if(Ot!=null){let Kt=new sn(Ot.key);ht.right=Kt,$e=Ot,ht=Kt}}while(Ot!=null)}let qe=new sn(pe.key);return Ue(pe,qe),qe}toSet(){return this.clone()}entries(){return new Ji(this.wrap())}keys(){return this[Symbol.iterator]()}values(){return this[Symbol.iterator]()}[Symbol.iterator](){return new Ai(this.wrap())}[Symbol.toStringTag]="[object Set]"},li=class{tree;path=new Array;modificationCount=null;splayCount;constructor(ne){this.tree=ne,this.splayCount=ne.getSplayCount()}[Symbol.iterator](){return this}next(){return this.moveNext()?{done:!1,value:this.current()}:{done:!0,value:null}}current(){if(!this.path.length)return null;let ne=this.path[this.path.length-1];return this.getValue(ne)}rebuildPath(ne){this.path.splice(0,this.path.length),this.tree.splay(ne),this.path.push(this.tree.getRoot()),this.splayCount=this.tree.getSplayCount()}findLeftMostDescendent(ne){for(;ne!=null;)this.path.push(ne),ne=ne.left}moveNext(){if(this.modificationCount!=this.tree.getModificationCount()){if(this.modificationCount==null){this.modificationCount=this.tree.getModificationCount();let Ue=this.tree.getRoot();for(;Ue!=null;)this.path.push(Ue),Ue=Ue.left;return this.path.length>0}throw"Concurrent modification during iteration."}if(!this.path.length)return!1;this.splayCount!=this.tree.getSplayCount()&&this.rebuildPath(this.path[this.path.length-1].key);let ne=this.path[this.path.length-1],pe=ne.right;if(pe!=null){for(;pe!=null;)this.path.push(pe),pe=pe.left;return!0}for(this.path.pop();this.path.length&&this.path[this.path.length-1].right===ne;)ne=this.path.pop();return this.path.length>0}},Ai=class extends li{getValue(ne){return ne.key}},Ji=class extends li{getValue(ne){return[ne.key,ne.key]}},Lo=ne=>ne,fo=ne=>{if(ne){let pe=new Un(Gs(ne)),Ue=new Un(Gs(ne)),qe=(ht,Tt)=>Tt.addAndReturn(ht),$e=ht=>({x:qe(ht.x,pe),y:qe(ht.y,Ue)});return $e({x:new sr(0),y:new sr(0)}),$e}return Lo},Ho=ne=>({set:pe=>{ta=Ho(pe)},reset:()=>Ho(ne),compare:Gs(ne),snap:fo(ne),orient:Ds(ne)}),ta=Ho(),da=(ne,pe)=>ne.ll.x.isLessThanOrEqualTo(pe.x)&&pe.x.isLessThanOrEqualTo(ne.ur.x)&&ne.ll.y.isLessThanOrEqualTo(pe.y)&&pe.y.isLessThanOrEqualTo(ne.ur.y),ia=(ne,pe)=>{if(pe.ur.x.isLessThan(ne.ll.x)||ne.ur.x.isLessThan(pe.ll.x)||pe.ur.y.isLessThan(ne.ll.y)||ne.ur.y.isLessThan(pe.ll.y))return null;let Ue=ne.ll.x.isLessThan(pe.ll.x)?pe.ll.x:ne.ll.x,qe=ne.ur.x.isLessThan(pe.ur.x)?ne.ur.x:pe.ur.x,$e=ne.ll.y.isLessThan(pe.ll.y)?pe.ll.y:ne.ll.y,ht=ne.ur.y.isLessThan(pe.ur.y)?ne.ur.y:pe.ur.y;return{ll:{x:Ue,y:$e},ur:{x:qe,y:ht}}},ps=(ne,pe)=>ne.x.times(pe.y).minus(ne.y.times(pe.x)),rs=(ne,pe)=>ne.x.times(pe.x).plus(ne.y.times(pe.y)),zs=ne=>rs(ne,ne).sqrt(),Ps=(ne,pe,Ue)=>{let qe={x:pe.x.minus(ne.x),y:pe.y.minus(ne.y)},$e={x:Ue.x.minus(ne.x),y:Ue.y.minus(ne.y)};return ps($e,qe).div(zs($e)).div(zs(qe))},Iu=(ne,pe,Ue)=>{let qe={x:pe.x.minus(ne.x),y:pe.y.minus(ne.y)},$e={x:Ue.x.minus(ne.x),y:Ue.y.minus(ne.y)};return rs($e,qe).div(zs($e)).div(zs(qe))},ro=(ne,pe,Ue)=>pe.y.isZero()?null:{x:ne.x.plus(pe.x.div(pe.y).times(Ue.minus(ne.y))),y:Ue},ys=(ne,pe,Ue)=>pe.x.isZero()?null:{x:Ue,y:ne.y.plus(pe.y.div(pe.x).times(Ue.minus(ne.x)))},Ws=(ne,pe,Ue,qe)=>{if(pe.x.isZero())return ys(Ue,qe,ne.x);if(qe.x.isZero())return ys(ne,pe,Ue.x);if(pe.y.isZero())return ro(Ue,qe,ne.y);if(qe.y.isZero())return ro(ne,pe,Ue.y);let $e=ps(pe,qe);if($e.isZero())return null;let ht={x:Ue.x.minus(ne.x),y:Ue.y.minus(ne.y)},Tt=ps(ht,pe).div($e),Ot=ps(ht,qe).div($e),Kt=ne.x.plus(Ot.times(pe.x)),ir=Ue.x.plus(Tt.times(qe.x)),Rr=ne.y.plus(Ot.times(pe.y)),Mr=Ue.y.plus(Tt.times(qe.y)),pn=Kt.plus(ir).div(2),bn=Rr.plus(Mr).div(2);return{x:pn,y:bn}},cs=class Sd{point;isLeft;segment;otherSE;consumedBy;static compare(pe,Ue){let qe=Sd.comparePoints(pe.point,Ue.point);return qe!==0?qe:(pe.point!==Ue.point&&pe.link(Ue),pe.isLeft!==Ue.isLeft?pe.isLeft?1:-1:Is.compare(pe.segment,Ue.segment))}static comparePoints(pe,Ue){return pe.x.isLessThan(Ue.x)?-1:pe.x.isGreaterThan(Ue.x)?1:pe.y.isLessThan(Ue.y)?-1:pe.y.isGreaterThan(Ue.y)?1:0}constructor(pe,Ue){pe.events===void 0?pe.events=[this]:pe.events.push(this),this.point=pe,this.isLeft=Ue}link(pe){if(pe.point===this.point)throw new Error("Tried to link already linked events");let Ue=pe.point.events;for(let qe=0,$e=Ue.length;qe<$e;qe++){let ht=Ue[qe];this.point.events.push(ht),ht.point=this.point}this.checkForConsuming()}checkForConsuming(){let pe=this.point.events.length;for(let Ue=0;Ue<pe;Ue++){let qe=this.point.events[Ue];if(qe.segment.consumedBy===void 0)for(let $e=Ue+1;$e<pe;$e++){let ht=this.point.events[$e];ht.consumedBy===void 0&&qe.otherSE.point.events===ht.otherSE.point.events&&qe.segment.consume(ht.segment)}}}getAvailableLinkedEvents(){let pe=[];for(let Ue=0,qe=this.point.events.length;Ue<qe;Ue++){let $e=this.point.events[Ue];$e!==this&&!$e.segment.ringOut&&$e.segment.isInResult()&&pe.push($e)}return pe}getLeftmostComparator(pe){let Ue=new Map,qe=$e=>{let ht=$e.otherSE;Ue.set($e,{sine:Ps(this.point,pe.point,ht.point),cosine:Iu(this.point,pe.point,ht.point)})};return($e,ht)=>{Ue.has($e)||qe($e),Ue.has(ht)||qe(ht);let{sine:Tt,cosine:Ot}=Ue.get($e),{sine:Kt,cosine:ir}=Ue.get(ht);return Tt.isGreaterThanOrEqualTo(0)&&Kt.isGreaterThanOrEqualTo(0)?Ot.isLessThan(ir)?1:Ot.isGreaterThan(ir)?-1:0:Tt.isLessThan(0)&&Kt.isLessThan(0)?Ot.isLessThan(ir)?-1:Ot.isGreaterThan(ir)?1:0:Kt.isLessThan(Tt)?-1:Kt.isGreaterThan(Tt)?1:0}}},eu=0,Is=class Oc{id;leftSE;rightSE;rings;windings;ringOut;consumedBy;prev;_prevInResult;_beforeState;_afterState;_isInResult;static compare(pe,Ue){let qe=pe.leftSE.point.x,$e=Ue.leftSE.point.x,ht=pe.rightSE.point.x,Tt=Ue.rightSE.point.x;if(Tt.isLessThan(qe))return 1;if(ht.isLessThan($e))return-1;let Ot=pe.leftSE.point.y,Kt=Ue.leftSE.point.y,ir=pe.rightSE.point.y,Rr=Ue.rightSE.point.y;if(qe.isLessThan($e)){if(Kt.isLessThan(Ot)&&Kt.isLessThan(ir))return 1;if(Kt.isGreaterThan(Ot)&&Kt.isGreaterThan(ir))return-1;let Mr=pe.comparePoint(Ue.leftSE.point);if(Mr<0)return 1;if(Mr>0)return-1;let pn=Ue.comparePoint(pe.rightSE.point);return pn!==0?pn:-1}if(qe.isGreaterThan($e)){if(Ot.isLessThan(Kt)&&Ot.isLessThan(Rr))return-1;if(Ot.isGreaterThan(Kt)&&Ot.isGreaterThan(Rr))return 1;let Mr=Ue.comparePoint(pe.leftSE.point);if(Mr!==0)return Mr;let pn=pe.comparePoint(Ue.rightSE.point);return pn<0?1:pn>0?-1:1}if(Ot.isLessThan(Kt))return-1;if(Ot.isGreaterThan(Kt))return 1;if(ht.isLessThan(Tt)){let Mr=Ue.comparePoint(pe.rightSE.point);if(Mr!==0)return Mr}if(ht.isGreaterThan(Tt)){let Mr=pe.comparePoint(Ue.rightSE.point);if(Mr<0)return 1;if(Mr>0)return-1}if(!ht.eq(Tt)){let Mr=ir.minus(Ot),pn=ht.minus(qe),bn=Rr.minus(Kt),Zn=Tt.minus($e);if(Mr.isGreaterThan(pn)&&bn.isLessThan(Zn))return 1;if(Mr.isLessThan(pn)&&bn.isGreaterThan(Zn))return-1}return ht.isGreaterThan(Tt)?1:ht.isLessThan(Tt)||ir.isLessThan(Rr)?-1:ir.isGreaterThan(Rr)?1:pe.id<Ue.id?-1:pe.id>Ue.id?1:0}constructor(pe,Ue,qe,$e){this.id=++eu,this.leftSE=pe,pe.segment=this,pe.otherSE=Ue,this.rightSE=Ue,Ue.segment=this,Ue.otherSE=pe,this.rings=qe,this.windings=$e}static fromRing(pe,Ue,qe){let $e,ht,Tt,Ot=cs.comparePoints(pe,Ue);if(Ot<0)$e=pe,ht=Ue,Tt=1;else if(Ot>0)$e=Ue,ht=pe,Tt=-1;else throw new Error(`Tried to create degenerate segment at [${pe.x}, ${pe.y}]`);let Kt=new cs($e,!0),ir=new cs(ht,!1);return new Oc(Kt,ir,[qe],[Tt])}replaceRightSE(pe){this.rightSE=pe,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}bbox(){let pe=this.leftSE.point.y,Ue=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:pe.isLessThan(Ue)?pe:Ue},ur:{x:this.rightSE.point.x,y:pe.isGreaterThan(Ue)?pe:Ue}}}vector(){return{x:this.rightSE.point.x.minus(this.leftSE.point.x),y:this.rightSE.point.y.minus(this.leftSE.point.y)}}isAnEndpoint(pe){return pe.x.eq(this.leftSE.point.x)&&pe.y.eq(this.leftSE.point.y)||pe.x.eq(this.rightSE.point.x)&&pe.y.eq(this.rightSE.point.y)}comparePoint(pe){return ta.orient(this.leftSE.point,pe,this.rightSE.point)}getIntersection(pe){let Ue=this.bbox(),qe=pe.bbox(),$e=ia(Ue,qe);if($e===null)return null;let ht=this.leftSE.point,Tt=this.rightSE.point,Ot=pe.leftSE.point,Kt=pe.rightSE.point,ir=da(Ue,Ot)&&this.comparePoint(Ot)===0,Rr=da(qe,ht)&&pe.comparePoint(ht)===0,Mr=da(Ue,Kt)&&this.comparePoint(Kt)===0,pn=da(qe,Tt)&&pe.comparePoint(Tt)===0;if(Rr&&ir)return pn&&!Mr?Tt:!pn&&Mr?Kt:null;if(Rr)return Mr&&ht.x.eq(Kt.x)&&ht.y.eq(Kt.y)?null:ht;if(ir)return pn&&Tt.x.eq(Ot.x)&&Tt.y.eq(Ot.y)?null:Ot;if(pn&&Mr)return null;if(pn)return Tt;if(Mr)return Kt;let bn=Ws(ht,this.vector(),Ot,pe.vector());return bn===null||!da($e,bn)?null:ta.snap(bn)}split(pe){let Ue=[],qe=pe.events!==void 0,$e=new cs(pe,!0),ht=new cs(pe,!1),Tt=this.rightSE;this.replaceRightSE(ht),Ue.push(ht),Ue.push($e);let Ot=new Oc($e,Tt,this.rings.slice(),this.windings.slice());return cs.comparePoints(Ot.leftSE.point,Ot.rightSE.point)>0&&Ot.swapEvents(),cs.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),qe&&($e.checkForConsuming(),ht.checkForConsuming()),Ue}swapEvents(){let pe=this.rightSE;this.rightSE=this.leftSE,this.leftSE=pe,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(let Ue=0,qe=this.windings.length;Ue<qe;Ue++)this.windings[Ue]*=-1}consume(pe){let Ue=this,qe=pe;for(;Ue.consumedBy;)Ue=Ue.consumedBy;for(;qe.consumedBy;)qe=qe.consumedBy;let $e=Oc.compare(Ue,qe);if($e!==0){if($e>0){let ht=Ue;Ue=qe,qe=ht}if(Ue.prev===qe){let ht=Ue;Ue=qe,qe=ht}for(let ht=0,Tt=qe.rings.length;ht<Tt;ht++){let Ot=qe.rings[ht],Kt=qe.windings[ht],ir=Ue.rings.indexOf(Ot);ir===-1?(Ue.rings.push(Ot),Ue.windings.push(Kt)):Ue.windings[ir]+=Kt}qe.rings=null,qe.windings=null,qe.consumedBy=Ue,qe.leftSE.consumedBy=Ue.leftSE,qe.rightSE.consumedBy=Ue.rightSE}}prevInResult(){return this._prevInResult!==void 0?this._prevInResult:(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null,this._prevInResult)}beforeState(){if(this._beforeState!==void 0)return this._beforeState;if(!this.prev)this._beforeState={rings:[],windings:[],multiPolys:[]};else{let pe=this.prev.consumedBy||this.prev;this._beforeState=pe.afterState()}return this._beforeState}afterState(){if(this._afterState!==void 0)return this._afterState;let pe=this.beforeState();this._afterState={rings:pe.rings.slice(0),windings:pe.windings.slice(0),multiPolys:[]};let Ue=this._afterState.rings,qe=this._afterState.windings,$e=this._afterState.multiPolys;for(let Ot=0,Kt=this.rings.length;Ot<Kt;Ot++){let ir=this.rings[Ot],Rr=this.windings[Ot],Mr=Ue.indexOf(ir);Mr===-1?(Ue.push(ir),qe.push(Rr)):qe[Mr]+=Rr}let ht=[],Tt=[];for(let Ot=0,Kt=Ue.length;Ot<Kt;Ot++){if(qe[Ot]===0)continue;let ir=Ue[Ot],Rr=ir.poly;if(Tt.indexOf(Rr)===-1)if(ir.isExterior)ht.push(Rr);else{Tt.indexOf(Rr)===-1&&Tt.push(Rr);let Mr=ht.indexOf(ir.poly);Mr!==-1&&ht.splice(Mr,1)}}for(let Ot=0,Kt=ht.length;Ot<Kt;Ot++){let ir=ht[Ot].multiPoly;$e.indexOf(ir)===-1&&$e.push(ir)}return this._afterState}isInResult(){if(this.consumedBy)return!1;if(this._isInResult!==void 0)return this._isInResult;let pe=this.beforeState().multiPolys,Ue=this.afterState().multiPolys;switch(wo.type){case"union":{let qe=pe.length===0,$e=Ue.length===0;this._isInResult=qe!==$e;break}case"intersection":{let qe,$e;pe.length<Ue.length?(qe=pe.length,$e=Ue.length):(qe=Ue.length,$e=pe.length),this._isInResult=$e===wo.numMultiPolys&&qe<$e;break}case"xor":{let qe=Math.abs(pe.length-Ue.length);this._isInResult=qe%2===1;break}case"difference":{let qe=$e=>$e.length===1&&$e[0].isSubject;this._isInResult=qe(pe)!==qe(Ue);break}}return this._isInResult}},Cs=class{poly;isExterior;segments;bbox;constructor(ne,pe,Ue){if(!Array.isArray(ne)||ne.length===0)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=pe,this.isExterior=Ue,this.segments=[],typeof ne[0][0]!="number"||typeof ne[0][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");let qe=ta.snap({x:new sr(ne[0][0]),y:new sr(ne[0][1])});this.bbox={ll:{x:qe.x,y:qe.y},ur:{x:qe.x,y:qe.y}};let $e=qe;for(let ht=1,Tt=ne.length;ht<Tt;ht++){if(typeof ne[ht][0]!="number"||typeof ne[ht][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");let Ot=ta.snap({x:new sr(ne[ht][0]),y:new sr(ne[ht][1])});Ot.x.eq($e.x)&&Ot.y.eq($e.y)||(this.segments.push(Is.fromRing($e,Ot,this)),Ot.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=Ot.x),Ot.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=Ot.y),Ot.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=Ot.x),Ot.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=Ot.y),$e=Ot)}(!qe.x.eq($e.x)||!qe.y.eq($e.y))&&this.segments.push(Is.fromRing($e,qe,this))}getSweepEvents(){let ne=[];for(let pe=0,Ue=this.segments.length;pe<Ue;pe++){let qe=this.segments[pe];ne.push(qe.leftSE),ne.push(qe.rightSE)}return ne}},Ss=class{multiPoly;exteriorRing;interiorRings;bbox;constructor(ne,pe){if(!Array.isArray(ne))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new Cs(ne[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(let Ue=1,qe=ne.length;Ue<qe;Ue++){let $e=new Cs(ne[Ue],this,!1);$e.bbox.ll.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=$e.bbox.ll.x),$e.bbox.ll.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=$e.bbox.ll.y),$e.bbox.ur.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=$e.bbox.ur.x),$e.bbox.ur.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=$e.bbox.ur.y),this.interiorRings.push($e)}this.multiPoly=pe}getSweepEvents(){let ne=this.exteriorRing.getSweepEvents();for(let pe=0,Ue=this.interiorRings.length;pe<Ue;pe++){let qe=this.interiorRings[pe].getSweepEvents();for(let $e=0,ht=qe.length;$e<ht;$e++)ne.push(qe[$e])}return ne}},qs=class{isSubject;polys;bbox;constructor(ne,pe){if(!Array.isArray(ne))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{typeof ne[0][0][0]=="number"&&(ne=[ne])}catch{}this.polys=[],this.bbox={ll:{x:new sr(Number.POSITIVE_INFINITY),y:new sr(Number.POSITIVE_INFINITY)},ur:{x:new sr(Number.NEGATIVE_INFINITY),y:new sr(Number.NEGATIVE_INFINITY)}};for(let Ue=0,qe=ne.length;Ue<qe;Ue++){let $e=new Ss(ne[Ue],this);$e.bbox.ll.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=$e.bbox.ll.x),$e.bbox.ll.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=$e.bbox.ll.y),$e.bbox.ur.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=$e.bbox.ur.x),$e.bbox.ur.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=$e.bbox.ur.y),this.polys.push($e)}this.isSubject=pe}getSweepEvents(){let ne=[];for(let pe=0,Ue=this.polys.length;pe<Ue;pe++){let qe=this.polys[pe].getSweepEvents();for(let $e=0,ht=qe.length;$e<ht;$e++)ne.push(qe[$e])}return ne}},Hs=class Xf{events;poly;_isExteriorRing;_enclosingRing;static factory(pe){let Ue=[];for(let qe=0,$e=pe.length;qe<$e;qe++){let ht=pe[qe];if(!ht.isInResult()||ht.ringOut)continue;let Tt=null,Ot=ht.leftSE,Kt=ht.rightSE,ir=[Ot],Rr=Ot.point,Mr=[];for(;Tt=Ot,Ot=Kt,ir.push(Ot),Ot.point!==Rr;)for(;;){let pn=Ot.getAvailableLinkedEvents();if(pn.length===0){let ci=ir[0].point,xi=ir[ir.length-1].point;throw new Error(`Unable to complete output ring starting at [${ci.x}, ${ci.y}]. Last matching segment found ends at [${xi.x}, ${xi.y}].`)}if(pn.length===1){Kt=pn[0].otherSE;break}let bn=null;for(let ci=0,xi=Mr.length;ci<xi;ci++)if(Mr[ci].point===Ot.point){bn=ci;break}if(bn!==null){let ci=Mr.splice(bn)[0],xi=ir.splice(ci.index);xi.unshift(xi[0].otherSE),Ue.push(new Xf(xi.reverse()));continue}Mr.push({index:ir.length,point:Ot.point});let Zn=Ot.getLeftmostComparator(Tt);Kt=pn.sort(Zn)[0].otherSE;break}Ue.push(new Xf(ir))}return Ue}constructor(pe){this.events=pe;for(let Ue=0,qe=pe.length;Ue<qe;Ue++)pe[Ue].segment.ringOut=this;this.poly=null}getGeom(){let pe=this.events[0].point,Ue=[pe];for(let ir=1,Rr=this.events.length-1;ir<Rr;ir++){let Mr=this.events[ir].point,pn=this.events[ir+1].point;ta.orient(Mr,pe,pn)!==0&&(Ue.push(Mr),pe=Mr)}if(Ue.length===1)return null;let qe=Ue[0],$e=Ue[1];ta.orient(qe,pe,$e)===0&&Ue.shift(),Ue.push(Ue[0]);let ht=this.isExteriorRing()?1:-1,Tt=this.isExteriorRing()?0:Ue.length-1,Ot=this.isExteriorRing()?Ue.length:-1,Kt=[];for(let ir=Tt;ir!=Ot;ir+=ht)Kt.push([Ue[ir].x.toNumber(),Ue[ir].y.toNumber()]);return Kt}isExteriorRing(){if(this._isExteriorRing===void 0){let pe=this.enclosingRing();this._isExteriorRing=pe?!pe.isExteriorRing():!0}return this._isExteriorRing}enclosingRing(){return this._enclosingRing===void 0&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}_calcEnclosingRing(){let pe=this.events[0];for(let $e=1,ht=this.events.length;$e<ht;$e++){let Tt=this.events[$e];cs.compare(pe,Tt)>0&&(pe=Tt)}let Ue=pe.segment.prevInResult(),qe=Ue?Ue.prevInResult():null;for(;;){if(!Ue)return null;if(!qe)return Ue.ringOut;if(qe.ringOut!==Ue.ringOut)return qe.ringOut?.enclosingRing()!==Ue.ringOut?Ue.ringOut:Ue.ringOut?.enclosingRing();Ue=qe.prevInResult(),qe=Ue?Ue.prevInResult():null}}},Hu=class{exteriorRing;interiorRings;constructor(ne){this.exteriorRing=ne,ne.poly=this,this.interiorRings=[]}addInterior(ne){this.interiorRings.push(ne),ne.poly=this}getGeom(){let ne=this.exteriorRing.getGeom();if(ne===null)return null;let pe=[ne];for(let Ue=0,qe=this.interiorRings.length;Ue<qe;Ue++){let $e=this.interiorRings[Ue].getGeom();$e!==null&&pe.push($e)}return pe}},pl=class{rings;polys;constructor(ne){this.rings=ne,this.polys=this._composePolys(ne)}getGeom(){let ne=[];for(let pe=0,Ue=this.polys.length;pe<Ue;pe++){let qe=this.polys[pe].getGeom();qe!==null&&ne.push(qe)}return ne}_composePolys(ne){let pe=[];for(let Ue=0,qe=ne.length;Ue<qe;Ue++){let $e=ne[Ue];if(!$e.poly)if($e.isExteriorRing())pe.push(new Hu($e));else{let ht=$e.enclosingRing();ht?.poly||pe.push(new Hu(ht)),ht?.poly?.addInterior($e)}}return pe}},_u=class{queue;tree;segments;constructor(ne,pe=Is.compare){this.queue=ne,this.tree=new Un(pe),this.segments=[]}process(ne){let pe=ne.segment,Ue=[];if(ne.consumedBy)return ne.isLeft?this.queue.delete(ne.otherSE):this.tree.delete(pe),Ue;ne.isLeft&&this.tree.add(pe);let qe=pe,$e=pe;do qe=this.tree.lastBefore(qe);while(qe!=null&&qe.consumedBy!=null);do $e=this.tree.firstAfter($e);while($e!=null&&$e.consumedBy!=null);if(ne.isLeft){let ht=null;if(qe){let Ot=qe.getIntersection(pe);if(Ot!==null&&(pe.isAnEndpoint(Ot)||(ht=Ot),!qe.isAnEndpoint(Ot))){let Kt=this._splitSafely(qe,Ot);for(let ir=0,Rr=Kt.length;ir<Rr;ir++)Ue.push(Kt[ir])}}let Tt=null;if($e){let Ot=$e.getIntersection(pe);if(Ot!==null&&(pe.isAnEndpoint(Ot)||(Tt=Ot),!$e.isAnEndpoint(Ot))){let Kt=this._splitSafely($e,Ot);for(let ir=0,Rr=Kt.length;ir<Rr;ir++)Ue.push(Kt[ir])}}if(ht!==null||Tt!==null){let Ot=null;ht===null?Ot=Tt:Tt===null?Ot=ht:Ot=cs.comparePoints(ht,Tt)<=0?ht:Tt,this.queue.delete(pe.rightSE),Ue.push(pe.rightSE);let Kt=pe.split(Ot);for(let ir=0,Rr=Kt.length;ir<Rr;ir++)Ue.push(Kt[ir])}Ue.length>0?(this.tree.delete(pe),Ue.push(ne)):(this.segments.push(pe),pe.prev=qe)}else{if(qe&&$e){let ht=qe.getIntersection($e);if(ht!==null){if(!qe.isAnEndpoint(ht)){let Tt=this._splitSafely(qe,ht);for(let Ot=0,Kt=Tt.length;Ot<Kt;Ot++)Ue.push(Tt[Ot])}if(!$e.isAnEndpoint(ht)){let Tt=this._splitSafely($e,ht);for(let Ot=0,Kt=Tt.length;Ot<Kt;Ot++)Ue.push(Tt[Ot])}}}this.tree.delete(pe)}return Ue}_splitSafely(ne,pe){this.tree.delete(ne);let Ue=ne.rightSE;this.queue.delete(Ue);let qe=ne.split(pe);return qe.push(Ue),ne.consumedBy===void 0&&this.tree.add(ne),qe}},Vu=class{type;numMultiPolys;run(ne,pe,Ue){As.type=ne;let qe=[new qs(pe,!0)];for(let Kt=0,ir=Ue.length;Kt<ir;Kt++)qe.push(new qs(Ue[Kt],!1));if(As.numMultiPolys=qe.length,As.type==="difference"){let Kt=qe[0],ir=1;for(;ir<qe.length;)ia(qe[ir].bbox,Kt.bbox)!==null?ir++:qe.splice(ir,1)}if(As.type==="intersection")for(let Kt=0,ir=qe.length;Kt<ir;Kt++){let Rr=qe[Kt];for(let Mr=Kt+1,pn=qe.length;Mr<pn;Mr++)if(ia(Rr.bbox,qe[Mr].bbox)===null)return[]}let $e=new Un(cs.compare);for(let Kt=0,ir=qe.length;Kt<ir;Kt++){let Rr=qe[Kt].getSweepEvents();for(let Mr=0,pn=Rr.length;Mr<pn;Mr++)$e.add(Rr[Mr])}let ht=new _u($e),Tt=null;for($e.size!=0&&(Tt=$e.first(),$e.delete(Tt));Tt;){let Kt=ht.process(Tt);for(let ir=0,Rr=Kt.length;ir<Rr;ir++){let Mr=Kt[ir];Mr.consumedBy===void 0&&$e.add(Mr)}$e.size!=0?(Tt=$e.first(),$e.delete(Tt)):Tt=null}ta.reset();let Ot=Hs.factory(ht.segments);return new pl(Ot).getGeom()}},As=new Vu,wo=As,Xu=(ne,...pe)=>wo.run("intersection",ne,pe),Gl=(ne,...pe)=>wo.run("difference",ne,pe);ta.set;function Zu(ne){let pe={type:"Feature"};return pe.geometry=ne,pe}function Yu(ne){return ne.type==="Feature"?ne.geometry:ne}function zl(ne){return ne&&ne.geometry&&ne.geometry.coordinates?ne.geometry.coordinates:ne}function To(ne){return Zu({type:"LineString",coordinates:ne})}function dl(ne){return Zu({type:"MultiLineString",coordinates:ne})}function gu(ne){return Zu({type:"Polygon",coordinates:ne})}function yu(ne){return Zu({type:"MultiPolygon",coordinates:ne})}function ml(ne,pe){let Ue=Yu(ne),qe=Yu(pe),$e=Xu(Ue.coordinates,qe.coordinates);return $e.length===0?null:$e.length===1?gu($e[0]):yu($e)}function vu(ne,pe){let Ue=Yu(ne),qe=Yu(pe),$e=Gl(Ue.coordinates,qe.coordinates);return $e.length===0?null:$e.length===1?gu($e[0]):yu($e)}function tu(ne){return Array.isArray(ne)?1+tu(ne[0]):-1}function Nc(ne){ne instanceof L.Polyline&&(ne=ne.toGeoJSON(15));let pe=zl(ne),Ue=tu(pe),qe=[];return Ue>1?pe.forEach($e=>{qe.push(To($e))}):qe.push(ne),qe}function Wl(ne){let pe=[];return ne.eachLayer(Ue=>{pe.push(zl(Ue.toGeoJSON(15)))}),dl(pe)}Nn.Cut=Nn.Polygon.extend({initialize(ne){this._map=ne,this._shape="Cut",this.toolbarButtonName="cutPolygon"},_finishShape(){if(this._editedLayers=[],!this.options.allowSelfIntersection&&(this._handleSelfIntersection(!0,this._layer.getLatLngs()[0]),this._doesSelfIntersect)||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;let ne=this._layer.getLatLngs();if(ne.length<=2)return;let pe=L.polygon(ne,this.options.pathOptions);pe._latlngInfos=this._layer._latlngInfo,this.cut(pe),this._cleanupSnapping(),this._otherSnapLayers.splice(this._tempSnapLayerIndex,1),delete this._tempSnapLayerIndex,this._editedLayers.forEach(({layer:qe,originalLayer:$e})=>{this._fireCut($e,qe,$e),this._fireCut(this._map,qe,$e),$e.pm._fireEdit()}),this._editedLayers=[];let Ue=this._hintMarker.getLatLng();this.disable(),this.options.continueDrawing&&(this.enable(),this._hintMarker.setLatLng(Ue))},cut(ne){let pe=this._map._layers,Ue=ne._latlngInfos||[];Object.keys(pe).map(qe=>pe[qe]).filter(qe=>qe.pm).filter(qe=>!qe._pmTempLayer).filter(qe=>!L.PM.optIn&&!qe.options.pmIgnore||L.PM.optIn&&qe.options.pmIgnore===!1).filter(qe=>qe instanceof L.Polyline).filter(qe=>qe!==ne).filter(qe=>qe.pm.options.allowCutting).filter(qe=>this.options.layersToCut&&L.Util.isArray(this.options.layersToCut)&&this.options.layersToCut.length>0?this.options.layersToCut.indexOf(qe)>-1:!0).filter(qe=>!this._layerGroup.hasLayer(qe)).filter(qe=>{try{let $e=!!Pa(ne.toGeoJSON(15),qe.toGeoJSON(15)).features.length>0;return $e||qe instanceof L.Polyline&&!(qe instanceof L.Polygon)?$e:!!ml(ne.toGeoJSON(15),qe.toGeoJSON(15))}catch{return qe instanceof L.Polygon&&console.error("You can't cut polygons with self-intersections"),!1}}).forEach(qe=>{let $e;if(qe instanceof L.Polygon){$e=L.polygon(qe.getLatLngs());let Kt=$e.getLatLngs();Ue.forEach(ir=>{if(ir&&ir.snapInfo){let{latlng:Rr}=ir,Mr=this._calcClosestLayer(Rr,[$e]);if(Mr&&Mr.segment&&Mr.distance<this.options.snapDistance){let{segment:pn}=Mr;if(pn&&pn.length===2){let{indexPath:bn,parentPath:Zn,newIndex:ci}=L.PM.Utils._getIndexFromSegment(Kt,pn);(bn.length>1?(0,Ko.default)(Kt,Zn):Kt).splice(ci,0,Rr)}}}})}else $e=qe;let ht=this._cutLayer(ne,$e),Tt=L.geoJSON(ht,qe.options);Tt.getLayers().length===1&&([Tt]=Tt.getLayers()),this._setPane(Tt,"layerPane");let Ot=Tt.addTo(this._map.pm._getContainingLayer());if(Ot.pm.enable(qe.pm.options),Ot.pm.disable(),qe._pmTempLayer=!0,ne._pmTempLayer=!0,qe.remove(),qe.removeFrom(this._map.pm._getContainingLayer()),ne.remove(),ne.removeFrom(this._map.pm._getContainingLayer()),Ot.getLayers&&Ot.getLayers().length===0&&this._map.pm.removeLayer({target:Ot}),Ot instanceof L.LayerGroup?(Ot.eachLayer(Kt=>{this._addDrawnLayerProp(Kt)}),this._addDrawnLayerProp(Ot)):this._addDrawnLayerProp(Ot),this.options.layersToCut&&L.Util.isArray(this.options.layersToCut)&&this.options.layersToCut.length>0){let Kt=this.options.layersToCut.indexOf(qe);Kt>-1&&this.options.layersToCut.splice(Kt,1)}this._editedLayers.push({layer:Ot,originalLayer:qe})})},_cutLayer(ne,pe){let Ue=L.geoJSON(),qe;if(pe instanceof L.Polygon)qe=vu(pe.toGeoJSON(15),ne.toGeoJSON(15));else{let $e=Nc(pe);$e.forEach(ht=>{let Tt=os(ht,ne.toGeoJSON(15)),Ot;Tt&&Tt.features.length>0?Ot=L.geoJSON(Tt):Ot=L.geoJSON(ht),Ot.getLayers().forEach(Kt=>{xn(ne.toGeoJSON(15),Kt.toGeoJSON(15))||Kt.addTo(Ue)})}),$e.length>1?qe=Wl(Ue):qe=Ue.toGeoJSON(15)}return qe},_change:L.Util.falseFn}),Nn.Text=Nn.extend({initialize(ne){this._map=ne,this._shape="Text",this.toolbarButtonName="drawText"},enable(ne){L.Util.setOptions(this,ne),this._enabled=!0,this._map.on("click",this._createMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._hintMarker=L.marker(this._map.getCenter(),{interactive:!1,zIndexOffset:100,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(gi("tooltips.placeText"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._layer=this._hintMarker,this._map.on("mousemove",this._syncHintMarker,this),this._map.getContainer().classList.add("geoman-draw-cursor"),this._fireDrawStart(),this._setGlobalDrawMode()},disable(){this._enabled&&(this._enabled=!1,this._map.off("click",this._createMarker,this),this._hintMarker?.remove(),this._map.getContainer().classList.remove("geoman-draw-cursor"),this._map.off("mousemove",this._syncHintMarker,this),this._map.off("mousemove",this._showHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled(){return this._enabled},toggle(ne){this.enabled()?this.disable():this.enable(ne)},_syncHintMarker(ne){if(this._hintMarker.setLatLng(ne.latlng),this.options.snappable){let pe=ne;pe.target=this._hintMarker,this._handleSnapping(pe)}},_createMarker(ne){if(!ne.latlng||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;this._hintMarker._snapped||this._hintMarker.setLatLng(ne.latlng);let pe=this._hintMarker.getLatLng();if(this.textArea=this._createTextArea(),this.options.textOptions?.className){let $e=this.options.textOptions.className.split(" ");this.textArea.classList.add(...$e)}let Ue=this._createTextIcon(this.textArea),qe=new L.Marker(pe,{textMarker:!0,_textMarkerOverPM:!0,icon:Ue});if(this._setPane(qe,"markerPane"),this._finishLayer(qe),qe.pm||(qe.options.draggable=!1),qe.addTo(this._map.pm._getContainingLayer()),qe.pm){qe.pm.textArea=this.textArea,L.setOptions(qe.pm,{removeIfEmpty:this.options.textOptions?.removeIfEmpty??!0});let $e=this.options.textOptions?.focusAfterDraw??!0;qe.pm._createTextMarker($e),this.options.textOptions?.text&&qe.pm.setText(this.options.textOptions.text)}this._fireCreate(qe),this._cleanupSnapping(),this.disable(),this.options.continueDrawing&&this._map.once("mousemove",this._showHintMarkerAfterMoving,this)},_showHintMarkerAfterMoving(ne){this.enable(),this._hintMarker.setLatLng(ne.latlng)},_createTextArea(){let ne=document.createElement("textarea");return ne.readOnly=!0,ne.classList.add("pm-textarea","pm-disabled"),ne},_createTextIcon(ne){return L.divIcon({className:"pm-text-marker",html:ne})}});var Dc={enableLayerDrag(){if(!this.options.draggable||!this._layer._map)return;this.disable(),this._layerDragEnabled=!0,this._map||(this._map=this._layer._map),(this._layer instanceof L.Marker||this._layer instanceof L.ImageOverlay)&&L.DomEvent.on(this._getDOMElem(),"dragstart",this._stopDOMImageDrag),this._layer.dragging&&this._layer.dragging.disable(),this._tempDragCoord=null,Za(this._layer)instanceof L.Canvas?(this._layer.on("mouseout",this.removeDraggingClass,this),this._layer.on("mouseover",this.addDraggingClass,this)):this.addDraggingClass(),this._originalMapDragState=this._layer._map.dragging._enabled,this._safeToCacheDragState=!0;let ne=this._getDOMElem();ne&&(Za(this._layer)instanceof L.Canvas?(this._layer.on("touchstart mousedown",this._dragMixinOnMouseDown,this),this._map.pm._addTouchEvents(ne)):L.DomEvent.on(ne,"touchstart mousedown",this._simulateMouseDownEvent,this)),this._fireDragEnable()},disableLayerDrag(){this._layerDragEnabled=!1,Za(this._layer)instanceof L.Canvas?(this._layer.off("mouseout",this.removeDraggingClass,this),this._layer.off("mouseover",this.addDraggingClass,this)):this.removeDraggingClass(),this._originalMapDragState&&this._dragging&&this._map.dragging.enable(),this._safeToCacheDragState=!1,this._layer.dragging&&this._layer.dragging.disable();let ne=this._getDOMElem();ne&&(Za(this._layer)instanceof L.Canvas?(this._layer.off("touchstart mousedown",this._dragMixinOnMouseDown,this),this._map.pm._removeTouchEvents(ne)):L.DomEvent.off(ne,"touchstart mousedown",this._simulateMouseDownEvent,this)),this._layerDragged&&this._fireUpdate(),this._layerDragged=!1,this._fireDragDisable()},dragging(){return this._dragging},layerDragEnabled(){return!!this._layerDragEnabled},_simulateMouseDownEvent(ne){let pe=ne.touches?ne.touches[0]:ne,Ue={originalEvent:pe,target:this._layer};return Ue.containerPoint=this._map.mouseEventToContainerPoint(pe),Ue.latlng=this._map.containerPointToLatLng(Ue.containerPoint),this._dragMixinOnMouseDown(Ue),!1},_simulateMouseMoveEvent(ne){let pe=ne.touches?ne.touches[0]:ne,Ue={originalEvent:pe,target:this._layer};return Ue.containerPoint=this._map.mouseEventToContainerPoint(pe),Ue.latlng=this._map.containerPointToLatLng(Ue.containerPoint),this._dragMixinOnMouseMove(Ue),!1},_simulateMouseUpEvent(ne){let pe={originalEvent:ne.touches?ne.touches[0]:ne,target:this._layer};return ne.type.indexOf("touch")===-1&&(pe.containerPoint=this._map.mouseEventToContainerPoint(ne),pe.latlng=this._map.containerPointToLatLng(pe.containerPoint)),this._dragMixinOnMouseUp(pe),!1},_dragMixinOnMouseDown(ne){if(ne.originalEvent.button>0)return;this._overwriteEventIfItComesFromMarker(ne);let pe=ne._fromLayerSync,Ue=this._syncLayers("_dragMixinOnMouseDown",ne);if(this._layer instanceof L.Marker&&(this.options.snappable&&!pe&&!Ue?this._initSnappableMarkers():this._disableSnapping()),this._layer instanceof L.CircleMarker){let qe="resizeableCircleMarker";this._layer instanceof L.Circle&&(qe="resizeableCircle"),this.options.snappable&&!pe&&!Ue?this._layer.pm.options[qe]||this._initSnappableMarkersDrag():this._layer.pm.options[qe]?this._layer.pm._disableSnapping():this._layer.pm._disableSnappingDrag()}this._safeToCacheDragState&&(this._originalMapDragState=this._layer._map.dragging._enabled,this._safeToCacheDragState=!1),this._tempDragCoord=ne.latlng,L.DomEvent.on(this._map.getContainer(),"touchend mouseup",this._simulateMouseUpEvent,this),L.DomEvent.on(this._map.getContainer(),"touchmove mousemove",this._simulateMouseMoveEvent,this)},_dragMixinOnMouseMove(ne){this._overwriteEventIfItComesFromMarker(ne);let pe=this._getDOMElem();this._syncLayers("_dragMixinOnMouseMove",ne),this._dragging||(this._dragging=!0,L.DomUtil.addClass(pe,"leaflet-pm-dragging"),this._layer instanceof L.Marker||this._layer.bringToFront(),this._originalMapDragState&&this._map.dragging.disable(),this._fireDragStart()),this._tempDragCoord||(this._tempDragCoord=ne.latlng),this._onLayerDrag(ne),this._layer instanceof L.CircleMarker&&this._layer.pm._updateHiddenPolyCircle()},_dragMixinOnMouseUp(ne){let pe=this._getDOMElem();return this._syncLayers("_dragMixinOnMouseUp",ne),this._originalMapDragState&&this._map.dragging.enable(),this._safeToCacheDragState=!0,L.DomEvent.off(this._map.getContainer(),"touchmove mousemove",this._simulateMouseMoveEvent,this),L.DomEvent.off(this._map.getContainer(),"touchend mouseup",this._simulateMouseUpEvent,this),this._dragging?(this._layer instanceof L.CircleMarker&&this._layer.pm._updateHiddenPolyCircle(),this._layerDragged=!0,window.setTimeout(()=>{this._dragging=!1,pe&&L.DomUtil.removeClass(pe,"leaflet-pm-dragging"),this._fireDragEnd(),this._fireEdit(),this._layerEdited=!0},10),!0):!1},_onLayerDrag(ne){let{latlng:pe}=ne,Ue={lat:pe.lat-this._tempDragCoord.lat,lng:pe.lng-this._tempDragCoord.lng},qe=$e=>$e.map(ht=>{if(Array.isArray(ht))return qe(ht);let Tt={lat:ht.lat+Ue.lat,lng:ht.lng+Ue.lng};return(ht.alt||ht.alt===0)&&(Tt.alt=ht.alt),Tt});if(this._layer instanceof L.Circle&&this._layer.options.resizeableCircle||this._layer instanceof L.CircleMarker&&this._layer.options.resizeableCircleMarker){let $e=qe([this._layer.getLatLng()]);this._layer.setLatLng($e[0]),this._fireChange(this._layer.getLatLng(),"Edit")}else if(this._layer instanceof L.CircleMarker||this._layer instanceof L.Marker){let $e=this._layer.getLatLng();this._layer._snapped&&($e=this._layer._orgLatLng);let ht=qe([$e]);this._layer.setLatLng(ht[0]),this._fireChange(this._layer.getLatLng(),"Edit")}else if(this._layer instanceof L.ImageOverlay){let $e=qe([this._layer.getBounds().getNorthWest(),this._layer.getBounds().getSouthEast()]);this._layer.setBounds($e),this._fireChange(this._layer.getBounds(),"Edit")}else{let $e=qe(this._layer.getLatLngs());this._layer.setLatLngs($e),this._fireChange(this._layer.getLatLngs(),"Edit")}this._tempDragCoord=pe,ne.layer=this._layer,this._fireDrag(ne)},addDraggingClass(){let ne=this._getDOMElem();ne&&L.DomUtil.addClass(ne,"leaflet-pm-draggable")},removeDraggingClass(){let ne=this._getDOMElem();ne&&L.DomUtil.removeClass(ne,"leaflet-pm-draggable")},_getDOMElem(){let ne=null;return this._layer._path?ne=this._layer._path:this._layer._renderer&&this._layer._renderer._container?ne=this._layer._renderer._container:this._layer._image?ne=this._layer._image:this._layer._icon&&(ne=this._layer._icon),ne},_overwriteEventIfItComesFromMarker(ne){ne.target.getLatLng&&(!ne.target._radius||ne.target._radius<=10)&&(ne.containerPoint=this._map.mouseEventToContainerPoint(ne.originalEvent),ne.latlng=this._map.containerPointToLatLng(ne.containerPoint))},_syncLayers(ne,pe){if(this.enabled())return!1;if(!pe._fromLayerSync&&this._layer===pe.target&&this.options.syncLayersOnDrag){pe._fromLayerSync=!0;let Ue=[];if(L.Util.isArray(this.options.syncLayersOnDrag))Ue=this.options.syncLayersOnDrag,this.options.syncLayersOnDrag.forEach(qe=>{qe instanceof L.LayerGroup&&(Ue=Ue.concat(qe.pm.getLayers(!0)))});else if(this.options.syncLayersOnDrag===!0&&this._parentLayerGroup)for(let qe in this._parentLayerGroup){let $e=this._parentLayerGroup[qe];$e.pm&&(Ue=$e.pm.getLayers(!0))}return L.Util.isArray(Ue)&&Ue.length>0&&(Ue=Ue.filter(qe=>!!qe.pm).filter(qe=>!!qe.pm.options.draggable),Ue.forEach(qe=>{qe!==this._layer&&qe.pm[ne]&&(qe._snapped=!1,qe.pm[ne](pe))})),Ue.length>0}return!1},_stopDOMImageDrag(ne){return ne.preventDefault(),!1}},ql=Dc,ru=I(co());function _l(ne,pe,Ue,qe){return Ue.unproject(pe.transform(Ue.project(ne,qe)),qe)}function Fu(ne,pe,Ue){let qe=Ue.getMaxZoom();if(qe===1/0&&(qe=Ue.getZoom()),L.Util.isArray(ne)){let $e=[];return ne.forEach(ht=>{$e.push(Fu(ht,pe,Ue))}),$e}return ne instanceof L.LatLng?_l(ne,pe,Ue,qe):null}function nu(ne,pe){pe instanceof L.Layer&&(pe=pe.getLatLng());let Ue=ne.getMaxZoom();return Ue===1/0&&(Ue=ne.getZoom()),ne.project(pe,Ue)}function Vs(ne,pe){let Ue=ne.getMaxZoom();return Ue===1/0&&(Ue=ne.getZoom()),ne.unproject(pe,Ue)}var gl={_onRotateStart(ne){this._preventRenderingMarkers(!0),this._rotationOriginLatLng=this._getRotationCenter().clone(),this._rotationOriginPoint=nu(this._map,this._rotationOriginLatLng),this._rotationStartPoint=nu(this._map,ne.target.getLatLng()),this._initialRotateLatLng=ga(this._layer),this._startAngle=this.getAngle();let pe=ga(this._rotationLayer,this._rotationLayer.pm._rotateOrgLatLng);this._fireRotationStart(this._rotationLayer,pe),this._fireRotationStart(this._map,pe)},_onRotate(ne){let pe=nu(this._map,ne.target.getLatLng()),Ue=this._rotationStartPoint,qe=this._rotationOriginPoint,$e=Math.atan2(pe.y-qe.y,pe.x-qe.x)-Math.atan2(Ue.y-qe.y,Ue.x-qe.x);this._layer.setLatLngs(this._rotateLayer($e,this._initialRotateLatLng,this._rotationOriginLatLng,L.PM.Matrix.init(),this._map));let ht=this;function Tt(Rr,Mr=[],pn=-1){if(pn>-1&&Mr.push(pn),L.Util.isArray(Rr[0]))Rr.forEach((bn,Zn)=>Tt(bn,Mr.slice(),Zn));else{let bn=Mr.length>0?(0,ru.default)(ht._markers,Mr):ht._markers[0];Rr.forEach((Zn,ci)=>{bn[ci].setLatLng(Zn)})}}Tt(this._layer.getLatLngs());let Ot=ga(this._rotationLayer);this._rotationLayer.setLatLngs(this._rotateLayer($e,this._rotationLayer.pm._rotateOrgLatLng,this._rotationOriginLatLng,L.PM.Matrix.init(),this._map));let Kt=$e*180/Math.PI;Kt=Kt<0?Kt+360:Kt;let ir=Kt+this._startAngle;this._setAngle(ir),this._rotationLayer.pm._setAngle(ir),this._fireRotation(this._rotationLayer,Kt,Ot),this._fireRotation(this._map,Kt,Ot),this._rotationLayer.pm._fireChange(this._rotationLayer.getLatLngs(),"Rotation")},_onRotateEnd(){let ne=this._startAngle;delete this._rotationOriginLatLng,delete this._rotationOriginPoint,delete this._rotationStartPoint,delete this._initialRotateLatLng,delete this._startAngle;let pe=ga(this._rotationLayer,this._rotationLayer.pm._rotateOrgLatLng);this._rotationLayer.pm._rotateOrgLatLng=ga(this._rotationLayer),this._fireRotationEnd(this._rotationLayer,ne,pe),this._fireRotationEnd(this._map,ne,pe),this._rotationLayer.pm._fireEdit(this._rotationLayer,"Rotation"),this._preventRenderingMarkers(!1),this._layerRotated=!0},_rotateLayer(ne,pe,Ue,qe,$e){let ht=nu($e,Ue);return this._matrix=qe.clone().rotate(ne,ht).flip(),Fu(pe,this._matrix,$e)},_setAngle(ne){ne=ne<0?ne+360:ne,this._angle=ne%360},_getRotationCenter(){if(this._rotationCenter)return this._rotationCenter;let ne=L.polygon(this._layer.getLatLngs(),{stroke:!1,fill:!1,pmIgnore:!0}).addTo(this._layer._map),pe=ne.getCenter();return ne.removeFrom(this._layer._map),pe},enableRotate(){if(!this.options.allowRotation){this.disableRotate();return}this.rotateEnabled()&&this.disableRotate(),this._layer instanceof L.Rectangle&&this._angle===void 0&&this.setInitAngle(Po(this._layer._map,this._layer.getLatLngs()[0][0],this._layer.getLatLngs()[0][1])||0);let ne={fill:!1,stroke:!1,pmIgnore:!1,snapIgnore:!0};this._rotatePoly=L.polygon(this._layer.getLatLngs(),ne),this._rotatePoly._pmTempLayer=!0,this._rotatePoly.addTo(this._layer._map),this._rotatePoly.pm._setAngle(this.getAngle()),this._rotatePoly.pm.setRotationCenter(this.getRotationCenter()),this._rotatePoly.pm.setOptions(this._layer._map.pm.getGlobalOptions()),this._rotatePoly.pm.setOptions({rotate:!0,snappable:!1,hideMiddleMarkers:!0}),this._rotatePoly.pm._rotationLayer=this._layer,this._rotatePoly.pm.enable(),this._rotateOrgLatLng=ga(this._layer),this._rotateEnabled=!0,this._layer.on("remove",this.disableRotate,this),this._fireRotationEnable(this._layer),this._fireRotationEnable(this._layer._map)},disableRotate(){this.rotateEnabled()&&(this._rotatePoly.pm._layerRotated&&this._fireUpdate(),this._rotatePoly.pm._layerRotated=!1,this._rotatePoly.pm.disable(),this._rotatePoly.remove(),this._rotatePoly.pm.setOptions({rotate:!1}),this._rotatePoly=void 0,this._rotateOrgLatLng=void 0,this._layer.off("remove",this.disableRotate,this),this._rotateEnabled=!1,this._fireRotationDisable(this._layer),this._fireRotationDisable(this._layer._map))},rotateEnabled(){return!!this._rotateEnabled},rotateLayer(ne){let pe=this.getAngle(),Ue=this._layer.getLatLngs(),qe=ne*(Math.PI/180);this._layer.setLatLngs(this._rotateLayer(qe,this._layer.getLatLngs(),this._getRotationCenter(),L.PM.Matrix.init(),this._layer._map)),this._rotateOrgLatLng=L.polygon(this._layer.getLatLngs()).getLatLngs(),this._setAngle(this.getAngle()+ne),this.rotateEnabled()&&this._rotatePoly&&this._rotatePoly.pm.enabled()&&(this._rotatePoly.setLatLngs(this._rotateLayer(qe,this._rotatePoly.getLatLngs(),this._getRotationCenter(),L.PM.Matrix.init(),this._rotatePoly._map)),this._rotatePoly.pm._initMarkers());let $e=this.getAngle()-pe;$e=$e<0?$e+360:$e,this._startAngle=pe,this._fireRotation(this._layer,$e,Ue,this._layer),this._fireRotation(this._map||this._layer._map,$e,Ue,this._layer),delete this._startAngle,this._fireChange(this._layer.getLatLngs(),"Rotation")},rotateLayerToAngle(ne){let pe=ne-this.getAngle();this.rotateLayer(pe)},getAngle(){return this._angle||0},setInitAngle(ne){this._setAngle(ne)},getRotationCenter(){return this._getRotationCenter()},setRotationCenter(ne){this._rotationCenter=ne,this._rotatePoly&&this._rotatePoly.pm.setRotationCenter(ne)}},Ku=gl,Qu=L.Class.extend({includes:[ql,Hr,Ku,Zo],options:{snappable:!0,snapDistance:20,allowSelfIntersection:!0,allowSelfIntersectionEdit:!1,preventMarkerRemoval:!1,removeLayerBelowMinVertexCount:!0,limitMarkersToCount:-1,hideMiddleMarkers:!1,snapSegment:!0,syncLayersOnDrag:!1,draggable:!0,allowEditing:!0,allowRemoval:!0,allowCutting:!0,allowRotation:!0,addVertexOn:"click",removeVertexOn:"contextmenu",removeVertexValidation:void 0,addVertexValidation:void 0,moveVertexValidation:void 0,resizeableCircleMarker:!1,resizeableCircle:!0,snapMiddle:!1,snapVertex:!0},setOptions(ne){L.Util.setOptions(this,ne)},getOptions(){return this.options},applyOptions(){},isPolygon(){return this._layer instanceof L.Polygon},getShape(){return this._shape},_setPane(ne,pe){pe==="layerPane"?ne.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.layerPane||"overlayPane":pe==="vertexPane"?ne.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.vertexPane||"markerPane":pe==="markerPane"&&(ne.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.markerPane||"markerPane")},remove(){(this._map||this._layer._map).pm.removeLayer({target:this._layer})},_vertexValidation(ne,pe){let Ue=pe.target,qe={layer:this._layer,marker:Ue,event:pe},$e="";return ne==="move"?$e="moveVertexValidation":ne==="add"?$e="addVertexValidation":ne==="remove"&&($e="removeVertexValidation"),this.options[$e]&&typeof this.options[$e]=="function"&&!this.options[$e](qe)?(ne==="move"&&(Ue._cancelDragEventChain=Ue.getLatLng()),!1):(Ue._cancelDragEventChain=null,!0)},_vertexValidationDrag(ne){return ne._cancelDragEventChain?(ne._latlng=ne._cancelDragEventChain,ne.update(),!1):!0},_vertexValidationDragEnd(ne){return ne._cancelDragEventChain?(ne._cancelDragEventChain=null,!1):!0}}),ko=Qu;ko.LayerGroup=L.Class.extend({initialize(ne){this._layerGroup=ne,this._layers=this.getLayers(),this._getMap(),this._layers.forEach(qe=>this._initLayer(qe));let pe=qe=>{if(qe.layer._pmTempLayer)return;this._layers=this.getLayers();let $e=this._layers.filter(ht=>!ht.pm._parentLayerGroup||!(this._layerGroup._leaflet_id in ht.pm._parentLayerGroup));$e.forEach(ht=>{this._initLayer(ht)}),$e.length>0&&this._getMap()&&this._getMap().pm.globalEditModeEnabled()&&this.enabled()&&this.enable(this.getOptions())};this._layerGroup.on("layeradd",L.Util.throttle(pe,100,this),this),this._layerGroup.on("layerremove",qe=>{this._removeLayerFromGroup(qe.target)},this);let Ue=qe=>{qe.target._pmTempLayer||(this._layers=this.getLayers())};this._layerGroup.on("layerremove",L.Util.throttle(Ue,100,this),this)},enable(ne,pe=[]){pe.length===0&&(this._layers=this.getLayers()),this._options=ne,this._layers.forEach(Ue=>{Ue instanceof L.LayerGroup?pe.indexOf(Ue._leaflet_id)===-1&&(pe.push(Ue._leaflet_id),Ue.pm.enable(ne,pe)):Ue.pm.enable(ne)})},disable(ne=[]){ne.length===0&&(this._layers=this.getLayers()),this._layers.forEach(pe=>{pe instanceof L.LayerGroup?ne.indexOf(pe._leaflet_id)===-1&&(ne.push(pe._leaflet_id),pe.pm.disable(ne)):pe.pm.disable()})},enabled(ne=[]){return ne.length===0&&(this._layers=this.getLayers()),!!this._layers.find(pe=>pe instanceof L.LayerGroup?ne.indexOf(pe._leaflet_id)===-1?(ne.push(pe._leaflet_id),pe.pm.enabled(ne)):!1:pe.pm.enabled())},toggleEdit(ne,pe=[]){pe.length===0&&(this._layers=this.getLayers()),this._options=ne,this._layers.forEach(Ue=>{Ue instanceof L.LayerGroup?pe.indexOf(Ue._leaflet_id)===-1&&(pe.push(Ue._leaflet_id),Ue.pm.toggleEdit(ne,pe)):Ue.pm.toggleEdit(ne)})},_initLayer(ne){let pe=L.Util.stamp(this._layerGroup);ne.pm._parentLayerGroup||(ne.pm._parentLayerGroup={}),ne.pm._parentLayerGroup[pe]=this._layerGroup},_removeLayerFromGroup(ne){if(ne.pm&&ne.pm._layerGroup){let pe=L.Util.stamp(this._layerGroup);delete ne.pm._layerGroup[pe]}},dragging(){return this._layers=this.getLayers(),this._layers?!!this._layers.find(ne=>ne.pm.dragging()):!1},getOptions(){return this.options},_getMap(){return this._map||this._layers.find(ne=>!!ne._map)?._map||null},getLayers(ne=!1,pe=!0,Ue=!0,qe=[]){let $e=[];return ne?this._layerGroup.getLayers().forEach(ht=>{$e.push(ht),ht instanceof L.LayerGroup&&qe.indexOf(ht._leaflet_id)===-1&&(qe.push(ht._leaflet_id),$e=$e.concat(ht.pm.getLayers(!0,!0,!0,qe)))}):$e=this._layerGroup.getLayers(),Ue&&($e=$e.filter(ht=>!(ht instanceof L.LayerGroup))),pe&&($e=$e.filter(ht=>!!ht.pm),$e=$e.filter(ht=>!ht._pmTempLayer),$e=$e.filter(ht=>!L.PM.optIn&&!ht.options.pmIgnore||L.PM.optIn&&ht.options.pmIgnore===!1)),$e},setOptions(ne,pe=[]){pe.length===0&&(this._layers=this.getLayers()),this.options=ne,this._layers.forEach(Ue=>{Ue.pm&&(Ue instanceof L.LayerGroup?pe.indexOf(Ue._leaflet_id)===-1&&(pe.push(Ue._leaflet_id),Ue.pm.setOptions(ne,pe)):Ue.pm.setOptions(ne))})}}),ko.Marker=ko.extend({_shape:"Marker",initialize(ne){this._layer=ne,this._enabled=!1,this._layer.on("dragend",this._onDragEnd,this)},enable(ne={draggable:!0}){if(L.Util.setOptions(this,ne),!this.options.allowEditing||!this._layer._map){this.disable();return}this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._fireEnable()},disable(){this.enabled()&&(this.disableLayerDrag(),this._layer.off("remove",this.disable,this),this._layer.off("contextmenu",this._removeMarker,this),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1)},enabled(){return this._enabled},toggleEdit(ne){this.enabled()?this.disable():this.enable(ne)},applyOptions(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping(),this.options.draggable?this.enableLayerDrag():this.disableLayerDrag(),this.options.preventMarkerRemoval||this._layer.on("contextmenu",this._removeMarker,this)},_removeMarker(ne){let pe=ne.target;pe.remove(),this._fireRemove(pe),this._fireRemove(this._map,pe)},_onDragEnd(){this._fireEdit(),this._layerEdited=!0},_initSnappableMarkers(){let ne=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0?!0:this.options.snapSegment,ne.off("pm:drag",this._handleSnapping,this),ne.on("pm:drag",this._handleSnapping,this),ne.off("pm:dragend",this._cleanupSnapping,this),ne.on("pm:dragend",this._cleanupSnapping,this),ne.off("pm:dragstart",this._unsnap,this),ne.on("pm:dragstart",this._unsnap,this)},_disableSnapping(){let ne=this._layer;ne.off("pm:drag",this._handleSnapping,this),ne.off("pm:dragend",this._cleanupSnapping,this),ne.off("pm:dragstart",this._unsnap,this)}});var Xs=I(co()),iu={filterMarkerGroup(){this.markerCache=[],this.createCache(),this._layer.on("pm:edit",this.createCache,this),this.applyLimitFilters({}),this.throttledApplyLimitFilters||(this.throttledApplyLimitFilters=L.Util.throttle(this.applyLimitFilters,100,this)),this._layer.on("pm:disable",this._removeMarkerLimitEvents,this),this._layer.on("remove",this._removeMarkerLimitEvents,this),this.options.limitMarkersToCount>-1&&(this._layer.on("pm:vertexremoved",this._initMarkers,this),this._map.on("mousemove",this.throttledApplyLimitFilters,this))},_removeMarkerLimitEvents(){this._map.off("mousemove",this.throttledApplyLimitFilters,this),this._layer.off("pm:edit",this.createCache,this),this._layer.off("pm:disable",this._removeMarkerLimitEvents,this),this._layer.off("pm:vertexremoved",this._initMarkers,this)},createCache(){let ne=[...this._markerGroup.getLayers(),...this.markerCache];this.markerCache=ne.filter((pe,Ue,qe)=>qe.indexOf(pe)===Ue)},_removeFromCache(ne){let pe=this.markerCache.indexOf(ne);pe>-1&&this.markerCache.splice(pe,1)},renderLimits(ne){this.markerCache.forEach(pe=>{ne.includes(pe)?this._markerGroup.addLayer(pe):this._markerGroup.removeLayer(pe)})},applyLimitFilters({latlng:ne={lat:0,lng:0}}){if(this._preventRenderMarkers)return;let pe=[...this._filterClosestMarkers(ne)];this.renderLimits(pe)},_filterClosestMarkers(ne){let pe=[...this.markerCache],Ue=this.options.limitMarkersToCount;return Ue===-1?pe:(pe.sort((qe,$e)=>{let ht=qe._latlng.distanceTo(ne),Tt=$e._latlng.distanceTo(ne);return ht-Tt}),pe.filter((qe,$e)=>Ue>-1?$e<Ue:!0))},_preventRenderMarkers:!1,_preventRenderingMarkers(ne){this._preventRenderMarkers=!!ne}},au=iu;ko.Line=ko.extend({includes:[au],_shape:"Line",initialize(ne){this._layer=ne,this._enabled=!1},enable(ne){if(L.Util.setOptions(this,ne),this._map=this._layer._map,!!this._map){if(!this.options.allowEditing){this.disable();return}this.enabled()&&this.disable(),this._enabled=!0,this._initMarkers(),this.applyOptions(),this._layer.on("remove",this.disable,this),this.options.allowSelfIntersection||this._layer.on("pm:vertexremoved",this._handleSelfIntersectionOnVertexRemoval,this),this.options.allowSelfIntersection?this.cachedColor=void 0:(this._layer.options.color!=="#f00000ff"?(this.cachedColor=this._layer.options.color,this.isRed=!1):this.isRed=!0,this._handleLayerStyle()),this._fireEnable()}},disable(){if(!this.enabled()||this._dragging)return;this._enabled=!1,this._markerGroup.clearLayers(),this._markerGroup.removeFrom(this._map),this._layer.off("remove",this.disable,this),this.options.allowSelfIntersection||this._layer.off("pm:vertexremoved",this._handleSelfIntersectionOnVertexRemoval,this);let ne=this._layer._path?this._layer._path:this._layer._renderer._container;L.DomUtil.removeClass(ne,"leaflet-pm-draggable"),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()},enabled(){return this._enabled},toggleEdit(ne){return this.enabled()?this.disable():this.enable(ne),this.enabled()},applyOptions(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping()},_initMarkers(){let ne=this._map,pe=this._layer.getLatLngs();this._markerGroup&&(this._markerGroup.removeFrom(ne),this._markerGroup.clearLayers()),this._markerGroup=new L.FeatureGroup,this._markerGroup._pmTempLayer=!0;let Ue=qe=>{if(Array.isArray(qe[0]))return qe.map(Ue,this);let $e=qe.map(this._createMarker,this);return this.options.hideMiddleMarkers!==!0&&qe.map((ht,Tt)=>{let Ot=this.isPolygon()?(Tt+1)%qe.length:Tt+1;return this._createMiddleMarker($e[Tt],$e[Ot])}),$e};this._markers=Ue(pe),this.filterMarkerGroup(),ne.addLayer(this._markerGroup)},_createMarker(ne){let pe=new L.Marker(ne,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(pe,"vertexPane"),pe._pmTempLayer=!0,this.options.rotate?(pe.on("dragstart",this._onRotateStart,this),pe.on("drag",this._onRotate,this),pe.on("dragend",this._onRotateEnd,this)):(pe.on("click",this._onVertexClick,this),pe.on("dragstart",this._onMarkerDragStart,this),pe.on("move",this._onMarkerDrag,this),pe.on("dragend",this._onMarkerDragEnd,this),this.options.preventMarkerRemoval||pe.on(this.options.removeVertexOn,this._removeMarker,this)),this._markerGroup.addLayer(pe),pe},_createMiddleMarker(ne,pe){if(!ne||!pe)return!1;let Ue=L.PM.Utils.calcMiddleLatLng(this._map,ne.getLatLng(),pe.getLatLng()),qe=this._createMarker(Ue),$e=L.divIcon({className:"marker-icon marker-icon-middle"});return qe.setIcon($e),qe.leftM=ne,qe.rightM=pe,ne._middleMarkerNext=qe,pe._middleMarkerPrev=qe,qe.on(this.options.addVertexOn,this._onMiddleMarkerClick,this),qe.on("movestart",this._onMiddleMarkerMoveStart,this),qe},_onMiddleMarkerClick(ne){let pe=ne.target;if(!this._vertexValidation("add",ne))return;let Ue=L.divIcon({className:"marker-icon"});pe.setIcon(Ue),this._addMarker(pe,pe.leftM,pe.rightM)},_onMiddleMarkerMoveStart(ne){let pe=ne.target;if(pe.on("moveend",this._onMiddleMarkerMoveEnd,this),!this._vertexValidation("add",ne)){pe.on("move",this._onMiddleMarkerMovePrevent,this);return}pe._dragging=!0,this._addMarker(pe,pe.leftM,pe.rightM)},_onMiddleMarkerMovePrevent(ne){let pe=ne.target;this._vertexValidationDrag(pe)},_onMiddleMarkerMoveEnd(ne){let pe=ne.target;if(pe.off("move",this._onMiddleMarkerMovePrevent,this),pe.off("moveend",this._onMiddleMarkerMoveEnd,this),!this._vertexValidationDragEnd(pe))return;let Ue=L.divIcon({className:"marker-icon"});pe.setIcon(Ue),setTimeout(()=>{delete pe._dragging},100)},_addMarker(ne,pe,Ue){ne.off("movestart",this._onMiddleMarkerMoveStart,this),ne.off(this.options.addVertexOn,this._onMiddleMarkerClick,this);let qe=ne.getLatLng(),$e=this._layer._latlngs;delete ne.leftM,delete ne.rightM;let{indexPath:ht,index:Tt,parentPath:Ot}=L.PM.Utils.findDeepMarkerIndex(this._markers,pe),Kt=ht.length>1?(0,Xs.default)($e,Ot):$e,ir=ht.length>1?(0,Xs.default)(this._markers,Ot):this._markers;Kt.splice(Tt+1,0,qe),ir.splice(Tt+1,0,ne),this._layer.setLatLngs($e),this.options.hideMiddleMarkers!==!0&&(this._createMiddleMarker(pe,ne),this._createMiddleMarker(ne,Ue)),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit"),this._fireVertexAdded(ne,L.PM.Utils.findDeepMarkerIndex(this._markers,ne).indexPath,qe),this.options.snappable&&this._initSnappableMarkers()},hasSelfIntersection(){return rr(this._layer.toGeoJSON(15)).features.length>0},_handleSelfIntersectionOnVertexRemoval(){this._handleLayerStyle(!0)&&(this._layer.setLatLngs(this._coordsBeforeEdit),this._coordsBeforeEdit=null,this._initMarkers())},_handleLayerStyle(ne){let pe=this._layer,Ue,qe;if(this.options.allowSelfIntersection?Ue=!1:(qe=rr(this._layer.toGeoJSON(15)),Ue=qe.features.length>0),Ue){if(!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._updateDisabledMarkerStyle(this._markers,!0),this.isRed)return Ue;ne?this._flashLayer():(pe.setStyle({color:"#f00000ff"}),this.isRed=!0),this._fireIntersect(qe)}else pe.setStyle({color:this.cachedColor}),this.isRed=!1,!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._updateDisabledMarkerStyle(this._markers,!1);return Ue},_flashLayer(){this.cachedColor||(this.cachedColor=this._layer.options.color),this._layer.setStyle({color:"#f00000ff"}),this.isRed=!0,window.setTimeout(()=>{this._layer.setStyle({color:this.cachedColor}),this.isRed=!1},200)},_updateDisabledMarkerStyle(ne,pe){ne.forEach(Ue=>{Array.isArray(Ue)?this._updateDisabledMarkerStyle(Ue,pe):Ue._icon&&(pe&&!this._checkMarkerAllowedToDrag(Ue)?L.DomUtil.addClass(Ue._icon,"vertexmarker-disabled"):L.DomUtil.removeClass(Ue._icon,"vertexmarker-disabled"))})},_removeMarker(ne){let pe=ne.target;if(!this._vertexValidation("remove",ne))return;this.options.allowSelfIntersection||(this._coordsBeforeEdit=ga(this._layer,this._layer.getLatLngs()));let Ue=this._layer.getLatLngs(),{indexPath:qe,index:$e,parentPath:ht}=L.PM.Utils.findDeepMarkerIndex(this._markers,pe);if(!qe)return;let Tt=qe.length>1?(0,Xs.default)(Ue,ht):Ue,Ot=qe.length>1?(0,Xs.default)(this._markers,ht):this._markers,Kt=ht[ht.length-1]>0&&this._layer instanceof L.Polygon;if(!this.options.removeLayerBelowMinVertexCount&&!Kt&&(Tt.length<=2||this.isPolygon()&&Tt.length<=3)){this._flashLayer();return}Tt.splice($e,1),this._layer.setLatLngs(Ue),this.isPolygon()&&Tt.length<=2&&Tt.splice(0,Tt.length);let ir=!1;if(Tt.length<=1&&(Tt.splice(0,Tt.length),ht.length>1&&qe.length>1&&(Ue=yo(Ue)),this._layer.setLatLngs(Ue),this._initMarkers(),ir=!0),so(Ue)||this._layer.remove(),Ue=yo(Ue),this._layer.setLatLngs(Ue),this._markers=yo(this._markers),!ir&&(Ot=qe.length>1?(0,Xs.default)(this._markers,ht):this._markers,pe._middleMarkerPrev&&(this._markerGroup.removeLayer(pe._middleMarkerPrev),this._removeFromCache(pe._middleMarkerPrev)),pe._middleMarkerNext&&(this._markerGroup.removeLayer(pe._middleMarkerNext),this._removeFromCache(pe._middleMarkerNext)),this._markerGroup.removeLayer(pe),this._removeFromCache(pe),Ot)){let Rr,Mr;if(this.isPolygon()?(Rr=($e+1)%Ot.length,Mr=($e+(Ot.length-1))%Ot.length):(Mr=$e-1<0?void 0:$e-1,Rr=$e+1>=Ot.length?void 0:$e+1),Rr!==Mr){let pn=Ot[Mr],bn=Ot[Rr];this.options.hideMiddleMarkers!==!0&&this._createMiddleMarker(pn,bn)}Ot.splice($e,1)}this._fireEdit(),this._layerEdited=!0,this._fireVertexRemoved(pe,qe),this._fireChange(this._layer.getLatLngs(),"Edit")},updatePolygonCoordsFromMarkerDrag(ne){let pe=this._layer.getLatLngs(),Ue=ne.getLatLng(),{indexPath:qe,index:$e,parentPath:ht}=L.PM.Utils.findDeepMarkerIndex(this._markers,ne);(qe.length>1?(0,Xs.default)(pe,ht):pe).splice($e,1,Ue),this._layer.setLatLngs(pe)},_getNeighborMarkers(ne){let{indexPath:pe,index:Ue,parentPath:qe}=L.PM.Utils.findDeepMarkerIndex(this._markers,ne),$e=pe.length>1?(0,Xs.default)(this._markers,qe):this._markers,ht=(Ue+1)%$e.length,Tt=(Ue+($e.length-1))%$e.length,Ot=$e[Tt],Kt=$e[ht];return{prevMarker:Ot,nextMarker:Kt}},_checkMarkerAllowedToDrag(ne){let{prevMarker:pe,nextMarker:Ue}=this._getNeighborMarkers(ne),qe=L.polyline([pe.getLatLng(),ne.getLatLng()]),$e=L.polyline([ne.getLatLng(),Ue.getLatLng()]),ht=Pa(this._layer.toGeoJSON(15),qe.toGeoJSON(15)).features.length,Tt=Pa(this._layer.toGeoJSON(15),$e.toGeoJSON(15)).features.length;return ne.getLatLng()===this._markers[0][0].getLatLng()?Tt+=1:ne.getLatLng()===this._markers[0][this._markers[0].length-1].getLatLng()&&(ht+=1),!(ht<=2&&Tt<=2)},_onMarkerDragStart(ne){let pe=ne.target;if(this.cachedColor||(this.cachedColor=this._layer.options.color),!this._vertexValidation("move",ne))return;let{indexPath:Ue}=L.PM.Utils.findDeepMarkerIndex(this._markers,pe);this._fireMarkerDragStart(ne,Ue),this.options.allowSelfIntersection||(this._coordsBeforeEdit=ga(this._layer,this._layer.getLatLngs())),!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this.hasSelfIntersection()?this._markerAllowedToDrag=this._checkMarkerAllowedToDrag(pe):this._markerAllowedToDrag=null},_onMarkerDrag(ne){let pe=ne.target;if(!this._vertexValidationDrag(pe))return;let{indexPath:Ue,index:qe,parentPath:$e}=L.PM.Utils.findDeepMarkerIndex(this._markers,pe);if(!Ue)return;if(!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this.hasSelfIntersection()&&this._markerAllowedToDrag===!1){this._layer.setLatLngs(this._coordsBeforeEdit),this._initMarkers(),this._handleLayerStyle();return}this.updatePolygonCoordsFromMarkerDrag(pe);let ht=Ue.length>1?(0,Xs.default)(this._markers,$e):this._markers,Tt=(qe+1)%ht.length,Ot=(qe+(ht.length-1))%ht.length,Kt=pe.getLatLng(),ir=ht[Ot].getLatLng(),Rr=ht[Tt].getLatLng();if(pe._middleMarkerNext){let Mr=L.PM.Utils.calcMiddleLatLng(this._map,Kt,Rr);pe._middleMarkerNext.setLatLng(Mr)}if(pe._middleMarkerPrev){let Mr=L.PM.Utils.calcMiddleLatLng(this._map,Kt,ir);pe._middleMarkerPrev.setLatLng(Mr)}this.options.allowSelfIntersection||this._handleLayerStyle(),this._fireMarkerDrag(ne,Ue),this._fireChange(this._layer.getLatLngs(),"Edit")},_onMarkerDragEnd(ne){let pe=ne.target;if(!this._vertexValidationDragEnd(pe))return;let{indexPath:Ue}=L.PM.Utils.findDeepMarkerIndex(this._markers,pe),qe=!this.options.allowSelfIntersection&&this.hasSelfIntersection();qe&&this.options.allowSelfIntersectionEdit&&this._markerAllowedToDrag&&(qe=!1);let $e=!this.options.allowSelfIntersection&&qe;if(this._fireMarkerDragEnd(ne,Ue,$e),$e){this._layer.setLatLngs(this._coordsBeforeEdit),this._coordsBeforeEdit=null,this._initMarkers(),this.options.snappable&&this._initSnappableMarkers(),this._handleLayerStyle(),this._fireLayerReset(ne,Ue);return}!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._handleLayerStyle(),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit")},_onVertexClick(ne){let pe=ne.target;if(pe._dragging)return;let{indexPath:Ue}=L.PM.Utils.findDeepMarkerIndex(this._markers,pe);this._fireVertexClick(ne,Ue)}}),ko.Polygon=ko.Line.extend({_shape:"Polygon",_checkMarkerAllowedToDrag(ne){let{prevMarker:pe,nextMarker:Ue}=this._getNeighborMarkers(ne),qe=L.polyline([pe.getLatLng(),ne.getLatLng()]),$e=L.polyline([ne.getLatLng(),Ue.getLatLng()]),ht=Pa(this._layer.toGeoJSON(15),qe.toGeoJSON(15)).features.length,Tt=Pa(this._layer.toGeoJSON(15),$e.toGeoJSON(15)).features.length;return!(ht<=2&&Tt<=2)}}),ko.Rectangle=ko.Polygon.extend({_shape:"Rectangle",_initMarkers(){let ne=this._map,pe=this._findCorners();this._markerGroup&&this._markerGroup.clearLayers(),this._markerGroup=new L.FeatureGroup,this._markerGroup._pmTempLayer=!0,ne.addLayer(this._markerGroup),this._markers=[],this._markers[0]=pe.map(this._createMarker,this),[this._cornerMarkers]=this._markers,this._layer.getLatLngs()[0].forEach((Ue,qe)=>{let $e=this._cornerMarkers.find(ht=>ht._index===qe);$e&&$e.setLatLng(Ue)})},applyOptions(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping(),this._addMarkerEvents()},_createMarker(ne,pe){let Ue=new L.Marker(ne,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(Ue,"vertexPane"),Ue._origLatLng=ne,Ue._index=pe,Ue._pmTempLayer=!0,Ue.on("click",this._onVertexClick,this),this._markerGroup.addLayer(Ue),Ue},_addMarkerEvents(){this._markers[0].forEach(ne=>{ne.on("dragstart",this._onMarkerDragStart,this),ne.on("drag",this._onMarkerDrag,this),ne.on("dragend",this._onMarkerDragEnd,this),this.options.preventMarkerRemoval||ne.on("contextmenu",this._removeMarker,this)})},_removeMarker(){return null},_onMarkerDragStart(ne){if(!this._vertexValidation("move",ne))return;let pe=ne.target,Ue=this._cornerMarkers;pe._oppositeCornerLatLng=Ue.find($e=>$e._index===(pe._index+2)%4).getLatLng(),pe._snapped=!1;let{indexPath:qe}=L.PM.Utils.findDeepMarkerIndex(this._markers,pe);this._fireMarkerDragStart(ne,qe)},_onMarkerDrag(ne){let pe=ne.target;if(!this._vertexValidationDrag(pe)||pe._index===void 0)return;this._adjustRectangleForMarkerMove(pe);let{indexPath:Ue}=L.PM.Utils.findDeepMarkerIndex(this._markers,pe);this._fireMarkerDrag(ne,Ue),this._fireChange(this._layer.getLatLngs(),"Edit")},_onMarkerDragEnd(ne){let pe=ne.target;if(!this._vertexValidationDragEnd(pe))return;this._cornerMarkers.forEach(qe=>{delete qe._oppositeCornerLatLng});let{indexPath:Ue}=L.PM.Utils.findDeepMarkerIndex(this._markers,pe);this._fireMarkerDragEnd(ne,Ue),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit")},_adjustRectangleForMarkerMove(ne){L.extend(ne._origLatLng,ne._latlng);let pe=L.PM.Utils._getRotatedRectangle(ne.getLatLng(),ne._oppositeCornerLatLng,this.getAngle(),this._map);this._layer.setLatLngs(pe),this._adjustAllMarkers(ne),this._layer.redraw()},_adjustAllMarkers(ne){let pe=this._layer.getLatLngs()[0];if(pe&&pe.length!==4&&pe.length>0)pe.forEach((Ue,qe)=>{this._cornerMarkers[qe].setLatLng(Ue)}),this._cornerMarkers.slice(pe.length).forEach(Ue=>{Ue.setLatLng(pe[0])});else if(!pe||!pe.length)console.error("The layer has no LatLngs");else{let Ue=pe.findIndex(qe=>ne.getLatLng().equals(qe));Ue>-1?(this._cornerMarkers[(ne._index+1)%4].setLatLng(pe[(Ue+1)%4]),this._cornerMarkers[(ne._index+2)%4].setLatLng(pe[(Ue+2)%4]),this._cornerMarkers[(ne._index+3)%4].setLatLng(pe[(Ue+3)%4])):this._cornerMarkers.forEach(qe=>{qe.setLatLng(pe[qe._index])})}},_findCorners(){this._angle===void 0&&this.setInitAngle(Po(this._map,this._layer.getLatLngs()[0][0],this._layer.getLatLngs()[0][1])||0);let ne=this._layer.getLatLngs()[0];return L.PM.Utils._getRotatedRectangle(ne[0],ne[2],this.getAngle(),this._map||this)}}),ko.CircleMarker=ko.extend({_shape:"CircleMarker",initialize(ne){this._layer=ne,this._enabled=!1,this._minRadiusOption="minRadiusCircleMarker",this._maxRadiusOption="maxRadiusCircleMarker",this._editableOption="resizeableCircleMarker",this._updateHiddenPolyCircle()},enable(ne={draggable:!0,snappable:!0}){if(L.Util.setOptions(this,ne),this.options.editable&&(this.options.resizeableCircleMarker=this.options.editable,delete this.options.editable),!this.options.allowEditing||!this._layer._map){this.disable();return}this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._extendingEnable(),this._updateHiddenPolyCircle(),this._fireEnable()},_extendingEnable(){this._layer.on("pm:dragstart",this._onDragStart,this),this._layer.on("pm:drag",this._onMarkerDrag,this),this._layer.on("pm:dragend",this._onMarkerDragEnd,this)},disable(){this.dragging()||(this._map||(this._map=this._layer._map),this._map&&this.enabled()&&(this.layerDragEnabled()&&this.disableLayerDrag(),this._helperLayers&&(this._helperLayers.clearLayers(),this._helperLayers.removeFrom(this._map)),this.options[this._editableOption]?(this._map.off("move",this._syncMarkers,this),this._outerMarker.off("drag",this._handleOuterMarkerSnapping,this)):this._map.off("move",this._updateHiddenPolyCircle,this),this._extendingDisable(),this._layer.off("remove",this.disable,this),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1))},_extendingDisable(){this._layer.off("contextmenu",this._removeMarker,this)},enabled(){return this._enabled},toggleEdit(ne){this.enabled()?this.disable():this.enable(ne)},applyOptions(){this.options[this._editableOption]?(this._initMarkers(),this._map.on("move",this._syncMarkers,this),this.options.snappable?(this._initSnappableMarkers(),this._outerMarker.on("drag",this._handleOuterMarkerSnapping,this),this._outerMarker.on("move",this._syncHintLine,this),this._outerMarker.on("move",this._syncCircleRadius,this)):this._disableSnapping()):(this.options.draggable&&this.enableLayerDrag(),this._map.on("move",this._updateHiddenPolyCircle,this),this.options.snappable?this._initSnappableMarkersDrag():this._disableSnappingDrag()),this._extendingApplyOptions()},_extendingApplyOptions(){this.options.preventMarkerRemoval||this._layer.on("contextmenu",this._removeMarker,this)},_initMarkers(){let ne=this._map;this._helperLayers&&(this._helperLayers.removeFrom(ne),this._helperLayers.clearLayers()),this._helperLayers=new L.FeatureGroup,this._helperLayers._pmTempLayer=!0,this._helperLayers.addTo(ne);let pe=this._layer.getLatLng(),Ue=this._layer._radius,qe=this._getLatLngOnCircle(pe,Ue);this._centerMarker=this._createCenterMarker(pe),this._outerMarker=this._createOuterMarker(qe),this._markers=[this._centerMarker,this._outerMarker],this._createHintLine(this._centerMarker,this._outerMarker)},_getLatLngOnCircle(ne,pe){let Ue=this._map.project(ne),qe=L.point(Ue.x+pe,Ue.y);return this._map.unproject(qe)},_createHintLine(ne,pe){let Ue=ne.getLatLng(),qe=pe.getLatLng();this._hintline=L.polyline([Ue,qe],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._helperLayers.addLayer(this._hintline)},_createCenterMarker(ne){let pe=this._createMarker(ne);return this.options.draggable?(L.DomUtil.addClass(pe._icon,"leaflet-pm-draggable"),pe.on("move",this._moveCircle,this)):pe.dragging.disable(),pe},_createOuterMarker(ne){let pe=this._createMarker(ne);return pe.on("drag",this._resizeCircle,this),pe},_createMarker(ne){let pe=new L.Marker(ne,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(pe,"vertexPane"),pe._origLatLng=ne,pe._pmTempLayer=!0,pe.on("dragstart",this._onMarkerDragStart,this),pe.on("drag",this._onMarkerDrag,this),pe.on("dragend",this._onMarkerDragEnd,this),pe.on("click",this._onVertexClick,this),this._helperLayers.addLayer(pe),pe},_moveCircle(ne){if(ne.target._cancelDragEventChain)return;let pe=this._centerMarker.getLatLng();this._layer.setLatLng(pe);let Ue=this._layer._radius,qe=this._getLatLngOnCircle(pe,Ue);this._outerMarker._latlng=qe,this._outerMarker.update(),this._syncHintLine(),this._updateHiddenPolyCircle(),this._fireCenterPlaced("Edit"),this._fireChange(this._layer.getLatLng(),"Edit")},_syncMarkers(){let ne=this._layer.getLatLng(),pe=this._layer._radius,Ue=this._getLatLngOnCircle(ne,pe);this._outerMarker.setLatLng(Ue),this._centerMarker.setLatLng(ne),this._syncHintLine(),this._updateHiddenPolyCircle()},_resizeCircle(){this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker()),this._syncHintLine(),this._syncCircleRadius()},_syncCircleRadius(){let ne=this._centerMarker.getLatLng(),pe=this._outerMarker.getLatLng(),Ue=this._distanceCalculation(ne,pe);this.options[this._minRadiusOption]&&Ue<this.options[this._minRadiusOption]?this._layer.setRadius(this.options[this._minRadiusOption]):this.options[this._maxRadiusOption]&&Ue>this.options[this._maxRadiusOption]?this._layer.setRadius(this.options[this._maxRadiusOption]):this._layer.setRadius(Ue),this._updateHiddenPolyCircle(),this._fireChange(this._layer.getLatLng(),"Edit")},_syncHintLine(){let ne=this._centerMarker.getLatLng(),pe=this._outerMarker.getLatLng();this._hintline.setLatLngs([ne,pe])},_removeMarker(){this.options[this._editableOption]&&this.disable(),this._layer.remove(),this._fireRemove(this._layer),this._fireRemove(this._map,this._layer)},_onDragStart(){this._map.pm.Draw.CircleMarker._layerIsDragging=!0},_onMarkerDragStart(ne){this._vertexValidation("move",ne)&&this._fireMarkerDragStart(ne)},_onMarkerDrag(ne){let pe=ne.target;pe instanceof L.Marker&&!this._vertexValidationDrag(pe)||this._fireMarkerDrag(ne)},_onMarkerDragEnd(ne){this._extedingMarkerDragEnd();let pe=ne.target;this._vertexValidationDragEnd(pe)&&(this.options[this._editableOption]&&(this._fireEdit(),this._layerEdited=!0),this._fireMarkerDragEnd(ne))},_extedingMarkerDragEnd(){this._map.pm.Draw.CircleMarker._layerIsDragging=!1},_initSnappableMarkersDrag(){let ne=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0?!0:this.options.snapSegment,ne.off("pm:drag",this._handleSnapping,this),ne.on("pm:drag",this._handleSnapping,this),ne.off("pm:dragend",this._cleanupSnapping,this),ne.on("pm:dragend",this._cleanupSnapping,this),ne.off("pm:dragstart",this._unsnap,this),ne.on("pm:dragstart",this._unsnap,this)},_disableSnappingDrag(){let ne=this._layer;ne.off("pm:drag",this._handleSnapping,this),ne.off("pm:dragend",this._cleanupSnapping,this),ne.off("pm:dragstart",this._unsnap,this)},_updateHiddenPolyCircle(){let ne=this._layer._map||this._map;if(ne){let pe=L.PM.Utils.pxRadiusToMeterRadius(this._layer.getRadius(),ne,this._layer.getLatLng()),Ue=L.circle(this._layer.getLatLng(),this._layer.options);Ue.setRadius(pe);let qe=ne&&ne.pm._isCRSSimple();this._hiddenPolyCircle?this._hiddenPolyCircle.setLatLngs(L.PM.Utils.circleToPolygon(Ue,200,!qe).getLatLngs()):this._hiddenPolyCircle=L.PM.Utils.circleToPolygon(Ue,200,!qe),this._hiddenPolyCircle._parentCopy||(this._hiddenPolyCircle._parentCopy=this._layer)}},_getNewDestinationOfOuterMarker(){let ne=this._centerMarker.getLatLng(),pe=this._outerMarker.getLatLng(),Ue=this._distanceCalculation(ne,pe);return this.options[this._minRadiusOption]&&Ue<this.options[this._minRadiusOption]?pe=vo(this._map,ne,pe,this._getMinDistanceInMeter(ne)):this.options[this._maxRadiusOption]&&Ue>this.options[this._maxRadiusOption]&&(pe=vo(this._map,ne,pe,this._getMaxDistanceInMeter(ne))),pe},_handleOuterMarkerSnapping(){if(this._outerMarker._snapped){let ne=this._centerMarker.getLatLng(),pe=this._outerMarker.getLatLng(),Ue=this._distanceCalculation(ne,pe);this.options[this._minRadiusOption]&&Ue<this.options[this._minRadiusOption]?this._outerMarker.setLatLng(this._outerMarker._orgLatLng):this.options[this._maxRadiusOption]&&Ue>this.options[this._maxRadiusOption]&&this._outerMarker.setLatLng(this._outerMarker._orgLatLng)}this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker())},_distanceCalculation(ne,pe){return this._map.project(ne).distanceTo(this._map.project(pe))},_getMinDistanceInMeter(ne){return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._minRadiusOption],this._map,ne)},_getMaxDistanceInMeter(ne){return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._maxRadiusOption],this._map,ne)},_onVertexClick(ne){ne.target._dragging||this._fireVertexClick(ne,void 0)}}),ko.Circle=ko.CircleMarker.extend({_shape:"Circle",initialize(ne){this._layer=ne,this._enabled=!1,this._minRadiusOption="minRadiusCircle",this._maxRadiusOption="maxRadiusCircle",this._editableOption="resizeableCircle",this._updateHiddenPolyCircle()},enable(ne){L.PM.Edit.CircleMarker.prototype.enable.call(this,ne||{})},_extendingEnable(){},_extendingDisable(){this._layer.off("remove",this.disable,this);let ne=this._layer._path?this._layer._path:this._layer._renderer._container;L.DomUtil.removeClass(ne,"leaflet-pm-draggable")},_extendingApplyOptions(){},_syncMarkers(){},_removeMarker(){},_onDragStart(){},_extedingMarkerDragEnd(){},_updateHiddenPolyCircle(){let ne=this._map&&this._map.pm._isCRSSimple();this._hiddenPolyCircle?this._hiddenPolyCircle.setLatLngs(L.PM.Utils.circleToPolygon(this._layer,200,!ne).getLatLngs()):this._hiddenPolyCircle=L.PM.Utils.circleToPolygon(this._layer,200,!ne),this._hiddenPolyCircle._parentCopy||(this._hiddenPolyCircle._parentCopy=this._layer)},_distanceCalculation(ne,pe){return this._map.distance(ne,pe)},_getMinDistanceInMeter(){return this.options[this._minRadiusOption]},_getMaxDistanceInMeter(){return this.options[this._maxRadiusOption]},_onVertexClick(ne){ne.target._dragging||this._fireVertexClick(ne,void 0)}}),ko.ImageOverlay=ko.extend({_shape:"ImageOverlay",initialize(ne){this._layer=ne,this._enabled=!1},toggleEdit(ne){this.enabled()?this.disable():this.enable(ne)},enabled(){return this._enabled},enable(ne={draggable:!0,snappable:!0}){if(L.Util.setOptions(this,ne),this._map=this._layer._map,!!this._map){if(!this.options.allowEditing){this.disable();return}this.enabled()||this.disable(),this.enableLayerDrag(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._otherSnapLayers=this._findCorners(),this._fireEnable()}},disable(){this._dragging||(this._map||(this._map=this._layer._map),this.disableLayerDrag(),this._layer.off("remove",this.disable,this),this.enabled()||(this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()),this._enabled=!1)},_findCorners(){let ne=this._layer.getBounds(),pe=ne.getNorthWest(),Ue=ne.getNorthEast(),qe=ne.getSouthEast(),$e=ne.getSouthWest();return[pe,Ue,qe,$e]}}),ko.Text=ko.extend({_shape:"Text",initialize(ne){this._layer=ne,this._enabled=!1},enable(ne){if(L.Util.setOptions(this,ne),!!this.textArea){if(!this.options.allowEditing||!this._layer._map){this.disable();return}this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._safeToCacheDragState=!0,this._focusChange(),this.textArea.readOnly=!1,this.textArea.classList.remove("pm-disabled"),this._layer.on("remove",this.disable,this),L.DomEvent.on(this.textArea,"input",this._autoResize,this),L.DomEvent.on(this.textArea,"focus",this._focusChange,this),L.DomEvent.on(this.textArea,"blur",this._focusChange,this),this._layer.on("dblclick",L.DomEvent.stop),L.DomEvent.off(this.textArea,"mousedown",this._preventTextSelection),this._enabled=!0,this._fireEnable()}},disable(){if(!this.enabled())return;this._layer.off("remove",this.disable,this),L.DomEvent.off(this.textArea,"input",this._autoResize,this),L.DomEvent.off(this.textArea,"focus",this._focusChange,this),L.DomEvent.off(this.textArea,"blur",this._focusChange,this),L.DomEvent.off(document,"click",this._documentClick,this),this._focusChange(),this.textArea.readOnly=!0,this.textArea.classList.add("pm-disabled");let ne=document.activeElement;this.textArea.focus(),this.textArea.selectionStart=0,this.textArea.selectionEnd=0,L.DomEvent.on(this.textArea,"mousedown",this._preventTextSelection),ne.focus(),this._disableOnBlurActive=!1,this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1},enabled(){return this._enabled},toggleEdit(ne){this.enabled()?this.disable():this.enable(ne)},applyOptions(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping()},_initSnappableMarkers(){let ne=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0?!0:this.options.snapSegment,ne.off("pm:drag",this._handleSnapping,this),ne.on("pm:drag",this._handleSnapping,this),ne.off("pm:dragend",this._cleanupSnapping,this),ne.on("pm:dragend",this._cleanupSnapping,this),ne.off("pm:dragstart",this._unsnap,this),ne.on("pm:dragstart",this._unsnap,this)},_disableSnapping(){let ne=this._layer;ne.off("pm:drag",this._handleSnapping,this),ne.off("pm:dragend",this._cleanupSnapping,this),ne.off("pm:dragstart",this._unsnap,this)},_autoResize(){this.textArea.style.height="1px",this.textArea.style.width="1px";let ne=this.textArea.scrollHeight>21?this.textArea.scrollHeight:21,pe=this.textArea.scrollWidth>16?this.textArea.scrollWidth:16;this.textArea.style.height=`${ne}px`,this.textArea.style.width=`${pe}px`,this._layer.options.text=this.getText(),this._fireTextChange(this.getText())},_disableOnBlur(){this._disableOnBlurActive=!0,setTimeout(()=>{this.enabled()&&L.DomEvent.on(document,"click",this._documentClick,this)},100)},_documentClick(ne){ne.target!==this.textArea&&(this.disable(),!this.getText()&&this.options.removeIfEmpty&&this.remove())},_focusChange(ne={}){let pe=this._hasFocus;this._hasFocus=ne.type==="focus",!pe!=!this._hasFocus&&(this._hasFocus?(this._applyFocus(),this._focusText=this.getText(),this._fireTextFocus()):(this._removeFocus(),this._fireTextBlur(),this._focusText!==this.getText()&&(this._fireEdit(),this._layerEdited=!0)))},_applyFocus(){this.textArea.classList.add("pm-hasfocus"),this._map.dragging&&(this._safeToCacheDragState&&(this._originalMapDragState=this._map.dragging._enabled,this._safeToCacheDragState=!1),this._map.dragging.disable())},_removeFocus(){this._map.dragging&&(this._originalMapDragState&&this._map.dragging.enable(),this._safeToCacheDragState=!0),this.textArea.classList.remove("pm-hasfocus")},focus(){if(!this.enabled())throw new TypeError("Layer is not enabled");this.textArea.focus()},blur(){if(!this.enabled())throw new TypeError("Layer is not enabled");this.textArea.blur(),this._disableOnBlurActive&&this.disable()},hasFocus(){return this._hasFocus},getElement(){return this.textArea},setText(ne){ne&&(this.textArea.value=ne),this._autoResize()},getText(){return this.textArea.value},_initTextMarker(){if(this.textArea=L.PM.Draw.Text.prototype._createTextArea.call(this),this.options.className){let pe=this.options.className.split(" ");this.textArea.classList.add(...pe)}let ne=L.PM.Draw.Text.prototype._createTextIcon.call(this,this.textArea);this._layer.setIcon(ne),this._layer.once("add",this._createTextMarker,this)},_createTextMarker(ne=!1){this._layer.off("add",this._createTextMarker,this),this._layer.getElement().tabIndex=-1,this.textArea.wrap="off",this.textArea.style.overflow="hidden",this.textArea.style.height=L.DomUtil.getStyle(this.textArea,"font-size"),this.textArea.style.width="1px",this._layer.options.text&&this.setText(this._layer.options.text),this._autoResize(),ne===!0&&(this.enable(),this.focus(),this._disableOnBlur())},_preventTextSelection(ne){ne.preventDefault()}});var Ju=function(ne,pe,Ue,qe,$e,ht){this._matrix=[ne,pe,Ue,qe,$e,ht]};Ju.init=()=>new L.PM.Matrix(1,0,0,1,0,0),Ju.prototype={transform(ne){return this._transform(ne.clone())},_transform(ne){let pe=this._matrix,{x:Ue,y:qe}=ne;return ne.x=pe[0]*Ue+pe[1]*qe+pe[4],ne.y=pe[2]*Ue+pe[3]*qe+pe[5],ne},untransform(ne){let pe=this._matrix;return new L.Point((ne.x/pe[0]-pe[4])/pe[0],(ne.y/pe[2]-pe[5])/pe[2])},clone(){let ne=this._matrix;return new L.PM.Matrix(ne[0],ne[1],ne[2],ne[3],ne[4],ne[5])},translate(ne){if(ne===void 0)return new L.Point(this._matrix[4],this._matrix[5]);let pe,Ue;return typeof ne=="number"?(pe=ne,Ue=ne):(pe=ne.x,Ue=ne.y),this._add(1,0,0,1,pe,Ue)},scale(ne,pe){if(ne===void 0)return new L.Point(this._matrix[0],this._matrix[3]);let Ue,qe;return pe=pe||L.point(0,0),typeof ne=="number"?(Ue=ne,qe=ne):(Ue=ne.x,qe=ne.y),this._add(Ue,0,0,qe,pe.x,pe.y)._add(1,0,0,1,-pe.x,-pe.y)},rotate(ne,pe){let Ue=Math.cos(ne),qe=Math.sin(ne);return pe=pe||new L.Point(0,0),this._add(Ue,qe,-qe,Ue,pe.x,pe.y)._add(1,0,0,1,-pe.x,-pe.y)},flip(){return this._matrix[1]*=-1,this._matrix[2]*=-1,this},_add(ne,pe,Ue,qe,$e,ht){let Tt=[[],[],[]],Ot=this._matrix,Kt=[[Ot[0],Ot[2],Ot[4]],[Ot[1],Ot[3],Ot[5]],[0,0,1]],ir=[[ne,Ue,$e],[pe,qe,ht],[0,0,1]],Rr;ne&&ne instanceof L.PM.Matrix&&(Ot=ne._matrix,ir=[[Ot[0],Ot[2],Ot[4]],[Ot[1],Ot[3],Ot[5]],[0,0,1]]);for(let Mr=0;Mr<3;Mr+=1)for(let pn=0;pn<3;pn+=1){Rr=0;for(let bn=0;bn<3;bn+=1)Rr+=Kt[Mr][bn]*ir[bn][pn];Tt[Mr][pn]=Rr}return this._matrix=[Tt[0][0],Tt[1][0],Tt[0][1],Tt[1][1],Tt[0][2],Tt[1][2]],this}};var Hl=Ju,xu={calcMiddleLatLng(ne,pe,Ue){let qe=ne.project(pe),$e=ne.project(Ue);return ne.unproject(qe._add($e)._divideBy(2))},findLayers(ne){let pe=[];return ne.eachLayer(Ue=>{(Ue instanceof L.Polyline||Ue instanceof L.Marker||Ue instanceof L.Circle||Ue instanceof L.CircleMarker||Ue instanceof L.ImageOverlay)&&pe.push(Ue)}),pe=pe.filter(Ue=>!!Ue.pm),pe=pe.filter(Ue=>!Ue._pmTempLayer),pe=pe.filter(Ue=>!L.PM.optIn&&!Ue.options.pmIgnore||L.PM.optIn&&Ue.options.pmIgnore===!1),pe},circleToPolygon(ne,pe=60,Ue=!0){let qe=ne.getLatLng(),$e=ne.getRadius(),ht=jo(qe,$e,pe,0,Ue),Tt=[];for(let Ot=0;Ot<ht.length;Ot+=1){let Kt=[ht[Ot].lat,ht[Ot].lng];Tt.push(Kt)}return L.polygon(Tt,ne.options)},disablePopup(ne){ne.getPopup()&&(ne._tempPopupCopy=ne.getPopup(),ne.unbindPopup())},enablePopup(ne){ne._tempPopupCopy&&(ne.bindPopup(ne._tempPopupCopy),delete ne._tempPopupCopy)},_fireEvent(ne,pe,Ue,qe=!1){ne.fire(pe,Ue,qe);let{groups:$e}=this.getAllParentGroups(ne);$e.forEach(ht=>{ht.fire(pe,Ue,qe)})},getAllParentGroups(ne){let pe=[],Ue=[],qe=$e=>{for(let ht in $e._eventParents)if(pe.indexOf(ht)===-1){pe.push(ht);let Tt=$e._eventParents[ht];Ue.push(Tt),qe(Tt)}};return!ne._pmLastGroupFetch||!ne._pmLastGroupFetch.time||new Date().getTime()-ne._pmLastGroupFetch.time>1e3?(qe(ne),ne._pmLastGroupFetch={time:new Date().getTime(),groups:Ue,groupIds:pe},{groupIds:pe,groups:Ue}):{groups:ne._pmLastGroupFetch.groups,groupIds:ne._pmLastGroupFetch.groupIds}},createGeodesicPolygon:jo,getTranslation:gi,findDeepCoordIndex(ne,pe,Ue=!0){let qe,$e=Tt=>(Ot,Kt)=>{let ir=Tt.concat(Kt);if(Ue){if(Ot.lat&&Ot.lat===pe.lat&&Ot.lng===pe.lng)return qe=ir,!0}else if(Ot.lat&&L.latLng(Ot).equals(pe))return qe=ir,!0;return Array.isArray(Ot)&&Ot.some($e(ir))};ne.some($e([]));let ht={};return qe&&(ht={indexPath:qe,index:qe[qe.length-1],parentPath:qe.slice(0,qe.length-1)}),ht},findDeepMarkerIndex(ne,pe){let Ue,qe=ht=>(Tt,Ot)=>{let Kt=ht.concat(Ot);return Tt._leaflet_id===pe._leaflet_id?(Ue=Kt,!0):Array.isArray(Tt)&&Tt.some(qe(Kt))};ne.some(qe([]));let $e={};return Ue&&($e={indexPath:Ue,index:Ue[Ue.length-1],parentPath:Ue.slice(0,Ue.length-1)}),$e},_getIndexFromSegment(ne,pe){if(pe&&pe.length===2){let Ue=this.findDeepCoordIndex(ne,pe[0]),qe=this.findDeepCoordIndex(ne,pe[1]),$e=Math.max(Ue.index,qe.index);return(Ue.index===0||qe.index===0)&&$e!==1&&($e+=1),{indexA:Ue,indexB:qe,newIndex:$e,indexPath:Ue.indexPath,parentPath:Ue.parentPath}}return null},_getRotatedRectangle(ne,pe,Ue,qe){let $e=nu(qe,ne),ht=nu(qe,pe),Tt=Ue*Math.PI/180,Ot=Math.cos(Tt),Kt=Math.sin(Tt),ir=(ht.x-$e.x)*Ot+(ht.y-$e.y)*Kt,Rr=(ht.y-$e.y)*Ot-(ht.x-$e.x)*Kt,Mr=ir*Ot+$e.x,pn=ir*Kt+$e.y,bn=-Rr*Kt+$e.x,Zn=Rr*Ot+$e.y,ci=Vs(qe,$e),xi=Vs(qe,{x:Mr,y:pn}),ma=Vs(qe,ht),Or=Vs(qe,{x:bn,y:Zn});return[ci,xi,ma,Or]},pxRadiusToMeterRadius(ne,pe,Ue){let qe=pe.project(Ue),$e=L.point(qe.x+ne,qe.y);return pe.distance(pe.unproject($e),Ue)}},Uu=xu;L.PM=L.PM||{version:$o.version,Map:at,Toolbar:br,Draw:Nn,Edit:ko,Utils:Uu,Matrix:Hl,activeLang:"en",optIn:!1,initialize(ne){this.addInitHooks(ne)},setOptIn(ne){this.optIn=!!ne},addInitHooks(){function ne(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Map(this)):this.options.pmIgnore||(this.pm=new L.PM.Map(this)),this.pm&&this.pm.setGlobalOptions({})}L.Map.addInitHook(ne);function pe(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.LayerGroup(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.LayerGroup(this))}L.LayerGroup.addInitHook(pe);function Ue(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.options.textMarker?(this.pm=new L.PM.Edit.Text(this),this.options._textMarkerOverPM||this.pm._initTextMarker(),delete this.options._textMarkerOverPM):this.pm=new L.PM.Edit.Marker(this)):this.options.pmIgnore||(this.options.textMarker?(this.pm=new L.PM.Edit.Text(this),this.options._textMarkerOverPM||this.pm._initTextMarker(),delete this.options._textMarkerOverPM):this.pm=new L.PM.Edit.Marker(this))}L.Marker.addInitHook(Ue);function qe(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.CircleMarker(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.CircleMarker(this))}L.CircleMarker.addInitHook(qe);function $e(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Line(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Line(this))}L.Polyline.addInitHook($e);function ht(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Polygon(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Polygon(this))}L.Polygon.addInitHook(ht);function Tt(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Rectangle(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Rectangle(this))}L.Rectangle.addInitHook(Tt);function Ot(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Circle(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Circle(this))}L.Circle.addInitHook(Ot);function Kt(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.ImageOverlay(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.ImageOverlay(this))}L.ImageOverlay.addInitHook(Kt)},reInitLayer(ne){ne instanceof L.LayerGroup&&ne.eachLayer(pe=>{this.reInitLayer(pe)}),ne.pm||L.PM.optIn&&ne.options.pmIgnore!==!1||ne.options.pmIgnore||(ne instanceof L.Map?ne.pm=new L.PM.Map(ne):ne instanceof L.Marker?ne.options.textMarker?(ne.pm=new L.PM.Edit.Text(ne),ne.pm._initTextMarker(),ne.pm._createTextMarker(!1)):ne.pm=new L.PM.Edit.Marker(ne):ne instanceof L.Circle?ne.pm=new L.PM.Edit.Circle(ne):ne instanceof L.CircleMarker?ne.pm=new L.PM.Edit.CircleMarker(ne):ne instanceof L.Rectangle?ne.pm=new L.PM.Edit.Rectangle(ne):ne instanceof L.Polygon?ne.pm=new L.PM.Edit.Polygon(ne):ne instanceof L.Polyline?ne.pm=new L.PM.Edit.Line(ne):ne instanceof L.LayerGroup?ne.pm=new L.PM.Edit.LayerGroup(ne):ne instanceof L.ImageOverlay&&(ne.pm=new L.PM.Edit.ImageOverlay(ne)))}},L.version==="1.7.1"&&L.Canvas.include({_onClick(ne){let pe=this._map.mouseEventToLayerPoint(ne),Ue,qe;for(let $e=this._drawFirst;$e;$e=$e.next)Ue=$e.layer,Ue.options.interactive&&Ue._containsPoint(pe)&&(!(ne.type==="click"||ne.type==="preclick")||!this._map._draggableMoved(Ue))&&(qe=Ue);qe&&(L.DomEvent.fakeStop(ne),this._fireEvent([qe],ne))}}),L.PM.initialize()})()),leafletGeoman}requireLeafletGeoman();function globalEvents(y,x,r){x.onGlobalCutModeToggled&&y[r]("pm:globalcutmodetoggled",x.onGlobalCutModeToggled),x.onGlobalDragModeToggled&&y[r]("pm:globaldragmodetoggled",x.onGlobalDragModeToggled),x.onGlobalDrawModeToggled&&y[r]("pm:globaldrawmodetoggled",x.onGlobalDrawModeToggled),x.onGlobalEditModeToggled&&y[r]("pm:globaleditmodetoggled",x.onGlobalEditModeToggled),x.onButtonClick&&y[r]("pm:buttonclick",x.onButtonClick),x.onActionClick&&y[r]("pm:actionclick",x.onActionClick),x.onKeyEvent&&y[r]("pm:keyevent",x.onKeyEvent),x.onLangChange&&y[r]("pm:langchange",x.onLangChange),x.onGlobalRemovalModeToggled&&y[r]("pm:globalremovalmodetoggled",x.onGlobalRemovalModeToggled),x.onGlobalRotateModeToggled&&y[r]("pm:globalrotatemodetoggled",x.onGlobalRotateModeToggled)}function layerEvents(y,x,r){x.onVertexAdded&&y[r]("pm:vertexadded",x.onVertexAdded),x.onSnapDrag&&y[r]("pm:snapdrag",x.onSnapDrag),x.onSnap&&y[r]("pm:snap",x.onSnap),x.onUnsnap&&y[r]("pm:unsnap",x.onUnsnap),x.onCenterPlaced&&y[r]("pm:centerplaced",x.onCenterPlaced),x.onChange&&y[r]("pm:change",x.onChange),x.onEdit&&y[r]("pm:edit",x.onEdit),x.onUpdate&&y[r]("pm:update",x.onUpdate),x.onEnable&&y[r]("pm:enable",x.onEnable),x.onDisable&&y[r]("pm:disable",x.onDisable),x.onVertexRemoved&&y[r]("pm:vertexremoved",x.onVertexRemoved),x.onVertexClick&&y[r]("pm:vertexclick",x.onVertexClick),x.onMarkerDragStart&&y[r]("pm:markerdragstart",x.onMarkerDragStart),x.onMarkerDrag&&y[r]("pm:markerdrag",x.onMarkerDrag),x.onMarkerDragEnd&&y[r]("pm:markerdragend",x.onMarkerDragEnd),x.onLayerReset&&y[r]("pm:layerreset",x.onLayerReset),x.onIntersect&&y[r]("pm:intersect",x.onIntersect),x.onDragStart&&y[r]("pm:dragstart",x.onDragStart),x.onDrag&&y[r]("pm:drag",x.onDrag),x.onDragEnd&&y[r]("pm:dragend",x.onDragEnd),x.onDragEnable&&y[r]("pm:dragenable",x.onDragEnable),x.onDragDisable&&y[r]("pm:dragdisable",x.onDragDisable),x.onLayerRemove&&y[r]("pm:remove",x.onLayerRemove),x.onLayerCut&&y[r]("pm:cut",x.onLayerCut),x.onLayerRotateEnable&&y[r]("pm:rotateenable",x.onLayerRotateEnable),x.onLayerRotateDisable&&y[r]("pm:rotatedisable",x.onLayerRotateDisable),x.onLayerRotateStart&&y[r]("pm:rotatestart",x.onLayerRotateStart),x.onLayerRotate&&y[r]("pm:rotate",x.onLayerRotate),x.onLayerRotateEnd&&y[r]("pm:rotateend",x.onLayerRotateEnd),x.onTextChange&&y[r]("pm:textchange",x.onTextChange)}function mapEvents(y,x,r){x.onMapCut&&y[r]("pm:cut",b=>{layerEvents(b.layer,x,"off"),layerEvents(b.layer,x,"on"),x.onMapCut&&x.onMapCut(b)}),x.onCreate&&y[r]("pm:create",b=>{layerEvents(b.layer,x,"off"),layerEvents(b.layer,x,"on"),x.onCreate&&x.onCreate(b)}),x.onDrawStart&&y[r]("pm:drawstart",x.onDrawStart),x.onDrawEnd&&y[r]("pm:drawend",x.onDrawEnd),x.onMapRemove&&y[r]("pm:remove",x.onMapRemove),x.onMapRotateEnable&&y[r]("pm:rotateenable",x.onMapRotateEnable),x.onMapRotateDisable&&y[r]("pm:rotatedisable",x.onMapRotateDisable),x.onMapRotate&&y[r]("pm:rotate",x.onMapRotate),x.onMapRotateStart&&y[r]("pm:rotatestart",x.onMapRotateStart),x.onMapRotateEnd&&y[r]("pm:rotateend",x.onMapRotateEnd)}const reference=["onMapRemove","onLayerRemove","onMapCut","onLayerCut","onMapRotateEnable","onLayerRotateEnable","onMapRotateDisable","onLayerRotateDisable","onMapRotateStart","onLayerRotateStart","onMapRotate","onLayerRotate","onMapRotateEnd","onLayerRotateEnd","onGlobalDrawModeToggled","onDrawStart","onDrawEnd","onCreate","onGlobalEditModeToggled","onGlobalDragModeToggled","onGlobalRemovalModeToggled","onGlobalCutModeToggled","onGlobalRotateModeToggled","onLangChange","onButtonClick","onActionClick","onKeyEvent","onSnapDrag","onSnap","onUnsnap","onCenterPlaced","onEdit","onUpdate","onEnable","onDisable","onVertexAdded","onVertexRemoved","onVertexClick","onMarkerDragStart","onMarkerDrag","onMarkerDragEnd","onLayerReset","onIntersect","onChange","onTextChange","onDragStart","onDrag","onDragEnd","onDragEnable","onDragDisable"];function GeomanControls({options:y={},globalOptions:x={},pathOptions:r={},lang:b="en",eventDebugFn:M,onMount:z,onUnmount:B,...R}){const[I,O]=reactExports.useState(!1),[A,T]=reactExports.useState({}),{map:U,layerContainer:q}=useLeafletContext(),K=q||U;return K?(reactExports.useLayoutEffect(()=>(U.pm.controlsVisible()||(U.pm.addControls(y),z&&z(),O(!0)),()=>{U.pm.disableDraw(),U.pm.disableGlobalEditMode(),U.pm.disableGlobalRemovalMode(),U.pm.disableGlobalDragMode(),U.pm.disableGlobalCutMode(),U.pm.disableGlobalRotateMode(),U.pm.disableGlobalDragMode(),U.pm.disableGlobalCutMode(),B&&B(),U.pm.removeControls(),O(!1)}),[]),reactExports.useEffect(()=>{I&&U.pm.setPathOptions(r)},[r,I]),reactExports.useEffect(()=>{I&&U.pm.setGlobalOptions({layerGroup:K,...x})},[x,I]),reactExports.useEffect(()=>{I&&U.pm.setLang(b)},[b,I]),reactExports.useEffect(()=>{if(I){const J=Object.fromEntries(reference.map(oe=>[oe,R[oe]??M])),te=q?K.getLayers():U.pm.getGeomanLayers();return te.forEach(oe=>layerEvents(oe,J,"on")),globalEvents(U,J,"on"),mapEvents(U,J,"on"),()=>{globalEvents(U,J,"off"),mapEvents(U,J,"off"),te.forEach(oe=>layerEvents(oe,J,"off")),T(R)}}},[I,!0]),null):(console.warn("[GEOMAN-CONTROLS] No map or container instance found"),null)}const toKebabCase=y=>y.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),toCamelCase=y=>y.replace(/^([A-Z])|[\s-_]+(\w)/g,(x,r,b)=>b?b.toUpperCase():r.toLowerCase()),toPascalCase=y=>{const x=toCamelCase(y);return x.charAt(0).toUpperCase()+x.slice(1)},mergeClasses=(...y)=>y.filter((x,r,b)=>!!x&&x.trim()!==""&&b.indexOf(x)===r).join(" ").trim(),hasA11yProp=y=>{for(const x in y)if(x.startsWith("aria-")||x==="role"||x==="title")return!0};var defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Icon=reactExports.forwardRef(({color:y="currentColor",size:x=24,strokeWidth:r=2,absoluteStrokeWidth:b,className:M="",children:z,iconNode:B,...R},I)=>reactExports.createElement("svg",{ref:I,...defaultAttributes,width:x,height:x,stroke:y,strokeWidth:b?Number(r)*24/Number(x):r,className:mergeClasses("lucide",M),...!z&&!hasA11yProp(R)&&{"aria-hidden":"true"},...R},[...B.map(([O,A])=>reactExports.createElement(O,A)),...Array.isArray(z)?z:[z]]));const createLucideIcon=(y,x)=>{const r=reactExports.forwardRef(({className:b,...M},z)=>reactExports.createElement(Icon,{ref:z,iconNode:x,className:mergeClasses(`lucide-${toKebabCase(toPascalCase(y))}`,`lucide-${y}`,b),...M}));return r.displayName=toPascalCase(y),r};const __iconNode$9=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Check=createLucideIcon("check",__iconNode$9);const __iconNode$8=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Download=createLucideIcon("download",__iconNode$8);const __iconNode$7=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],EllipsisVertical=createLucideIcon("ellipsis-vertical",__iconNode$7);const __iconNode$6=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],LoaderCircle=createLucideIcon("loader-circle",__iconNode$6);const __iconNode$5=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],MapPin=createLucideIcon("map-pin",__iconNode$5);const __iconNode$4=[["path",{d:"M5 12h14",key:"1ays0h"}]],Minus=createLucideIcon("minus",__iconNode$4);const __iconNode$3=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Plus=createLucideIcon("plus",__iconNode$3);const __iconNode$2=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Search=createLucideIcon("search",__iconNode$2);const __iconNode$1=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Trash2=createLucideIcon("trash-2",__iconNode$1);const __iconNode=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Upload=createLucideIcon("upload",__iconNode);function commonjsRequire(y){throw new Error('Could not dynamically require "'+y+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var jszip_min={exports:{}};var hasRequiredJszip_min;function requireJszip_min(){return hasRequiredJszip_min||(hasRequiredJszip_min=1,(function(y,x){(function(r){y.exports=r()})(function(){return(function r(b,M,z){function B(O,A){if(!M[O]){if(!b[O]){var T=typeof commonjsRequire=="function"&&commonjsRequire;if(!A&&T)return T(O,!0);if(R)return R(O,!0);var U=new Error("Cannot find module '"+O+"'");throw U.code="MODULE_NOT_FOUND",U}var q=M[O]={exports:{}};b[O][0].call(q.exports,function(K){var J=b[O][1][K];return B(J||K)},q,q.exports,r,b,M,z)}return M[O].exports}for(var R=typeof commonjsRequire=="function"&&commonjsRequire,I=0;I<z.length;I++)B(z[I]);return B})({1:[function(r,b,M){var z=r("./utils"),B=r("./support"),R="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";M.encode=function(I){for(var O,A,T,U,q,K,J,te=[],oe=0,ue=I.length,fe=ue,Le=z.getTypeOf(I)!=="string";oe<I.length;)fe=ue-oe,T=Le?(O=I[oe++],A=oe<ue?I[oe++]:0,oe<ue?I[oe++]:0):(O=I.charCodeAt(oe++),A=oe<ue?I.charCodeAt(oe++):0,oe<ue?I.charCodeAt(oe++):0),U=O>>2,q=(3&O)<<4|A>>4,K=1<fe?(15&A)<<2|T>>6:64,J=2<fe?63&T:64,te.push(R.charAt(U)+R.charAt(q)+R.charAt(K)+R.charAt(J));return te.join("")},M.decode=function(I){var O,A,T,U,q,K,J=0,te=0,oe="data:";if(I.substr(0,oe.length)===oe)throw new Error("Invalid base64 input, it looks like a data url.");var ue,fe=3*(I=I.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(I.charAt(I.length-1)===R.charAt(64)&&fe--,I.charAt(I.length-2)===R.charAt(64)&&fe--,fe%1!=0)throw new Error("Invalid base64 input, bad content length.");for(ue=B.uint8array?new Uint8Array(0|fe):new Array(0|fe);J<I.length;)O=R.indexOf(I.charAt(J++))<<2|(U=R.indexOf(I.charAt(J++)))>>4,A=(15&U)<<4|(q=R.indexOf(I.charAt(J++)))>>2,T=(3&q)<<6|(K=R.indexOf(I.charAt(J++))),ue[te++]=O,q!==64&&(ue[te++]=A),K!==64&&(ue[te++]=T);return ue}},{"./support":30,"./utils":32}],2:[function(r,b,M){var z=r("./external"),B=r("./stream/DataWorker"),R=r("./stream/Crc32Probe"),I=r("./stream/DataLengthProbe");function O(A,T,U,q,K){this.compressedSize=A,this.uncompressedSize=T,this.crc32=U,this.compression=q,this.compressedContent=K}O.prototype={getContentWorker:function(){var A=new B(z.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new I("data_length")),T=this;return A.on("end",function(){if(this.streamInfo.data_length!==T.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),A},getCompressedWorker:function(){return new B(z.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},O.createWorkerFrom=function(A,T,U){return A.pipe(new R).pipe(new I("uncompressedSize")).pipe(T.compressWorker(U)).pipe(new I("compressedSize")).withStreamInfo("compression",T)},b.exports=O},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,b,M){var z=r("./stream/GenericWorker");M.STORE={magic:"\0\0",compressWorker:function(){return new z("STORE compression")},uncompressWorker:function(){return new z("STORE decompression")}},M.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,b,M){var z=r("./utils"),B=(function(){for(var R,I=[],O=0;O<256;O++){R=O;for(var A=0;A<8;A++)R=1&R?3988292384^R>>>1:R>>>1;I[O]=R}return I})();b.exports=function(R,I){return R!==void 0&&R.length?z.getTypeOf(R)!=="string"?(function(O,A,T,U){var q=B,K=U+T;O^=-1;for(var J=U;J<K;J++)O=O>>>8^q[255&(O^A[J])];return-1^O})(0|I,R,R.length,0):(function(O,A,T,U){var q=B,K=U+T;O^=-1;for(var J=U;J<K;J++)O=O>>>8^q[255&(O^A.charCodeAt(J))];return-1^O})(0|I,R,R.length,0):0}},{"./utils":32}],5:[function(r,b,M){M.base64=!1,M.binary=!1,M.dir=!1,M.createFolders=!0,M.date=null,M.compression=null,M.compressionOptions=null,M.comment=null,M.unixPermissions=null,M.dosPermissions=null},{}],6:[function(r,b,M){var z=null;z=typeof Promise<"u"?Promise:r("lie"),b.exports={Promise:z}},{lie:37}],7:[function(r,b,M){var z=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",B=r("pako"),R=r("./utils"),I=r("./stream/GenericWorker"),O=z?"uint8array":"array";function A(T,U){I.call(this,"FlateWorker/"+T),this._pako=null,this._pakoAction=T,this._pakoOptions=U,this.meta={}}M.magic="\b\0",R.inherits(A,I),A.prototype.processChunk=function(T){this.meta=T.meta,this._pako===null&&this._createPako(),this._pako.push(R.transformTo(O,T.data),!1)},A.prototype.flush=function(){I.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},A.prototype.cleanUp=function(){I.prototype.cleanUp.call(this),this._pako=null},A.prototype._createPako=function(){this._pako=new B[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var T=this;this._pako.onData=function(U){T.push({data:U,meta:T.meta})}},M.compressWorker=function(T){return new A("Deflate",T)},M.uncompressWorker=function(){return new A("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,b,M){function z(q,K){var J,te="";for(J=0;J<K;J++)te+=String.fromCharCode(255&q),q>>>=8;return te}function B(q,K,J,te,oe,ue){var fe,Le,Ge=q.file,ze=q.compression,je=ue!==O.utf8encode,Be=R.transformTo("string",ue(Ge.name)),_e=R.transformTo("string",O.utf8encode(Ge.name)),He=Ge.comment,tt=R.transformTo("string",ue(He)),Ke=R.transformTo("string",O.utf8encode(He)),Ze=_e.length!==Ge.name.length,Qe=Ke.length!==He.length,vt="",pt="",ut="",Mt=Ge.dir,bt=Ge.date,ar={crc32:0,compressedSize:0,uncompressedSize:0};K&&!J||(ar.crc32=q.crc32,ar.compressedSize=q.compressedSize,ar.uncompressedSize=q.uncompressedSize);var dt=0;K&&(dt|=8),je||!Ze&&!Qe||(dt|=2048);var yt=0,Gt=0;Mt&&(yt|=16),oe==="UNIX"?(Gt=798,yt|=(function(Dt,Ct){var It=Dt;return Dt||(It=Ct?16893:33204),(65535&It)<<16})(Ge.unixPermissions,Mt)):(Gt=20,yt|=(function(Dt){return 63&(Dt||0)})(Ge.dosPermissions)),fe=bt.getUTCHours(),fe<<=6,fe|=bt.getUTCMinutes(),fe<<=5,fe|=bt.getUTCSeconds()/2,Le=bt.getUTCFullYear()-1980,Le<<=4,Le|=bt.getUTCMonth()+1,Le<<=5,Le|=bt.getUTCDate(),Ze&&(pt=z(1,1)+z(A(Be),4)+_e,vt+="up"+z(pt.length,2)+pt),Qe&&(ut=z(1,1)+z(A(tt),4)+Ke,vt+="uc"+z(ut.length,2)+ut);var Bt="";return Bt+=`
\0`,Bt+=z(dt,2),Bt+=ze.magic,Bt+=z(fe,2),Bt+=z(Le,2),Bt+=z(ar.crc32,4),Bt+=z(ar.compressedSize,4),Bt+=z(ar.uncompressedSize,4),Bt+=z(Be.length,2),Bt+=z(vt.length,2),{fileRecord:T.LOCAL_FILE_HEADER+Bt+Be+vt,dirRecord:T.CENTRAL_FILE_HEADER+z(Gt,2)+Bt+z(tt.length,2)+"\0\0\0\0"+z(yt,4)+z(te,4)+Be+vt+tt}}var R=r("../utils"),I=r("../stream/GenericWorker"),O=r("../utf8"),A=r("../crc32"),T=r("../signature");function U(q,K,J,te){I.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=K,this.zipPlatform=J,this.encodeFileName=te,this.streamFiles=q,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}R.inherits(U,I),U.prototype.push=function(q){var K=q.meta.percent||0,J=this.entriesCount,te=this._sources.length;this.accumulate?this.contentBuffer.push(q):(this.bytesWritten+=q.data.length,I.prototype.push.call(this,{data:q.data,meta:{currentFile:this.currentFile,percent:J?(K+100*(J-te-1))/J:100}}))},U.prototype.openedSource=function(q){this.currentSourceOffset=this.bytesWritten,this.currentFile=q.file.name;var K=this.streamFiles&&!q.file.dir;if(K){var J=B(q,K,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:J.fileRecord,meta:{percent:0}})}else this.accumulate=!0},U.prototype.closedSource=function(q){this.accumulate=!1;var K=this.streamFiles&&!q.file.dir,J=B(q,K,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(J.dirRecord),K)this.push({data:(function(te){return T.DATA_DESCRIPTOR+z(te.crc32,4)+z(te.compressedSize,4)+z(te.uncompressedSize,4)})(q),meta:{percent:100}});else for(this.push({data:J.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},U.prototype.flush=function(){for(var q=this.bytesWritten,K=0;K<this.dirRecords.length;K++)this.push({data:this.dirRecords[K],meta:{percent:100}});var J=this.bytesWritten-q,te=(function(oe,ue,fe,Le,Ge){var ze=R.transformTo("string",Ge(Le));return T.CENTRAL_DIRECTORY_END+"\0\0\0\0"+z(oe,2)+z(oe,2)+z(ue,4)+z(fe,4)+z(ze.length,2)+ze})(this.dirRecords.length,J,q,this.zipComment,this.encodeFileName);this.push({data:te,meta:{percent:100}})},U.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},U.prototype.registerPrevious=function(q){this._sources.push(q);var K=this;return q.on("data",function(J){K.processChunk(J)}),q.on("end",function(){K.closedSource(K.previous.streamInfo),K._sources.length?K.prepareNextSource():K.end()}),q.on("error",function(J){K.error(J)}),this},U.prototype.resume=function(){return!!I.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},U.prototype.error=function(q){var K=this._sources;if(!I.prototype.error.call(this,q))return!1;for(var J=0;J<K.length;J++)try{K[J].error(q)}catch{}return!0},U.prototype.lock=function(){I.prototype.lock.call(this);for(var q=this._sources,K=0;K<q.length;K++)q[K].lock()},b.exports=U},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,b,M){var z=r("../compressions"),B=r("./ZipFileWorker");M.generateWorker=function(R,I,O){var A=new B(I.streamFiles,O,I.platform,I.encodeFileName),T=0;try{R.forEach(function(U,q){T++;var K=(function(ue,fe){var Le=ue||fe,Ge=z[Le];if(!Ge)throw new Error(Le+" is not a valid compression method !");return Ge})(q.options.compression,I.compression),J=q.options.compressionOptions||I.compressionOptions||{},te=q.dir,oe=q.date;q._compressWorker(K,J).withStreamInfo("file",{name:U,dir:te,date:oe,comment:q.comment||"",unixPermissions:q.unixPermissions,dosPermissions:q.dosPermissions}).pipe(A)}),A.entriesCount=T}catch(U){A.error(U)}return A}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,b,M){function z(){if(!(this instanceof z))return new z;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var B=new z;for(var R in this)typeof this[R]!="function"&&(B[R]=this[R]);return B}}(z.prototype=r("./object")).loadAsync=r("./load"),z.support=r("./support"),z.defaults=r("./defaults"),z.version="3.10.1",z.loadAsync=function(B,R){return new z().loadAsync(B,R)},z.external=r("./external"),b.exports=z},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,b,M){var z=r("./utils"),B=r("./external"),R=r("./utf8"),I=r("./zipEntries"),O=r("./stream/Crc32Probe"),A=r("./nodejsUtils");function T(U){return new B.Promise(function(q,K){var J=U.decompressed.getContentWorker().pipe(new O);J.on("error",function(te){K(te)}).on("end",function(){J.streamInfo.crc32!==U.decompressed.crc32?K(new Error("Corrupted zip : CRC32 mismatch")):q()}).resume()})}b.exports=function(U,q){var K=this;return q=z.extend(q||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:R.utf8decode}),A.isNode&&A.isStream(U)?B.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):z.prepareContent("the loaded zip file",U,!0,q.optimizedBinaryString,q.base64).then(function(J){var te=new I(q);return te.load(J),te}).then(function(J){var te=[B.Promise.resolve(J)],oe=J.files;if(q.checkCRC32)for(var ue=0;ue<oe.length;ue++)te.push(T(oe[ue]));return B.Promise.all(te)}).then(function(J){for(var te=J.shift(),oe=te.files,ue=0;ue<oe.length;ue++){var fe=oe[ue],Le=fe.fileNameStr,Ge=z.resolve(fe.fileNameStr);K.file(Ge,fe.decompressed,{binary:!0,optimizedBinaryString:!0,date:fe.date,dir:fe.dir,comment:fe.fileCommentStr.length?fe.fileCommentStr:null,unixPermissions:fe.unixPermissions,dosPermissions:fe.dosPermissions,createFolders:q.createFolders}),fe.dir||(K.file(Ge).unsafeOriginalName=Le)}return te.zipComment.length&&(K.comment=te.zipComment),K})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,b,M){var z=r("../utils"),B=r("../stream/GenericWorker");function R(I,O){B.call(this,"Nodejs stream input adapter for "+I),this._upstreamEnded=!1,this._bindStream(O)}z.inherits(R,B),R.prototype._bindStream=function(I){var O=this;(this._stream=I).pause(),I.on("data",function(A){O.push({data:A,meta:{percent:0}})}).on("error",function(A){O.isPaused?this.generatedError=A:O.error(A)}).on("end",function(){O.isPaused?O._upstreamEnded=!0:O.end()})},R.prototype.pause=function(){return!!B.prototype.pause.call(this)&&(this._stream.pause(),!0)},R.prototype.resume=function(){return!!B.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},b.exports=R},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,b,M){var z=r("readable-stream").Readable;function B(R,I,O){z.call(this,I),this._helper=R;var A=this;R.on("data",function(T,U){A.push(T)||A._helper.pause(),O&&O(U)}).on("error",function(T){A.emit("error",T)}).on("end",function(){A.push(null)})}r("../utils").inherits(B,z),B.prototype._read=function(){this._helper.resume()},b.exports=B},{"../utils":32,"readable-stream":16}],14:[function(r,b,M){b.exports={isNode:typeof Buffer<"u",newBufferFrom:function(z,B){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(z,B);if(typeof z=="number")throw new Error('The "data" argument must not be a number');return new Buffer(z,B)},allocBuffer:function(z){if(Buffer.alloc)return Buffer.alloc(z);var B=new Buffer(z);return B.fill(0),B},isBuffer:function(z){return Buffer.isBuffer(z)},isStream:function(z){return z&&typeof z.on=="function"&&typeof z.pause=="function"&&typeof z.resume=="function"}}},{}],15:[function(r,b,M){function z(Ge,ze,je){var Be,_e=R.getTypeOf(ze),He=R.extend(je||{},A);He.date=He.date||new Date,He.compression!==null&&(He.compression=He.compression.toUpperCase()),typeof He.unixPermissions=="string"&&(He.unixPermissions=parseInt(He.unixPermissions,8)),He.unixPermissions&&16384&He.unixPermissions&&(He.dir=!0),He.dosPermissions&&16&He.dosPermissions&&(He.dir=!0),He.dir&&(Ge=oe(Ge)),He.createFolders&&(Be=te(Ge))&&ue.call(this,Be,!0);var tt=_e==="string"&&He.binary===!1&&He.base64===!1;je&&je.binary!==void 0||(He.binary=!tt),(ze instanceof T&&ze.uncompressedSize===0||He.dir||!ze||ze.length===0)&&(He.base64=!1,He.binary=!0,ze="",He.compression="STORE",_e="string");var Ke=null;Ke=ze instanceof T||ze instanceof I?ze:K.isNode&&K.isStream(ze)?new J(Ge,ze):R.prepareContent(Ge,ze,He.binary,He.optimizedBinaryString,He.base64);var Ze=new U(Ge,Ke,He);this.files[Ge]=Ze}var B=r("./utf8"),R=r("./utils"),I=r("./stream/GenericWorker"),O=r("./stream/StreamHelper"),A=r("./defaults"),T=r("./compressedObject"),U=r("./zipObject"),q=r("./generate"),K=r("./nodejsUtils"),J=r("./nodejs/NodejsStreamInputAdapter"),te=function(Ge){Ge.slice(-1)==="/"&&(Ge=Ge.substring(0,Ge.length-1));var ze=Ge.lastIndexOf("/");return 0<ze?Ge.substring(0,ze):""},oe=function(Ge){return Ge.slice(-1)!=="/"&&(Ge+="/"),Ge},ue=function(Ge,ze){return ze=ze!==void 0?ze:A.createFolders,Ge=oe(Ge),this.files[Ge]||z.call(this,Ge,null,{dir:!0,createFolders:ze}),this.files[Ge]};function fe(Ge){return Object.prototype.toString.call(Ge)==="[object RegExp]"}var Le={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(Ge){var ze,je,Be;for(ze in this.files)Be=this.files[ze],(je=ze.slice(this.root.length,ze.length))&&ze.slice(0,this.root.length)===this.root&&Ge(je,Be)},filter:function(Ge){var ze=[];return this.forEach(function(je,Be){Ge(je,Be)&&ze.push(Be)}),ze},file:function(Ge,ze,je){if(arguments.length!==1)return Ge=this.root+Ge,z.call(this,Ge,ze,je),this;if(fe(Ge)){var Be=Ge;return this.filter(function(He,tt){return!tt.dir&&Be.test(He)})}var _e=this.files[this.root+Ge];return _e&&!_e.dir?_e:null},folder:function(Ge){if(!Ge)return this;if(fe(Ge))return this.filter(function(_e,He){return He.dir&&Ge.test(_e)});var ze=this.root+Ge,je=ue.call(this,ze),Be=this.clone();return Be.root=je.name,Be},remove:function(Ge){Ge=this.root+Ge;var ze=this.files[Ge];if(ze||(Ge.slice(-1)!=="/"&&(Ge+="/"),ze=this.files[Ge]),ze&&!ze.dir)delete this.files[Ge];else for(var je=this.filter(function(_e,He){return He.name.slice(0,Ge.length)===Ge}),Be=0;Be<je.length;Be++)delete this.files[je[Be].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(Ge){var ze,je={};try{if((je=R.extend(Ge||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:B.utf8encode})).type=je.type.toLowerCase(),je.compression=je.compression.toUpperCase(),je.type==="binarystring"&&(je.type="string"),!je.type)throw new Error("No output type specified.");R.checkSupport(je.type),je.platform!=="darwin"&&je.platform!=="freebsd"&&je.platform!=="linux"&&je.platform!=="sunos"||(je.platform="UNIX"),je.platform==="win32"&&(je.platform="DOS");var Be=je.comment||this.comment||"";ze=q.generateWorker(this,je,Be)}catch(_e){(ze=new I("error")).error(_e)}return new O(ze,je.type||"string",je.mimeType)},generateAsync:function(Ge,ze){return this.generateInternalStream(Ge).accumulate(ze)},generateNodeStream:function(Ge,ze){return(Ge=Ge||{}).type||(Ge.type="nodebuffer"),this.generateInternalStream(Ge).toNodejsStream(ze)}};b.exports=Le},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,b,M){b.exports=r("stream")},{stream:void 0}],17:[function(r,b,M){var z=r("./DataReader");function B(R){z.call(this,R);for(var I=0;I<this.data.length;I++)R[I]=255&R[I]}r("../utils").inherits(B,z),B.prototype.byteAt=function(R){return this.data[this.zero+R]},B.prototype.lastIndexOfSignature=function(R){for(var I=R.charCodeAt(0),O=R.charCodeAt(1),A=R.charCodeAt(2),T=R.charCodeAt(3),U=this.length-4;0<=U;--U)if(this.data[U]===I&&this.data[U+1]===O&&this.data[U+2]===A&&this.data[U+3]===T)return U-this.zero;return-1},B.prototype.readAndCheckSignature=function(R){var I=R.charCodeAt(0),O=R.charCodeAt(1),A=R.charCodeAt(2),T=R.charCodeAt(3),U=this.readData(4);return I===U[0]&&O===U[1]&&A===U[2]&&T===U[3]},B.prototype.readData=function(R){if(this.checkOffset(R),R===0)return[];var I=this.data.slice(this.zero+this.index,this.zero+this.index+R);return this.index+=R,I},b.exports=B},{"../utils":32,"./DataReader":18}],18:[function(r,b,M){var z=r("../utils");function B(R){this.data=R,this.length=R.length,this.index=0,this.zero=0}B.prototype={checkOffset:function(R){this.checkIndex(this.index+R)},checkIndex:function(R){if(this.length<this.zero+R||R<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+R+"). Corrupted zip ?")},setIndex:function(R){this.checkIndex(R),this.index=R},skip:function(R){this.setIndex(this.index+R)},byteAt:function(){},readInt:function(R){var I,O=0;for(this.checkOffset(R),I=this.index+R-1;I>=this.index;I--)O=(O<<8)+this.byteAt(I);return this.index+=R,O},readString:function(R){return z.transformTo("string",this.readData(R))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var R=this.readInt(4);return new Date(Date.UTC(1980+(R>>25&127),(R>>21&15)-1,R>>16&31,R>>11&31,R>>5&63,(31&R)<<1))}},b.exports=B},{"../utils":32}],19:[function(r,b,M){var z=r("./Uint8ArrayReader");function B(R){z.call(this,R)}r("../utils").inherits(B,z),B.prototype.readData=function(R){this.checkOffset(R);var I=this.data.slice(this.zero+this.index,this.zero+this.index+R);return this.index+=R,I},b.exports=B},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,b,M){var z=r("./DataReader");function B(R){z.call(this,R)}r("../utils").inherits(B,z),B.prototype.byteAt=function(R){return this.data.charCodeAt(this.zero+R)},B.prototype.lastIndexOfSignature=function(R){return this.data.lastIndexOf(R)-this.zero},B.prototype.readAndCheckSignature=function(R){return R===this.readData(4)},B.prototype.readData=function(R){this.checkOffset(R);var I=this.data.slice(this.zero+this.index,this.zero+this.index+R);return this.index+=R,I},b.exports=B},{"../utils":32,"./DataReader":18}],21:[function(r,b,M){var z=r("./ArrayReader");function B(R){z.call(this,R)}r("../utils").inherits(B,z),B.prototype.readData=function(R){if(this.checkOffset(R),R===0)return new Uint8Array(0);var I=this.data.subarray(this.zero+this.index,this.zero+this.index+R);return this.index+=R,I},b.exports=B},{"../utils":32,"./ArrayReader":17}],22:[function(r,b,M){var z=r("../utils"),B=r("../support"),R=r("./ArrayReader"),I=r("./StringReader"),O=r("./NodeBufferReader"),A=r("./Uint8ArrayReader");b.exports=function(T){var U=z.getTypeOf(T);return z.checkSupport(U),U!=="string"||B.uint8array?U==="nodebuffer"?new O(T):B.uint8array?new A(z.transformTo("uint8array",T)):new R(z.transformTo("array",T)):new I(T)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,b,M){M.LOCAL_FILE_HEADER="PK",M.CENTRAL_FILE_HEADER="PK",M.CENTRAL_DIRECTORY_END="PK",M.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",M.ZIP64_CENTRAL_DIRECTORY_END="PK",M.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,b,M){var z=r("./GenericWorker"),B=r("../utils");function R(I){z.call(this,"ConvertWorker to "+I),this.destType=I}B.inherits(R,z),R.prototype.processChunk=function(I){this.push({data:B.transformTo(this.destType,I.data),meta:I.meta})},b.exports=R},{"../utils":32,"./GenericWorker":28}],25:[function(r,b,M){var z=r("./GenericWorker"),B=r("../crc32");function R(){z.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(R,z),R.prototype.processChunk=function(I){this.streamInfo.crc32=B(I.data,this.streamInfo.crc32||0),this.push(I)},b.exports=R},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,b,M){var z=r("../utils"),B=r("./GenericWorker");function R(I){B.call(this,"DataLengthProbe for "+I),this.propName=I,this.withStreamInfo(I,0)}z.inherits(R,B),R.prototype.processChunk=function(I){if(I){var O=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=O+I.data.length}B.prototype.processChunk.call(this,I)},b.exports=R},{"../utils":32,"./GenericWorker":28}],27:[function(r,b,M){var z=r("../utils"),B=r("./GenericWorker");function R(I){B.call(this,"DataWorker");var O=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,I.then(function(A){O.dataIsReady=!0,O.data=A,O.max=A&&A.length||0,O.type=z.getTypeOf(A),O.isPaused||O._tickAndRepeat()},function(A){O.error(A)})}z.inherits(R,B),R.prototype.cleanUp=function(){B.prototype.cleanUp.call(this),this.data=null},R.prototype.resume=function(){return!!B.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,z.delay(this._tickAndRepeat,[],this)),!0)},R.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(z.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},R.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var I=null,O=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":I=this.data.substring(this.index,O);break;case"uint8array":I=this.data.subarray(this.index,O);break;case"array":case"nodebuffer":I=this.data.slice(this.index,O)}return this.index=O,this.push({data:I,meta:{percent:this.max?this.index/this.max*100:0}})},b.exports=R},{"../utils":32,"./GenericWorker":28}],28:[function(r,b,M){function z(B){this.name=B||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}z.prototype={push:function(B){this.emit("data",B)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(B){this.emit("error",B)}return!0},error:function(B){return!this.isFinished&&(this.isPaused?this.generatedError=B:(this.isFinished=!0,this.emit("error",B),this.previous&&this.previous.error(B),this.cleanUp()),!0)},on:function(B,R){return this._listeners[B].push(R),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(B,R){if(this._listeners[B])for(var I=0;I<this._listeners[B].length;I++)this._listeners[B][I].call(this,R)},pipe:function(B){return B.registerPrevious(this)},registerPrevious:function(B){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=B.streamInfo,this.mergeStreamInfo(),this.previous=B;var R=this;return B.on("data",function(I){R.processChunk(I)}),B.on("end",function(){R.end()}),B.on("error",function(I){R.error(I)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var B=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),B=!0),this.previous&&this.previous.resume(),!B},flush:function(){},processChunk:function(B){this.push(B)},withStreamInfo:function(B,R){return this.extraStreamInfo[B]=R,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var B in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,B)&&(this.streamInfo[B]=this.extraStreamInfo[B])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var B="Worker "+this.name;return this.previous?this.previous+" -> "+B:B}},b.exports=z},{}],29:[function(r,b,M){var z=r("../utils"),B=r("./ConvertWorker"),R=r("./GenericWorker"),I=r("../base64"),O=r("../support"),A=r("../external"),T=null;if(O.nodestream)try{T=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function U(K,J){return new A.Promise(function(te,oe){var ue=[],fe=K._internalType,Le=K._outputType,Ge=K._mimeType;K.on("data",function(ze,je){ue.push(ze),J&&J(je)}).on("error",function(ze){ue=[],oe(ze)}).on("end",function(){try{var ze=(function(je,Be,_e){switch(je){case"blob":return z.newBlob(z.transformTo("arraybuffer",Be),_e);case"base64":return I.encode(Be);default:return z.transformTo(je,Be)}})(Le,(function(je,Be){var _e,He=0,tt=null,Ke=0;for(_e=0;_e<Be.length;_e++)Ke+=Be[_e].length;switch(je){case"string":return Be.join("");case"array":return Array.prototype.concat.apply([],Be);case"uint8array":for(tt=new Uint8Array(Ke),_e=0;_e<Be.length;_e++)tt.set(Be[_e],He),He+=Be[_e].length;return tt;case"nodebuffer":return Buffer.concat(Be);default:throw new Error("concat : unsupported type '"+je+"'")}})(fe,ue),Ge);te(ze)}catch(je){oe(je)}ue=[]}).resume()})}function q(K,J,te){var oe=J;switch(J){case"blob":case"arraybuffer":oe="uint8array";break;case"base64":oe="string"}try{this._internalType=oe,this._outputType=J,this._mimeType=te,z.checkSupport(oe),this._worker=K.pipe(new B(oe)),K.lock()}catch(ue){this._worker=new R("error"),this._worker.error(ue)}}q.prototype={accumulate:function(K){return U(this,K)},on:function(K,J){var te=this;return K==="data"?this._worker.on(K,function(oe){J.call(te,oe.data,oe.meta)}):this._worker.on(K,function(){z.delay(J,arguments,te)}),this},resume:function(){return z.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(K){if(z.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new T(this,{objectMode:this._outputType!=="nodebuffer"},K)}},b.exports=q},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,b,M){if(M.base64=!0,M.array=!0,M.string=!0,M.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",M.nodebuffer=typeof Buffer<"u",M.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")M.blob=!1;else{var z=new ArrayBuffer(0);try{M.blob=new Blob([z],{type:"application/zip"}).size===0}catch{try{var B=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);B.append(z),M.blob=B.getBlob("application/zip").size===0}catch{M.blob=!1}}}try{M.nodestream=!!r("readable-stream").Readable}catch{M.nodestream=!1}},{"readable-stream":16}],31:[function(r,b,M){for(var z=r("./utils"),B=r("./support"),R=r("./nodejsUtils"),I=r("./stream/GenericWorker"),O=new Array(256),A=0;A<256;A++)O[A]=252<=A?6:248<=A?5:240<=A?4:224<=A?3:192<=A?2:1;O[254]=O[254]=1;function T(){I.call(this,"utf-8 decode"),this.leftOver=null}function U(){I.call(this,"utf-8 encode")}M.utf8encode=function(q){return B.nodebuffer?R.newBufferFrom(q,"utf-8"):(function(K){var J,te,oe,ue,fe,Le=K.length,Ge=0;for(ue=0;ue<Le;ue++)(64512&(te=K.charCodeAt(ue)))==55296&&ue+1<Le&&(64512&(oe=K.charCodeAt(ue+1)))==56320&&(te=65536+(te-55296<<10)+(oe-56320),ue++),Ge+=te<128?1:te<2048?2:te<65536?3:4;for(J=B.uint8array?new Uint8Array(Ge):new Array(Ge),ue=fe=0;fe<Ge;ue++)(64512&(te=K.charCodeAt(ue)))==55296&&ue+1<Le&&(64512&(oe=K.charCodeAt(ue+1)))==56320&&(te=65536+(te-55296<<10)+(oe-56320),ue++),te<128?J[fe++]=te:(te<2048?J[fe++]=192|te>>>6:(te<65536?J[fe++]=224|te>>>12:(J[fe++]=240|te>>>18,J[fe++]=128|te>>>12&63),J[fe++]=128|te>>>6&63),J[fe++]=128|63&te);return J})(q)},M.utf8decode=function(q){return B.nodebuffer?z.transformTo("nodebuffer",q).toString("utf-8"):(function(K){var J,te,oe,ue,fe=K.length,Le=new Array(2*fe);for(J=te=0;J<fe;)if((oe=K[J++])<128)Le[te++]=oe;else if(4<(ue=O[oe]))Le[te++]=65533,J+=ue-1;else{for(oe&=ue===2?31:ue===3?15:7;1<ue&&J<fe;)oe=oe<<6|63&K[J++],ue--;1<ue?Le[te++]=65533:oe<65536?Le[te++]=oe:(oe-=65536,Le[te++]=55296|oe>>10&1023,Le[te++]=56320|1023&oe)}return Le.length!==te&&(Le.subarray?Le=Le.subarray(0,te):Le.length=te),z.applyFromCharCode(Le)})(q=z.transformTo(B.uint8array?"uint8array":"array",q))},z.inherits(T,I),T.prototype.processChunk=function(q){var K=z.transformTo(B.uint8array?"uint8array":"array",q.data);if(this.leftOver&&this.leftOver.length){if(B.uint8array){var J=K;(K=new Uint8Array(J.length+this.leftOver.length)).set(this.leftOver,0),K.set(J,this.leftOver.length)}else K=this.leftOver.concat(K);this.leftOver=null}var te=(function(ue,fe){var Le;for((fe=fe||ue.length)>ue.length&&(fe=ue.length),Le=fe-1;0<=Le&&(192&ue[Le])==128;)Le--;return Le<0||Le===0?fe:Le+O[ue[Le]]>fe?Le:fe})(K),oe=K;te!==K.length&&(B.uint8array?(oe=K.subarray(0,te),this.leftOver=K.subarray(te,K.length)):(oe=K.slice(0,te),this.leftOver=K.slice(te,K.length))),this.push({data:M.utf8decode(oe),meta:q.meta})},T.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:M.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},M.Utf8DecodeWorker=T,z.inherits(U,I),U.prototype.processChunk=function(q){this.push({data:M.utf8encode(q.data),meta:q.meta})},M.Utf8EncodeWorker=U},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,b,M){var z=r("./support"),B=r("./base64"),R=r("./nodejsUtils"),I=r("./external");function O(J){return J}function A(J,te){for(var oe=0;oe<J.length;++oe)te[oe]=255&J.charCodeAt(oe);return te}r("setimmediate"),M.newBlob=function(J,te){M.checkSupport("blob");try{return new Blob([J],{type:te})}catch{try{var oe=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return oe.append(J),oe.getBlob(te)}catch{throw new Error("Bug : can't construct the Blob.")}}};var T={stringifyByChunk:function(J,te,oe){var ue=[],fe=0,Le=J.length;if(Le<=oe)return String.fromCharCode.apply(null,J);for(;fe<Le;)te==="array"||te==="nodebuffer"?ue.push(String.fromCharCode.apply(null,J.slice(fe,Math.min(fe+oe,Le)))):ue.push(String.fromCharCode.apply(null,J.subarray(fe,Math.min(fe+oe,Le)))),fe+=oe;return ue.join("")},stringifyByChar:function(J){for(var te="",oe=0;oe<J.length;oe++)te+=String.fromCharCode(J[oe]);return te},applyCanBeUsed:{uint8array:(function(){try{return z.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return z.nodebuffer&&String.fromCharCode.apply(null,R.allocBuffer(1)).length===1}catch{return!1}})()}};function U(J){var te=65536,oe=M.getTypeOf(J),ue=!0;if(oe==="uint8array"?ue=T.applyCanBeUsed.uint8array:oe==="nodebuffer"&&(ue=T.applyCanBeUsed.nodebuffer),ue)for(;1<te;)try{return T.stringifyByChunk(J,oe,te)}catch{te=Math.floor(te/2)}return T.stringifyByChar(J)}function q(J,te){for(var oe=0;oe<J.length;oe++)te[oe]=J[oe];return te}M.applyFromCharCode=U;var K={};K.string={string:O,array:function(J){return A(J,new Array(J.length))},arraybuffer:function(J){return K.string.uint8array(J).buffer},uint8array:function(J){return A(J,new Uint8Array(J.length))},nodebuffer:function(J){return A(J,R.allocBuffer(J.length))}},K.array={string:U,array:O,arraybuffer:function(J){return new Uint8Array(J).buffer},uint8array:function(J){return new Uint8Array(J)},nodebuffer:function(J){return R.newBufferFrom(J)}},K.arraybuffer={string:function(J){return U(new Uint8Array(J))},array:function(J){return q(new Uint8Array(J),new Array(J.byteLength))},arraybuffer:O,uint8array:function(J){return new Uint8Array(J)},nodebuffer:function(J){return R.newBufferFrom(new Uint8Array(J))}},K.uint8array={string:U,array:function(J){return q(J,new Array(J.length))},arraybuffer:function(J){return J.buffer},uint8array:O,nodebuffer:function(J){return R.newBufferFrom(J)}},K.nodebuffer={string:U,array:function(J){return q(J,new Array(J.length))},arraybuffer:function(J){return K.nodebuffer.uint8array(J).buffer},uint8array:function(J){return q(J,new Uint8Array(J.length))},nodebuffer:O},M.transformTo=function(J,te){if(te=te||"",!J)return te;M.checkSupport(J);var oe=M.getTypeOf(te);return K[oe][J](te)},M.resolve=function(J){for(var te=J.split("/"),oe=[],ue=0;ue<te.length;ue++){var fe=te[ue];fe==="."||fe===""&&ue!==0&&ue!==te.length-1||(fe===".."?oe.pop():oe.push(fe))}return oe.join("/")},M.getTypeOf=function(J){return typeof J=="string"?"string":Object.prototype.toString.call(J)==="[object Array]"?"array":z.nodebuffer&&R.isBuffer(J)?"nodebuffer":z.uint8array&&J instanceof Uint8Array?"uint8array":z.arraybuffer&&J instanceof ArrayBuffer?"arraybuffer":void 0},M.checkSupport=function(J){if(!z[J.toLowerCase()])throw new Error(J+" is not supported by this platform")},M.MAX_VALUE_16BITS=65535,M.MAX_VALUE_32BITS=-1,M.pretty=function(J){var te,oe,ue="";for(oe=0;oe<(J||"").length;oe++)ue+="\\x"+((te=J.charCodeAt(oe))<16?"0":"")+te.toString(16).toUpperCase();return ue},M.delay=function(J,te,oe){setImmediate(function(){J.apply(oe||null,te||[])})},M.inherits=function(J,te){function oe(){}oe.prototype=te.prototype,J.prototype=new oe},M.extend=function(){var J,te,oe={};for(J=0;J<arguments.length;J++)for(te in arguments[J])Object.prototype.hasOwnProperty.call(arguments[J],te)&&oe[te]===void 0&&(oe[te]=arguments[J][te]);return oe},M.prepareContent=function(J,te,oe,ue,fe){return I.Promise.resolve(te).then(function(Le){return z.blob&&(Le instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(Le))!==-1)&&typeof FileReader<"u"?new I.Promise(function(Ge,ze){var je=new FileReader;je.onload=function(Be){Ge(Be.target.result)},je.onerror=function(Be){ze(Be.target.error)},je.readAsArrayBuffer(Le)}):Le}).then(function(Le){var Ge=M.getTypeOf(Le);return Ge?(Ge==="arraybuffer"?Le=M.transformTo("uint8array",Le):Ge==="string"&&(fe?Le=B.decode(Le):oe&&ue!==!0&&(Le=(function(ze){return A(ze,z.uint8array?new Uint8Array(ze.length):new Array(ze.length))})(Le))),Le):I.Promise.reject(new Error("Can't read the data of '"+J+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,b,M){var z=r("./reader/readerFor"),B=r("./utils"),R=r("./signature"),I=r("./zipEntry"),O=r("./support");function A(T){this.files=[],this.loadOptions=T}A.prototype={checkSignature:function(T){if(!this.reader.readAndCheckSignature(T)){this.reader.index-=4;var U=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+B.pretty(U)+", expected "+B.pretty(T)+")")}},isSignature:function(T,U){var q=this.reader.index;this.reader.setIndex(T);var K=this.reader.readString(4)===U;return this.reader.setIndex(q),K},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var T=this.reader.readData(this.zipCommentLength),U=O.uint8array?"uint8array":"array",q=B.transformTo(U,T);this.zipComment=this.loadOptions.decodeFileName(q)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var T,U,q,K=this.zip64EndOfCentralSize-44;0<K;)T=this.reader.readInt(2),U=this.reader.readInt(4),q=this.reader.readData(U),this.zip64ExtensibleData[T]={id:T,length:U,value:q}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var T,U;for(T=0;T<this.files.length;T++)U=this.files[T],this.reader.setIndex(U.localHeaderOffset),this.checkSignature(R.LOCAL_FILE_HEADER),U.readLocalPart(this.reader),U.handleUTF8(),U.processAttributes()},readCentralDir:function(){var T;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(R.CENTRAL_FILE_HEADER);)(T=new I({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(T);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var T=this.reader.lastIndexOfSignature(R.CENTRAL_DIRECTORY_END);if(T<0)throw this.isSignature(0,R.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(T);var U=T;if(this.checkSignature(R.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===B.MAX_VALUE_16BITS||this.diskWithCentralDirStart===B.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===B.MAX_VALUE_16BITS||this.centralDirRecords===B.MAX_VALUE_16BITS||this.centralDirSize===B.MAX_VALUE_32BITS||this.centralDirOffset===B.MAX_VALUE_32BITS){if(this.zip64=!0,(T=this.reader.lastIndexOfSignature(R.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(T),this.checkSignature(R.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,R.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(R.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(R.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var q=this.centralDirOffset+this.centralDirSize;this.zip64&&(q+=20,q+=12+this.zip64EndOfCentralSize);var K=U-q;if(0<K)this.isSignature(U,R.CENTRAL_FILE_HEADER)||(this.reader.zero=K);else if(K<0)throw new Error("Corrupted zip: missing "+Math.abs(K)+" bytes.")},prepareReader:function(T){this.reader=z(T)},load:function(T){this.prepareReader(T),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},b.exports=A},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,b,M){var z=r("./reader/readerFor"),B=r("./utils"),R=r("./compressedObject"),I=r("./crc32"),O=r("./utf8"),A=r("./compressions"),T=r("./support");function U(q,K){this.options=q,this.loadOptions=K}U.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(q){var K,J;if(q.skip(22),this.fileNameLength=q.readInt(2),J=q.readInt(2),this.fileName=q.readData(this.fileNameLength),q.skip(J),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((K=(function(te){for(var oe in A)if(Object.prototype.hasOwnProperty.call(A,oe)&&A[oe].magic===te)return A[oe];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+B.pretty(this.compressionMethod)+" unknown (inner file : "+B.transformTo("string",this.fileName)+")");this.decompressed=new R(this.compressedSize,this.uncompressedSize,this.crc32,K,q.readData(this.compressedSize))},readCentralPart:function(q){this.versionMadeBy=q.readInt(2),q.skip(2),this.bitFlag=q.readInt(2),this.compressionMethod=q.readString(2),this.date=q.readDate(),this.crc32=q.readInt(4),this.compressedSize=q.readInt(4),this.uncompressedSize=q.readInt(4);var K=q.readInt(2);if(this.extraFieldsLength=q.readInt(2),this.fileCommentLength=q.readInt(2),this.diskNumberStart=q.readInt(2),this.internalFileAttributes=q.readInt(2),this.externalFileAttributes=q.readInt(4),this.localHeaderOffset=q.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");q.skip(K),this.readExtraFields(q),this.parseZIP64ExtraField(q),this.fileComment=q.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var q=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),q==0&&(this.dosPermissions=63&this.externalFileAttributes),q==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var q=z(this.extraFields[1].value);this.uncompressedSize===B.MAX_VALUE_32BITS&&(this.uncompressedSize=q.readInt(8)),this.compressedSize===B.MAX_VALUE_32BITS&&(this.compressedSize=q.readInt(8)),this.localHeaderOffset===B.MAX_VALUE_32BITS&&(this.localHeaderOffset=q.readInt(8)),this.diskNumberStart===B.MAX_VALUE_32BITS&&(this.diskNumberStart=q.readInt(4))}},readExtraFields:function(q){var K,J,te,oe=q.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});q.index+4<oe;)K=q.readInt(2),J=q.readInt(2),te=q.readData(J),this.extraFields[K]={id:K,length:J,value:te};q.setIndex(oe)},handleUTF8:function(){var q=T.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=O.utf8decode(this.fileName),this.fileCommentStr=O.utf8decode(this.fileComment);else{var K=this.findExtraFieldUnicodePath();if(K!==null)this.fileNameStr=K;else{var J=B.transformTo(q,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(J)}var te=this.findExtraFieldUnicodeComment();if(te!==null)this.fileCommentStr=te;else{var oe=B.transformTo(q,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(oe)}}},findExtraFieldUnicodePath:function(){var q=this.extraFields[28789];if(q){var K=z(q.value);return K.readInt(1)!==1||I(this.fileName)!==K.readInt(4)?null:O.utf8decode(K.readData(q.length-5))}return null},findExtraFieldUnicodeComment:function(){var q=this.extraFields[25461];if(q){var K=z(q.value);return K.readInt(1)!==1||I(this.fileComment)!==K.readInt(4)?null:O.utf8decode(K.readData(q.length-5))}return null}},b.exports=U},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,b,M){function z(K,J,te){this.name=K,this.dir=te.dir,this.date=te.date,this.comment=te.comment,this.unixPermissions=te.unixPermissions,this.dosPermissions=te.dosPermissions,this._data=J,this._dataBinary=te.binary,this.options={compression:te.compression,compressionOptions:te.compressionOptions}}var B=r("./stream/StreamHelper"),R=r("./stream/DataWorker"),I=r("./utf8"),O=r("./compressedObject"),A=r("./stream/GenericWorker");z.prototype={internalStream:function(K){var J=null,te="string";try{if(!K)throw new Error("No output type specified.");var oe=(te=K.toLowerCase())==="string"||te==="text";te!=="binarystring"&&te!=="text"||(te="string"),J=this._decompressWorker();var ue=!this._dataBinary;ue&&!oe&&(J=J.pipe(new I.Utf8EncodeWorker)),!ue&&oe&&(J=J.pipe(new I.Utf8DecodeWorker))}catch(fe){(J=new A("error")).error(fe)}return new B(J,te,"")},async:function(K,J){return this.internalStream(K).accumulate(J)},nodeStream:function(K,J){return this.internalStream(K||"nodebuffer").toNodejsStream(J)},_compressWorker:function(K,J){if(this._data instanceof O&&this._data.compression.magic===K.magic)return this._data.getCompressedWorker();var te=this._decompressWorker();return this._dataBinary||(te=te.pipe(new I.Utf8EncodeWorker)),O.createWorkerFrom(te,K,J)},_decompressWorker:function(){return this._data instanceof O?this._data.getContentWorker():this._data instanceof A?this._data:new R(this._data)}};for(var T=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],U=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},q=0;q<T.length;q++)z.prototype[T[q]]=U;b.exports=z},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,b,M){(function(z){var B,R,I=z.MutationObserver||z.WebKitMutationObserver;if(I){var O=0,A=new I(K),T=z.document.createTextNode("");A.observe(T,{characterData:!0}),B=function(){T.data=O=++O%2}}else if(z.setImmediate||z.MessageChannel===void 0)B="document"in z&&"onreadystatechange"in z.document.createElement("script")?function(){var J=z.document.createElement("script");J.onreadystatechange=function(){K(),J.onreadystatechange=null,J.parentNode.removeChild(J),J=null},z.document.documentElement.appendChild(J)}:function(){setTimeout(K,0)};else{var U=new z.MessageChannel;U.port1.onmessage=K,B=function(){U.port2.postMessage(0)}}var q=[];function K(){var J,te;R=!0;for(var oe=q.length;oe;){for(te=q,q=[],J=-1;++J<oe;)te[J]();oe=q.length}R=!1}b.exports=function(J){q.push(J)!==1||R||B()}}).call(this,typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,b,M){var z=r("immediate");function B(){}var R={},I=["REJECTED"],O=["FULFILLED"],A=["PENDING"];function T(oe){if(typeof oe!="function")throw new TypeError("resolver must be a function");this.state=A,this.queue=[],this.outcome=void 0,oe!==B&&J(this,oe)}function U(oe,ue,fe){this.promise=oe,typeof ue=="function"&&(this.onFulfilled=ue,this.callFulfilled=this.otherCallFulfilled),typeof fe=="function"&&(this.onRejected=fe,this.callRejected=this.otherCallRejected)}function q(oe,ue,fe){z(function(){var Le;try{Le=ue(fe)}catch(Ge){return R.reject(oe,Ge)}Le===oe?R.reject(oe,new TypeError("Cannot resolve promise with itself")):R.resolve(oe,Le)})}function K(oe){var ue=oe&&oe.then;if(oe&&(typeof oe=="object"||typeof oe=="function")&&typeof ue=="function")return function(){ue.apply(oe,arguments)}}function J(oe,ue){var fe=!1;function Le(je){fe||(fe=!0,R.reject(oe,je))}function Ge(je){fe||(fe=!0,R.resolve(oe,je))}var ze=te(function(){ue(Ge,Le)});ze.status==="error"&&Le(ze.value)}function te(oe,ue){var fe={};try{fe.value=oe(ue),fe.status="success"}catch(Le){fe.status="error",fe.value=Le}return fe}(b.exports=T).prototype.finally=function(oe){if(typeof oe!="function")return this;var ue=this.constructor;return this.then(function(fe){return ue.resolve(oe()).then(function(){return fe})},function(fe){return ue.resolve(oe()).then(function(){throw fe})})},T.prototype.catch=function(oe){return this.then(null,oe)},T.prototype.then=function(oe,ue){if(typeof oe!="function"&&this.state===O||typeof ue!="function"&&this.state===I)return this;var fe=new this.constructor(B);return this.state!==A?q(fe,this.state===O?oe:ue,this.outcome):this.queue.push(new U(fe,oe,ue)),fe},U.prototype.callFulfilled=function(oe){R.resolve(this.promise,oe)},U.prototype.otherCallFulfilled=function(oe){q(this.promise,this.onFulfilled,oe)},U.prototype.callRejected=function(oe){R.reject(this.promise,oe)},U.prototype.otherCallRejected=function(oe){q(this.promise,this.onRejected,oe)},R.resolve=function(oe,ue){var fe=te(K,ue);if(fe.status==="error")return R.reject(oe,fe.value);var Le=fe.value;if(Le)J(oe,Le);else{oe.state=O,oe.outcome=ue;for(var Ge=-1,ze=oe.queue.length;++Ge<ze;)oe.queue[Ge].callFulfilled(ue)}return oe},R.reject=function(oe,ue){oe.state=I,oe.outcome=ue;for(var fe=-1,Le=oe.queue.length;++fe<Le;)oe.queue[fe].callRejected(ue);return oe},T.resolve=function(oe){return oe instanceof this?oe:R.resolve(new this(B),oe)},T.reject=function(oe){var ue=new this(B);return R.reject(ue,oe)},T.all=function(oe){var ue=this;if(Object.prototype.toString.call(oe)!=="[object Array]")return this.reject(new TypeError("must be an array"));var fe=oe.length,Le=!1;if(!fe)return this.resolve([]);for(var Ge=new Array(fe),ze=0,je=-1,Be=new this(B);++je<fe;)_e(oe[je],je);return Be;function _e(He,tt){ue.resolve(He).then(function(Ke){Ge[tt]=Ke,++ze!==fe||Le||(Le=!0,R.resolve(Be,Ge))},function(Ke){Le||(Le=!0,R.reject(Be,Ke))})}},T.race=function(oe){var ue=this;if(Object.prototype.toString.call(oe)!=="[object Array]")return this.reject(new TypeError("must be an array"));var fe=oe.length,Le=!1;if(!fe)return this.resolve([]);for(var Ge=-1,ze=new this(B);++Ge<fe;)je=oe[Ge],ue.resolve(je).then(function(Be){Le||(Le=!0,R.resolve(ze,Be))},function(Be){Le||(Le=!0,R.reject(ze,Be))});var je;return ze}},{immediate:36}],38:[function(r,b,M){var z={};(0,r("./lib/utils/common").assign)(z,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),b.exports=z},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,b,M){var z=r("./zlib/deflate"),B=r("./utils/common"),R=r("./utils/strings"),I=r("./zlib/messages"),O=r("./zlib/zstream"),A=Object.prototype.toString,T=0,U=-1,q=0,K=8;function J(oe){if(!(this instanceof J))return new J(oe);this.options=B.assign({level:U,method:K,chunkSize:16384,windowBits:15,memLevel:8,strategy:q,to:""},oe||{});var ue=this.options;ue.raw&&0<ue.windowBits?ue.windowBits=-ue.windowBits:ue.gzip&&0<ue.windowBits&&ue.windowBits<16&&(ue.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new O,this.strm.avail_out=0;var fe=z.deflateInit2(this.strm,ue.level,ue.method,ue.windowBits,ue.memLevel,ue.strategy);if(fe!==T)throw new Error(I[fe]);if(ue.header&&z.deflateSetHeader(this.strm,ue.header),ue.dictionary){var Le;if(Le=typeof ue.dictionary=="string"?R.string2buf(ue.dictionary):A.call(ue.dictionary)==="[object ArrayBuffer]"?new Uint8Array(ue.dictionary):ue.dictionary,(fe=z.deflateSetDictionary(this.strm,Le))!==T)throw new Error(I[fe]);this._dict_set=!0}}function te(oe,ue){var fe=new J(ue);if(fe.push(oe,!0),fe.err)throw fe.msg||I[fe.err];return fe.result}J.prototype.push=function(oe,ue){var fe,Le,Ge=this.strm,ze=this.options.chunkSize;if(this.ended)return!1;Le=ue===~~ue?ue:ue===!0?4:0,typeof oe=="string"?Ge.input=R.string2buf(oe):A.call(oe)==="[object ArrayBuffer]"?Ge.input=new Uint8Array(oe):Ge.input=oe,Ge.next_in=0,Ge.avail_in=Ge.input.length;do{if(Ge.avail_out===0&&(Ge.output=new B.Buf8(ze),Ge.next_out=0,Ge.avail_out=ze),(fe=z.deflate(Ge,Le))!==1&&fe!==T)return this.onEnd(fe),!(this.ended=!0);Ge.avail_out!==0&&(Ge.avail_in!==0||Le!==4&&Le!==2)||(this.options.to==="string"?this.onData(R.buf2binstring(B.shrinkBuf(Ge.output,Ge.next_out))):this.onData(B.shrinkBuf(Ge.output,Ge.next_out)))}while((0<Ge.avail_in||Ge.avail_out===0)&&fe!==1);return Le===4?(fe=z.deflateEnd(this.strm),this.onEnd(fe),this.ended=!0,fe===T):Le!==2||(this.onEnd(T),!(Ge.avail_out=0))},J.prototype.onData=function(oe){this.chunks.push(oe)},J.prototype.onEnd=function(oe){oe===T&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=B.flattenChunks(this.chunks)),this.chunks=[],this.err=oe,this.msg=this.strm.msg},M.Deflate=J,M.deflate=te,M.deflateRaw=function(oe,ue){return(ue=ue||{}).raw=!0,te(oe,ue)},M.gzip=function(oe,ue){return(ue=ue||{}).gzip=!0,te(oe,ue)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,b,M){var z=r("./zlib/inflate"),B=r("./utils/common"),R=r("./utils/strings"),I=r("./zlib/constants"),O=r("./zlib/messages"),A=r("./zlib/zstream"),T=r("./zlib/gzheader"),U=Object.prototype.toString;function q(J){if(!(this instanceof q))return new q(J);this.options=B.assign({chunkSize:16384,windowBits:0,to:""},J||{});var te=this.options;te.raw&&0<=te.windowBits&&te.windowBits<16&&(te.windowBits=-te.windowBits,te.windowBits===0&&(te.windowBits=-15)),!(0<=te.windowBits&&te.windowBits<16)||J&&J.windowBits||(te.windowBits+=32),15<te.windowBits&&te.windowBits<48&&(15&te.windowBits)==0&&(te.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new A,this.strm.avail_out=0;var oe=z.inflateInit2(this.strm,te.windowBits);if(oe!==I.Z_OK)throw new Error(O[oe]);this.header=new T,z.inflateGetHeader(this.strm,this.header)}function K(J,te){var oe=new q(te);if(oe.push(J,!0),oe.err)throw oe.msg||O[oe.err];return oe.result}q.prototype.push=function(J,te){var oe,ue,fe,Le,Ge,ze,je=this.strm,Be=this.options.chunkSize,_e=this.options.dictionary,He=!1;if(this.ended)return!1;ue=te===~~te?te:te===!0?I.Z_FINISH:I.Z_NO_FLUSH,typeof J=="string"?je.input=R.binstring2buf(J):U.call(J)==="[object ArrayBuffer]"?je.input=new Uint8Array(J):je.input=J,je.next_in=0,je.avail_in=je.input.length;do{if(je.avail_out===0&&(je.output=new B.Buf8(Be),je.next_out=0,je.avail_out=Be),(oe=z.inflate(je,I.Z_NO_FLUSH))===I.Z_NEED_DICT&&_e&&(ze=typeof _e=="string"?R.string2buf(_e):U.call(_e)==="[object ArrayBuffer]"?new Uint8Array(_e):_e,oe=z.inflateSetDictionary(this.strm,ze)),oe===I.Z_BUF_ERROR&&He===!0&&(oe=I.Z_OK,He=!1),oe!==I.Z_STREAM_END&&oe!==I.Z_OK)return this.onEnd(oe),!(this.ended=!0);je.next_out&&(je.avail_out!==0&&oe!==I.Z_STREAM_END&&(je.avail_in!==0||ue!==I.Z_FINISH&&ue!==I.Z_SYNC_FLUSH)||(this.options.to==="string"?(fe=R.utf8border(je.output,je.next_out),Le=je.next_out-fe,Ge=R.buf2string(je.output,fe),je.next_out=Le,je.avail_out=Be-Le,Le&&B.arraySet(je.output,je.output,fe,Le,0),this.onData(Ge)):this.onData(B.shrinkBuf(je.output,je.next_out)))),je.avail_in===0&&je.avail_out===0&&(He=!0)}while((0<je.avail_in||je.avail_out===0)&&oe!==I.Z_STREAM_END);return oe===I.Z_STREAM_END&&(ue=I.Z_FINISH),ue===I.Z_FINISH?(oe=z.inflateEnd(this.strm),this.onEnd(oe),this.ended=!0,oe===I.Z_OK):ue!==I.Z_SYNC_FLUSH||(this.onEnd(I.Z_OK),!(je.avail_out=0))},q.prototype.onData=function(J){this.chunks.push(J)},q.prototype.onEnd=function(J){J===I.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=B.flattenChunks(this.chunks)),this.chunks=[],this.err=J,this.msg=this.strm.msg},M.Inflate=q,M.inflate=K,M.inflateRaw=function(J,te){return(te=te||{}).raw=!0,K(J,te)},M.ungzip=K},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,b,M){var z=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";M.assign=function(I){for(var O=Array.prototype.slice.call(arguments,1);O.length;){var A=O.shift();if(A){if(typeof A!="object")throw new TypeError(A+"must be non-object");for(var T in A)A.hasOwnProperty(T)&&(I[T]=A[T])}}return I},M.shrinkBuf=function(I,O){return I.length===O?I:I.subarray?I.subarray(0,O):(I.length=O,I)};var B={arraySet:function(I,O,A,T,U){if(O.subarray&&I.subarray)I.set(O.subarray(A,A+T),U);else for(var q=0;q<T;q++)I[U+q]=O[A+q]},flattenChunks:function(I){var O,A,T,U,q,K;for(O=T=0,A=I.length;O<A;O++)T+=I[O].length;for(K=new Uint8Array(T),O=U=0,A=I.length;O<A;O++)q=I[O],K.set(q,U),U+=q.length;return K}},R={arraySet:function(I,O,A,T,U){for(var q=0;q<T;q++)I[U+q]=O[A+q]},flattenChunks:function(I){return[].concat.apply([],I)}};M.setTyped=function(I){I?(M.Buf8=Uint8Array,M.Buf16=Uint16Array,M.Buf32=Int32Array,M.assign(M,B)):(M.Buf8=Array,M.Buf16=Array,M.Buf32=Array,M.assign(M,R))},M.setTyped(z)},{}],42:[function(r,b,M){var z=r("./common"),B=!0,R=!0;try{String.fromCharCode.apply(null,[0])}catch{B=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{R=!1}for(var I=new z.Buf8(256),O=0;O<256;O++)I[O]=252<=O?6:248<=O?5:240<=O?4:224<=O?3:192<=O?2:1;function A(T,U){if(U<65537&&(T.subarray&&R||!T.subarray&&B))return String.fromCharCode.apply(null,z.shrinkBuf(T,U));for(var q="",K=0;K<U;K++)q+=String.fromCharCode(T[K]);return q}I[254]=I[254]=1,M.string2buf=function(T){var U,q,K,J,te,oe=T.length,ue=0;for(J=0;J<oe;J++)(64512&(q=T.charCodeAt(J)))==55296&&J+1<oe&&(64512&(K=T.charCodeAt(J+1)))==56320&&(q=65536+(q-55296<<10)+(K-56320),J++),ue+=q<128?1:q<2048?2:q<65536?3:4;for(U=new z.Buf8(ue),J=te=0;te<ue;J++)(64512&(q=T.charCodeAt(J)))==55296&&J+1<oe&&(64512&(K=T.charCodeAt(J+1)))==56320&&(q=65536+(q-55296<<10)+(K-56320),J++),q<128?U[te++]=q:(q<2048?U[te++]=192|q>>>6:(q<65536?U[te++]=224|q>>>12:(U[te++]=240|q>>>18,U[te++]=128|q>>>12&63),U[te++]=128|q>>>6&63),U[te++]=128|63&q);return U},M.buf2binstring=function(T){return A(T,T.length)},M.binstring2buf=function(T){for(var U=new z.Buf8(T.length),q=0,K=U.length;q<K;q++)U[q]=T.charCodeAt(q);return U},M.buf2string=function(T,U){var q,K,J,te,oe=U||T.length,ue=new Array(2*oe);for(q=K=0;q<oe;)if((J=T[q++])<128)ue[K++]=J;else if(4<(te=I[J]))ue[K++]=65533,q+=te-1;else{for(J&=te===2?31:te===3?15:7;1<te&&q<oe;)J=J<<6|63&T[q++],te--;1<te?ue[K++]=65533:J<65536?ue[K++]=J:(J-=65536,ue[K++]=55296|J>>10&1023,ue[K++]=56320|1023&J)}return A(ue,K)},M.utf8border=function(T,U){var q;for((U=U||T.length)>T.length&&(U=T.length),q=U-1;0<=q&&(192&T[q])==128;)q--;return q<0||q===0?U:q+I[T[q]]>U?q:U}},{"./common":41}],43:[function(r,b,M){b.exports=function(z,B,R,I){for(var O=65535&z|0,A=z>>>16&65535|0,T=0;R!==0;){for(R-=T=2e3<R?2e3:R;A=A+(O=O+B[I++]|0)|0,--T;);O%=65521,A%=65521}return O|A<<16|0}},{}],44:[function(r,b,M){b.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,b,M){var z=(function(){for(var B,R=[],I=0;I<256;I++){B=I;for(var O=0;O<8;O++)B=1&B?3988292384^B>>>1:B>>>1;R[I]=B}return R})();b.exports=function(B,R,I,O){var A=z,T=O+I;B^=-1;for(var U=O;U<T;U++)B=B>>>8^A[255&(B^R[U])];return-1^B}},{}],46:[function(r,b,M){var z,B=r("../utils/common"),R=r("./trees"),I=r("./adler32"),O=r("./crc32"),A=r("./messages"),T=0,U=4,q=0,K=-2,J=-1,te=4,oe=2,ue=8,fe=9,Le=286,Ge=30,ze=19,je=2*Le+1,Be=15,_e=3,He=258,tt=He+_e+1,Ke=42,Ze=113,Qe=1,vt=2,pt=3,ut=4;function Mt(rt,ur){return rt.msg=A[ur],ur}function bt(rt){return(rt<<1)-(4<rt?9:0)}function ar(rt){for(var ur=rt.length;0<=--ur;)rt[ur]=0}function dt(rt){var ur=rt.state,tr=ur.pending;tr>rt.avail_out&&(tr=rt.avail_out),tr!==0&&(B.arraySet(rt.output,ur.pending_buf,ur.pending_out,tr,rt.next_out),rt.next_out+=tr,ur.pending_out+=tr,rt.total_out+=tr,rt.avail_out-=tr,ur.pending-=tr,ur.pending===0&&(ur.pending_out=0))}function yt(rt,ur){R._tr_flush_block(rt,0<=rt.block_start?rt.block_start:-1,rt.strstart-rt.block_start,ur),rt.block_start=rt.strstart,dt(rt.strm)}function Gt(rt,ur){rt.pending_buf[rt.pending++]=ur}function Bt(rt,ur){rt.pending_buf[rt.pending++]=ur>>>8&255,rt.pending_buf[rt.pending++]=255&ur}function Dt(rt,ur){var tr,Ft,Jt=rt.max_chain_length,et=rt.strstart,gt=rt.prev_length,Et=rt.nice_match,Xt=rt.strstart>rt.w_size-tt?rt.strstart-(rt.w_size-tt):0,mr=rt.window,Cr=rt.w_mask,Dr=rt.prev,_n=rt.strstart+He,In=mr[et+gt-1],Fn=mr[et+gt];rt.prev_length>=rt.good_match&&(Jt>>=2),Et>rt.lookahead&&(Et=rt.lookahead);do if(mr[(tr=ur)+gt]===Fn&&mr[tr+gt-1]===In&&mr[tr]===mr[et]&&mr[++tr]===mr[et+1]){et+=2,tr++;do;while(mr[++et]===mr[++tr]&&mr[++et]===mr[++tr]&&mr[++et]===mr[++tr]&&mr[++et]===mr[++tr]&&mr[++et]===mr[++tr]&&mr[++et]===mr[++tr]&&mr[++et]===mr[++tr]&&mr[++et]===mr[++tr]&&et<_n);if(Ft=He-(_n-et),et=_n-He,gt<Ft){if(rt.match_start=ur,Et<=(gt=Ft))break;In=mr[et+gt-1],Fn=mr[et+gt]}}while((ur=Dr[ur&Cr])>Xt&&--Jt!=0);return gt<=rt.lookahead?gt:rt.lookahead}function Ct(rt){var ur,tr,Ft,Jt,et,gt,Et,Xt,mr,Cr,Dr=rt.w_size;do{if(Jt=rt.window_size-rt.lookahead-rt.strstart,rt.strstart>=Dr+(Dr-tt)){for(B.arraySet(rt.window,rt.window,Dr,Dr,0),rt.match_start-=Dr,rt.strstart-=Dr,rt.block_start-=Dr,ur=tr=rt.hash_size;Ft=rt.head[--ur],rt.head[ur]=Dr<=Ft?Ft-Dr:0,--tr;);for(ur=tr=Dr;Ft=rt.prev[--ur],rt.prev[ur]=Dr<=Ft?Ft-Dr:0,--tr;);Jt+=Dr}if(rt.strm.avail_in===0)break;if(gt=rt.strm,Et=rt.window,Xt=rt.strstart+rt.lookahead,mr=Jt,Cr=void 0,Cr=gt.avail_in,mr<Cr&&(Cr=mr),tr=Cr===0?0:(gt.avail_in-=Cr,B.arraySet(Et,gt.input,gt.next_in,Cr,Xt),gt.state.wrap===1?gt.adler=I(gt.adler,Et,Cr,Xt):gt.state.wrap===2&&(gt.adler=O(gt.adler,Et,Cr,Xt)),gt.next_in+=Cr,gt.total_in+=Cr,Cr),rt.lookahead+=tr,rt.lookahead+rt.insert>=_e)for(et=rt.strstart-rt.insert,rt.ins_h=rt.window[et],rt.ins_h=(rt.ins_h<<rt.hash_shift^rt.window[et+1])&rt.hash_mask;rt.insert&&(rt.ins_h=(rt.ins_h<<rt.hash_shift^rt.window[et+_e-1])&rt.hash_mask,rt.prev[et&rt.w_mask]=rt.head[rt.ins_h],rt.head[rt.ins_h]=et,et++,rt.insert--,!(rt.lookahead+rt.insert<_e)););}while(rt.lookahead<tt&&rt.strm.avail_in!==0)}function It(rt,ur){for(var tr,Ft;;){if(rt.lookahead<tt){if(Ct(rt),rt.lookahead<tt&&ur===T)return Qe;if(rt.lookahead===0)break}if(tr=0,rt.lookahead>=_e&&(rt.ins_h=(rt.ins_h<<rt.hash_shift^rt.window[rt.strstart+_e-1])&rt.hash_mask,tr=rt.prev[rt.strstart&rt.w_mask]=rt.head[rt.ins_h],rt.head[rt.ins_h]=rt.strstart),tr!==0&&rt.strstart-tr<=rt.w_size-tt&&(rt.match_length=Dt(rt,tr)),rt.match_length>=_e)if(Ft=R._tr_tally(rt,rt.strstart-rt.match_start,rt.match_length-_e),rt.lookahead-=rt.match_length,rt.match_length<=rt.max_lazy_match&&rt.lookahead>=_e){for(rt.match_length--;rt.strstart++,rt.ins_h=(rt.ins_h<<rt.hash_shift^rt.window[rt.strstart+_e-1])&rt.hash_mask,tr=rt.prev[rt.strstart&rt.w_mask]=rt.head[rt.ins_h],rt.head[rt.ins_h]=rt.strstart,--rt.match_length!=0;);rt.strstart++}else rt.strstart+=rt.match_length,rt.match_length=0,rt.ins_h=rt.window[rt.strstart],rt.ins_h=(rt.ins_h<<rt.hash_shift^rt.window[rt.strstart+1])&rt.hash_mask;else Ft=R._tr_tally(rt,0,rt.window[rt.strstart]),rt.lookahead--,rt.strstart++;if(Ft&&(yt(rt,!1),rt.strm.avail_out===0))return Qe}return rt.insert=rt.strstart<_e-1?rt.strstart:_e-1,ur===U?(yt(rt,!0),rt.strm.avail_out===0?pt:ut):rt.last_lit&&(yt(rt,!1),rt.strm.avail_out===0)?Qe:vt}function lr(rt,ur){for(var tr,Ft,Jt;;){if(rt.lookahead<tt){if(Ct(rt),rt.lookahead<tt&&ur===T)return Qe;if(rt.lookahead===0)break}if(tr=0,rt.lookahead>=_e&&(rt.ins_h=(rt.ins_h<<rt.hash_shift^rt.window[rt.strstart+_e-1])&rt.hash_mask,tr=rt.prev[rt.strstart&rt.w_mask]=rt.head[rt.ins_h],rt.head[rt.ins_h]=rt.strstart),rt.prev_length=rt.match_length,rt.prev_match=rt.match_start,rt.match_length=_e-1,tr!==0&&rt.prev_length<rt.max_lazy_match&&rt.strstart-tr<=rt.w_size-tt&&(rt.match_length=Dt(rt,tr),rt.match_length<=5&&(rt.strategy===1||rt.match_length===_e&&4096<rt.strstart-rt.match_start)&&(rt.match_length=_e-1)),rt.prev_length>=_e&&rt.match_length<=rt.prev_length){for(Jt=rt.strstart+rt.lookahead-_e,Ft=R._tr_tally(rt,rt.strstart-1-rt.prev_match,rt.prev_length-_e),rt.lookahead-=rt.prev_length-1,rt.prev_length-=2;++rt.strstart<=Jt&&(rt.ins_h=(rt.ins_h<<rt.hash_shift^rt.window[rt.strstart+_e-1])&rt.hash_mask,tr=rt.prev[rt.strstart&rt.w_mask]=rt.head[rt.ins_h],rt.head[rt.ins_h]=rt.strstart),--rt.prev_length!=0;);if(rt.match_available=0,rt.match_length=_e-1,rt.strstart++,Ft&&(yt(rt,!1),rt.strm.avail_out===0))return Qe}else if(rt.match_available){if((Ft=R._tr_tally(rt,0,rt.window[rt.strstart-1]))&&yt(rt,!1),rt.strstart++,rt.lookahead--,rt.strm.avail_out===0)return Qe}else rt.match_available=1,rt.strstart++,rt.lookahead--}return rt.match_available&&(Ft=R._tr_tally(rt,0,rt.window[rt.strstart-1]),rt.match_available=0),rt.insert=rt.strstart<_e-1?rt.strstart:_e-1,ur===U?(yt(rt,!0),rt.strm.avail_out===0?pt:ut):rt.last_lit&&(yt(rt,!1),rt.strm.avail_out===0)?Qe:vt}function Je(rt,ur,tr,Ft,Jt){this.good_length=rt,this.max_lazy=ur,this.nice_length=tr,this.max_chain=Ft,this.func=Jt}function Ve(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=ue,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new B.Buf16(2*je),this.dyn_dtree=new B.Buf16(2*(2*Ge+1)),this.bl_tree=new B.Buf16(2*(2*ze+1)),ar(this.dyn_ltree),ar(this.dyn_dtree),ar(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new B.Buf16(Be+1),this.heap=new B.Buf16(2*Le+1),ar(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new B.Buf16(2*Le+1),ar(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function st(rt){var ur;return rt&&rt.state?(rt.total_in=rt.total_out=0,rt.data_type=oe,(ur=rt.state).pending=0,ur.pending_out=0,ur.wrap<0&&(ur.wrap=-ur.wrap),ur.status=ur.wrap?Ke:Ze,rt.adler=ur.wrap===2?0:1,ur.last_flush=T,R._tr_init(ur),q):Mt(rt,K)}function it(rt){var ur=st(rt);return ur===q&&(function(tr){tr.window_size=2*tr.w_size,ar(tr.head),tr.max_lazy_match=z[tr.level].max_lazy,tr.good_match=z[tr.level].good_length,tr.nice_match=z[tr.level].nice_length,tr.max_chain_length=z[tr.level].max_chain,tr.strstart=0,tr.block_start=0,tr.lookahead=0,tr.insert=0,tr.match_length=tr.prev_length=_e-1,tr.match_available=0,tr.ins_h=0})(rt.state),ur}function Wt(rt,ur,tr,Ft,Jt,et){if(!rt)return K;var gt=1;if(ur===J&&(ur=6),Ft<0?(gt=0,Ft=-Ft):15<Ft&&(gt=2,Ft-=16),Jt<1||fe<Jt||tr!==ue||Ft<8||15<Ft||ur<0||9<ur||et<0||te<et)return Mt(rt,K);Ft===8&&(Ft=9);var Et=new Ve;return(rt.state=Et).strm=rt,Et.wrap=gt,Et.gzhead=null,Et.w_bits=Ft,Et.w_size=1<<Et.w_bits,Et.w_mask=Et.w_size-1,Et.hash_bits=Jt+7,Et.hash_size=1<<Et.hash_bits,Et.hash_mask=Et.hash_size-1,Et.hash_shift=~~((Et.hash_bits+_e-1)/_e),Et.window=new B.Buf8(2*Et.w_size),Et.head=new B.Buf16(Et.hash_size),Et.prev=new B.Buf16(Et.w_size),Et.lit_bufsize=1<<Jt+6,Et.pending_buf_size=4*Et.lit_bufsize,Et.pending_buf=new B.Buf8(Et.pending_buf_size),Et.d_buf=1*Et.lit_bufsize,Et.l_buf=3*Et.lit_bufsize,Et.level=ur,Et.strategy=et,Et.method=tr,it(rt)}z=[new Je(0,0,0,0,function(rt,ur){var tr=65535;for(tr>rt.pending_buf_size-5&&(tr=rt.pending_buf_size-5);;){if(rt.lookahead<=1){if(Ct(rt),rt.lookahead===0&&ur===T)return Qe;if(rt.lookahead===0)break}rt.strstart+=rt.lookahead,rt.lookahead=0;var Ft=rt.block_start+tr;if((rt.strstart===0||rt.strstart>=Ft)&&(rt.lookahead=rt.strstart-Ft,rt.strstart=Ft,yt(rt,!1),rt.strm.avail_out===0)||rt.strstart-rt.block_start>=rt.w_size-tt&&(yt(rt,!1),rt.strm.avail_out===0))return Qe}return rt.insert=0,ur===U?(yt(rt,!0),rt.strm.avail_out===0?pt:ut):(rt.strstart>rt.block_start&&(yt(rt,!1),rt.strm.avail_out),Qe)}),new Je(4,4,8,4,It),new Je(4,5,16,8,It),new Je(4,6,32,32,It),new Je(4,4,16,16,lr),new Je(8,16,32,32,lr),new Je(8,16,128,128,lr),new Je(8,32,128,256,lr),new Je(32,128,258,1024,lr),new Je(32,258,258,4096,lr)],M.deflateInit=function(rt,ur){return Wt(rt,ur,ue,15,8,0)},M.deflateInit2=Wt,M.deflateReset=it,M.deflateResetKeep=st,M.deflateSetHeader=function(rt,ur){return rt&&rt.state?rt.state.wrap!==2?K:(rt.state.gzhead=ur,q):K},M.deflate=function(rt,ur){var tr,Ft,Jt,et;if(!rt||!rt.state||5<ur||ur<0)return rt?Mt(rt,K):K;if(Ft=rt.state,!rt.output||!rt.input&&rt.avail_in!==0||Ft.status===666&&ur!==U)return Mt(rt,rt.avail_out===0?-5:K);if(Ft.strm=rt,tr=Ft.last_flush,Ft.last_flush=ur,Ft.status===Ke)if(Ft.wrap===2)rt.adler=0,Gt(Ft,31),Gt(Ft,139),Gt(Ft,8),Ft.gzhead?(Gt(Ft,(Ft.gzhead.text?1:0)+(Ft.gzhead.hcrc?2:0)+(Ft.gzhead.extra?4:0)+(Ft.gzhead.name?8:0)+(Ft.gzhead.comment?16:0)),Gt(Ft,255&Ft.gzhead.time),Gt(Ft,Ft.gzhead.time>>8&255),Gt(Ft,Ft.gzhead.time>>16&255),Gt(Ft,Ft.gzhead.time>>24&255),Gt(Ft,Ft.level===9?2:2<=Ft.strategy||Ft.level<2?4:0),Gt(Ft,255&Ft.gzhead.os),Ft.gzhead.extra&&Ft.gzhead.extra.length&&(Gt(Ft,255&Ft.gzhead.extra.length),Gt(Ft,Ft.gzhead.extra.length>>8&255)),Ft.gzhead.hcrc&&(rt.adler=O(rt.adler,Ft.pending_buf,Ft.pending,0)),Ft.gzindex=0,Ft.status=69):(Gt(Ft,0),Gt(Ft,0),Gt(Ft,0),Gt(Ft,0),Gt(Ft,0),Gt(Ft,Ft.level===9?2:2<=Ft.strategy||Ft.level<2?4:0),Gt(Ft,3),Ft.status=Ze);else{var gt=ue+(Ft.w_bits-8<<4)<<8;gt|=(2<=Ft.strategy||Ft.level<2?0:Ft.level<6?1:Ft.level===6?2:3)<<6,Ft.strstart!==0&&(gt|=32),gt+=31-gt%31,Ft.status=Ze,Bt(Ft,gt),Ft.strstart!==0&&(Bt(Ft,rt.adler>>>16),Bt(Ft,65535&rt.adler)),rt.adler=1}if(Ft.status===69)if(Ft.gzhead.extra){for(Jt=Ft.pending;Ft.gzindex<(65535&Ft.gzhead.extra.length)&&(Ft.pending!==Ft.pending_buf_size||(Ft.gzhead.hcrc&&Ft.pending>Jt&&(rt.adler=O(rt.adler,Ft.pending_buf,Ft.pending-Jt,Jt)),dt(rt),Jt=Ft.pending,Ft.pending!==Ft.pending_buf_size));)Gt(Ft,255&Ft.gzhead.extra[Ft.gzindex]),Ft.gzindex++;Ft.gzhead.hcrc&&Ft.pending>Jt&&(rt.adler=O(rt.adler,Ft.pending_buf,Ft.pending-Jt,Jt)),Ft.gzindex===Ft.gzhead.extra.length&&(Ft.gzindex=0,Ft.status=73)}else Ft.status=73;if(Ft.status===73)if(Ft.gzhead.name){Jt=Ft.pending;do{if(Ft.pending===Ft.pending_buf_size&&(Ft.gzhead.hcrc&&Ft.pending>Jt&&(rt.adler=O(rt.adler,Ft.pending_buf,Ft.pending-Jt,Jt)),dt(rt),Jt=Ft.pending,Ft.pending===Ft.pending_buf_size)){et=1;break}et=Ft.gzindex<Ft.gzhead.name.length?255&Ft.gzhead.name.charCodeAt(Ft.gzindex++):0,Gt(Ft,et)}while(et!==0);Ft.gzhead.hcrc&&Ft.pending>Jt&&(rt.adler=O(rt.adler,Ft.pending_buf,Ft.pending-Jt,Jt)),et===0&&(Ft.gzindex=0,Ft.status=91)}else Ft.status=91;if(Ft.status===91)if(Ft.gzhead.comment){Jt=Ft.pending;do{if(Ft.pending===Ft.pending_buf_size&&(Ft.gzhead.hcrc&&Ft.pending>Jt&&(rt.adler=O(rt.adler,Ft.pending_buf,Ft.pending-Jt,Jt)),dt(rt),Jt=Ft.pending,Ft.pending===Ft.pending_buf_size)){et=1;break}et=Ft.gzindex<Ft.gzhead.comment.length?255&Ft.gzhead.comment.charCodeAt(Ft.gzindex++):0,Gt(Ft,et)}while(et!==0);Ft.gzhead.hcrc&&Ft.pending>Jt&&(rt.adler=O(rt.adler,Ft.pending_buf,Ft.pending-Jt,Jt)),et===0&&(Ft.status=103)}else Ft.status=103;if(Ft.status===103&&(Ft.gzhead.hcrc?(Ft.pending+2>Ft.pending_buf_size&&dt(rt),Ft.pending+2<=Ft.pending_buf_size&&(Gt(Ft,255&rt.adler),Gt(Ft,rt.adler>>8&255),rt.adler=0,Ft.status=Ze)):Ft.status=Ze),Ft.pending!==0){if(dt(rt),rt.avail_out===0)return Ft.last_flush=-1,q}else if(rt.avail_in===0&&bt(ur)<=bt(tr)&&ur!==U)return Mt(rt,-5);if(Ft.status===666&&rt.avail_in!==0)return Mt(rt,-5);if(rt.avail_in!==0||Ft.lookahead!==0||ur!==T&&Ft.status!==666){var Et=Ft.strategy===2?(function(Xt,mr){for(var Cr;;){if(Xt.lookahead===0&&(Ct(Xt),Xt.lookahead===0)){if(mr===T)return Qe;break}if(Xt.match_length=0,Cr=R._tr_tally(Xt,0,Xt.window[Xt.strstart]),Xt.lookahead--,Xt.strstart++,Cr&&(yt(Xt,!1),Xt.strm.avail_out===0))return Qe}return Xt.insert=0,mr===U?(yt(Xt,!0),Xt.strm.avail_out===0?pt:ut):Xt.last_lit&&(yt(Xt,!1),Xt.strm.avail_out===0)?Qe:vt})(Ft,ur):Ft.strategy===3?(function(Xt,mr){for(var Cr,Dr,_n,In,Fn=Xt.window;;){if(Xt.lookahead<=He){if(Ct(Xt),Xt.lookahead<=He&&mr===T)return Qe;if(Xt.lookahead===0)break}if(Xt.match_length=0,Xt.lookahead>=_e&&0<Xt.strstart&&(Dr=Fn[_n=Xt.strstart-1])===Fn[++_n]&&Dr===Fn[++_n]&&Dr===Fn[++_n]){In=Xt.strstart+He;do;while(Dr===Fn[++_n]&&Dr===Fn[++_n]&&Dr===Fn[++_n]&&Dr===Fn[++_n]&&Dr===Fn[++_n]&&Dr===Fn[++_n]&&Dr===Fn[++_n]&&Dr===Fn[++_n]&&_n<In);Xt.match_length=He-(In-_n),Xt.match_length>Xt.lookahead&&(Xt.match_length=Xt.lookahead)}if(Xt.match_length>=_e?(Cr=R._tr_tally(Xt,1,Xt.match_length-_e),Xt.lookahead-=Xt.match_length,Xt.strstart+=Xt.match_length,Xt.match_length=0):(Cr=R._tr_tally(Xt,0,Xt.window[Xt.strstart]),Xt.lookahead--,Xt.strstart++),Cr&&(yt(Xt,!1),Xt.strm.avail_out===0))return Qe}return Xt.insert=0,mr===U?(yt(Xt,!0),Xt.strm.avail_out===0?pt:ut):Xt.last_lit&&(yt(Xt,!1),Xt.strm.avail_out===0)?Qe:vt})(Ft,ur):z[Ft.level].func(Ft,ur);if(Et!==pt&&Et!==ut||(Ft.status=666),Et===Qe||Et===pt)return rt.avail_out===0&&(Ft.last_flush=-1),q;if(Et===vt&&(ur===1?R._tr_align(Ft):ur!==5&&(R._tr_stored_block(Ft,0,0,!1),ur===3&&(ar(Ft.head),Ft.lookahead===0&&(Ft.strstart=0,Ft.block_start=0,Ft.insert=0))),dt(rt),rt.avail_out===0))return Ft.last_flush=-1,q}return ur!==U?q:Ft.wrap<=0?1:(Ft.wrap===2?(Gt(Ft,255&rt.adler),Gt(Ft,rt.adler>>8&255),Gt(Ft,rt.adler>>16&255),Gt(Ft,rt.adler>>24&255),Gt(Ft,255&rt.total_in),Gt(Ft,rt.total_in>>8&255),Gt(Ft,rt.total_in>>16&255),Gt(Ft,rt.total_in>>24&255)):(Bt(Ft,rt.adler>>>16),Bt(Ft,65535&rt.adler)),dt(rt),0<Ft.wrap&&(Ft.wrap=-Ft.wrap),Ft.pending!==0?q:1)},M.deflateEnd=function(rt){var ur;return rt&&rt.state?(ur=rt.state.status)!==Ke&&ur!==69&&ur!==73&&ur!==91&&ur!==103&&ur!==Ze&&ur!==666?Mt(rt,K):(rt.state=null,ur===Ze?Mt(rt,-3):q):K},M.deflateSetDictionary=function(rt,ur){var tr,Ft,Jt,et,gt,Et,Xt,mr,Cr=ur.length;if(!rt||!rt.state||(et=(tr=rt.state).wrap)===2||et===1&&tr.status!==Ke||tr.lookahead)return K;for(et===1&&(rt.adler=I(rt.adler,ur,Cr,0)),tr.wrap=0,Cr>=tr.w_size&&(et===0&&(ar(tr.head),tr.strstart=0,tr.block_start=0,tr.insert=0),mr=new B.Buf8(tr.w_size),B.arraySet(mr,ur,Cr-tr.w_size,tr.w_size,0),ur=mr,Cr=tr.w_size),gt=rt.avail_in,Et=rt.next_in,Xt=rt.input,rt.avail_in=Cr,rt.next_in=0,rt.input=ur,Ct(tr);tr.lookahead>=_e;){for(Ft=tr.strstart,Jt=tr.lookahead-(_e-1);tr.ins_h=(tr.ins_h<<tr.hash_shift^tr.window[Ft+_e-1])&tr.hash_mask,tr.prev[Ft&tr.w_mask]=tr.head[tr.ins_h],tr.head[tr.ins_h]=Ft,Ft++,--Jt;);tr.strstart=Ft,tr.lookahead=_e-1,Ct(tr)}return tr.strstart+=tr.lookahead,tr.block_start=tr.strstart,tr.insert=tr.lookahead,tr.lookahead=0,tr.match_length=tr.prev_length=_e-1,tr.match_available=0,rt.next_in=Et,rt.input=Xt,rt.avail_in=gt,tr.wrap=et,q},M.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,b,M){b.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,b,M){b.exports=function(z,B){var R,I,O,A,T,U,q,K,J,te,oe,ue,fe,Le,Ge,ze,je,Be,_e,He,tt,Ke,Ze,Qe,vt;R=z.state,I=z.next_in,Qe=z.input,O=I+(z.avail_in-5),A=z.next_out,vt=z.output,T=A-(B-z.avail_out),U=A+(z.avail_out-257),q=R.dmax,K=R.wsize,J=R.whave,te=R.wnext,oe=R.window,ue=R.hold,fe=R.bits,Le=R.lencode,Ge=R.distcode,ze=(1<<R.lenbits)-1,je=(1<<R.distbits)-1;e:do{fe<15&&(ue+=Qe[I++]<<fe,fe+=8,ue+=Qe[I++]<<fe,fe+=8),Be=Le[ue&ze];t:for(;;){if(ue>>>=_e=Be>>>24,fe-=_e,(_e=Be>>>16&255)===0)vt[A++]=65535&Be;else{if(!(16&_e)){if((64&_e)==0){Be=Le[(65535&Be)+(ue&(1<<_e)-1)];continue t}if(32&_e){R.mode=12;break e}z.msg="invalid literal/length code",R.mode=30;break e}He=65535&Be,(_e&=15)&&(fe<_e&&(ue+=Qe[I++]<<fe,fe+=8),He+=ue&(1<<_e)-1,ue>>>=_e,fe-=_e),fe<15&&(ue+=Qe[I++]<<fe,fe+=8,ue+=Qe[I++]<<fe,fe+=8),Be=Ge[ue&je];r:for(;;){if(ue>>>=_e=Be>>>24,fe-=_e,!(16&(_e=Be>>>16&255))){if((64&_e)==0){Be=Ge[(65535&Be)+(ue&(1<<_e)-1)];continue r}z.msg="invalid distance code",R.mode=30;break e}if(tt=65535&Be,fe<(_e&=15)&&(ue+=Qe[I++]<<fe,(fe+=8)<_e&&(ue+=Qe[I++]<<fe,fe+=8)),q<(tt+=ue&(1<<_e)-1)){z.msg="invalid distance too far back",R.mode=30;break e}if(ue>>>=_e,fe-=_e,(_e=A-T)<tt){if(J<(_e=tt-_e)&&R.sane){z.msg="invalid distance too far back",R.mode=30;break e}if(Ze=oe,(Ke=0)===te){if(Ke+=K-_e,_e<He){for(He-=_e;vt[A++]=oe[Ke++],--_e;);Ke=A-tt,Ze=vt}}else if(te<_e){if(Ke+=K+te-_e,(_e-=te)<He){for(He-=_e;vt[A++]=oe[Ke++],--_e;);if(Ke=0,te<He){for(He-=_e=te;vt[A++]=oe[Ke++],--_e;);Ke=A-tt,Ze=vt}}}else if(Ke+=te-_e,_e<He){for(He-=_e;vt[A++]=oe[Ke++],--_e;);Ke=A-tt,Ze=vt}for(;2<He;)vt[A++]=Ze[Ke++],vt[A++]=Ze[Ke++],vt[A++]=Ze[Ke++],He-=3;He&&(vt[A++]=Ze[Ke++],1<He&&(vt[A++]=Ze[Ke++]))}else{for(Ke=A-tt;vt[A++]=vt[Ke++],vt[A++]=vt[Ke++],vt[A++]=vt[Ke++],2<(He-=3););He&&(vt[A++]=vt[Ke++],1<He&&(vt[A++]=vt[Ke++]))}break}}break}}while(I<O&&A<U);I-=He=fe>>3,ue&=(1<<(fe-=He<<3))-1,z.next_in=I,z.next_out=A,z.avail_in=I<O?O-I+5:5-(I-O),z.avail_out=A<U?U-A+257:257-(A-U),R.hold=ue,R.bits=fe}},{}],49:[function(r,b,M){var z=r("../utils/common"),B=r("./adler32"),R=r("./crc32"),I=r("./inffast"),O=r("./inftrees"),A=1,T=2,U=0,q=-2,K=1,J=852,te=592;function oe(Ke){return(Ke>>>24&255)+(Ke>>>8&65280)+((65280&Ke)<<8)+((255&Ke)<<24)}function ue(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new z.Buf16(320),this.work=new z.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function fe(Ke){var Ze;return Ke&&Ke.state?(Ze=Ke.state,Ke.total_in=Ke.total_out=Ze.total=0,Ke.msg="",Ze.wrap&&(Ke.adler=1&Ze.wrap),Ze.mode=K,Ze.last=0,Ze.havedict=0,Ze.dmax=32768,Ze.head=null,Ze.hold=0,Ze.bits=0,Ze.lencode=Ze.lendyn=new z.Buf32(J),Ze.distcode=Ze.distdyn=new z.Buf32(te),Ze.sane=1,Ze.back=-1,U):q}function Le(Ke){var Ze;return Ke&&Ke.state?((Ze=Ke.state).wsize=0,Ze.whave=0,Ze.wnext=0,fe(Ke)):q}function Ge(Ke,Ze){var Qe,vt;return Ke&&Ke.state?(vt=Ke.state,Ze<0?(Qe=0,Ze=-Ze):(Qe=1+(Ze>>4),Ze<48&&(Ze&=15)),Ze&&(Ze<8||15<Ze)?q:(vt.window!==null&&vt.wbits!==Ze&&(vt.window=null),vt.wrap=Qe,vt.wbits=Ze,Le(Ke))):q}function ze(Ke,Ze){var Qe,vt;return Ke?(vt=new ue,(Ke.state=vt).window=null,(Qe=Ge(Ke,Ze))!==U&&(Ke.state=null),Qe):q}var je,Be,_e=!0;function He(Ke){if(_e){var Ze;for(je=new z.Buf32(512),Be=new z.Buf32(32),Ze=0;Ze<144;)Ke.lens[Ze++]=8;for(;Ze<256;)Ke.lens[Ze++]=9;for(;Ze<280;)Ke.lens[Ze++]=7;for(;Ze<288;)Ke.lens[Ze++]=8;for(O(A,Ke.lens,0,288,je,0,Ke.work,{bits:9}),Ze=0;Ze<32;)Ke.lens[Ze++]=5;O(T,Ke.lens,0,32,Be,0,Ke.work,{bits:5}),_e=!1}Ke.lencode=je,Ke.lenbits=9,Ke.distcode=Be,Ke.distbits=5}function tt(Ke,Ze,Qe,vt){var pt,ut=Ke.state;return ut.window===null&&(ut.wsize=1<<ut.wbits,ut.wnext=0,ut.whave=0,ut.window=new z.Buf8(ut.wsize)),vt>=ut.wsize?(z.arraySet(ut.window,Ze,Qe-ut.wsize,ut.wsize,0),ut.wnext=0,ut.whave=ut.wsize):(vt<(pt=ut.wsize-ut.wnext)&&(pt=vt),z.arraySet(ut.window,Ze,Qe-vt,pt,ut.wnext),(vt-=pt)?(z.arraySet(ut.window,Ze,Qe-vt,vt,0),ut.wnext=vt,ut.whave=ut.wsize):(ut.wnext+=pt,ut.wnext===ut.wsize&&(ut.wnext=0),ut.whave<ut.wsize&&(ut.whave+=pt))),0}M.inflateReset=Le,M.inflateReset2=Ge,M.inflateResetKeep=fe,M.inflateInit=function(Ke){return ze(Ke,15)},M.inflateInit2=ze,M.inflate=function(Ke,Ze){var Qe,vt,pt,ut,Mt,bt,ar,dt,yt,Gt,Bt,Dt,Ct,It,lr,Je,Ve,st,it,Wt,rt,ur,tr,Ft,Jt=0,et=new z.Buf8(4),gt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!Ke||!Ke.state||!Ke.output||!Ke.input&&Ke.avail_in!==0)return q;(Qe=Ke.state).mode===12&&(Qe.mode=13),Mt=Ke.next_out,pt=Ke.output,ar=Ke.avail_out,ut=Ke.next_in,vt=Ke.input,bt=Ke.avail_in,dt=Qe.hold,yt=Qe.bits,Gt=bt,Bt=ar,ur=U;e:for(;;)switch(Qe.mode){case K:if(Qe.wrap===0){Qe.mode=13;break}for(;yt<16;){if(bt===0)break e;bt--,dt+=vt[ut++]<<yt,yt+=8}if(2&Qe.wrap&&dt===35615){et[Qe.check=0]=255&dt,et[1]=dt>>>8&255,Qe.check=R(Qe.check,et,2,0),yt=dt=0,Qe.mode=2;break}if(Qe.flags=0,Qe.head&&(Qe.head.done=!1),!(1&Qe.wrap)||(((255&dt)<<8)+(dt>>8))%31){Ke.msg="incorrect header check",Qe.mode=30;break}if((15&dt)!=8){Ke.msg="unknown compression method",Qe.mode=30;break}if(yt-=4,rt=8+(15&(dt>>>=4)),Qe.wbits===0)Qe.wbits=rt;else if(rt>Qe.wbits){Ke.msg="invalid window size",Qe.mode=30;break}Qe.dmax=1<<rt,Ke.adler=Qe.check=1,Qe.mode=512&dt?10:12,yt=dt=0;break;case 2:for(;yt<16;){if(bt===0)break e;bt--,dt+=vt[ut++]<<yt,yt+=8}if(Qe.flags=dt,(255&Qe.flags)!=8){Ke.msg="unknown compression method",Qe.mode=30;break}if(57344&Qe.flags){Ke.msg="unknown header flags set",Qe.mode=30;break}Qe.head&&(Qe.head.text=dt>>8&1),512&Qe.flags&&(et[0]=255&dt,et[1]=dt>>>8&255,Qe.check=R(Qe.check,et,2,0)),yt=dt=0,Qe.mode=3;case 3:for(;yt<32;){if(bt===0)break e;bt--,dt+=vt[ut++]<<yt,yt+=8}Qe.head&&(Qe.head.time=dt),512&Qe.flags&&(et[0]=255&dt,et[1]=dt>>>8&255,et[2]=dt>>>16&255,et[3]=dt>>>24&255,Qe.check=R(Qe.check,et,4,0)),yt=dt=0,Qe.mode=4;case 4:for(;yt<16;){if(bt===0)break e;bt--,dt+=vt[ut++]<<yt,yt+=8}Qe.head&&(Qe.head.xflags=255&dt,Qe.head.os=dt>>8),512&Qe.flags&&(et[0]=255&dt,et[1]=dt>>>8&255,Qe.check=R(Qe.check,et,2,0)),yt=dt=0,Qe.mode=5;case 5:if(1024&Qe.flags){for(;yt<16;){if(bt===0)break e;bt--,dt+=vt[ut++]<<yt,yt+=8}Qe.length=dt,Qe.head&&(Qe.head.extra_len=dt),512&Qe.flags&&(et[0]=255&dt,et[1]=dt>>>8&255,Qe.check=R(Qe.check,et,2,0)),yt=dt=0}else Qe.head&&(Qe.head.extra=null);Qe.mode=6;case 6:if(1024&Qe.flags&&(bt<(Dt=Qe.length)&&(Dt=bt),Dt&&(Qe.head&&(rt=Qe.head.extra_len-Qe.length,Qe.head.extra||(Qe.head.extra=new Array(Qe.head.extra_len)),z.arraySet(Qe.head.extra,vt,ut,Dt,rt)),512&Qe.flags&&(Qe.check=R(Qe.check,vt,Dt,ut)),bt-=Dt,ut+=Dt,Qe.length-=Dt),Qe.length))break e;Qe.length=0,Qe.mode=7;case 7:if(2048&Qe.flags){if(bt===0)break e;for(Dt=0;rt=vt[ut+Dt++],Qe.head&&rt&&Qe.length<65536&&(Qe.head.name+=String.fromCharCode(rt)),rt&&Dt<bt;);if(512&Qe.flags&&(Qe.check=R(Qe.check,vt,Dt,ut)),bt-=Dt,ut+=Dt,rt)break e}else Qe.head&&(Qe.head.name=null);Qe.length=0,Qe.mode=8;case 8:if(4096&Qe.flags){if(bt===0)break e;for(Dt=0;rt=vt[ut+Dt++],Qe.head&&rt&&Qe.length<65536&&(Qe.head.comment+=String.fromCharCode(rt)),rt&&Dt<bt;);if(512&Qe.flags&&(Qe.check=R(Qe.check,vt,Dt,ut)),bt-=Dt,ut+=Dt,rt)break e}else Qe.head&&(Qe.head.comment=null);Qe.mode=9;case 9:if(512&Qe.flags){for(;yt<16;){if(bt===0)break e;bt--,dt+=vt[ut++]<<yt,yt+=8}if(dt!==(65535&Qe.check)){Ke.msg="header crc mismatch",Qe.mode=30;break}yt=dt=0}Qe.head&&(Qe.head.hcrc=Qe.flags>>9&1,Qe.head.done=!0),Ke.adler=Qe.check=0,Qe.mode=12;break;case 10:for(;yt<32;){if(bt===0)break e;bt--,dt+=vt[ut++]<<yt,yt+=8}Ke.adler=Qe.check=oe(dt),yt=dt=0,Qe.mode=11;case 11:if(Qe.havedict===0)return Ke.next_out=Mt,Ke.avail_out=ar,Ke.next_in=ut,Ke.avail_in=bt,Qe.hold=dt,Qe.bits=yt,2;Ke.adler=Qe.check=1,Qe.mode=12;case 12:if(Ze===5||Ze===6)break e;case 13:if(Qe.last){dt>>>=7&yt,yt-=7&yt,Qe.mode=27;break}for(;yt<3;){if(bt===0)break e;bt--,dt+=vt[ut++]<<yt,yt+=8}switch(Qe.last=1&dt,yt-=1,3&(dt>>>=1)){case 0:Qe.mode=14;break;case 1:if(He(Qe),Qe.mode=20,Ze!==6)break;dt>>>=2,yt-=2;break e;case 2:Qe.mode=17;break;case 3:Ke.msg="invalid block type",Qe.mode=30}dt>>>=2,yt-=2;break;case 14:for(dt>>>=7&yt,yt-=7&yt;yt<32;){if(bt===0)break e;bt--,dt+=vt[ut++]<<yt,yt+=8}if((65535&dt)!=(dt>>>16^65535)){Ke.msg="invalid stored block lengths",Qe.mode=30;break}if(Qe.length=65535&dt,yt=dt=0,Qe.mode=15,Ze===6)break e;case 15:Qe.mode=16;case 16:if(Dt=Qe.length){if(bt<Dt&&(Dt=bt),ar<Dt&&(Dt=ar),Dt===0)break e;z.arraySet(pt,vt,ut,Dt,Mt),bt-=Dt,ut+=Dt,ar-=Dt,Mt+=Dt,Qe.length-=Dt;break}Qe.mode=12;break;case 17:for(;yt<14;){if(bt===0)break e;bt--,dt+=vt[ut++]<<yt,yt+=8}if(Qe.nlen=257+(31&dt),dt>>>=5,yt-=5,Qe.ndist=1+(31&dt),dt>>>=5,yt-=5,Qe.ncode=4+(15&dt),dt>>>=4,yt-=4,286<Qe.nlen||30<Qe.ndist){Ke.msg="too many length or distance symbols",Qe.mode=30;break}Qe.have=0,Qe.mode=18;case 18:for(;Qe.have<Qe.ncode;){for(;yt<3;){if(bt===0)break e;bt--,dt+=vt[ut++]<<yt,yt+=8}Qe.lens[gt[Qe.have++]]=7&dt,dt>>>=3,yt-=3}for(;Qe.have<19;)Qe.lens[gt[Qe.have++]]=0;if(Qe.lencode=Qe.lendyn,Qe.lenbits=7,tr={bits:Qe.lenbits},ur=O(0,Qe.lens,0,19,Qe.lencode,0,Qe.work,tr),Qe.lenbits=tr.bits,ur){Ke.msg="invalid code lengths set",Qe.mode=30;break}Qe.have=0,Qe.mode=19;case 19:for(;Qe.have<Qe.nlen+Qe.ndist;){for(;Je=(Jt=Qe.lencode[dt&(1<<Qe.lenbits)-1])>>>16&255,Ve=65535&Jt,!((lr=Jt>>>24)<=yt);){if(bt===0)break e;bt--,dt+=vt[ut++]<<yt,yt+=8}if(Ve<16)dt>>>=lr,yt-=lr,Qe.lens[Qe.have++]=Ve;else{if(Ve===16){for(Ft=lr+2;yt<Ft;){if(bt===0)break e;bt--,dt+=vt[ut++]<<yt,yt+=8}if(dt>>>=lr,yt-=lr,Qe.have===0){Ke.msg="invalid bit length repeat",Qe.mode=30;break}rt=Qe.lens[Qe.have-1],Dt=3+(3&dt),dt>>>=2,yt-=2}else if(Ve===17){for(Ft=lr+3;yt<Ft;){if(bt===0)break e;bt--,dt+=vt[ut++]<<yt,yt+=8}yt-=lr,rt=0,Dt=3+(7&(dt>>>=lr)),dt>>>=3,yt-=3}else{for(Ft=lr+7;yt<Ft;){if(bt===0)break e;bt--,dt+=vt[ut++]<<yt,yt+=8}yt-=lr,rt=0,Dt=11+(127&(dt>>>=lr)),dt>>>=7,yt-=7}if(Qe.have+Dt>Qe.nlen+Qe.ndist){Ke.msg="invalid bit length repeat",Qe.mode=30;break}for(;Dt--;)Qe.lens[Qe.have++]=rt}}if(Qe.mode===30)break;if(Qe.lens[256]===0){Ke.msg="invalid code -- missing end-of-block",Qe.mode=30;break}if(Qe.lenbits=9,tr={bits:Qe.lenbits},ur=O(A,Qe.lens,0,Qe.nlen,Qe.lencode,0,Qe.work,tr),Qe.lenbits=tr.bits,ur){Ke.msg="invalid literal/lengths set",Qe.mode=30;break}if(Qe.distbits=6,Qe.distcode=Qe.distdyn,tr={bits:Qe.distbits},ur=O(T,Qe.lens,Qe.nlen,Qe.ndist,Qe.distcode,0,Qe.work,tr),Qe.distbits=tr.bits,ur){Ke.msg="invalid distances set",Qe.mode=30;break}if(Qe.mode=20,Ze===6)break e;case 20:Qe.mode=21;case 21:if(6<=bt&&258<=ar){Ke.next_out=Mt,Ke.avail_out=ar,Ke.next_in=ut,Ke.avail_in=bt,Qe.hold=dt,Qe.bits=yt,I(Ke,Bt),Mt=Ke.next_out,pt=Ke.output,ar=Ke.avail_out,ut=Ke.next_in,vt=Ke.input,bt=Ke.avail_in,dt=Qe.hold,yt=Qe.bits,Qe.mode===12&&(Qe.back=-1);break}for(Qe.back=0;Je=(Jt=Qe.lencode[dt&(1<<Qe.lenbits)-1])>>>16&255,Ve=65535&Jt,!((lr=Jt>>>24)<=yt);){if(bt===0)break e;bt--,dt+=vt[ut++]<<yt,yt+=8}if(Je&&(240&Je)==0){for(st=lr,it=Je,Wt=Ve;Je=(Jt=Qe.lencode[Wt+((dt&(1<<st+it)-1)>>st)])>>>16&255,Ve=65535&Jt,!(st+(lr=Jt>>>24)<=yt);){if(bt===0)break e;bt--,dt+=vt[ut++]<<yt,yt+=8}dt>>>=st,yt-=st,Qe.back+=st}if(dt>>>=lr,yt-=lr,Qe.back+=lr,Qe.length=Ve,Je===0){Qe.mode=26;break}if(32&Je){Qe.back=-1,Qe.mode=12;break}if(64&Je){Ke.msg="invalid literal/length code",Qe.mode=30;break}Qe.extra=15&Je,Qe.mode=22;case 22:if(Qe.extra){for(Ft=Qe.extra;yt<Ft;){if(bt===0)break e;bt--,dt+=vt[ut++]<<yt,yt+=8}Qe.length+=dt&(1<<Qe.extra)-1,dt>>>=Qe.extra,yt-=Qe.extra,Qe.back+=Qe.extra}Qe.was=Qe.length,Qe.mode=23;case 23:for(;Je=(Jt=Qe.distcode[dt&(1<<Qe.distbits)-1])>>>16&255,Ve=65535&Jt,!((lr=Jt>>>24)<=yt);){if(bt===0)break e;bt--,dt+=vt[ut++]<<yt,yt+=8}if((240&Je)==0){for(st=lr,it=Je,Wt=Ve;Je=(Jt=Qe.distcode[Wt+((dt&(1<<st+it)-1)>>st)])>>>16&255,Ve=65535&Jt,!(st+(lr=Jt>>>24)<=yt);){if(bt===0)break e;bt--,dt+=vt[ut++]<<yt,yt+=8}dt>>>=st,yt-=st,Qe.back+=st}if(dt>>>=lr,yt-=lr,Qe.back+=lr,64&Je){Ke.msg="invalid distance code",Qe.mode=30;break}Qe.offset=Ve,Qe.extra=15&Je,Qe.mode=24;case 24:if(Qe.extra){for(Ft=Qe.extra;yt<Ft;){if(bt===0)break e;bt--,dt+=vt[ut++]<<yt,yt+=8}Qe.offset+=dt&(1<<Qe.extra)-1,dt>>>=Qe.extra,yt-=Qe.extra,Qe.back+=Qe.extra}if(Qe.offset>Qe.dmax){Ke.msg="invalid distance too far back",Qe.mode=30;break}Qe.mode=25;case 25:if(ar===0)break e;if(Dt=Bt-ar,Qe.offset>Dt){if((Dt=Qe.offset-Dt)>Qe.whave&&Qe.sane){Ke.msg="invalid distance too far back",Qe.mode=30;break}Ct=Dt>Qe.wnext?(Dt-=Qe.wnext,Qe.wsize-Dt):Qe.wnext-Dt,Dt>Qe.length&&(Dt=Qe.length),It=Qe.window}else It=pt,Ct=Mt-Qe.offset,Dt=Qe.length;for(ar<Dt&&(Dt=ar),ar-=Dt,Qe.length-=Dt;pt[Mt++]=It[Ct++],--Dt;);Qe.length===0&&(Qe.mode=21);break;case 26:if(ar===0)break e;pt[Mt++]=Qe.length,ar--,Qe.mode=21;break;case 27:if(Qe.wrap){for(;yt<32;){if(bt===0)break e;bt--,dt|=vt[ut++]<<yt,yt+=8}if(Bt-=ar,Ke.total_out+=Bt,Qe.total+=Bt,Bt&&(Ke.adler=Qe.check=Qe.flags?R(Qe.check,pt,Bt,Mt-Bt):B(Qe.check,pt,Bt,Mt-Bt)),Bt=ar,(Qe.flags?dt:oe(dt))!==Qe.check){Ke.msg="incorrect data check",Qe.mode=30;break}yt=dt=0}Qe.mode=28;case 28:if(Qe.wrap&&Qe.flags){for(;yt<32;){if(bt===0)break e;bt--,dt+=vt[ut++]<<yt,yt+=8}if(dt!==(4294967295&Qe.total)){Ke.msg="incorrect length check",Qe.mode=30;break}yt=dt=0}Qe.mode=29;case 29:ur=1;break e;case 30:ur=-3;break e;case 31:return-4;case 32:default:return q}return Ke.next_out=Mt,Ke.avail_out=ar,Ke.next_in=ut,Ke.avail_in=bt,Qe.hold=dt,Qe.bits=yt,(Qe.wsize||Bt!==Ke.avail_out&&Qe.mode<30&&(Qe.mode<27||Ze!==4))&&tt(Ke,Ke.output,Ke.next_out,Bt-Ke.avail_out)?(Qe.mode=31,-4):(Gt-=Ke.avail_in,Bt-=Ke.avail_out,Ke.total_in+=Gt,Ke.total_out+=Bt,Qe.total+=Bt,Qe.wrap&&Bt&&(Ke.adler=Qe.check=Qe.flags?R(Qe.check,pt,Bt,Ke.next_out-Bt):B(Qe.check,pt,Bt,Ke.next_out-Bt)),Ke.data_type=Qe.bits+(Qe.last?64:0)+(Qe.mode===12?128:0)+(Qe.mode===20||Qe.mode===15?256:0),(Gt==0&&Bt===0||Ze===4)&&ur===U&&(ur=-5),ur)},M.inflateEnd=function(Ke){if(!Ke||!Ke.state)return q;var Ze=Ke.state;return Ze.window&&(Ze.window=null),Ke.state=null,U},M.inflateGetHeader=function(Ke,Ze){var Qe;return Ke&&Ke.state?(2&(Qe=Ke.state).wrap)==0?q:((Qe.head=Ze).done=!1,U):q},M.inflateSetDictionary=function(Ke,Ze){var Qe,vt=Ze.length;return Ke&&Ke.state?(Qe=Ke.state).wrap!==0&&Qe.mode!==11?q:Qe.mode===11&&B(1,Ze,vt,0)!==Qe.check?-3:tt(Ke,Ze,vt,vt)?(Qe.mode=31,-4):(Qe.havedict=1,U):q},M.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,b,M){var z=r("../utils/common"),B=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],R=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],I=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],O=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];b.exports=function(A,T,U,q,K,J,te,oe){var ue,fe,Le,Ge,ze,je,Be,_e,He,tt=oe.bits,Ke=0,Ze=0,Qe=0,vt=0,pt=0,ut=0,Mt=0,bt=0,ar=0,dt=0,yt=null,Gt=0,Bt=new z.Buf16(16),Dt=new z.Buf16(16),Ct=null,It=0;for(Ke=0;Ke<=15;Ke++)Bt[Ke]=0;for(Ze=0;Ze<q;Ze++)Bt[T[U+Ze]]++;for(pt=tt,vt=15;1<=vt&&Bt[vt]===0;vt--);if(vt<pt&&(pt=vt),vt===0)return K[J++]=20971520,K[J++]=20971520,oe.bits=1,0;for(Qe=1;Qe<vt&&Bt[Qe]===0;Qe++);for(pt<Qe&&(pt=Qe),Ke=bt=1;Ke<=15;Ke++)if(bt<<=1,(bt-=Bt[Ke])<0)return-1;if(0<bt&&(A===0||vt!==1))return-1;for(Dt[1]=0,Ke=1;Ke<15;Ke++)Dt[Ke+1]=Dt[Ke]+Bt[Ke];for(Ze=0;Ze<q;Ze++)T[U+Ze]!==0&&(te[Dt[T[U+Ze]]++]=Ze);if(je=A===0?(yt=Ct=te,19):A===1?(yt=B,Gt-=257,Ct=R,It-=257,256):(yt=I,Ct=O,-1),Ke=Qe,ze=J,Mt=Ze=dt=0,Le=-1,Ge=(ar=1<<(ut=pt))-1,A===1&&852<ar||A===2&&592<ar)return 1;for(;;){for(Be=Ke-Mt,He=te[Ze]<je?(_e=0,te[Ze]):te[Ze]>je?(_e=Ct[It+te[Ze]],yt[Gt+te[Ze]]):(_e=96,0),ue=1<<Ke-Mt,Qe=fe=1<<ut;K[ze+(dt>>Mt)+(fe-=ue)]=Be<<24|_e<<16|He|0,fe!==0;);for(ue=1<<Ke-1;dt&ue;)ue>>=1;if(ue!==0?(dt&=ue-1,dt+=ue):dt=0,Ze++,--Bt[Ke]==0){if(Ke===vt)break;Ke=T[U+te[Ze]]}if(pt<Ke&&(dt&Ge)!==Le){for(Mt===0&&(Mt=pt),ze+=Qe,bt=1<<(ut=Ke-Mt);ut+Mt<vt&&!((bt-=Bt[ut+Mt])<=0);)ut++,bt<<=1;if(ar+=1<<ut,A===1&&852<ar||A===2&&592<ar)return 1;K[Le=dt&Ge]=pt<<24|ut<<16|ze-J|0}}return dt!==0&&(K[ze+dt]=Ke-Mt<<24|64<<16|0),oe.bits=pt,0}},{"../utils/common":41}],51:[function(r,b,M){b.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,b,M){var z=r("../utils/common"),B=0,R=1;function I(Jt){for(var et=Jt.length;0<=--et;)Jt[et]=0}var O=0,A=29,T=256,U=T+1+A,q=30,K=19,J=2*U+1,te=15,oe=16,ue=7,fe=256,Le=16,Ge=17,ze=18,je=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Be=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],_e=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],He=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],tt=new Array(2*(U+2));I(tt);var Ke=new Array(2*q);I(Ke);var Ze=new Array(512);I(Ze);var Qe=new Array(256);I(Qe);var vt=new Array(A);I(vt);var pt,ut,Mt,bt=new Array(q);function ar(Jt,et,gt,Et,Xt){this.static_tree=Jt,this.extra_bits=et,this.extra_base=gt,this.elems=Et,this.max_length=Xt,this.has_stree=Jt&&Jt.length}function dt(Jt,et){this.dyn_tree=Jt,this.max_code=0,this.stat_desc=et}function yt(Jt){return Jt<256?Ze[Jt]:Ze[256+(Jt>>>7)]}function Gt(Jt,et){Jt.pending_buf[Jt.pending++]=255&et,Jt.pending_buf[Jt.pending++]=et>>>8&255}function Bt(Jt,et,gt){Jt.bi_valid>oe-gt?(Jt.bi_buf|=et<<Jt.bi_valid&65535,Gt(Jt,Jt.bi_buf),Jt.bi_buf=et>>oe-Jt.bi_valid,Jt.bi_valid+=gt-oe):(Jt.bi_buf|=et<<Jt.bi_valid&65535,Jt.bi_valid+=gt)}function Dt(Jt,et,gt){Bt(Jt,gt[2*et],gt[2*et+1])}function Ct(Jt,et){for(var gt=0;gt|=1&Jt,Jt>>>=1,gt<<=1,0<--et;);return gt>>>1}function It(Jt,et,gt){var Et,Xt,mr=new Array(te+1),Cr=0;for(Et=1;Et<=te;Et++)mr[Et]=Cr=Cr+gt[Et-1]<<1;for(Xt=0;Xt<=et;Xt++){var Dr=Jt[2*Xt+1];Dr!==0&&(Jt[2*Xt]=Ct(mr[Dr]++,Dr))}}function lr(Jt){var et;for(et=0;et<U;et++)Jt.dyn_ltree[2*et]=0;for(et=0;et<q;et++)Jt.dyn_dtree[2*et]=0;for(et=0;et<K;et++)Jt.bl_tree[2*et]=0;Jt.dyn_ltree[2*fe]=1,Jt.opt_len=Jt.static_len=0,Jt.last_lit=Jt.matches=0}function Je(Jt){8<Jt.bi_valid?Gt(Jt,Jt.bi_buf):0<Jt.bi_valid&&(Jt.pending_buf[Jt.pending++]=Jt.bi_buf),Jt.bi_buf=0,Jt.bi_valid=0}function Ve(Jt,et,gt,Et){var Xt=2*et,mr=2*gt;return Jt[Xt]<Jt[mr]||Jt[Xt]===Jt[mr]&&Et[et]<=Et[gt]}function st(Jt,et,gt){for(var Et=Jt.heap[gt],Xt=gt<<1;Xt<=Jt.heap_len&&(Xt<Jt.heap_len&&Ve(et,Jt.heap[Xt+1],Jt.heap[Xt],Jt.depth)&&Xt++,!Ve(et,Et,Jt.heap[Xt],Jt.depth));)Jt.heap[gt]=Jt.heap[Xt],gt=Xt,Xt<<=1;Jt.heap[gt]=Et}function it(Jt,et,gt){var Et,Xt,mr,Cr,Dr=0;if(Jt.last_lit!==0)for(;Et=Jt.pending_buf[Jt.d_buf+2*Dr]<<8|Jt.pending_buf[Jt.d_buf+2*Dr+1],Xt=Jt.pending_buf[Jt.l_buf+Dr],Dr++,Et===0?Dt(Jt,Xt,et):(Dt(Jt,(mr=Qe[Xt])+T+1,et),(Cr=je[mr])!==0&&Bt(Jt,Xt-=vt[mr],Cr),Dt(Jt,mr=yt(--Et),gt),(Cr=Be[mr])!==0&&Bt(Jt,Et-=bt[mr],Cr)),Dr<Jt.last_lit;);Dt(Jt,fe,et)}function Wt(Jt,et){var gt,Et,Xt,mr=et.dyn_tree,Cr=et.stat_desc.static_tree,Dr=et.stat_desc.has_stree,_n=et.stat_desc.elems,In=-1;for(Jt.heap_len=0,Jt.heap_max=J,gt=0;gt<_n;gt++)mr[2*gt]!==0?(Jt.heap[++Jt.heap_len]=In=gt,Jt.depth[gt]=0):mr[2*gt+1]=0;for(;Jt.heap_len<2;)mr[2*(Xt=Jt.heap[++Jt.heap_len]=In<2?++In:0)]=1,Jt.depth[Xt]=0,Jt.opt_len--,Dr&&(Jt.static_len-=Cr[2*Xt+1]);for(et.max_code=In,gt=Jt.heap_len>>1;1<=gt;gt--)st(Jt,mr,gt);for(Xt=_n;gt=Jt.heap[1],Jt.heap[1]=Jt.heap[Jt.heap_len--],st(Jt,mr,1),Et=Jt.heap[1],Jt.heap[--Jt.heap_max]=gt,Jt.heap[--Jt.heap_max]=Et,mr[2*Xt]=mr[2*gt]+mr[2*Et],Jt.depth[Xt]=(Jt.depth[gt]>=Jt.depth[Et]?Jt.depth[gt]:Jt.depth[Et])+1,mr[2*gt+1]=mr[2*Et+1]=Xt,Jt.heap[1]=Xt++,st(Jt,mr,1),2<=Jt.heap_len;);Jt.heap[--Jt.heap_max]=Jt.heap[1],(function(Fn,ti){var Qn,vi,wi,oi,Si,Gi,ai=ti.dyn_tree,zi=ti.max_code,Ei=ti.stat_desc.static_tree,fa=ti.stat_desc.has_stree,Vn=ti.stat_desc.extra_bits,ha=ti.stat_desc.extra_base,Na=ti.stat_desc.max_length,wt=0;for(oi=0;oi<=te;oi++)Fn.bl_count[oi]=0;for(ai[2*Fn.heap[Fn.heap_max]+1]=0,Qn=Fn.heap_max+1;Qn<J;Qn++)Na<(oi=ai[2*ai[2*(vi=Fn.heap[Qn])+1]+1]+1)&&(oi=Na,wt++),ai[2*vi+1]=oi,zi<vi||(Fn.bl_count[oi]++,Si=0,ha<=vi&&(Si=Vn[vi-ha]),Gi=ai[2*vi],Fn.opt_len+=Gi*(oi+Si),fa&&(Fn.static_len+=Gi*(Ei[2*vi+1]+Si)));if(wt!==0){do{for(oi=Na-1;Fn.bl_count[oi]===0;)oi--;Fn.bl_count[oi]--,Fn.bl_count[oi+1]+=2,Fn.bl_count[Na]--,wt-=2}while(0<wt);for(oi=Na;oi!==0;oi--)for(vi=Fn.bl_count[oi];vi!==0;)zi<(wi=Fn.heap[--Qn])||(ai[2*wi+1]!==oi&&(Fn.opt_len+=(oi-ai[2*wi+1])*ai[2*wi],ai[2*wi+1]=oi),vi--)}})(Jt,et),It(mr,In,Jt.bl_count)}function rt(Jt,et,gt){var Et,Xt,mr=-1,Cr=et[1],Dr=0,_n=7,In=4;for(Cr===0&&(_n=138,In=3),et[2*(gt+1)+1]=65535,Et=0;Et<=gt;Et++)Xt=Cr,Cr=et[2*(Et+1)+1],++Dr<_n&&Xt===Cr||(Dr<In?Jt.bl_tree[2*Xt]+=Dr:Xt!==0?(Xt!==mr&&Jt.bl_tree[2*Xt]++,Jt.bl_tree[2*Le]++):Dr<=10?Jt.bl_tree[2*Ge]++:Jt.bl_tree[2*ze]++,mr=Xt,In=(Dr=0)===Cr?(_n=138,3):Xt===Cr?(_n=6,3):(_n=7,4))}function ur(Jt,et,gt){var Et,Xt,mr=-1,Cr=et[1],Dr=0,_n=7,In=4;for(Cr===0&&(_n=138,In=3),Et=0;Et<=gt;Et++)if(Xt=Cr,Cr=et[2*(Et+1)+1],!(++Dr<_n&&Xt===Cr)){if(Dr<In)for(;Dt(Jt,Xt,Jt.bl_tree),--Dr!=0;);else Xt!==0?(Xt!==mr&&(Dt(Jt,Xt,Jt.bl_tree),Dr--),Dt(Jt,Le,Jt.bl_tree),Bt(Jt,Dr-3,2)):Dr<=10?(Dt(Jt,Ge,Jt.bl_tree),Bt(Jt,Dr-3,3)):(Dt(Jt,ze,Jt.bl_tree),Bt(Jt,Dr-11,7));mr=Xt,In=(Dr=0)===Cr?(_n=138,3):Xt===Cr?(_n=6,3):(_n=7,4)}}I(bt);var tr=!1;function Ft(Jt,et,gt,Et){Bt(Jt,(O<<1)+(Et?1:0),3),(function(Xt,mr,Cr,Dr){Je(Xt),Gt(Xt,Cr),Gt(Xt,~Cr),z.arraySet(Xt.pending_buf,Xt.window,mr,Cr,Xt.pending),Xt.pending+=Cr})(Jt,et,gt)}M._tr_init=function(Jt){tr||((function(){var et,gt,Et,Xt,mr,Cr=new Array(te+1);for(Xt=Et=0;Xt<A-1;Xt++)for(vt[Xt]=Et,et=0;et<1<<je[Xt];et++)Qe[Et++]=Xt;for(Qe[Et-1]=Xt,Xt=mr=0;Xt<16;Xt++)for(bt[Xt]=mr,et=0;et<1<<Be[Xt];et++)Ze[mr++]=Xt;for(mr>>=7;Xt<q;Xt++)for(bt[Xt]=mr<<7,et=0;et<1<<Be[Xt]-7;et++)Ze[256+mr++]=Xt;for(gt=0;gt<=te;gt++)Cr[gt]=0;for(et=0;et<=143;)tt[2*et+1]=8,et++,Cr[8]++;for(;et<=255;)tt[2*et+1]=9,et++,Cr[9]++;for(;et<=279;)tt[2*et+1]=7,et++,Cr[7]++;for(;et<=287;)tt[2*et+1]=8,et++,Cr[8]++;for(It(tt,U+1,Cr),et=0;et<q;et++)Ke[2*et+1]=5,Ke[2*et]=Ct(et,5);pt=new ar(tt,je,T+1,U,te),ut=new ar(Ke,Be,0,q,te),Mt=new ar(new Array(0),_e,0,K,ue)})(),tr=!0),Jt.l_desc=new dt(Jt.dyn_ltree,pt),Jt.d_desc=new dt(Jt.dyn_dtree,ut),Jt.bl_desc=new dt(Jt.bl_tree,Mt),Jt.bi_buf=0,Jt.bi_valid=0,lr(Jt)},M._tr_stored_block=Ft,M._tr_flush_block=function(Jt,et,gt,Et){var Xt,mr,Cr=0;0<Jt.level?(Jt.strm.data_type===2&&(Jt.strm.data_type=(function(Dr){var _n,In=4093624447;for(_n=0;_n<=31;_n++,In>>>=1)if(1&In&&Dr.dyn_ltree[2*_n]!==0)return B;if(Dr.dyn_ltree[18]!==0||Dr.dyn_ltree[20]!==0||Dr.dyn_ltree[26]!==0)return R;for(_n=32;_n<T;_n++)if(Dr.dyn_ltree[2*_n]!==0)return R;return B})(Jt)),Wt(Jt,Jt.l_desc),Wt(Jt,Jt.d_desc),Cr=(function(Dr){var _n;for(rt(Dr,Dr.dyn_ltree,Dr.l_desc.max_code),rt(Dr,Dr.dyn_dtree,Dr.d_desc.max_code),Wt(Dr,Dr.bl_desc),_n=K-1;3<=_n&&Dr.bl_tree[2*He[_n]+1]===0;_n--);return Dr.opt_len+=3*(_n+1)+5+5+4,_n})(Jt),Xt=Jt.opt_len+3+7>>>3,(mr=Jt.static_len+3+7>>>3)<=Xt&&(Xt=mr)):Xt=mr=gt+5,gt+4<=Xt&&et!==-1?Ft(Jt,et,gt,Et):Jt.strategy===4||mr===Xt?(Bt(Jt,2+(Et?1:0),3),it(Jt,tt,Ke)):(Bt(Jt,4+(Et?1:0),3),(function(Dr,_n,In,Fn){var ti;for(Bt(Dr,_n-257,5),Bt(Dr,In-1,5),Bt(Dr,Fn-4,4),ti=0;ti<Fn;ti++)Bt(Dr,Dr.bl_tree[2*He[ti]+1],3);ur(Dr,Dr.dyn_ltree,_n-1),ur(Dr,Dr.dyn_dtree,In-1)})(Jt,Jt.l_desc.max_code+1,Jt.d_desc.max_code+1,Cr+1),it(Jt,Jt.dyn_ltree,Jt.dyn_dtree)),lr(Jt),Et&&Je(Jt)},M._tr_tally=function(Jt,et,gt){return Jt.pending_buf[Jt.d_buf+2*Jt.last_lit]=et>>>8&255,Jt.pending_buf[Jt.d_buf+2*Jt.last_lit+1]=255&et,Jt.pending_buf[Jt.l_buf+Jt.last_lit]=255&gt,Jt.last_lit++,et===0?Jt.dyn_ltree[2*gt]++:(Jt.matches++,et--,Jt.dyn_ltree[2*(Qe[gt]+T+1)]++,Jt.dyn_dtree[2*yt(et)]++),Jt.last_lit===Jt.lit_bufsize-1},M._tr_align=function(Jt){Bt(Jt,2,3),Dt(Jt,fe,tt),(function(et){et.bi_valid===16?(Gt(et,et.bi_buf),et.bi_buf=0,et.bi_valid=0):8<=et.bi_valid&&(et.pending_buf[et.pending++]=255&et.bi_buf,et.bi_buf>>=8,et.bi_valid-=8)})(Jt)}},{"../utils/common":41}],53:[function(r,b,M){b.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,b,M){(function(z){(function(B,R){if(!B.setImmediate){var I,O,A,T,U=1,q={},K=!1,J=B.document,te=Object.getPrototypeOf&&Object.getPrototypeOf(B);te=te&&te.setTimeout?te:B,I={}.toString.call(B.process)==="[object process]"?function(Le){process.nextTick(function(){ue(Le)})}:(function(){if(B.postMessage&&!B.importScripts){var Le=!0,Ge=B.onmessage;return B.onmessage=function(){Le=!1},B.postMessage("","*"),B.onmessage=Ge,Le}})()?(T="setImmediate$"+Math.random()+"$",B.addEventListener?B.addEventListener("message",fe,!1):B.attachEvent("onmessage",fe),function(Le){B.postMessage(T+Le,"*")}):B.MessageChannel?((A=new MessageChannel).port1.onmessage=function(Le){ue(Le.data)},function(Le){A.port2.postMessage(Le)}):J&&"onreadystatechange"in J.createElement("script")?(O=J.documentElement,function(Le){var Ge=J.createElement("script");Ge.onreadystatechange=function(){ue(Le),Ge.onreadystatechange=null,O.removeChild(Ge),Ge=null},O.appendChild(Ge)}):function(Le){setTimeout(ue,0,Le)},te.setImmediate=function(Le){typeof Le!="function"&&(Le=new Function(""+Le));for(var Ge=new Array(arguments.length-1),ze=0;ze<Ge.length;ze++)Ge[ze]=arguments[ze+1];var je={callback:Le,args:Ge};return q[U]=je,I(U),U++},te.clearImmediate=oe}function oe(Le){delete q[Le]}function ue(Le){if(K)setTimeout(ue,0,Le);else{var Ge=q[Le];if(Ge){K=!0;try{(function(ze){var je=ze.callback,Be=ze.args;switch(Be.length){case 0:je();break;case 1:je(Be[0]);break;case 2:je(Be[0],Be[1]);break;case 3:je(Be[0],Be[1],Be[2]);break;default:je.apply(R,Be)}})(Ge)}finally{oe(Le),K=!1}}}}function fe(Le){Le.source===B&&typeof Le.data=="string"&&Le.data.indexOf(T)===0&&ue(+Le.data.slice(T.length))}})(typeof self>"u"?z===void 0?this:z:self)}).call(this,typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(jszip_min)),jszip_min.exports}var jszip_minExports=requireJszip_min();const JSZip=getDefaultExportFromCjs(jszip_minExports);var togeojson={exports:{}},lib={},dom={},conventions={},hasRequiredConventions;function requireConventions(){if(hasRequiredConventions)return conventions;hasRequiredConventions=1;function y(z,B,R){if(R===void 0&&(R=Array.prototype),z&&typeof R.find=="function")return R.find.call(z,B);for(var I=0;I<z.length;I++)if(Object.prototype.hasOwnProperty.call(z,I)){var O=z[I];if(B.call(void 0,O,I,z))return O}}function x(z,B){return B===void 0&&(B=Object),B&&typeof B.freeze=="function"?B.freeze(z):z}function r(z,B){if(z===null||typeof z!="object")throw new TypeError("target is not an object");for(var R in B)Object.prototype.hasOwnProperty.call(B,R)&&(z[R]=B[R]);return z}var b=x({HTML:"text/html",isHTML:function(z){return z===b.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),M=x({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(z){return z===M.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});return conventions.assign=r,conventions.find=y,conventions.freeze=x,conventions.MIME_TYPE=b,conventions.NAMESPACE=M,conventions}var hasRequiredDom;function requireDom(){if(hasRequiredDom)return dom;hasRequiredDom=1;var y=requireConventions(),x=y.find,r=y.NAMESPACE;function b(wt){return wt!==""}function M(wt){return wt?wt.split(/[\t\n\f\r ]+/).filter(b):[]}function z(wt,_t){return wt.hasOwnProperty(_t)||(wt[_t]=!0),wt}function B(wt){if(!wt)return[];var _t=M(wt);return Object.keys(_t.reduce(z,{}))}function R(wt){return function(_t){return wt&&wt.indexOf(_t)!==-1}}function I(wt,_t){for(var jt in wt)Object.prototype.hasOwnProperty.call(wt,jt)&&(_t[jt]=wt[jt])}function O(wt,_t){var jt=wt.prototype;if(!(jt instanceof _t)){let Yt=function(){};var nr=Yt;Yt.prototype=_t.prototype,Yt=new Yt,I(jt,Yt),wt.prototype=jt=Yt}jt.constructor!=wt&&(typeof wt!="function"&&console.error("unknown Class:"+wt),jt.constructor=wt)}var A={},T=A.ELEMENT_NODE=1,U=A.ATTRIBUTE_NODE=2,q=A.TEXT_NODE=3,K=A.CDATA_SECTION_NODE=4,J=A.ENTITY_REFERENCE_NODE=5,te=A.ENTITY_NODE=6,oe=A.PROCESSING_INSTRUCTION_NODE=7,ue=A.COMMENT_NODE=8,fe=A.DOCUMENT_NODE=9,Le=A.DOCUMENT_TYPE_NODE=10,Ge=A.DOCUMENT_FRAGMENT_NODE=11,ze=A.NOTATION_NODE=12,je={},Be={};je.INDEX_SIZE_ERR=(Be[1]="Index size error",1),je.DOMSTRING_SIZE_ERR=(Be[2]="DOMString size error",2);var _e=je.HIERARCHY_REQUEST_ERR=(Be[3]="Hierarchy request error",3);je.WRONG_DOCUMENT_ERR=(Be[4]="Wrong document",4),je.INVALID_CHARACTER_ERR=(Be[5]="Invalid character",5),je.NO_DATA_ALLOWED_ERR=(Be[6]="No data allowed",6),je.NO_MODIFICATION_ALLOWED_ERR=(Be[7]="No modification allowed",7);var He=je.NOT_FOUND_ERR=(Be[8]="Not found",8);je.NOT_SUPPORTED_ERR=(Be[9]="Not supported",9);var tt=je.INUSE_ATTRIBUTE_ERR=(Be[10]="Attribute in use",10);je.INVALID_STATE_ERR=(Be[11]="Invalid state",11),je.SYNTAX_ERR=(Be[12]="Syntax error",12),je.INVALID_MODIFICATION_ERR=(Be[13]="Invalid modification",13),je.NAMESPACE_ERR=(Be[14]="Invalid namespace",14),je.INVALID_ACCESS_ERR=(Be[15]="Invalid access",15);function Ke(wt,_t){if(_t instanceof Error)var jt=_t;else jt=this,Error.call(this,Be[wt]),this.message=Be[wt],Error.captureStackTrace&&Error.captureStackTrace(this,Ke);return jt.code=wt,_t&&(this.message=this.message+": "+_t),jt}Ke.prototype=Error.prototype,I(je,Ke);function Ze(){}Ze.prototype={length:0,item:function(wt){return wt>=0&&wt<this.length?this[wt]:null},toString:function(wt,_t){for(var jt=[],nr=0;nr<this.length;nr++)Ei(this[nr],jt,wt,_t);return jt.join("")},filter:function(wt){return Array.prototype.filter.call(this,wt)},indexOf:function(wt){return Array.prototype.indexOf.call(this,wt)}};function Qe(wt,_t){this._node=wt,this._refresh=_t,vt(this)}function vt(wt){var _t=wt._node._inc||wt._node.ownerDocument._inc;if(wt._inc!==_t){var jt=wt._refresh(wt._node);if(ha(wt,"length",jt.length),!wt.$$length||jt.length<wt.$$length)for(var nr=jt.length;nr in wt;nr++)Object.prototype.hasOwnProperty.call(wt,nr)&&delete wt[nr];I(jt,wt),wt._inc=_t}}Qe.prototype.item=function(wt){return vt(this),this[wt]||null},O(Qe,Ze);function pt(){}function ut(wt,_t){for(var jt=wt.length;jt--;)if(wt[jt]===_t)return jt}function Mt(wt,_t,jt,nr){if(nr?_t[ut(_t,nr)]=jt:_t[_t.length++]=jt,wt){jt.ownerElement=wt;var Yt=wt.ownerDocument;Yt&&(nr&&Ct(Yt,wt,nr),Dt(Yt,wt,jt))}}function bt(wt,_t,jt){var nr=ut(_t,jt);if(nr>=0){for(var Yt=_t.length-1;nr<Yt;)_t[nr]=_t[++nr];if(_t.length=Yt,wt){var Nr=wt.ownerDocument;Nr&&(Ct(Nr,wt,jt),jt.ownerElement=null)}}else throw new Ke(He,new Error(wt.tagName+"@"+jt))}pt.prototype={length:0,item:Ze.prototype.item,getNamedItem:function(wt){for(var _t=this.length;_t--;){var jt=this[_t];if(jt.nodeName==wt)return jt}},setNamedItem:function(wt){var _t=wt.ownerElement;if(_t&&_t!=this._ownerElement)throw new Ke(tt);var jt=this.getNamedItem(wt.nodeName);return Mt(this._ownerElement,this,wt,jt),jt},setNamedItemNS:function(wt){var _t=wt.ownerElement,jt;if(_t&&_t!=this._ownerElement)throw new Ke(tt);return jt=this.getNamedItemNS(wt.namespaceURI,wt.localName),Mt(this._ownerElement,this,wt,jt),jt},removeNamedItem:function(wt){var _t=this.getNamedItem(wt);return bt(this._ownerElement,this,_t),_t},removeNamedItemNS:function(wt,_t){var jt=this.getNamedItemNS(wt,_t);return bt(this._ownerElement,this,jt),jt},getNamedItemNS:function(wt,_t){for(var jt=this.length;jt--;){var nr=this[jt];if(nr.localName==_t&&nr.namespaceURI==wt)return nr}return null}};function ar(){}ar.prototype={hasFeature:function(wt,_t){return!0},createDocument:function(wt,_t,jt){var nr=new Bt;if(nr.implementation=this,nr.childNodes=new Ze,nr.doctype=jt||null,jt&&nr.appendChild(jt),_t){var Yt=nr.createElementNS(wt,_t);nr.appendChild(Yt)}return nr},createDocumentType:function(wt,_t,jt){var nr=new Fn;return nr.name=wt,nr.nodeName=wt,nr.publicId=_t||"",nr.systemId=jt||"",nr}};function dt(){}dt.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(wt,_t){return et(this,wt,_t)},replaceChild:function(wt,_t){et(this,wt,_t,Jt),_t&&this.removeChild(_t)},removeChild:function(wt){return lr(this,wt)},appendChild:function(wt){return this.insertBefore(wt,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(wt){return Vn(this.ownerDocument||this,this,wt)},normalize:function(){for(var wt=this.firstChild;wt;){var _t=wt.nextSibling;_t&&_t.nodeType==q&&wt.nodeType==q?(this.removeChild(_t),wt.appendData(_t.data)):(wt.normalize(),wt=_t)}},isSupported:function(wt,_t){return this.ownerDocument.implementation.hasFeature(wt,_t)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(wt){for(var _t=this;_t;){var jt=_t._nsMap;if(jt){for(var nr in jt)if(Object.prototype.hasOwnProperty.call(jt,nr)&&jt[nr]===wt)return nr}_t=_t.nodeType==U?_t.ownerDocument:_t.parentNode}return null},lookupNamespaceURI:function(wt){for(var _t=this;_t;){var jt=_t._nsMap;if(jt&&Object.prototype.hasOwnProperty.call(jt,wt))return jt[wt];_t=_t.nodeType==U?_t.ownerDocument:_t.parentNode}return null},isDefaultNamespace:function(wt){var _t=this.lookupPrefix(wt);return _t==null}};function yt(wt){return wt=="<"&&"&lt;"||wt==">"&&"&gt;"||wt=="&"&&"&amp;"||wt=='"'&&"&quot;"||"&#"+wt.charCodeAt()+";"}I(A,dt),I(A,dt.prototype);function Gt(wt,_t){if(_t(wt))return!0;if(wt=wt.firstChild)do if(Gt(wt,_t))return!0;while(wt=wt.nextSibling)}function Bt(){this.ownerDocument=this}function Dt(wt,_t,jt){wt&&wt._inc++;var nr=jt.namespaceURI;nr===r.XMLNS&&(_t._nsMap[jt.prefix?jt.localName:""]=jt.value)}function Ct(wt,_t,jt,nr){wt&&wt._inc++;var Yt=jt.namespaceURI;Yt===r.XMLNS&&delete _t._nsMap[jt.prefix?jt.localName:""]}function It(wt,_t,jt){if(wt&&wt._inc){wt._inc++;var nr=_t.childNodes;if(jt)nr[nr.length++]=jt;else{for(var Yt=_t.firstChild,Nr=0;Yt;)nr[Nr++]=Yt,Yt=Yt.nextSibling;nr.length=Nr,delete nr[nr.length]}}}function lr(wt,_t){var jt=_t.previousSibling,nr=_t.nextSibling;return jt?jt.nextSibling=nr:wt.firstChild=nr,nr?nr.previousSibling=jt:wt.lastChild=jt,_t.parentNode=null,_t.previousSibling=null,_t.nextSibling=null,It(wt.ownerDocument,wt),_t}function Je(wt){return wt&&(wt.nodeType===dt.DOCUMENT_NODE||wt.nodeType===dt.DOCUMENT_FRAGMENT_NODE||wt.nodeType===dt.ELEMENT_NODE)}function Ve(wt){return wt&&(it(wt)||Wt(wt)||st(wt)||wt.nodeType===dt.DOCUMENT_FRAGMENT_NODE||wt.nodeType===dt.COMMENT_NODE||wt.nodeType===dt.PROCESSING_INSTRUCTION_NODE)}function st(wt){return wt&&wt.nodeType===dt.DOCUMENT_TYPE_NODE}function it(wt){return wt&&wt.nodeType===dt.ELEMENT_NODE}function Wt(wt){return wt&&wt.nodeType===dt.TEXT_NODE}function rt(wt,_t){var jt=wt.childNodes||[];if(x(jt,it)||st(_t))return!1;var nr=x(jt,st);return!(_t&&nr&&jt.indexOf(nr)>jt.indexOf(_t))}function ur(wt,_t){var jt=wt.childNodes||[];function nr(Nr){return it(Nr)&&Nr!==_t}if(x(jt,nr))return!1;var Yt=x(jt,st);return!(_t&&Yt&&jt.indexOf(Yt)>jt.indexOf(_t))}function tr(wt,_t,jt){if(!Je(wt))throw new Ke(_e,"Unexpected parent node type "+wt.nodeType);if(jt&&jt.parentNode!==wt)throw new Ke(He,"child not in parent");if(!Ve(_t)||st(_t)&&wt.nodeType!==dt.DOCUMENT_NODE)throw new Ke(_e,"Unexpected node type "+_t.nodeType+" for parent node type "+wt.nodeType)}function Ft(wt,_t,jt){var nr=wt.childNodes||[],Yt=_t.childNodes||[];if(_t.nodeType===dt.DOCUMENT_FRAGMENT_NODE){var Nr=Yt.filter(it);if(Nr.length>1||x(Yt,Wt))throw new Ke(_e,"More than one element or text in fragment");if(Nr.length===1&&!rt(wt,jt))throw new Ke(_e,"Element in fragment can not be inserted before doctype")}if(it(_t)&&!rt(wt,jt))throw new Ke(_e,"Only one element can be added and only after doctype");if(st(_t)){if(x(nr,st))throw new Ke(_e,"Only one doctype is allowed");var Gr=x(nr,it);if(jt&&nr.indexOf(Gr)<nr.indexOf(jt))throw new Ke(_e,"Doctype can only be inserted before an element");if(!jt&&Gr)throw new Ke(_e,"Doctype can not be appended since element is present")}}function Jt(wt,_t,jt){var nr=wt.childNodes||[],Yt=_t.childNodes||[];if(_t.nodeType===dt.DOCUMENT_FRAGMENT_NODE){var Nr=Yt.filter(it);if(Nr.length>1||x(Yt,Wt))throw new Ke(_e,"More than one element or text in fragment");if(Nr.length===1&&!ur(wt,jt))throw new Ke(_e,"Element in fragment can not be inserted before doctype")}if(it(_t)&&!ur(wt,jt))throw new Ke(_e,"Only one element can be added and only after doctype");if(st(_t)){let Mn=function(hn){return st(hn)&&hn!==jt};var Vr=Mn;if(x(nr,Mn))throw new Ke(_e,"Only one doctype is allowed");var Gr=x(nr,it);if(jt&&nr.indexOf(Gr)<nr.indexOf(jt))throw new Ke(_e,"Doctype can only be inserted before an element")}}function et(wt,_t,jt,nr){tr(wt,_t,jt),wt.nodeType===dt.DOCUMENT_NODE&&(nr||Ft)(wt,_t,jt);var Yt=_t.parentNode;if(Yt&&Yt.removeChild(_t),_t.nodeType===Ge){var Nr=_t.firstChild;if(Nr==null)return _t;var Gr=_t.lastChild}else Nr=Gr=_t;var Vr=jt?jt.previousSibling:wt.lastChild;Nr.previousSibling=Vr,Gr.nextSibling=jt,Vr?Vr.nextSibling=Nr:wt.firstChild=Nr,jt==null?wt.lastChild=Gr:jt.previousSibling=Gr;do{Nr.parentNode=wt;var Mn=wt.ownerDocument||wt;gt(Nr,Mn)}while(Nr!==Gr&&(Nr=Nr.nextSibling));return It(wt.ownerDocument||wt,wt),_t.nodeType==Ge&&(_t.firstChild=_t.lastChild=null),_t}function gt(wt,_t){if(wt.ownerDocument!==_t){if(wt.ownerDocument=_t,wt.nodeType===T&&wt.attributes)for(var jt=0;jt<wt.attributes.length;jt++){var nr=wt.attributes.item(jt);nr&&(nr.ownerDocument=_t)}for(var Yt=wt.firstChild;Yt;)gt(Yt,_t),Yt=Yt.nextSibling}}function Et(wt,_t){_t.parentNode&&_t.parentNode.removeChild(_t),_t.parentNode=wt,_t.previousSibling=wt.lastChild,_t.nextSibling=null,_t.previousSibling?_t.previousSibling.nextSibling=_t:wt.firstChild=_t,wt.lastChild=_t,It(wt.ownerDocument,wt,_t);var jt=wt.ownerDocument||wt;return gt(_t,jt),_t}Bt.prototype={nodeName:"#document",nodeType:fe,doctype:null,documentElement:null,_inc:1,insertBefore:function(wt,_t){if(wt.nodeType==Ge){for(var jt=wt.firstChild;jt;){var nr=jt.nextSibling;this.insertBefore(jt,_t),jt=nr}return wt}return et(this,wt,_t),gt(wt,this),this.documentElement===null&&wt.nodeType===T&&(this.documentElement=wt),wt},removeChild:function(wt){return this.documentElement==wt&&(this.documentElement=null),lr(this,wt)},replaceChild:function(wt,_t){et(this,wt,_t,Jt),gt(wt,this),_t&&this.removeChild(_t),it(wt)&&(this.documentElement=wt)},importNode:function(wt,_t){return fa(this,wt,_t)},getElementById:function(wt){var _t=null;return Gt(this.documentElement,function(jt){if(jt.nodeType==T&&jt.getAttribute("id")==wt)return _t=jt,!0}),_t},getElementsByClassName:function(wt){var _t=B(wt);return new Qe(this,function(jt){var nr=[];return _t.length>0&&Gt(jt.documentElement,function(Yt){if(Yt!==jt&&Yt.nodeType===T){var Nr=Yt.getAttribute("class");if(Nr){var Gr=wt===Nr;if(!Gr){var Vr=B(Nr);Gr=_t.every(R(Vr))}Gr&&nr.push(Yt)}}}),nr})},createElement:function(wt){var _t=new Xt;_t.ownerDocument=this,_t.nodeName=wt,_t.tagName=wt,_t.localName=wt,_t.childNodes=new Ze;var jt=_t.attributes=new pt;return jt._ownerElement=_t,_t},createDocumentFragment:function(){var wt=new wi;return wt.ownerDocument=this,wt.childNodes=new Ze,wt},createTextNode:function(wt){var _t=new Dr;return _t.ownerDocument=this,_t.appendData(wt),_t},createComment:function(wt){var _t=new _n;return _t.ownerDocument=this,_t.appendData(wt),_t},createCDATASection:function(wt){var _t=new In;return _t.ownerDocument=this,_t.appendData(wt),_t},createProcessingInstruction:function(wt,_t){var jt=new oi;return jt.ownerDocument=this,jt.tagName=jt.nodeName=jt.target=wt,jt.nodeValue=jt.data=_t,jt},createAttribute:function(wt){var _t=new mr;return _t.ownerDocument=this,_t.name=wt,_t.nodeName=wt,_t.localName=wt,_t.specified=!0,_t},createEntityReference:function(wt){var _t=new vi;return _t.ownerDocument=this,_t.nodeName=wt,_t},createElementNS:function(wt,_t){var jt=new Xt,nr=_t.split(":"),Yt=jt.attributes=new pt;return jt.childNodes=new Ze,jt.ownerDocument=this,jt.nodeName=_t,jt.tagName=_t,jt.namespaceURI=wt,nr.length==2?(jt.prefix=nr[0],jt.localName=nr[1]):jt.localName=_t,Yt._ownerElement=jt,jt},createAttributeNS:function(wt,_t){var jt=new mr,nr=_t.split(":");return jt.ownerDocument=this,jt.nodeName=_t,jt.name=_t,jt.namespaceURI=wt,jt.specified=!0,nr.length==2?(jt.prefix=nr[0],jt.localName=nr[1]):jt.localName=_t,jt}},O(Bt,dt);function Xt(){this._nsMap={}}Xt.prototype={nodeType:T,hasAttribute:function(wt){return this.getAttributeNode(wt)!=null},getAttribute:function(wt){var _t=this.getAttributeNode(wt);return _t&&_t.value||""},getAttributeNode:function(wt){return this.attributes.getNamedItem(wt)},setAttribute:function(wt,_t){var jt=this.ownerDocument.createAttribute(wt);jt.value=jt.nodeValue=""+_t,this.setAttributeNode(jt)},removeAttribute:function(wt){var _t=this.getAttributeNode(wt);_t&&this.removeAttributeNode(_t)},appendChild:function(wt){return wt.nodeType===Ge?this.insertBefore(wt,null):Et(this,wt)},setAttributeNode:function(wt){return this.attributes.setNamedItem(wt)},setAttributeNodeNS:function(wt){return this.attributes.setNamedItemNS(wt)},removeAttributeNode:function(wt){return this.attributes.removeNamedItem(wt.nodeName)},removeAttributeNS:function(wt,_t){var jt=this.getAttributeNodeNS(wt,_t);jt&&this.removeAttributeNode(jt)},hasAttributeNS:function(wt,_t){return this.getAttributeNodeNS(wt,_t)!=null},getAttributeNS:function(wt,_t){var jt=this.getAttributeNodeNS(wt,_t);return jt&&jt.value||""},setAttributeNS:function(wt,_t,jt){var nr=this.ownerDocument.createAttributeNS(wt,_t);nr.value=nr.nodeValue=""+jt,this.setAttributeNode(nr)},getAttributeNodeNS:function(wt,_t){return this.attributes.getNamedItemNS(wt,_t)},getElementsByTagName:function(wt){return new Qe(this,function(_t){var jt=[];return Gt(_t,function(nr){nr!==_t&&nr.nodeType==T&&(wt==="*"||nr.tagName==wt)&&jt.push(nr)}),jt})},getElementsByTagNameNS:function(wt,_t){return new Qe(this,function(jt){var nr=[];return Gt(jt,function(Yt){Yt!==jt&&Yt.nodeType===T&&(wt==="*"||Yt.namespaceURI===wt)&&(_t==="*"||Yt.localName==_t)&&nr.push(Yt)}),nr})}},Bt.prototype.getElementsByTagName=Xt.prototype.getElementsByTagName,Bt.prototype.getElementsByTagNameNS=Xt.prototype.getElementsByTagNameNS,O(Xt,dt);function mr(){}mr.prototype.nodeType=U,O(mr,dt);function Cr(){}Cr.prototype={data:"",substringData:function(wt,_t){return this.data.substring(wt,wt+_t)},appendData:function(wt){wt=this.data+wt,this.nodeValue=this.data=wt,this.length=wt.length},insertData:function(wt,_t){this.replaceData(wt,0,_t)},appendChild:function(wt){throw new Error(Be[_e])},deleteData:function(wt,_t){this.replaceData(wt,_t,"")},replaceData:function(wt,_t,jt){var nr=this.data.substring(0,wt),Yt=this.data.substring(wt+_t);jt=nr+jt+Yt,this.nodeValue=this.data=jt,this.length=jt.length}},O(Cr,dt);function Dr(){}Dr.prototype={nodeName:"#text",nodeType:q,splitText:function(wt){var _t=this.data,jt=_t.substring(wt);_t=_t.substring(0,wt),this.data=this.nodeValue=_t,this.length=_t.length;var nr=this.ownerDocument.createTextNode(jt);return this.parentNode&&this.parentNode.insertBefore(nr,this.nextSibling),nr}},O(Dr,Cr);function _n(){}_n.prototype={nodeName:"#comment",nodeType:ue},O(_n,Cr);function In(){}In.prototype={nodeName:"#cdata-section",nodeType:K},O(In,Cr);function Fn(){}Fn.prototype.nodeType=Le,O(Fn,dt);function ti(){}ti.prototype.nodeType=ze,O(ti,dt);function Qn(){}Qn.prototype.nodeType=te,O(Qn,dt);function vi(){}vi.prototype.nodeType=J,O(vi,dt);function wi(){}wi.prototype.nodeName="#document-fragment",wi.prototype.nodeType=Ge,O(wi,dt);function oi(){}oi.prototype.nodeType=oe,O(oi,dt);function Si(){}Si.prototype.serializeToString=function(wt,_t,jt){return Gi.call(wt,_t,jt)},dt.prototype.toString=Gi;function Gi(wt,_t){var jt=[],nr=this.nodeType==9&&this.documentElement||this,Yt=nr.prefix,Nr=nr.namespaceURI;if(Nr&&Yt==null){var Yt=nr.lookupPrefix(Nr);if(Yt==null)var Gr=[{namespace:Nr,prefix:null}]}return Ei(this,jt,wt,_t,Gr),jt.join("")}function ai(wt,_t,jt){var nr=wt.prefix||"",Yt=wt.namespaceURI;if(!Yt||nr==="xml"&&Yt===r.XML||Yt===r.XMLNS)return!1;for(var Nr=jt.length;Nr--;){var Gr=jt[Nr];if(Gr.prefix===nr)return Gr.namespace!==Yt}return!0}function zi(wt,_t,jt){wt.push(" ",_t,'="',jt.replace(/[<>&"\t\n\r]/g,yt),'"')}function Ei(wt,_t,jt,nr,Yt){if(Yt||(Yt=[]),nr)if(wt=nr(wt),wt){if(typeof wt=="string"){_t.push(wt);return}}else return;switch(wt.nodeType){case T:var Nr=wt.attributes,Gr=Nr.length,gr=wt.firstChild,Vr=wt.tagName;jt=r.isHTML(wt.namespaceURI)||jt;var Mn=Vr;if(!jt&&!wt.prefix&&wt.namespaceURI){for(var hn,vn=0;vn<Nr.length;vn++)if(Nr.item(vn).name==="xmlns"){hn=Nr.item(vn).value;break}if(!hn)for(var Dn=Yt.length-1;Dn>=0;Dn--){var kn=Yt[Dn];if(kn.prefix===""&&kn.namespace===wt.namespaceURI){hn=kn.namespace;break}}if(hn!==wt.namespaceURI)for(var Dn=Yt.length-1;Dn>=0;Dn--){var kn=Yt[Dn];if(kn.namespace===wt.namespaceURI){kn.prefix&&(Mn=kn.prefix+":"+Vr);break}}}_t.push("<",Mn);for(var Zt=0;Zt<Gr;Zt++){var _r=Nr.item(Zt);_r.prefix=="xmlns"?Yt.push({prefix:_r.localName,namespace:_r.value}):_r.nodeName=="xmlns"&&Yt.push({prefix:"",namespace:_r.value})}for(var Zt=0;Zt<Gr;Zt++){var _r=Nr.item(Zt);if(ai(_r,jt,Yt)){var fr=_r.prefix||"",pr=_r.namespaceURI;zi(_t,fr?"xmlns:"+fr:"xmlns",pr),Yt.push({prefix:fr,namespace:pr})}Ei(_r,_t,jt,nr,Yt)}if(Vr===Mn&&ai(wt,jt,Yt)){var fr=wt.prefix||"",pr=wt.namespaceURI;zi(_t,fr?"xmlns:"+fr:"xmlns",pr),Yt.push({prefix:fr,namespace:pr})}if(gr||jt&&!/^(?:meta|link|img|br|hr|input)$/i.test(Vr)){if(_t.push(">"),jt&&/^script$/i.test(Vr))for(;gr;)gr.data?_t.push(gr.data):Ei(gr,_t,jt,nr,Yt.slice()),gr=gr.nextSibling;else for(;gr;)Ei(gr,_t,jt,nr,Yt.slice()),gr=gr.nextSibling;_t.push("</",Mn,">")}else _t.push("/>");return;case fe:case Ge:for(var gr=wt.firstChild;gr;)Ei(gr,_t,jt,nr,Yt.slice()),gr=gr.nextSibling;return;case U:return zi(_t,wt.name,wt.value);case q:return _t.push(wt.data.replace(/[<&>]/g,yt));case K:return _t.push("<![CDATA[",wt.data,"]]>");case ue:return _t.push("<!--",wt.data,"-->");case Le:var Ar=wt.publicId,Xr=wt.systemId;if(_t.push("<!DOCTYPE ",wt.name),Ar)_t.push(" PUBLIC ",Ar),Xr&&Xr!="."&&_t.push(" ",Xr),_t.push(">");else if(Xr&&Xr!=".")_t.push(" SYSTEM ",Xr,">");else{var cn=wt.internalSubset;cn&&_t.push(" [",cn,"]"),_t.push(">")}return;case oe:return _t.push("<?",wt.target," ",wt.data,"?>");case J:return _t.push("&",wt.nodeName,";");default:_t.push("??",wt.nodeName)}}function fa(wt,_t,jt){var nr;switch(_t.nodeType){case T:nr=_t.cloneNode(!1),nr.ownerDocument=wt;case Ge:break;case U:jt=!0;break}if(nr||(nr=_t.cloneNode(!1)),nr.ownerDocument=wt,nr.parentNode=null,jt)for(var Yt=_t.firstChild;Yt;)nr.appendChild(fa(wt,Yt,jt)),Yt=Yt.nextSibling;return nr}function Vn(wt,_t,jt){var nr=new _t.constructor;for(var Yt in _t)if(Object.prototype.hasOwnProperty.call(_t,Yt)){var Nr=_t[Yt];typeof Nr!="object"&&Nr!=nr[Yt]&&(nr[Yt]=Nr)}switch(_t.childNodes&&(nr.childNodes=new Ze),nr.ownerDocument=wt,nr.nodeType){case T:var Gr=_t.attributes,Vr=nr.attributes=new pt,Mn=Gr.length;Vr._ownerElement=nr;for(var hn=0;hn<Mn;hn++)nr.setAttributeNode(Vn(wt,Gr.item(hn),!0));break;case U:jt=!0}if(jt)for(var vn=_t.firstChild;vn;)nr.appendChild(Vn(wt,vn,jt)),vn=vn.nextSibling;return nr}function ha(wt,_t,jt){wt[_t]=jt}try{if(Object.defineProperty){let wt=function(_t){switch(_t.nodeType){case T:case Ge:var jt=[];for(_t=_t.firstChild;_t;)_t.nodeType!==7&&_t.nodeType!==8&&jt.push(wt(_t)),_t=_t.nextSibling;return jt.join("");default:return _t.nodeValue}};var Na=wt;Object.defineProperty(Qe.prototype,"length",{get:function(){return vt(this),this.$$length}}),Object.defineProperty(dt.prototype,"textContent",{get:function(){return wt(this)},set:function(_t){switch(this.nodeType){case T:case Ge:for(;this.firstChild;)this.removeChild(this.firstChild);(_t||String(_t))&&this.appendChild(this.ownerDocument.createTextNode(_t));break;default:this.data=_t,this.value=_t,this.nodeValue=_t}}}),ha=function(_t,jt,nr){_t["$$"+jt]=nr}}}catch{}return dom.DocumentType=Fn,dom.DOMException=Ke,dom.DOMImplementation=ar,dom.Element=Xt,dom.Node=dt,dom.NodeList=Ze,dom.XMLSerializer=Si,dom}var domParser={},entities={},hasRequiredEntities;function requireEntities(){return hasRequiredEntities||(hasRequiredEntities=1,(function(y){var x=requireConventions().freeze;y.XML_ENTITIES=x({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),y.HTML_ENTITIES=x({Aacute:"",aacute:"",Abreve:"",abreve:"",ac:"",acd:"",acE:"",Acirc:"",acirc:"",acute:"",Acy:"",acy:"",AElig:"",aelig:"",af:"",Afr:"",afr:"",Agrave:"",agrave:"",alefsym:"",aleph:"",Alpha:"",alpha:"",Amacr:"",amacr:"",amalg:"",AMP:"&",amp:"&",And:"",and:"",andand:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsd:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",Aogon:"",aogon:"",Aopf:"",aopf:"",ap:"",apacir:"",apE:"",ape:"",apid:"",apos:"'",ApplyFunction:"",approx:"",approxeq:"",Aring:"",aring:"",Ascr:"",ascr:"",Assign:"",ast:"*",asymp:"",asympeq:"",Atilde:"",atilde:"",Auml:"",auml:"",awconint:"",awint:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",Backslash:"",Barv:"",barvee:"",Barwed:"",barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",Bcy:"",bcy:"",bdquo:"",becaus:"",Because:"",because:"",bemptyv:"",bepsi:"",bernou:"",Bernoullis:"",Beta:"",beta:"",beth:"",between:"",Bfr:"",bfr:"",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bNot:"",bnot:"",Bopf:"",bopf:"",bot:"",bottom:"",bowtie:"",boxbox:"",boxDL:"",boxDl:"",boxdL:"",boxdl:"",boxDR:"",boxDr:"",boxdR:"",boxdr:"",boxH:"",boxh:"",boxHD:"",boxHd:"",boxhD:"",boxhd:"",boxHU:"",boxHu:"",boxhU:"",boxhu:"",boxminus:"",boxplus:"",boxtimes:"",boxUL:"",boxUl:"",boxuL:"",boxul:"",boxUR:"",boxUr:"",boxuR:"",boxur:"",boxV:"",boxv:"",boxVH:"",boxVh:"",boxvH:"",boxvh:"",boxVL:"",boxVl:"",boxvL:"",boxvl:"",boxVR:"",boxVr:"",boxvR:"",boxvr:"",bprime:"",Breve:"",breve:"",brvbar:"",Bscr:"",bscr:"",bsemi:"",bsim:"",bsime:"",bsol:"\\",bsolb:"",bsolhsub:"",bull:"",bullet:"",bump:"",bumpE:"",bumpe:"",Bumpeq:"",bumpeq:"",Cacute:"",cacute:"",Cap:"",cap:"",capand:"",capbrcup:"",capcap:"",capcup:"",capdot:"",CapitalDifferentialD:"",caps:"",caret:"",caron:"",Cayleys:"",ccaps:"",Ccaron:"",ccaron:"",Ccedil:"",ccedil:"",Ccirc:"",ccirc:"",Cconint:"",ccups:"",ccupssm:"",Cdot:"",cdot:"",cedil:"",Cedilla:"",cemptyv:"",cent:"",CenterDot:"",centerdot:"",Cfr:"",cfr:"",CHcy:"",chcy:"",check:"",checkmark:"",Chi:"",chi:"",cir:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledast:"",circledcirc:"",circleddash:"",CircleDot:"",circledR:"",circledS:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",cirE:"",cire:"",cirfnint:"",cirmid:"",cirscir:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",clubs:"",clubsuit:"",Colon:"",colon:":",Colone:"",colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",Congruent:"",Conint:"",conint:"",ContourIntegral:"",Copf:"",copf:"",coprod:"",Coproduct:"",COPY:"",copy:"",copysr:"",CounterClockwiseContourIntegral:"",crarr:"",Cross:"",cross:"",Cscr:"",cscr:"",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",Cup:"",cup:"",cupbrcap:"",CupCap:"",cupcap:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",Dagger:"",dagger:"",daleth:"",Darr:"",dArr:"",darr:"",dash:"",Dashv:"",dashv:"",dbkarow:"",dblac:"",Dcaron:"",dcaron:"",Dcy:"",dcy:"",DD:"",dd:"",ddagger:"",ddarr:"",DDotrahd:"",ddotseq:"",deg:"",Del:"",Delta:"",delta:"",demptyv:"",dfisht:"",Dfr:"",dfr:"",dHar:"",dharl:"",dharr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",diam:"",Diamond:"",diamond:"",diamondsuit:"",diams:"",die:"",DifferentialD:"",digamma:"",disin:"",div:"",divide:"",divideontimes:"",divonx:"",DJcy:"",djcy:"",dlcorn:"",dlcrop:"",dollar:"$",Dopf:"",dopf:"",Dot:"",dot:"",DotDot:"",doteq:"",doteqdot:"",DotEqual:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",DoubleVerticalBar:"",DownArrow:"",Downarrow:"",downarrow:"",DownArrowBar:"",DownArrowUpArrow:"",DownBreve:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVector:"",DownLeftVectorBar:"",DownRightTeeVector:"",DownRightVector:"",DownRightVectorBar:"",DownTee:"",DownTeeArrow:"",drbkarow:"",drcorn:"",drcrop:"",Dscr:"",dscr:"",DScy:"",dscy:"",dsol:"",Dstrok:"",dstrok:"",dtdot:"",dtri:"",dtrif:"",duarr:"",duhar:"",dwangle:"",DZcy:"",dzcy:"",dzigrarr:"",Eacute:"",eacute:"",easter:"",Ecaron:"",ecaron:"",ecir:"",Ecirc:"",ecirc:"",ecolon:"",Ecy:"",ecy:"",eDDot:"",Edot:"",eDot:"",edot:"",ee:"",efDot:"",Efr:"",efr:"",eg:"",Egrave:"",egrave:"",egs:"",egsdot:"",el:"",Element:"",elinters:"",ell:"",els:"",elsdot:"",Emacr:"",emacr:"",empty:"",emptyset:"",EmptySmallSquare:"",emptyv:"",EmptyVerySmallSquare:"",emsp:"",emsp13:"",emsp14:"",ENG:"",eng:"",ensp:"",Eogon:"",eogon:"",Eopf:"",eopf:"",epar:"",eparsl:"",eplus:"",epsi:"",Epsilon:"",epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",Equal:"",equals:"=",EqualTilde:"",equest:"",Equilibrium:"",equiv:"",equivDD:"",eqvparsl:"",erarr:"",erDot:"",Escr:"",escr:"",esdot:"",Esim:"",esim:"",Eta:"",eta:"",ETH:"",eth:"",Euml:"",euml:"",euro:"",excl:"!",exist:"",Exists:"",expectation:"",ExponentialE:"",exponentiale:"",fallingdotseq:"",Fcy:"",fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",Ffr:"",ffr:"",filig:"",FilledSmallSquare:"",FilledVerySmallSquare:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",Fopf:"",fopf:"",ForAll:"",forall:"",fork:"",forkv:"",Fouriertrf:"",fpartint:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",Fscr:"",fscr:"",gacute:"",Gamma:"",gamma:"",Gammad:"",gammad:"",gap:"",Gbreve:"",gbreve:"",Gcedil:"",Gcirc:"",gcirc:"",Gcy:"",gcy:"",Gdot:"",gdot:"",gE:"",ge:"",gEl:"",gel:"",geq:"",geqq:"",geqslant:"",ges:"",gescc:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",Gfr:"",gfr:"",Gg:"",gg:"",ggg:"",gimel:"",GJcy:"",gjcy:"",gl:"",gla:"",glE:"",glj:"",gnap:"",gnapprox:"",gnE:"",gne:"",gneq:"",gneqq:"",gnsim:"",Gopf:"",gopf:"",grave:"`",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",Gscr:"",gscr:"",gsim:"",gsime:"",gsiml:"",Gt:"",GT:">",gt:">",gtcc:"",gtcir:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",Hacek:"",hairsp:"",half:"",hamilt:"",HARDcy:"",hardcy:"",hArr:"",harr:"",harrcir:"",harrw:"",Hat:"^",hbar:"",Hcirc:"",hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",Hfr:"",hfr:"",HilbertSpace:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",Hopf:"",hopf:"",horbar:"",HorizontalLine:"",Hscr:"",hscr:"",hslash:"",Hstrok:"",hstrok:"",HumpDownHump:"",HumpEqual:"",hybull:"",hyphen:"",Iacute:"",iacute:"",ic:"",Icirc:"",icirc:"",Icy:"",icy:"",Idot:"",IEcy:"",iecy:"",iexcl:"",iff:"",Ifr:"",ifr:"",Igrave:"",igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",IJlig:"",ijlig:"",Im:"",Imacr:"",imacr:"",image:"",ImaginaryI:"",imagline:"",imagpart:"",imath:"",imof:"",imped:"",Implies:"",in:"",incare:"",infin:"",infintie:"",inodot:"",Int:"",int:"",intcal:"",integers:"",Integral:"",intercal:"",Intersection:"",intlarhk:"",intprod:"",InvisibleComma:"",InvisibleTimes:"",IOcy:"",iocy:"",Iogon:"",iogon:"",Iopf:"",iopf:"",Iota:"",iota:"",iprod:"",iquest:"",Iscr:"",iscr:"",isin:"",isindot:"",isinE:"",isins:"",isinsv:"",isinv:"",it:"",Itilde:"",itilde:"",Iukcy:"",iukcy:"",Iuml:"",iuml:"",Jcirc:"",jcirc:"",Jcy:"",jcy:"",Jfr:"",jfr:"",jmath:"",Jopf:"",jopf:"",Jscr:"",jscr:"",Jsercy:"",jsercy:"",Jukcy:"",jukcy:"",Kappa:"",kappa:"",kappav:"",Kcedil:"",kcedil:"",Kcy:"",kcy:"",Kfr:"",kfr:"",kgreen:"",KHcy:"",khcy:"",KJcy:"",kjcy:"",Kopf:"",kopf:"",Kscr:"",kscr:"",lAarr:"",Lacute:"",lacute:"",laemptyv:"",lagran:"",Lambda:"",lambda:"",Lang:"",lang:"",langd:"",langle:"",lap:"",Laplacetrf:"",laquo:"",Larr:"",lArr:"",larr:"",larrb:"",larrbfs:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",lat:"",lAtail:"",latail:"",late:"",lates:"",lBarr:"",lbarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",Lcaron:"",lcaron:"",Lcedil:"",lcedil:"",lceil:"",lcub:"{",Lcy:"",lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",lE:"",le:"",LeftAngleBracket:"",LeftArrow:"",Leftarrow:"",leftarrow:"",LeftArrowBar:"",LeftArrowRightArrow:"",leftarrowtail:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVector:"",LeftDownVectorBar:"",LeftFloor:"",leftharpoondown:"",leftharpoonup:"",leftleftarrows:"",LeftRightArrow:"",Leftrightarrow:"",leftrightarrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",LeftRightVector:"",LeftTee:"",LeftTeeArrow:"",LeftTeeVector:"",leftthreetimes:"",LeftTriangle:"",LeftTriangleBar:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVector:"",LeftUpVectorBar:"",LeftVector:"",LeftVectorBar:"",lEg:"",leg:"",leq:"",leqq:"",leqslant:"",les:"",lescc:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",lessgtr:"",LessLess:"",lesssim:"",LessSlantEqual:"",LessTilde:"",lfisht:"",lfloor:"",Lfr:"",lfr:"",lg:"",lgE:"",lHar:"",lhard:"",lharu:"",lharul:"",lhblk:"",LJcy:"",ljcy:"",Ll:"",ll:"",llarr:"",llcorner:"",Lleftarrow:"",llhard:"",lltri:"",Lmidot:"",lmidot:"",lmoust:"",lmoustache:"",lnap:"",lnapprox:"",lnE:"",lne:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",LongLeftArrow:"",Longleftarrow:"",longleftarrow:"",LongLeftRightArrow:"",Longleftrightarrow:"",longleftrightarrow:"",longmapsto:"",LongRightArrow:"",Longrightarrow:"",longrightarrow:"",looparrowleft:"",looparrowright:"",lopar:"",Lopf:"",lopf:"",loplus:"",lotimes:"",lowast:"",lowbar:"_",LowerLeftArrow:"",LowerRightArrow:"",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",Lscr:"",lscr:"",Lsh:"",lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",Lstrok:"",lstrok:"",Lt:"",LT:"<",lt:"<",ltcc:"",ltcir:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltri:"",ltrie:"",ltrif:"",ltrPar:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",macr:"",male:"",malt:"",maltese:"",Map:"",map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",Mcy:"",mcy:"",mdash:"",mDDot:"",measuredangle:"",MediumSpace:"",Mellintrf:"",Mfr:"",mfr:"",mho:"",micro:"",mid:"",midast:"*",midcir:"",middot:"",minus:"",minusb:"",minusd:"",minusdu:"",MinusPlus:"",mlcp:"",mldr:"",mnplus:"",models:"",Mopf:"",mopf:"",mp:"",Mscr:"",mscr:"",mstpos:"",Mu:"",mu:"",multimap:"",mumap:"",nabla:"",Nacute:"",nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natur:"",natural:"",naturals:"",nbsp:"",nbump:"",nbumpe:"",ncap:"",Ncaron:"",ncaron:"",Ncedil:"",ncedil:"",ncong:"",ncongdot:"",ncup:"",Ncy:"",ncy:"",ndash:"",ne:"",nearhk:"",neArr:"",nearr:"",nearrow:"",nedot:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",nequiv:"",nesear:"",nesim:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:`
`,nexist:"",nexists:"",Nfr:"",nfr:"",ngE:"",nge:"",ngeq:"",ngeqq:"",ngeqslant:"",nges:"",nGg:"",ngsim:"",nGt:"",ngt:"",ngtr:"",nGtv:"",nhArr:"",nharr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",NJcy:"",njcy:"",nlArr:"",nlarr:"",nldr:"",nlE:"",nle:"",nLeftarrow:"",nleftarrow:"",nLeftrightarrow:"",nleftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nLl:"",nlsim:"",nLt:"",nlt:"",nltri:"",nltrie:"",nLtv:"",nmid:"",NoBreak:"",NonBreakingSpace:"",Nopf:"",nopf:"",Not:"",not:"",NotCongruent:"",NotCupCap:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",notin:"",notindot:"",notinE:"",notinva:"",notinvb:"",notinvc:"",NotLeftTriangle:"",NotLeftTriangleBar:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",notni:"",notniva:"",notnivb:"",notnivc:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangle:"",NotRightTriangleBar:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",npar:"",nparallel:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",npre:"",nprec:"",npreceq:"",nrArr:"",nrarr:"",nrarrc:"",nrarrw:"",nRightarrow:"",nrightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",Nscr:"",nscr:"",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",nsubE:"",nsube:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupE:"",nsupe:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",Ntilde:"",ntilde:"",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",Nu:"",nu:"",num:"#",numero:"",numsp:"",nvap:"",nVDash:"",nVdash:"",nvDash:"",nvdash:"",nvge:"",nvgt:">",nvHarr:"",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwarhk:"",nwArr:"",nwarr:"",nwarrow:"",nwnear:"",Oacute:"",oacute:"",oast:"",ocir:"",Ocirc:"",ocirc:"",Ocy:"",ocy:"",odash:"",Odblac:"",odblac:"",odiv:"",odot:"",odsold:"",OElig:"",oelig:"",ofcir:"",Ofr:"",ofr:"",ogon:"",Ograve:"",ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",Omacr:"",omacr:"",Omega:"",omega:"",Omicron:"",omicron:"",omid:"",ominus:"",Oopf:"",oopf:"",opar:"",OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",operp:"",oplus:"",Or:"",or:"",orarr:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oS:"",Oscr:"",oscr:"",Oslash:"",oslash:"",osol:"",Otilde:"",otilde:"",Otimes:"",otimes:"",otimesas:"",Ouml:"",ouml:"",ovbar:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",par:"",para:"",parallel:"",parsim:"",parsl:"",part:"",PartialD:"",Pcy:"",pcy:"",percnt:"%",period:".",permil:"",perp:"",pertenk:"",Pfr:"",pfr:"",Phi:"",phi:"",phiv:"",phmmat:"",phone:"",Pi:"",pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plus:"+",plusacir:"",plusb:"",pluscir:"",plusdo:"",plusdu:"",pluse:"",PlusMinus:"",plusmn:"",plussim:"",plustwo:"",pm:"",Poincareplane:"",pointint:"",Popf:"",popf:"",pound:"",Pr:"",pr:"",prap:"",prcue:"",prE:"",pre:"",prec:"",precapprox:"",preccurlyeq:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",precsim:"",Prime:"",prime:"",primes:"",prnap:"",prnE:"",prnsim:"",prod:"",Product:"",profalar:"",profline:"",profsurf:"",prop:"",Proportion:"",Proportional:"",propto:"",prsim:"",prurel:"",Pscr:"",pscr:"",Psi:"",psi:"",puncsp:"",Qfr:"",qfr:"",qint:"",Qopf:"",qopf:"",qprime:"",Qscr:"",qscr:"",quaternions:"",quatint:"",quest:"?",questeq:"",QUOT:'"',quot:'"',rAarr:"",race:"",Racute:"",racute:"",radic:"",raemptyv:"",Rang:"",rang:"",rangd:"",range:"",rangle:"",raquo:"",Rarr:"",rArr:"",rarr:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",Rarrtl:"",rarrtl:"",rarrw:"",rAtail:"",ratail:"",ratio:"",rationals:"",RBarr:"",rBarr:"",rbarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",Rcaron:"",rcaron:"",Rcedil:"",rcedil:"",rceil:"",rcub:"}",Rcy:"",rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",Re:"",real:"",realine:"",realpart:"",reals:"",rect:"",REG:"",reg:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",rfisht:"",rfloor:"",Rfr:"",rfr:"",rHar:"",rhard:"",rharu:"",rharul:"",Rho:"",rho:"",rhov:"",RightAngleBracket:"",RightArrow:"",Rightarrow:"",rightarrow:"",RightArrowBar:"",RightArrowLeftArrow:"",rightarrowtail:"",RightCeiling:"",RightDoubleBracket:"",RightDownTeeVector:"",RightDownVector:"",RightDownVectorBar:"",RightFloor:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",RightTee:"",RightTeeArrow:"",RightTeeVector:"",rightthreetimes:"",RightTriangle:"",RightTriangleBar:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVector:"",RightUpVectorBar:"",RightVector:"",RightVectorBar:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",rmoust:"",rmoustache:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",Ropf:"",ropf:"",roplus:"",rotimes:"",RoundImplies:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",Rrightarrow:"",rsaquo:"",Rscr:"",rscr:"",Rsh:"",rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",RuleDelayed:"",ruluhar:"",rx:"",Sacute:"",sacute:"",sbquo:"",Sc:"",sc:"",scap:"",Scaron:"",scaron:"",sccue:"",scE:"",sce:"",Scedil:"",scedil:"",Scirc:"",scirc:"",scnap:"",scnE:"",scnsim:"",scpolint:"",scsim:"",Scy:"",scy:"",sdot:"",sdotb:"",sdote:"",searhk:"",seArr:"",searr:"",searrow:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",Sfr:"",sfr:"",sfrown:"",sharp:"",SHCHcy:"",shchcy:"",SHcy:"",shcy:"",ShortDownArrow:"",ShortLeftArrow:"",shortmid:"",shortparallel:"",ShortRightArrow:"",ShortUpArrow:"",shy:"",Sigma:"",sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",SmallCircle:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",SOFTcy:"",softcy:"",sol:"/",solb:"",solbar:"",Sopf:"",sopf:"",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",Sqrt:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",squ:"",Square:"",square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",squarf:"",squf:"",srarr:"",Sscr:"",sscr:"",ssetmn:"",ssmile:"",sstarf:"",Star:"",star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",Sub:"",sub:"",subdot:"",subE:"",sube:"",subedot:"",submult:"",subnE:"",subne:"",subplus:"",subrarr:"",Subset:"",subset:"",subseteq:"",subseteqq:"",SubsetEqual:"",subsetneq:"",subsetneqq:"",subsim:"",subsub:"",subsup:"",succ:"",succapprox:"",succcurlyeq:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",SuchThat:"",Sum:"",sum:"",sung:"",Sup:"",sup:"",sup1:"",sup2:"",sup3:"",supdot:"",supdsub:"",supE:"",supe:"",supedot:"",Superset:"",SupersetEqual:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supnE:"",supne:"",supplus:"",Supset:"",supset:"",supseteq:"",supseteqq:"",supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swarhk:"",swArr:"",swarr:"",swarrow:"",swnwar:"",szlig:"",Tab:"	",target:"",Tau:"",tau:"",tbrk:"",Tcaron:"",tcaron:"",Tcedil:"",tcedil:"",Tcy:"",tcy:"",tdot:"",telrec:"",Tfr:"",tfr:"",there4:"",Therefore:"",therefore:"",Theta:"",theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",ThickSpace:"",thinsp:"",ThinSpace:"",thkap:"",thksim:"",THORN:"",thorn:"",Tilde:"",tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",times:"",timesb:"",timesbar:"",timesd:"",tint:"",toea:"",top:"",topbot:"",topcir:"",Topf:"",topf:"",topfork:"",tosa:"",tprime:"",TRADE:"",trade:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",Tscr:"",tscr:"",TScy:"",tscy:"",TSHcy:"",tshcy:"",Tstrok:"",tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",Uacute:"",uacute:"",Uarr:"",uArr:"",uarr:"",Uarrocir:"",Ubrcy:"",ubrcy:"",Ubreve:"",ubreve:"",Ucirc:"",ucirc:"",Ucy:"",ucy:"",udarr:"",Udblac:"",udblac:"",udhar:"",ufisht:"",Ufr:"",ufr:"",Ugrave:"",ugrave:"",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",Umacr:"",umacr:"",uml:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",Uogon:"",uogon:"",Uopf:"",uopf:"",UpArrow:"",Uparrow:"",uparrow:"",UpArrowBar:"",UpArrowDownArrow:"",UpDownArrow:"",Updownarrow:"",updownarrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",Upsi:"",upsi:"",upsih:"",Upsilon:"",upsilon:"",UpTee:"",UpTeeArrow:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",Uring:"",uring:"",urtri:"",Uscr:"",uscr:"",utdot:"",Utilde:"",utilde:"",utri:"",utrif:"",uuarr:"",Uuml:"",uuml:"",uwangle:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",vArr:"",varr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",Vbar:"",vBar:"",vBarv:"",Vcy:"",vcy:"",VDash:"",Vdash:"",vDash:"",vdash:"",Vdashl:"",Vee:"",vee:"",veebar:"",veeeq:"",vellip:"",Verbar:"",verbar:"|",Vert:"",vert:"|",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",Vfr:"",vfr:"",vltri:"",vnsub:"",vnsup:"",Vopf:"",vopf:"",vprop:"",vrtri:"",Vscr:"",vscr:"",vsubnE:"",vsubne:"",vsupnE:"",vsupne:"",Vvdash:"",vzigzag:"",Wcirc:"",wcirc:"",wedbar:"",Wedge:"",wedge:"",wedgeq:"",weierp:"",Wfr:"",wfr:"",Wopf:"",wopf:"",wp:"",wr:"",wreath:"",Wscr:"",wscr:"",xcap:"",xcirc:"",xcup:"",xdtri:"",Xfr:"",xfr:"",xhArr:"",xharr:"",Xi:"",xi:"",xlArr:"",xlarr:"",xmap:"",xnis:"",xodot:"",Xopf:"",xopf:"",xoplus:"",xotime:"",xrArr:"",xrarr:"",Xscr:"",xscr:"",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",Yacute:"",yacute:"",YAcy:"",yacy:"",Ycirc:"",ycirc:"",Ycy:"",ycy:"",yen:"",Yfr:"",yfr:"",YIcy:"",yicy:"",Yopf:"",yopf:"",Yscr:"",yscr:"",YUcy:"",yucy:"",Yuml:"",yuml:"",Zacute:"",zacute:"",Zcaron:"",zcaron:"",Zcy:"",zcy:"",Zdot:"",zdot:"",zeetrf:"",ZeroWidthSpace:"",Zeta:"",zeta:"",Zfr:"",zfr:"",ZHcy:"",zhcy:"",zigrarr:"",Zopf:"",zopf:"",Zscr:"",zscr:"",zwj:"",zwnj:""}),y.entityMap=y.HTML_ENTITIES})(entities)),entities}var sax={},hasRequiredSax;function requireSax(){if(hasRequiredSax)return sax;hasRequiredSax=1;var y=requireConventions().NAMESPACE,x=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,r=new RegExp("[\\-\\.0-9"+x.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),b=new RegExp("^"+x.source+r.source+"*(?::"+x.source+r.source+"*)?$"),M=0,z=1,B=2,R=3,I=4,O=5,A=6,T=7;function U(_e,He){this.message=_e,this.locator=He,Error.captureStackTrace&&Error.captureStackTrace(this,U)}U.prototype=new Error,U.prototype.name=U.name;function q(){}q.prototype={parse:function(_e,He,tt){var Ke=this.domBuilder;Ke.startDocument(),Le(He,He={}),K(_e,He,tt,Ke,this.errorHandler),Ke.endDocument()}};function K(_e,He,tt,Ke,Ze){function Qe(Et){if(Et>65535){Et-=65536;var Xt=55296+(Et>>10),mr=56320+(Et&1023);return String.fromCharCode(Xt,mr)}else return String.fromCharCode(Et)}function vt(Et){var Xt=Et.slice(1,-1);return Object.hasOwnProperty.call(tt,Xt)?tt[Xt]:Xt.charAt(0)==="#"?Qe(parseInt(Xt.substr(1).replace("x","0x"))):(Ze.error("entity not found:"+Et),Et)}function pt(Et){if(Et>Bt){var Xt=_e.substring(Bt,Et).replace(/&#?\w+;/g,vt);dt&&ut(Bt),Ke.characters(Xt,0,Et-Bt),Bt=Et}}function ut(Et,Xt){for(;Et>=bt&&(Xt=ar.exec(_e));)Mt=Xt.index,bt=Mt+Xt[0].length,dt.lineNumber++;dt.columnNumber=Et-Mt+1}for(var Mt=0,bt=0,ar=/.*(?:\r\n?|\n)|.*$/g,dt=Ke.locator,yt=[{currentNSMap:He}],Gt={},Bt=0;;){try{var Dt=_e.indexOf("<",Bt);if(Dt<0){if(!_e.substr(Bt).match(/^\s*$/)){var Ct=Ke.doc,It=Ct.createTextNode(_e.substr(Bt));Ct.appendChild(It),Ke.currentElement=It}return}switch(Dt>Bt&&pt(Dt),_e.charAt(Dt+1)){case"/":var tr=_e.indexOf(">",Dt+3),lr=_e.substring(Dt+2,tr).replace(/[ \t\n\r]+$/g,""),Je=yt.pop();tr<0?(lr=_e.substring(Dt+2).replace(/[\s<].*/,""),Ze.error("end tag name: "+lr+" is not complete:"+Je.tagName),tr=Dt+1+lr.length):lr.match(/\s</)&&(lr=lr.replace(/[\s<].*/,""),Ze.error("end tag name: "+lr+" maybe not complete"),tr=Dt+1+lr.length);var Ve=Je.localNSMap,st=Je.tagName==lr,it=st||Je.tagName&&Je.tagName.toLowerCase()==lr.toLowerCase();if(it){if(Ke.endElement(Je.uri,Je.localName,lr),Ve)for(var Wt in Ve)Object.prototype.hasOwnProperty.call(Ve,Wt)&&Ke.endPrefixMapping(Wt);st||Ze.fatalError("end tag name: "+lr+" is not match the current start tagName:"+Je.tagName)}else yt.push(Je);tr++;break;case"?":dt&&ut(Dt),tr=ze(_e,Dt,Ke);break;case"!":dt&&ut(Dt),tr=Ge(_e,Dt,Ke,Ze);break;default:dt&&ut(Dt);var rt=new je,ur=yt[yt.length-1].currentNSMap,tr=te(_e,Dt,rt,ur,vt,Ze),Ft=rt.length;if(!rt.closed&&fe(_e,tr,rt.tagName,Gt)&&(rt.closed=!0,tt.nbsp||Ze.warning("unclosed xml attribute")),dt&&Ft){for(var Jt=J(dt,{}),et=0;et<Ft;et++){var gt=rt[et];ut(gt.offset),gt.locator=J(dt,{})}Ke.locator=Jt,oe(rt,Ke,ur)&&yt.push(rt),Ke.locator=dt}else oe(rt,Ke,ur)&&yt.push(rt);y.isHTML(rt.uri)&&!rt.closed?tr=ue(_e,tr,rt.tagName,vt,Ke):tr++}}catch(Et){if(Et instanceof U)throw Et;Ze.error("element parse error: "+Et),tr=-1}tr>Bt?Bt=tr:pt(Math.max(Dt,Bt)+1)}}function J(_e,He){return He.lineNumber=_e.lineNumber,He.columnNumber=_e.columnNumber,He}function te(_e,He,tt,Ke,Ze,Qe){function vt(dt,yt,Gt){tt.attributeNames.hasOwnProperty(dt)&&Qe.fatalError("Attribute "+dt+" redefined"),tt.addValue(dt,yt.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,Ze),Gt)}for(var pt,ut,Mt=++He,bt=M;;){var ar=_e.charAt(Mt);switch(ar){case"=":if(bt===z)pt=_e.slice(He,Mt),bt=R;else if(bt===B)bt=R;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(bt===R||bt===z)if(bt===z&&(Qe.warning('attribute value must after "="'),pt=_e.slice(He,Mt)),He=Mt+1,Mt=_e.indexOf(ar,He),Mt>0)ut=_e.slice(He,Mt),vt(pt,ut,He-1),bt=O;else throw new Error("attribute value no end '"+ar+"' match");else if(bt==I)ut=_e.slice(He,Mt),vt(pt,ut,He),Qe.warning('attribute "'+pt+'" missed start quot('+ar+")!!"),He=Mt+1,bt=O;else throw new Error('attribute value must after "="');break;case"/":switch(bt){case M:tt.setTagName(_e.slice(He,Mt));case O:case A:case T:bt=T,tt.closed=!0;case I:case z:break;case B:tt.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return Qe.error("unexpected end of input"),bt==M&&tt.setTagName(_e.slice(He,Mt)),Mt;case">":switch(bt){case M:tt.setTagName(_e.slice(He,Mt));case O:case A:case T:break;case I:case z:ut=_e.slice(He,Mt),ut.slice(-1)==="/"&&(tt.closed=!0,ut=ut.slice(0,-1));case B:bt===B&&(ut=pt),bt==I?(Qe.warning('attribute "'+ut+'" missed quot(")!'),vt(pt,ut,He)):((!y.isHTML(Ke[""])||!ut.match(/^(?:disabled|checked|selected)$/i))&&Qe.warning('attribute "'+ut+'" missed value!! "'+ut+'" instead!!'),vt(ut,ut,He));break;case R:throw new Error("attribute value missed!!")}return Mt;case"":ar=" ";default:if(ar<=" ")switch(bt){case M:tt.setTagName(_e.slice(He,Mt)),bt=A;break;case z:pt=_e.slice(He,Mt),bt=B;break;case I:var ut=_e.slice(He,Mt);Qe.warning('attribute "'+ut+'" missed quot(")!!'),vt(pt,ut,He);case O:bt=A;break}else switch(bt){case B:tt.tagName,(!y.isHTML(Ke[""])||!pt.match(/^(?:disabled|checked|selected)$/i))&&Qe.warning('attribute "'+pt+'" missed value!! "'+pt+'" instead2!!'),vt(pt,pt,He),He=Mt,bt=z;break;case O:Qe.warning('attribute space is required"'+pt+'"!!');case A:bt=z,He=Mt;break;case R:bt=I,He=Mt;break;case T:throw new Error("elements closed character '/' and '>' must be connected to")}}Mt++}}function oe(_e,He,tt){for(var Ke=_e.tagName,Ze=null,ar=_e.length;ar--;){var Qe=_e[ar],vt=Qe.qName,pt=Qe.value,dt=vt.indexOf(":");if(dt>0)var ut=Qe.prefix=vt.slice(0,dt),Mt=vt.slice(dt+1),bt=ut==="xmlns"&&Mt;else Mt=vt,ut=null,bt=vt==="xmlns"&&"";Qe.localName=Mt,bt!==!1&&(Ze==null&&(Ze={},Le(tt,tt={})),tt[bt]=Ze[bt]=pt,Qe.uri=y.XMLNS,He.startPrefixMapping(bt,pt))}for(var ar=_e.length;ar--;){Qe=_e[ar];var ut=Qe.prefix;ut&&(ut==="xml"&&(Qe.uri=y.XML),ut!=="xmlns"&&(Qe.uri=tt[ut||""]))}var dt=Ke.indexOf(":");dt>0?(ut=_e.prefix=Ke.slice(0,dt),Mt=_e.localName=Ke.slice(dt+1)):(ut=null,Mt=_e.localName=Ke);var yt=_e.uri=tt[ut||""];if(He.startElement(yt,Mt,Ke,_e),_e.closed){if(He.endElement(yt,Mt,Ke),Ze)for(ut in Ze)Object.prototype.hasOwnProperty.call(Ze,ut)&&He.endPrefixMapping(ut)}else return _e.currentNSMap=tt,_e.localNSMap=Ze,!0}function ue(_e,He,tt,Ke,Ze){if(/^(?:script|textarea)$/i.test(tt)){var Qe=_e.indexOf("</"+tt+">",He),vt=_e.substring(He+1,Qe);if(/[&<]/.test(vt))return/^script$/i.test(tt)?(Ze.characters(vt,0,vt.length),Qe):(vt=vt.replace(/&#?\w+;/g,Ke),Ze.characters(vt,0,vt.length),Qe)}return He+1}function fe(_e,He,tt,Ke){var Ze=Ke[tt];return Ze==null&&(Ze=_e.lastIndexOf("</"+tt+">"),Ze<He&&(Ze=_e.lastIndexOf("</"+tt)),Ke[tt]=Ze),Ze<He}function Le(_e,He){for(var tt in _e)Object.prototype.hasOwnProperty.call(_e,tt)&&(He[tt]=_e[tt])}function Ge(_e,He,tt,Ke){var Ze=_e.charAt(He+2);switch(Ze){case"-":if(_e.charAt(He+3)==="-"){var Qe=_e.indexOf("-->",He+4);return Qe>He?(tt.comment(_e,He+4,Qe-He-4),Qe+3):(Ke.error("Unclosed comment"),-1)}else return-1;default:if(_e.substr(He+3,6)=="CDATA["){var Qe=_e.indexOf("]]>",He+9);return tt.startCDATA(),tt.characters(_e,He+9,Qe-He-9),tt.endCDATA(),Qe+3}var vt=Be(_e,He),pt=vt.length;if(pt>1&&/!doctype/i.test(vt[0][0])){var ut=vt[1][0],Mt=!1,bt=!1;pt>3&&(/^public$/i.test(vt[2][0])?(Mt=vt[3][0],bt=pt>4&&vt[4][0]):/^system$/i.test(vt[2][0])&&(bt=vt[3][0]));var ar=vt[pt-1];return tt.startDTD(ut,Mt,bt),tt.endDTD(),ar.index+ar[0].length}}return-1}function ze(_e,He,tt){var Ke=_e.indexOf("?>",He);if(Ke){var Ze=_e.substring(He,Ke).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return Ze?(Ze[0].length,tt.processingInstruction(Ze[1],Ze[2]),Ke+2):-1}return-1}function je(){this.attributeNames={}}je.prototype={setTagName:function(_e){if(!b.test(_e))throw new Error("invalid tagName:"+_e);this.tagName=_e},addValue:function(_e,He,tt){if(!b.test(_e))throw new Error("invalid attribute:"+_e);this.attributeNames[_e]=this.length,this[this.length++]={qName:_e,value:He,offset:tt}},length:0,getLocalName:function(_e){return this[_e].localName},getLocator:function(_e){return this[_e].locator},getQName:function(_e){return this[_e].qName},getURI:function(_e){return this[_e].uri},getValue:function(_e){return this[_e].value}};function Be(_e,He){var tt,Ke=[],Ze=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(Ze.lastIndex=He,Ze.exec(_e);tt=Ze.exec(_e);)if(Ke.push(tt),tt[1])return Ke}return sax.XMLReader=q,sax.ParseError=U,sax}var hasRequiredDomParser;function requireDomParser(){if(hasRequiredDomParser)return domParser;hasRequiredDomParser=1;var y=requireConventions(),x=requireDom(),r=requireEntities(),b=requireSax(),M=x.DOMImplementation,z=y.NAMESPACE,B=b.ParseError,R=b.XMLReader;function I(te){return te.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028]/g,`
`)}function O(te){this.options=te||{locator:{}}}O.prototype.parseFromString=function(te,oe){var ue=this.options,fe=new R,Le=ue.domBuilder||new T,Ge=ue.errorHandler,ze=ue.locator,je=ue.xmlns||{},Be=/\/x?html?$/.test(oe),_e=Be?r.HTML_ENTITIES:r.XML_ENTITIES;ze&&Le.setDocumentLocator(ze),fe.errorHandler=A(Ge,Le,ze),fe.domBuilder=ue.domBuilder||Le,Be&&(je[""]=z.HTML),je.xml=je.xml||z.XML;var He=ue.normalizeLineEndings||I;return te&&typeof te=="string"?fe.parse(He(te),je,_e):fe.errorHandler.error("invalid doc source"),Le.doc};function A(te,oe,ue){if(!te){if(oe instanceof T)return oe;te=oe}var fe={},Le=te instanceof Function;ue=ue||{};function Ge(ze){var je=te[ze];!je&&Le&&(je=te.length==2?function(Be){te(ze,Be)}:te),fe[ze]=je&&function(Be){je("[xmldom "+ze+"]	"+Be+q(ue))}||function(){}}return Ge("warning"),Ge("error"),Ge("fatalError"),fe}function T(){this.cdata=!1}function U(te,oe){oe.lineNumber=te.lineNumber,oe.columnNumber=te.columnNumber}T.prototype={startDocument:function(){this.doc=new M().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(te,oe,ue,fe){var Le=this.doc,Ge=Le.createElementNS(te,ue||oe),ze=fe.length;J(this,Ge),this.currentElement=Ge,this.locator&&U(this.locator,Ge);for(var je=0;je<ze;je++){var te=fe.getURI(je),Be=fe.getValue(je),ue=fe.getQName(je),_e=Le.createAttributeNS(te,ue);this.locator&&U(fe.getLocator(je),_e),_e.value=_e.nodeValue=Be,Ge.setAttributeNode(_e)}},endElement:function(te,oe,ue){var fe=this.currentElement;fe.tagName,this.currentElement=fe.parentNode},startPrefixMapping:function(te,oe){},endPrefixMapping:function(te){},processingInstruction:function(te,oe){var ue=this.doc.createProcessingInstruction(te,oe);this.locator&&U(this.locator,ue),J(this,ue)},ignorableWhitespace:function(te,oe,ue){},characters:function(te,oe,ue){if(te=K.apply(this,arguments),te){if(this.cdata)var fe=this.doc.createCDATASection(te);else var fe=this.doc.createTextNode(te);this.currentElement?this.currentElement.appendChild(fe):/^\s*$/.test(te)&&this.doc.appendChild(fe),this.locator&&U(this.locator,fe)}},skippedEntity:function(te){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(te){(this.locator=te)&&(te.lineNumber=0)},comment:function(te,oe,ue){te=K.apply(this,arguments);var fe=this.doc.createComment(te);this.locator&&U(this.locator,fe),J(this,fe)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(te,oe,ue){var fe=this.doc.implementation;if(fe&&fe.createDocumentType){var Le=fe.createDocumentType(te,oe,ue);this.locator&&U(this.locator,Le),J(this,Le),this.doc.doctype=Le}},warning:function(te){console.warn("[xmldom warning]	"+te,q(this.locator))},error:function(te){console.error("[xmldom error]	"+te,q(this.locator))},fatalError:function(te){throw new B(te,this.locator)}};function q(te){if(te)return`
@`+(te.systemId||"")+"#[line:"+te.lineNumber+",col:"+te.columnNumber+"]"}function K(te,oe,ue){return typeof te=="string"?te.substr(oe,ue):te.length>=oe+ue||oe?new java.lang.String(te,oe,ue)+"":te}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(te){T.prototype[te]=function(){return null}});function J(te,oe){te.currentElement?te.currentElement.appendChild(oe):te.doc.appendChild(oe)}return domParser.__DOMHandler=T,domParser.normalizeLineEndings=I,domParser.DOMParser=O,domParser}var hasRequiredLib;function requireLib(){if(hasRequiredLib)return lib;hasRequiredLib=1;var y=requireDom();return lib.DOMImplementation=y.DOMImplementation,lib.XMLSerializer=y.XMLSerializer,lib.DOMParser=requireDomParser().DOMParser,lib}var hasRequiredTogeojson;function requireTogeojson(){return hasRequiredTogeojson||(hasRequiredTogeojson=1,(function(y,x){var r=(function(){var b=/\s*/g,M=/^\s*|\s*$/g,z=/\s+/;function B(_e){if(!_e||!_e.length)return 0;for(var He=0,tt=0;He<_e.length;He++)tt=(tt<<5)-tt+_e.charCodeAt(He)|0;return tt}function R(_e,He){return _e.getElementsByTagName(He)}function I(_e,He){return _e.getAttribute(He)}function O(_e,He){return parseFloat(I(_e,He))}function A(_e,He){var tt=R(_e,He);return tt.length?tt[0]:null}function T(_e){return _e.normalize&&_e.normalize(),_e}function U(_e){for(var He=0,tt=[];He<_e.length;He++)tt[He]=parseFloat(_e[He]);return tt}function q(_e){return _e&&T(_e),_e&&_e.textContent||""}function K(_e,He){var tt={},Ke,Ze;for(Ze=0;Ze<He.length;Ze++)Ke=A(_e,He[Ze]),Ke&&(tt[He[Ze]]=q(Ke));return tt}function J(_e,He){for(var tt in He)_e[tt]=He[tt]}function te(_e){return U(_e.replace(b,"").split(","))}function oe(_e){for(var He=_e.replace(M,"").split(z),tt=[],Ke=0;Ke<He.length;Ke++)tt.push(te(He[Ke]));return tt}function ue(_e){var He=[O(_e,"lon"),O(_e,"lat")],tt=A(_e,"ele"),Ke=A(_e,"gpxtpx:hr")||A(_e,"hr"),Ze=A(_e,"time"),Qe;return tt&&(Qe=parseFloat(q(tt)),isNaN(Qe)||He.push(Qe)),{coordinates:He,time:Ze?q(Ze):null,heartRate:Ke?parseFloat(q(Ke)):null}}function fe(){return{type:"FeatureCollection",features:[]}}var Le;if(typeof XMLSerializer<"u")Le=new XMLSerializer;else{var Ge=typeof process=="object"&&!process.browser,ze=typeof Titanium=="object";if(Ge||ze)Le=new(requireLib()).XMLSerializer;else throw new Error("Unable to initialize serializer")}function je(_e){return _e.xml!==void 0?_e.xml:Le.serializeToString(_e)}var Be={kml:function(_e){for(var He=fe(),tt={},Ke={},Ze={},Qe=["Polygon","LineString","Point","Track","gx:Track"],vt=R(_e,"Placemark"),pt=R(_e,"Style"),ut=R(_e,"StyleMap"),Mt=0;Mt<pt.length;Mt++){var bt=B(je(pt[Mt])).toString(16);tt["#"+I(pt[Mt],"id")]=bt,Ke[bt]=pt[Mt]}for(var ar=0;ar<ut.length;ar++){tt["#"+I(ut[ar],"id")]=B(je(ut[ar])).toString(16);for(var dt=R(ut[ar],"Pair"),yt={},Gt=0;Gt<dt.length;Gt++)yt[q(A(dt[Gt],"key"))]=q(A(dt[Gt],"styleUrl"));Ze["#"+I(ut[ar],"id")]=yt}for(var Bt=0;Bt<vt.length;Bt++)He.features=He.features.concat(Je(vt[Bt]));function Dt(Ve){var st,it;return Ve=Ve||"",Ve.substr(0,1)==="#"&&(Ve=Ve.substr(1)),(Ve.length===6||Ve.length===3)&&(st=Ve),Ve.length===8&&(it=parseInt(Ve.substr(0,2),16)/255,st="#"+Ve.substr(6,2)+Ve.substr(4,2)+Ve.substr(2,2)),[st,isNaN(it)?void 0:it]}function Ct(Ve){return U(Ve.split(" "))}function It(Ve){var st=R(Ve,"coord"),it=[],Wt=[];st.length===0&&(st=R(Ve,"gx:coord"));for(var rt=0;rt<st.length;rt++)it.push(Ct(q(st[rt])));for(var ur=R(Ve,"when"),tr=0;tr<ur.length;tr++)Wt.push(q(ur[tr]));return{coords:it,times:Wt}}function lr(Ve){var st,it,Wt,rt,ur,tr=[],Ft=[];if(A(Ve,"MultiGeometry"))return lr(A(Ve,"MultiGeometry"));if(A(Ve,"MultiTrack"))return lr(A(Ve,"MultiTrack"));if(A(Ve,"gx:MultiTrack"))return lr(A(Ve,"gx:MultiTrack"));for(Wt=0;Wt<Qe.length;Wt++)if(it=R(Ve,Qe[Wt]),it){for(rt=0;rt<it.length;rt++)if(st=it[rt],Qe[Wt]==="Point")tr.push({type:"Point",coordinates:te(q(A(st,"coordinates")))});else if(Qe[Wt]==="LineString")tr.push({type:"LineString",coordinates:oe(q(A(st,"coordinates")))});else if(Qe[Wt]==="Polygon"){var Jt=R(st,"LinearRing"),et=[];for(ur=0;ur<Jt.length;ur++)et.push(oe(q(A(Jt[ur],"coordinates"))));tr.push({type:"Polygon",coordinates:et})}else if(Qe[Wt]==="Track"||Qe[Wt]==="gx:Track"){var gt=It(st);tr.push({type:"LineString",coordinates:gt.coords}),gt.times.length&&Ft.push(gt.times)}}return{geoms:tr,coordTimes:Ft}}function Je(Ve){var st=lr(Ve),it,Wt={},rt=q(A(Ve,"name")),ur=q(A(Ve,"address")),tr=q(A(Ve,"styleUrl")),Ft=q(A(Ve,"description")),Jt=A(Ve,"TimeSpan"),et=A(Ve,"TimeStamp"),gt=A(Ve,"ExtendedData"),Et=A(Ve,"LineStyle"),Xt=A(Ve,"PolyStyle"),mr=A(Ve,"visibility");if(!st.geoms.length)return[];if(rt&&(Wt.name=rt),ur&&(Wt.address=ur),tr){tr[0]!=="#"&&(tr="#"+tr),Wt.styleUrl=tr,tt[tr]&&(Wt.styleHash=tt[tr]),Ze[tr]&&(Wt.styleMapHash=Ze[tr],Wt.styleHash=tt[Ze[tr].normal]);var Cr=Ke[Wt.styleHash];if(Cr){Et||(Et=A(Cr,"LineStyle")),Xt||(Xt=A(Cr,"PolyStyle"));var Dr=A(Cr,"IconStyle");if(Dr){var _n=A(Dr,"Icon");if(_n){var In=q(A(_n,"href"));In&&(Wt.icon=In)}}}}if(Ft&&(Wt.description=Ft),Jt){var Fn=q(A(Jt,"begin")),ti=q(A(Jt,"end"));Wt.timespan={begin:Fn,end:ti}}if(et&&(Wt.timestamp=q(A(et,"when"))),Et){var Qn=Dt(q(A(Et,"color"))),vi=Qn[0],wi=Qn[1],oi=parseFloat(q(A(Et,"width")));vi&&(Wt.stroke=vi),isNaN(wi)||(Wt["stroke-opacity"]=wi),isNaN(oi)||(Wt["stroke-width"]=oi)}if(Xt){var Si=Dt(q(A(Xt,"color"))),Gi=Si[0],ai=Si[1],zi=q(A(Xt,"fill")),Ei=q(A(Xt,"outline"));Gi&&(Wt.fill=Gi),isNaN(ai)||(Wt["fill-opacity"]=ai),zi&&(Wt["fill-opacity"]=zi==="1"?Wt["fill-opacity"]||1:0),Ei&&(Wt["stroke-opacity"]=Ei==="1"?Wt["stroke-opacity"]||1:0)}if(gt){var fa=R(gt,"Data"),Vn=R(gt,"SimpleData");for(it=0;it<fa.length;it++)Wt[fa[it].getAttribute("name")]=q(A(fa[it],"value"));for(it=0;it<Vn.length;it++)Wt[Vn[it].getAttribute("name")]=q(Vn[it])}mr&&(Wt.visibility=q(mr)),st.coordTimes.length&&(Wt.coordTimes=st.coordTimes.length===1?st.coordTimes[0]:st.coordTimes);var ha={type:"Feature",geometry:st.geoms.length===1?st.geoms[0]:{type:"GeometryCollection",geometries:st.geoms},properties:Wt};return I(Ve,"id")&&(ha.id=I(Ve,"id")),[ha]}return He},gpx:function(_e){var He,tt=R(_e,"trk"),Ke=R(_e,"rte"),Ze=R(_e,"wpt"),Qe=fe(),vt;for(He=0;He<tt.length;He++)vt=Mt(tt[He]),vt&&Qe.features.push(vt);for(He=0;He<Ke.length;He++)vt=bt(Ke[He]),vt&&Qe.features.push(vt);for(He=0;He<Ze.length;He++)Qe.features.push(ar(Ze[He]));function pt(Gt,Bt){for(var Dt=0;Dt<Bt;Dt++)Gt.push(null);return Gt}function ut(Gt,Bt){var Dt=R(Gt,Bt),Ct=[],It=[],lr=[],Je=Dt.length;if(Je<2)return{};for(var Ve=0;Ve<Je;Ve++){var st=ue(Dt[Ve]);Ct.push(st.coordinates),st.time&&It.push(st.time),(st.heartRate||lr.length)&&(lr.length||pt(lr,Ve),lr.push(st.heartRate||null))}return{line:Ct,times:It,heartRates:lr}}function Mt(Gt){for(var Bt=R(Gt,"trkseg"),Dt=[],Ct=[],It=[],lr,Je=0;Je<Bt.length;Je++)if(lr=ut(Bt[Je],"trkpt"),lr&&(lr.line&&Dt.push(lr.line),lr.times&&lr.times.length&&Ct.push(lr.times),It.length||lr.heartRates&&lr.heartRates.length)){if(!It.length)for(var Ve=0;Ve<Je;Ve++)It.push(pt([],Dt[Ve].length));lr.heartRates&&lr.heartRates.length?It.push(lr.heartRates):It.push(pt([],lr.line.length||0))}if(Dt.length!==0){var st=yt(Gt);return J(st,dt(A(Gt,"extensions"))),Ct.length&&(st.coordTimes=Dt.length===1?Ct[0]:Ct),It.length&&(st.heartRates=Dt.length===1?It[0]:It),{type:"Feature",properties:st,geometry:{type:Dt.length===1?"LineString":"MultiLineString",coordinates:Dt.length===1?Dt[0]:Dt}}}}function bt(Gt){var Bt=ut(Gt,"rtept");if(Bt.line){var Dt=yt(Gt);J(Dt,dt(A(Gt,"extensions")));var Ct={type:"Feature",properties:Dt,geometry:{type:"LineString",coordinates:Bt.line}};return Ct}}function ar(Gt){var Bt=yt(Gt);return J(Bt,K(Gt,["sym"])),{type:"Feature",properties:Bt,geometry:{type:"Point",coordinates:ue(Gt).coordinates}}}function dt(Gt){var Bt={};if(Gt){var Dt=A(Gt,"line");if(Dt){var Ct=q(A(Dt,"color")),It=parseFloat(q(A(Dt,"opacity"))),lr=parseFloat(q(A(Dt,"width")));Ct&&(Bt.stroke=Ct),isNaN(It)||(Bt["stroke-opacity"]=It),isNaN(lr)||(Bt["stroke-width"]=lr*96/25.4)}}return Bt}function yt(Gt){var Bt=K(Gt,["name","cmt","desc","type","time","keywords"]),Dt=R(Gt,"link");Dt.length&&(Bt.links=[]);for(var Ct=0,It;Ct<Dt.length;Ct++)It={href:I(Dt[Ct],"href")},J(It,K(Dt[Ct],["text","type"])),Bt.links.push(It);return Bt}return Qe}};return Be})();y.exports=r})(togeojson)),togeojson.exports}var togeojsonExports=requireTogeojson();var XLSX={};XLSX.version="0.18.5";var current_ansi=1252,VALID_ANSI=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],CS2CP={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},set_ansi=function(y){VALID_ANSI.indexOf(y)!=-1&&(current_ansi=CS2CP[0]=y)};function reset_ansi(){set_ansi(1252)}var set_cp=function(y){set_ansi(y)};function reset_cp(){set_cp(1200),reset_ansi()}function char_codes(y){for(var x=[],r=0,b=y.length;r<b;++r)x[r]=y.charCodeAt(r);return x}function utf16leread(y){for(var x=[],r=0;r<y.length>>1;++r)x[r]=String.fromCharCode(y.charCodeAt(2*r)+(y.charCodeAt(2*r+1)<<8));return x.join("")}function utf16beread(y){for(var x=[],r=0;r<y.length>>1;++r)x[r]=String.fromCharCode(y.charCodeAt(2*r+1)+(y.charCodeAt(2*r)<<8));return x.join("")}var debom=function(y){var x=y.charCodeAt(0),r=y.charCodeAt(1);return x==255&&r==254?utf16leread(y.slice(2)):x==254&&r==255?utf16beread(y.slice(2)):x==65279?y.slice(1):y},_getchar=function(x){return String.fromCharCode(x)},_getansi=function(x){return String.fromCharCode(x)},$cptable,Base64_map="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Base64_encode(y){for(var x="",r=0,b=0,M=0,z=0,B=0,R=0,I=0,O=0;O<y.length;)r=y.charCodeAt(O++),z=r>>2,b=y.charCodeAt(O++),B=(r&3)<<4|b>>4,M=y.charCodeAt(O++),R=(b&15)<<2|M>>6,I=M&63,isNaN(b)?R=I=64:isNaN(M)&&(I=64),x+=Base64_map.charAt(z)+Base64_map.charAt(B)+Base64_map.charAt(R)+Base64_map.charAt(I);return x}function Base64_decode(y){var x="",r=0,b=0,M=0,z=0,B=0,R=0,I=0;y=y.replace(/[^\w\+\/\=]/g,"");for(var O=0;O<y.length;)z=Base64_map.indexOf(y.charAt(O++)),B=Base64_map.indexOf(y.charAt(O++)),r=z<<2|B>>4,x+=String.fromCharCode(r),R=Base64_map.indexOf(y.charAt(O++)),b=(B&15)<<4|R>>2,R!==64&&(x+=String.fromCharCode(b)),I=Base64_map.indexOf(y.charAt(O++)),M=(R&3)<<6|I,I!==64&&(x+=String.fromCharCode(M));return x}var has_buf=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),Buffer_from=(function(){if(typeof Buffer<"u"){var y=!Buffer.from;if(!y)try{Buffer.from("foo","utf8")}catch{y=!0}return y?function(x,r){return r?new Buffer(x,r):new Buffer(x)}:Buffer.from.bind(Buffer)}return function(){}})();function new_raw_buf(y){return has_buf?Buffer.alloc?Buffer.alloc(y):new Buffer(y):typeof Uint8Array<"u"?new Uint8Array(y):new Array(y)}function new_unsafe_buf(y){return has_buf?Buffer.allocUnsafe?Buffer.allocUnsafe(y):new Buffer(y):typeof Uint8Array<"u"?new Uint8Array(y):new Array(y)}var s2a=function(x){return has_buf?Buffer_from(x,"binary"):x.split("").map(function(r){return r.charCodeAt(0)&255})};function s2ab(y){if(typeof ArrayBuffer>"u")return s2a(y);for(var x=new ArrayBuffer(y.length),r=new Uint8Array(x),b=0;b!=y.length;++b)r[b]=y.charCodeAt(b)&255;return x}function a2s(y){if(Array.isArray(y))return y.map(function(b){return String.fromCharCode(b)}).join("");for(var x=[],r=0;r<y.length;++r)x[r]=String.fromCharCode(y[r]);return x.join("")}function a2u(y){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(y)}function ab2a(y){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(y instanceof ArrayBuffer)return ab2a(new Uint8Array(y));for(var x=new Array(y.length),r=0;r<y.length;++r)x[r]=y[r];return x}var bconcat=has_buf?function(y){return Buffer.concat(y.map(function(x){return Buffer.isBuffer(x)?x:Buffer_from(x)}))}:function(y){if(typeof Uint8Array<"u"){var x=0,r=0;for(x=0;x<y.length;++x)r+=y[x].length;var b=new Uint8Array(r),M=0;for(x=0,r=0;x<y.length;r+=M,++x)if(M=y[x].length,y[x]instanceof Uint8Array)b.set(y[x],r);else{if(typeof y[x]=="string")throw"wtf";b.set(new Uint8Array(y[x]),r)}return b}return[].concat.apply([],y.map(function(z){return Array.isArray(z)?z:[].slice.call(z)}))};function utf8decode(y){for(var x=[],r=0,b=y.length+250,M=new_raw_buf(y.length+255),z=0;z<y.length;++z){var B=y.charCodeAt(z);if(B<128)M[r++]=B;else if(B<2048)M[r++]=192|B>>6&31,M[r++]=128|B&63;else if(B>=55296&&B<57344){B=(B&1023)+64;var R=y.charCodeAt(++z)&1023;M[r++]=240|B>>8&7,M[r++]=128|B>>2&63,M[r++]=128|R>>6&15|(B&3)<<4,M[r++]=128|R&63}else M[r++]=224|B>>12&15,M[r++]=128|B>>6&63,M[r++]=128|B&63;r>b&&(x.push(M.slice(0,r)),r=0,M=new_raw_buf(65535),b=65530)}return x.push(M.slice(0,r)),bconcat(x)}var chr0=/\u0000/g,chr1=/[\u0001-\u0006]/g;function _strrev(y){for(var x="",r=y.length-1;r>=0;)x+=y.charAt(r--);return x}function pad0(y,x){var r=""+y;return r.length>=x?r:fill("0",x-r.length)+r}function pad_(y,x){var r=""+y;return r.length>=x?r:fill(" ",x-r.length)+r}function rpad_(y,x){var r=""+y;return r.length>=x?r:r+fill(" ",x-r.length)}function pad0r1(y,x){var r=""+Math.round(y);return r.length>=x?r:fill("0",x-r.length)+r}function pad0r2(y,x){var r=""+y;return r.length>=x?r:fill("0",x-r.length)+r}var p2_32=Math.pow(2,32);function pad0r(y,x){if(y>p2_32||y<-p2_32)return pad0r1(y,x);var r=Math.round(y);return pad0r2(r,x)}function SSF_isgeneral(y,x){return x=x||0,y.length>=7+x&&(y.charCodeAt(x)|32)===103&&(y.charCodeAt(x+1)|32)===101&&(y.charCodeAt(x+2)|32)===110&&(y.charCodeAt(x+3)|32)===101&&(y.charCodeAt(x+4)|32)===114&&(y.charCodeAt(x+5)|32)===97&&(y.charCodeAt(x+6)|32)===108}var days=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],months=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function SSF_init_table(y){return y||(y={}),y[0]="General",y[1]="0",y[2]="0.00",y[3]="#,##0",y[4]="#,##0.00",y[9]="0%",y[10]="0.00%",y[11]="0.00E+00",y[12]="# ?/?",y[13]="# ??/??",y[14]="m/d/yy",y[15]="d-mmm-yy",y[16]="d-mmm",y[17]="mmm-yy",y[18]="h:mm AM/PM",y[19]="h:mm:ss AM/PM",y[20]="h:mm",y[21]="h:mm:ss",y[22]="m/d/yy h:mm",y[37]="#,##0 ;(#,##0)",y[38]="#,##0 ;[Red](#,##0)",y[39]="#,##0.00;(#,##0.00)",y[40]="#,##0.00;[Red](#,##0.00)",y[45]="mm:ss",y[46]="[h]:mm:ss",y[47]="mmss.0",y[48]="##0.0E+0",y[49]="@",y[56]='"/ "hh""mm""ss" "',y}var table_fmt={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},SSF_default_map={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},SSF_default_str={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function SSF_frac(y,x,r){for(var b=y<0?-1:1,M=y*b,z=0,B=1,R=0,I=1,O=0,A=0,T=Math.floor(M);O<x&&(T=Math.floor(M),R=T*B+z,A=T*O+I,!(M-T<5e-8));)M=1/(M-T),z=B,B=R,I=O,O=A;if(A>x&&(O>x?(A=I,R=z):(A=O,R=B)),!r)return[0,b*R,A];var U=Math.floor(b*R/A);return[U,b*R-U*A,A]}function SSF_parse_date_code(y,x,r){if(y>2958465||y<0)return null;var b=y|0,M=Math.floor(86400*(y-b)),z=0,B=[],R={D:b,T:M,u:86400*(y-b)-M,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(R.u)<1e-6&&(R.u=0),x&&x.date1904&&(b+=1462),R.u>.9999&&(R.u=0,++M==86400&&(R.T=M=0,++b,++R.D)),b===60)B=r?[1317,10,29]:[1900,2,29],z=3;else if(b===0)B=r?[1317,8,29]:[1900,1,0],z=6;else{b>60&&--b;var I=new Date(1900,0,1);I.setDate(I.getDate()+b-1),B=[I.getFullYear(),I.getMonth()+1,I.getDate()],z=I.getDay(),b<60&&(z=(z+6)%7),r&&(z=SSF_fix_hijri(I,B))}return R.y=B[0],R.m=B[1],R.d=B[2],R.S=M%60,M=Math.floor(M/60),R.M=M%60,M=Math.floor(M/60),R.H=M,R.q=z,R}var SSFbasedate=new Date(1899,11,31,0,0,0),SSFdnthresh=SSFbasedate.getTime(),SSFbase1904=new Date(1900,2,1,0,0,0);function datenum_local(y,x){var r=y.getTime();return x?r-=1461*24*60*60*1e3:y>=SSFbase1904&&(r+=1440*60*1e3),(r-(SSFdnthresh+(y.getTimezoneOffset()-SSFbasedate.getTimezoneOffset())*6e4))/(1440*60*1e3)}function SSF_strip_decimal(y){return y.indexOf(".")==-1?y:y.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function SSF_normalize_exp(y){return y.indexOf("E")==-1?y:y.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function SSF_small_exp(y){var x=y<0?12:11,r=SSF_strip_decimal(y.toFixed(12));return r.length<=x||(r=y.toPrecision(10),r.length<=x)?r:y.toExponential(5)}function SSF_large_exp(y){var x=SSF_strip_decimal(y.toFixed(11));return x.length>(y<0?12:11)||x==="0"||x==="-0"?y.toPrecision(6):x}function SSF_general_num(y){var x=Math.floor(Math.log(Math.abs(y))*Math.LOG10E),r;return x>=-4&&x<=-1?r=y.toPrecision(10+x):Math.abs(x)<=9?r=SSF_small_exp(y):x===10?r=y.toFixed(10).substr(0,12):r=SSF_large_exp(y),SSF_strip_decimal(SSF_normalize_exp(r.toUpperCase()))}function SSF_general(y,x){switch(typeof y){case"string":return y;case"boolean":return y?"TRUE":"FALSE";case"number":return(y|0)===y?y.toString(10):SSF_general_num(y);case"undefined":return"";case"object":if(y==null)return"";if(y instanceof Date)return SSF_format(14,datenum_local(y,x&&x.date1904),x)}throw new Error("unsupported value in General format: "+y)}function SSF_fix_hijri(y,x){x[0]-=581;var r=y.getDay();return y<60&&(r=(r+6)%7),r}function SSF_write_date(y,x,r,b){var M="",z=0,B=0,R=r.y,I,O=0;switch(y){case 98:R=r.y+543;case 121:switch(x.length){case 1:case 2:I=R%100,O=2;break;default:I=R%1e4,O=4;break}break;case 109:switch(x.length){case 1:case 2:I=r.m,O=x.length;break;case 3:return months[r.m-1][1];case 5:return months[r.m-1][0];default:return months[r.m-1][2]}break;case 100:switch(x.length){case 1:case 2:I=r.d,O=x.length;break;case 3:return days[r.q][0];default:return days[r.q][1]}break;case 104:switch(x.length){case 1:case 2:I=1+(r.H+11)%12,O=x.length;break;default:throw"bad hour format: "+x}break;case 72:switch(x.length){case 1:case 2:I=r.H,O=x.length;break;default:throw"bad hour format: "+x}break;case 77:switch(x.length){case 1:case 2:I=r.M,O=x.length;break;default:throw"bad minute format: "+x}break;case 115:if(x!="s"&&x!="ss"&&x!=".0"&&x!=".00"&&x!=".000")throw"bad second format: "+x;return r.u===0&&(x=="s"||x=="ss")?pad0(r.S,x.length):(b>=2?B=b===3?1e3:100:B=b===1?10:1,z=Math.round(B*(r.S+r.u)),z>=60*B&&(z=0),x==="s"?z===0?"0":""+z/B:(M=pad0(z,2+b),x==="ss"?M.substr(0,2):"."+M.substr(2,x.length-1)));case 90:switch(x){case"[h]":case"[hh]":I=r.D*24+r.H;break;case"[m]":case"[mm]":I=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":I=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+x}O=x.length===3?1:2;break;case 101:I=R,O=1;break}var A=O>0?pad0(I,O):"";return A}function commaify(y){var x=3;if(y.length<=x)return y;for(var r=y.length%x,b=y.substr(0,r);r!=y.length;r+=x)b+=(b.length>0?",":"")+y.substr(r,x);return b}var pct1=/%/g;function write_num_pct(y,x,r){var b=x.replace(pct1,""),M=x.length-b.length;return write_num(y,b,r*Math.pow(10,2*M))+fill("%",M)}function write_num_cm(y,x,r){for(var b=x.length-1;x.charCodeAt(b-1)===44;)--b;return write_num(y,x.substr(0,b),r/Math.pow(10,3*(x.length-b)))}function write_num_exp(y,x){var r,b=y.indexOf("E")-y.indexOf(".")-1;if(y.match(/^#+0.0E\+0$/)){if(x==0)return"0.0E+0";if(x<0)return"-"+write_num_exp(y,-x);var M=y.indexOf(".");M===-1&&(M=y.indexOf("E"));var z=Math.floor(Math.log(x)*Math.LOG10E)%M;if(z<0&&(z+=M),r=(x/Math.pow(10,z)).toPrecision(b+1+(M+z)%M),r.indexOf("e")===-1){var B=Math.floor(Math.log(x)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(B-r.length+z):r+="E+"+(B-z);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,M)+"."+r.substr(2+M),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(R,I,O,A){return I+O+A.substr(0,(M+z)%M)+"."+A.substr(z)+"E"})}else r=x.toExponential(b);return y.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),y.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var frac1=/# (\?+)( ?)\/( ?)(\d+)/;function write_num_f1(y,x,r){var b=parseInt(y[4],10),M=Math.round(x*b),z=Math.floor(M/b),B=M-z*b,R=b;return r+(z===0?"":""+z)+" "+(B===0?fill(" ",y[1].length+1+y[4].length):pad_(B,y[1].length)+y[2]+"/"+y[3]+pad0(R,y[4].length))}function write_num_f2(y,x,r){return r+(x===0?"":""+x)+fill(" ",y[1].length+2+y[4].length)}var dec1=/^#*0*\.([0#]+)/,closeparen=/\).*[0#]/,phone=/\(###\) ###\\?-####/;function hashq(y){for(var x="",r,b=0;b!=y.length;++b)switch(r=y.charCodeAt(b)){case 35:break;case 63:x+=" ";break;case 48:x+="0";break;default:x+=String.fromCharCode(r)}return x}function rnd(y,x){var r=Math.pow(10,x);return""+Math.round(y*r)/r}function dec(y,x){var r=y-Math.floor(y),b=Math.pow(10,x);return x<(""+Math.round(r*b)).length?0:Math.round(r*b)}function carry(y,x){return x<(""+Math.round((y-Math.floor(y))*Math.pow(10,x))).length?1:0}function flr(y){return y<2147483647&&y>-2147483648?""+(y>=0?y|0:y-1|0):""+Math.floor(y)}function write_num_flt(y,x,r){if(y.charCodeAt(0)===40&&!x.match(closeparen)){var b=x.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?write_num_flt("n",b,r):"("+write_num_flt("n",b,-r)+")"}if(x.charCodeAt(x.length-1)===44)return write_num_cm(y,x,r);if(x.indexOf("%")!==-1)return write_num_pct(y,x,r);if(x.indexOf("E")!==-1)return write_num_exp(x,r);if(x.charCodeAt(0)===36)return"$"+write_num_flt(y,x.substr(x.charAt(1)==" "?2:1),r);var M,z,B,R,I=Math.abs(r),O=r<0?"-":"";if(x.match(/^00+$/))return O+pad0r(I,x.length);if(x.match(/^[#?]+$/))return M=pad0r(r,0),M==="0"&&(M=""),M.length>x.length?M:hashq(x.substr(0,x.length-M.length))+M;if(z=x.match(frac1))return write_num_f1(z,I,O);if(x.match(/^#+0+$/))return O+pad0r(I,x.length-x.indexOf("0"));if(z=x.match(dec1))return M=rnd(r,z[1].length).replace(/^([^\.]+)$/,"$1."+hashq(z[1])).replace(/\.$/,"."+hashq(z[1])).replace(/\.(\d*)$/,function(K,J){return"."+J+fill("0",hashq(z[1]).length-J.length)}),x.indexOf("0.")!==-1?M:M.replace(/^0\./,".");if(x=x.replace(/^#+([0.])/,"$1"),z=x.match(/^(0*)\.(#*)$/))return O+rnd(I,z[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,z[1].length?"0.":".");if(z=x.match(/^#{1,3},##0(\.?)$/))return O+commaify(pad0r(I,0));if(z=x.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+write_num_flt(y,x,-r):commaify(""+(Math.floor(r)+carry(r,z[1].length)))+"."+pad0(dec(r,z[1].length),z[1].length);if(z=x.match(/^#,#*,#0/))return write_num_flt(y,x.replace(/^#,#*,/,""),r);if(z=x.match(/^([0#]+)(\\?-([0#]+))+$/))return M=_strrev(write_num_flt(y,x.replace(/[\\-]/g,""),r)),B=0,_strrev(_strrev(x.replace(/\\/g,"")).replace(/[0#]/g,function(K){return B<M.length?M.charAt(B++):K==="0"?"0":""}));if(x.match(phone))return M=write_num_flt(y,"##########",r),"("+M.substr(0,3)+") "+M.substr(3,3)+"-"+M.substr(6);var A="";if(z=x.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return B=Math.min(z[4].length,7),R=SSF_frac(I,Math.pow(10,B)-1,!1),M=""+O,A=write_num("n",z[1],R[1]),A.charAt(A.length-1)==" "&&(A=A.substr(0,A.length-1)+"0"),M+=A+z[2]+"/"+z[3],A=rpad_(R[2],B),A.length<z[4].length&&(A=hashq(z[4].substr(z[4].length-A.length))+A),M+=A,M;if(z=x.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return B=Math.min(Math.max(z[1].length,z[4].length),7),R=SSF_frac(I,Math.pow(10,B)-1,!0),O+(R[0]||(R[1]?"":"0"))+" "+(R[1]?pad_(R[1],B)+z[2]+"/"+z[3]+rpad_(R[2],B):fill(" ",2*B+1+z[2].length+z[3].length));if(z=x.match(/^[#0?]+$/))return M=pad0r(r,0),x.length<=M.length?M:hashq(x.substr(0,x.length-M.length))+M;if(z=x.match(/^([#0?]+)\.([#0]+)$/)){M=""+r.toFixed(Math.min(z[2].length,10)).replace(/([^0])0+$/,"$1"),B=M.indexOf(".");var T=x.indexOf(".")-B,U=x.length-M.length-T;return hashq(x.substr(0,T)+M+x.substr(x.length-U))}if(z=x.match(/^00,000\.([#0]*0)$/))return B=dec(r,z[1].length),r<0?"-"+write_num_flt(y,x,-r):commaify(flr(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(K){return"00,"+(K.length<3?pad0(0,3-K.length):"")+K})+"."+pad0(B,z[1].length);switch(x){case"###,##0.00":return write_num_flt(y,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var q=commaify(pad0r(I,0));return q!=="0"?O+q:"";case"###,###.00":return write_num_flt(y,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return write_num_flt(y,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+x+"|")}function write_num_cm2(y,x,r){for(var b=x.length-1;x.charCodeAt(b-1)===44;)--b;return write_num(y,x.substr(0,b),r/Math.pow(10,3*(x.length-b)))}function write_num_pct2(y,x,r){var b=x.replace(pct1,""),M=x.length-b.length;return write_num(y,b,r*Math.pow(10,2*M))+fill("%",M)}function write_num_exp2(y,x){var r,b=y.indexOf("E")-y.indexOf(".")-1;if(y.match(/^#+0.0E\+0$/)){if(x==0)return"0.0E+0";if(x<0)return"-"+write_num_exp2(y,-x);var M=y.indexOf(".");M===-1&&(M=y.indexOf("E"));var z=Math.floor(Math.log(x)*Math.LOG10E)%M;if(z<0&&(z+=M),r=(x/Math.pow(10,z)).toPrecision(b+1+(M+z)%M),!r.match(/[Ee]/)){var B=Math.floor(Math.log(x)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(B-r.length+z):r+="E+"+(B-z),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(R,I,O,A){return I+O+A.substr(0,(M+z)%M)+"."+A.substr(z)+"E"})}else r=x.toExponential(b);return y.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),y.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function write_num_int(y,x,r){if(y.charCodeAt(0)===40&&!x.match(closeparen)){var b=x.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?write_num_int("n",b,r):"("+write_num_int("n",b,-r)+")"}if(x.charCodeAt(x.length-1)===44)return write_num_cm2(y,x,r);if(x.indexOf("%")!==-1)return write_num_pct2(y,x,r);if(x.indexOf("E")!==-1)return write_num_exp2(x,r);if(x.charCodeAt(0)===36)return"$"+write_num_int(y,x.substr(x.charAt(1)==" "?2:1),r);var M,z,B,R,I=Math.abs(r),O=r<0?"-":"";if(x.match(/^00+$/))return O+pad0(I,x.length);if(x.match(/^[#?]+$/))return M=""+r,r===0&&(M=""),M.length>x.length?M:hashq(x.substr(0,x.length-M.length))+M;if(z=x.match(frac1))return write_num_f2(z,I,O);if(x.match(/^#+0+$/))return O+pad0(I,x.length-x.indexOf("0"));if(z=x.match(dec1))return M=(""+r).replace(/^([^\.]+)$/,"$1."+hashq(z[1])).replace(/\.$/,"."+hashq(z[1])),M=M.replace(/\.(\d*)$/,function(K,J){return"."+J+fill("0",hashq(z[1]).length-J.length)}),x.indexOf("0.")!==-1?M:M.replace(/^0\./,".");if(x=x.replace(/^#+([0.])/,"$1"),z=x.match(/^(0*)\.(#*)$/))return O+(""+I).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,z[1].length?"0.":".");if(z=x.match(/^#{1,3},##0(\.?)$/))return O+commaify(""+I);if(z=x.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+write_num_int(y,x,-r):commaify(""+r)+"."+fill("0",z[1].length);if(z=x.match(/^#,#*,#0/))return write_num_int(y,x.replace(/^#,#*,/,""),r);if(z=x.match(/^([0#]+)(\\?-([0#]+))+$/))return M=_strrev(write_num_int(y,x.replace(/[\\-]/g,""),r)),B=0,_strrev(_strrev(x.replace(/\\/g,"")).replace(/[0#]/g,function(K){return B<M.length?M.charAt(B++):K==="0"?"0":""}));if(x.match(phone))return M=write_num_int(y,"##########",r),"("+M.substr(0,3)+") "+M.substr(3,3)+"-"+M.substr(6);var A="";if(z=x.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return B=Math.min(z[4].length,7),R=SSF_frac(I,Math.pow(10,B)-1,!1),M=""+O,A=write_num("n",z[1],R[1]),A.charAt(A.length-1)==" "&&(A=A.substr(0,A.length-1)+"0"),M+=A+z[2]+"/"+z[3],A=rpad_(R[2],B),A.length<z[4].length&&(A=hashq(z[4].substr(z[4].length-A.length))+A),M+=A,M;if(z=x.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return B=Math.min(Math.max(z[1].length,z[4].length),7),R=SSF_frac(I,Math.pow(10,B)-1,!0),O+(R[0]||(R[1]?"":"0"))+" "+(R[1]?pad_(R[1],B)+z[2]+"/"+z[3]+rpad_(R[2],B):fill(" ",2*B+1+z[2].length+z[3].length));if(z=x.match(/^[#0?]+$/))return M=""+r,x.length<=M.length?M:hashq(x.substr(0,x.length-M.length))+M;if(z=x.match(/^([#0]+)\.([#0]+)$/)){M=""+r.toFixed(Math.min(z[2].length,10)).replace(/([^0])0+$/,"$1"),B=M.indexOf(".");var T=x.indexOf(".")-B,U=x.length-M.length-T;return hashq(x.substr(0,T)+M+x.substr(x.length-U))}if(z=x.match(/^00,000\.([#0]*0)$/))return r<0?"-"+write_num_int(y,x,-r):commaify(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(K){return"00,"+(K.length<3?pad0(0,3-K.length):"")+K})+"."+pad0(0,z[1].length);switch(x){case"###,###":case"##,###":case"#,###":var q=commaify(""+I);return q!=="0"?O+q:"";default:if(x.match(/\.[0#?]*$/))return write_num_int(y,x.slice(0,x.lastIndexOf(".")),r)+hashq(x.slice(x.lastIndexOf(".")))}throw new Error("unsupported format |"+x+"|")}function write_num(y,x,r){return(r|0)===r?write_num_int(y,x,r):write_num_flt(y,x,r)}function SSF_split_fmt(y){for(var x=[],r=!1,b=0,M=0;b<y.length;++b)switch(y.charCodeAt(b)){case 34:r=!r;break;case 95:case 42:case 92:++b;break;case 59:x[x.length]=y.substr(M,b-M),M=b+1}if(x[x.length]=y.substr(M),r===!0)throw new Error("Format |"+y+"| unterminated string ");return x}var SSF_abstime=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function fmt_is_date(y){for(var x=0,r="",b="";x<y.length;)switch(r=y.charAt(x)){case"G":SSF_isgeneral(y,x)&&(x+=6),x++;break;case'"':for(;y.charCodeAt(++x)!==34&&x<y.length;);++x;break;case"\\":x+=2;break;case"_":x+=2;break;case"@":++x;break;case"B":case"b":if(y.charAt(x+1)==="1"||y.charAt(x+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(y.substr(x,3).toUpperCase()==="A/P"||y.substr(x,5).toUpperCase()==="AM/PM"||y.substr(x,5).toUpperCase()==="/")return!0;++x;break;case"[":for(b=r;y.charAt(x++)!=="]"&&x<y.length;)b+=y.charAt(x);if(b.match(SSF_abstime))return!0;break;case".":case"0":case"#":for(;x<y.length&&("0#?.,E+-%".indexOf(r=y.charAt(++x))>-1||r=="\\"&&y.charAt(x+1)=="-"&&"0#".indexOf(y.charAt(x+2))>-1););break;case"?":for(;y.charAt(++x)===r;);break;case"*":++x,(y.charAt(x)==" "||y.charAt(x)=="*")&&++x;break;case"(":case")":++x;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;x<y.length&&"0123456789".indexOf(y.charAt(++x))>-1;);break;case" ":++x;break;default:++x;break}return!1}function eval_fmt(y,x,r,b){for(var M=[],z="",B=0,R="",I="t",O,A,T,U="H";B<y.length;)switch(R=y.charAt(B)){case"G":if(!SSF_isgeneral(y,B))throw new Error("unrecognized character "+R+" in "+y);M[M.length]={t:"G",v:"General"},B+=7;break;case'"':for(z="";(T=y.charCodeAt(++B))!==34&&B<y.length;)z+=String.fromCharCode(T);M[M.length]={t:"t",v:z},++B;break;case"\\":var q=y.charAt(++B),K=q==="("||q===")"?q:"t";M[M.length]={t:K,v:q},++B;break;case"_":M[M.length]={t:"t",v:" "},B+=2;break;case"@":M[M.length]={t:"T",v:x},++B;break;case"B":case"b":if(y.charAt(B+1)==="1"||y.charAt(B+1)==="2"){if(O==null&&(O=SSF_parse_date_code(x,r,y.charAt(B+1)==="2"),O==null))return"";M[M.length]={t:"X",v:y.substr(B,2)},I=R,B+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":R=R.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(x<0||O==null&&(O=SSF_parse_date_code(x,r),O==null))return"";for(z=R;++B<y.length&&y.charAt(B).toLowerCase()===R;)z+=R;R==="m"&&I.toLowerCase()==="h"&&(R="M"),R==="h"&&(R=U),M[M.length]={t:R,v:z},I=R;break;case"A":case"a":case"":var J={t:R,v:R};if(O==null&&(O=SSF_parse_date_code(x,r)),y.substr(B,3).toUpperCase()==="A/P"?(O!=null&&(J.v=O.H>=12?"P":"A"),J.t="T",U="h",B+=3):y.substr(B,5).toUpperCase()==="AM/PM"?(O!=null&&(J.v=O.H>=12?"PM":"AM"),J.t="T",B+=5,U="h"):y.substr(B,5).toUpperCase()==="/"?(O!=null&&(J.v=O.H>=12?"":""),J.t="T",B+=5,U="h"):(J.t="t",++B),O==null&&J.t==="T")return"";M[M.length]=J,I=R;break;case"[":for(z=R;y.charAt(B++)!=="]"&&B<y.length;)z+=y.charAt(B);if(z.slice(-1)!=="]")throw'unterminated "[" block: |'+z+"|";if(z.match(SSF_abstime)){if(O==null&&(O=SSF_parse_date_code(x,r),O==null))return"";M[M.length]={t:"Z",v:z.toLowerCase()},I=z.charAt(1)}else z.indexOf("$")>-1&&(z=(z.match(/\$([^-\[\]]*)/)||[])[1]||"$",fmt_is_date(y)||(M[M.length]={t:"t",v:z}));break;case".":if(O!=null){for(z=R;++B<y.length&&(R=y.charAt(B))==="0";)z+=R;M[M.length]={t:"s",v:z};break}case"0":case"#":for(z=R;++B<y.length&&"0#?.,E+-%".indexOf(R=y.charAt(B))>-1;)z+=R;M[M.length]={t:"n",v:z};break;case"?":for(z=R;y.charAt(++B)===R;)z+=R;M[M.length]={t:R,v:z},I=R;break;case"*":++B,(y.charAt(B)==" "||y.charAt(B)=="*")&&++B;break;case"(":case")":M[M.length]={t:b===1?"t":R,v:R},++B;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(z=R;B<y.length&&"0123456789".indexOf(y.charAt(++B))>-1;)z+=y.charAt(B);M[M.length]={t:"D",v:z};break;case" ":M[M.length]={t:R,v:R},++B;break;case"$":M[M.length]={t:"t",v:"$"},++B;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(R)===-1)throw new Error("unrecognized character "+R+" in "+y);M[M.length]={t:"t",v:R},++B;break}var te=0,oe=0,ue;for(B=M.length-1,I="t";B>=0;--B)switch(M[B].t){case"h":case"H":M[B].t=U,I="h",te<1&&(te=1);break;case"s":(ue=M[B].v.match(/\.0+$/))&&(oe=Math.max(oe,ue[0].length-1)),te<3&&(te=3);case"d":case"y":case"M":case"e":I=M[B].t;break;case"m":I==="s"&&(M[B].t="M",te<2&&(te=2));break;case"X":break;case"Z":te<1&&M[B].v.match(/[Hh]/)&&(te=1),te<2&&M[B].v.match(/[Mm]/)&&(te=2),te<3&&M[B].v.match(/[Ss]/)&&(te=3)}switch(te){case 0:break;case 1:O.u>=.5&&(O.u=0,++O.S),O.S>=60&&(O.S=0,++O.M),O.M>=60&&(O.M=0,++O.H);break;case 2:O.u>=.5&&(O.u=0,++O.S),O.S>=60&&(O.S=0,++O.M);break}var fe="",Le;for(B=0;B<M.length;++B)switch(M[B].t){case"t":case"T":case" ":case"D":break;case"X":M[B].v="",M[B].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":M[B].v=SSF_write_date(M[B].t.charCodeAt(0),M[B].v,O,oe),M[B].t="t";break;case"n":case"?":for(Le=B+1;M[Le]!=null&&((R=M[Le].t)==="?"||R==="D"||(R===" "||R==="t")&&M[Le+1]!=null&&(M[Le+1].t==="?"||M[Le+1].t==="t"&&M[Le+1].v==="/")||M[B].t==="("&&(R===" "||R==="n"||R===")")||R==="t"&&(M[Le].v==="/"||M[Le].v===" "&&M[Le+1]!=null&&M[Le+1].t=="?"));)M[B].v+=M[Le].v,M[Le]={v:"",t:";"},++Le;fe+=M[B].v,B=Le-1;break;case"G":M[B].t="t",M[B].v=SSF_general(x,r);break}var Ge="",ze,je;if(fe.length>0){fe.charCodeAt(0)==40?(ze=x<0&&fe.charCodeAt(0)===45?-x:x,je=write_num("n",fe,ze)):(ze=x<0&&b>1?-x:x,je=write_num("n",fe,ze),ze<0&&M[0]&&M[0].t=="t"&&(je=je.substr(1),M[0].v="-"+M[0].v)),Le=je.length-1;var Be=M.length;for(B=0;B<M.length;++B)if(M[B]!=null&&M[B].t!="t"&&M[B].v.indexOf(".")>-1){Be=B;break}var _e=M.length;if(Be===M.length&&je.indexOf("E")===-1){for(B=M.length-1;B>=0;--B)M[B]==null||"n?".indexOf(M[B].t)===-1||(Le>=M[B].v.length-1?(Le-=M[B].v.length,M[B].v=je.substr(Le+1,M[B].v.length)):Le<0?M[B].v="":(M[B].v=je.substr(0,Le+1),Le=-1),M[B].t="t",_e=B);Le>=0&&_e<M.length&&(M[_e].v=je.substr(0,Le+1)+M[_e].v)}else if(Be!==M.length&&je.indexOf("E")===-1){for(Le=je.indexOf(".")-1,B=Be;B>=0;--B)if(!(M[B]==null||"n?".indexOf(M[B].t)===-1)){for(A=M[B].v.indexOf(".")>-1&&B===Be?M[B].v.indexOf(".")-1:M[B].v.length-1,Ge=M[B].v.substr(A+1);A>=0;--A)Le>=0&&(M[B].v.charAt(A)==="0"||M[B].v.charAt(A)==="#")&&(Ge=je.charAt(Le--)+Ge);M[B].v=Ge,M[B].t="t",_e=B}for(Le>=0&&_e<M.length&&(M[_e].v=je.substr(0,Le+1)+M[_e].v),Le=je.indexOf(".")+1,B=Be;B<M.length;++B)if(!(M[B]==null||"n?(".indexOf(M[B].t)===-1&&B!==Be)){for(A=M[B].v.indexOf(".")>-1&&B===Be?M[B].v.indexOf(".")+1:0,Ge=M[B].v.substr(0,A);A<M[B].v.length;++A)Le<je.length&&(Ge+=je.charAt(Le++));M[B].v=Ge,M[B].t="t",_e=B}}}for(B=0;B<M.length;++B)M[B]!=null&&"n?".indexOf(M[B].t)>-1&&(ze=b>1&&x<0&&B>0&&M[B-1].v==="-"?-x:x,M[B].v=write_num(M[B].t,M[B].v,ze),M[B].t="t");var He="";for(B=0;B!==M.length;++B)M[B]!=null&&(He+=M[B].v);return He}var cfregex2=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function chkcond(y,x){if(x==null)return!1;var r=parseFloat(x[2]);switch(x[1]){case"=":if(y==r)return!0;break;case">":if(y>r)return!0;break;case"<":if(y<r)return!0;break;case"<>":if(y!=r)return!0;break;case">=":if(y>=r)return!0;break;case"<=":if(y<=r)return!0;break}return!1}function choose_fmt(y,x){var r=SSF_split_fmt(y),b=r.length,M=r[b-1].indexOf("@");if(b<4&&M>-1&&--b,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof x!="number")return[4,r.length===4||M>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=M>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=M>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=M>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var z=x>0?r[0]:x<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[b,z];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var B=r[0].match(cfregex2),R=r[1].match(cfregex2);return chkcond(x,B)?[b,r[0]]:chkcond(x,R)?[b,r[1]]:[b,r[B!=null&&R!=null?2:1]]}return[b,z]}function SSF_format(y,x,r){r==null&&(r={});var b="";switch(typeof y){case"string":y=="m/d/yy"&&r.dateNF?b=r.dateNF:b=y;break;case"number":y==14&&r.dateNF?b=r.dateNF:b=(r.table!=null?r.table:table_fmt)[y],b==null&&(b=r.table&&r.table[SSF_default_map[y]]||table_fmt[SSF_default_map[y]]),b==null&&(b=SSF_default_str[y]||"General");break}if(SSF_isgeneral(b,0))return SSF_general(x,r);x instanceof Date&&(x=datenum_local(x,r.date1904));var M=choose_fmt(b,x);if(SSF_isgeneral(M[1]))return SSF_general(x,r);if(x===!0)x="TRUE";else if(x===!1)x="FALSE";else if(x===""||x==null)return"";return eval_fmt(M[1],x,r,M[0])}function SSF_load(y,x){if(typeof x!="number"){x=+x||-1;for(var r=0;r<392;++r){if(table_fmt[r]==null){x<0&&(x=r);continue}if(table_fmt[r]==y){x=r;break}}x<0&&(x=391)}return table_fmt[x]=y,x}function SSF_load_table(y){for(var x=0;x!=392;++x)y[x]!==void 0&&SSF_load(y[x],x)}function make_ssf(){table_fmt=SSF_init_table()}var SSFImplicit={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},dateNFregex=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function dateNF_regex(y){var x=typeof y=="number"?table_fmt[y]:y;return x=x.replace(dateNFregex,"(\\d+)"),new RegExp("^"+x+"$")}function dateNF_fix(y,x,r){var b=-1,M=-1,z=-1,B=-1,R=-1,I=-1;(x.match(dateNFregex)||[]).forEach(function(T,U){var q=parseInt(r[U+1],10);switch(T.toLowerCase().charAt(0)){case"y":b=q;break;case"d":z=q;break;case"h":B=q;break;case"s":I=q;break;case"m":B>=0?R=q:M=q;break}}),I>=0&&R==-1&&M>=0&&(R=M,M=-1);var O=(""+(b>=0?b:new Date().getFullYear())).slice(-4)+"-"+("00"+(M>=1?M:1)).slice(-2)+"-"+("00"+(z>=1?z:1)).slice(-2);O.length==7&&(O="0"+O),O.length==8&&(O="20"+O);var A=("00"+(B>=0?B:0)).slice(-2)+":"+("00"+(R>=0?R:0)).slice(-2)+":"+("00"+(I>=0?I:0)).slice(-2);return B==-1&&R==-1&&I==-1?O:b==-1&&M==-1&&z==-1?A:O+"T"+A}var CRC32=(function(){var y={};y.version="1.2.0";function x(){for(var je=0,Be=new Array(256),_e=0;_e!=256;++_e)je=_e,je=je&1?-306674912^je>>>1:je>>>1,je=je&1?-306674912^je>>>1:je>>>1,je=je&1?-306674912^je>>>1:je>>>1,je=je&1?-306674912^je>>>1:je>>>1,je=je&1?-306674912^je>>>1:je>>>1,je=je&1?-306674912^je>>>1:je>>>1,je=je&1?-306674912^je>>>1:je>>>1,je=je&1?-306674912^je>>>1:je>>>1,Be[_e]=je;return typeof Int32Array<"u"?new Int32Array(Be):Be}var r=x();function b(je){var Be=0,_e=0,He=0,tt=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(He=0;He!=256;++He)tt[He]=je[He];for(He=0;He!=256;++He)for(_e=je[He],Be=256+He;Be<4096;Be+=256)_e=tt[Be]=_e>>>8^je[_e&255];var Ke=[];for(He=1;He!=16;++He)Ke[He-1]=typeof Int32Array<"u"?tt.subarray(He*256,He*256+256):tt.slice(He*256,He*256+256);return Ke}var M=b(r),z=M[0],B=M[1],R=M[2],I=M[3],O=M[4],A=M[5],T=M[6],U=M[7],q=M[8],K=M[9],J=M[10],te=M[11],oe=M[12],ue=M[13],fe=M[14];function Le(je,Be){for(var _e=Be^-1,He=0,tt=je.length;He<tt;)_e=_e>>>8^r[(_e^je.charCodeAt(He++))&255];return~_e}function Ge(je,Be){for(var _e=Be^-1,He=je.length-15,tt=0;tt<He;)_e=fe[je[tt++]^_e&255]^ue[je[tt++]^_e>>8&255]^oe[je[tt++]^_e>>16&255]^te[je[tt++]^_e>>>24]^J[je[tt++]]^K[je[tt++]]^q[je[tt++]]^U[je[tt++]]^T[je[tt++]]^A[je[tt++]]^O[je[tt++]]^I[je[tt++]]^R[je[tt++]]^B[je[tt++]]^z[je[tt++]]^r[je[tt++]];for(He+=15;tt<He;)_e=_e>>>8^r[(_e^je[tt++])&255];return~_e}function ze(je,Be){for(var _e=Be^-1,He=0,tt=je.length,Ke=0,Ze=0;He<tt;)Ke=je.charCodeAt(He++),Ke<128?_e=_e>>>8^r[(_e^Ke)&255]:Ke<2048?(_e=_e>>>8^r[(_e^(192|Ke>>6&31))&255],_e=_e>>>8^r[(_e^(128|Ke&63))&255]):Ke>=55296&&Ke<57344?(Ke=(Ke&1023)+64,Ze=je.charCodeAt(He++)&1023,_e=_e>>>8^r[(_e^(240|Ke>>8&7))&255],_e=_e>>>8^r[(_e^(128|Ke>>2&63))&255],_e=_e>>>8^r[(_e^(128|Ze>>6&15|(Ke&3)<<4))&255],_e=_e>>>8^r[(_e^(128|Ze&63))&255]):(_e=_e>>>8^r[(_e^(224|Ke>>12&15))&255],_e=_e>>>8^r[(_e^(128|Ke>>6&63))&255],_e=_e>>>8^r[(_e^(128|Ke&63))&255]);return~_e}return y.table=r,y.bstr=Le,y.buf=Ge,y.str=ze,y})(),CFB=(function(){var x={};x.version="1.2.1";function r(Zt,_r){for(var fr=Zt.split("/"),pr=_r.split("/"),gr=0,Ar=0,Xr=Math.min(fr.length,pr.length);gr<Xr;++gr){if(Ar=fr[gr].length-pr[gr].length)return Ar;if(fr[gr]!=pr[gr])return fr[gr]<pr[gr]?-1:1}return fr.length-pr.length}function b(Zt){if(Zt.charAt(Zt.length-1)=="/")return Zt.slice(0,-1).indexOf("/")===-1?Zt:b(Zt.slice(0,-1));var _r=Zt.lastIndexOf("/");return _r===-1?Zt:Zt.slice(0,_r+1)}function M(Zt){if(Zt.charAt(Zt.length-1)=="/")return M(Zt.slice(0,-1));var _r=Zt.lastIndexOf("/");return _r===-1?Zt:Zt.slice(_r+1)}function z(Zt,_r){typeof _r=="string"&&(_r=new Date(_r));var fr=_r.getHours();fr=fr<<6|_r.getMinutes(),fr=fr<<5|_r.getSeconds()>>>1,Zt.write_shift(2,fr);var pr=_r.getFullYear()-1980;pr=pr<<4|_r.getMonth()+1,pr=pr<<5|_r.getDate(),Zt.write_shift(2,pr)}function B(Zt){var _r=Zt.read_shift(2)&65535,fr=Zt.read_shift(2)&65535,pr=new Date,gr=fr&31;fr>>>=5;var Ar=fr&15;fr>>>=4,pr.setMilliseconds(0),pr.setFullYear(fr+1980),pr.setMonth(Ar-1),pr.setDate(gr);var Xr=_r&31;_r>>>=5;var cn=_r&63;return _r>>>=6,pr.setHours(_r),pr.setMinutes(cn),pr.setSeconds(Xr<<1),pr}function R(Zt){prep_blob(Zt,0);for(var _r={},fr=0;Zt.l<=Zt.length-4;){var pr=Zt.read_shift(2),gr=Zt.read_shift(2),Ar=Zt.l+gr,Xr={};switch(pr){case 21589:fr=Zt.read_shift(1),fr&1&&(Xr.mtime=Zt.read_shift(4)),gr>5&&(fr&2&&(Xr.atime=Zt.read_shift(4)),fr&4&&(Xr.ctime=Zt.read_shift(4))),Xr.mtime&&(Xr.mt=new Date(Xr.mtime*1e3));break}Zt.l=Ar,_r[pr]=Xr}return _r}var I;function O(){return I||(I={})}function A(Zt,_r){if(Zt[0]==80&&Zt[1]==75)return Vn(Zt,_r);if((Zt[0]|32)==109&&(Zt[1]|32)==105)return Gr(Zt,_r);if(Zt.length<512)throw new Error("CFB file size "+Zt.length+" < 512");var fr=3,pr=512,gr=0,Ar=0,Xr=0,cn=0,nn=0,tn=[],$r=Zt.slice(0,512);prep_blob($r,0);var Bn=T($r);switch(fr=Bn[0],fr){case 3:pr=512;break;case 4:pr=4096;break;case 0:if(Bn[1]==0)return Vn(Zt,_r);default:throw new Error("Major Version: Expected 3 or 4 saw "+fr)}pr!==512&&($r=Zt.slice(0,pr),prep_blob($r,28));var zn=Zt.slice(0,pr);U($r,fr);var ri=$r.read_shift(4,"i");if(fr===3&&ri!==0)throw new Error("# Directory Sectors: Expected 0 saw "+ri);$r.l+=4,Xr=$r.read_shift(4,"i"),$r.l+=4,$r.chk("00100000","Mini Stream Cutoff Size: "),cn=$r.read_shift(4,"i"),gr=$r.read_shift(4,"i"),nn=$r.read_shift(4,"i"),Ar=$r.read_shift(4,"i");for(var qn=-1,Yn=0;Yn<109&&(qn=$r.read_shift(4,"i"),!(qn<0));++Yn)tn[Yn]=qn;var fi=q(Zt,pr);te(nn,Ar,fi,pr,tn);var Yi=ue(fi,Xr,tn,pr);Yi[Xr].name="!Directory",gr>0&&cn!==Ze&&(Yi[cn].name="!MiniFAT"),Yi[tn[0]].name="!FAT",Yi.fat_addrs=tn,Yi.ssz=pr;var Wi={},_a=[],ja=[],io=[];fe(Xr,Yi,fi,_a,gr,Wi,ja,cn),K(ja,io,_a),_a.shift();var No={FileIndex:ja,FullPaths:io};return _r&&_r.raw&&(No.raw={header:zn,sectors:fi}),No}function T(Zt){if(Zt[Zt.l]==80&&Zt[Zt.l+1]==75)return[0,0];Zt.chk(Qe,"Header Signature: "),Zt.l+=16;var _r=Zt.read_shift(2,"u");return[Zt.read_shift(2,"u"),_r]}function U(Zt,_r){var fr=9;switch(Zt.l+=2,fr=Zt.read_shift(2)){case 9:if(_r!=3)throw new Error("Sector Shift: Expected 9 saw "+fr);break;case 12:if(_r!=4)throw new Error("Sector Shift: Expected 12 saw "+fr);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+fr)}Zt.chk("0600","Mini Sector Shift: "),Zt.chk("000000000000","Reserved: ")}function q(Zt,_r){for(var fr=Math.ceil(Zt.length/_r)-1,pr=[],gr=1;gr<fr;++gr)pr[gr-1]=Zt.slice(gr*_r,(gr+1)*_r);return pr[fr-1]=Zt.slice(fr*_r),pr}function K(Zt,_r,fr){for(var pr=0,gr=0,Ar=0,Xr=0,cn=0,nn=fr.length,tn=[],$r=[];pr<nn;++pr)tn[pr]=$r[pr]=pr,_r[pr]=fr[pr];for(;cn<$r.length;++cn)pr=$r[cn],gr=Zt[pr].L,Ar=Zt[pr].R,Xr=Zt[pr].C,tn[pr]===pr&&(gr!==-1&&tn[gr]!==gr&&(tn[pr]=tn[gr]),Ar!==-1&&tn[Ar]!==Ar&&(tn[pr]=tn[Ar])),Xr!==-1&&(tn[Xr]=pr),gr!==-1&&pr!=tn[pr]&&(tn[gr]=tn[pr],$r.lastIndexOf(gr)<cn&&$r.push(gr)),Ar!==-1&&pr!=tn[pr]&&(tn[Ar]=tn[pr],$r.lastIndexOf(Ar)<cn&&$r.push(Ar));for(pr=1;pr<nn;++pr)tn[pr]===pr&&(Ar!==-1&&tn[Ar]!==Ar?tn[pr]=tn[Ar]:gr!==-1&&tn[gr]!==gr&&(tn[pr]=tn[gr]));for(pr=1;pr<nn;++pr)if(Zt[pr].type!==0){if(cn=pr,cn!=tn[cn])do cn=tn[cn],_r[pr]=_r[cn]+"/"+_r[pr];while(cn!==0&&tn[cn]!==-1&&cn!=tn[cn]);tn[pr]=-1}for(_r[0]+="/",pr=1;pr<nn;++pr)Zt[pr].type!==2&&(_r[pr]+="/")}function J(Zt,_r,fr){for(var pr=Zt.start,gr=Zt.size,Ar=[],Xr=pr;fr&&gr>0&&Xr>=0;)Ar.push(_r.slice(Xr*Ke,Xr*Ke+Ke)),gr-=Ke,Xr=__readInt32LE(fr,Xr*4);return Ar.length===0?new_buf(0):bconcat(Ar).slice(0,Zt.size)}function te(Zt,_r,fr,pr,gr){var Ar=Ze;if(Zt===Ze){if(_r!==0)throw new Error("DIFAT chain shorter than expected")}else if(Zt!==-1){var Xr=fr[Zt],cn=(pr>>>2)-1;if(!Xr)return;for(var nn=0;nn<cn&&(Ar=__readInt32LE(Xr,nn*4))!==Ze;++nn)gr.push(Ar);te(__readInt32LE(Xr,pr-4),_r-1,fr,pr,gr)}}function oe(Zt,_r,fr,pr,gr){var Ar=[],Xr=[];gr||(gr=[]);var cn=pr-1,nn=0,tn=0;for(nn=_r;nn>=0;){gr[nn]=!0,Ar[Ar.length]=nn,Xr.push(Zt[nn]);var $r=fr[Math.floor(nn*4/pr)];if(tn=nn*4&cn,pr<4+tn)throw new Error("FAT boundary crossed: "+nn+" 4 "+pr);if(!Zt[$r])break;nn=__readInt32LE(Zt[$r],tn)}return{nodes:Ar,data:__toBuffer([Xr])}}function ue(Zt,_r,fr,pr){var gr=Zt.length,Ar=[],Xr=[],cn=[],nn=[],tn=pr-1,$r=0,Bn=0,zn=0,ri=0;for($r=0;$r<gr;++$r)if(cn=[],zn=$r+_r,zn>=gr&&(zn-=gr),!Xr[zn]){nn=[];var qn=[];for(Bn=zn;Bn>=0;){qn[Bn]=!0,Xr[Bn]=!0,cn[cn.length]=Bn,nn.push(Zt[Bn]);var Yn=fr[Math.floor(Bn*4/pr)];if(ri=Bn*4&tn,pr<4+ri)throw new Error("FAT boundary crossed: "+Bn+" 4 "+pr);if(!Zt[Yn]||(Bn=__readInt32LE(Zt[Yn],ri),qn[Bn]))break}Ar[zn]={nodes:cn,data:__toBuffer([nn])}}return Ar}function fe(Zt,_r,fr,pr,gr,Ar,Xr,cn){for(var nn=0,tn=pr.length?2:0,$r=_r[Zt].data,Bn=0,zn=0,ri;Bn<$r.length;Bn+=128){var qn=$r.slice(Bn,Bn+128);prep_blob(qn,64),zn=qn.read_shift(2),ri=__utf16le(qn,0,zn-tn),pr.push(ri);var Yn={name:ri,type:qn.read_shift(1),color:qn.read_shift(1),L:qn.read_shift(4,"i"),R:qn.read_shift(4,"i"),C:qn.read_shift(4,"i"),clsid:qn.read_shift(16),state:qn.read_shift(4,"i"),start:0,size:0},fi=qn.read_shift(2)+qn.read_shift(2)+qn.read_shift(2)+qn.read_shift(2);fi!==0&&(Yn.ct=Le(qn,qn.l-8));var Yi=qn.read_shift(2)+qn.read_shift(2)+qn.read_shift(2)+qn.read_shift(2);Yi!==0&&(Yn.mt=Le(qn,qn.l-8)),Yn.start=qn.read_shift(4,"i"),Yn.size=qn.read_shift(4,"i"),Yn.size<0&&Yn.start<0&&(Yn.size=Yn.type=0,Yn.start=Ze,Yn.name=""),Yn.type===5?(nn=Yn.start,gr>0&&nn!==Ze&&(_r[nn].name="!StreamData")):Yn.size>=4096?(Yn.storage="fat",_r[Yn.start]===void 0&&(_r[Yn.start]=oe(fr,Yn.start,_r.fat_addrs,_r.ssz)),_r[Yn.start].name=Yn.name,Yn.content=_r[Yn.start].data.slice(0,Yn.size)):(Yn.storage="minifat",Yn.size<0?Yn.size=0:nn!==Ze&&Yn.start!==Ze&&_r[nn]&&(Yn.content=J(Yn,_r[nn].data,(_r[cn]||{}).data))),Yn.content&&prep_blob(Yn.content,0),Ar[ri]=Yn,Xr.push(Yn)}}function Le(Zt,_r){return new Date((__readUInt32LE(Zt,_r+4)/1e7*Math.pow(2,32)+__readUInt32LE(Zt,_r)/1e7-11644473600)*1e3)}function Ge(Zt,_r){return O(),A(I.readFileSync(Zt),_r)}function ze(Zt,_r){var fr=_r&&_r.type;switch(fr||has_buf&&Buffer.isBuffer(Zt)&&(fr="buffer"),fr||"base64"){case"file":return Ge(Zt,_r);case"base64":return A(s2a(Base64_decode(Zt)),_r);case"binary":return A(s2a(Zt),_r)}return A(Zt,_r)}function je(Zt,_r){var fr=_r||{},pr=fr.root||"Root Entry";if(Zt.FullPaths||(Zt.FullPaths=[]),Zt.FileIndex||(Zt.FileIndex=[]),Zt.FullPaths.length!==Zt.FileIndex.length)throw new Error("inconsistent CFB structure");Zt.FullPaths.length===0&&(Zt.FullPaths[0]=pr+"/",Zt.FileIndex[0]={name:pr,type:5}),fr.CLSID&&(Zt.FileIndex[0].clsid=fr.CLSID),Be(Zt)}function Be(Zt){var _r="Sh33tJ5";if(!CFB.find(Zt,"/"+_r)){var fr=new_buf(4);fr[0]=55,fr[1]=fr[3]=50,fr[2]=54,Zt.FileIndex.push({name:_r,type:2,content:fr,size:4,L:69,R:69,C:69}),Zt.FullPaths.push(Zt.FullPaths[0]+_r),_e(Zt)}}function _e(Zt,_r){je(Zt);for(var fr=!1,pr=!1,gr=Zt.FullPaths.length-1;gr>=0;--gr){var Ar=Zt.FileIndex[gr];switch(Ar.type){case 0:pr?fr=!0:(Zt.FileIndex.pop(),Zt.FullPaths.pop());break;case 1:case 2:case 5:pr=!0,isNaN(Ar.R*Ar.L*Ar.C)&&(fr=!0),Ar.R>-1&&Ar.L>-1&&Ar.R==Ar.L&&(fr=!0);break;default:fr=!0;break}}if(!(!fr&&!_r)){var Xr=new Date(1987,1,19),cn=0,nn=Object.create?Object.create(null):{},tn=[];for(gr=0;gr<Zt.FullPaths.length;++gr)nn[Zt.FullPaths[gr]]=!0,Zt.FileIndex[gr].type!==0&&tn.push([Zt.FullPaths[gr],Zt.FileIndex[gr]]);for(gr=0;gr<tn.length;++gr){var $r=b(tn[gr][0]);pr=nn[$r],pr||(tn.push([$r,{name:M($r).replace("/",""),type:1,clsid:pt,ct:Xr,mt:Xr,content:null}]),nn[$r]=!0)}for(tn.sort(function(ri,qn){return r(ri[0],qn[0])}),Zt.FullPaths=[],Zt.FileIndex=[],gr=0;gr<tn.length;++gr)Zt.FullPaths[gr]=tn[gr][0],Zt.FileIndex[gr]=tn[gr][1];for(gr=0;gr<tn.length;++gr){var Bn=Zt.FileIndex[gr],zn=Zt.FullPaths[gr];if(Bn.name=M(zn).replace("/",""),Bn.L=Bn.R=Bn.C=-(Bn.color=1),Bn.size=Bn.content?Bn.content.length:0,Bn.start=0,Bn.clsid=Bn.clsid||pt,gr===0)Bn.C=tn.length>1?1:-1,Bn.size=0,Bn.type=5;else if(zn.slice(-1)=="/"){for(cn=gr+1;cn<tn.length&&b(Zt.FullPaths[cn])!=zn;++cn);for(Bn.C=cn>=tn.length?-1:cn,cn=gr+1;cn<tn.length&&b(Zt.FullPaths[cn])!=b(zn);++cn);Bn.R=cn>=tn.length?-1:cn,Bn.type=1}else b(Zt.FullPaths[gr+1]||"")==b(zn)&&(Bn.R=gr+1),Bn.type=2}}}function He(Zt,_r){var fr=_r||{};if(fr.fileType=="mad")return Vr(Zt,fr);switch(_e(Zt),fr.fileType){case"zip":return Na(Zt,fr)}var pr=(function(ri){for(var qn=0,Yn=0,fi=0;fi<ri.FileIndex.length;++fi){var Yi=ri.FileIndex[fi];if(Yi.content){var Wi=Yi.content.length;Wi>0&&(Wi<4096?qn+=Wi+63>>6:Yn+=Wi+511>>9)}}for(var _a=ri.FullPaths.length+3>>2,ja=qn+7>>3,io=qn+127>>7,No=ja+Yn+_a+io,So=No+127>>7,co=So<=109?0:Math.ceil((So-109)/127);No+So+co+127>>7>So;)co=++So<=109?0:Math.ceil((So-109)/127);var Bi=[1,co,So,io,_a,Yn,qn,0];return ri.FileIndex[0].size=qn<<6,Bi[7]=(ri.FileIndex[0].start=Bi[0]+Bi[1]+Bi[2]+Bi[3]+Bi[4]+Bi[5])+(Bi[6]+7>>3),Bi})(Zt),gr=new_buf(pr[7]<<9),Ar=0,Xr=0;{for(Ar=0;Ar<8;++Ar)gr.write_shift(1,vt[Ar]);for(Ar=0;Ar<8;++Ar)gr.write_shift(2,0);for(gr.write_shift(2,62),gr.write_shift(2,3),gr.write_shift(2,65534),gr.write_shift(2,9),gr.write_shift(2,6),Ar=0;Ar<3;++Ar)gr.write_shift(2,0);for(gr.write_shift(4,0),gr.write_shift(4,pr[2]),gr.write_shift(4,pr[0]+pr[1]+pr[2]+pr[3]-1),gr.write_shift(4,0),gr.write_shift(4,4096),gr.write_shift(4,pr[3]?pr[0]+pr[1]+pr[2]-1:Ze),gr.write_shift(4,pr[3]),gr.write_shift(-4,pr[1]?pr[0]-1:Ze),gr.write_shift(4,pr[1]),Ar=0;Ar<109;++Ar)gr.write_shift(-4,Ar<pr[2]?pr[1]+Ar:-1)}if(pr[1])for(Xr=0;Xr<pr[1];++Xr){for(;Ar<236+Xr*127;++Ar)gr.write_shift(-4,Ar<pr[2]?pr[1]+Ar:-1);gr.write_shift(-4,Xr===pr[1]-1?Ze:Xr+1)}var cn=function(ri){for(Xr+=ri;Ar<Xr-1;++Ar)gr.write_shift(-4,Ar+1);ri&&(++Ar,gr.write_shift(-4,Ze))};for(Xr=Ar=0,Xr+=pr[1];Ar<Xr;++Ar)gr.write_shift(-4,ut.DIFSECT);for(Xr+=pr[2];Ar<Xr;++Ar)gr.write_shift(-4,ut.FATSECT);cn(pr[3]),cn(pr[4]);for(var nn=0,tn=0,$r=Zt.FileIndex[0];nn<Zt.FileIndex.length;++nn)$r=Zt.FileIndex[nn],$r.content&&(tn=$r.content.length,!(tn<4096)&&($r.start=Xr,cn(tn+511>>9)));for(cn(pr[6]+7>>3);gr.l&511;)gr.write_shift(-4,ut.ENDOFCHAIN);for(Xr=Ar=0,nn=0;nn<Zt.FileIndex.length;++nn)$r=Zt.FileIndex[nn],$r.content&&(tn=$r.content.length,!(!tn||tn>=4096)&&($r.start=Xr,cn(tn+63>>6)));for(;gr.l&511;)gr.write_shift(-4,ut.ENDOFCHAIN);for(Ar=0;Ar<pr[4]<<2;++Ar){var Bn=Zt.FullPaths[Ar];if(!Bn||Bn.length===0){for(nn=0;nn<17;++nn)gr.write_shift(4,0);for(nn=0;nn<3;++nn)gr.write_shift(4,-1);for(nn=0;nn<12;++nn)gr.write_shift(4,0);continue}$r=Zt.FileIndex[Ar],Ar===0&&($r.start=$r.size?$r.start-1:Ze);var zn=Ar===0&&fr.root||$r.name;if(tn=2*(zn.length+1),gr.write_shift(64,zn,"utf16le"),gr.write_shift(2,tn),gr.write_shift(1,$r.type),gr.write_shift(1,$r.color),gr.write_shift(-4,$r.L),gr.write_shift(-4,$r.R),gr.write_shift(-4,$r.C),$r.clsid)gr.write_shift(16,$r.clsid,"hex");else for(nn=0;nn<4;++nn)gr.write_shift(4,0);gr.write_shift(4,$r.state||0),gr.write_shift(4,0),gr.write_shift(4,0),gr.write_shift(4,0),gr.write_shift(4,0),gr.write_shift(4,$r.start),gr.write_shift(4,$r.size),gr.write_shift(4,0)}for(Ar=1;Ar<Zt.FileIndex.length;++Ar)if($r=Zt.FileIndex[Ar],$r.size>=4096)if(gr.l=$r.start+1<<9,has_buf&&Buffer.isBuffer($r.content))$r.content.copy(gr,gr.l,0,$r.size),gr.l+=$r.size+511&-512;else{for(nn=0;nn<$r.size;++nn)gr.write_shift(1,$r.content[nn]);for(;nn&511;++nn)gr.write_shift(1,0)}for(Ar=1;Ar<Zt.FileIndex.length;++Ar)if($r=Zt.FileIndex[Ar],$r.size>0&&$r.size<4096)if(has_buf&&Buffer.isBuffer($r.content))$r.content.copy(gr,gr.l,0,$r.size),gr.l+=$r.size+63&-64;else{for(nn=0;nn<$r.size;++nn)gr.write_shift(1,$r.content[nn]);for(;nn&63;++nn)gr.write_shift(1,0)}if(has_buf)gr.l=gr.length;else for(;gr.l<gr.length;)gr.write_shift(1,0);return gr}function tt(Zt,_r){var fr=Zt.FullPaths.map(function(nn){return nn.toUpperCase()}),pr=fr.map(function(nn){var tn=nn.split("/");return tn[tn.length-(nn.slice(-1)=="/"?2:1)]}),gr=!1;_r.charCodeAt(0)===47?(gr=!0,_r=fr[0].slice(0,-1)+_r):gr=_r.indexOf("/")!==-1;var Ar=_r.toUpperCase(),Xr=gr===!0?fr.indexOf(Ar):pr.indexOf(Ar);if(Xr!==-1)return Zt.FileIndex[Xr];var cn=!Ar.match(chr1);for(Ar=Ar.replace(chr0,""),cn&&(Ar=Ar.replace(chr1,"!")),Xr=0;Xr<fr.length;++Xr)if((cn?fr[Xr].replace(chr1,"!"):fr[Xr]).replace(chr0,"")==Ar||(cn?pr[Xr].replace(chr1,"!"):pr[Xr]).replace(chr0,"")==Ar)return Zt.FileIndex[Xr];return null}var Ke=64,Ze=-2,Qe="d0cf11e0a1b11ae1",vt=[208,207,17,224,161,177,26,225],pt="00000000000000000000000000000000",ut={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:Ze,FREESECT:-1,HEADER_SIGNATURE:Qe,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:pt,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function Mt(Zt,_r,fr){O();var pr=He(Zt,fr);I.writeFileSync(_r,pr)}function bt(Zt){for(var _r=new Array(Zt.length),fr=0;fr<Zt.length;++fr)_r[fr]=String.fromCharCode(Zt[fr]);return _r.join("")}function ar(Zt,_r){var fr=He(Zt,_r);switch(_r&&_r.type||"buffer"){case"file":return O(),I.writeFileSync(_r.filename,fr),fr;case"binary":return typeof fr=="string"?fr:bt(fr);case"base64":return Base64_encode(typeof fr=="string"?fr:bt(fr));case"buffer":if(has_buf)return Buffer.isBuffer(fr)?fr:Buffer_from(fr);case"array":return typeof fr=="string"?s2a(fr):fr}return fr}var dt;function yt(Zt){try{var _r=Zt.InflateRaw,fr=new _r;if(fr._processChunk(new Uint8Array([3,0]),fr._finishFlushFlag),fr.bytesRead)dt=Zt;else throw new Error("zlib does not expose bytesRead")}catch(pr){console.error("cannot use native zlib: "+(pr.message||pr))}}function Gt(Zt,_r){if(!dt)return Ei(Zt,_r);var fr=dt.InflateRaw,pr=new fr,gr=pr._processChunk(Zt.slice(Zt.l),pr._finishFlushFlag);return Zt.l+=pr.bytesRead,gr}function Bt(Zt){return dt?dt.deflateRawSync(Zt):Qn(Zt)}var Dt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Ct=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],It=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function lr(Zt){var _r=(Zt<<1|Zt<<11)&139536|(Zt<<5|Zt<<15)&558144;return(_r>>16|_r>>8|_r)&255}for(var Je=typeof Uint8Array<"u",Ve=Je?new Uint8Array(256):[],st=0;st<256;++st)Ve[st]=lr(st);function it(Zt,_r){var fr=Ve[Zt&255];return _r<=8?fr>>>8-_r:(fr=fr<<8|Ve[Zt>>8&255],_r<=16?fr>>>16-_r:(fr=fr<<8|Ve[Zt>>16&255],fr>>>24-_r))}function Wt(Zt,_r){var fr=_r&7,pr=_r>>>3;return(Zt[pr]|(fr<=6?0:Zt[pr+1]<<8))>>>fr&3}function rt(Zt,_r){var fr=_r&7,pr=_r>>>3;return(Zt[pr]|(fr<=5?0:Zt[pr+1]<<8))>>>fr&7}function ur(Zt,_r){var fr=_r&7,pr=_r>>>3;return(Zt[pr]|(fr<=4?0:Zt[pr+1]<<8))>>>fr&15}function tr(Zt,_r){var fr=_r&7,pr=_r>>>3;return(Zt[pr]|(fr<=3?0:Zt[pr+1]<<8))>>>fr&31}function Ft(Zt,_r){var fr=_r&7,pr=_r>>>3;return(Zt[pr]|(fr<=1?0:Zt[pr+1]<<8))>>>fr&127}function Jt(Zt,_r,fr){var pr=_r&7,gr=_r>>>3,Ar=(1<<fr)-1,Xr=Zt[gr]>>>pr;return fr<8-pr||(Xr|=Zt[gr+1]<<8-pr,fr<16-pr)||(Xr|=Zt[gr+2]<<16-pr,fr<24-pr)||(Xr|=Zt[gr+3]<<24-pr),Xr&Ar}function et(Zt,_r,fr){var pr=_r&7,gr=_r>>>3;return pr<=5?Zt[gr]|=(fr&7)<<pr:(Zt[gr]|=fr<<pr&255,Zt[gr+1]=(fr&7)>>8-pr),_r+3}function gt(Zt,_r,fr){var pr=_r&7,gr=_r>>>3;return fr=(fr&1)<<pr,Zt[gr]|=fr,_r+1}function Et(Zt,_r,fr){var pr=_r&7,gr=_r>>>3;return fr<<=pr,Zt[gr]|=fr&255,fr>>>=8,Zt[gr+1]=fr,_r+8}function Xt(Zt,_r,fr){var pr=_r&7,gr=_r>>>3;return fr<<=pr,Zt[gr]|=fr&255,fr>>>=8,Zt[gr+1]=fr&255,Zt[gr+2]=fr>>>8,_r+16}function mr(Zt,_r){var fr=Zt.length,pr=2*fr>_r?2*fr:_r+5,gr=0;if(fr>=_r)return Zt;if(has_buf){var Ar=new_unsafe_buf(pr);if(Zt.copy)Zt.copy(Ar);else for(;gr<Zt.length;++gr)Ar[gr]=Zt[gr];return Ar}else if(Je){var Xr=new Uint8Array(pr);if(Xr.set)Xr.set(Zt);else for(;gr<fr;++gr)Xr[gr]=Zt[gr];return Xr}return Zt.length=pr,Zt}function Cr(Zt){for(var _r=new Array(Zt),fr=0;fr<Zt;++fr)_r[fr]=0;return _r}function Dr(Zt,_r,fr){var pr=1,gr=0,Ar=0,Xr=0,cn=0,nn=Zt.length,tn=Je?new Uint16Array(32):Cr(32);for(Ar=0;Ar<32;++Ar)tn[Ar]=0;for(Ar=nn;Ar<fr;++Ar)Zt[Ar]=0;nn=Zt.length;var $r=Je?new Uint16Array(nn):Cr(nn);for(Ar=0;Ar<nn;++Ar)tn[gr=Zt[Ar]]++,pr<gr&&(pr=gr),$r[Ar]=0;for(tn[0]=0,Ar=1;Ar<=pr;++Ar)tn[Ar+16]=cn=cn+tn[Ar-1]<<1;for(Ar=0;Ar<nn;++Ar)cn=Zt[Ar],cn!=0&&($r[Ar]=tn[cn+16]++);var Bn=0;for(Ar=0;Ar<nn;++Ar)if(Bn=Zt[Ar],Bn!=0)for(cn=it($r[Ar],pr)>>pr-Bn,Xr=(1<<pr+4-Bn)-1;Xr>=0;--Xr)_r[cn|Xr<<Bn]=Bn&15|Ar<<4;return pr}var _n=Je?new Uint16Array(512):Cr(512),In=Je?new Uint16Array(32):Cr(32);if(!Je){for(var Fn=0;Fn<512;++Fn)_n[Fn]=0;for(Fn=0;Fn<32;++Fn)In[Fn]=0}(function(){for(var Zt=[],_r=0;_r<32;_r++)Zt.push(5);Dr(Zt,In,32);var fr=[];for(_r=0;_r<=143;_r++)fr.push(8);for(;_r<=255;_r++)fr.push(9);for(;_r<=279;_r++)fr.push(7);for(;_r<=287;_r++)fr.push(8);Dr(fr,_n,288)})();var ti=(function(){for(var _r=Je?new Uint8Array(32768):[],fr=0,pr=0;fr<It.length-1;++fr)for(;pr<It[fr+1];++pr)_r[pr]=fr;for(;pr<32768;++pr)_r[pr]=29;var gr=Je?new Uint8Array(259):[];for(fr=0,pr=0;fr<Ct.length-1;++fr)for(;pr<Ct[fr+1];++pr)gr[pr]=fr;function Ar(cn,nn){for(var tn=0;tn<cn.length;){var $r=Math.min(65535,cn.length-tn),Bn=tn+$r==cn.length;for(nn.write_shift(1,+Bn),nn.write_shift(2,$r),nn.write_shift(2,~$r&65535);$r-- >0;)nn[nn.l++]=cn[tn++]}return nn.l}function Xr(cn,nn){for(var tn=0,$r=0,Bn=Je?new Uint16Array(32768):[];$r<cn.length;){var zn=Math.min(65535,cn.length-$r);if(zn<10){for(tn=et(nn,tn,+($r+zn==cn.length)),tn&7&&(tn+=8-(tn&7)),nn.l=tn/8|0,nn.write_shift(2,zn),nn.write_shift(2,~zn&65535);zn-- >0;)nn[nn.l++]=cn[$r++];tn=nn.l*8;continue}tn=et(nn,tn,+($r+zn==cn.length)+2);for(var ri=0;zn-- >0;){var qn=cn[$r];ri=(ri<<5^qn)&32767;var Yn=-1,fi=0;if((Yn=Bn[ri])&&(Yn|=$r&-32768,Yn>$r&&(Yn-=32768),Yn<$r))for(;cn[Yn+fi]==cn[$r+fi]&&fi<250;)++fi;if(fi>2){qn=gr[fi],qn<=22?tn=Et(nn,tn,Ve[qn+1]>>1)-1:(Et(nn,tn,3),tn+=5,Et(nn,tn,Ve[qn-23]>>5),tn+=3);var Yi=qn<8?0:qn-4>>2;Yi>0&&(Xt(nn,tn,fi-Ct[qn]),tn+=Yi),qn=_r[$r-Yn],tn=Et(nn,tn,Ve[qn]>>3),tn-=3;var Wi=qn<4?0:qn-2>>1;Wi>0&&(Xt(nn,tn,$r-Yn-It[qn]),tn+=Wi);for(var _a=0;_a<fi;++_a)Bn[ri]=$r&32767,ri=(ri<<5^cn[$r])&32767,++$r;zn-=fi-1}else qn<=143?qn=qn+48:tn=gt(nn,tn,1),tn=Et(nn,tn,Ve[qn]),Bn[ri]=$r&32767,++$r}tn=Et(nn,tn,0)-1}return nn.l=(tn+7)/8|0,nn.l}return function(nn,tn){return nn.length<8?Ar(nn,tn):Xr(nn,tn)}})();function Qn(Zt){var _r=new_buf(50+Math.floor(Zt.length*1.1)),fr=ti(Zt,_r);return _r.slice(0,fr)}var vi=Je?new Uint16Array(32768):Cr(32768),wi=Je?new Uint16Array(32768):Cr(32768),oi=Je?new Uint16Array(128):Cr(128),Si=1,Gi=1;function ai(Zt,_r){var fr=tr(Zt,_r)+257;_r+=5;var pr=tr(Zt,_r)+1;_r+=5;var gr=ur(Zt,_r)+4;_r+=4;for(var Ar=0,Xr=Je?new Uint8Array(19):Cr(19),cn=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],nn=1,tn=Je?new Uint8Array(8):Cr(8),$r=Je?new Uint8Array(8):Cr(8),Bn=Xr.length,zn=0;zn<gr;++zn)Xr[Dt[zn]]=Ar=rt(Zt,_r),nn<Ar&&(nn=Ar),tn[Ar]++,_r+=3;var ri=0;for(tn[0]=0,zn=1;zn<=nn;++zn)$r[zn]=ri=ri+tn[zn-1]<<1;for(zn=0;zn<Bn;++zn)(ri=Xr[zn])!=0&&(cn[zn]=$r[ri]++);var qn=0;for(zn=0;zn<Bn;++zn)if(qn=Xr[zn],qn!=0){ri=Ve[cn[zn]]>>8-qn;for(var Yn=(1<<7-qn)-1;Yn>=0;--Yn)oi[ri|Yn<<qn]=qn&7|zn<<3}var fi=[];for(nn=1;fi.length<fr+pr;)switch(ri=oi[Ft(Zt,_r)],_r+=ri&7,ri>>>=3){case 16:for(Ar=3+Wt(Zt,_r),_r+=2,ri=fi[fi.length-1];Ar-- >0;)fi.push(ri);break;case 17:for(Ar=3+rt(Zt,_r),_r+=3;Ar-- >0;)fi.push(0);break;case 18:for(Ar=11+Ft(Zt,_r),_r+=7;Ar-- >0;)fi.push(0);break;default:fi.push(ri),nn<ri&&(nn=ri);break}var Yi=fi.slice(0,fr),Wi=fi.slice(fr);for(zn=fr;zn<286;++zn)Yi[zn]=0;for(zn=pr;zn<30;++zn)Wi[zn]=0;return Si=Dr(Yi,vi,286),Gi=Dr(Wi,wi,30),_r}function zi(Zt,_r){if(Zt[0]==3&&!(Zt[1]&3))return[new_raw_buf(_r),2];for(var fr=0,pr=0,gr=new_unsafe_buf(_r||1<<18),Ar=0,Xr=gr.length>>>0,cn=0,nn=0;(pr&1)==0;){if(pr=rt(Zt,fr),fr+=3,pr>>>1)pr>>1==1?(cn=9,nn=5):(fr=ai(Zt,fr),cn=Si,nn=Gi);else{fr&7&&(fr+=8-(fr&7));var tn=Zt[fr>>>3]|Zt[(fr>>>3)+1]<<8;if(fr+=32,tn>0)for(!_r&&Xr<Ar+tn&&(gr=mr(gr,Ar+tn),Xr=gr.length);tn-- >0;)gr[Ar++]=Zt[fr>>>3],fr+=8;continue}for(;;){!_r&&Xr<Ar+32767&&(gr=mr(gr,Ar+32767),Xr=gr.length);var $r=Jt(Zt,fr,cn),Bn=pr>>>1==1?_n[$r]:vi[$r];if(fr+=Bn&15,Bn>>>=4,(Bn>>>8&255)===0)gr[Ar++]=Bn;else{if(Bn==256)break;Bn-=257;var zn=Bn<8?0:Bn-4>>2;zn>5&&(zn=0);var ri=Ar+Ct[Bn];zn>0&&(ri+=Jt(Zt,fr,zn),fr+=zn),$r=Jt(Zt,fr,nn),Bn=pr>>>1==1?In[$r]:wi[$r],fr+=Bn&15,Bn>>>=4;var qn=Bn<4?0:Bn-2>>1,Yn=It[Bn];for(qn>0&&(Yn+=Jt(Zt,fr,qn),fr+=qn),!_r&&Xr<ri&&(gr=mr(gr,ri+100),Xr=gr.length);Ar<ri;)gr[Ar]=gr[Ar-Yn],++Ar}}}return _r?[gr,fr+7>>>3]:[gr.slice(0,Ar),fr+7>>>3]}function Ei(Zt,_r){var fr=Zt.slice(Zt.l||0),pr=zi(fr,_r);return Zt.l+=pr[1],pr[0]}function fa(Zt,_r){if(Zt)typeof console<"u"&&console.error(_r);else throw new Error(_r)}function Vn(Zt,_r){var fr=Zt;prep_blob(fr,0);var pr=[],gr=[],Ar={FileIndex:pr,FullPaths:gr};je(Ar,{root:_r.root});for(var Xr=fr.length-4;(fr[Xr]!=80||fr[Xr+1]!=75||fr[Xr+2]!=5||fr[Xr+3]!=6)&&Xr>=0;)--Xr;fr.l=Xr+4,fr.l+=4;var cn=fr.read_shift(2);fr.l+=6;var nn=fr.read_shift(4);for(fr.l=nn,Xr=0;Xr<cn;++Xr){fr.l+=20;var tn=fr.read_shift(4),$r=fr.read_shift(4),Bn=fr.read_shift(2),zn=fr.read_shift(2),ri=fr.read_shift(2);fr.l+=8;var qn=fr.read_shift(4),Yn=R(fr.slice(fr.l+Bn,fr.l+Bn+zn));fr.l+=Bn+zn+ri;var fi=fr.l;fr.l=qn+4,ha(fr,tn,$r,Ar,Yn),fr.l=fi}return Ar}function ha(Zt,_r,fr,pr,gr){Zt.l+=2;var Ar=Zt.read_shift(2),Xr=Zt.read_shift(2),cn=B(Zt);if(Ar&8257)throw new Error("Unsupported ZIP encryption");for(var nn=Zt.read_shift(4),tn=Zt.read_shift(4),$r=Zt.read_shift(4),Bn=Zt.read_shift(2),zn=Zt.read_shift(2),ri="",qn=0;qn<Bn;++qn)ri+=String.fromCharCode(Zt[Zt.l++]);if(zn){var Yn=R(Zt.slice(Zt.l,Zt.l+zn));(Yn[21589]||{}).mt&&(cn=Yn[21589].mt),((gr||{})[21589]||{}).mt&&(cn=gr[21589].mt)}Zt.l+=zn;var fi=Zt.slice(Zt.l,Zt.l+tn);switch(Xr){case 8:fi=Gt(Zt,$r);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Xr)}var Yi=!1;Ar&8&&(nn=Zt.read_shift(4),nn==134695760&&(nn=Zt.read_shift(4),Yi=!0),tn=Zt.read_shift(4),$r=Zt.read_shift(4)),tn!=_r&&fa(Yi,"Bad compressed size: "+_r+" != "+tn),$r!=fr&&fa(Yi,"Bad uncompressed size: "+fr+" != "+$r),hn(pr,ri,fi,{unsafe:!0,mt:cn})}function Na(Zt,_r){var fr=_r||{},pr=[],gr=[],Ar=new_buf(1),Xr=fr.compression?8:0,cn=0,nn=0,tn=0,$r=0,Bn=0,zn=Zt.FullPaths[0],ri=zn,qn=Zt.FileIndex[0],Yn=[],fi=0;for(nn=1;nn<Zt.FullPaths.length;++nn)if(ri=Zt.FullPaths[nn].slice(zn.length),qn=Zt.FileIndex[nn],!(!qn.size||!qn.content||ri=="Sh33tJ5")){var Yi=$r,Wi=new_buf(ri.length);for(tn=0;tn<ri.length;++tn)Wi.write_shift(1,ri.charCodeAt(tn)&127);Wi=Wi.slice(0,Wi.l),Yn[Bn]=CRC32.buf(qn.content,0);var _a=qn.content;Xr==8&&(_a=Bt(_a)),Ar=new_buf(30),Ar.write_shift(4,67324752),Ar.write_shift(2,20),Ar.write_shift(2,cn),Ar.write_shift(2,Xr),qn.mt?z(Ar,qn.mt):Ar.write_shift(4,0),Ar.write_shift(-4,Yn[Bn]),Ar.write_shift(4,_a.length),Ar.write_shift(4,qn.content.length),Ar.write_shift(2,Wi.length),Ar.write_shift(2,0),$r+=Ar.length,pr.push(Ar),$r+=Wi.length,pr.push(Wi),$r+=_a.length,pr.push(_a),Ar=new_buf(46),Ar.write_shift(4,33639248),Ar.write_shift(2,0),Ar.write_shift(2,20),Ar.write_shift(2,cn),Ar.write_shift(2,Xr),Ar.write_shift(4,0),Ar.write_shift(-4,Yn[Bn]),Ar.write_shift(4,_a.length),Ar.write_shift(4,qn.content.length),Ar.write_shift(2,Wi.length),Ar.write_shift(2,0),Ar.write_shift(2,0),Ar.write_shift(2,0),Ar.write_shift(2,0),Ar.write_shift(4,0),Ar.write_shift(4,Yi),fi+=Ar.l,gr.push(Ar),fi+=Wi.length,gr.push(Wi),++Bn}return Ar=new_buf(22),Ar.write_shift(4,101010256),Ar.write_shift(2,0),Ar.write_shift(2,0),Ar.write_shift(2,Bn),Ar.write_shift(2,Bn),Ar.write_shift(4,fi),Ar.write_shift(4,$r),Ar.write_shift(2,0),bconcat([bconcat(pr),bconcat(gr),Ar])}var wt={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function _t(Zt,_r){if(Zt.ctype)return Zt.ctype;var fr=Zt.name||"",pr=fr.match(/\.([^\.]+)$/);return pr&&wt[pr[1]]||_r&&(pr=(fr=_r).match(/[\.\\]([^\.\\])+$/),pr&&wt[pr[1]])?wt[pr[1]]:"application/octet-stream"}function jt(Zt){for(var _r=Base64_encode(Zt),fr=[],pr=0;pr<_r.length;pr+=76)fr.push(_r.slice(pr,pr+76));return fr.join(`\r
`)+`\r
`}function nr(Zt){var _r=Zt.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(tn){var $r=tn.charCodeAt(0).toString(16).toUpperCase();return"="+($r.length==1?"0"+$r:$r)});_r=_r.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),_r.charAt(0)==`
`&&(_r="=0D"+_r.slice(1)),_r=_r.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var fr=[],pr=_r.split(`\r
`),gr=0;gr<pr.length;++gr){var Ar=pr[gr];if(Ar.length==0){fr.push("");continue}for(var Xr=0;Xr<Ar.length;){var cn=76,nn=Ar.slice(Xr,Xr+cn);nn.charAt(cn-1)=="="?cn--:nn.charAt(cn-2)=="="?cn-=2:nn.charAt(cn-3)=="="&&(cn-=3),nn=Ar.slice(Xr,Xr+cn),Xr+=cn,Xr<Ar.length&&(nn+="="),fr.push(nn)}}return fr.join(`\r
`)}function Yt(Zt){for(var _r=[],fr=0;fr<Zt.length;++fr){for(var pr=Zt[fr];fr<=Zt.length&&pr.charAt(pr.length-1)=="=";)pr=pr.slice(0,pr.length-1)+Zt[++fr];_r.push(pr)}for(var gr=0;gr<_r.length;++gr)_r[gr]=_r[gr].replace(/[=][0-9A-Fa-f]{2}/g,function(Ar){return String.fromCharCode(parseInt(Ar.slice(1),16))});return s2a(_r.join(`\r
`))}function Nr(Zt,_r,fr){for(var pr="",gr="",Ar="",Xr,cn=0;cn<10;++cn){var nn=_r[cn];if(!nn||nn.match(/^\s*$/))break;var tn=nn.match(/^(.*?):\s*([^\s].*)$/);if(tn)switch(tn[1].toLowerCase()){case"content-location":pr=tn[2].trim();break;case"content-type":Ar=tn[2].trim();break;case"content-transfer-encoding":gr=tn[2].trim();break}}switch(++cn,gr.toLowerCase()){case"base64":Xr=s2a(Base64_decode(_r.slice(cn).join("")));break;case"quoted-printable":Xr=Yt(_r.slice(cn));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+gr)}var $r=hn(Zt,pr.slice(fr.length),Xr,{unsafe:!0});Ar&&($r.ctype=Ar)}function Gr(Zt,_r){if(bt(Zt.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var fr=_r&&_r.root||"",pr=(has_buf&&Buffer.isBuffer(Zt)?Zt.toString("binary"):bt(Zt)).split(`\r
`),gr=0,Ar="";for(gr=0;gr<pr.length;++gr)if(Ar=pr[gr],!!/^Content-Location:/i.test(Ar)&&(Ar=Ar.slice(Ar.indexOf("file")),fr||(fr=Ar.slice(0,Ar.lastIndexOf("/")+1)),Ar.slice(0,fr.length)!=fr))for(;fr.length>0&&(fr=fr.slice(0,fr.length-1),fr=fr.slice(0,fr.lastIndexOf("/")+1),Ar.slice(0,fr.length)!=fr););var Xr=(pr[1]||"").match(/boundary="(.*?)"/);if(!Xr)throw new Error("MAD cannot find boundary");var cn="--"+(Xr[1]||""),nn=[],tn=[],$r={FileIndex:nn,FullPaths:tn};je($r);var Bn,zn=0;for(gr=0;gr<pr.length;++gr){var ri=pr[gr];ri!==cn&&ri!==cn+"--"||(zn++&&Nr($r,pr.slice(Bn,gr),fr),Bn=gr)}return $r}function Vr(Zt,_r){var fr=_r||{},pr=fr.boundary||"SheetJS";pr="------="+pr;for(var gr=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+pr.slice(2)+'"',"","",""],Ar=Zt.FullPaths[0],Xr=Ar,cn=Zt.FileIndex[0],nn=1;nn<Zt.FullPaths.length;++nn)if(Xr=Zt.FullPaths[nn].slice(Ar.length),cn=Zt.FileIndex[nn],!(!cn.size||!cn.content||Xr=="Sh33tJ5")){Xr=Xr.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(fi){return"_x"+fi.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(fi){return"_u"+fi.charCodeAt(0).toString(16)+"_"});for(var tn=cn.content,$r=has_buf&&Buffer.isBuffer(tn)?tn.toString("binary"):bt(tn),Bn=0,zn=Math.min(1024,$r.length),ri=0,qn=0;qn<=zn;++qn)(ri=$r.charCodeAt(qn))>=32&&ri<128&&++Bn;var Yn=Bn>=zn*4/5;gr.push(pr),gr.push("Content-Location: "+(fr.root||"file:///C:/SheetJS/")+Xr),gr.push("Content-Transfer-Encoding: "+(Yn?"quoted-printable":"base64")),gr.push("Content-Type: "+_t(cn,Xr)),gr.push(""),gr.push(Yn?nr($r):jt($r))}return gr.push(pr+`--\r
`),gr.join(`\r
`)}function Mn(Zt){var _r={};return je(_r,Zt),_r}function hn(Zt,_r,fr,pr){var gr=pr&&pr.unsafe;gr||je(Zt);var Ar=!gr&&CFB.find(Zt,_r);if(!Ar){var Xr=Zt.FullPaths[0];_r.slice(0,Xr.length)==Xr?Xr=_r:(Xr.slice(-1)!="/"&&(Xr+="/"),Xr=(Xr+_r).replace("//","/")),Ar={name:M(_r),type:2},Zt.FileIndex.push(Ar),Zt.FullPaths.push(Xr),gr||CFB.utils.cfb_gc(Zt)}return Ar.content=fr,Ar.size=fr?fr.length:0,pr&&(pr.CLSID&&(Ar.clsid=pr.CLSID),pr.mt&&(Ar.mt=pr.mt),pr.ct&&(Ar.ct=pr.ct)),Ar}function vn(Zt,_r){je(Zt);var fr=CFB.find(Zt,_r);if(fr){for(var pr=0;pr<Zt.FileIndex.length;++pr)if(Zt.FileIndex[pr]==fr)return Zt.FileIndex.splice(pr,1),Zt.FullPaths.splice(pr,1),!0}return!1}function Dn(Zt,_r,fr){je(Zt);var pr=CFB.find(Zt,_r);if(pr){for(var gr=0;gr<Zt.FileIndex.length;++gr)if(Zt.FileIndex[gr]==pr)return Zt.FileIndex[gr].name=M(fr),Zt.FullPaths[gr]=fr,!0}return!1}function kn(Zt){_e(Zt,!0)}return x.find=tt,x.read=ze,x.parse=A,x.write=ar,x.writeFile=Mt,x.utils={cfb_new:Mn,cfb_add:hn,cfb_del:vn,cfb_mov:Dn,cfb_gc:kn,ReadShift,CheckField,prep_blob,bconcat,use_zlib:yt,_deflateRaw:Qn,_inflateRaw:Ei,consts:ut},x})();function blobify(y){return typeof y=="string"?s2ab(y):Array.isArray(y)?a2u(y):y}function write_dl(y,x,r){if(typeof Deno<"u"){if(r&&typeof x=="string")switch(r){case"utf8":x=new TextEncoder(r).encode(x);break;case"binary":x=s2ab(x);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(y,x)}var b=r=="utf8"?utf8write(x):x;if(typeof IE_SaveFile<"u")return IE_SaveFile(b,y);if(typeof Blob<"u"){var M=new Blob([blobify(b)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(M,y);if(typeof saveAs<"u")return saveAs(M,y);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var z=URL.createObjectURL(M);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(z)},6e4),chrome.downloads.download({url:z,filename:y,saveAs:!0});var B=document.createElement("a");if(B.download!=null)return B.download=y,B.href=z,document.body.appendChild(B),B.click(),document.body.removeChild(B),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(z)},6e4),z}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var R=File(y);return R.open("w"),R.encoding="binary",Array.isArray(x)&&(x=a2s(x)),R.write(x),R.close(),x}catch(I){if(!I.message||!I.message.match(/onstruct/))throw I}throw new Error("cannot save file "+y)}function read_binary(y){if(typeof Deno<"u")return Deno.readFileSync(y);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var x=File(y);x.open("r"),x.encoding="binary";var r=x.read();return x.close(),r}catch(b){if(!b.message||!b.message.match(/onstruct/))throw b}throw new Error("Cannot access file "+y)}function keys(y){for(var x=Object.keys(y),r=[],b=0;b<x.length;++b)Object.prototype.hasOwnProperty.call(y,x[b])&&r.push(x[b]);return r}function evert_key(y,x){for(var r=[],b=keys(y),M=0;M!==b.length;++M)r[y[b[M]][x]]==null&&(r[y[b[M]][x]]=b[M]);return r}function evert(y){for(var x=[],r=keys(y),b=0;b!==r.length;++b)x[y[r[b]]]=r[b];return x}function evert_num(y){for(var x=[],r=keys(y),b=0;b!==r.length;++b)x[y[r[b]]]=parseInt(r[b],10);return x}function evert_arr(y){for(var x=[],r=keys(y),b=0;b!==r.length;++b)x[y[r[b]]]==null&&(x[y[r[b]]]=[]),x[y[r[b]]].push(r[b]);return x}var basedate=new Date(1899,11,30,0,0,0);function datenum(y,x){var r=y.getTime(),b=basedate.getTime()+(y.getTimezoneOffset()-basedate.getTimezoneOffset())*6e4;return(r-b)/(1440*60*1e3)}var refdate=new Date,dnthresh=basedate.getTime()+(refdate.getTimezoneOffset()-basedate.getTimezoneOffset())*6e4,refoffset=refdate.getTimezoneOffset();function numdate(y){var x=new Date;return x.setTime(y*24*60*60*1e3+dnthresh),x.getTimezoneOffset()!==refoffset&&x.setTime(x.getTime()+(x.getTimezoneOffset()-refoffset)*6e4),x}function parse_isodur(y){var x=0,r=0,b=!1,M=y.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!M)throw new Error("|"+y+"| is not an ISO8601 Duration");for(var z=1;z!=M.length;++z)if(M[z]){switch(r=1,z>3&&(b=!0),M[z].slice(M[z].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+M[z].slice(M[z].length-1));case"D":r*=24;case"H":r*=60;case"M":if(b)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}x+=r*parseInt(M[z],10)}return x}var good_pd_date_1=new Date("2017-02-19T19:06:09.000Z"),good_pd_date=isNaN(good_pd_date_1.getFullYear())?new Date("2/19/17"):good_pd_date_1,good_pd=good_pd_date.getFullYear()==2017;function parseDate(y,x){var r=new Date(y);if(good_pd)return x>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):x<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(y instanceof Date)return y;if(good_pd_date.getFullYear()==1917&&!isNaN(r.getFullYear())){var b=r.getFullYear();return y.indexOf(""+b)>-1||r.setFullYear(r.getFullYear()+100),r}var M=y.match(/\d+/g)||["2017","2","19","0","0","0"],z=new Date(+M[0],+M[1]-1,+M[2],+M[3]||0,+M[4]||0,+M[5]||0);return y.indexOf("Z")>-1&&(z=new Date(z.getTime()-z.getTimezoneOffset()*60*1e3)),z}function cc2str(y,x){if(has_buf&&Buffer.isBuffer(y)){if(x){if(y[0]==255&&y[1]==254)return utf8write(y.slice(2).toString("utf16le"));if(y[1]==254&&y[2]==255)return utf8write(utf16beread(y.slice(2).toString("binary")))}return y.toString("binary")}if(typeof TextDecoder<"u")try{if(x){if(y[0]==255&&y[1]==254)return utf8write(new TextDecoder("utf-16le").decode(y.slice(2)));if(y[0]==254&&y[1]==255)return utf8write(new TextDecoder("utf-16be").decode(y.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(y)&&(y=new Uint8Array(y)),new TextDecoder("latin1").decode(y).replace(/[]/g,function(z){return r[z]||z})}catch{}for(var b=[],M=0;M!=y.length;++M)b.push(String.fromCharCode(y[M]));return b.join("")}function dup(y){if(typeof JSON<"u"&&!Array.isArray(y))return JSON.parse(JSON.stringify(y));if(typeof y!="object"||y==null)return y;if(y instanceof Date)return new Date(y.getTime());var x={};for(var r in y)Object.prototype.hasOwnProperty.call(y,r)&&(x[r]=dup(y[r]));return x}function fill(y,x){for(var r="";r.length<x;)r+=y;return r}function fuzzynum(y){var x=Number(y);if(!isNaN(x))return isFinite(x)?x:NaN;if(!/\d/.test(y))return x;var r=1,b=y.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(x=Number(b))||(b=b.replace(/[(](.*)[)]/,function(M,z){return r=-r,z}),!isNaN(x=Number(b)))?x/r:x}var lower_months=["january","february","march","april","may","june","july","august","september","october","november","december"];function fuzzydate(y){var x=new Date(y),r=new Date(NaN),b=x.getYear(),M=x.getMonth(),z=x.getDate();if(isNaN(z))return r;var B=y.toLowerCase();if(B.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(B=B.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),B.length>3&&lower_months.indexOf(B)==-1)return r}else if(B.match(/[a-z]/))return r;return b<0||b>8099?r:(M>0||z>1)&&b!=101?x:y.match(/[^-0-9:,\/\\]/)?r:x}var split_regex=(function(){var y="abacaba".split(/(:?b)/i).length==5;return function(r,b,M){if(y||typeof b=="string")return r.split(b);for(var z=r.split(b),B=[z[0]],R=1;R<z.length;++R)B.push(M),B.push(z[R]);return B}})();function getdatastr(y){return y?y.content&&y.type?cc2str(y.content,!0):y.data?debom(y.data):y.asNodeBuffer&&has_buf?debom(y.asNodeBuffer().toString("binary")):y.asBinary?debom(y.asBinary()):y._data&&y._data.getContent?debom(cc2str(Array.prototype.slice.call(y._data.getContent(),0))):null:null}function getdatabin(y){if(!y)return null;if(y.data)return char_codes(y.data);if(y.asNodeBuffer&&has_buf)return y.asNodeBuffer();if(y._data&&y._data.getContent){var x=y._data.getContent();return typeof x=="string"?char_codes(x):Array.prototype.slice.call(x)}return y.content&&y.type?y.content:null}function getdata(y){return y&&y.name.slice(-4)===".bin"?getdatabin(y):getdatastr(y)}function safegetzipfile(y,x){for(var r=y.FullPaths||keys(y.files),b=x.toLowerCase().replace(/[\/]/g,"\\"),M=b.replace(/\\/g,"/"),z=0;z<r.length;++z){var B=r[z].replace(/^Root Entry[\/]/,"").toLowerCase();if(b==B||M==B)return y.files?y.files[r[z]]:y.FileIndex[z]}return null}function getzipfile(y,x){var r=safegetzipfile(y,x);if(r==null)throw new Error("Cannot find file "+x+" in zip");return r}function getzipdata(y,x,r){if(!r)return getdata(getzipfile(y,x));if(!x)return null;try{return getzipdata(y,x)}catch{return null}}function getzipstr(y,x,r){if(!r)return getdatastr(getzipfile(y,x));if(!x)return null;try{return getzipstr(y,x)}catch{return null}}function getzipbin(y,x,r){return getdatabin(getzipfile(y,x))}function zipentries(y){for(var x=y.FullPaths||keys(y.files),r=[],b=0;b<x.length;++b)x[b].slice(-1)!="/"&&r.push(x[b].replace(/^Root Entry[\/]/,""));return r.sort()}function zip_add_file(y,x,r){if(y.FullPaths){if(typeof r=="string"){var b;return has_buf?b=Buffer_from(r):b=utf8decode(r),CFB.utils.cfb_add(y,x,b)}CFB.utils.cfb_add(y,x,r)}else y.file(x,r)}function zip_new(){return CFB.utils.cfb_new()}function zip_read(y,x){switch(x.type){case"base64":return CFB.read(y,{type:"base64"});case"binary":return CFB.read(y,{type:"binary"});case"buffer":case"array":return CFB.read(y,{type:"buffer"})}throw new Error("Unrecognized type "+x.type)}function resolve_path(y,x){if(y.charAt(0)=="/")return y.slice(1);var r=x.split("/");x.slice(-1)!="/"&&r.pop();for(var b=y.split("/");b.length!==0;){var M=b.shift();M===".."?r.pop():M!=="."&&r.push(M)}return r.join("/")}var XML_HEADER=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,attregexg=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,tagregex1=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,tagregex2=/<[^>]*>/g,tagregex=XML_HEADER.match(tagregex1)?tagregex1:tagregex2,nsregex=/<\w*:/,nsregex2=/<(\/?)\w+:/;function parsexmltag(y,x,r){for(var b={},M=0,z=0;M!==y.length&&!((z=y.charCodeAt(M))===32||z===10||z===13);++M);if(x||(b[0]=y.slice(0,M)),M===y.length)return b;var B=y.match(attregexg),R=0,I="",O=0,A="",T="",U=1;if(B)for(O=0;O!=B.length;++O){for(T=B[O],z=0;z!=T.length&&T.charCodeAt(z)!==61;++z);for(A=T.slice(0,z).trim();T.charCodeAt(z+1)==32;)++z;for(U=(M=T.charCodeAt(z+1))==34||M==39?1:0,I=T.slice(z+1+U,T.length-U),R=0;R!=A.length&&A.charCodeAt(R)!==58;++R);if(R===A.length)A.indexOf("_")>0&&(A=A.slice(0,A.indexOf("_"))),b[A]=I,b[A.toLowerCase()]=I;else{var q=(R===5&&A.slice(0,5)==="xmlns"?"xmlns":"")+A.slice(R+1);if(b[q]&&A.slice(R-3,R)=="ext")continue;b[q]=I,b[q.toLowerCase()]=I}}return b}function strip_ns(y){return y.replace(nsregex2,"<$1")}var encodings={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},rencoding=evert(encodings),unescapexml=(function(){var y=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,x=/_x([\da-fA-F]{4})_/ig;return function r(b){var M=b+"",z=M.indexOf("<![CDATA[");if(z==-1)return M.replace(y,function(R,I){return encodings[R]||String.fromCharCode(parseInt(I,R.indexOf("x")>-1?16:10))||R}).replace(x,function(R,I){return String.fromCharCode(parseInt(I,16))});var B=M.indexOf("]]>");return r(M.slice(0,z))+M.slice(z+9,B)+r(M.slice(B+3))}})(),decregex=/[&<>'"]/g,charegex=/[\u0000-\u0008\u000b-\u001f]/g;function escapexml(y){var x=y+"";return x.replace(decregex,function(r){return rencoding[r]}).replace(charegex,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function escapexmltag(y){return escapexml(y).replace(/ /g,"_x0020_")}var htmlcharegex=/[\u0000-\u001f]/g;function escapehtml(y){var x=y+"";return x.replace(decregex,function(r){return rencoding[r]}).replace(/\n/g,"<br/>").replace(htmlcharegex,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function escapexlml(y){var x=y+"";return x.replace(decregex,function(r){return rencoding[r]}).replace(htmlcharegex,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}var xlml_fixstr=(function(){var y=/&#(\d+);/g;function x(r,b){return String.fromCharCode(parseInt(b,10))}return function(b){return b.replace(y,x)}})();function xlml_unfixstr(y){return y.replace(/(\r\n|[\r\n])/g,"&#10;")}function parsexmlbool(y){switch(y){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function utf8reada(y){for(var x="",r=0,b=0,M=0,z=0,B=0,R=0;r<y.length;){if(b=y.charCodeAt(r++),b<128){x+=String.fromCharCode(b);continue}if(M=y.charCodeAt(r++),b>191&&b<224){B=(b&31)<<6,B|=M&63,x+=String.fromCharCode(B);continue}if(z=y.charCodeAt(r++),b<240){x+=String.fromCharCode((b&15)<<12|(M&63)<<6|z&63);continue}B=y.charCodeAt(r++),R=((b&7)<<18|(M&63)<<12|(z&63)<<6|B&63)-65536,x+=String.fromCharCode(55296+(R>>>10&1023)),x+=String.fromCharCode(56320+(R&1023))}return x}function utf8readb(y){var x=new_raw_buf(2*y.length),r,b,M=1,z=0,B=0,R;for(b=0;b<y.length;b+=M)M=1,(R=y.charCodeAt(b))<128?r=R:R<224?(r=(R&31)*64+(y.charCodeAt(b+1)&63),M=2):R<240?(r=(R&15)*4096+(y.charCodeAt(b+1)&63)*64+(y.charCodeAt(b+2)&63),M=3):(M=4,r=(R&7)*262144+(y.charCodeAt(b+1)&63)*4096+(y.charCodeAt(b+2)&63)*64+(y.charCodeAt(b+3)&63),r-=65536,B=55296+(r>>>10&1023),r=56320+(r&1023)),B!==0&&(x[z++]=B&255,x[z++]=B>>>8,B=0),x[z++]=r%256,x[z++]=r>>>8;return x.slice(0,z).toString("ucs2")}function utf8readc(y){return Buffer_from(y,"binary").toString("utf8")}var utf8corpus="foo bar baz",utf8read=has_buf&&(utf8readc(utf8corpus)==utf8reada(utf8corpus)&&utf8readc||utf8readb(utf8corpus)==utf8reada(utf8corpus)&&utf8readb)||utf8reada,utf8write=has_buf?function(y){return Buffer_from(y,"utf8").toString("binary")}:function(y){for(var x=[],r=0,b=0,M=0;r<y.length;)switch(b=y.charCodeAt(r++),!0){case b<128:x.push(String.fromCharCode(b));break;case b<2048:x.push(String.fromCharCode(192+(b>>6))),x.push(String.fromCharCode(128+(b&63)));break;case(b>=55296&&b<57344):b-=55296,M=y.charCodeAt(r++)-56320+(b<<10),x.push(String.fromCharCode(240+(M>>18&7))),x.push(String.fromCharCode(144+(M>>12&63))),x.push(String.fromCharCode(128+(M>>6&63))),x.push(String.fromCharCode(128+(M&63)));break;default:x.push(String.fromCharCode(224+(b>>12))),x.push(String.fromCharCode(128+(b>>6&63))),x.push(String.fromCharCode(128+(b&63)))}return x.join("")},matchtag=(function(){var y={};return function(r,b){var M=r+"|"+(b||"");return y[M]?y[M]:y[M]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",b||"")}})(),htmldecode=(function(){var y=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(x){return[new RegExp("&"+x[0]+";","ig"),x[1]]});return function(r){for(var b=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),M=0;M<y.length;++M)b=b.replace(y[M][0],y[M][1]);return b}})(),vtregex=(function(){var y={};return function(r){return y[r]!==void 0?y[r]:y[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}})(),vtvregex=/<\/?(?:vt:)?variant>/g,vtmregex=/<(?:vt:)([^>]*)>([\s\S]*)</;function parseVector(y,x){var r=parsexmltag(y),b=y.match(vtregex(r.baseType))||[],M=[];if(b.length!=r.size){if(x.WTF)throw new Error("unexpected vector length "+b.length+" != "+r.size);return M}return b.forEach(function(z){var B=z.replace(vtvregex,"").match(vtmregex);B&&M.push({v:utf8read(B[2]),t:B[1]})}),M}var wtregex=/(^\s|\s$|\n)/;function writetag(y,x){return"<"+y+(x.match(wtregex)?' xml:space="preserve"':"")+">"+x+"</"+y+">"}function wxt_helper(y){return keys(y).map(function(x){return" "+x+'="'+y[x]+'"'}).join("")}function writextag(y,x,r){return"<"+y+(r!=null?wxt_helper(r):"")+(x!=null?(x.match(wtregex)?' xml:space="preserve"':"")+">"+x+"</"+y:"/")+">"}function write_w3cdtf(y,x){try{return y.toISOString().replace(/\.\d*/,"")}catch(r){if(x)throw r}return""}function write_vt(y,x){switch(typeof y){case"string":var r=writextag("vt:lpwstr",escapexml(y));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return writextag((y|0)==y?"vt:i4":"vt:r8",escapexml(String(y)));case"boolean":return writextag("vt:bool",y?"true":"false")}if(y instanceof Date)return writextag("vt:filetime",write_w3cdtf(y));throw new Error("Unable to serialize "+y)}function xlml_normalize(y){if(has_buf&&Buffer.isBuffer(y))return y.toString("utf8");if(typeof y=="string")return y;if(typeof Uint8Array<"u"&&y instanceof Uint8Array)return utf8read(a2s(ab2a(y)));throw new Error("Bad input format: expected Buffer or string")}var xlmlregex=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,XMLNS={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},XMLNS_main=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],XLMLNS={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function read_double_le(y,x){for(var r=1-2*(y[x+7]>>>7),b=((y[x+7]&127)<<4)+(y[x+6]>>>4&15),M=y[x+6]&15,z=5;z>=0;--z)M=M*256+y[x+z];return b==2047?M==0?r*(1/0):NaN:(b==0?b=-1022:(b-=1023,M+=Math.pow(2,52)),r*Math.pow(2,b-52)*M)}function write_double_le(y,x,r){var b=(x<0||1/x==-1/0?1:0)<<7,M=0,z=0,B=b?-x:x;isFinite(B)?B==0?M=z=0:(M=Math.floor(Math.log(B)/Math.LN2),z=B*Math.pow(2,52-M),M<=-1023&&(!isFinite(z)||z<Math.pow(2,52))?M=-1022:(z-=Math.pow(2,52),M+=1023)):(M=2047,z=isNaN(x)?26985:0);for(var R=0;R<=5;++R,z/=256)y[r+R]=z&255;y[r+6]=(M&15)<<4|z&15,y[r+7]=M>>4|b}var ___toBuffer=function(y){for(var x=[],r=10240,b=0;b<y[0].length;++b)if(y[0][b])for(var M=0,z=y[0][b].length;M<z;M+=r)x.push.apply(x,y[0][b].slice(M,M+r));return x},__toBuffer=has_buf?function(y){return y[0].length>0&&Buffer.isBuffer(y[0][0])?Buffer.concat(y[0].map(function(x){return Buffer.isBuffer(x)?x:Buffer_from(x)})):___toBuffer(y)}:___toBuffer,___utf16le=function(y,x,r){for(var b=[],M=x;M<r;M+=2)b.push(String.fromCharCode(__readUInt16LE(y,M)));return b.join("").replace(chr0,"")},__utf16le=has_buf?function(y,x,r){return Buffer.isBuffer(y)?y.toString("utf16le",x,r).replace(chr0,""):___utf16le(y,x,r)}:___utf16le,___hexlify=function(y,x,r){for(var b=[],M=x;M<x+r;++M)b.push(("0"+y[M].toString(16)).slice(-2));return b.join("")},__hexlify=has_buf?function(y,x,r){return Buffer.isBuffer(y)?y.toString("hex",x,x+r):___hexlify(y,x,r)}:___hexlify,___utf8=function(y,x,r){for(var b=[],M=x;M<r;M++)b.push(String.fromCharCode(__readUInt8(y,M)));return b.join("")},__utf8=has_buf?function(x,r,b){return Buffer.isBuffer(x)?x.toString("utf8",r,b):___utf8(x,r,b)}:___utf8,___lpstr=function(y,x){var r=__readUInt32LE(y,x);return r>0?__utf8(y,x+4,x+4+r-1):""},__lpstr=___lpstr,___cpstr=function(y,x){var r=__readUInt32LE(y,x);return r>0?__utf8(y,x+4,x+4+r-1):""},__cpstr=___cpstr,___lpwstr=function(y,x){var r=2*__readUInt32LE(y,x);return r>0?__utf8(y,x+4,x+4+r-1):""},__lpwstr=___lpwstr,___lpp4=function(x,r){var b=__readUInt32LE(x,r);return b>0?__utf16le(x,r+4,r+4+b):""},__lpp4=___lpp4,___8lpp4=function(y,x){var r=__readUInt32LE(y,x);return r>0?__utf8(y,x+4,x+4+r):""},__8lpp4=___8lpp4,___double=function(y,x){return read_double_le(y,x)},__double=___double,is_buf=function(x){return Array.isArray(x)||typeof Uint8Array<"u"&&x instanceof Uint8Array};has_buf&&(__lpstr=function(x,r){if(!Buffer.isBuffer(x))return ___lpstr(x,r);var b=x.readUInt32LE(r);return b>0?x.toString("utf8",r+4,r+4+b-1):""},__cpstr=function(x,r){if(!Buffer.isBuffer(x))return ___cpstr(x,r);var b=x.readUInt32LE(r);return b>0?x.toString("utf8",r+4,r+4+b-1):""},__lpwstr=function(x,r){if(!Buffer.isBuffer(x))return ___lpwstr(x,r);var b=2*x.readUInt32LE(r);return x.toString("utf16le",r+4,r+4+b-1)},__lpp4=function(x,r){if(!Buffer.isBuffer(x))return ___lpp4(x,r);var b=x.readUInt32LE(r);return x.toString("utf16le",r+4,r+4+b)},__8lpp4=function(x,r){if(!Buffer.isBuffer(x))return ___8lpp4(x,r);var b=x.readUInt32LE(r);return x.toString("utf8",r+4,r+4+b)},__double=function(x,r){return Buffer.isBuffer(x)?x.readDoubleLE(r):___double(x,r)},is_buf=function(x){return Buffer.isBuffer(x)||Array.isArray(x)||typeof Uint8Array<"u"&&x instanceof Uint8Array});var __readUInt8=function(y,x){return y[x]},__readUInt16LE=function(y,x){return y[x+1]*256+y[x]},__readInt16LE=function(y,x){var r=y[x+1]*256+y[x];return r<32768?r:(65535-r+1)*-1},__readUInt32LE=function(y,x){return y[x+3]*(1<<24)+(y[x+2]<<16)+(y[x+1]<<8)+y[x]},__readInt32LE=function(y,x){return y[x+3]<<24|y[x+2]<<16|y[x+1]<<8|y[x]},__readInt32BE=function(y,x){return y[x]<<24|y[x+1]<<16|y[x+2]<<8|y[x+3]};function ReadShift(y,x){var r="",b,M,z=[],B,R,I,O;switch(x){case"dbcs":if(O=this.l,has_buf&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*y).toString("utf16le");else for(I=0;I<y;++I)r+=String.fromCharCode(__readUInt16LE(this,O)),O+=2;y*=2;break;case"utf8":r=__utf8(this,this.l,this.l+y);break;case"utf16le":y*=2,r=__utf16le(this,this.l,this.l+y);break;case"wstr":return ReadShift.call(this,y,"dbcs");case"lpstr-ansi":r=__lpstr(this,this.l),y=4+__readUInt32LE(this,this.l);break;case"lpstr-cp":r=__cpstr(this,this.l),y=4+__readUInt32LE(this,this.l);break;case"lpwstr":r=__lpwstr(this,this.l),y=4+2*__readUInt32LE(this,this.l);break;case"lpp4":y=4+__readUInt32LE(this,this.l),r=__lpp4(this,this.l),y&2&&(y+=2);break;case"8lpp4":y=4+__readUInt32LE(this,this.l),r=__8lpp4(this,this.l),y&3&&(y+=4-(y&3));break;case"cstr":for(y=0,r="";(B=__readUInt8(this,this.l+y++))!==0;)z.push(_getchar(B));r=z.join("");break;case"_wstr":for(y=0,r="";(B=__readUInt16LE(this,this.l+y))!==0;)z.push(_getchar(B)),y+=2;y+=2,r=z.join("");break;case"dbcs-cont":for(r="",O=this.l,I=0;I<y;++I){if(this.lens&&this.lens.indexOf(O)!==-1)return B=__readUInt8(this,O),this.l=O+1,R=ReadShift.call(this,y-I,B?"dbcs-cont":"sbcs-cont"),z.join("")+R;z.push(_getchar(__readUInt16LE(this,O))),O+=2}r=z.join(""),y*=2;break;case"cpstr":case"sbcs-cont":for(r="",O=this.l,I=0;I!=y;++I){if(this.lens&&this.lens.indexOf(O)!==-1)return B=__readUInt8(this,O),this.l=O+1,R=ReadShift.call(this,y-I,B?"dbcs-cont":"sbcs-cont"),z.join("")+R;z.push(_getchar(__readUInt8(this,O))),O+=1}r=z.join("");break;default:switch(y){case 1:return b=__readUInt8(this,this.l),this.l++,b;case 2:return b=(x==="i"?__readInt16LE:__readUInt16LE)(this,this.l),this.l+=2,b;case 4:case-4:return x==="i"||(this[this.l+3]&128)===0?(b=(y>0?__readInt32LE:__readInt32BE)(this,this.l),this.l+=4,b):(M=__readUInt32LE(this,this.l),this.l+=4,M);case 8:case-8:if(x==="f")return y==8?M=__double(this,this.l):M=__double([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,M;y=8;case 16:r=__hexlify(this,this.l,y);break}}return this.l+=y,r}var __writeUInt32LE=function(y,x,r){y[r]=x&255,y[r+1]=x>>>8&255,y[r+2]=x>>>16&255,y[r+3]=x>>>24&255},__writeInt32LE=function(y,x,r){y[r]=x&255,y[r+1]=x>>8&255,y[r+2]=x>>16&255,y[r+3]=x>>24&255},__writeUInt16LE=function(y,x,r){y[r]=x&255,y[r+1]=x>>>8&255};function WriteShift(y,x,r){var b=0,M=0;if(r==="dbcs"){for(M=0;M!=x.length;++M)__writeUInt16LE(this,x.charCodeAt(M),this.l+2*M);b=2*x.length}else if(r==="sbcs"){for(x=x.replace(/[^\x00-\x7F]/g,"_"),M=0;M!=x.length;++M)this[this.l+M]=x.charCodeAt(M)&255;b=x.length}else if(r==="hex"){for(;M<y;++M)this[this.l++]=parseInt(x.slice(2*M,2*M+2),16)||0;return this}else if(r==="utf16le"){var z=Math.min(this.l+y,this.length);for(M=0;M<Math.min(x.length,y);++M){var B=x.charCodeAt(M);this[this.l++]=B&255,this[this.l++]=B>>8}for(;this.l<z;)this[this.l++]=0;return this}else switch(y){case 1:b=1,this[this.l]=x&255;break;case 2:b=2,this[this.l]=x&255,x>>>=8,this[this.l+1]=x&255;break;case 3:b=3,this[this.l]=x&255,x>>>=8,this[this.l+1]=x&255,x>>>=8,this[this.l+2]=x&255;break;case 4:b=4,__writeUInt32LE(this,x,this.l);break;case 8:if(b=8,r==="f"){write_double_le(this,x,this.l);break}case 16:break;case-4:b=4,__writeInt32LE(this,x,this.l);break}return this.l+=b,this}function CheckField(y,x){var r=__hexlify(this,this.l,y.length>>1);if(r!==y)throw new Error(x+"Expected "+y+" saw "+r);this.l+=y.length>>1}function prep_blob(y,x){y.l=x,y.read_shift=ReadShift,y.chk=CheckField,y.write_shift=WriteShift}function parsenoop(y,x){y.l+=x}function new_buf(y){var x=new_raw_buf(y);return prep_blob(x,0),x}function recordhopper(y,x,r){if(y){var b,M,z;prep_blob(y,y.l||0);for(var B=y.length,R=0,I=0;y.l<B;){R=y.read_shift(1),R&128&&(R=(R&127)+((y.read_shift(1)&127)<<7));var O=XLSBRecordEnum[R]||XLSBRecordEnum[65535];for(b=y.read_shift(1),z=b&127,M=1;M<4&&b&128;++M)z+=((b=y.read_shift(1))&127)<<7*M;I=y.l+z;var A=O.f&&O.f(y,z,r);if(y.l=I,x(A,O,R))return}}}function buf_array(){var y=[],x=has_buf?256:2048,r=function(O){var A=new_buf(O);return prep_blob(A,0),A},b=r(x),M=function(){b&&(b.length>b.l&&(b=b.slice(0,b.l),b.l=b.length),b.length>0&&y.push(b),b=null)},z=function(O){return b&&O<b.length-b.l?b:(M(),b=r(Math.max(O+1,x)))},B=function(){return M(),bconcat(y)},R=function(O){M(),b=O,b.l==null&&(b.l=b.length),z(x)};return{next:z,push:R,end:B,_bufs:y}}function write_record(y,x,r,b){var M=+x,z;if(!isNaN(M)){b||(b=XLSBRecordEnum[M].p||(r||[]).length||0),z=1+(M>=128?1:0)+1,b>=128&&++z,b>=16384&&++z,b>=2097152&&++z;var B=y.next(z);M<=127?B.write_shift(1,M):(B.write_shift(1,(M&127)+128),B.write_shift(1,M>>7));for(var R=0;R!=4;++R)if(b>=128)B.write_shift(1,(b&127)+128),b>>=7;else{B.write_shift(1,b);break}b>0&&is_buf(r)&&y.push(r)}}function shift_cell_xls(y,x,r){var b=dup(y);if(x.s?(b.cRel&&(b.c+=x.s.c),b.rRel&&(b.r+=x.s.r)):(b.cRel&&(b.c+=x.c),b.rRel&&(b.r+=x.r)),!r||r.biff<12){for(;b.c>=256;)b.c-=256;for(;b.r>=65536;)b.r-=65536}return b}function shift_range_xls(y,x,r){var b=dup(y);return b.s=shift_cell_xls(b.s,x.s,r),b.e=shift_cell_xls(b.e,x.s,r),b}function encode_cell_xls(y,x){if(y.cRel&&y.c<0)for(y=dup(y);y.c<0;)y.c+=x>8?16384:256;if(y.rRel&&y.r<0)for(y=dup(y);y.r<0;)y.r+=x>8?1048576:x>5?65536:16384;var r=encode_cell(y);return!y.cRel&&y.cRel!=null&&(r=fix_col(r)),!y.rRel&&y.rRel!=null&&(r=fix_row(r)),r}function encode_range_xls(y,x){return y.s.r==0&&!y.s.rRel&&y.e.r==(x.biff>=12?1048575:x.biff>=8?65536:16384)&&!y.e.rRel?(y.s.cRel?"":"$")+encode_col(y.s.c)+":"+(y.e.cRel?"":"$")+encode_col(y.e.c):y.s.c==0&&!y.s.cRel&&y.e.c==(x.biff>=12?16383:255)&&!y.e.cRel?(y.s.rRel?"":"$")+encode_row(y.s.r)+":"+(y.e.rRel?"":"$")+encode_row(y.e.r):encode_cell_xls(y.s,x.biff)+":"+encode_cell_xls(y.e,x.biff)}function decode_row(y){return parseInt(unfix_row(y),10)-1}function encode_row(y){return""+(y+1)}function fix_row(y){return y.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function unfix_row(y){return y.replace(/\$(\d+)$/,"$1")}function decode_col(y){for(var x=unfix_col(y),r=0,b=0;b!==x.length;++b)r=26*r+x.charCodeAt(b)-64;return r-1}function encode_col(y){if(y<0)throw new Error("invalid column "+y);var x="";for(++y;y;y=Math.floor((y-1)/26))x=String.fromCharCode((y-1)%26+65)+x;return x}function fix_col(y){return y.replace(/^([A-Z])/,"$$$1")}function unfix_col(y){return y.replace(/^\$([A-Z])/,"$1")}function split_cell(y){return y.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function decode_cell(y){for(var x=0,r=0,b=0;b<y.length;++b){var M=y.charCodeAt(b);M>=48&&M<=57?x=10*x+(M-48):M>=65&&M<=90&&(r=26*r+(M-64))}return{c:r-1,r:x-1}}function encode_cell(y){for(var x=y.c+1,r="";x;x=(x-1)/26|0)r=String.fromCharCode((x-1)%26+65)+r;return r+(y.r+1)}function decode_range(y){var x=y.indexOf(":");return x==-1?{s:decode_cell(y),e:decode_cell(y)}:{s:decode_cell(y.slice(0,x)),e:decode_cell(y.slice(x+1))}}function encode_range(y,x){return typeof x>"u"||typeof x=="number"?encode_range(y.s,y.e):(typeof y!="string"&&(y=encode_cell(y)),typeof x!="string"&&(x=encode_cell(x)),y==x?y:y+":"+x)}function safe_decode_range(y){var x={s:{c:0,r:0},e:{c:0,r:0}},r=0,b=0,M=0,z=y.length;for(r=0;b<z&&!((M=y.charCodeAt(b)-64)<1||M>26);++b)r=26*r+M;for(x.s.c=--r,r=0;b<z&&!((M=y.charCodeAt(b)-48)<0||M>9);++b)r=10*r+M;if(x.s.r=--r,b===z||M!=10)return x.e.c=x.s.c,x.e.r=x.s.r,x;for(++b,r=0;b!=z&&!((M=y.charCodeAt(b)-64)<1||M>26);++b)r=26*r+M;for(x.e.c=--r,r=0;b!=z&&!((M=y.charCodeAt(b)-48)<0||M>9);++b)r=10*r+M;return x.e.r=--r,x}function safe_format_cell(y,x){var r=y.t=="d"&&x instanceof Date;if(y.z!=null)try{return y.w=SSF_format(y.z,r?datenum(x):x)}catch{}try{return y.w=SSF_format((y.XF||{}).numFmtId||(r?14:0),r?datenum(x):x)}catch{return""+x}}function format_cell(y,x,r){return y==null||y.t==null||y.t=="z"?"":y.w!==void 0?y.w:(y.t=="d"&&!y.z&&r&&r.dateNF&&(y.z=r.dateNF),y.t=="e"?BErr[y.v]||y.v:x==null?safe_format_cell(y,y.v):safe_format_cell(y,x))}function sheet_to_workbook(y,x){var r=x&&x.sheet?x.sheet:"Sheet1",b={};return b[r]=y,{SheetNames:[r],Sheets:b}}function sheet_add_aoa(y,x,r){var b=r||{},M=y?Array.isArray(y):b.dense,z=y||(M?[]:{}),B=0,R=0;if(z&&b.origin!=null){if(typeof b.origin=="number")B=b.origin;else{var I=typeof b.origin=="string"?decode_cell(b.origin):b.origin;B=I.r,R=I.c}z["!ref"]||(z["!ref"]="A1:A1")}var O={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(z["!ref"]){var A=safe_decode_range(z["!ref"]);O.s.c=A.s.c,O.s.r=A.s.r,O.e.c=Math.max(O.e.c,A.e.c),O.e.r=Math.max(O.e.r,A.e.r),B==-1&&(O.e.r=B=A.e.r+1)}for(var T=0;T!=x.length;++T)if(x[T]){if(!Array.isArray(x[T]))throw new Error("aoa_to_sheet expects an array of arrays");for(var U=0;U!=x[T].length;++U)if(!(typeof x[T][U]>"u")){var q={v:x[T][U]},K=B+T,J=R+U;if(O.s.r>K&&(O.s.r=K),O.s.c>J&&(O.s.c=J),O.e.r<K&&(O.e.r=K),O.e.c<J&&(O.e.c=J),x[T][U]&&typeof x[T][U]=="object"&&!Array.isArray(x[T][U])&&!(x[T][U]instanceof Date))q=x[T][U];else if(Array.isArray(q.v)&&(q.f=x[T][U][1],q.v=q.v[0]),q.v===null)if(q.f)q.t="n";else if(b.nullError)q.t="e",q.v=0;else if(b.sheetStubs)q.t="z";else continue;else typeof q.v=="number"?q.t="n":typeof q.v=="boolean"?q.t="b":q.v instanceof Date?(q.z=b.dateNF||table_fmt[14],b.cellDates?(q.t="d",q.w=SSF_format(q.z,datenum(q.v))):(q.t="n",q.v=datenum(q.v),q.w=SSF_format(q.z,q.v))):q.t="s";if(M)z[K]||(z[K]=[]),z[K][J]&&z[K][J].z&&(q.z=z[K][J].z),z[K][J]=q;else{var te=encode_cell({c:J,r:K});z[te]&&z[te].z&&(q.z=z[te].z),z[te]=q}}}return O.s.c<1e7&&(z["!ref"]=encode_range(O)),z}function aoa_to_sheet(y,x){return sheet_add_aoa(null,y,x)}function parse_Int32LE(y){return y.read_shift(4,"i")}function write_UInt32LE(y,x){return x||(x=new_buf(4)),x.write_shift(4,y),x}function parse_XLWideString(y){var x=y.read_shift(4);return x===0?"":y.read_shift(x,"dbcs")}function write_XLWideString(y,x){var r=!1;return x==null&&(r=!0,x=new_buf(4+2*y.length)),x.write_shift(4,y.length),y.length>0&&x.write_shift(0,y,"dbcs"),r?x.slice(0,x.l):x}function parse_StrRun(y){return{ich:y.read_shift(2),ifnt:y.read_shift(2)}}function write_StrRun(y,x){return x||(x=new_buf(4)),x.write_shift(2,0),x.write_shift(2,0),x}function parse_RichStr(y,x){var r=y.l,b=y.read_shift(1),M=parse_XLWideString(y),z=[],B={t:M,h:M};if((b&1)!==0){for(var R=y.read_shift(4),I=0;I!=R;++I)z.push(parse_StrRun(y));B.r=z}else B.r=[{ich:0,ifnt:0}];return y.l=r+x,B}function write_RichStr(y,x){var r=!1;return x==null&&(r=!0,x=new_buf(15+4*y.t.length)),x.write_shift(1,0),write_XLWideString(y.t,x),r?x.slice(0,x.l):x}var parse_BrtCommentText=parse_RichStr;function write_BrtCommentText(y,x){var r=!1;return x==null&&(r=!0,x=new_buf(23+4*y.t.length)),x.write_shift(1,1),write_XLWideString(y.t,x),x.write_shift(4,1),write_StrRun({},x),r?x.slice(0,x.l):x}function parse_XLSBCell(y){var x=y.read_shift(4),r=y.read_shift(2);return r+=y.read_shift(1)<<16,y.l++,{c:x,iStyleRef:r}}function write_XLSBCell(y,x){return x==null&&(x=new_buf(8)),x.write_shift(-4,y.c),x.write_shift(3,y.iStyleRef||y.s),x.write_shift(1,0),x}function parse_XLSBShortCell(y){var x=y.read_shift(2);return x+=y.read_shift(1)<<16,y.l++,{c:-1,iStyleRef:x}}function write_XLSBShortCell(y,x){return x==null&&(x=new_buf(4)),x.write_shift(3,y.iStyleRef||y.s),x.write_shift(1,0),x}var parse_XLSBCodeName=parse_XLWideString,write_XLSBCodeName=write_XLWideString;function parse_XLNullableWideString(y){var x=y.read_shift(4);return x===0||x===4294967295?"":y.read_shift(x,"dbcs")}function write_XLNullableWideString(y,x){var r=!1;return x==null&&(r=!0,x=new_buf(127)),x.write_shift(4,y.length>0?y.length:4294967295),y.length>0&&x.write_shift(0,y,"dbcs"),r?x.slice(0,x.l):x}var parse_XLNameWideString=parse_XLWideString,parse_RelID=parse_XLNullableWideString,write_RelID=write_XLNullableWideString;function parse_RkNumber(y){var x=y.slice(y.l,y.l+4),r=x[0]&1,b=x[0]&2;y.l+=4;var M=b===0?__double([0,0,0,0,x[0]&252,x[1],x[2],x[3]],0):__readInt32LE(x,0)>>2;return r?M/100:M}function write_RkNumber(y,x){x==null&&(x=new_buf(4));var r=0,b=0,M=y*100;if(y==(y|0)&&y>=-536870912&&y<1<<29?b=1:M==(M|0)&&M>=-536870912&&M<1<<29&&(b=1,r=1),b)x.write_shift(-4,((r?M:y)<<2)+(r+2));else throw new Error("unsupported RkNumber "+y)}function parse_RfX(y){var x={s:{},e:{}};return x.s.r=y.read_shift(4),x.e.r=y.read_shift(4),x.s.c=y.read_shift(4),x.e.c=y.read_shift(4),x}function write_RfX(y,x){return x||(x=new_buf(16)),x.write_shift(4,y.s.r),x.write_shift(4,y.e.r),x.write_shift(4,y.s.c),x.write_shift(4,y.e.c),x}var parse_UncheckedRfX=parse_RfX,write_UncheckedRfX=write_RfX;function parse_Xnum(y){if(y.length-y.l<8)throw"XLS Xnum Buffer underflow";return y.read_shift(8,"f")}function write_Xnum(y,x){return(x||new_buf(8)).write_shift(8,y,"f")}function parse_BrtColor(y){var x={},r=y.read_shift(1),b=r>>>1,M=y.read_shift(1),z=y.read_shift(2,"i"),B=y.read_shift(1),R=y.read_shift(1),I=y.read_shift(1);switch(y.l++,b){case 0:x.auto=1;break;case 1:x.index=M;var O=XLSIcv[M];O&&(x.rgb=rgb2Hex(O));break;case 2:x.rgb=rgb2Hex([B,R,I]);break;case 3:x.theme=M;break}return z!=0&&(x.tint=z>0?z/32767:z/32768),x}function write_BrtColor(y,x){if(x||(x=new_buf(8)),!y||y.auto)return x.write_shift(4,0),x.write_shift(4,0),x;y.index!=null?(x.write_shift(1,2),x.write_shift(1,y.index)):y.theme!=null?(x.write_shift(1,6),x.write_shift(1,y.theme)):(x.write_shift(1,5),x.write_shift(1,0));var r=y.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),x.write_shift(2,r),!y.rgb||y.theme!=null)x.write_shift(2,0),x.write_shift(1,0),x.write_shift(1,0);else{var b=y.rgb||"FFFFFF";typeof b=="number"&&(b=("000000"+b.toString(16)).slice(-6)),x.write_shift(1,parseInt(b.slice(0,2),16)),x.write_shift(1,parseInt(b.slice(2,4),16)),x.write_shift(1,parseInt(b.slice(4,6),16)),x.write_shift(1,255)}return x}function parse_FontFlags(y){var x=y.read_shift(1);y.l++;var r={fBold:x&1,fItalic:x&2,fUnderline:x&4,fStrikeout:x&8,fOutline:x&16,fShadow:x&32,fCondense:x&64,fExtend:x&128};return r}function write_FontFlags(y,x){x||(x=new_buf(2));var r=(y.italic?2:0)|(y.strike?8:0)|(y.outline?16:0)|(y.shadow?32:0)|(y.condense?64:0)|(y.extend?128:0);return x.write_shift(1,r),x.write_shift(1,0),x}function parse_ClipboardFormatOrString(y,x){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},b=y.read_shift(4);switch(b){case 0:return"";case 4294967295:case 4294967294:return r[y.read_shift(4)]||""}if(b>400)throw new Error("Unsupported Clipboard: "+b.toString(16));return y.l-=4,y.read_shift(0,x==1?"lpstr":"lpwstr")}function parse_ClipboardFormatOrAnsiString(y){return parse_ClipboardFormatOrString(y,1)}function parse_ClipboardFormatOrUnicodeString(y){return parse_ClipboardFormatOrString(y,2)}var VT_I2=2,VT_I4=3,VT_BOOL=11,VT_VARIANT=12,VT_UI4=19,VT_FILETIME=64,VT_BLOB=65,VT_CF=71,VT_VECTOR_VARIANT=4108,VT_VECTOR_LPSTR=4126,VT_STRING=80,VT_USTR=81,VT_CUSTOM=[VT_STRING,VT_USTR],DocSummaryPIDDSI={1:{n:"CodePage",t:VT_I2},2:{n:"Category",t:VT_STRING},3:{n:"PresentationFormat",t:VT_STRING},4:{n:"ByteCount",t:VT_I4},5:{n:"LineCount",t:VT_I4},6:{n:"ParagraphCount",t:VT_I4},7:{n:"SlideCount",t:VT_I4},8:{n:"NoteCount",t:VT_I4},9:{n:"HiddenCount",t:VT_I4},10:{n:"MultimediaClipCount",t:VT_I4},11:{n:"ScaleCrop",t:VT_BOOL},12:{n:"HeadingPairs",t:VT_VECTOR_VARIANT},13:{n:"TitlesOfParts",t:VT_VECTOR_LPSTR},14:{n:"Manager",t:VT_STRING},15:{n:"Company",t:VT_STRING},16:{n:"LinksUpToDate",t:VT_BOOL},17:{n:"CharacterCount",t:VT_I4},19:{n:"SharedDoc",t:VT_BOOL},22:{n:"HyperlinksChanged",t:VT_BOOL},23:{n:"AppVersion",t:VT_I4,p:"version"},24:{n:"DigSig",t:VT_BLOB},26:{n:"ContentType",t:VT_STRING},27:{n:"ContentStatus",t:VT_STRING},28:{n:"Language",t:VT_STRING},29:{n:"Version",t:VT_STRING},255:{},2147483648:{n:"Locale",t:VT_UI4},2147483651:{n:"Behavior",t:VT_UI4},1919054434:{}},SummaryPIDSI={1:{n:"CodePage",t:VT_I2},2:{n:"Title",t:VT_STRING},3:{n:"Subject",t:VT_STRING},4:{n:"Author",t:VT_STRING},5:{n:"Keywords",t:VT_STRING},6:{n:"Comments",t:VT_STRING},7:{n:"Template",t:VT_STRING},8:{n:"LastAuthor",t:VT_STRING},9:{n:"RevNumber",t:VT_STRING},10:{n:"EditTime",t:VT_FILETIME},11:{n:"LastPrinted",t:VT_FILETIME},12:{n:"CreatedDate",t:VT_FILETIME},13:{n:"ModifiedDate",t:VT_FILETIME},14:{n:"PageCount",t:VT_I4},15:{n:"WordCount",t:VT_I4},16:{n:"CharCount",t:VT_I4},17:{n:"Thumbnail",t:VT_CF},18:{n:"Application",t:VT_STRING},19:{n:"DocSecurity",t:VT_I4},255:{},2147483648:{n:"Locale",t:VT_UI4},2147483651:{n:"Behavior",t:VT_UI4},1919054434:{}},CountryEnum={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},XLSFillPattern=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function rgbify(y){return y.map(function(x){return[x>>16&255,x>>8&255,x&255]})}var _XLSIcv=rgbify([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),XLSIcv=dup(_XLSIcv),BErr={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},RBErr={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},ct2type={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},CT_LIST={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function new_ct(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function parse_ct(y){var x=new_ct();if(!y||!y.match)return x;var r={};if((y.match(tagregex)||[]).forEach(function(b){var M=parsexmltag(b);switch(M[0].replace(nsregex,"<")){case"<?xml":break;case"<Types":x.xmlns=M["xmlns"+(M[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[M.Extension]=M.ContentType;break;case"<Override":x[ct2type[M.ContentType]]!==void 0&&x[ct2type[M.ContentType]].push(M.PartName);break}}),x.xmlns!==XMLNS.CT)throw new Error("Unknown Namespace: "+x.xmlns);return x.calcchain=x.calcchains.length>0?x.calcchains[0]:"",x.sst=x.strs.length>0?x.strs[0]:"",x.style=x.styles.length>0?x.styles[0]:"",x.defaults=r,delete x.calcchains,x}function write_ct(y,x){var r=evert_arr(ct2type),b=[],M;b[b.length]=XML_HEADER,b[b.length]=writextag("Types",null,{xmlns:XMLNS.CT,"xmlns:xsd":XMLNS.xsd,"xmlns:xsi":XMLNS.xsi}),b=b.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(I){return writextag("Default",null,{Extension:I[0],ContentType:I[1]})}));var z=function(I){y[I]&&y[I].length>0&&(M=y[I][0],b[b.length]=writextag("Override",null,{PartName:(M[0]=="/"?"":"/")+M,ContentType:CT_LIST[I][x.bookType]||CT_LIST[I].xlsx}))},B=function(I){(y[I]||[]).forEach(function(O){b[b.length]=writextag("Override",null,{PartName:(O[0]=="/"?"":"/")+O,ContentType:CT_LIST[I][x.bookType]||CT_LIST[I].xlsx})})},R=function(I){(y[I]||[]).forEach(function(O){b[b.length]=writextag("Override",null,{PartName:(O[0]=="/"?"":"/")+O,ContentType:r[I][0]})})};return z("workbooks"),B("sheets"),B("charts"),R("themes"),["strs","styles"].forEach(z),["coreprops","extprops","custprops"].forEach(R),R("vba"),R("comments"),R("threadedcomments"),R("drawings"),B("metadata"),R("people"),b.length>2&&(b[b.length]="</Types>",b[1]=b[1].replace("/>",">")),b.join("")}var RELS={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function get_rels_path(y){var x=y.lastIndexOf("/");return y.slice(0,x+1)+"_rels/"+y.slice(x+1)+".rels"}function parse_rels(y,x){var r={"!id":{}};if(!y)return r;x.charAt(0)!=="/"&&(x="/"+x);var b={};return(y.match(tagregex)||[]).forEach(function(M){var z=parsexmltag(M);if(z[0]==="<Relationship"){var B={};B.Type=z.Type,B.Target=z.Target,B.Id=z.Id,z.TargetMode&&(B.TargetMode=z.TargetMode);var R=z.TargetMode==="External"?z.Target:resolve_path(z.Target,x);r[R]=B,b[z.Id]=B}}),r["!id"]=b,r}function write_rels(y){var x=[XML_HEADER,writextag("Relationships",null,{xmlns:XMLNS.RELS})];return keys(y["!id"]).forEach(function(r){x[x.length]=writextag("Relationship",null,y["!id"][r])}),x.length>2&&(x[x.length]="</Relationships>",x[1]=x[1].replace("/>",">")),x.join("")}function add_rels(y,x,r,b,M,z){if(M||(M={}),y["!id"]||(y["!id"]={}),y["!idx"]||(y["!idx"]=1),x<0)for(x=y["!idx"];y["!id"]["rId"+x];++x);if(y["!idx"]=x+1,M.Id="rId"+x,M.Type=b,M.Target=r,[RELS.HLINK,RELS.XPATH,RELS.XMISS].indexOf(M.Type)>-1&&(M.TargetMode="External"),y["!id"][M.Id])throw new Error("Cannot rewrite rId "+x);return y["!id"][M.Id]=M,y[("/"+M.Target).replace("//","/")]=M,x}var CT_ODS="application/vnd.oasis.opendocument.spreadsheet";function parse_manifest(y,x){for(var r=xlml_normalize(y),b,M;b=xlmlregex.exec(r);)switch(b[3]){case"manifest":break;case"file-entry":if(M=parsexmltag(b[0],!1),M.path=="/"&&M.type!==CT_ODS)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(x&&x.WTF)throw b}}function write_manifest(y){var x=[XML_HEADER];x.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),x.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<y.length;++r)x.push('  <manifest:file-entry manifest:full-path="'+y[r][0]+'" manifest:media-type="'+y[r][1]+`"/>
`);return x.push("</manifest:manifest>"),x.join("")}function write_rdf_type(y,x,r){return['  <rdf:Description rdf:about="'+y+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+x+`"/>
`,`  </rdf:Description>
`].join("")}function write_rdf_has(y,x){return['  <rdf:Description rdf:about="'+y+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+x+`"/>
`,`  </rdf:Description>
`].join("")}function write_rdf(y){var x=[XML_HEADER];x.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=y.length;++r)x.push(write_rdf_type(y[r][0],y[r][1])),x.push(write_rdf_has("",y[r][0]));return x.push(write_rdf_type("","Document","pkg")),x.push("</rdf:RDF>"),x.join("")}function write_meta_ods(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+XLSX.version+"</meta:generator></office:meta></office:document-meta>"}var CORE_PROPS=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],CORE_PROPS_REGEX=(function(){for(var y=new Array(CORE_PROPS.length),x=0;x<CORE_PROPS.length;++x){var r=CORE_PROPS[x],b="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);y[x]=new RegExp("<"+b+"[^>]*>([\\s\\S]*?)</"+b+">")}return y})();function parse_core_props(y){var x={};y=utf8read(y);for(var r=0;r<CORE_PROPS.length;++r){var b=CORE_PROPS[r],M=y.match(CORE_PROPS_REGEX[r]);M!=null&&M.length>0&&(x[b[1]]=unescapexml(M[1])),b[2]==="date"&&x[b[1]]&&(x[b[1]]=parseDate(x[b[1]]))}return x}function cp_doit(y,x,r,b,M){M[y]!=null||x==null||x===""||(M[y]=x,x=escapexml(x),b[b.length]=r?writextag(y,x,r):writetag(y,x))}function write_core_props(y,x){var r=x||{},b=[XML_HEADER,writextag("cp:coreProperties",null,{"xmlns:cp":XMLNS.CORE_PROPS,"xmlns:dc":XMLNS.dc,"xmlns:dcterms":XMLNS.dcterms,"xmlns:dcmitype":XMLNS.dcmitype,"xmlns:xsi":XMLNS.xsi})],M={};if(!y&&!r.Props)return b.join("");y&&(y.CreatedDate!=null&&cp_doit("dcterms:created",typeof y.CreatedDate=="string"?y.CreatedDate:write_w3cdtf(y.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},b,M),y.ModifiedDate!=null&&cp_doit("dcterms:modified",typeof y.ModifiedDate=="string"?y.ModifiedDate:write_w3cdtf(y.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},b,M));for(var z=0;z!=CORE_PROPS.length;++z){var B=CORE_PROPS[z],R=r.Props&&r.Props[B[1]]!=null?r.Props[B[1]]:y?y[B[1]]:null;R===!0?R="1":R===!1?R="0":typeof R=="number"&&(R=String(R)),R!=null&&cp_doit(B[0],R,null,b,M)}return b.length>2&&(b[b.length]="</cp:coreProperties>",b[1]=b[1].replace("/>",">")),b.join("")}var EXT_PROPS=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],PseudoPropsPairs=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function load_props_pairs(y,x,r,b){var M=[];if(typeof y=="string")M=parseVector(y,b);else for(var z=0;z<y.length;++z)M=M.concat(y[z].map(function(A){return{v:A}}));var B=typeof x=="string"?parseVector(x,b).map(function(A){return A.v}):x,R=0,I=0;if(B.length>0)for(var O=0;O!==M.length;O+=2){switch(I=+M[O+1].v,M[O].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=I,r.SheetNames=B.slice(R,R+I);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=I,r.DefinedNames=B.slice(R,R+I);break;case"Charts":case"Diagramme":r.Chartsheets=I,r.ChartNames=B.slice(R,R+I);break}R+=I}}function parse_ext_props(y,x,r){var b={};return x||(x={}),y=utf8read(y),EXT_PROPS.forEach(function(M){var z=(y.match(matchtag(M[0]))||[])[1];switch(M[2]){case"string":z&&(x[M[1]]=unescapexml(z));break;case"bool":x[M[1]]=z==="true";break;case"raw":var B=y.match(new RegExp("<"+M[0]+"[^>]*>([\\s\\S]*?)</"+M[0]+">"));B&&B.length>0&&(b[M[1]]=B[1]);break}}),b.HeadingPairs&&b.TitlesOfParts&&load_props_pairs(b.HeadingPairs,b.TitlesOfParts,x,r),x}function write_ext_props(y){var x=[],r=writextag;return y||(y={}),y.Application="SheetJS",x[x.length]=XML_HEADER,x[x.length]=writextag("Properties",null,{xmlns:XMLNS.EXT_PROPS,"xmlns:vt":XMLNS.vt}),EXT_PROPS.forEach(function(b){if(y[b[1]]!==void 0){var M;switch(b[2]){case"string":M=escapexml(String(y[b[1]]));break;case"bool":M=y[b[1]]?"true":"false";break}M!==void 0&&(x[x.length]=r(b[0],M))}}),x[x.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(y.Worksheets))),{size:2,baseType:"variant"})),x[x.length]=r("TitlesOfParts",r("vt:vector",y.SheetNames.map(function(b){return"<vt:lpstr>"+escapexml(b)+"</vt:lpstr>"}).join(""),{size:y.Worksheets,baseType:"lpstr"})),x.length>2&&(x[x.length]="</Properties>",x[1]=x[1].replace("/>",">")),x.join("")}var custregex=/<[^>]+>[^<]*/g;function parse_cust_props(y,x){var r={},b="",M=y.match(custregex);if(M)for(var z=0;z!=M.length;++z){var B=M[z],R=parsexmltag(B);switch(R[0]){case"<?xml":break;case"<Properties":break;case"<property":b=unescapexml(R.name);break;case"</property>":b=null;break;default:if(B.indexOf("<vt:")===0){var I=B.split(">"),O=I[0].slice(4),A=I[1];switch(O){case"lpstr":case"bstr":case"lpwstr":r[b]=unescapexml(A);break;case"bool":r[b]=parsexmlbool(A);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[b]=parseInt(A,10);break;case"r4":case"r8":case"decimal":r[b]=parseFloat(A);break;case"filetime":case"date":r[b]=parseDate(A);break;case"cy":case"error":r[b]=unescapexml(A);break;default:if(O.slice(-1)=="/")break;x.WTF&&typeof console<"u"&&console.warn("Unexpected",B,O,I)}}else if(B.slice(0,2)!=="</"){if(x.WTF)throw new Error(B)}}}return r}function write_cust_props(y){var x=[XML_HEADER,writextag("Properties",null,{xmlns:XMLNS.CUST_PROPS,"xmlns:vt":XMLNS.vt})];if(!y)return x.join("");var r=1;return keys(y).forEach(function(M){++r,x[x.length]=writextag("property",write_vt(y[M]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:escapexml(M)})}),x.length>2&&(x[x.length]="</Properties>",x[1]=x[1].replace("/>",">")),x.join("")}var XLMLDocPropsMap={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},evert_XLMLDPM;function xlml_set_prop(y,x,r){evert_XLMLDPM||(evert_XLMLDPM=evert(XLMLDocPropsMap)),x=evert_XLMLDPM[x]||x,y[x]=r}function xlml_write_docprops(y,x){var r=[];return keys(XLMLDocPropsMap).map(function(b){for(var M=0;M<CORE_PROPS.length;++M)if(CORE_PROPS[M][1]==b)return CORE_PROPS[M];for(M=0;M<EXT_PROPS.length;++M)if(EXT_PROPS[M][1]==b)return EXT_PROPS[M];throw b}).forEach(function(b){if(y[b[1]]!=null){var M=x&&x.Props&&x.Props[b[1]]!=null?x.Props[b[1]]:y[b[1]];switch(b[2]){case"date":M=new Date(M).toISOString().replace(/\.\d*Z/,"Z");break}typeof M=="number"?M=String(M):M===!0||M===!1?M=M?"1":"0":M instanceof Date&&(M=new Date(M).toISOString().replace(/\.\d*Z/,"")),r.push(writetag(XLMLDocPropsMap[b[1]]||b[1],M))}}),writextag("DocumentProperties",r.join(""),{xmlns:XLMLNS.o})}function xlml_write_custprops(y,x){var r=["Worksheets","SheetNames"],b="CustomDocumentProperties",M=[];return y&&keys(y).forEach(function(z){if(Object.prototype.hasOwnProperty.call(y,z)){for(var B=0;B<CORE_PROPS.length;++B)if(z==CORE_PROPS[B][1])return;for(B=0;B<EXT_PROPS.length;++B)if(z==EXT_PROPS[B][1])return;for(B=0;B<r.length;++B)if(z==r[B])return;var R=y[z],I="string";typeof R=="number"?(I="float",R=String(R)):R===!0||R===!1?(I="boolean",R=R?"1":"0"):R=String(R),M.push(writextag(escapexmltag(z),R,{"dt:dt":I}))}}),x&&keys(x).forEach(function(z){if(Object.prototype.hasOwnProperty.call(x,z)&&!(y&&Object.prototype.hasOwnProperty.call(y,z))){var B=x[z],R="string";typeof B=="number"?(R="float",B=String(B)):B===!0||B===!1?(R="boolean",B=B?"1":"0"):B instanceof Date?(R="dateTime.tz",B=B.toISOString()):B=String(B),M.push(writextag(escapexmltag(z),B,{"dt:dt":R}))}}),"<"+b+' xmlns="'+XLMLNS.o+'">'+M.join("")+"</"+b+">"}function parse_FILETIME(y){var x=y.read_shift(4),r=y.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+x/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function write_FILETIME(y){var x=typeof y=="string"?new Date(Date.parse(y)):y,r=x.getTime()/1e3+11644473600,b=r%Math.pow(2,32),M=(r-b)/Math.pow(2,32);b*=1e7,M*=1e7;var z=b/Math.pow(2,32)|0;z>0&&(b=b%Math.pow(2,32),M+=z);var B=new_buf(8);return B.write_shift(4,b),B.write_shift(4,M),B}function parse_lpstr(y,x,r){var b=y.l,M=y.read_shift(0,"lpstr-cp");if(r)for(;y.l-b&3;)++y.l;return M}function parse_lpwstr(y,x,r){var b=y.read_shift(0,"lpwstr");return b}function parse_VtStringBase(y,x,r){return x===31?parse_lpwstr(y):parse_lpstr(y,x,r)}function parse_VtString(y,x,r){return parse_VtStringBase(y,x,r===!1?0:4)}function parse_VtUnalignedString(y,x){if(!x)throw new Error("VtUnalignedString must have positive length");return parse_VtStringBase(y,x,0)}function parse_VtVecLpwstrValue(y){for(var x=y.read_shift(4),r=[],b=0;b!=x;++b){var M=y.l;r[b]=y.read_shift(0,"lpwstr").replace(chr0,""),y.l-M&2&&(y.l+=2)}return r}function parse_VtVecUnalignedLpstrValue(y){for(var x=y.read_shift(4),r=[],b=0;b!=x;++b)r[b]=y.read_shift(0,"lpstr-cp").replace(chr0,"");return r}function parse_VtHeadingPair(y){var x=y.l,r=parse_TypedPropertyValue(y,VT_USTR);y[y.l]==0&&y[y.l+1]==0&&y.l-x&2&&(y.l+=2);var b=parse_TypedPropertyValue(y,VT_I4);return[r,b]}function parse_VtVecHeadingPairValue(y){for(var x=y.read_shift(4),r=[],b=0;b<x/2;++b)r.push(parse_VtHeadingPair(y));return r}function parse_dictionary(y,x){for(var r=y.read_shift(4),b={},M=0;M!=r;++M){var z=y.read_shift(4),B=y.read_shift(4);b[z]=y.read_shift(B,x===1200?"utf16le":"utf8").replace(chr0,"").replace(chr1,"!"),x===1200&&B%2&&(y.l+=2)}return y.l&3&&(y.l=y.l>>3<<2),b}function parse_BLOB(y){var x=y.read_shift(4),r=y.slice(y.l,y.l+x);return y.l+=x,(x&3)>0&&(y.l+=4-(x&3)&3),r}function parse_ClipboardData(y){var x={};return x.Size=y.read_shift(4),y.l+=x.Size+3-(x.Size-1)%4,x}function parse_TypedPropertyValue(y,x,r){var b=y.read_shift(2),M,z=r||{};if(y.l+=2,x!==VT_VARIANT&&b!==x&&VT_CUSTOM.indexOf(x)===-1&&!((x&65534)==4126&&(b&65534)==4126))throw new Error("Expected type "+x+" saw "+b);switch(x===VT_VARIANT?b:x){case 2:return M=y.read_shift(2,"i"),z.raw||(y.l+=2),M;case 3:return M=y.read_shift(4,"i"),M;case 11:return y.read_shift(4)!==0;case 19:return M=y.read_shift(4),M;case 30:return parse_lpstr(y,b,4).replace(chr0,"");case 31:return parse_lpwstr(y);case 64:return parse_FILETIME(y);case 65:return parse_BLOB(y);case 71:return parse_ClipboardData(y);case 80:return parse_VtString(y,b,!z.raw).replace(chr0,"");case 81:return parse_VtUnalignedString(y,b).replace(chr0,"");case 4108:return parse_VtVecHeadingPairValue(y);case 4126:case 4127:return b==4127?parse_VtVecLpwstrValue(y):parse_VtVecUnalignedLpstrValue(y);default:throw new Error("TypedPropertyValue unrecognized type "+x+" "+b)}}function write_TypedPropertyValue(y,x){var r=new_buf(4),b=new_buf(4);switch(r.write_shift(4,y==80?31:y),y){case 3:b.write_shift(-4,x);break;case 5:b=new_buf(8),b.write_shift(8,x,"f");break;case 11:b.write_shift(4,x?1:0);break;case 64:b=write_FILETIME(x);break;case 31:case 80:for(b=new_buf(4+2*(x.length+1)+(x.length%2?0:2)),b.write_shift(4,x.length+1),b.write_shift(0,x,"dbcs");b.l!=b.length;)b.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+y+" "+x)}return bconcat([r,b])}function parse_PropertySet(y,x){var r=y.l,b=y.read_shift(4),M=y.read_shift(4),z=[],B=0,R=0,I=-1,O={};for(B=0;B!=M;++B){var A=y.read_shift(4),T=y.read_shift(4);z[B]=[A,T+r]}z.sort(function(ue,fe){return ue[1]-fe[1]});var U={};for(B=0;B!=M;++B){if(y.l!==z[B][1]){var q=!0;if(B>0&&x)switch(x[z[B-1][0]].t){case 2:y.l+2===z[B][1]&&(y.l+=2,q=!1);break;case 80:y.l<=z[B][1]&&(y.l=z[B][1],q=!1);break;case 4108:y.l<=z[B][1]&&(y.l=z[B][1],q=!1);break}if((!x||B==0)&&y.l<=z[B][1]&&(q=!1,y.l=z[B][1]),q)throw new Error("Read Error: Expected address "+z[B][1]+" at "+y.l+" :"+B)}if(x){var K=x[z[B][0]];if(U[K.n]=parse_TypedPropertyValue(y,K.t,{raw:!0}),K.p==="version"&&(U[K.n]=String(U[K.n]>>16)+"."+("0000"+String(U[K.n]&65535)).slice(-4)),K.n=="CodePage")switch(U[K.n]){case 0:U[K.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:set_cp(R=U[K.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+U[K.n])}}else if(z[B][0]===1){if(R=U.CodePage=parse_TypedPropertyValue(y,VT_I2),set_cp(R),I!==-1){var J=y.l;y.l=z[I][1],O=parse_dictionary(y,R),y.l=J}}else if(z[B][0]===0){if(R===0){I=B,y.l=z[B+1][1];continue}O=parse_dictionary(y,R)}else{var te=O[z[B][0]],oe;switch(y[y.l]){case 65:y.l+=4,oe=parse_BLOB(y);break;case 30:y.l+=4,oe=parse_VtString(y,y[y.l-4]).replace(/\u0000+$/,"");break;case 31:y.l+=4,oe=parse_VtString(y,y[y.l-4]).replace(/\u0000+$/,"");break;case 3:y.l+=4,oe=y.read_shift(4,"i");break;case 19:y.l+=4,oe=y.read_shift(4);break;case 5:y.l+=4,oe=y.read_shift(8,"f");break;case 11:y.l+=4,oe=parsebool(y,4);break;case 64:y.l+=4,oe=parseDate(parse_FILETIME(y));break;default:throw new Error("unparsed value: "+y[y.l])}U[te]=oe}}return y.l=r+b,U}var XLSPSSkip=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function guess_property_type(y){switch(typeof y){case"boolean":return 11;case"number":return(y|0)==y?3:5;case"string":return 31;case"object":if(y instanceof Date)return 64;break}return-1}function write_PropertySet(y,x,r){var b=new_buf(8),M=[],z=[],B=8,R=0,I=new_buf(8),O=new_buf(8);if(I.write_shift(4,2),I.write_shift(4,1200),O.write_shift(4,1),z.push(I),M.push(O),B+=8+I.length,!x){O=new_buf(8),O.write_shift(4,0),M.unshift(O);var A=[new_buf(4)];for(A[0].write_shift(4,y.length),R=0;R<y.length;++R){var T=y[R][0];for(I=new_buf(8+2*(T.length+1)+(T.length%2?0:2)),I.write_shift(4,R+2),I.write_shift(4,T.length+1),I.write_shift(0,T,"dbcs");I.l!=I.length;)I.write_shift(1,0);A.push(I)}I=bconcat(A),z.unshift(I),B+=8+I.length}for(R=0;R<y.length;++R)if(!(x&&!x[y[R][0]])&&!(XLSPSSkip.indexOf(y[R][0])>-1||PseudoPropsPairs.indexOf(y[R][0])>-1)&&y[R][1]!=null){var U=y[R][1],q=0;if(x){q=+x[y[R][0]];var K=r[q];if(K.p=="version"&&typeof U=="string"){var J=U.split(".");U=(+J[0]<<16)+(+J[1]||0)}I=write_TypedPropertyValue(K.t,U)}else{var te=guess_property_type(U);te==-1&&(te=31,U=String(U)),I=write_TypedPropertyValue(te,U)}z.push(I),O=new_buf(8),O.write_shift(4,x?q:2+R),M.push(O),B+=8+I.length}var oe=8*(z.length+1);for(R=0;R<z.length;++R)M[R].write_shift(4,oe),oe+=z[R].length;return b.write_shift(4,B),b.write_shift(4,z.length),bconcat([b].concat(M).concat(z))}function parse_PropertySetStream(y,x,r){var b=y.content;if(!b)return{};prep_blob(b,0);var M,z,B,R,I=0;b.chk("feff","Byte Order: "),b.read_shift(2);var O=b.read_shift(4),A=b.read_shift(16);if(A!==CFB.utils.consts.HEADER_CLSID&&A!==r)throw new Error("Bad PropertySet CLSID "+A);if(M=b.read_shift(4),M!==1&&M!==2)throw new Error("Unrecognized #Sets: "+M);if(z=b.read_shift(16),R=b.read_shift(4),M===1&&R!==b.l)throw new Error("Length mismatch: "+R+" !== "+b.l);M===2&&(B=b.read_shift(16),I=b.read_shift(4));var T=parse_PropertySet(b,x),U={SystemIdentifier:O};for(var q in T)U[q]=T[q];if(U.FMTID=z,M===1)return U;if(I-b.l==2&&(b.l+=2),b.l!==I)throw new Error("Length mismatch 2: "+b.l+" !== "+I);var K;try{K=parse_PropertySet(b,null)}catch{}for(q in K)U[q]=K[q];return U.FMTID=[z,B],U}function write_PropertySetStream(y,x,r,b,M,z){var B=new_buf(M?68:48),R=[B];B.write_shift(2,65534),B.write_shift(2,0),B.write_shift(4,842412599),B.write_shift(16,CFB.utils.consts.HEADER_CLSID,"hex"),B.write_shift(4,M?2:1),B.write_shift(16,x,"hex"),B.write_shift(4,M?68:48);var I=write_PropertySet(y,r,b);if(R.push(I),M){var O=write_PropertySet(M,null,null);B.write_shift(16,z,"hex"),B.write_shift(4,68+I.length),R.push(O)}return bconcat(R)}function parsenoop2(y,x){return y.read_shift(x),null}function writezeroes(y,x){x||(x=new_buf(y));for(var r=0;r<y;++r)x.write_shift(1,0);return x}function parslurp(y,x,r){for(var b=[],M=y.l+x;y.l<M;)b.push(r(y,M-y.l));if(M!==y.l)throw new Error("Slurp error");return b}function parsebool(y,x){return y.read_shift(x)===1}function writebool(y,x){return x||(x=new_buf(2)),x.write_shift(2,+!!y),x}function parseuint16(y){return y.read_shift(2,"u")}function writeuint16(y,x){return x||(x=new_buf(2)),x.write_shift(2,y),x}function parseuint16a(y,x){return parslurp(y,x,parseuint16)}function parse_Bes(y){var x=y.read_shift(1),r=y.read_shift(1);return r===1?x:x===1}function write_Bes(y,x,r){return r||(r=new_buf(2)),r.write_shift(1,x=="e"?+y:+!!y),r.write_shift(1,x=="e"?1:0),r}function parse_ShortXLUnicodeString(y,x,r){var b=y.read_shift(r&&r.biff>=12?2:1),M="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var z=y.read_shift(1);z&&(M="dbcs-cont")}else r.biff==12&&(M="wstr");r.biff>=2&&r.biff<=5&&(M="cpstr");var B=b?y.read_shift(b,M):"";return B}function parse_XLUnicodeRichExtendedString(y){var x=y.read_shift(2),r=y.read_shift(1),b=r&4,M=r&8,z=1+(r&1),B=0,R,I={};M&&(B=y.read_shift(2)),b&&(R=y.read_shift(4));var O=z==2?"dbcs-cont":"sbcs-cont",A=x===0?"":y.read_shift(x,O);return M&&(y.l+=4*B),b&&(y.l+=R),I.t=A,M||(I.raw="<t>"+I.t+"</t>",I.r=I.t),I}function write_XLUnicodeRichExtendedString(y){var x=y.t||"",r=new_buf(3);r.write_shift(2,x.length),r.write_shift(1,1);var b=new_buf(2*x.length);b.write_shift(2*x.length,x,"utf16le");var M=[r,b];return bconcat(M)}function parse_XLUnicodeStringNoCch(y,x,r){var b;if(r){if(r.biff>=2&&r.biff<=5)return y.read_shift(x,"cpstr");if(r.biff>=12)return y.read_shift(x,"dbcs-cont")}var M=y.read_shift(1);return M===0?b=y.read_shift(x,"sbcs-cont"):b=y.read_shift(x,"dbcs-cont"),b}function parse_XLUnicodeString(y,x,r){var b=y.read_shift(r&&r.biff==2?1:2);return b===0?(y.l++,""):parse_XLUnicodeStringNoCch(y,b,r)}function parse_XLUnicodeString2(y,x,r){if(r.biff>5)return parse_XLUnicodeString(y,x,r);var b=y.read_shift(1);return b===0?(y.l++,""):y.read_shift(b,r.biff<=4||!y.lens?"cpstr":"sbcs-cont")}function write_XLUnicodeString(y,x,r){return r||(r=new_buf(3+2*y.length)),r.write_shift(2,y.length),r.write_shift(1,1),r.write_shift(31,y,"utf16le"),r}function parse_ControlInfo(y){var x=y.read_shift(1);y.l++;var r=y.read_shift(2);return y.l+=2,[x,r]}function parse_URLMoniker(y){var x=y.read_shift(4),r=y.l,b=!1;x>24&&(y.l+=x-24,y.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(b=!0),y.l=r);var M=y.read_shift((b?x-24:x)>>1,"utf16le").replace(chr0,"");return b&&(y.l+=24),M}function parse_FileMoniker(y){for(var x=y.read_shift(2),r="";x-- >0;)r+="../";var b=y.read_shift(0,"lpstr-ansi");if(y.l+=2,y.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var M=y.read_shift(4);if(M===0)return r+b.replace(/\\/g,"/");var z=y.read_shift(4);if(y.read_shift(2)!=3)throw new Error("Bad FileMoniker");var B=y.read_shift(z>>1,"utf16le").replace(chr0,"");return r+B}function parse_HyperlinkMoniker(y,x){var r=y.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return parse_URLMoniker(y);case"0303000000000000c000000000000046":return parse_FileMoniker(y);default:throw new Error("Unsupported Moniker "+r)}}function parse_HyperlinkString(y){var x=y.read_shift(4),r=x>0?y.read_shift(x,"utf16le").replace(chr0,""):"";return r}function write_HyperlinkString(y,x){x||(x=new_buf(6+y.length*2)),x.write_shift(4,1+y.length);for(var r=0;r<y.length;++r)x.write_shift(2,y.charCodeAt(r));return x.write_shift(2,0),x}function parse_Hyperlink(y,x){var r=y.l+x,b=y.read_shift(4);if(b!==2)throw new Error("Unrecognized streamVersion: "+b);var M=y.read_shift(2);y.l+=2;var z,B,R,I,O="",A,T;M&16&&(z=parse_HyperlinkString(y,r-y.l)),M&128&&(B=parse_HyperlinkString(y,r-y.l)),(M&257)===257&&(R=parse_HyperlinkString(y,r-y.l)),(M&257)===1&&(I=parse_HyperlinkMoniker(y,r-y.l)),M&8&&(O=parse_HyperlinkString(y,r-y.l)),M&32&&(A=y.read_shift(16)),M&64&&(T=parse_FILETIME(y)),y.l=r;var U=B||R||I||"";U&&O&&(U+="#"+O),U||(U="#"+O),M&2&&U.charAt(0)=="/"&&U.charAt(1)!="/"&&(U="file://"+U);var q={Target:U};return A&&(q.guid=A),T&&(q.time=T),z&&(q.Tooltip=z),q}function write_Hyperlink(y){var x=new_buf(512),r=0,b=y.Target;b.slice(0,7)=="file://"&&(b=b.slice(7));var M=b.indexOf("#"),z=M>-1?31:23;switch(b.charAt(0)){case"#":z=28;break;case".":z&=-3;break}x.write_shift(4,2),x.write_shift(4,z);var B=[8,6815827,6619237,4849780,83];for(r=0;r<B.length;++r)x.write_shift(4,B[r]);if(z==28)b=b.slice(1),write_HyperlinkString(b,x);else if(z&2){for(B="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<B.length;++r)x.write_shift(1,parseInt(B[r],16));var R=M>-1?b.slice(0,M):b;for(x.write_shift(4,2*(R.length+1)),r=0;r<R.length;++r)x.write_shift(2,R.charCodeAt(r));x.write_shift(2,0),z&8&&write_HyperlinkString(M>-1?b.slice(M+1):"",x)}else{for(B="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<B.length;++r)x.write_shift(1,parseInt(B[r],16));for(var I=0;b.slice(I*3,I*3+3)=="../"||b.slice(I*3,I*3+3)=="..\\";)++I;for(x.write_shift(2,I),x.write_shift(4,b.length-3*I+1),r=0;r<b.length-3*I;++r)x.write_shift(1,b.charCodeAt(r+3*I)&255);for(x.write_shift(1,0),x.write_shift(2,65535),x.write_shift(2,57005),r=0;r<6;++r)x.write_shift(4,0)}return x.slice(0,x.l)}function parse_LongRGBA(y){var x=y.read_shift(1),r=y.read_shift(1),b=y.read_shift(1),M=y.read_shift(1);return[x,r,b,M]}function parse_LongRGB(y,x){var r=parse_LongRGBA(y);return r[3]=0,r}function parse_XLSCell(y){var x=y.read_shift(2),r=y.read_shift(2),b=y.read_shift(2);return{r:x,c:r,ixfe:b}}function write_XLSCell(y,x,r,b){return b||(b=new_buf(6)),b.write_shift(2,y),b.write_shift(2,x),b.write_shift(2,r||0),b}function parse_frtHeader(y){var x=y.read_shift(2),r=y.read_shift(2);return y.l+=8,{type:x,flags:r}}function parse_OptXLUnicodeString(y,x,r){return x===0?"":parse_XLUnicodeString2(y,x,r)}function parse_XTI(y,x,r){var b=r.biff>8?4:2,M=y.read_shift(b),z=y.read_shift(b,"i"),B=y.read_shift(b,"i");return[M,z,B]}function parse_RkRec(y){var x=y.read_shift(2),r=parse_RkNumber(y);return[x,r]}function parse_AddinUdf(y,x,r){y.l+=4,x-=4;var b=y.l+x,M=parse_ShortXLUnicodeString(y,x,r),z=y.read_shift(2);if(b-=y.l,z!==b)throw new Error("Malformed AddinUdf: padding = "+b+" != "+z);return y.l+=z,M}function parse_Ref8U(y){var x=y.read_shift(2),r=y.read_shift(2),b=y.read_shift(2),M=y.read_shift(2);return{s:{c:b,r:x},e:{c:M,r}}}function write_Ref8U(y,x){return x||(x=new_buf(8)),x.write_shift(2,y.s.r),x.write_shift(2,y.e.r),x.write_shift(2,y.s.c),x.write_shift(2,y.e.c),x}function parse_RefU(y){var x=y.read_shift(2),r=y.read_shift(2),b=y.read_shift(1),M=y.read_shift(1);return{s:{c:b,r:x},e:{c:M,r}}}var parse_Ref=parse_RefU;function parse_FtCmo(y){y.l+=4;var x=y.read_shift(2),r=y.read_shift(2),b=y.read_shift(2);return y.l+=12,[r,x,b]}function parse_FtNts(y){var x={};return y.l+=4,y.l+=16,x.fSharedNote=y.read_shift(2),y.l+=4,x}function parse_FtCf(y){var x={};return y.l+=4,y.cf=y.read_shift(2),x}function parse_FtSkip(y){y.l+=2,y.l+=y.read_shift(2)}var FtTab={0:parse_FtSkip,4:parse_FtSkip,5:parse_FtSkip,6:parse_FtSkip,7:parse_FtCf,8:parse_FtSkip,9:parse_FtSkip,10:parse_FtSkip,11:parse_FtSkip,12:parse_FtSkip,13:parse_FtNts,14:parse_FtSkip,15:parse_FtSkip,16:parse_FtSkip,17:parse_FtSkip,18:parse_FtSkip,19:parse_FtSkip,20:parse_FtSkip,21:parse_FtCmo};function parse_FtArray(y,x){for(var r=y.l+x,b=[];y.l<r;){var M=y.read_shift(2);y.l-=2;try{b.push(FtTab[M](y,r-y.l))}catch{return y.l=r,b}}return y.l!=r&&(y.l=r),b}function parse_BOF(y,x){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=y.read_shift(2),x-=2,x>=2&&(r.dt=y.read_shift(2),y.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(x>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return y.read_shift(x),r}function write_BOF(y,x,r){var b=1536,M=16;switch(r.bookType){case"biff8":break;case"biff5":b=1280,M=8;break;case"biff4":b=4,M=6;break;case"biff3":b=3,M=6;break;case"biff2":b=2,M=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var z=new_buf(M);return z.write_shift(2,b),z.write_shift(2,x),M>4&&z.write_shift(2,29282),M>6&&z.write_shift(2,1997),M>8&&(z.write_shift(2,49161),z.write_shift(2,1),z.write_shift(2,1798),z.write_shift(2,0)),z}function parse_InterfaceHdr(y,x){return x===0||y.read_shift(2),1200}function parse_WriteAccess(y,x,r){if(r.enc)return y.l+=x,"";var b=y.l,M=parse_XLUnicodeString2(y,0,r);return y.read_shift(x+b-y.l),M}function write_WriteAccess(y,x){var r=!x||x.biff==8,b=new_buf(r?112:54);for(b.write_shift(x.biff==8?2:1,7),r&&b.write_shift(1,0),b.write_shift(4,859007059),b.write_shift(4,5458548|(r?0:536870912));b.l<b.length;)b.write_shift(1,r?0:32);return b}function parse_WsBool(y,x,r){var b=r&&r.biff==8||x==2?y.read_shift(2):(y.l+=x,0);return{fDialog:b&16,fBelow:b&64,fRight:b&128}}function parse_BoundSheet8(y,x,r){var b=y.read_shift(4),M=y.read_shift(1)&3,z=y.read_shift(1);switch(z){case 0:z="Worksheet";break;case 1:z="Macrosheet";break;case 2:z="Chartsheet";break;case 6:z="VBAModule";break}var B=parse_ShortXLUnicodeString(y,0,r);return B.length===0&&(B="Sheet1"),{pos:b,hs:M,dt:z,name:B}}function write_BoundSheet8(y,x){var r=!x||x.biff>=8?2:1,b=new_buf(8+r*y.name.length);b.write_shift(4,y.pos),b.write_shift(1,y.hs||0),b.write_shift(1,y.dt),b.write_shift(1,y.name.length),x.biff>=8&&b.write_shift(1,1),b.write_shift(r*y.name.length,y.name,x.biff<8?"sbcs":"utf16le");var M=b.slice(0,b.l);return M.l=b.l,M}function parse_SST(y,x){for(var r=y.l+x,b=y.read_shift(4),M=y.read_shift(4),z=[],B=0;B!=M&&y.l<r;++B)z.push(parse_XLUnicodeRichExtendedString(y));return z.Count=b,z.Unique=M,z}function write_SST(y,x){var r=new_buf(8);r.write_shift(4,y.Count),r.write_shift(4,y.Unique);for(var b=[],M=0;M<y.length;++M)b[M]=write_XLUnicodeRichExtendedString(y[M]);var z=bconcat([r].concat(b));return z.parts=[r.length].concat(b.map(function(B){return B.length})),z}function parse_ExtSST(y,x){var r={};return r.dsst=y.read_shift(2),y.l+=x-2,r}function parse_Row(y){var x={};x.r=y.read_shift(2),x.c=y.read_shift(2),x.cnt=y.read_shift(2)-x.c;var r=y.read_shift(2);y.l+=4;var b=y.read_shift(1);return y.l+=3,b&7&&(x.level=b&7),b&32&&(x.hidden=!0),b&64&&(x.hpt=r/20),x}function parse_ForceFullCalculation(y){var x=parse_frtHeader(y);if(x.type!=2211)throw new Error("Invalid Future Record "+x.type);var r=y.read_shift(4);return r!==0}function parse_RecalcId(y){return y.read_shift(2),y.read_shift(4)}function parse_DefaultRowHeight(y,x,r){var b=0;r&&r.biff==2||(b=y.read_shift(2));var M=y.read_shift(2);r&&r.biff==2&&(b=1-(M>>15),M&=32767);var z={Unsynced:b&1,DyZero:(b&2)>>1,ExAsc:(b&4)>>2,ExDsc:(b&8)>>3};return[z,M]}function parse_Window1(y){var x=y.read_shift(2),r=y.read_shift(2),b=y.read_shift(2),M=y.read_shift(2),z=y.read_shift(2),B=y.read_shift(2),R=y.read_shift(2),I=y.read_shift(2),O=y.read_shift(2);return{Pos:[x,r],Dim:[b,M],Flags:z,CurTab:B,FirstTab:R,Selected:I,TabRatio:O}}function write_Window1(){var y=new_buf(18);return y.write_shift(2,0),y.write_shift(2,0),y.write_shift(2,29280),y.write_shift(2,17600),y.write_shift(2,56),y.write_shift(2,0),y.write_shift(2,0),y.write_shift(2,1),y.write_shift(2,500),y}function parse_Window2(y,x,r){if(r&&r.biff>=2&&r.biff<5)return{};var b=y.read_shift(2);return{RTL:b&64}}function write_Window2(y){var x=new_buf(18),r=1718;return y&&y.RTL&&(r|=64),x.write_shift(2,r),x.write_shift(4,0),x.write_shift(4,64),x.write_shift(4,0),x.write_shift(4,0),x}function parse_Pane(){}function parse_Font(y,x,r){var b={dyHeight:y.read_shift(2),fl:y.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:y.l+=2;break;default:y.l+=10;break}return b.name=parse_ShortXLUnicodeString(y,0,r),b}function write_Font(y,x){var r=y.name||"Arial",b=x&&x.biff==5,M=b?15+r.length:16+2*r.length,z=new_buf(M);return z.write_shift(2,y.sz*20),z.write_shift(4,0),z.write_shift(2,400),z.write_shift(4,0),z.write_shift(2,0),z.write_shift(1,r.length),b||z.write_shift(1,1),z.write_shift((b?1:2)*r.length,r,b?"sbcs":"utf16le"),z}function parse_LabelSst(y){var x=parse_XLSCell(y);return x.isst=y.read_shift(4),x}function write_LabelSst(y,x,r,b){var M=new_buf(10);return write_XLSCell(y,x,b,M),M.write_shift(4,r),M}function parse_Label(y,x,r){r.biffguess&&r.biff==2&&(r.biff=5);var b=y.l+x,M=parse_XLSCell(y);r.biff==2&&y.l++;var z=parse_XLUnicodeString(y,b-y.l,r);return M.val=z,M}function write_Label(y,x,r,b,M){var z=!M||M.biff==8,B=new_buf(8+ +z+(1+z)*r.length);return write_XLSCell(y,x,b,B),B.write_shift(2,r.length),z&&B.write_shift(1,1),B.write_shift((1+z)*r.length,r,z?"utf16le":"sbcs"),B}function parse_Format(y,x,r){var b=y.read_shift(2),M=parse_XLUnicodeString2(y,0,r);return[b,M]}function write_Format(y,x,r,b){var M=r&&r.biff==5;b||(b=new_buf(M?3+x.length:5+2*x.length)),b.write_shift(2,y),b.write_shift(M?1:2,x.length),M||b.write_shift(1,1),b.write_shift((M?1:2)*x.length,x,M?"sbcs":"utf16le");var z=b.length>b.l?b.slice(0,b.l):b;return z.l==null&&(z.l=z.length),z}var parse_BIFF2Format=parse_XLUnicodeString2;function parse_Dimensions(y,x,r){var b=y.l+x,M=r.biff==8||!r.biff?4:2,z=y.read_shift(M),B=y.read_shift(M),R=y.read_shift(2),I=y.read_shift(2);return y.l=b,{s:{r:z,c:R},e:{r:B,c:I}}}function write_Dimensions(y,x){var r=x.biff==8||!x.biff?4:2,b=new_buf(2*r+6);return b.write_shift(r,y.s.r),b.write_shift(r,y.e.r+1),b.write_shift(2,y.s.c),b.write_shift(2,y.e.c+1),b.write_shift(2,0),b}function parse_RK(y){var x=y.read_shift(2),r=y.read_shift(2),b=parse_RkRec(y);return{r:x,c:r,ixfe:b[0],rknum:b[1]}}function parse_MulRk(y,x){for(var r=y.l+x-2,b=y.read_shift(2),M=y.read_shift(2),z=[];y.l<r;)z.push(parse_RkRec(y));if(y.l!==r)throw new Error("MulRK read error");var B=y.read_shift(2);if(z.length!=B-M+1)throw new Error("MulRK length mismatch");return{r:b,c:M,C:B,rkrec:z}}function parse_MulBlank(y,x){for(var r=y.l+x-2,b=y.read_shift(2),M=y.read_shift(2),z=[];y.l<r;)z.push(y.read_shift(2));if(y.l!==r)throw new Error("MulBlank read error");var B=y.read_shift(2);if(z.length!=B-M+1)throw new Error("MulBlank length mismatch");return{r:b,c:M,C:B,ixfe:z}}function parse_CellStyleXF(y,x,r,b){var M={},z=y.read_shift(4),B=y.read_shift(4),R=y.read_shift(4),I=y.read_shift(2);return M.patternType=XLSFillPattern[R>>26],b.cellStyles&&(M.alc=z&7,M.fWrap=z>>3&1,M.alcV=z>>4&7,M.fJustLast=z>>7&1,M.trot=z>>8&255,M.cIndent=z>>16&15,M.fShrinkToFit=z>>20&1,M.iReadOrder=z>>22&2,M.fAtrNum=z>>26&1,M.fAtrFnt=z>>27&1,M.fAtrAlc=z>>28&1,M.fAtrBdr=z>>29&1,M.fAtrPat=z>>30&1,M.fAtrProt=z>>31&1,M.dgLeft=B&15,M.dgRight=B>>4&15,M.dgTop=B>>8&15,M.dgBottom=B>>12&15,M.icvLeft=B>>16&127,M.icvRight=B>>23&127,M.grbitDiag=B>>30&3,M.icvTop=R&127,M.icvBottom=R>>7&127,M.icvDiag=R>>14&127,M.dgDiag=R>>21&15,M.icvFore=I&127,M.icvBack=I>>7&127,M.fsxButton=I>>14&1),M}function parse_XF(y,x,r){var b={};return b.ifnt=y.read_shift(2),b.numFmtId=y.read_shift(2),b.flags=y.read_shift(2),b.fStyle=b.flags>>2&1,x-=6,b.data=parse_CellStyleXF(y,x,b.fStyle,r),b}function write_XF(y,x,r,b){var M=r&&r.biff==5;b||(b=new_buf(M?16:20)),b.write_shift(2,0),y.style?(b.write_shift(2,y.numFmtId||0),b.write_shift(2,65524)):(b.write_shift(2,y.numFmtId||0),b.write_shift(2,x<<4));var z=0;return y.numFmtId>0&&M&&(z|=1024),b.write_shift(4,z),b.write_shift(4,0),M||b.write_shift(4,0),b.write_shift(2,0),b}function parse_Guts(y){y.l+=4;var x=[y.read_shift(2),y.read_shift(2)];if(x[0]!==0&&x[0]--,x[1]!==0&&x[1]--,x[0]>7||x[1]>7)throw new Error("Bad Gutters: "+x.join("|"));return x}function write_Guts(y){var x=new_buf(8);return x.write_shift(4,0),x.write_shift(2,0),x.write_shift(2,0),x}function parse_BoolErr(y,x,r){var b=parse_XLSCell(y);(r.biff==2||x==9)&&++y.l;var M=parse_Bes(y);return b.val=M,b.t=M===!0||M===!1?"b":"e",b}function write_BoolErr(y,x,r,b,M,z){var B=new_buf(8);return write_XLSCell(y,x,b,B),write_Bes(r,z,B),B}function parse_Number(y,x,r){r.biffguess&&r.biff==2&&(r.biff=5);var b=parse_XLSCell(y),M=parse_Xnum(y);return b.val=M,b}function write_Number(y,x,r,b){var M=new_buf(14);return write_XLSCell(y,x,b,M),write_Xnum(r,M),M}var parse_XLHeaderFooter=parse_OptXLUnicodeString;function parse_SupBook(y,x,r){var b=y.l+x,M=y.read_shift(2),z=y.read_shift(2);if(r.sbcch=z,z==1025||z==14849)return[z,M];if(z<1||z>255)throw new Error("Unexpected SupBook type: "+z);for(var B=parse_XLUnicodeStringNoCch(y,z),R=[];b>y.l;)R.push(parse_XLUnicodeString(y));return[z,M,B,R]}function parse_ExternName(y,x,r){var b=y.read_shift(2),M,z={fBuiltIn:b&1,fWantAdvise:b>>>1&1,fWantPict:b>>>2&1,fOle:b>>>3&1,fOleLink:b>>>4&1,cf:b>>>5&1023,fIcon:b>>>15&1};return r.sbcch===14849&&(M=parse_AddinUdf(y,x-2,r)),z.body=M||y.read_shift(x-2),typeof M=="string"&&(z.Name=M),z}var XLSLblBuiltIn=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function parse_Lbl(y,x,r){var b=y.l+x,M=y.read_shift(2),z=y.read_shift(1),B=y.read_shift(1),R=y.read_shift(r&&r.biff==2?1:2),I=0;(!r||r.biff>=5)&&(r.biff!=5&&(y.l+=2),I=y.read_shift(2),r.biff==5&&(y.l+=2),y.l+=4);var O=parse_XLUnicodeStringNoCch(y,B,r);M&32&&(O=XLSLblBuiltIn[O.charCodeAt(0)]);var A=b-y.l;r&&r.biff==2&&--A;var T=b==y.l||R===0||!(A>0)?[]:parse_NameParsedFormula(y,A,r,R);return{chKey:z,Name:O,itab:I,rgce:T}}function parse_ExternSheet(y,x,r){if(r.biff<8)return parse_BIFF5ExternSheet(y,x,r);for(var b=[],M=y.l+x,z=y.read_shift(r.biff>8?4:2);z--!==0;)b.push(parse_XTI(y,r.biff>8?12:6,r));if(y.l!=M)throw new Error("Bad ExternSheet: "+y.l+" != "+M);return b}function parse_BIFF5ExternSheet(y,x,r){y[y.l+1]==3&&y[y.l]++;var b=parse_ShortXLUnicodeString(y,x,r);return b.charCodeAt(0)==3?b.slice(1):b}function parse_NameCmt(y,x,r){if(r.biff<8){y.l+=x;return}var b=y.read_shift(2),M=y.read_shift(2),z=parse_XLUnicodeStringNoCch(y,b,r),B=parse_XLUnicodeStringNoCch(y,M,r);return[z,B]}function parse_ShrFmla(y,x,r){var b=parse_RefU(y);y.l++;var M=y.read_shift(1);return x-=8,[parse_SharedParsedFormula(y,x,r),M,b]}function parse_Array(y,x,r){var b=parse_Ref(y);switch(r.biff){case 2:y.l++,x-=7;break;case 3:case 4:y.l+=2,x-=8;break;default:y.l+=6,x-=12}return[b,parse_ArrayParsedFormula(y,x,r)]}function parse_MTRSettings(y){var x=y.read_shift(4)!==0,r=y.read_shift(4)!==0,b=y.read_shift(4);return[x,r,b]}function parse_NoteSh(y,x,r){if(!(r.biff<8)){var b=y.read_shift(2),M=y.read_shift(2),z=y.read_shift(2),B=y.read_shift(2),R=parse_XLUnicodeString2(y,0,r);return r.biff<8&&y.read_shift(1),[{r:b,c:M},R,B,z]}}function parse_Note(y,x,r){return parse_NoteSh(y,x,r)}function parse_MergeCells(y,x){for(var r=[],b=y.read_shift(2);b--;)r.push(parse_Ref8U(y));return r}function write_MergeCells(y){var x=new_buf(2+y.length*8);x.write_shift(2,y.length);for(var r=0;r<y.length;++r)write_Ref8U(y[r],x);return x}function parse_Obj(y,x,r){if(r&&r.biff<8)return parse_BIFF5Obj(y,x,r);var b=parse_FtCmo(y),M=parse_FtArray(y,x-22,b[1]);return{cmo:b,ft:M}}var parse_BIFF5OT={8:function(y,x){var r=y.l+x;y.l+=10;var b=y.read_shift(2);y.l+=4,y.l+=2,y.l+=2,y.l+=2,y.l+=4;var M=y.read_shift(1);return y.l+=M,y.l=r,{fmt:b}}};function parse_BIFF5Obj(y,x,r){y.l+=4;var b=y.read_shift(2),M=y.read_shift(2),z=y.read_shift(2);y.l+=2,y.l+=2,y.l+=2,y.l+=2,y.l+=2,y.l+=2,y.l+=2,y.l+=2,y.l+=2,y.l+=6,x-=36;var B=[];return B.push((parse_BIFF5OT[b]||parsenoop)(y,x,r)),{cmo:[M,b,z],ft:B}}function parse_TxO(y,x,r){var b=y.l,M="";try{y.l+=4;var z=(r.lastobj||{cmo:[0,0]}).cmo[1],B;[0,5,7,11,12,14].indexOf(z)==-1?y.l+=6:B=parse_ControlInfo(y,6,r);var R=y.read_shift(2);y.read_shift(2),parseuint16(y,2);var I=y.read_shift(2);y.l+=I;for(var O=1;O<y.lens.length-1;++O){if(y.l-b!=y.lens[O])throw new Error("TxO: bad continue record");var A=y[y.l],T=parse_XLUnicodeStringNoCch(y,y.lens[O+1]-y.lens[O]-1);if(M+=T,M.length>=(A?R:2*R))break}if(M.length!==R&&M.length!==R*2)throw new Error("cchText: "+R+" != "+M.length);return y.l=b+x,{t:M}}catch{return y.l=b+x,{t:M}}}function parse_HLink(y,x){var r=parse_Ref8U(y);y.l+=16;var b=parse_Hyperlink(y,x-24);return[r,b]}function write_HLink(y){var x=new_buf(24),r=decode_cell(y[0]);x.write_shift(2,r.r),x.write_shift(2,r.r),x.write_shift(2,r.c),x.write_shift(2,r.c);for(var b="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),M=0;M<16;++M)x.write_shift(1,parseInt(b[M],16));return bconcat([x,write_Hyperlink(y[1])])}function parse_HLinkTooltip(y,x){y.read_shift(2);var r=parse_Ref8U(y),b=y.read_shift((x-10)/2,"dbcs-cont");return b=b.replace(chr0,""),[r,b]}function write_HLinkTooltip(y){var x=y[1].Tooltip,r=new_buf(10+2*(x.length+1));r.write_shift(2,2048);var b=decode_cell(y[0]);r.write_shift(2,b.r),r.write_shift(2,b.r),r.write_shift(2,b.c),r.write_shift(2,b.c);for(var M=0;M<x.length;++M)r.write_shift(2,x.charCodeAt(M));return r.write_shift(2,0),r}function parse_Country(y){var x=[0,0],r;return r=y.read_shift(2),x[0]=CountryEnum[r]||r,r=y.read_shift(2),x[1]=CountryEnum[r]||r,x}function write_Country(y){return y||(y=new_buf(4)),y.write_shift(2,1),y.write_shift(2,1),y}function parse_ClrtClient(y){for(var x=y.read_shift(2),r=[];x-- >0;)r.push(parse_LongRGB(y));return r}function parse_Palette(y){for(var x=y.read_shift(2),r=[];x-- >0;)r.push(parse_LongRGB(y));return r}function parse_XFCRC(y){y.l+=2;var x={cxfs:0,crc:0};return x.cxfs=y.read_shift(2),x.crc=y.read_shift(4),x}function parse_ColInfo(y,x,r){if(!r.cellStyles)return parsenoop(y,x);var b=r&&r.biff>=12?4:2,M=y.read_shift(b),z=y.read_shift(b),B=y.read_shift(b),R=y.read_shift(b),I=y.read_shift(2);b==2&&(y.l+=2);var O={s:M,e:z,w:B,ixfe:R,flags:I};return(r.biff>=5||!r.biff)&&(O.level=I>>8&7),O}function write_ColInfo(y,x){var r=new_buf(12);r.write_shift(2,x),r.write_shift(2,x),r.write_shift(2,y.width*256),r.write_shift(2,0);var b=0;return y.hidden&&(b|=1),r.write_shift(1,b),b=y.level||0,r.write_shift(1,b),r.write_shift(2,0),r}function parse_Setup(y,x){var r={};return x<32||(y.l+=16,r.header=parse_Xnum(y),r.footer=parse_Xnum(y),y.l+=2),r}function parse_ShtProps(y,x,r){var b={area:!1};if(r.biff!=5)return y.l+=x,b;var M=y.read_shift(1);return y.l+=3,M&16&&(b.area=!0),b}function write_RRTabId(y){for(var x=new_buf(2*y),r=0;r<y;++r)x.write_shift(2,r+1);return x}var parse_Blank=parse_XLSCell,parse_Scl=parseuint16a,parse_String=parse_XLUnicodeString;function parse_ImData(y){var x=y.read_shift(2),r=y.read_shift(2),b=y.read_shift(4),M={fmt:x,env:r,len:b,data:y.slice(y.l,y.l+b)};return y.l+=b,M}function parse_BIFF2STR(y,x,r){r.biffguess&&r.biff==5&&(r.biff=2);var b=parse_XLSCell(y);++y.l;var M=parse_XLUnicodeString2(y,x-7,r);return b.t="str",b.val=M,b}function parse_BIFF2NUM(y){var x=parse_XLSCell(y);++y.l;var r=parse_Xnum(y);return x.t="n",x.val=r,x}function write_BIFF2NUM(y,x,r){var b=new_buf(15);return write_BIFF2Cell(b,y,x),b.write_shift(8,r,"f"),b}function parse_BIFF2INT(y){var x=parse_XLSCell(y);++y.l;var r=y.read_shift(2);return x.t="n",x.val=r,x}function write_BIFF2INT(y,x,r){var b=new_buf(9);return write_BIFF2Cell(b,y,x),b.write_shift(2,r),b}function parse_BIFF2STRING(y){var x=y.read_shift(1);return x===0?(y.l++,""):y.read_shift(x,"sbcs-cont")}function parse_BIFF2FONTXTRA(y,x){y.l+=6,y.l+=2,y.l+=1,y.l+=3,y.l+=1,y.l+=x-13}function parse_RString(y,x,r){var b=y.l+x,M=parse_XLSCell(y),z=y.read_shift(2),B=parse_XLUnicodeStringNoCch(y,z,r);return y.l=b,M.t="str",M.val=B,M}var DBF_SUPPORTED_VERSIONS=[2,3,48,49,131,139,140,245],DBF=(function(){var y={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},x=evert({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(R,I){var O=[],A=new_raw_buf(1);switch(I.type){case"base64":A=s2a(Base64_decode(R));break;case"binary":A=s2a(R);break;case"buffer":case"array":A=R;break}prep_blob(A,0);var T=A.read_shift(1),U=!!(T&136),q=!1,K=!1;switch(T){case 2:break;case 3:break;case 48:q=!0,U=!0;break;case 49:q=!0,U=!0;break;case 131:break;case 139:break;case 140:K=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+T.toString(16))}var J=0,te=521;T==2&&(J=A.read_shift(2)),A.l+=3,T!=2&&(J=A.read_shift(4)),J>1048576&&(J=1e6),T!=2&&(te=A.read_shift(2));var oe=A.read_shift(2),ue=I.codepage||1252;T!=2&&(A.l+=16,A.read_shift(1),A[A.l]!==0&&(ue=y[A[A.l]]),A.l+=1,A.l+=2),K&&(A.l+=36);for(var fe=[],Le={},Ge=Math.min(A.length,T==2?521:te-10-(q?264:0)),ze=K?32:11;A.l<Ge&&A[A.l]!=13;)switch(Le={},Le.name=$cptable.utils.decode(ue,A.slice(A.l,A.l+ze)).replace(/[\u0000\r\n].*$/g,""),A.l+=ze,Le.type=String.fromCharCode(A.read_shift(1)),T!=2&&!K&&(Le.offset=A.read_shift(4)),Le.len=A.read_shift(1),T==2&&(Le.offset=A.read_shift(2)),Le.dec=A.read_shift(1),Le.name.length&&fe.push(Le),T!=2&&(A.l+=K?13:14),Le.type){case"B":(!q||Le.len!=8)&&I.WTF&&console.log("Skipping "+Le.name+":"+Le.type);break;case"G":case"P":I.WTF&&console.log("Skipping "+Le.name+":"+Le.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+Le.type)}if(A[A.l]!==13&&(A.l=te-1),A.read_shift(1)!==13)throw new Error("DBF Terminator not found "+A.l+" "+A[A.l]);A.l=te;var je=0,Be=0;for(O[0]=[],Be=0;Be!=fe.length;++Be)O[0][Be]=fe[Be].name;for(;J-- >0;){if(A[A.l]===42){A.l+=oe;continue}for(++A.l,O[++je]=[],Be=0,Be=0;Be!=fe.length;++Be){var _e=A.slice(A.l,A.l+fe[Be].len);A.l+=fe[Be].len,prep_blob(_e,0);var He=$cptable.utils.decode(ue,_e);switch(fe[Be].type){case"C":He.trim().length&&(O[je][Be]=He.replace(/\s+$/,""));break;case"D":He.length===8?O[je][Be]=new Date(+He.slice(0,4),+He.slice(4,6)-1,+He.slice(6,8)):O[je][Be]=He;break;case"F":O[je][Be]=parseFloat(He.trim());break;case"+":case"I":O[je][Be]=K?_e.read_shift(-4,"i")^2147483648:_e.read_shift(4,"i");break;case"L":switch(He.trim().toUpperCase()){case"Y":case"T":O[je][Be]=!0;break;case"N":case"F":O[je][Be]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+He+"|")}break;case"M":if(!U)throw new Error("DBF Unexpected MEMO for type "+T.toString(16));O[je][Be]="##MEMO##"+(K?parseInt(He.trim(),10):_e.read_shift(4));break;case"N":He=He.replace(/\u0000/g,"").trim(),He&&He!="."&&(O[je][Be]=+He||0);break;case"@":O[je][Be]=new Date(_e.read_shift(-8,"f")-621356832e5);break;case"T":O[je][Be]=new Date((_e.read_shift(4)-2440588)*864e5+_e.read_shift(4));break;case"Y":O[je][Be]=_e.read_shift(4,"i")/1e4+_e.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":O[je][Be]=-_e.read_shift(-8,"f");break;case"B":if(q&&fe[Be].len==8){O[je][Be]=_e.read_shift(8,"f");break}case"G":case"P":_e.l+=fe[Be].len;break;case"0":if(fe[Be].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+fe[Be].type)}}}if(T!=2&&A.l<A.length&&A[A.l++]!=26)throw new Error("DBF EOF Marker missing "+(A.l-1)+" of "+A.length+" "+A[A.l-1].toString(16));return I&&I.sheetRows&&(O=O.slice(0,I.sheetRows)),I.DBF=fe,O}function b(R,I){var O=I||{};O.dateNF||(O.dateNF="yyyymmdd");var A=aoa_to_sheet(r(R,O),O);return A["!cols"]=O.DBF.map(function(T){return{wch:T.len,DBF:T}}),delete O.DBF,A}function M(R,I){try{return sheet_to_workbook(b(R,I),I)}catch(O){if(I&&I.WTF)throw O}return{SheetNames:[],Sheets:{}}}var z={B:8,C:250,L:1,D:8,"?":0,"":0};function B(R,I){var O=I||{};if(+O.codepage>=0&&set_cp(+O.codepage),O.type=="string")throw new Error("Cannot write DBF to JS string");var A=buf_array(),T=sheet_to_json(R,{header:1,raw:!0,cellDates:!0}),U=T[0],q=T.slice(1),K=R["!cols"]||[],J=0,te=0,oe=0,ue=1;for(J=0;J<U.length;++J){if(((K[J]||{}).DBF||{}).name){U[J]=K[J].DBF.name,++oe;continue}if(U[J]!=null){if(++oe,typeof U[J]=="number"&&(U[J]=U[J].toString(10)),typeof U[J]!="string")throw new Error("DBF Invalid column name "+U[J]+" |"+typeof U[J]+"|");if(U.indexOf(U[J])!==J){for(te=0;te<1024;++te)if(U.indexOf(U[J]+"_"+te)==-1){U[J]+="_"+te;break}}}}var fe=safe_decode_range(R["!ref"]),Le=[],Ge=[],ze=[];for(J=0;J<=fe.e.c-fe.s.c;++J){var je="",Be="",_e=0,He=[];for(te=0;te<q.length;++te)q[te][J]!=null&&He.push(q[te][J]);if(He.length==0||U[J]==null){Le[J]="?";continue}for(te=0;te<He.length;++te){switch(typeof He[te]){case"number":Be="B";break;case"string":Be="C";break;case"boolean":Be="L";break;case"object":Be=He[te]instanceof Date?"D":"C";break;default:Be="C"}_e=Math.max(_e,String(He[te]).length),je=je&&je!=Be?"C":Be}_e>250&&(_e=250),Be=((K[J]||{}).DBF||{}).type,Be=="C"&&K[J].DBF.len>_e&&(_e=K[J].DBF.len),je=="B"&&Be=="N"&&(je="N",ze[J]=K[J].DBF.dec,_e=K[J].DBF.len),Ge[J]=je=="C"||Be=="N"?_e:z[je]||0,ue+=Ge[J],Le[J]=je}var tt=A.next(32);for(tt.write_shift(4,318902576),tt.write_shift(4,q.length),tt.write_shift(2,296+32*oe),tt.write_shift(2,ue),J=0;J<4;++J)tt.write_shift(4,0);for(tt.write_shift(4,0|(+x[current_ansi]||3)<<8),J=0,te=0;J<U.length;++J)if(U[J]!=null){var Ke=A.next(32),Ze=(U[J].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);Ke.write_shift(1,Ze,"sbcs"),Ke.write_shift(1,Le[J]=="?"?"C":Le[J],"sbcs"),Ke.write_shift(4,te),Ke.write_shift(1,Ge[J]||z[Le[J]]||0),Ke.write_shift(1,ze[J]||0),Ke.write_shift(1,2),Ke.write_shift(4,0),Ke.write_shift(1,0),Ke.write_shift(4,0),Ke.write_shift(4,0),te+=Ge[J]||z[Le[J]]||0}var Qe=A.next(264);for(Qe.write_shift(4,13),J=0;J<65;++J)Qe.write_shift(4,0);for(J=0;J<q.length;++J){var vt=A.next(ue);for(vt.write_shift(1,0),te=0;te<U.length;++te)if(U[te]!=null)switch(Le[te]){case"L":vt.write_shift(1,q[J][te]==null?63:q[J][te]?84:70);break;case"B":vt.write_shift(8,q[J][te]||0,"f");break;case"N":var pt="0";for(typeof q[J][te]=="number"&&(pt=q[J][te].toFixed(ze[te]||0)),oe=0;oe<Ge[te]-pt.length;++oe)vt.write_shift(1,32);vt.write_shift(1,pt,"sbcs");break;case"D":q[J][te]?(vt.write_shift(4,("0000"+q[J][te].getFullYear()).slice(-4),"sbcs"),vt.write_shift(2,("00"+(q[J][te].getMonth()+1)).slice(-2),"sbcs"),vt.write_shift(2,("00"+q[J][te].getDate()).slice(-2),"sbcs")):vt.write_shift(8,"00000000","sbcs");break;case"C":var ut=String(q[J][te]!=null?q[J][te]:"").slice(0,Ge[te]);for(vt.write_shift(1,ut,"sbcs"),oe=0;oe<Ge[te]-ut.length;++oe)vt.write_shift(1,32);break}}return A.next(1).write_shift(1,26),A.end()}return{to_workbook:M,to_sheet:b,from_sheet:B}})(),SYLK=(function(){var y={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},x=new RegExp("\x1BN("+keys(y).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(U,q){var K=y[q];return typeof K=="number"?_getansi(K):K},b=function(U,q,K){var J=q.charCodeAt(0)-32<<4|K.charCodeAt(0)-48;return J==59?U:_getansi(J)};y["|"]=254;function M(U,q){switch(q.type){case"base64":return z(Base64_decode(U),q);case"binary":return z(U,q);case"buffer":return z(has_buf&&Buffer.isBuffer(U)?U.toString("binary"):a2s(U),q);case"array":return z(cc2str(U),q)}throw new Error("Unrecognized type "+q.type)}function z(U,q){var K=U.split(/[\n\r]+/),J=-1,te=-1,oe=0,ue=0,fe=[],Le=[],Ge=null,ze={},je=[],Be=[],_e=[],He=0,tt;for(+q.codepage>=0&&set_cp(+q.codepage);oe!==K.length;++oe){He=0;var Ke=K[oe].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,b).replace(x,r),Ze=Ke.replace(/;;/g,"\0").split(";").map(function(Dt){return Dt.replace(/\u0000/g,";")}),Qe=Ze[0],vt;if(Ke.length>0)switch(Qe){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":Ze[1].charAt(0)=="P"&&Le.push(Ke.slice(3).replace(/;;/g,";"));break;case"C":var pt=!1,ut=!1,Mt=!1,bt=!1,ar=-1,dt=-1;for(ue=1;ue<Ze.length;++ue)switch(Ze[ue].charAt(0)){case"A":break;case"X":te=parseInt(Ze[ue].slice(1))-1,ut=!0;break;case"Y":for(J=parseInt(Ze[ue].slice(1))-1,ut||(te=0),tt=fe.length;tt<=J;++tt)fe[tt]=[];break;case"K":vt=Ze[ue].slice(1),vt.charAt(0)==='"'?vt=vt.slice(1,vt.length-1):vt==="TRUE"?vt=!0:vt==="FALSE"?vt=!1:isNaN(fuzzynum(vt))?isNaN(fuzzydate(vt).getDate())||(vt=parseDate(vt)):(vt=fuzzynum(vt),Ge!==null&&fmt_is_date(Ge)&&(vt=numdate(vt))),pt=!0;break;case"E":bt=!0;var yt=rc_to_a1(Ze[ue].slice(1),{r:J,c:te});fe[J][te]=[fe[J][te],yt];break;case"S":Mt=!0,fe[J][te]=[fe[J][te],"S5S"];break;case"G":break;case"R":ar=parseInt(Ze[ue].slice(1))-1;break;case"C":dt=parseInt(Ze[ue].slice(1))-1;break;default:if(q&&q.WTF)throw new Error("SYLK bad record "+Ke)}if(pt&&(fe[J][te]&&fe[J][te].length==2?fe[J][te][0]=vt:fe[J][te]=vt,Ge=null),Mt){if(bt)throw new Error("SYLK shared formula cannot have own formula");var Gt=ar>-1&&fe[ar][dt];if(!Gt||!Gt[1])throw new Error("SYLK shared formula cannot find base");fe[J][te][1]=shift_formula_str(Gt[1],{r:J-ar,c:te-dt})}break;case"F":var Bt=0;for(ue=1;ue<Ze.length;++ue)switch(Ze[ue].charAt(0)){case"X":te=parseInt(Ze[ue].slice(1))-1,++Bt;break;case"Y":for(J=parseInt(Ze[ue].slice(1))-1,tt=fe.length;tt<=J;++tt)fe[tt]=[];break;case"M":He=parseInt(Ze[ue].slice(1))/20;break;case"F":break;case"G":break;case"P":Ge=Le[parseInt(Ze[ue].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(_e=Ze[ue].slice(1).split(" "),tt=parseInt(_e[0],10);tt<=parseInt(_e[1],10);++tt)He=parseInt(_e[2],10),Be[tt-1]=He===0?{hidden:!0}:{wch:He},process_col(Be[tt-1]);break;case"C":te=parseInt(Ze[ue].slice(1))-1,Be[te]||(Be[te]={});break;case"R":J=parseInt(Ze[ue].slice(1))-1,je[J]||(je[J]={}),He>0?(je[J].hpt=He,je[J].hpx=pt2px(He)):He===0&&(je[J].hidden=!0);break;default:if(q&&q.WTF)throw new Error("SYLK bad record "+Ke)}Bt<1&&(Ge=null);break;default:if(q&&q.WTF)throw new Error("SYLK bad record "+Ke)}}return je.length>0&&(ze["!rows"]=je),Be.length>0&&(ze["!cols"]=Be),q&&q.sheetRows&&(fe=fe.slice(0,q.sheetRows)),[fe,ze]}function B(U,q){var K=M(U,q),J=K[0],te=K[1],oe=aoa_to_sheet(J,q);return keys(te).forEach(function(ue){oe[ue]=te[ue]}),oe}function R(U,q){return sheet_to_workbook(B(U,q),q)}function I(U,q,K,J){var te="C;Y"+(K+1)+";X"+(J+1)+";K";switch(U.t){case"n":te+=U.v||0,U.f&&!U.F&&(te+=";E"+a1_to_rc(U.f,{r:K,c:J}));break;case"b":te+=U.v?"TRUE":"FALSE";break;case"e":te+=U.w||U.v;break;case"d":te+='"'+(U.w||U.v)+'"';break;case"s":te+='"'+U.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return te}function O(U,q){q.forEach(function(K,J){var te="F;W"+(J+1)+" "+(J+1)+" ";K.hidden?te+="0":(typeof K.width=="number"&&!K.wpx&&(K.wpx=width2px(K.width)),typeof K.wpx=="number"&&!K.wch&&(K.wch=px2char(K.wpx)),typeof K.wch=="number"&&(te+=Math.round(K.wch))),te.charAt(te.length-1)!=" "&&U.push(te)})}function A(U,q){q.forEach(function(K,J){var te="F;";K.hidden?te+="M0;":K.hpt?te+="M"+20*K.hpt+";":K.hpx&&(te+="M"+20*px2pt(K.hpx)+";"),te.length>2&&U.push(te+"R"+(J+1))})}function T(U,q){var K=["ID;PWXL;N;E"],J=[],te=safe_decode_range(U["!ref"]),oe,ue=Array.isArray(U),fe=`\r
`;K.push("P;PGeneral"),K.push("F;P0;DG0G8;M255"),U["!cols"]&&O(K,U["!cols"]),U["!rows"]&&A(K,U["!rows"]),K.push("B;Y"+(te.e.r-te.s.r+1)+";X"+(te.e.c-te.s.c+1)+";D"+[te.s.c,te.s.r,te.e.c,te.e.r].join(" "));for(var Le=te.s.r;Le<=te.e.r;++Le)for(var Ge=te.s.c;Ge<=te.e.c;++Ge){var ze=encode_cell({r:Le,c:Ge});oe=ue?(U[Le]||[])[Ge]:U[ze],!(!oe||oe.v==null&&(!oe.f||oe.F))&&J.push(I(oe,U,Le,Ge))}return K.join(fe)+fe+J.join(fe)+fe+"E"+fe}return{to_workbook:R,to_sheet:B,from_sheet:T}})(),DIF=(function(){function y(z,B){switch(B.type){case"base64":return x(Base64_decode(z),B);case"binary":return x(z,B);case"buffer":return x(has_buf&&Buffer.isBuffer(z)?z.toString("binary"):a2s(z),B);case"array":return x(cc2str(z),B)}throw new Error("Unrecognized type "+B.type)}function x(z,B){for(var R=z.split(`
`),I=-1,O=-1,A=0,T=[];A!==R.length;++A){if(R[A].trim()==="BOT"){T[++I]=[],O=0;continue}if(!(I<0)){var U=R[A].trim().split(","),q=U[0],K=U[1];++A;for(var J=R[A]||"";(J.match(/["]/g)||[]).length&1&&A<R.length-1;)J+=`
`+R[++A];switch(J=J.trim(),+q){case-1:if(J==="BOT"){T[++I]=[],O=0;continue}else if(J!=="EOD")throw new Error("Unrecognized DIF special command "+J);break;case 0:J==="TRUE"?T[I][O]=!0:J==="FALSE"?T[I][O]=!1:isNaN(fuzzynum(K))?isNaN(fuzzydate(K).getDate())?T[I][O]=K:T[I][O]=parseDate(K):T[I][O]=fuzzynum(K),++O;break;case 1:J=J.slice(1,J.length-1),J=J.replace(/""/g,'"'),J&&J.match(/^=".*"$/)&&(J=J.slice(2,-1)),T[I][O++]=J!==""?J:null;break}if(J==="EOD")break}}return B&&B.sheetRows&&(T=T.slice(0,B.sheetRows)),T}function r(z,B){return aoa_to_sheet(y(z,B),B)}function b(z,B){return sheet_to_workbook(r(z,B),B)}var M=(function(){var z=function(I,O,A,T,U){I.push(O),I.push(A+","+T),I.push('"'+U.replace(/"/g,'""')+'"')},B=function(I,O,A,T){I.push(O+","+A),I.push(O==1?'"'+T.replace(/"/g,'""')+'"':T)};return function(I){var O=[],A=safe_decode_range(I["!ref"]),T,U=Array.isArray(I);z(O,"TABLE",0,1,"sheetjs"),z(O,"VECTORS",0,A.e.r-A.s.r+1,""),z(O,"TUPLES",0,A.e.c-A.s.c+1,""),z(O,"DATA",0,0,"");for(var q=A.s.r;q<=A.e.r;++q){B(O,-1,0,"BOT");for(var K=A.s.c;K<=A.e.c;++K){var J=encode_cell({r:q,c:K});if(T=U?(I[q]||[])[K]:I[J],!T){B(O,1,0,"");continue}switch(T.t){case"n":var te=T.w;!te&&T.v!=null&&(te=T.v),te==null?T.f&&!T.F?B(O,1,0,"="+T.f):B(O,1,0,""):B(O,0,te,"V");break;case"b":B(O,0,T.v?1:0,T.v?"TRUE":"FALSE");break;case"s":B(O,1,0,isNaN(T.v)?T.v:'="'+T.v+'"');break;case"d":T.w||(T.w=SSF_format(T.z||table_fmt[14],datenum(parseDate(T.v)))),B(O,0,T.w,"V");break;default:B(O,1,0,"")}}}B(O,-1,0,"EOD");var oe=`\r
`,ue=O.join(oe);return ue}})();return{to_workbook:b,to_sheet:r,from_sheet:M}})(),ETH=(function(){function y(T){return T.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function x(T){return T.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(T,U){for(var q=T.split(`
`),K=-1,J=-1,te=0,oe=[];te!==q.length;++te){var ue=q[te].trim().split(":");if(ue[0]==="cell"){var fe=decode_cell(ue[1]);if(oe.length<=fe.r)for(K=oe.length;K<=fe.r;++K)oe[K]||(oe[K]=[]);switch(K=fe.r,J=fe.c,ue[2]){case"t":oe[K][J]=y(ue[3]);break;case"v":oe[K][J]=+ue[3];break;case"vtf":var Le=ue[ue.length-1];case"vtc":switch(ue[3]){case"nl":oe[K][J]=!!+ue[4];break;default:oe[K][J]=+ue[4];break}ue[2]=="vtf"&&(oe[K][J]=[oe[K][J],Le])}}}return U&&U.sheetRows&&(oe=oe.slice(0,U.sheetRows)),oe}function b(T,U){return aoa_to_sheet(r(T,U),U)}function M(T,U){return sheet_to_workbook(b(T,U),U)}var z=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),B=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,R=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),I="--SocialCalcSpreadsheetControlSave--";function O(T){if(!T||!T["!ref"])return"";for(var U=[],q=[],K,J="",te=decode_range(T["!ref"]),oe=Array.isArray(T),ue=te.s.r;ue<=te.e.r;++ue)for(var fe=te.s.c;fe<=te.e.c;++fe)if(J=encode_cell({r:ue,c:fe}),K=oe?(T[ue]||[])[fe]:T[J],!(!K||K.v==null||K.t==="z")){switch(q=["cell",J,"t"],K.t){case"s":case"str":q.push(x(K.v));break;case"n":K.f?(q[2]="vtf",q[3]="n",q[4]=K.v,q[5]=x(K.f)):(q[2]="v",q[3]=K.v);break;case"b":q[2]="vt"+(K.f?"f":"c"),q[3]="nl",q[4]=K.v?"1":"0",q[5]=x(K.f||(K.v?"TRUE":"FALSE"));break;case"d":var Le=datenum(parseDate(K.v));q[2]="vtc",q[3]="nd",q[4]=""+Le,q[5]=K.w||SSF_format(K.z||table_fmt[14],Le);break;case"e":continue}U.push(q.join(":"))}return U.push("sheet:c:"+(te.e.c-te.s.c+1)+":r:"+(te.e.r-te.s.r+1)+":tvf:1"),U.push("valueformat:1:text-wiki"),U.join(`
`)}function A(T){return[z,B,R,B,O(T),I].join(`
`)}return{to_workbook:M,to_sheet:b,from_sheet:A}})(),PRN=(function(){function y(A,T,U,q,K){K.raw?T[U][q]=A:A===""||(A==="TRUE"?T[U][q]=!0:A==="FALSE"?T[U][q]=!1:isNaN(fuzzynum(A))?isNaN(fuzzydate(A).getDate())?T[U][q]=A:T[U][q]=parseDate(A):T[U][q]=fuzzynum(A))}function x(A,T){var U=T||{},q=[];if(!A||A.length===0)return q;for(var K=A.split(/[\r\n]/),J=K.length-1;J>=0&&K[J].length===0;)--J;for(var te=10,oe=0,ue=0;ue<=J;++ue)oe=K[ue].indexOf(" "),oe==-1?oe=K[ue].length:oe++,te=Math.max(te,oe);for(ue=0;ue<=J;++ue){q[ue]=[];var fe=0;for(y(K[ue].slice(0,te).trim(),q,ue,fe,U),fe=1;fe<=(K[ue].length-te)/10+1;++fe)y(K[ue].slice(te+(fe-1)*10,te+fe*10).trim(),q,ue,fe,U)}return U.sheetRows&&(q=q.slice(0,U.sheetRows)),q}var r={44:",",9:"	",59:";",124:"|"},b={44:3,9:2,59:1,124:0};function M(A){for(var T={},U=!1,q=0,K=0;q<A.length;++q)(K=A.charCodeAt(q))==34?U=!U:!U&&K in r&&(T[K]=(T[K]||0)+1);K=[];for(q in T)Object.prototype.hasOwnProperty.call(T,q)&&K.push([T[q],q]);if(!K.length){T=b;for(q in T)Object.prototype.hasOwnProperty.call(T,q)&&K.push([T[q],q])}return K.sort(function(J,te){return J[0]-te[0]||b[J[1]]-b[te[1]]}),r[K.pop()[1]]||44}function z(A,T){var U=T||{},q="",K=U.dense?[]:{},J={s:{c:0,r:0},e:{c:0,r:0}};A.slice(0,4)=="sep="?A.charCodeAt(5)==13&&A.charCodeAt(6)==10?(q=A.charAt(4),A=A.slice(7)):A.charCodeAt(5)==13||A.charCodeAt(5)==10?(q=A.charAt(4),A=A.slice(6)):q=M(A.slice(0,1024)):U&&U.FS?q=U.FS:q=M(A.slice(0,1024));var te=0,oe=0,ue=0,fe=0,Le=0,Ge=q.charCodeAt(0),ze=!1,je=0,Be=A.charCodeAt(0);A=A.replace(/\r\n/mg,`
`);var _e=U.dateNF!=null?dateNF_regex(U.dateNF):null;function He(){var tt=A.slice(fe,Le),Ke={};if(tt.charAt(0)=='"'&&tt.charAt(tt.length-1)=='"'&&(tt=tt.slice(1,-1).replace(/""/g,'"')),tt.length===0)Ke.t="z";else if(U.raw)Ke.t="s",Ke.v=tt;else if(tt.trim().length===0)Ke.t="s",Ke.v=tt;else if(tt.charCodeAt(0)==61)tt.charCodeAt(1)==34&&tt.charCodeAt(tt.length-1)==34?(Ke.t="s",Ke.v=tt.slice(2,-1).replace(/""/g,'"')):fuzzyfmla(tt)?(Ke.t="n",Ke.f=tt.slice(1)):(Ke.t="s",Ke.v=tt);else if(tt=="TRUE")Ke.t="b",Ke.v=!0;else if(tt=="FALSE")Ke.t="b",Ke.v=!1;else if(!isNaN(ue=fuzzynum(tt)))Ke.t="n",U.cellText!==!1&&(Ke.w=tt),Ke.v=ue;else if(!isNaN(fuzzydate(tt).getDate())||_e&&tt.match(_e)){Ke.z=U.dateNF||table_fmt[14];var Ze=0;_e&&tt.match(_e)&&(tt=dateNF_fix(tt,U.dateNF,tt.match(_e)||[]),Ze=1),U.cellDates?(Ke.t="d",Ke.v=parseDate(tt,Ze)):(Ke.t="n",Ke.v=datenum(parseDate(tt,Ze))),U.cellText!==!1&&(Ke.w=SSF_format(Ke.z,Ke.v instanceof Date?datenum(Ke.v):Ke.v)),U.cellNF||delete Ke.z}else Ke.t="s",Ke.v=tt;if(Ke.t=="z"||(U.dense?(K[te]||(K[te]=[]),K[te][oe]=Ke):K[encode_cell({c:oe,r:te})]=Ke),fe=Le+1,Be=A.charCodeAt(fe),J.e.c<oe&&(J.e.c=oe),J.e.r<te&&(J.e.r=te),je==Ge)++oe;else if(oe=0,++te,U.sheetRows&&U.sheetRows<=te)return!0}e:for(;Le<A.length;++Le)switch(je=A.charCodeAt(Le)){case 34:Be===34&&(ze=!ze);break;case Ge:case 10:case 13:if(!ze&&He())break e;break}return Le-fe>0&&He(),K["!ref"]=encode_range(J),K}function B(A,T){return!(T&&T.PRN)||T.FS||A.slice(0,4)=="sep="||A.indexOf("	")>=0||A.indexOf(",")>=0||A.indexOf(";")>=0?z(A,T):aoa_to_sheet(x(A,T),T)}function R(A,T){var U="",q=T.type=="string"?[0,0,0,0]:firstbyte(A,T);switch(T.type){case"base64":U=Base64_decode(A);break;case"binary":U=A;break;case"buffer":T.codepage==65001?U=A.toString("utf8"):T.codepage&&typeof $cptable<"u"||(U=has_buf&&Buffer.isBuffer(A)?A.toString("binary"):a2s(A));break;case"array":U=cc2str(A);break;case"string":U=A;break;default:throw new Error("Unrecognized type "+T.type)}return q[0]==239&&q[1]==187&&q[2]==191?U=utf8read(U.slice(3)):T.type!="string"&&T.type!="buffer"&&T.codepage==65001?U=utf8read(U):T.type=="binary"&&typeof $cptable<"u",U.slice(0,19)=="socialcalc:version:"?ETH.to_sheet(T.type=="string"?U:utf8read(U),T):B(U,T)}function I(A,T){return sheet_to_workbook(R(A,T),T)}function O(A){for(var T=[],U=safe_decode_range(A["!ref"]),q,K=Array.isArray(A),J=U.s.r;J<=U.e.r;++J){for(var te=[],oe=U.s.c;oe<=U.e.c;++oe){var ue=encode_cell({r:J,c:oe});if(q=K?(A[J]||[])[oe]:A[ue],!q||q.v==null){te.push("          ");continue}for(var fe=(q.w||(format_cell(q),q.w)||"").slice(0,10);fe.length<10;)fe+=" ";te.push(fe+(oe===0?" ":""))}T.push(te.join(""))}return T.join(`
`)}return{to_workbook:I,to_sheet:R,from_sheet:O}})();function read_wb_ID(y,x){var r=x||{},b=!!r.WTF;r.WTF=!0;try{var M=SYLK.to_workbook(y,r);return r.WTF=b,M}catch(z){if(r.WTF=b,!z.message.match(/SYLK bad record ID/)&&b)throw z;return PRN.to_workbook(y,x)}}var WK_=(function(){function y(yt,Gt,Bt){if(yt){prep_blob(yt,yt.l||0);for(var Dt=Bt.Enum||ar;yt.l<yt.length;){var Ct=yt.read_shift(2),It=Dt[Ct]||Dt[65535],lr=yt.read_shift(2),Je=yt.l+lr,Ve=It.f&&It.f(yt,lr,Bt);if(yt.l=Je,Gt(Ve,It,Ct))return}}}function x(yt,Gt){switch(Gt.type){case"base64":return r(s2a(Base64_decode(yt)),Gt);case"binary":return r(s2a(yt),Gt);case"buffer":case"array":return r(yt,Gt)}throw"Unsupported type "+Gt.type}function r(yt,Gt){if(!yt)return yt;var Bt=Gt||{},Dt=Bt.dense?[]:{},Ct="Sheet1",It="",lr=0,Je={},Ve=[],st=[],it={s:{r:0,c:0},e:{r:0,c:0}},Wt=Bt.sheetRows||0;if(yt[2]==0&&(yt[3]==8||yt[3]==9)&&yt.length>=16&&yt[14]==5&&yt[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(yt[2]==2)Bt.Enum=ar,y(yt,function(Ft,Jt,et){switch(et){case 0:Bt.vers=Ft,Ft>=4096&&(Bt.qpro=!0);break;case 6:it=Ft;break;case 204:Ft&&(It=Ft);break;case 222:It=Ft;break;case 15:case 51:Bt.qpro||(Ft[1].v=Ft[1].v.slice(1));case 13:case 14:case 16:et==14&&(Ft[2]&112)==112&&(Ft[2]&15)>1&&(Ft[2]&15)<15&&(Ft[1].z=Bt.dateNF||table_fmt[14],Bt.cellDates&&(Ft[1].t="d",Ft[1].v=numdate(Ft[1].v))),Bt.qpro&&Ft[3]>lr&&(Dt["!ref"]=encode_range(it),Je[Ct]=Dt,Ve.push(Ct),Dt=Bt.dense?[]:{},it={s:{r:0,c:0},e:{r:0,c:0}},lr=Ft[3],Ct=It||"Sheet"+(lr+1),It="");var gt=Bt.dense?(Dt[Ft[0].r]||[])[Ft[0].c]:Dt[encode_cell(Ft[0])];if(gt){gt.t=Ft[1].t,gt.v=Ft[1].v,Ft[1].z!=null&&(gt.z=Ft[1].z),Ft[1].f!=null&&(gt.f=Ft[1].f);break}Bt.dense?(Dt[Ft[0].r]||(Dt[Ft[0].r]=[]),Dt[Ft[0].r][Ft[0].c]=Ft[1]):Dt[encode_cell(Ft[0])]=Ft[1];break}},Bt);else if(yt[2]==26||yt[2]==14)Bt.Enum=dt,yt[2]==14&&(Bt.qpro=!0,yt.l=0),y(yt,function(Ft,Jt,et){switch(et){case 204:Ct=Ft;break;case 22:Ft[1].v=Ft[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Ft[3]>lr&&(Dt["!ref"]=encode_range(it),Je[Ct]=Dt,Ve.push(Ct),Dt=Bt.dense?[]:{},it={s:{r:0,c:0},e:{r:0,c:0}},lr=Ft[3],Ct="Sheet"+(lr+1)),Wt>0&&Ft[0].r>=Wt)break;Bt.dense?(Dt[Ft[0].r]||(Dt[Ft[0].r]=[]),Dt[Ft[0].r][Ft[0].c]=Ft[1]):Dt[encode_cell(Ft[0])]=Ft[1],it.e.c<Ft[0].c&&(it.e.c=Ft[0].c),it.e.r<Ft[0].r&&(it.e.r=Ft[0].r);break;case 27:Ft[14e3]&&(st[Ft[14e3][0]]=Ft[14e3][1]);break;case 1537:st[Ft[0]]=Ft[1],Ft[0]==lr&&(Ct=Ft[1]);break}},Bt);else throw new Error("Unrecognized LOTUS BOF "+yt[2]);if(Dt["!ref"]=encode_range(it),Je[It||Ct]=Dt,Ve.push(It||Ct),!st.length)return{SheetNames:Ve,Sheets:Je};for(var rt={},ur=[],tr=0;tr<st.length;++tr)Je[Ve[tr]]?(ur.push(st[tr]||Ve[tr]),rt[st[tr]]=Je[st[tr]]||Je[Ve[tr]]):(ur.push(st[tr]),rt[st[tr]]={"!ref":"A1"});return{SheetNames:ur,Sheets:rt}}function b(yt,Gt){var Bt=Gt||{};if(+Bt.codepage>=0&&set_cp(+Bt.codepage),Bt.type=="string")throw new Error("Cannot write WK1 to JS string");var Dt=buf_array(),Ct=safe_decode_range(yt["!ref"]),It=Array.isArray(yt),lr=[];write_biff_rec(Dt,0,z(1030)),write_biff_rec(Dt,6,I(Ct));for(var Je=Math.min(Ct.e.r,8191),Ve=Ct.s.r;Ve<=Je;++Ve)for(var st=encode_row(Ve),it=Ct.s.c;it<=Ct.e.c;++it){Ve===Ct.s.r&&(lr[it]=encode_col(it));var Wt=lr[it]+st,rt=It?(yt[Ve]||[])[it]:yt[Wt];if(!(!rt||rt.t=="z"))if(rt.t=="n")(rt.v|0)==rt.v&&rt.v>=-32768&&rt.v<=32767?write_biff_rec(Dt,13,q(Ve,it,rt.v)):write_biff_rec(Dt,14,J(Ve,it,rt.v));else{var ur=format_cell(rt);write_biff_rec(Dt,15,T(Ve,it,ur.slice(0,239)))}}return write_biff_rec(Dt,1),Dt.end()}function M(yt,Gt){var Bt=Gt||{};if(+Bt.codepage>=0&&set_cp(+Bt.codepage),Bt.type=="string")throw new Error("Cannot write WK3 to JS string");var Dt=buf_array();write_biff_rec(Dt,0,B(yt));for(var Ct=0,It=0;Ct<yt.SheetNames.length;++Ct)(yt.Sheets[yt.SheetNames[Ct]]||{})["!ref"]&&write_biff_rec(Dt,27,bt(yt.SheetNames[Ct],It++));var lr=0;for(Ct=0;Ct<yt.SheetNames.length;++Ct){var Je=yt.Sheets[yt.SheetNames[Ct]];if(!(!Je||!Je["!ref"])){for(var Ve=safe_decode_range(Je["!ref"]),st=Array.isArray(Je),it=[],Wt=Math.min(Ve.e.r,8191),rt=Ve.s.r;rt<=Wt;++rt)for(var ur=encode_row(rt),tr=Ve.s.c;tr<=Ve.e.c;++tr){rt===Ve.s.r&&(it[tr]=encode_col(tr));var Ft=it[tr]+ur,Jt=st?(Je[rt]||[])[tr]:Je[Ft];if(!(!Jt||Jt.t=="z"))if(Jt.t=="n")write_biff_rec(Dt,23,He(rt,tr,lr,Jt.v));else{var et=format_cell(Jt);write_biff_rec(Dt,22,je(rt,tr,lr,et.slice(0,239)))}}++lr}}return write_biff_rec(Dt,1),Dt.end()}function z(yt){var Gt=new_buf(2);return Gt.write_shift(2,yt),Gt}function B(yt){var Gt=new_buf(26);Gt.write_shift(2,4096),Gt.write_shift(2,4),Gt.write_shift(4,0);for(var Bt=0,Dt=0,Ct=0,It=0;It<yt.SheetNames.length;++It){var lr=yt.SheetNames[It],Je=yt.Sheets[lr];if(!(!Je||!Je["!ref"])){++Ct;var Ve=decode_range(Je["!ref"]);Bt<Ve.e.r&&(Bt=Ve.e.r),Dt<Ve.e.c&&(Dt=Ve.e.c)}}return Bt>8191&&(Bt=8191),Gt.write_shift(2,Bt),Gt.write_shift(1,Ct),Gt.write_shift(1,Dt),Gt.write_shift(2,0),Gt.write_shift(2,0),Gt.write_shift(1,1),Gt.write_shift(1,2),Gt.write_shift(4,0),Gt.write_shift(4,0),Gt}function R(yt,Gt,Bt){var Dt={s:{c:0,r:0},e:{c:0,r:0}};return Gt==8&&Bt.qpro?(Dt.s.c=yt.read_shift(1),yt.l++,Dt.s.r=yt.read_shift(2),Dt.e.c=yt.read_shift(1),yt.l++,Dt.e.r=yt.read_shift(2),Dt):(Dt.s.c=yt.read_shift(2),Dt.s.r=yt.read_shift(2),Gt==12&&Bt.qpro&&(yt.l+=2),Dt.e.c=yt.read_shift(2),Dt.e.r=yt.read_shift(2),Gt==12&&Bt.qpro&&(yt.l+=2),Dt.s.c==65535&&(Dt.s.c=Dt.e.c=Dt.s.r=Dt.e.r=0),Dt)}function I(yt){var Gt=new_buf(8);return Gt.write_shift(2,yt.s.c),Gt.write_shift(2,yt.s.r),Gt.write_shift(2,yt.e.c),Gt.write_shift(2,yt.e.r),Gt}function O(yt,Gt,Bt){var Dt=[{c:0,r:0},{t:"n",v:0},0,0];return Bt.qpro&&Bt.vers!=20768?(Dt[0].c=yt.read_shift(1),Dt[3]=yt.read_shift(1),Dt[0].r=yt.read_shift(2),yt.l+=2):(Dt[2]=yt.read_shift(1),Dt[0].c=yt.read_shift(2),Dt[0].r=yt.read_shift(2)),Dt}function A(yt,Gt,Bt){var Dt=yt.l+Gt,Ct=O(yt,Gt,Bt);if(Ct[1].t="s",Bt.vers==20768){yt.l++;var It=yt.read_shift(1);return Ct[1].v=yt.read_shift(It,"utf8"),Ct}return Bt.qpro&&yt.l++,Ct[1].v=yt.read_shift(Dt-yt.l,"cstr"),Ct}function T(yt,Gt,Bt){var Dt=new_buf(7+Bt.length);Dt.write_shift(1,255),Dt.write_shift(2,Gt),Dt.write_shift(2,yt),Dt.write_shift(1,39);for(var Ct=0;Ct<Dt.length;++Ct){var It=Bt.charCodeAt(Ct);Dt.write_shift(1,It>=128?95:It)}return Dt.write_shift(1,0),Dt}function U(yt,Gt,Bt){var Dt=O(yt,Gt,Bt);return Dt[1].v=yt.read_shift(2,"i"),Dt}function q(yt,Gt,Bt){var Dt=new_buf(7);return Dt.write_shift(1,255),Dt.write_shift(2,Gt),Dt.write_shift(2,yt),Dt.write_shift(2,Bt,"i"),Dt}function K(yt,Gt,Bt){var Dt=O(yt,Gt,Bt);return Dt[1].v=yt.read_shift(8,"f"),Dt}function J(yt,Gt,Bt){var Dt=new_buf(13);return Dt.write_shift(1,255),Dt.write_shift(2,Gt),Dt.write_shift(2,yt),Dt.write_shift(8,Bt,"f"),Dt}function te(yt,Gt,Bt){var Dt=yt.l+Gt,Ct=O(yt,Gt,Bt);if(Ct[1].v=yt.read_shift(8,"f"),Bt.qpro)yt.l=Dt;else{var It=yt.read_shift(2);Le(yt.slice(yt.l,yt.l+It),Ct),yt.l+=It}return Ct}function oe(yt,Gt,Bt){var Dt=Gt&32768;return Gt&=-32769,Gt=(Dt?yt:0)+(Gt>=8192?Gt-16384:Gt),(Dt?"":"$")+(Bt?encode_col(Gt):encode_row(Gt))}var ue={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},fe=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function Le(yt,Gt){prep_blob(yt,0);for(var Bt=[],Dt=0,Ct="",It="",lr="",Je="";yt.l<yt.length;){var Ve=yt[yt.l++];switch(Ve){case 0:Bt.push(yt.read_shift(8,"f"));break;case 1:It=oe(Gt[0].c,yt.read_shift(2),!0),Ct=oe(Gt[0].r,yt.read_shift(2),!1),Bt.push(It+Ct);break;case 2:{var st=oe(Gt[0].c,yt.read_shift(2),!0),it=oe(Gt[0].r,yt.read_shift(2),!1);It=oe(Gt[0].c,yt.read_shift(2),!0),Ct=oe(Gt[0].r,yt.read_shift(2),!1),Bt.push(st+it+":"+It+Ct)}break;case 3:if(yt.l<yt.length){console.error("WK1 premature formula end");return}break;case 4:Bt.push("("+Bt.pop()+")");break;case 5:Bt.push(yt.read_shift(2));break;case 6:{for(var Wt="";Ve=yt[yt.l++];)Wt+=String.fromCharCode(Ve);Bt.push('"'+Wt.replace(/"/g,'""')+'"')}break;case 8:Bt.push("-"+Bt.pop());break;case 23:Bt.push("+"+Bt.pop());break;case 22:Bt.push("NOT("+Bt.pop()+")");break;case 20:case 21:Je=Bt.pop(),lr=Bt.pop(),Bt.push(["AND","OR"][Ve-20]+"("+lr+","+Je+")");break;default:if(Ve<32&&fe[Ve])Je=Bt.pop(),lr=Bt.pop(),Bt.push(lr+fe[Ve]+Je);else if(ue[Ve]){if(Dt=ue[Ve][1],Dt==69&&(Dt=yt[yt.l++]),Dt>Bt.length){console.error("WK1 bad formula parse 0x"+Ve.toString(16)+":|"+Bt.join("|")+"|");return}var rt=Bt.slice(-Dt);Bt.length-=Dt,Bt.push(ue[Ve][0]+"("+rt.join(",")+")")}else return Ve<=7?console.error("WK1 invalid opcode "+Ve.toString(16)):Ve<=24?console.error("WK1 unsupported op "+Ve.toString(16)):Ve<=30?console.error("WK1 invalid opcode "+Ve.toString(16)):Ve<=115?console.error("WK1 unsupported function opcode "+Ve.toString(16)):console.error("WK1 unrecognized opcode "+Ve.toString(16))}}Bt.length==1?Gt[1].f=""+Bt[0]:console.error("WK1 bad formula parse |"+Bt.join("|")+"|")}function Ge(yt){var Gt=[{c:0,r:0},{t:"n",v:0},0];return Gt[0].r=yt.read_shift(2),Gt[3]=yt[yt.l++],Gt[0].c=yt[yt.l++],Gt}function ze(yt,Gt){var Bt=Ge(yt);return Bt[1].t="s",Bt[1].v=yt.read_shift(Gt-4,"cstr"),Bt}function je(yt,Gt,Bt,Dt){var Ct=new_buf(6+Dt.length);Ct.write_shift(2,yt),Ct.write_shift(1,Bt),Ct.write_shift(1,Gt),Ct.write_shift(1,39);for(var It=0;It<Dt.length;++It){var lr=Dt.charCodeAt(It);Ct.write_shift(1,lr>=128?95:lr)}return Ct.write_shift(1,0),Ct}function Be(yt,Gt){var Bt=Ge(yt);Bt[1].v=yt.read_shift(2);var Dt=Bt[1].v>>1;if(Bt[1].v&1)switch(Dt&7){case 0:Dt=(Dt>>3)*5e3;break;case 1:Dt=(Dt>>3)*500;break;case 2:Dt=(Dt>>3)/20;break;case 3:Dt=(Dt>>3)/200;break;case 4:Dt=(Dt>>3)/2e3;break;case 5:Dt=(Dt>>3)/2e4;break;case 6:Dt=(Dt>>3)/16;break;case 7:Dt=(Dt>>3)/64;break}return Bt[1].v=Dt,Bt}function _e(yt,Gt){var Bt=Ge(yt),Dt=yt.read_shift(4),Ct=yt.read_shift(4),It=yt.read_shift(2);if(It==65535)return Dt===0&&Ct===3221225472?(Bt[1].t="e",Bt[1].v=15):Dt===0&&Ct===3489660928?(Bt[1].t="e",Bt[1].v=42):Bt[1].v=0,Bt;var lr=It&32768;return It=(It&32767)-16446,Bt[1].v=(1-lr*2)*(Ct*Math.pow(2,It+32)+Dt*Math.pow(2,It)),Bt}function He(yt,Gt,Bt,Dt){var Ct=new_buf(14);if(Ct.write_shift(2,yt),Ct.write_shift(1,Bt),Ct.write_shift(1,Gt),Dt==0)return Ct.write_shift(4,0),Ct.write_shift(4,0),Ct.write_shift(2,65535),Ct;var It=0,lr=0,Je=0,Ve=0;return Dt<0&&(It=1,Dt=-Dt),lr=Math.log2(Dt)|0,Dt/=Math.pow(2,lr-31),Ve=Dt>>>0,(Ve&2147483648)==0&&(Dt/=2,++lr,Ve=Dt>>>0),Dt-=Ve,Ve|=2147483648,Ve>>>=0,Dt*=Math.pow(2,32),Je=Dt>>>0,Ct.write_shift(4,Je),Ct.write_shift(4,Ve),lr+=16383+(It?32768:0),Ct.write_shift(2,lr),Ct}function tt(yt,Gt){var Bt=_e(yt);return yt.l+=Gt-14,Bt}function Ke(yt,Gt){var Bt=Ge(yt),Dt=yt.read_shift(4);return Bt[1].v=Dt>>6,Bt}function Ze(yt,Gt){var Bt=Ge(yt),Dt=yt.read_shift(8,"f");return Bt[1].v=Dt,Bt}function Qe(yt,Gt){var Bt=Ze(yt);return yt.l+=Gt-10,Bt}function vt(yt,Gt){return yt[yt.l+Gt-1]==0?yt.read_shift(Gt,"cstr"):""}function pt(yt,Gt){var Bt=yt[yt.l++];Bt>Gt-1&&(Bt=Gt-1);for(var Dt="";Dt.length<Bt;)Dt+=String.fromCharCode(yt[yt.l++]);return Dt}function ut(yt,Gt,Bt){if(!(!Bt.qpro||Gt<21)){var Dt=yt.read_shift(1);yt.l+=17,yt.l+=1,yt.l+=2;var Ct=yt.read_shift(Gt-21,"cstr");return[Dt,Ct]}}function Mt(yt,Gt){for(var Bt={},Dt=yt.l+Gt;yt.l<Dt;){var Ct=yt.read_shift(2);if(Ct==14e3){for(Bt[Ct]=[0,""],Bt[Ct][0]=yt.read_shift(2);yt[yt.l];)Bt[Ct][1]+=String.fromCharCode(yt[yt.l]),yt.l++;yt.l++}}return Bt}function bt(yt,Gt){var Bt=new_buf(5+yt.length);Bt.write_shift(2,14e3),Bt.write_shift(2,Gt);for(var Dt=0;Dt<yt.length;++Dt){var Ct=yt.charCodeAt(Dt);Bt[Bt.l++]=Ct>127?95:Ct}return Bt[Bt.l++]=0,Bt}var ar={0:{n:"BOF",f:parseuint16},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:R},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:U},14:{n:"NUMBER",f:K},15:{n:"LABEL",f:A},16:{n:"FORMULA",f:te},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:A},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:vt},222:{n:"SHEETNAMELP",f:pt},65535:{n:""}},dt={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:ze},23:{n:"NUMBER17",f:_e},24:{n:"NUMBER18",f:Be},25:{n:"FORMULA19",f:tt},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:Mt},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:Ke},38:{n:"??"},39:{n:"NUMBER27",f:Ze},40:{n:"FORMULA28",f:Qe},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:vt},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:ut},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:b,book_to_wk3:M,to_workbook:x}})();function parse_rpr(y){var x={},r=y.match(tagregex),b=0,M=!1;if(r)for(;b!=r.length;++b){var z=parsexmltag(r[b]);switch(z[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!z.val)break;case"<shadow>":case"<shadow/>":x.shadow=1;break;case"</shadow>":break;case"<charset":if(z.val=="1")break;x.cp=CS2CP[parseInt(z.val,10)];break;case"<outline":if(!z.val)break;case"<outline>":case"<outline/>":x.outline=1;break;case"</outline>":break;case"<rFont":x.name=z.val;break;case"<sz":x.sz=z.val;break;case"<strike":if(!z.val)break;case"<strike>":case"<strike/>":x.strike=1;break;case"</strike>":break;case"<u":if(!z.val)break;switch(z.val){case"double":x.uval="double";break;case"singleAccounting":x.uval="single-accounting";break;case"doubleAccounting":x.uval="double-accounting";break}case"<u>":case"<u/>":x.u=1;break;case"</u>":break;case"<b":if(z.val=="0")break;case"<b>":case"<b/>":x.b=1;break;case"</b>":break;case"<i":if(z.val=="0")break;case"<i>":case"<i/>":x.i=1;break;case"</i>":break;case"<color":z.rgb&&(x.color=z.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":x.family=z.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":x.valign=z.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":M=!0;break;case"</ext>":M=!1;break;default:if(z[0].charCodeAt(1)!==47&&!M)throw new Error("Unrecognized rich format "+z[0])}}return x}var parse_rs=(function(){var y=matchtag("t"),x=matchtag("rPr");function r(z){var B=z.match(y);if(!B)return{t:"s",v:""};var R={t:"s",v:unescapexml(B[1])},I=z.match(x);return I&&(R.s=parse_rpr(I[1])),R}var b=/<(?:\w+:)?r>/g,M=/<\/(?:\w+:)?r>/;return function(B){return B.replace(b,"").split(M).map(r).filter(function(R){return R.v})}})(),rs_to_html=(function(){var x=/(\r\n|\n)/g;function r(M,z,B){var R=[];M.u&&R.push("text-decoration: underline;"),M.uval&&R.push("text-underline-style:"+M.uval+";"),M.sz&&R.push("font-size:"+M.sz+"pt;"),M.outline&&R.push("text-effect: outline;"),M.shadow&&R.push("text-shadow: auto;"),z.push('<span style="'+R.join("")+'">'),M.b&&(z.push("<b>"),B.push("</b>")),M.i&&(z.push("<i>"),B.push("</i>")),M.strike&&(z.push("<s>"),B.push("</s>"));var I=M.valign||"";return I=="superscript"||I=="super"?I="sup":I=="subscript"&&(I="sub"),I!=""&&(z.push("<"+I+">"),B.push("</"+I+">")),B.push("</span>"),M}function b(M){var z=[[],M.v,[]];return M.v?(M.s&&r(M.s,z[0],z[2]),z[0].join("")+z[1].replace(x,"<br/>")+z[2].join("")):""}return function(z){return z.map(b).join("")}})(),sitregex=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,sirregex=/<(?:\w+:)?r>/,sirphregex=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function parse_si(y,x){var r=x?x.cellHTML:!0,b={};return y?(y.match(/^\s*<(?:\w+:)?t[^>]*>/)?(b.t=unescapexml(utf8read(y.slice(y.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),b.r=utf8read(y),r&&(b.h=escapehtml(b.t))):y.match(sirregex)&&(b.r=utf8read(y),b.t=unescapexml(utf8read((y.replace(sirphregex,"").match(sitregex)||[]).join("").replace(tagregex,""))),r&&(b.h=rs_to_html(parse_rs(b.r)))),b):{t:""}}var sstr0=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,sstr1=/<(?:\w+:)?(?:si|sstItem)>/g,sstr2=/<\/(?:\w+:)?(?:si|sstItem)>/;function parse_sst_xml(y,x){var r=[],b="";if(!y)return r;var M=y.match(sstr0);if(M){b=M[2].replace(sstr1,"").split(sstr2);for(var z=0;z!=b.length;++z){var B=parse_si(b[z].trim(),x);B!=null&&(r[r.length]=B)}M=parsexmltag(M[1]),r.Count=M.count,r.Unique=M.uniqueCount}return r}var straywsregex=/^\s|\s$|[\t\n\r]/;function write_sst_xml(y,x){if(!x.bookSST)return"";var r=[XML_HEADER];r[r.length]=writextag("sst",null,{xmlns:XMLNS_main[0],count:y.Count,uniqueCount:y.Unique});for(var b=0;b!=y.length;++b)if(y[b]!=null){var M=y[b],z="<si>";M.r?z+=M.r:(z+="<t",M.t||(M.t=""),M.t.match(straywsregex)&&(z+=' xml:space="preserve"'),z+=">"+escapexml(M.t)+"</t>"),z+="</si>",r[r.length]=z}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function parse_BrtBeginSst(y){return[y.read_shift(4),y.read_shift(4)]}function parse_sst_bin(y,x){var r=[],b=!1;return recordhopper(y,function(z,B,R){switch(R){case 159:r.Count=z[0],r.Unique=z[1];break;case 19:r.push(z);break;case 160:return!0;case 35:b=!0;break;case 36:b=!1;break;default:if(B.T,!b||x.WTF)throw new Error("Unexpected record 0x"+R.toString(16))}}),r}function write_BrtBeginSst(y,x){return x||(x=new_buf(8)),x.write_shift(4,y.Count),x.write_shift(4,y.Unique),x}var write_BrtSSTItem=write_RichStr;function write_sst_bin(y){var x=buf_array();write_record(x,159,write_BrtBeginSst(y));for(var r=0;r<y.length;++r)write_record(x,19,write_BrtSSTItem(y[r]));return write_record(x,160),x.end()}function _JS2ANSI(y){for(var x=[],r=y.split(""),b=0;b<r.length;++b)x[b]=r[b].charCodeAt(0);return x}function parse_CRYPTOVersion(y,x){var r={};return r.Major=y.read_shift(2),r.Minor=y.read_shift(2),x>=4&&(y.l+=x-4),r}function parse_DataSpaceVersionInfo(y){var x={};return x.id=y.read_shift(0,"lpp4"),x.R=parse_CRYPTOVersion(y,4),x.U=parse_CRYPTOVersion(y,4),x.W=parse_CRYPTOVersion(y,4),x}function parse_DataSpaceMapEntry(y){for(var x=y.read_shift(4),r=y.l+x-4,b={},M=y.read_shift(4),z=[];M-- >0;)z.push({t:y.read_shift(4),v:y.read_shift(0,"lpp4")});if(b.name=y.read_shift(0,"lpp4"),b.comps=z,y.l!=r)throw new Error("Bad DataSpaceMapEntry: "+y.l+" != "+r);return b}function parse_DataSpaceMap(y){var x=[];y.l+=4;for(var r=y.read_shift(4);r-- >0;)x.push(parse_DataSpaceMapEntry(y));return x}function parse_DataSpaceDefinition(y){var x=[];y.l+=4;for(var r=y.read_shift(4);r-- >0;)x.push(y.read_shift(0,"lpp4"));return x}function parse_TransformInfoHeader(y){var x={};return y.read_shift(4),y.l+=4,x.id=y.read_shift(0,"lpp4"),x.name=y.read_shift(0,"lpp4"),x.R=parse_CRYPTOVersion(y,4),x.U=parse_CRYPTOVersion(y,4),x.W=parse_CRYPTOVersion(y,4),x}function parse_Primary(y){var x=parse_TransformInfoHeader(y);if(x.ename=y.read_shift(0,"8lpp4"),x.blksz=y.read_shift(4),x.cmode=y.read_shift(4),y.read_shift(4)!=4)throw new Error("Bad !Primary record");return x}function parse_EncryptionHeader(y,x){var r=y.l+x,b={};b.Flags=y.read_shift(4)&63,y.l+=4,b.AlgID=y.read_shift(4);var M=!1;switch(b.AlgID){case 26126:case 26127:case 26128:M=b.Flags==36;break;case 26625:M=b.Flags==4;break;case 0:M=b.Flags==16||b.Flags==4||b.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+b.AlgID}if(!M)throw new Error("Encryption Flags/AlgID mismatch");return b.AlgIDHash=y.read_shift(4),b.KeySize=y.read_shift(4),b.ProviderType=y.read_shift(4),y.l+=8,b.CSPName=y.read_shift(r-y.l>>1,"utf16le"),y.l=r,b}function parse_EncryptionVerifier(y,x){var r={},b=y.l+x;return y.l+=4,r.Salt=y.slice(y.l,y.l+16),y.l+=16,r.Verifier=y.slice(y.l,y.l+16),y.l+=16,y.read_shift(4),r.VerifierHash=y.slice(y.l,b),y.l=b,r}function parse_EncryptionInfo(y){var x=parse_CRYPTOVersion(y);switch(x.Minor){case 2:return[x.Minor,parse_EncInfoStd(y)];case 3:return[x.Minor,parse_EncInfoExt()];case 4:return[x.Minor,parse_EncInfoAgl(y)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+x.Minor)}function parse_EncInfoStd(y){var x=y.read_shift(4);if((x&63)!=36)throw new Error("EncryptionInfo mismatch");var r=y.read_shift(4),b=parse_EncryptionHeader(y,r),M=parse_EncryptionVerifier(y,y.length-y.l);return{t:"Std",h:b,v:M}}function parse_EncInfoExt(){throw new Error("File is password-protected: ECMA-376 Extensible")}function parse_EncInfoAgl(y){var x=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];y.l+=4;var r=y.read_shift(y.length-y.l,"utf8"),b={};return r.replace(tagregex,function(z){var B=parsexmltag(z);switch(strip_ns(B[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":x.forEach(function(R){b[R]=B[R]});break;case"<dataIntegrity":b.encryptedHmacKey=B.encryptedHmacKey,b.encryptedHmacValue=B.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":b.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":b.uri=B.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":b.encs.push(B);break;default:throw B[0]}}),b}function parse_RC4CryptoHeader(y,x){var r={},b=r.EncryptionVersionInfo=parse_CRYPTOVersion(y,4);if(x-=4,b.Minor!=2)throw new Error("unrecognized minor version code: "+b.Minor);if(b.Major>4||b.Major<2)throw new Error("unrecognized major version code: "+b.Major);r.Flags=y.read_shift(4),x-=4;var M=y.read_shift(4);return x-=4,r.EncryptionHeader=parse_EncryptionHeader(y,M),x-=M,r.EncryptionVerifier=parse_EncryptionVerifier(y,x),r}function parse_RC4Header(y){var x={},r=x.EncryptionVersionInfo=parse_CRYPTOVersion(y,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return x.Salt=y.read_shift(16),x.EncryptedVerifier=y.read_shift(16),x.EncryptedVerifierHash=y.read_shift(16),x}function crypto_CreatePasswordVerifier_Method1(y){var x=0,r,b=_JS2ANSI(y),M=b.length+1,z,B,R,I,O;for(r=new_raw_buf(M),r[0]=b.length,z=1;z!=M;++z)r[z]=b[z-1];for(z=M-1;z>=0;--z)B=r[z],R=(x&16384)===0?0:1,I=x<<1&32767,O=R|I,x=O^B;return x^52811}var crypto_CreateXorArray_Method1=(function(){var y=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],x=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],b=function(B){return(B/2|B*128)&255},M=function(B,R){return b(B^R)},z=function(B){for(var R=x[B.length-1],I=104,O=B.length-1;O>=0;--O)for(var A=B[O],T=0;T!=7;++T)A&64&&(R^=r[I]),A*=2,--I;return R};return function(B){for(var R=_JS2ANSI(B),I=z(R),O=R.length,A=new_raw_buf(16),T=0;T!=16;++T)A[T]=0;var U,q,K;for((O&1)===1&&(U=I>>8,A[O]=M(y[0],U),--O,U=I&255,q=R[R.length-1],A[O]=M(q,U));O>0;)--O,U=I>>8,A[O]=M(R[O],U),--O,U=I&255,A[O]=M(R[O],U);for(O=15,K=15-R.length;K>0;)U=I>>8,A[O]=M(y[K],U),--O,--K,U=I&255,A[O]=M(R[O],U),--O,--K;return A}})(),crypto_DecryptData_Method1=function(y,x,r,b,M){M||(M=x),b||(b=crypto_CreateXorArray_Method1(y));var z,B;for(z=0;z!=x.length;++z)B=x[z],B^=b[r],B=(B>>5|B<<3)&255,M[z]=B,++r;return[M,r,b]},crypto_MakeXorDecryptor=function(y){var x=0,r=crypto_CreateXorArray_Method1(y);return function(b){var M=crypto_DecryptData_Method1("",b,x,r);return x=M[1],M[0]}};function parse_XORObfuscation(y,x,r,b){var M={key:parseuint16(y),verificationBytes:parseuint16(y)};return r.password&&(M.verifier=crypto_CreatePasswordVerifier_Method1(r.password)),b.valid=M.verificationBytes===M.verifier,b.valid&&(b.insitu=crypto_MakeXorDecryptor(r.password)),M}function parse_FilePassHeader(y,x,r){var b=r||{};return b.Info=y.read_shift(2),y.l-=2,b.Info===1?b.Data=parse_RC4Header(y):b.Data=parse_RC4CryptoHeader(y,x),b}function parse_FilePass(y,x,r){var b={Type:r.biff>=8?y.read_shift(2):0};return b.Type?parse_FilePassHeader(y,x-2,b):parse_XORObfuscation(y,r.biff>=8?x:x-2,r,b),b}var RTF=(function(){function y(M,z){switch(z.type){case"base64":return x(Base64_decode(M),z);case"binary":return x(M,z);case"buffer":return x(has_buf&&Buffer.isBuffer(M)?M.toString("binary"):a2s(M),z);case"array":return x(cc2str(M),z)}throw new Error("Unrecognized type "+z.type)}function x(M,z){var B=z||{},R=B.dense?[]:{},I=M.match(/\\trowd.*?\\row\b/g);if(!I.length)throw new Error("RTF missing table");var O={s:{c:0,r:0},e:{c:0,r:I.length-1}};return I.forEach(function(A,T){Array.isArray(R)&&(R[T]=[]);for(var U=/\\\w+\b/g,q=0,K,J=-1;K=U.exec(A);){switch(K[0]){case"\\cell":var te=A.slice(q,U.lastIndex-K[0].length);if(te[0]==" "&&(te=te.slice(1)),++J,te.length){var oe={v:te,t:"s"};Array.isArray(R)?R[T][J]=oe:R[encode_cell({r:T,c:J})]=oe}break}q=U.lastIndex}J>O.e.c&&(O.e.c=J)}),R["!ref"]=encode_range(O),R}function r(M,z){return sheet_to_workbook(y(M,z),z)}function b(M){for(var z=["{\\rtf1\\ansi"],B=safe_decode_range(M["!ref"]),R,I=Array.isArray(M),O=B.s.r;O<=B.e.r;++O){z.push("\\trowd\\trautofit1");for(var A=B.s.c;A<=B.e.c;++A)z.push("\\cellx"+(A+1));for(z.push("\\pard\\intbl"),A=B.s.c;A<=B.e.c;++A){var T=encode_cell({r:O,c:A});R=I?(M[O]||[])[A]:M[T],!(!R||R.v==null&&(!R.f||R.F))&&(z.push(" "+(R.w||(format_cell(R),R.w))),z.push("\\cell"))}z.push("\\pard\\intbl\\row")}return z.join("")+"}"}return{to_workbook:r,to_sheet:y,from_sheet:b}})();function hex2RGB(y){var x=y.slice(y[0]==="#"?1:0).slice(0,6);return[parseInt(x.slice(0,2),16),parseInt(x.slice(2,4),16),parseInt(x.slice(4,6),16)]}function rgb2Hex(y){for(var x=0,r=1;x!=3;++x)r=r*256+(y[x]>255?255:y[x]<0?0:y[x]);return r.toString(16).toUpperCase().slice(1)}function rgb2HSL(y){var x=y[0]/255,r=y[1]/255,b=y[2]/255,M=Math.max(x,r,b),z=Math.min(x,r,b),B=M-z;if(B===0)return[0,0,x];var R=0,I=0,O=M+z;switch(I=B/(O>1?2-O:O),M){case x:R=((r-b)/B+6)%6;break;case r:R=(b-x)/B+2;break;case b:R=(x-r)/B+4;break}return[R/6,I,O/2]}function hsl2RGB(y){var x=y[0],r=y[1],b=y[2],M=r*2*(b<.5?b:1-b),z=b-M/2,B=[z,z,z],R=6*x,I;if(r!==0)switch(R|0){case 0:case 6:I=M*R,B[0]+=M,B[1]+=I;break;case 1:I=M*(2-R),B[0]+=I,B[1]+=M;break;case 2:I=M*(R-2),B[1]+=M,B[2]+=I;break;case 3:I=M*(4-R),B[1]+=I,B[2]+=M;break;case 4:I=M*(R-4),B[2]+=M,B[0]+=I;break;case 5:I=M*(6-R),B[2]+=I,B[0]+=M;break}for(var O=0;O!=3;++O)B[O]=Math.round(B[O]*255);return B}function rgb_tint(y,x){if(x===0)return y;var r=rgb2HSL(hex2RGB(y));return x<0?r[2]=r[2]*(1+x):r[2]=1-(1-r[2])*(1-x),rgb2Hex(hsl2RGB(r))}var DEF_MDW=6,MAX_MDW=15,MIN_MDW=1,MDW=DEF_MDW;function width2px(y){return Math.floor((y+Math.round(128/MDW)/256)*MDW)}function px2char(y){return Math.floor((y-5)/MDW*100+.5)/100}function char2width(y){return Math.round((y*MDW+5)/MDW*256)/256}function cycle_width(y){return char2width(px2char(width2px(y)))}function find_mdw_colw(y){var x=Math.abs(y-cycle_width(y)),r=MDW;if(x>.005)for(MDW=MIN_MDW;MDW<MAX_MDW;++MDW)Math.abs(y-cycle_width(y))<=x&&(x=Math.abs(y-cycle_width(y)),r=MDW);MDW=r}function process_col(y){y.width?(y.wpx=width2px(y.width),y.wch=px2char(y.wpx),y.MDW=MDW):y.wpx?(y.wch=px2char(y.wpx),y.width=char2width(y.wch),y.MDW=MDW):typeof y.wch=="number"&&(y.width=char2width(y.wch),y.wpx=width2px(y.width),y.MDW=MDW),y.customWidth&&delete y.customWidth}var DEF_PPI=96,PPI=DEF_PPI;function px2pt(y){return y*96/PPI}function pt2px(y){return y*PPI/96}var XLMLPatternTypeMap={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function parse_borders(y,x,r,b){x.Borders=[];var M={},z=!1;(y[0].match(tagregex)||[]).forEach(function(B){var R=parsexmltag(B);switch(strip_ns(R[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":M={},R.diagonalUp&&(M.diagonalUp=parsexmlbool(R.diagonalUp)),R.diagonalDown&&(M.diagonalDown=parsexmlbool(R.diagonalDown)),x.Borders.push(M);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":z=!0;break;case"</ext>":z=!1;break;default:if(b&&b.WTF&&!z)throw new Error("unrecognized "+R[0]+" in borders")}})}function parse_fills(y,x,r,b){x.Fills=[];var M={},z=!1;(y[0].match(tagregex)||[]).forEach(function(B){var R=parsexmltag(B);switch(strip_ns(R[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":M={},x.Fills.push(M);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":x.Fills.push(M),M={};break;case"<patternFill":case"<patternFill>":R.patternType&&(M.patternType=R.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":M.bgColor||(M.bgColor={}),R.indexed&&(M.bgColor.indexed=parseInt(R.indexed,10)),R.theme&&(M.bgColor.theme=parseInt(R.theme,10)),R.tint&&(M.bgColor.tint=parseFloat(R.tint)),R.rgb&&(M.bgColor.rgb=R.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":M.fgColor||(M.fgColor={}),R.theme&&(M.fgColor.theme=parseInt(R.theme,10)),R.tint&&(M.fgColor.tint=parseFloat(R.tint)),R.rgb!=null&&(M.fgColor.rgb=R.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":z=!0;break;case"</ext>":z=!1;break;default:if(b&&b.WTF&&!z)throw new Error("unrecognized "+R[0]+" in fills")}})}function parse_fonts(y,x,r,b){x.Fonts=[];var M={},z=!1;(y[0].match(tagregex)||[]).forEach(function(B){var R=parsexmltag(B);switch(strip_ns(R[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":x.Fonts.push(M),M={};break;case"<name":R.val&&(M.name=utf8read(R.val));break;case"<name/>":case"</name>":break;case"<b":M.bold=R.val?parsexmlbool(R.val):1;break;case"<b/>":M.bold=1;break;case"<i":M.italic=R.val?parsexmlbool(R.val):1;break;case"<i/>":M.italic=1;break;case"<u":switch(R.val){case"none":M.underline=0;break;case"single":M.underline=1;break;case"double":M.underline=2;break;case"singleAccounting":M.underline=33;break;case"doubleAccounting":M.underline=34;break}break;case"<u/>":M.underline=1;break;case"<strike":M.strike=R.val?parsexmlbool(R.val):1;break;case"<strike/>":M.strike=1;break;case"<outline":M.outline=R.val?parsexmlbool(R.val):1;break;case"<outline/>":M.outline=1;break;case"<shadow":M.shadow=R.val?parsexmlbool(R.val):1;break;case"<shadow/>":M.shadow=1;break;case"<condense":M.condense=R.val?parsexmlbool(R.val):1;break;case"<condense/>":M.condense=1;break;case"<extend":M.extend=R.val?parsexmlbool(R.val):1;break;case"<extend/>":M.extend=1;break;case"<sz":R.val&&(M.sz=+R.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":R.val&&(M.vertAlign=R.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":R.val&&(M.family=parseInt(R.val,10));break;case"<family/>":case"</family>":break;case"<scheme":R.val&&(M.scheme=R.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(R.val=="1")break;R.codepage=CS2CP[parseInt(R.val,10)];break;case"<color":if(M.color||(M.color={}),R.auto&&(M.color.auto=parsexmlbool(R.auto)),R.rgb)M.color.rgb=R.rgb.slice(-6);else if(R.indexed){M.color.index=parseInt(R.indexed,10);var I=XLSIcv[M.color.index];M.color.index==81&&(I=XLSIcv[1]),I||(I=XLSIcv[1]),M.color.rgb=I[0].toString(16)+I[1].toString(16)+I[2].toString(16)}else R.theme&&(M.color.theme=parseInt(R.theme,10),R.tint&&(M.color.tint=parseFloat(R.tint)),R.theme&&r.themeElements&&r.themeElements.clrScheme&&(M.color.rgb=rgb_tint(r.themeElements.clrScheme[M.color.theme].rgb,M.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":z=!0;break;case"</AlternateContent>":z=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":z=!0;break;case"</ext>":z=!1;break;default:if(b&&b.WTF&&!z)throw new Error("unrecognized "+R[0]+" in fonts")}})}function parse_numFmts(y,x,r){x.NumberFmt=[];for(var b=keys(table_fmt),M=0;M<b.length;++M)x.NumberFmt[b[M]]=table_fmt[b[M]];var z=y[0].match(tagregex);if(z)for(M=0;M<z.length;++M){var B=parsexmltag(z[M]);switch(strip_ns(B[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var R=unescapexml(utf8read(B.formatCode)),I=parseInt(B.numFmtId,10);if(x.NumberFmt[I]=R,I>0){if(I>392){for(I=392;I>60&&x.NumberFmt[I]!=null;--I);x.NumberFmt[I]=R}SSF_load(R,I)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+B[0]+" in numFmts")}}}function write_numFmts(y){var x=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var b=r[0];b<=r[1];++b)y[b]!=null&&(x[x.length]=writextag("numFmt",null,{numFmtId:b,formatCode:escapexml(y[b])}))}),x.length===1?"":(x[x.length]="</numFmts>",x[0]=writextag("numFmts",null,{count:x.length-2}).replace("/>",">"),x.join(""))}var cellXF_uint=["numFmtId","fillId","fontId","borderId","xfId"],cellXF_bool=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function parse_cellXfs(y,x,r){x.CellXf=[];var b,M=!1;(y[0].match(tagregex)||[]).forEach(function(z){var B=parsexmltag(z),R=0;switch(strip_ns(B[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(b=B,delete b[0],R=0;R<cellXF_uint.length;++R)b[cellXF_uint[R]]&&(b[cellXF_uint[R]]=parseInt(b[cellXF_uint[R]],10));for(R=0;R<cellXF_bool.length;++R)b[cellXF_bool[R]]&&(b[cellXF_bool[R]]=parsexmlbool(b[cellXF_bool[R]]));if(x.NumberFmt&&b.numFmtId>392){for(R=392;R>60;--R)if(x.NumberFmt[b.numFmtId]==x.NumberFmt[R]){b.numFmtId=R;break}}x.CellXf.push(b);break;case"</xf>":break;case"<alignment":case"<alignment/>":var I={};B.vertical&&(I.vertical=B.vertical),B.horizontal&&(I.horizontal=B.horizontal),B.textRotation!=null&&(I.textRotation=B.textRotation),B.indent&&(I.indent=B.indent),B.wrapText&&(I.wrapText=parsexmlbool(B.wrapText)),b.alignment=I;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":M=!0;break;case"</AlternateContent>":M=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":M=!0;break;case"</ext>":M=!1;break;default:if(r&&r.WTF&&!M)throw new Error("unrecognized "+B[0]+" in cellXfs")}})}function write_cellXfs(y){var x=[];return x[x.length]=writextag("cellXfs",null),y.forEach(function(r){x[x.length]=writextag("xf",null,r)}),x[x.length]="</cellXfs>",x.length===2?"":(x[0]=writextag("cellXfs",null,{count:x.length-2}).replace("/>",">"),x.join(""))}var parse_sty_xml=(function(){var x=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,b=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,M=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,z=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(R,I,O){var A={};if(!R)return A;R=R.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var T;return(T=R.match(x))&&parse_numFmts(T,A,O),(T=R.match(M))&&parse_fonts(T,A,I,O),(T=R.match(b))&&parse_fills(T,A,I,O),(T=R.match(z))&&parse_borders(T,A,I,O),(T=R.match(r))&&parse_cellXfs(T,A,O),A}})();function write_sty_xml(y,x){var r=[XML_HEADER,writextag("styleSheet",null,{xmlns:XMLNS_main[0],"xmlns:vt":XMLNS.vt})],b;return y.SSF&&(b=write_numFmts(y.SSF))!=null&&(r[r.length]=b),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(b=write_cellXfs(x.cellXfs))&&(r[r.length]=b),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function parse_BrtFmt(y,x){var r=y.read_shift(2),b=parse_XLWideString(y);return[r,b]}function write_BrtFmt(y,x,r){r||(r=new_buf(6+4*x.length)),r.write_shift(2,y),write_XLWideString(x,r);var b=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),b}function parse_BrtFont(y,x,r){var b={};b.sz=y.read_shift(2)/20;var M=parse_FontFlags(y);M.fItalic&&(b.italic=1),M.fCondense&&(b.condense=1),M.fExtend&&(b.extend=1),M.fShadow&&(b.shadow=1),M.fOutline&&(b.outline=1),M.fStrikeout&&(b.strike=1);var z=y.read_shift(2);switch(z===700&&(b.bold=1),y.read_shift(2)){case 1:b.vertAlign="superscript";break;case 2:b.vertAlign="subscript";break}var B=y.read_shift(1);B!=0&&(b.underline=B);var R=y.read_shift(1);R>0&&(b.family=R);var I=y.read_shift(1);switch(I>0&&(b.charset=I),y.l++,b.color=parse_BrtColor(y),y.read_shift(1)){case 1:b.scheme="major";break;case 2:b.scheme="minor";break}return b.name=parse_XLWideString(y),b}function write_BrtFont(y,x){x||(x=new_buf(153)),x.write_shift(2,y.sz*20),write_FontFlags(y,x),x.write_shift(2,y.bold?700:400);var r=0;y.vertAlign=="superscript"?r=1:y.vertAlign=="subscript"&&(r=2),x.write_shift(2,r),x.write_shift(1,y.underline||0),x.write_shift(1,y.family||0),x.write_shift(1,y.charset||0),x.write_shift(1,0),write_BrtColor(y.color,x);var b=0;return b=2,x.write_shift(1,b),write_XLWideString(y.name,x),x.length>x.l?x.slice(0,x.l):x}var XLSBFillPTNames=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],rev_XLSBFillPTNames,parse_BrtFill=parsenoop;function write_BrtFill(y,x){x||(x=new_buf(84)),rev_XLSBFillPTNames||(rev_XLSBFillPTNames=evert(XLSBFillPTNames));var r=rev_XLSBFillPTNames[y.patternType];r==null&&(r=40),x.write_shift(4,r);var b=0;if(r!=40)for(write_BrtColor({auto:1},x),write_BrtColor({auto:1},x);b<12;++b)x.write_shift(4,0);else{for(;b<4;++b)x.write_shift(4,0);for(;b<12;++b)x.write_shift(4,0)}return x.length>x.l?x.slice(0,x.l):x}function parse_BrtXF(y,x){var r=y.l+x,b=y.read_shift(2),M=y.read_shift(2);return y.l=r,{ixfe:b,numFmtId:M}}function write_BrtXF(y,x,r){r||(r=new_buf(16)),r.write_shift(2,x||0),r.write_shift(2,y.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var b=0;return r.write_shift(1,b),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function write_Blxf(y,x){return x||(x=new_buf(10)),x.write_shift(1,0),x.write_shift(1,0),x.write_shift(4,0),x.write_shift(4,0),x}var parse_BrtBorder=parsenoop;function write_BrtBorder(y,x){return x||(x=new_buf(51)),x.write_shift(1,0),write_Blxf(null,x),write_Blxf(null,x),write_Blxf(null,x),write_Blxf(null,x),write_Blxf(null,x),x.length>x.l?x.slice(0,x.l):x}function write_BrtStyle(y,x){return x||(x=new_buf(52)),x.write_shift(4,y.xfId),x.write_shift(2,1),x.write_shift(1,0),x.write_shift(1,0),write_XLNullableWideString(y.name||"",x),x.length>x.l?x.slice(0,x.l):x}function write_BrtBeginTableStyles(y,x,r){var b=new_buf(2052);return b.write_shift(4,y),write_XLNullableWideString(x,b),write_XLNullableWideString(r,b),b.length>b.l?b.slice(0,b.l):b}function parse_sty_bin(y,x,r){var b={};b.NumberFmt=[];for(var M in table_fmt)b.NumberFmt[M]=table_fmt[M];b.CellXf=[],b.Fonts=[];var z=[],B=!1;return recordhopper(y,function(I,O,A){switch(A){case 44:b.NumberFmt[I[0]]=I[1],SSF_load(I[1],I[0]);break;case 43:b.Fonts.push(I),I.color.theme!=null&&x&&x.themeElements&&x.themeElements.clrScheme&&(I.color.rgb=rgb_tint(x.themeElements.clrScheme[I.color.theme].rgb,I.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:z[z.length-1]==617&&b.CellXf.push(I);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:B=!0;break;case 36:B=!1;break;case 37:z.push(A),B=!0;break;case 38:z.pop(),B=!1;break;default:if(O.T>0)z.push(A);else if(O.T<0)z.pop();else if(!B||r.WTF&&z[z.length-1]!=37)throw new Error("Unexpected record 0x"+A.toString(16))}}),b}function write_FMTS_bin(y,x){if(x){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(b){for(var M=b[0];M<=b[1];++M)x[M]!=null&&++r}),r!=0&&(write_record(y,615,write_UInt32LE(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(b){for(var M=b[0];M<=b[1];++M)x[M]!=null&&write_record(y,44,write_BrtFmt(M,x[M]))}),write_record(y,616))}}function write_FONTS_bin(y){var x=1;write_record(y,611,write_UInt32LE(x)),write_record(y,43,write_BrtFont({sz:12,color:{theme:1},name:"Calibri",family:2})),write_record(y,612)}function write_FILLS_bin(y){var x=2;write_record(y,603,write_UInt32LE(x)),write_record(y,45,write_BrtFill({patternType:"none"})),write_record(y,45,write_BrtFill({patternType:"gray125"})),write_record(y,604)}function write_BORDERS_bin(y){var x=1;write_record(y,613,write_UInt32LE(x)),write_record(y,46,write_BrtBorder()),write_record(y,614)}function write_CELLSTYLEXFS_bin(y){var x=1;write_record(y,626,write_UInt32LE(x)),write_record(y,47,write_BrtXF({numFmtId:0},65535)),write_record(y,627)}function write_CELLXFS_bin(y,x){write_record(y,617,write_UInt32LE(x.length)),x.forEach(function(r){write_record(y,47,write_BrtXF(r,0))}),write_record(y,618)}function write_STYLES_bin(y){var x=1;write_record(y,619,write_UInt32LE(x)),write_record(y,48,write_BrtStyle({xfId:0,name:"Normal"})),write_record(y,620)}function write_DXFS_bin(y){var x=0;write_record(y,505,write_UInt32LE(x)),write_record(y,506)}function write_TABLESTYLES_bin(y){var x=0;write_record(y,508,write_BrtBeginTableStyles(x,"TableStyleMedium9","PivotStyleMedium4")),write_record(y,509)}function write_sty_bin(y,x){var r=buf_array();return write_record(r,278),write_FMTS_bin(r,y.SSF),write_FONTS_bin(r),write_FILLS_bin(r),write_BORDERS_bin(r),write_CELLSTYLEXFS_bin(r),write_CELLXFS_bin(r,x.cellXfs),write_STYLES_bin(r),write_DXFS_bin(r),write_TABLESTYLES_bin(r),write_record(r,279),r.end()}var XLSXThemeClrScheme=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function parse_clrScheme(y,x,r){x.themeElements.clrScheme=[];var b={};(y[0].match(tagregex)||[]).forEach(function(M){var z=parsexmltag(M);switch(z[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":b.rgb=z.val;break;case"<a:sysClr":b.rgb=z.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":z[0].charAt(1)==="/"?(x.themeElements.clrScheme[XLSXThemeClrScheme.indexOf(z[0])]=b,b={}):b.name=z[0].slice(3,z[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+z[0]+" in clrScheme")}})}function parse_fontScheme(){}function parse_fmtScheme(){}var clrsregex=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,fntsregex=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,fmtsregex=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function parse_themeElements(y,x,r){x.themeElements={};var b;[["clrScheme",clrsregex,parse_clrScheme],["fontScheme",fntsregex,parse_fontScheme],["fmtScheme",fmtsregex,parse_fmtScheme]].forEach(function(M){if(!(b=y.match(M[1])))throw new Error(M[0]+" not found in themeElements");M[2](b,x,r)})}var themeltregex=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function parse_theme_xml(y,x){(!y||y.length===0)&&(y=write_theme());var r,b={};if(!(r=y.match(themeltregex)))throw new Error("themeElements not found in theme");return parse_themeElements(r[0],b,x),b.raw=y,b}function write_theme(y,x){if(x&&x.themeXLSX)return x.themeXLSX;if(y&&typeof y.raw=="string")return y.raw;var r=[XML_HEADER];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function parse_Theme(y,x,r){var b=y.l+x,M=y.read_shift(4);if(M!==124226){if(!r.cellStyles){y.l=b;return}var z=y.slice(y.l);y.l=b;var B;try{B=zip_read(z,{type:"array"})}catch{return}var R=getzipstr(B,"theme/theme/theme1.xml",!0);if(R)return parse_theme_xml(R,r)}}function parse_ColorTheme(y){return y.read_shift(4)}function parse_FullColorExt(y){var x={};switch(x.xclrType=y.read_shift(2),x.nTintShade=y.read_shift(2),x.xclrType){case 0:y.l+=4;break;case 1:x.xclrValue=parse_IcvXF(y,4);break;case 2:x.xclrValue=parse_LongRGBA(y);break;case 3:x.xclrValue=parse_ColorTheme(y);break;case 4:y.l+=4;break}return y.l+=8,x}function parse_IcvXF(y,x){return parsenoop(y,x)}function parse_XFExtGradient(y,x){return parsenoop(y,x)}function parse_ExtProp(y){var x=y.read_shift(2),r=y.read_shift(2)-4,b=[x];switch(x){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:b[1]=parse_FullColorExt(y);break;case 6:b[1]=parse_XFExtGradient(y,r);break;case 14:case 15:b[1]=y.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+x+" "+r)}return b}function parse_XFExt(y,x){var r=y.l+x;y.l+=2;var b=y.read_shift(2);y.l+=2;for(var M=y.read_shift(2),z=[];M-- >0;)z.push(parse_ExtProp(y,r-y.l));return{ixfe:b,ext:z}}function update_xfext(y,x){x.forEach(function(r){r[0]})}function parse_BrtMdtinfo(y,x){return{flags:y.read_shift(4),version:y.read_shift(4),name:parse_XLWideString(y)}}function write_BrtMdtinfo(y){var x=new_buf(12+2*y.name.length);return x.write_shift(4,y.flags),x.write_shift(4,y.version),write_XLWideString(y.name,x),x.slice(0,x.l)}function parse_BrtMdb(y){for(var x=[],r=y.read_shift(4);r-- >0;)x.push([y.read_shift(4),y.read_shift(4)]);return x}function write_BrtMdb(y){var x=new_buf(4+8*y.length);x.write_shift(4,y.length);for(var r=0;r<y.length;++r)x.write_shift(4,y[r][0]),x.write_shift(4,y[r][1]);return x}function write_BrtBeginEsfmd(y,x){var r=new_buf(8+2*x.length);return r.write_shift(4,y),write_XLWideString(x,r),r.slice(0,r.l)}function parse_BrtBeginEsmdb(y){return y.l+=4,y.read_shift(4)!=0}function write_BrtBeginEsmdb(y,x){var r=new_buf(8);return r.write_shift(4,y),r.write_shift(4,1),r}function parse_xlmeta_bin(y,x,r){var b={Types:[],Cell:[],Value:[]},M=r||{},z=[],B=!1,R=2;return recordhopper(y,function(I,O,A){switch(A){case 335:b.Types.push({name:I.name});break;case 51:I.forEach(function(T){R==1?b.Cell.push({type:b.Types[T[0]-1].name,index:T[1]}):R==0&&b.Value.push({type:b.Types[T[0]-1].name,index:T[1]})});break;case 337:R=I?1:0;break;case 338:R=2;break;case 35:z.push(A),B=!0;break;case 36:z.pop(),B=!1;break;default:if(!O.T){if(!B||M.WTF&&z[z.length-1]!=35)throw new Error("Unexpected record 0x"+A.toString(16))}}}),b}function write_xlmeta_bin(){var y=buf_array();return write_record(y,332),write_record(y,334,write_UInt32LE(1)),write_record(y,335,write_BrtMdtinfo({name:"XLDAPR",version:12e4,flags:3496657072})),write_record(y,336),write_record(y,339,write_BrtBeginEsfmd(1,"XLDAPR")),write_record(y,52),write_record(y,35,write_UInt32LE(514)),write_record(y,4096,write_UInt32LE(0)),write_record(y,4097,writeuint16(1)),write_record(y,36),write_record(y,53),write_record(y,340),write_record(y,337,write_BrtBeginEsmdb(1)),write_record(y,51,write_BrtMdb([[1,0]])),write_record(y,338),write_record(y,333),y.end()}function parse_xlmeta_xml(y,x,r){var b={Types:[],Cell:[],Value:[]};if(!y)return b;var M=!1,z=2,B;return y.replace(tagregex,function(R){var I=parsexmltag(R);switch(strip_ns(I[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":b.Types.push({name:I.name});break;case"</metadataType>":break;case"<futureMetadata":for(var O=0;O<b.Types.length;++O)b.Types[O].name==I.name&&(B=b.Types[O]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":z==1?b.Cell.push({type:b.Types[I.t-1].name,index:+I.v}):z==0&&b.Value.push({type:b.Types[I.t-1].name,index:+I.v});break;case"</rc>":break;case"<cellMetadata":z=1;break;case"</cellMetadata>":z=2;break;case"<valueMetadata":z=0;break;case"</valueMetadata>":z=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":M=!0;break;case"</ext>":M=!1;break;case"<rvb":if(!B)break;B.offsets||(B.offsets=[]),B.offsets.push(+I.i);break;default:if(!M&&r.WTF)throw new Error("unrecognized "+I[0]+" in metadata")}return R}),b}function write_xlmeta_xml(){var y=[XML_HEADER];return y.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),y.join("")}function parse_cc_xml(y){var x=[];if(!y)return x;var r=1;return(y.match(tagregex)||[]).forEach(function(b){var M=parsexmltag(b);switch(M[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete M[0],M.i?r=M.i:M.i=r,x.push(M);break}}),x}function parse_BrtCalcChainItem$(y){var x={};x.i=y.read_shift(4);var r={};r.r=y.read_shift(4),r.c=y.read_shift(4),x.r=encode_cell(r);var b=y.read_shift(1);return b&2&&(x.l="1"),b&8&&(x.a="1"),x}function parse_cc_bin(y,x,r){var b=[];return recordhopper(y,function(z,B,R){switch(R){case 63:b.push(z);break;default:if(!B.T)throw new Error("Unexpected record 0x"+R.toString(16))}}),b}function parse_xlink_xml(){}function parse_xlink_bin(y,x,r,b){if(!y)return y;var M=b||{},z=!1;recordhopper(y,function(R,I,O){switch(O){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:z=!0;break;case 36:z=!1;break;default:if(!I.T){if(!z||M.WTF)throw new Error("Unexpected record 0x"+O.toString(16))}}},M)}function parse_drawing(y,x){if(!y)return"??";var r=(y.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return x["!id"][r].Target}var _shapeid=1024;function write_comments_vml(y,x){for(var r=[21600,21600],b=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),M=[writextag("xml",null,{"xmlns:v":XLMLNS.v,"xmlns:o":XLMLNS.o,"xmlns:x":XLMLNS.x,"xmlns:mv":XLMLNS.mv}).replace(/\/>/,">"),writextag("o:shapelayout",writextag("o:idmap",null,{"v:ext":"edit",data:y}),{"v:ext":"edit"}),writextag("v:shapetype",[writextag("v:stroke",null,{joinstyle:"miter"}),writextag("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:b})];_shapeid<y*1e3;)_shapeid+=1e3;return x.forEach(function(z){var B=decode_cell(z[0]),R={color2:"#BEFF82",type:"gradient"};R.type=="gradient"&&(R.angle="-180");var I=R.type=="gradient"?writextag("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,O=writextag("v:fill",I,R),A={on:"t",obscured:"t"};++_shapeid,M=M.concat(["<v:shape"+wxt_helper({id:"_x0000_s"+_shapeid,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(z[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",O,writextag("v:shadow",null,A),writextag("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",writetag("x:Anchor",[B.c+1,0,B.r+1,0,B.c+3,20,B.r+5,20].join(",")),writetag("x:AutoFill","False"),writetag("x:Row",String(B.r)),writetag("x:Column",String(B.c)),z[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),M.push("</xml>"),M.join("")}function sheet_insert_comments(y,x,r,b){var M=Array.isArray(y),z;x.forEach(function(B){var R=decode_cell(B.ref);if(M?(y[R.r]||(y[R.r]=[]),z=y[R.r][R.c]):z=y[B.ref],!z){z={t:"z"},M?y[R.r][R.c]=z:y[B.ref]=z;var I=safe_decode_range(y["!ref"]||"BDWGO1000001:A1");I.s.r>R.r&&(I.s.r=R.r),I.e.r<R.r&&(I.e.r=R.r),I.s.c>R.c&&(I.s.c=R.c),I.e.c<R.c&&(I.e.c=R.c);var O=encode_range(I);O!==y["!ref"]&&(y["!ref"]=O)}z.c||(z.c=[]);var A={a:B.author,t:B.t,r:B.r,T:r};B.h&&(A.h=B.h);for(var T=z.c.length-1;T>=0;--T){if(!r&&z.c[T].T)return;r&&!z.c[T].T&&z.c.splice(T,1)}if(r&&b){for(T=0;T<b.length;++T)if(A.a==b[T].id){A.a=b[T].name||A.a;break}}z.c.push(A)})}function parse_comments_xml(y,x){if(y.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],b=[],M=y.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);M&&M[1]&&M[1].split(/<\/\w*:?author>/).forEach(function(B){if(!(B===""||B.trim()==="")){var R=B.match(/<(?:\w+:)?author[^>]*>(.*)/);R&&r.push(R[1])}});var z=y.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return z&&z[1]&&z[1].split(/<\/\w*:?comment>/).forEach(function(B){if(!(B===""||B.trim()==="")){var R=B.match(/<(?:\w+:)?comment[^>]*>/);if(R){var I=parsexmltag(R[0]),O={author:I.authorId&&r[I.authorId]||"sheetjsghost",ref:I.ref,guid:I.guid},A=decode_cell(I.ref);if(!(x.sheetRows&&x.sheetRows<=A.r)){var T=B.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),U=!!T&&!!T[1]&&parse_si(T[1])||{r:"",t:"",h:""};O.r=U.r,U.r=="<t></t>"&&(U.t=U.h=""),O.t=(U.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),x.cellHTML&&(O.h=U.h),b.push(O)}}}}),b}function write_comments_xml(y){var x=[XML_HEADER,writextag("comments",null,{xmlns:XMLNS_main[0]})],r=[];return x.push("<authors>"),y.forEach(function(b){b[1].forEach(function(M){var z=escapexml(M.a);r.indexOf(z)==-1&&(r.push(z),x.push("<author>"+z+"</author>")),M.T&&M.ID&&r.indexOf("tc="+M.ID)==-1&&(r.push("tc="+M.ID),x.push("<author>tc="+M.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),x.push("<author>SheetJ5</author>")),x.push("</authors>"),x.push("<commentList>"),y.forEach(function(b){var M=0,z=[];if(b[1][0]&&b[1][0].T&&b[1][0].ID?M=r.indexOf("tc="+b[1][0].ID):b[1].forEach(function(I){I.a&&(M=r.indexOf(escapexml(I.a))),z.push(I.t||"")}),x.push('<comment ref="'+b[0]+'" authorId="'+M+'"><text>'),z.length<=1)x.push(writetag("t",escapexml(z[0]||"")));else{for(var B=`Comment:
    `+z[0]+`
`,R=1;R<z.length;++R)B+=`Reply:
    `+z[R]+`
`;x.push(writetag("t",escapexml(B)))}x.push("</text></comment>")}),x.push("</commentList>"),x.length>2&&(x[x.length]="</comments>",x[1]=x[1].replace("/>",">")),x.join("")}function parse_tcmnt_xml(y,x){var r=[],b=!1,M={},z=0;return y.replace(tagregex,function(R,I){var O=parsexmltag(R);switch(strip_ns(O[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":M={author:O.personId,guid:O.id,ref:O.ref,T:1};break;case"</threadedComment>":M.t!=null&&r.push(M);break;case"<text>":case"<text":z=I+R.length;break;case"</text>":M.t=y.slice(z,I).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":b=!0;break;case"</mentions>":b=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":b=!0;break;case"</ext>":b=!1;break;default:if(!b&&x.WTF)throw new Error("unrecognized "+O[0]+" in threaded comments")}return R}),r}function write_tcmnt_xml(y,x,r){var b=[XML_HEADER,writextag("ThreadedComments",null,{xmlns:XMLNS.TCMNT}).replace(/[\/]>/,">")];return y.forEach(function(M){var z="";(M[1]||[]).forEach(function(B,R){if(!B.T){delete B.ID;return}B.a&&x.indexOf(B.a)==-1&&x.push(B.a);var I={ref:M[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};R==0?z=I.id:I.parentId=z,B.ID=I.id,B.a&&(I.personId="{54EE7950-7262-4200-6969-"+("000000000000"+x.indexOf(B.a)).slice(-12)+"}"),b.push(writextag("threadedComment",writetag("text",B.t||""),I))})}),b.push("</ThreadedComments>"),b.join("")}function parse_people_xml(y,x){var r=[],b=!1;return y.replace(tagregex,function(z){var B=parsexmltag(z);switch(strip_ns(B[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:B.displayname,id:B.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":b=!0;break;case"</ext>":b=!1;break;default:if(!b&&x.WTF)throw new Error("unrecognized "+B[0]+" in threaded comments")}return z}),r}function write_people_xml(y){var x=[XML_HEADER,writextag("personList",null,{xmlns:XMLNS.TCMNT,"xmlns:x":XMLNS_main[0]}).replace(/[\/]>/,">")];return y.forEach(function(r,b){x.push(writextag("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+b).slice(-12)+"}",userId:r,providerId:"None"}))}),x.push("</personList>"),x.join("")}function parse_BrtBeginComment(y){var x={};x.iauthor=y.read_shift(4);var r=parse_UncheckedRfX(y);return x.rfx=r.s,x.ref=encode_cell(r.s),y.l+=16,x}function write_BrtBeginComment(y,x){return x==null&&(x=new_buf(36)),x.write_shift(4,y[1].iauthor),write_UncheckedRfX(y[0],x),x.write_shift(4,0),x.write_shift(4,0),x.write_shift(4,0),x.write_shift(4,0),x}var parse_BrtCommentAuthor=parse_XLWideString;function write_BrtCommentAuthor(y){return write_XLWideString(y.slice(0,54))}function parse_comments_bin(y,x){var r=[],b=[],M={},z=!1;return recordhopper(y,function(R,I,O){switch(O){case 632:b.push(R);break;case 635:M=R;break;case 637:M.t=R.t,M.h=R.h,M.r=R.r;break;case 636:if(M.author=b[M.iauthor],delete M.iauthor,x.sheetRows&&M.rfx&&x.sheetRows<=M.rfx.r)break;M.t||(M.t=""),delete M.rfx,r.push(M);break;case 3072:break;case 35:z=!0;break;case 36:z=!1;break;case 37:break;case 38:break;default:if(!I.T){if(!z||x.WTF)throw new Error("Unexpected record 0x"+O.toString(16))}}}),r}function write_comments_bin(y){var x=buf_array(),r=[];return write_record(x,628),write_record(x,630),y.forEach(function(b){b[1].forEach(function(M){r.indexOf(M.a)>-1||(r.push(M.a.slice(0,54)),write_record(x,632,write_BrtCommentAuthor(M.a)))})}),write_record(x,631),write_record(x,633),y.forEach(function(b){b[1].forEach(function(M){M.iauthor=r.indexOf(M.a);var z={s:decode_cell(b[0]),e:decode_cell(b[0])};write_record(x,635,write_BrtBeginComment([z,M])),M.t&&M.t.length>0&&write_record(x,637,write_BrtCommentText(M)),write_record(x,636),delete M.iauthor})}),write_record(x,634),write_record(x,629),x.end()}var CT_VBA="application/vnd.ms-office.vbaProject";function make_vba_xls(y){var x=CFB.utils.cfb_new({root:"R"});return y.FullPaths.forEach(function(r,b){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var M=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");CFB.utils.cfb_add(x,M,y.FileIndex[b].content)}}),CFB.write(x)}function fill_vba_xls(y,x){x.FullPaths.forEach(function(r,b){if(b!=0){var M=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");M.slice(-1)!=="/"&&CFB.utils.cfb_add(y,M,x.FileIndex[b].content)}})}var VBAFMTS=["xlsb","xlsm","xlam","biff8","xla"];function parse_ds_bin(){return{"!type":"dialog"}}function parse_ds_xml(){return{"!type":"dialog"}}function parse_ms_bin(){return{"!type":"macro"}}function parse_ms_xml(){return{"!type":"macro"}}var rc_to_a1=(function(){var y=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,x={r:0,c:0};function r(b,M,z,B){var R=!1,I=!1;z.length==0?I=!0:z.charAt(0)=="["&&(I=!0,z=z.slice(1,-1)),B.length==0?R=!0:B.charAt(0)=="["&&(R=!0,B=B.slice(1,-1));var O=z.length>0?parseInt(z,10)|0:0,A=B.length>0?parseInt(B,10)|0:0;return R?A+=x.c:--A,I?O+=x.r:--O,M+(R?"":"$")+encode_col(A)+(I?"":"$")+encode_row(O)}return function(M,z){return x=z,M.replace(y,r)}})(),crefregex=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,a1_to_rc=(function(){return function(x,r){return x.replace(crefregex,function(b,M,z,B,R,I){var O=decode_col(B)-(z?0:r.c),A=decode_row(I)-(R?0:r.r),T=A==0?"":R?A+1:"["+A+"]",U=O==0?"":z?O+1:"["+O+"]";return M+"R"+T+"C"+U})}})();function shift_formula_str(y,x){return y.replace(crefregex,function(r,b,M,z,B,R){return b+(M=="$"?M+z:encode_col(decode_col(z)+x.c))+(B=="$"?B+R:encode_row(decode_row(R)+x.r))})}function shift_formula_xlsx(y,x,r){var b=decode_range(x),M=b.s,z=decode_cell(r),B={r:z.r-M.r,c:z.c-M.c};return shift_formula_str(y,B)}function fuzzyfmla(y){return y.length!=1}function _xlfn(y){return y.replace(/_xlfn\./g,"")}function parseread1(y){y.l+=1}function parse_ColRelU(y,x){var r=y.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function parse_RgceArea(y,x,r){var b=2;if(r){if(r.biff>=2&&r.biff<=5)return parse_RgceArea_BIFF2(y);r.biff==12&&(b=4)}var M=y.read_shift(b),z=y.read_shift(b),B=parse_ColRelU(y),R=parse_ColRelU(y);return{s:{r:M,c:B[0],cRel:B[1],rRel:B[2]},e:{r:z,c:R[0],cRel:R[1],rRel:R[2]}}}function parse_RgceArea_BIFF2(y){var x=parse_ColRelU(y),r=parse_ColRelU(y),b=y.read_shift(1),M=y.read_shift(1);return{s:{r:x[0],c:b,cRel:x[1],rRel:x[2]},e:{r:r[0],c:M,cRel:r[1],rRel:r[2]}}}function parse_RgceAreaRel(y,x,r){if(r.biff<8)return parse_RgceArea_BIFF2(y);var b=y.read_shift(r.biff==12?4:2),M=y.read_shift(r.biff==12?4:2),z=parse_ColRelU(y),B=parse_ColRelU(y);return{s:{r:b,c:z[0],cRel:z[1],rRel:z[2]},e:{r:M,c:B[0],cRel:B[1],rRel:B[2]}}}function parse_RgceLoc(y,x,r){if(r&&r.biff>=2&&r.biff<=5)return parse_RgceLoc_BIFF2(y);var b=y.read_shift(r&&r.biff==12?4:2),M=parse_ColRelU(y);return{r:b,c:M[0],cRel:M[1],rRel:M[2]}}function parse_RgceLoc_BIFF2(y){var x=parse_ColRelU(y),r=y.read_shift(1);return{r:x[0],c:r,cRel:x[1],rRel:x[2]}}function parse_RgceElfLoc(y){var x=y.read_shift(2),r=y.read_shift(2);return{r:x,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function parse_RgceLocRel(y,x,r){var b=r&&r.biff?r.biff:8;if(b>=2&&b<=5)return parse_RgceLocRel_BIFF2(y);var M=y.read_shift(b>=12?4:2),z=y.read_shift(2),B=(z&16384)>>14,R=(z&32768)>>15;if(z&=16383,R==1)for(;M>524287;)M-=1048576;if(B==1)for(;z>8191;)z=z-16384;return{r:M,c:z,cRel:B,rRel:R}}function parse_RgceLocRel_BIFF2(y){var x=y.read_shift(2),r=y.read_shift(1),b=(x&32768)>>15,M=(x&16384)>>14;return x&=16383,b==1&&x>=8192&&(x=x-16384),M==1&&r>=128&&(r=r-256),{r:x,c:r,cRel:M,rRel:b}}function parse_PtgArea(y,x,r){var b=(y[y.l++]&96)>>5,M=parse_RgceArea(y,r.biff>=2&&r.biff<=5?6:8,r);return[b,M]}function parse_PtgArea3d(y,x,r){var b=(y[y.l++]&96)>>5,M=y.read_shift(2,"i"),z=8;if(r)switch(r.biff){case 5:y.l+=12,z=6;break;case 12:z=12;break}var B=parse_RgceArea(y,z,r);return[b,M,B]}function parse_PtgAreaErr(y,x,r){var b=(y[y.l++]&96)>>5;return y.l+=r&&r.biff>8?12:r.biff<8?6:8,[b]}function parse_PtgAreaErr3d(y,x,r){var b=(y[y.l++]&96)>>5,M=y.read_shift(2),z=8;if(r)switch(r.biff){case 5:y.l+=12,z=6;break;case 12:z=12;break}return y.l+=z,[b,M]}function parse_PtgAreaN(y,x,r){var b=(y[y.l++]&96)>>5,M=parse_RgceAreaRel(y,x-1,r);return[b,M]}function parse_PtgArray(y,x,r){var b=(y[y.l++]&96)>>5;return y.l+=r.biff==2?6:r.biff==12?14:7,[b]}function parse_PtgAttrBaxcel(y){var x=y[y.l+1]&1,r=1;return y.l+=4,[x,r]}function parse_PtgAttrChoose(y,x,r){y.l+=2;for(var b=y.read_shift(r&&r.biff==2?1:2),M=[],z=0;z<=b;++z)M.push(y.read_shift(r&&r.biff==2?1:2));return M}function parse_PtgAttrGoto(y,x,r){var b=y[y.l+1]&255?1:0;return y.l+=2,[b,y.read_shift(r&&r.biff==2?1:2)]}function parse_PtgAttrIf(y,x,r){var b=y[y.l+1]&255?1:0;return y.l+=2,[b,y.read_shift(r&&r.biff==2?1:2)]}function parse_PtgAttrIfError(y){var x=y[y.l+1]&255?1:0;return y.l+=2,[x,y.read_shift(2)]}function parse_PtgAttrSemi(y,x,r){var b=y[y.l+1]&255?1:0;return y.l+=r&&r.biff==2?3:4,[b]}function parse_PtgAttrSpaceType(y){var x=y.read_shift(1),r=y.read_shift(1);return[x,r]}function parse_PtgAttrSpace(y){return y.read_shift(2),parse_PtgAttrSpaceType(y)}function parse_PtgAttrSpaceSemi(y){return y.read_shift(2),parse_PtgAttrSpaceType(y)}function parse_PtgRef(y,x,r){var b=(y[y.l]&96)>>5;y.l+=1;var M=parse_RgceLoc(y,0,r);return[b,M]}function parse_PtgRefN(y,x,r){var b=(y[y.l]&96)>>5;y.l+=1;var M=parse_RgceLocRel(y,0,r);return[b,M]}function parse_PtgRef3d(y,x,r){var b=(y[y.l]&96)>>5;y.l+=1;var M=y.read_shift(2);r&&r.biff==5&&(y.l+=12);var z=parse_RgceLoc(y,0,r);return[b,M,z]}function parse_PtgFunc(y,x,r){var b=(y[y.l]&96)>>5;y.l+=1;var M=y.read_shift(r&&r.biff<=3?1:2);return[FtabArgc[M],Ftab[M],b]}function parse_PtgFuncVar(y,x,r){var b=y[y.l++],M=y.read_shift(1),z=r&&r.biff<=3?[b==88?-1:0,y.read_shift(1)]:parsetab(y);return[M,(z[0]===0?Ftab:Cetab)[z[1]]]}function parsetab(y){return[y[y.l+1]>>7,y.read_shift(2)&32767]}function parse_PtgAttrSum(y,x,r){y.l+=r&&r.biff==2?3:4}function parse_PtgExp(y,x,r){if(y.l++,r&&r.biff==12)return[y.read_shift(4,"i"),0];var b=y.read_shift(2),M=y.read_shift(r&&r.biff==2?1:2);return[b,M]}function parse_PtgErr(y){return y.l++,BErr[y.read_shift(1)]}function parse_PtgInt(y){return y.l++,y.read_shift(2)}function parse_PtgBool(y){return y.l++,y.read_shift(1)!==0}function parse_PtgNum(y){return y.l++,parse_Xnum(y)}function parse_PtgStr(y,x,r){return y.l++,parse_ShortXLUnicodeString(y,x-1,r)}function parse_SerAr(y,x){var r=[y.read_shift(1)];if(x==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=parsebool(y,1)?"TRUE":"FALSE",x!=12&&(y.l+=7);break;case 37:case 16:r[1]=BErr[y[y.l]],y.l+=x==12?4:8;break;case 0:y.l+=8;break;case 1:r[1]=parse_Xnum(y);break;case 2:r[1]=parse_XLUnicodeString2(y,0,{biff:x>0&&x<8?2:x});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function parse_PtgExtraMem(y,x,r){for(var b=y.read_shift(r.biff==12?4:2),M=[],z=0;z!=b;++z)M.push((r.biff==12?parse_UncheckedRfX:parse_Ref8U)(y));return M}function parse_PtgExtraArray(y,x,r){var b=0,M=0;r.biff==12?(b=y.read_shift(4),M=y.read_shift(4)):(M=1+y.read_shift(1),b=1+y.read_shift(2)),r.biff>=2&&r.biff<8&&(--b,--M==0&&(M=256));for(var z=0,B=[];z!=b&&(B[z]=[]);++z)for(var R=0;R!=M;++R)B[z][R]=parse_SerAr(y,r.biff);return B}function parse_PtgName(y,x,r){var b=y.read_shift(1)>>>5&3,M=!r||r.biff>=8?4:2,z=y.read_shift(M);switch(r.biff){case 2:y.l+=5;break;case 3:case 4:y.l+=8;break;case 5:y.l+=12;break}return[b,0,z]}function parse_PtgNameX(y,x,r){if(r.biff==5)return parse_PtgNameX_BIFF5(y);var b=y.read_shift(1)>>>5&3,M=y.read_shift(2),z=y.read_shift(4);return[b,M,z]}function parse_PtgNameX_BIFF5(y){var x=y.read_shift(1)>>>5&3,r=y.read_shift(2,"i");y.l+=8;var b=y.read_shift(2);return y.l+=12,[x,r,b]}function parse_PtgMemArea(y,x,r){var b=y.read_shift(1)>>>5&3;y.l+=r&&r.biff==2?3:4;var M=y.read_shift(r&&r.biff==2?1:2);return[b,M]}function parse_PtgMemFunc(y,x,r){var b=y.read_shift(1)>>>5&3,M=y.read_shift(r&&r.biff==2?1:2);return[b,M]}function parse_PtgRefErr(y,x,r){var b=y.read_shift(1)>>>5&3;return y.l+=4,r.biff<8&&y.l--,r.biff==12&&(y.l+=2),[b]}function parse_PtgRefErr3d(y,x,r){var b=(y[y.l++]&96)>>5,M=y.read_shift(2),z=4;if(r)switch(r.biff){case 5:z=15;break;case 12:z=6;break}return y.l+=z,[b,M]}var parse_PtgMemErr=parsenoop,parse_PtgMemNoMem=parsenoop,parse_PtgTbl=parsenoop;function parse_PtgElfLoc(y,x,r){return y.l+=2,[parse_RgceElfLoc(y)]}function parse_PtgElfNoop(y){return y.l+=6,[]}var parse_PtgElfCol=parse_PtgElfLoc,parse_PtgElfColS=parse_PtgElfNoop,parse_PtgElfColSV=parse_PtgElfNoop,parse_PtgElfColV=parse_PtgElfLoc;function parse_PtgElfLel(y){return y.l+=2,[parseuint16(y),y.read_shift(2)&1]}var parse_PtgElfRadical=parse_PtgElfLoc,parse_PtgElfRadicalLel=parse_PtgElfLel,parse_PtgElfRadicalS=parse_PtgElfNoop,parse_PtgElfRw=parse_PtgElfLoc,parse_PtgElfRwV=parse_PtgElfLoc,PtgListRT=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function parse_PtgList(y){y.l+=2;var x=y.read_shift(2),r=y.read_shift(2),b=y.read_shift(4),M=y.read_shift(2),z=y.read_shift(2),B=PtgListRT[r>>2&31];return{ixti:x,coltype:r&3,rt:B,idx:b,c:M,C:z}}function parse_PtgSxName(y){return y.l+=2,[y.read_shift(4)]}function parse_PtgSheet(y,x,r){return y.l+=5,y.l+=2,y.l+=r.biff==2?1:4,["PTGSHEET"]}function parse_PtgEndSheet(y,x,r){return y.l+=r.biff==2?4:5,["PTGENDSHEET"]}function parse_PtgMemAreaN(y){var x=y.read_shift(1)>>>5&3,r=y.read_shift(2);return[x,r]}function parse_PtgMemNoMemN(y){var x=y.read_shift(1)>>>5&3,r=y.read_shift(2);return[x,r]}function parse_PtgAttrNoop(y){return y.l+=4,[0,0]}var PtgTypes={1:{n:"PtgExp",f:parse_PtgExp},2:{n:"PtgTbl",f:parse_PtgTbl},3:{n:"PtgAdd",f:parseread1},4:{n:"PtgSub",f:parseread1},5:{n:"PtgMul",f:parseread1},6:{n:"PtgDiv",f:parseread1},7:{n:"PtgPower",f:parseread1},8:{n:"PtgConcat",f:parseread1},9:{n:"PtgLt",f:parseread1},10:{n:"PtgLe",f:parseread1},11:{n:"PtgEq",f:parseread1},12:{n:"PtgGe",f:parseread1},13:{n:"PtgGt",f:parseread1},14:{n:"PtgNe",f:parseread1},15:{n:"PtgIsect",f:parseread1},16:{n:"PtgUnion",f:parseread1},17:{n:"PtgRange",f:parseread1},18:{n:"PtgUplus",f:parseread1},19:{n:"PtgUminus",f:parseread1},20:{n:"PtgPercent",f:parseread1},21:{n:"PtgParen",f:parseread1},22:{n:"PtgMissArg",f:parseread1},23:{n:"PtgStr",f:parse_PtgStr},26:{n:"PtgSheet",f:parse_PtgSheet},27:{n:"PtgEndSheet",f:parse_PtgEndSheet},28:{n:"PtgErr",f:parse_PtgErr},29:{n:"PtgBool",f:parse_PtgBool},30:{n:"PtgInt",f:parse_PtgInt},31:{n:"PtgNum",f:parse_PtgNum},32:{n:"PtgArray",f:parse_PtgArray},33:{n:"PtgFunc",f:parse_PtgFunc},34:{n:"PtgFuncVar",f:parse_PtgFuncVar},35:{n:"PtgName",f:parse_PtgName},36:{n:"PtgRef",f:parse_PtgRef},37:{n:"PtgArea",f:parse_PtgArea},38:{n:"PtgMemArea",f:parse_PtgMemArea},39:{n:"PtgMemErr",f:parse_PtgMemErr},40:{n:"PtgMemNoMem",f:parse_PtgMemNoMem},41:{n:"PtgMemFunc",f:parse_PtgMemFunc},42:{n:"PtgRefErr",f:parse_PtgRefErr},43:{n:"PtgAreaErr",f:parse_PtgAreaErr},44:{n:"PtgRefN",f:parse_PtgRefN},45:{n:"PtgAreaN",f:parse_PtgAreaN},46:{n:"PtgMemAreaN",f:parse_PtgMemAreaN},47:{n:"PtgMemNoMemN",f:parse_PtgMemNoMemN},57:{n:"PtgNameX",f:parse_PtgNameX},58:{n:"PtgRef3d",f:parse_PtgRef3d},59:{n:"PtgArea3d",f:parse_PtgArea3d},60:{n:"PtgRefErr3d",f:parse_PtgRefErr3d},61:{n:"PtgAreaErr3d",f:parse_PtgAreaErr3d},255:{}},PtgDupes={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},Ptg18={1:{n:"PtgElfLel",f:parse_PtgElfLel},2:{n:"PtgElfRw",f:parse_PtgElfRw},3:{n:"PtgElfCol",f:parse_PtgElfCol},6:{n:"PtgElfRwV",f:parse_PtgElfRwV},7:{n:"PtgElfColV",f:parse_PtgElfColV},10:{n:"PtgElfRadical",f:parse_PtgElfRadical},11:{n:"PtgElfRadicalS",f:parse_PtgElfRadicalS},13:{n:"PtgElfColS",f:parse_PtgElfColS},15:{n:"PtgElfColSV",f:parse_PtgElfColSV},16:{n:"PtgElfRadicalLel",f:parse_PtgElfRadicalLel},25:{n:"PtgList",f:parse_PtgList},29:{n:"PtgSxName",f:parse_PtgSxName},255:{}},Ptg19={0:{n:"PtgAttrNoop",f:parse_PtgAttrNoop},1:{n:"PtgAttrSemi",f:parse_PtgAttrSemi},2:{n:"PtgAttrIf",f:parse_PtgAttrIf},4:{n:"PtgAttrChoose",f:parse_PtgAttrChoose},8:{n:"PtgAttrGoto",f:parse_PtgAttrGoto},16:{n:"PtgAttrSum",f:parse_PtgAttrSum},32:{n:"PtgAttrBaxcel",f:parse_PtgAttrBaxcel},33:{n:"PtgAttrBaxcel",f:parse_PtgAttrBaxcel},64:{n:"PtgAttrSpace",f:parse_PtgAttrSpace},65:{n:"PtgAttrSpaceSemi",f:parse_PtgAttrSpaceSemi},128:{n:"PtgAttrIfError",f:parse_PtgAttrIfError},255:{}};function parse_RgbExtra(y,x,r,b){if(b.biff<8)return parsenoop(y,x);for(var M=y.l+x,z=[],B=0;B!==r.length;++B)switch(r[B][0]){case"PtgArray":r[B][1]=parse_PtgExtraArray(y,0,b),z.push(r[B][1]);break;case"PtgMemArea":r[B][2]=parse_PtgExtraMem(y,r[B][1],b),z.push(r[B][2]);break;case"PtgExp":b&&b.biff==12&&(r[B][1][1]=y.read_shift(4),z.push(r[B][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[B][0]}return x=M-y.l,x!==0&&z.push(parsenoop(y,x)),z}function parse_Rgce(y,x,r){for(var b=y.l+x,M,z,B=[];b!=y.l;)x=b-y.l,z=y[y.l],M=PtgTypes[z]||PtgTypes[PtgDupes[z]],(z===24||z===25)&&(M=(z===24?Ptg18:Ptg19)[y[y.l+1]]),!M||!M.f?parsenoop(y,x):B.push([M.n,M.f(y,x,r)]);return B}function stringify_array(y){for(var x=[],r=0;r<y.length;++r){for(var b=y[r],M=[],z=0;z<b.length;++z){var B=b[z];if(B)switch(B[0]){case 2:M.push('"'+B[1].replace(/"/g,'""')+'"');break;default:M.push(B[1])}else M.push("")}x.push(M.join(","))}return x.join(";")}var PtgBinOp={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function formula_quote_sheet_name(y,x){if(!y&&!(x&&x.biff<=5&&x.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(y)?"'"+y+"'":y}function get_ixti_raw(y,x,r){if(!y)return"SH33TJSERR0";if(r.biff>8&&(!y.XTI||!y.XTI[x]))return y.SheetNames[x];if(!y.XTI)return"SH33TJSERR6";var b=y.XTI[x];if(r.biff<8)return x>1e4&&(x-=65536),x<0&&(x=-x),x==0?"":y.XTI[x-1];if(!b)return"SH33TJSERR1";var M="";if(r.biff>8)switch(y[b[0]][0]){case 357:return M=b[1]==-1?"#REF":y.SheetNames[b[1]],b[1]==b[2]?M:M+":"+y.SheetNames[b[2]];case 358:return r.SID!=null?y.SheetNames[r.SID]:"SH33TJSSAME"+y[b[0]][0];case 355:default:return"SH33TJSSRC"+y[b[0]][0]}switch(y[b[0]][0][0]){case 1025:return M=b[1]==-1?"#REF":y.SheetNames[b[1]]||"SH33TJSERR3",b[1]==b[2]?M:M+":"+y.SheetNames[b[2]];case 14849:return y[b[0]].slice(1).map(function(z){return z.Name}).join(";;");default:return y[b[0]][0][3]?(M=b[1]==-1?"#REF":y[b[0]][0][3][b[1]]||"SH33TJSERR4",b[1]==b[2]?M:M+":"+y[b[0]][0][3][b[2]]):"SH33TJSERR2"}}function get_ixti(y,x,r){var b=get_ixti_raw(y,x,r);return b=="#REF"?b:formula_quote_sheet_name(b,r)}function stringify_formula(y,x,r,b,M){var z=M&&M.biff||8,B={s:{c:0,r:0}},R=[],I,O,A,T=0,U=0,q,K="";if(!y[0]||!y[0][0])return"";for(var J=-1,te="",oe=0,ue=y[0].length;oe<ue;++oe){var fe=y[0][oe];switch(fe[0]){case"PtgUminus":R.push("-"+R.pop());break;case"PtgUplus":R.push("+"+R.pop());break;case"PtgPercent":R.push(R.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(I=R.pop(),O=R.pop(),J>=0){switch(y[0][J][1][0]){case 0:te=fill(" ",y[0][J][1][1]);break;case 1:te=fill("\r",y[0][J][1][1]);break;default:if(te="",M.WTF)throw new Error("Unexpected PtgAttrSpaceType "+y[0][J][1][0])}O=O+te,J=-1}R.push(O+PtgBinOp[fe[0]]+I);break;case"PtgIsect":I=R.pop(),O=R.pop(),R.push(O+" "+I);break;case"PtgUnion":I=R.pop(),O=R.pop(),R.push(O+","+I);break;case"PtgRange":I=R.pop(),O=R.pop(),R.push(O+":"+I);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":A=shift_cell_xls(fe[1][1],B,M),R.push(encode_cell_xls(A,z));break;case"PtgRefN":A=r?shift_cell_xls(fe[1][1],r,M):fe[1][1],R.push(encode_cell_xls(A,z));break;case"PtgRef3d":T=fe[1][1],A=shift_cell_xls(fe[1][2],B,M),K=get_ixti(b,T,M),R.push(K+"!"+encode_cell_xls(A,z));break;case"PtgFunc":case"PtgFuncVar":var Le=fe[1][0],Ge=fe[1][1];Le||(Le=0),Le&=127;var ze=Le==0?[]:R.slice(-Le);R.length-=Le,Ge==="User"&&(Ge=ze.shift()),R.push(Ge+"("+ze.join(",")+")");break;case"PtgBool":R.push(fe[1]?"TRUE":"FALSE");break;case"PtgInt":R.push(fe[1]);break;case"PtgNum":R.push(String(fe[1]));break;case"PtgStr":R.push('"'+fe[1].replace(/"/g,'""')+'"');break;case"PtgErr":R.push(fe[1]);break;case"PtgAreaN":q=shift_range_xls(fe[1][1],r?{s:r}:B,M),R.push(encode_range_xls(q,M));break;case"PtgArea":q=shift_range_xls(fe[1][1],B,M),R.push(encode_range_xls(q,M));break;case"PtgArea3d":T=fe[1][1],q=fe[1][2],K=get_ixti(b,T,M),R.push(K+"!"+encode_range_xls(q,M));break;case"PtgAttrSum":R.push("SUM("+R.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":U=fe[1][2];var je=(b.names||[])[U-1]||(b[0]||[])[U],Be=je?je.Name:"SH33TJSNAME"+String(U);Be&&Be.slice(0,6)=="_xlfn."&&!M.xlfn&&(Be=Be.slice(6)),R.push(Be);break;case"PtgNameX":var _e=fe[1][1];U=fe[1][2];var He;if(M.biff<=5)_e<0&&(_e=-_e),b[_e]&&(He=b[_e][U]);else{var tt="";if(((b[_e]||[])[0]||[])[0]==14849||(((b[_e]||[])[0]||[])[0]==1025?b[_e][U]&&b[_e][U].itab>0&&(tt=b.SheetNames[b[_e][U].itab-1]+"!"):tt=b.SheetNames[U-1]+"!"),b[_e]&&b[_e][U])tt+=b[_e][U].Name;else if(b[0]&&b[0][U])tt+=b[0][U].Name;else{var Ke=(get_ixti_raw(b,_e,M)||"").split(";;");Ke[U-1]?tt=Ke[U-1]:tt+="SH33TJSERRX"}R.push(tt);break}He||(He={Name:"SH33TJSERRY"}),R.push(He.Name);break;case"PtgParen":var Ze="(",Qe=")";if(J>=0){switch(te="",y[0][J][1][0]){case 2:Ze=fill(" ",y[0][J][1][1])+Ze;break;case 3:Ze=fill("\r",y[0][J][1][1])+Ze;break;case 4:Qe=fill(" ",y[0][J][1][1])+Qe;break;case 5:Qe=fill("\r",y[0][J][1][1])+Qe;break;default:if(M.WTF)throw new Error("Unexpected PtgAttrSpaceType "+y[0][J][1][0])}J=-1}R.push(Ze+R.pop()+Qe);break;case"PtgRefErr":R.push("#REF!");break;case"PtgRefErr3d":R.push("#REF!");break;case"PtgExp":A={c:fe[1][1],r:fe[1][0]};var vt={c:r.c,r:r.r};if(b.sharedf[encode_cell(A)]){var pt=b.sharedf[encode_cell(A)];R.push(stringify_formula(pt,B,vt,b,M))}else{var ut=!1;for(I=0;I!=b.arrayf.length;++I)if(O=b.arrayf[I],!(A.c<O[0].s.c||A.c>O[0].e.c)&&!(A.r<O[0].s.r||A.r>O[0].e.r)){R.push(stringify_formula(O[1],B,vt,b,M)),ut=!0;break}ut||R.push(fe[1])}break;case"PtgArray":R.push("{"+stringify_array(fe[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":J=oe;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":R.push("");break;case"PtgAreaErr":R.push("#REF!");break;case"PtgAreaErr3d":R.push("#REF!");break;case"PtgList":R.push("Table"+fe[1].idx+"[#"+fe[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(fe));default:throw new Error("Unrecognized Formula Token: "+String(fe))}var Mt=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(M.biff!=3&&J>=0&&Mt.indexOf(y[0][oe][0])==-1){fe=y[0][J];var bt=!0;switch(fe[1][0]){case 4:bt=!1;case 0:te=fill(" ",fe[1][1]);break;case 5:bt=!1;case 1:te=fill("\r",fe[1][1]);break;default:if(te="",M.WTF)throw new Error("Unexpected PtgAttrSpaceType "+fe[1][0])}R.push((bt?te:"")+R.pop()+(bt?"":te)),J=-1}}if(R.length>1&&M.WTF)throw new Error("bad formula stack");return R[0]}function parse_ArrayParsedFormula(y,x,r){var b=y.l+x,M=r.biff==2?1:2,z,B=y.read_shift(M);if(B==65535)return[[],parsenoop(y,x-2)];var R=parse_Rgce(y,B,r);return x!==B+M&&(z=parse_RgbExtra(y,x-B-M,R,r)),y.l=b,[R,z]}function parse_XLSCellParsedFormula(y,x,r){var b=y.l+x,M=r.biff==2?1:2,z,B=y.read_shift(M);if(B==65535)return[[],parsenoop(y,x-2)];var R=parse_Rgce(y,B,r);return x!==B+M&&(z=parse_RgbExtra(y,x-B-M,R,r)),y.l=b,[R,z]}function parse_NameParsedFormula(y,x,r,b){var M=y.l+x,z=parse_Rgce(y,b,r),B;return M!==y.l&&(B=parse_RgbExtra(y,M-y.l,z,r)),[z,B]}function parse_SharedParsedFormula(y,x,r){var b=y.l+x,M,z=y.read_shift(2),B=parse_Rgce(y,z,r);return z==65535?[[],parsenoop(y,x-2)]:(x!==z+2&&(M=parse_RgbExtra(y,b-z-2,B,r)),[B,M])}function parse_FormulaValue(y){var x;if(__readUInt16LE(y,y.l+6)!==65535)return[parse_Xnum(y),"n"];switch(y[y.l]){case 0:return y.l+=8,["String","s"];case 1:return x=y[y.l+2]===1,y.l+=8,[x,"b"];case 2:return x=y[y.l+2],y.l+=8,[x,"e"];case 3:return y.l+=8,["","s"]}return[]}function write_FormulaValue(y){if(y==null){var x=new_buf(8);return x.write_shift(1,3),x.write_shift(1,0),x.write_shift(2,0),x.write_shift(2,0),x.write_shift(2,65535),x}else if(typeof y=="number")return write_Xnum(y);return write_Xnum(0)}function parse_Formula(y,x,r){var b=y.l+x,M=parse_XLSCell(y);r.biff==2&&++y.l;var z=parse_FormulaValue(y),B=y.read_shift(1);r.biff!=2&&(y.read_shift(1),r.biff>=5&&y.read_shift(4));var R=parse_XLSCellParsedFormula(y,b-y.l,r);return{cell:M,val:z[0],formula:R,shared:B>>3&1,tt:z[1]}}function write_Formula(y,x,r,b,M){var z=write_XLSCell(x,r,M),B=write_FormulaValue(y.v),R=new_buf(6),I=33;R.write_shift(2,I),R.write_shift(4,0);for(var O=new_buf(y.bf.length),A=0;A<y.bf.length;++A)O[A]=y.bf[A];var T=bconcat([z,B,R,O]);return T}function parse_XLSBParsedFormula(y,x,r){var b=y.read_shift(4),M=parse_Rgce(y,b,r),z=y.read_shift(4),B=z>0?parse_RgbExtra(y,z,M,r):null;return[M,B]}var parse_XLSBArrayParsedFormula=parse_XLSBParsedFormula,parse_XLSBCellParsedFormula=parse_XLSBParsedFormula,parse_XLSBNameParsedFormula=parse_XLSBParsedFormula,parse_XLSBSharedParsedFormula=parse_XLSBParsedFormula,Cetab={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},Ftab={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},FtabArgc={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function ods_to_csf_formula(y){return y.slice(0,3)=="of:"&&(y=y.slice(3)),y.charCodeAt(0)==61&&(y=y.slice(1),y.charCodeAt(0)==61&&(y=y.slice(1))),y=y.replace(/COM\.MICROSOFT\./g,""),y=y.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(x,r){return r.replace(/\./g,"")}),y=y.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),y.replace(/[;~]/g,",").replace(/\|/g,";")}function csf_to_ods_formula(y){var x="of:="+y.replace(crefregex,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return x.replace(/;/g,"|").replace(/,/g,";")}function ods_to_csf_3D(y){var x=y.split(":"),r=x[0].split(".")[0];return[r,x[0].split(".")[1]+(x.length>1?":"+(x[1].split(".")[1]||x[1].split(".")[0]):"")]}function csf_to_ods_3D(y){return y.replace(/\./,"!")}var strs={},_ssfopts={},browser_has_Map=typeof Map<"u";function get_sst_id(y,x,r){var b=0,M=y.length;if(r){if(browser_has_Map?r.has(x):Object.prototype.hasOwnProperty.call(r,x)){for(var z=browser_has_Map?r.get(x):r[x];b<z.length;++b)if(y[z[b]].t===x)return y.Count++,z[b]}}else for(;b<M;++b)if(y[b].t===x)return y.Count++,b;return y[M]={t:x},y.Count++,y.Unique++,r&&(browser_has_Map?(r.has(x)||r.set(x,[]),r.get(x).push(M)):(Object.prototype.hasOwnProperty.call(r,x)||(r[x]=[]),r[x].push(M))),M}function col_obj_w(y,x){var r={min:y+1,max:y+1},b=-1;return x.MDW&&(MDW=x.MDW),x.width!=null?r.customWidth=1:x.wpx!=null?b=px2char(x.wpx):x.wch!=null&&(b=x.wch),b>-1?(r.width=char2width(b),r.customWidth=1):x.width!=null&&(r.width=x.width),x.hidden&&(r.hidden=!0),x.level!=null&&(r.outlineLevel=r.level=x.level),r}function default_margins(y,x){if(y){var r=[.7,.7,.75,.75,.3,.3];x=="xlml"&&(r=[1,1,1,1,.5,.5]),y.left==null&&(y.left=r[0]),y.right==null&&(y.right=r[1]),y.top==null&&(y.top=r[2]),y.bottom==null&&(y.bottom=r[3]),y.header==null&&(y.header=r[4]),y.footer==null&&(y.footer=r[5])}}function get_cell_style(y,x,r){var b=r.revssf[x.z!=null?x.z:"General"],M=60,z=y.length;if(b==null&&r.ssf){for(;M<392;++M)if(r.ssf[M]==null){SSF_load(x.z,M),r.ssf[M]=x.z,r.revssf[x.z]=b=M;break}}for(M=0;M!=z;++M)if(y[M].numFmtId===b)return M;return y[z]={numFmtId:b,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},z}function safe_format(y,x,r,b,M,z){try{b.cellNF&&(y.z=table_fmt[x])}catch(R){if(b.WTF)throw R}if(!(y.t==="z"&&!b.cellStyles)){if(y.t==="d"&&typeof y.v=="string"&&(y.v=parseDate(y.v)),(!b||b.cellText!==!1)&&y.t!=="z")try{if(table_fmt[x]==null&&SSF_load(SSFImplicit[x]||"General",x),y.t==="e")y.w=y.w||BErr[y.v];else if(x===0)if(y.t==="n")(y.v|0)===y.v?y.w=y.v.toString(10):y.w=SSF_general_num(y.v);else if(y.t==="d"){var B=datenum(y.v);(B|0)===B?y.w=B.toString(10):y.w=SSF_general_num(B)}else{if(y.v===void 0)return"";y.w=SSF_general(y.v,_ssfopts)}else y.t==="d"?y.w=SSF_format(x,datenum(y.v),_ssfopts):y.w=SSF_format(x,y.v,_ssfopts)}catch(R){if(b.WTF)throw R}if(b.cellStyles&&r!=null)try{y.s=z.Fills[r],y.s.fgColor&&y.s.fgColor.theme&&!y.s.fgColor.rgb&&(y.s.fgColor.rgb=rgb_tint(M.themeElements.clrScheme[y.s.fgColor.theme].rgb,y.s.fgColor.tint||0),b.WTF&&(y.s.fgColor.raw_rgb=M.themeElements.clrScheme[y.s.fgColor.theme].rgb)),y.s.bgColor&&y.s.bgColor.theme&&(y.s.bgColor.rgb=rgb_tint(M.themeElements.clrScheme[y.s.bgColor.theme].rgb,y.s.bgColor.tint||0),b.WTF&&(y.s.bgColor.raw_rgb=M.themeElements.clrScheme[y.s.bgColor.theme].rgb))}catch(R){if(b.WTF&&z.Fills)throw R}}}function check_ws(y,x,r){if(y&&y["!ref"]){var b=safe_decode_range(y["!ref"]);if(b.e.c<b.s.c||b.e.r<b.s.r)throw new Error("Bad range ("+r+"): "+y["!ref"])}}function parse_ws_xml_dim(y,x){var r=safe_decode_range(x);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(y["!ref"]=encode_range(r))}var mergecregex=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,sheetdataregex=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,hlinkregex=/<(?:\w:)?hyperlink [^>]*>/mg,dimregex=/"(\w*:\w*)"/,colregex=/<(?:\w:)?col\b[^>]*[\/]?>/g,afregex=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,marginregex=/<(?:\w:)?pageMargins[^>]*\/>/g,sheetprregex=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,sheetprregex2=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,svsregex=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function parse_ws_xml(y,x,r,b,M,z,B){if(!y)return y;b||(b={"!id":{}});var R=x.dense?[]:{},I={s:{r:2e6,c:2e6},e:{r:0,c:0}},O="",A="",T=y.match(sheetdataregex);T?(O=y.slice(0,T.index),A=y.slice(T.index+T[0].length)):O=A=y;var U=O.match(sheetprregex);U?parse_ws_xml_sheetpr(U[0],R,M,r):(U=O.match(sheetprregex2))&&parse_ws_xml_sheetpr2(U[0],U[1]||"",R,M,r);var q=(O.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(q>0){var K=O.slice(q,q+50).match(dimregex);K&&parse_ws_xml_dim(R,K[1])}var J=O.match(svsregex);J&&J[1]&&parse_ws_xml_sheetviews(J[1],M);var te=[];if(x.cellStyles){var oe=O.match(colregex);oe&&parse_ws_xml_cols(te,oe)}T&&parse_ws_xml_data(T[1],R,x,I,z,B);var ue=A.match(afregex);ue&&(R["!autofilter"]=parse_ws_xml_autofilter(ue[0]));var fe=[],Le=A.match(mergecregex);if(Le)for(q=0;q!=Le.length;++q)fe[q]=safe_decode_range(Le[q].slice(Le[q].indexOf('"')+1));var Ge=A.match(hlinkregex);Ge&&parse_ws_xml_hlinks(R,Ge,b);var ze=A.match(marginregex);if(ze&&(R["!margins"]=parse_ws_xml_margins(parsexmltag(ze[0]))),!R["!ref"]&&I.e.c>=I.s.c&&I.e.r>=I.s.r&&(R["!ref"]=encode_range(I)),x.sheetRows>0&&R["!ref"]){var je=safe_decode_range(R["!ref"]);x.sheetRows<=+je.e.r&&(je.e.r=x.sheetRows-1,je.e.r>I.e.r&&(je.e.r=I.e.r),je.e.r<je.s.r&&(je.s.r=je.e.r),je.e.c>I.e.c&&(je.e.c=I.e.c),je.e.c<je.s.c&&(je.s.c=je.e.c),R["!fullref"]=R["!ref"],R["!ref"]=encode_range(je))}return te.length>0&&(R["!cols"]=te),fe.length>0&&(R["!merges"]=fe),R}function write_ws_xml_merges(y){if(y.length===0)return"";for(var x='<mergeCells count="'+y.length+'">',r=0;r!=y.length;++r)x+='<mergeCell ref="'+encode_range(y[r])+'"/>';return x+"</mergeCells>"}function parse_ws_xml_sheetpr(y,x,r,b){var M=parsexmltag(y);r.Sheets[b]||(r.Sheets[b]={}),M.codeName&&(r.Sheets[b].CodeName=unescapexml(utf8read(M.codeName)))}function parse_ws_xml_sheetpr2(y,x,r,b,M){parse_ws_xml_sheetpr(y.slice(0,y.indexOf(">")),r,b,M)}function write_ws_xml_sheetpr(y,x,r,b,M){var z=!1,B={},R=null;if(b.bookType!=="xlsx"&&x.vbaraw){var I=x.SheetNames[r];try{x.Workbook&&(I=x.Workbook.Sheets[r].CodeName||I)}catch{}z=!0,B.codeName=utf8write(escapexml(I))}if(y&&y["!outline"]){var O={summaryBelow:1,summaryRight:1};y["!outline"].above&&(O.summaryBelow=0),y["!outline"].left&&(O.summaryRight=0),R=(R||"")+writextag("outlinePr",null,O)}!z&&!R||(M[M.length]=writextag("sheetPr",R,B))}var sheetprot_deffalse=["objects","scenarios","selectLockedCells","selectUnlockedCells"],sheetprot_deftrue=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function write_ws_xml_protection(y){var x={sheet:1};return sheetprot_deffalse.forEach(function(r){y[r]!=null&&y[r]&&(x[r]="1")}),sheetprot_deftrue.forEach(function(r){y[r]!=null&&!y[r]&&(x[r]="0")}),y.password&&(x.password=crypto_CreatePasswordVerifier_Method1(y.password).toString(16).toUpperCase()),writextag("sheetProtection",null,x)}function parse_ws_xml_hlinks(y,x,r){for(var b=Array.isArray(y),M=0;M!=x.length;++M){var z=parsexmltag(utf8read(x[M]),!0);if(!z.ref)return;var B=((r||{})["!id"]||[])[z.id];B?(z.Target=B.Target,z.location&&(z.Target+="#"+unescapexml(z.location))):(z.Target="#"+unescapexml(z.location),B={Target:z.Target,TargetMode:"Internal"}),z.Rel=B,z.tooltip&&(z.Tooltip=z.tooltip,delete z.tooltip);for(var R=safe_decode_range(z.ref),I=R.s.r;I<=R.e.r;++I)for(var O=R.s.c;O<=R.e.c;++O){var A=encode_cell({c:O,r:I});b?(y[I]||(y[I]=[]),y[I][O]||(y[I][O]={t:"z",v:void 0}),y[I][O].l=z):(y[A]||(y[A]={t:"z",v:void 0}),y[A].l=z)}}}function parse_ws_xml_margins(y){var x={};return["left","right","top","bottom","header","footer"].forEach(function(r){y[r]&&(x[r]=parseFloat(y[r]))}),x}function write_ws_xml_margins(y){return default_margins(y),writextag("pageMargins",null,y)}function parse_ws_xml_cols(y,x){for(var r=!1,b=0;b!=x.length;++b){var M=parsexmltag(x[b],!0);M.hidden&&(M.hidden=parsexmlbool(M.hidden));var z=parseInt(M.min,10)-1,B=parseInt(M.max,10)-1;for(M.outlineLevel&&(M.level=+M.outlineLevel||0),delete M.min,delete M.max,M.width=+M.width,!r&&M.width&&(r=!0,find_mdw_colw(M.width)),process_col(M);z<=B;)y[z++]=dup(M)}}function write_ws_xml_cols(y,x){for(var r=["<cols>"],b,M=0;M!=x.length;++M)(b=x[M])&&(r[r.length]=writextag("col",null,col_obj_w(M,b)));return r[r.length]="</cols>",r.join("")}function parse_ws_xml_autofilter(y){var x={ref:(y.match(/ref="([^"]*)"/)||[])[1]};return x}function write_ws_xml_autofilter(y,x,r,b){var M=typeof y.ref=="string"?y.ref:encode_range(y.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var z=r.Workbook.Names,B=decode_range(M);B.s.r==B.e.r&&(B.e.r=decode_range(x["!ref"]).e.r,M=encode_range(B));for(var R=0;R<z.length;++R){var I=z[R];if(I.Name=="_xlnm._FilterDatabase"&&I.Sheet==b){I.Ref="'"+r.SheetNames[b]+"'!"+M;break}}return R==z.length&&z.push({Name:"_xlnm._FilterDatabase",Sheet:b,Ref:"'"+r.SheetNames[b]+"'!"+M}),writextag("autoFilter",null,{ref:M})}var sviewregex=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function parse_ws_xml_sheetviews(y,x){x.Views||(x.Views=[{}]),(y.match(sviewregex)||[]).forEach(function(r,b){var M=parsexmltag(r);x.Views[b]||(x.Views[b]={}),+M.zoomScale&&(x.Views[b].zoom=+M.zoomScale),parsexmlbool(M.rightToLeft)&&(x.Views[b].RTL=!0)})}function write_ws_xml_sheetviews(y,x,r,b){var M={workbookViewId:"0"};return(((b||{}).Workbook||{}).Views||[])[0]&&(M.rightToLeft=b.Workbook.Views[0].RTL?"1":"0"),writextag("sheetViews",writextag("sheetView",null,M),{})}function write_ws_xml_cell(y,x,r,b){if(y.c&&r["!comments"].push([x,y.c]),y.v===void 0&&typeof y.f!="string"||y.t==="z"&&!y.f)return"";var M="",z=y.t,B=y.v;if(y.t!=="z")switch(y.t){case"b":M=y.v?"1":"0";break;case"n":M=""+y.v;break;case"e":M=BErr[y.v];break;case"d":b&&b.cellDates?M=parseDate(y.v,-1).toISOString():(y=dup(y),y.t="n",M=""+(y.v=datenum(parseDate(y.v)))),typeof y.z>"u"&&(y.z=table_fmt[14]);break;default:M=y.v;break}var R=writetag("v",escapexml(M)),I={r:x},O=get_cell_style(b.cellXfs,y,b);switch(O!==0&&(I.s=O),y.t){case"n":break;case"d":I.t="d";break;case"b":I.t="b";break;case"e":I.t="e";break;case"z":break;default:if(y.v==null){delete y.t;break}if(y.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(b&&b.bookSST){R=writetag("v",""+get_sst_id(b.Strings,y.v,b.revStrings)),I.t="s";break}I.t="str";break}if(y.t!=z&&(y.t=z,y.v=B),typeof y.f=="string"&&y.f){var A=y.F&&y.F.slice(0,x.length)==x?{t:"array",ref:y.F}:null;R=writextag("f",escapexml(y.f),A)+(y.v!=null?R:"")}return y.l&&r["!links"].push([x,y.l]),y.D&&(I.cm=1),writextag("c",R,I)}var parse_ws_xml_data=(function(){var y=/<(?:\w+:)?c[ \/>]/,x=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,b=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,M=/ref=["']([^"']*)["']/,z=matchtag("v"),B=matchtag("f");return function(I,O,A,T,U,q){for(var K=0,J="",te=[],oe=[],ue=0,fe=0,Le=0,Ge="",ze,je,Be=0,_e=0,He,tt,Ke=0,Ze=0,Qe=Array.isArray(q.CellXf),vt,pt=[],ut=[],Mt=Array.isArray(O),bt=[],ar={},dt=!1,yt=!!A.sheetStubs,Gt=I.split(x),Bt=0,Dt=Gt.length;Bt!=Dt;++Bt){J=Gt[Bt].trim();var Ct=J.length;if(Ct!==0){var It=0;e:for(K=0;K<Ct;++K)switch(J[K]){case">":if(J[K-1]!="/"){++K;break e}if(A&&A.cellStyles){if(je=parsexmltag(J.slice(It,K),!0),Be=je.r!=null?parseInt(je.r,10):Be+1,_e=-1,A.sheetRows&&A.sheetRows<Be)continue;ar={},dt=!1,je.ht&&(dt=!0,ar.hpt=parseFloat(je.ht),ar.hpx=pt2px(ar.hpt)),je.hidden=="1"&&(dt=!0,ar.hidden=!0),je.outlineLevel!=null&&(dt=!0,ar.level=+je.outlineLevel),dt&&(bt[Be-1]=ar)}break;case"<":It=K;break}if(It>=K)break;if(je=parsexmltag(J.slice(It,K),!0),Be=je.r!=null?parseInt(je.r,10):Be+1,_e=-1,!(A.sheetRows&&A.sheetRows<Be)){T.s.r>Be-1&&(T.s.r=Be-1),T.e.r<Be-1&&(T.e.r=Be-1),A&&A.cellStyles&&(ar={},dt=!1,je.ht&&(dt=!0,ar.hpt=parseFloat(je.ht),ar.hpx=pt2px(ar.hpt)),je.hidden=="1"&&(dt=!0,ar.hidden=!0),je.outlineLevel!=null&&(dt=!0,ar.level=+je.outlineLevel),dt&&(bt[Be-1]=ar)),te=J.slice(K).split(y);for(var lr=0;lr!=te.length&&te[lr].trim().charAt(0)=="<";++lr);for(te=te.slice(lr),K=0;K!=te.length;++K)if(J=te[K].trim(),J.length!==0){if(oe=J.match(r),ue=K,fe=0,Le=0,J="<c "+(J.slice(0,1)=="<"?">":"")+J,oe!=null&&oe.length===2){for(ue=0,Ge=oe[1],fe=0;fe!=Ge.length&&!((Le=Ge.charCodeAt(fe)-64)<1||Le>26);++fe)ue=26*ue+Le;--ue,_e=ue}else++_e;for(fe=0;fe!=J.length&&J.charCodeAt(fe)!==62;++fe);if(++fe,je=parsexmltag(J.slice(0,fe),!0),je.r||(je.r=encode_cell({r:Be-1,c:_e})),Ge=J.slice(fe),ze={t:""},(oe=Ge.match(z))!=null&&oe[1]!==""&&(ze.v=unescapexml(oe[1])),A.cellFormula){if((oe=Ge.match(B))!=null&&oe[1]!==""){if(ze.f=unescapexml(utf8read(oe[1])).replace(/\r\n/g,`
`),A.xlfn||(ze.f=_xlfn(ze.f)),oe[0].indexOf('t="array"')>-1)ze.F=(Ge.match(M)||[])[1],ze.F.indexOf(":")>-1&&pt.push([safe_decode_range(ze.F),ze.F]);else if(oe[0].indexOf('t="shared"')>-1){tt=parsexmltag(oe[0]);var Je=unescapexml(utf8read(oe[1]));A.xlfn||(Je=_xlfn(Je)),ut[parseInt(tt.si,10)]=[tt,Je,je.r]}}else(oe=Ge.match(/<f[^>]*\/>/))&&(tt=parsexmltag(oe[0]),ut[tt.si]&&(ze.f=shift_formula_xlsx(ut[tt.si][1],ut[tt.si][2],je.r)));var Ve=decode_cell(je.r);for(fe=0;fe<pt.length;++fe)Ve.r>=pt[fe][0].s.r&&Ve.r<=pt[fe][0].e.r&&Ve.c>=pt[fe][0].s.c&&Ve.c<=pt[fe][0].e.c&&(ze.F=pt[fe][1])}if(je.t==null&&ze.v===void 0)if(ze.f||ze.F)ze.v=0,ze.t="n";else if(yt)ze.t="z";else continue;else ze.t=je.t||"n";switch(T.s.c>_e&&(T.s.c=_e),T.e.c<_e&&(T.e.c=_e),ze.t){case"n":if(ze.v==""||ze.v==null){if(!yt)continue;ze.t="z"}else ze.v=parseFloat(ze.v);break;case"s":if(typeof ze.v>"u"){if(!yt)continue;ze.t="z"}else He=strs[parseInt(ze.v,10)],ze.v=He.t,ze.r=He.r,A.cellHTML&&(ze.h=He.h);break;case"str":ze.t="s",ze.v=ze.v!=null?utf8read(ze.v):"",A.cellHTML&&(ze.h=escapehtml(ze.v));break;case"inlineStr":oe=Ge.match(b),ze.t="s",oe!=null&&(He=parse_si(oe[1]))?(ze.v=He.t,A.cellHTML&&(ze.h=He.h)):ze.v="";break;case"b":ze.v=parsexmlbool(ze.v);break;case"d":A.cellDates?ze.v=parseDate(ze.v,1):(ze.v=datenum(parseDate(ze.v,1)),ze.t="n");break;case"e":(!A||A.cellText!==!1)&&(ze.w=ze.v),ze.v=RBErr[ze.v];break}if(Ke=Ze=0,vt=null,Qe&&je.s!==void 0&&(vt=q.CellXf[je.s],vt!=null&&(vt.numFmtId!=null&&(Ke=vt.numFmtId),A.cellStyles&&vt.fillId!=null&&(Ze=vt.fillId))),safe_format(ze,Ke,Ze,A,U,q),A.cellDates&&Qe&&ze.t=="n"&&fmt_is_date(table_fmt[Ke])&&(ze.t="d",ze.v=numdate(ze.v)),je.cm&&A.xlmeta){var st=(A.xlmeta.Cell||[])[+je.cm-1];st&&st.type=="XLDAPR"&&(ze.D=!0)}if(Mt){var it=decode_cell(je.r);O[it.r]||(O[it.r]=[]),O[it.r][it.c]=ze}else O[je.r]=ze}}}}bt.length>0&&(O["!rows"]=bt)}})();function write_ws_xml_data(y,x,r,b){var M=[],z=[],B=safe_decode_range(y["!ref"]),R="",I,O="",A=[],T=0,U=0,q=y["!rows"],K=Array.isArray(y),J={r:O},te,oe=-1;for(U=B.s.c;U<=B.e.c;++U)A[U]=encode_col(U);for(T=B.s.r;T<=B.e.r;++T){for(z=[],O=encode_row(T),U=B.s.c;U<=B.e.c;++U){I=A[U]+O;var ue=K?(y[T]||[])[U]:y[I];ue!==void 0&&(R=write_ws_xml_cell(ue,I,y,x))!=null&&z.push(R)}(z.length>0||q&&q[T])&&(J={r:O},q&&q[T]&&(te=q[T],te.hidden&&(J.hidden=1),oe=-1,te.hpx?oe=px2pt(te.hpx):te.hpt&&(oe=te.hpt),oe>-1&&(J.ht=oe,J.customHeight=1),te.level&&(J.outlineLevel=te.level)),M[M.length]=writextag("row",z.join(""),J))}if(q)for(;T<q.length;++T)q&&q[T]&&(J={r:T+1},te=q[T],te.hidden&&(J.hidden=1),oe=-1,te.hpx?oe=px2pt(te.hpx):te.hpt&&(oe=te.hpt),oe>-1&&(J.ht=oe,J.customHeight=1),te.level&&(J.outlineLevel=te.level),M[M.length]=writextag("row","",J));return M.join("")}function write_ws_xml(y,x,r,b){var M=[XML_HEADER,writextag("worksheet",null,{xmlns:XMLNS_main[0],"xmlns:r":XMLNS.r})],z=r.SheetNames[y],B=0,R="",I=r.Sheets[z];I==null&&(I={});var O=I["!ref"]||"A1",A=safe_decode_range(O);if(A.e.c>16383||A.e.r>1048575){if(x.WTF)throw new Error("Range "+O+" exceeds format limit A1:XFD1048576");A.e.c=Math.min(A.e.c,16383),A.e.r=Math.min(A.e.c,1048575),O=encode_range(A)}b||(b={}),I["!comments"]=[];var T=[];write_ws_xml_sheetpr(I,r,y,x,M),M[M.length]=writextag("dimension",null,{ref:O}),M[M.length]=write_ws_xml_sheetviews(I,x,y,r),x.sheetFormat&&(M[M.length]=writextag("sheetFormatPr",null,{defaultRowHeight:x.sheetFormat.defaultRowHeight||"16",baseColWidth:x.sheetFormat.baseColWidth||"10",outlineLevelRow:x.sheetFormat.outlineLevelRow||"7"})),I["!cols"]!=null&&I["!cols"].length>0&&(M[M.length]=write_ws_xml_cols(I,I["!cols"])),M[B=M.length]="<sheetData/>",I["!links"]=[],I["!ref"]!=null&&(R=write_ws_xml_data(I,x),R.length>0&&(M[M.length]=R)),M.length>B+1&&(M[M.length]="</sheetData>",M[B]=M[B].replace("/>",">")),I["!protect"]&&(M[M.length]=write_ws_xml_protection(I["!protect"])),I["!autofilter"]!=null&&(M[M.length]=write_ws_xml_autofilter(I["!autofilter"],I,r,y)),I["!merges"]!=null&&I["!merges"].length>0&&(M[M.length]=write_ws_xml_merges(I["!merges"]));var U=-1,q,K=-1;return I["!links"].length>0&&(M[M.length]="<hyperlinks>",I["!links"].forEach(function(J){J[1].Target&&(q={ref:J[0]},J[1].Target.charAt(0)!="#"&&(K=add_rels(b,-1,escapexml(J[1].Target).replace(/#.*$/,""),RELS.HLINK),q["r:id"]="rId"+K),(U=J[1].Target.indexOf("#"))>-1&&(q.location=escapexml(J[1].Target.slice(U+1))),J[1].Tooltip&&(q.tooltip=escapexml(J[1].Tooltip)),M[M.length]=writextag("hyperlink",null,q))}),M[M.length]="</hyperlinks>"),delete I["!links"],I["!margins"]!=null&&(M[M.length]=write_ws_xml_margins(I["!margins"])),(!x||x.ignoreEC||x.ignoreEC==null)&&(M[M.length]=writetag("ignoredErrors",writextag("ignoredError",null,{numberStoredAsText:1,sqref:O}))),T.length>0&&(K=add_rels(b,-1,"../drawings/drawing"+(y+1)+".xml",RELS.DRAW),M[M.length]=writextag("drawing",null,{"r:id":"rId"+K}),I["!drawing"]=T),I["!comments"].length>0&&(K=add_rels(b,-1,"../drawings/vmlDrawing"+(y+1)+".vml",RELS.VML),M[M.length]=writextag("legacyDrawing",null,{"r:id":"rId"+K}),I["!legacy"]=K),M.length>1&&(M[M.length]="</worksheet>",M[1]=M[1].replace("/>",">")),M.join("")}function parse_BrtRowHdr(y,x){var r={},b=y.l+x;r.r=y.read_shift(4),y.l+=4;var M=y.read_shift(2);y.l+=1;var z=y.read_shift(1);return y.l=b,z&7&&(r.level=z&7),z&16&&(r.hidden=!0),z&32&&(r.hpt=M/20),r}function write_BrtRowHdr(y,x,r){var b=new_buf(145),M=(r["!rows"]||[])[y]||{};b.write_shift(4,y),b.write_shift(4,0);var z=320;M.hpx?z=px2pt(M.hpx)*20:M.hpt&&(z=M.hpt*20),b.write_shift(2,z),b.write_shift(1,0);var B=0;M.level&&(B|=M.level),M.hidden&&(B|=16),(M.hpx||M.hpt)&&(B|=32),b.write_shift(1,B),b.write_shift(1,0);var R=0,I=b.l;b.l+=4;for(var O={r:y,c:0},A=0;A<16;++A)if(!(x.s.c>A+1<<10||x.e.c<A<<10)){for(var T=-1,U=-1,q=A<<10;q<A+1<<10;++q){O.c=q;var K=Array.isArray(r)?(r[O.r]||[])[O.c]:r[encode_cell(O)];K&&(T<0&&(T=q),U=q)}T<0||(++R,b.write_shift(4,T),b.write_shift(4,U))}var J=b.l;return b.l=I,b.write_shift(4,R),b.l=J,b.length>b.l?b.slice(0,b.l):b}function write_row_header(y,x,r,b){var M=write_BrtRowHdr(b,r,x);(M.length>17||(x["!rows"]||[])[b])&&write_record(y,0,M)}var parse_BrtWsDim=parse_UncheckedRfX,write_BrtWsDim=write_UncheckedRfX;function parse_BrtWsFmtInfo(){}function parse_BrtWsProp(y,x){var r={},b=y[y.l];return++y.l,r.above=!(b&64),r.left=!(b&128),y.l+=18,r.name=parse_XLSBCodeName(y),r}function write_BrtWsProp(y,x,r){r==null&&(r=new_buf(84+4*y.length));var b=192;x&&(x.above&&(b&=-65),x.left&&(b&=-129)),r.write_shift(1,b);for(var M=1;M<3;++M)r.write_shift(1,0);return write_BrtColor({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),write_XLSBCodeName(y,r),r.slice(0,r.l)}function parse_BrtCellBlank(y){var x=parse_XLSBCell(y);return[x]}function write_BrtCellBlank(y,x,r){return r==null&&(r=new_buf(8)),write_XLSBCell(x,r)}function parse_BrtShortBlank(y){var x=parse_XLSBShortCell(y);return[x]}function write_BrtShortBlank(y,x,r){return r==null&&(r=new_buf(4)),write_XLSBShortCell(x,r)}function parse_BrtCellBool(y){var x=parse_XLSBCell(y),r=y.read_shift(1);return[x,r,"b"]}function write_BrtCellBool(y,x,r){return r==null&&(r=new_buf(9)),write_XLSBCell(x,r),r.write_shift(1,y.v?1:0),r}function parse_BrtShortBool(y){var x=parse_XLSBShortCell(y),r=y.read_shift(1);return[x,r,"b"]}function write_BrtShortBool(y,x,r){return r==null&&(r=new_buf(5)),write_XLSBShortCell(x,r),r.write_shift(1,y.v?1:0),r}function parse_BrtCellError(y){var x=parse_XLSBCell(y),r=y.read_shift(1);return[x,r,"e"]}function write_BrtCellError(y,x,r){return r==null&&(r=new_buf(9)),write_XLSBCell(x,r),r.write_shift(1,y.v),r}function parse_BrtShortError(y){var x=parse_XLSBShortCell(y),r=y.read_shift(1);return[x,r,"e"]}function write_BrtShortError(y,x,r){return r==null&&(r=new_buf(8)),write_XLSBShortCell(x,r),r.write_shift(1,y.v),r.write_shift(2,0),r.write_shift(1,0),r}function parse_BrtCellIsst(y){var x=parse_XLSBCell(y),r=y.read_shift(4);return[x,r,"s"]}function write_BrtCellIsst(y,x,r){return r==null&&(r=new_buf(12)),write_XLSBCell(x,r),r.write_shift(4,x.v),r}function parse_BrtShortIsst(y){var x=parse_XLSBShortCell(y),r=y.read_shift(4);return[x,r,"s"]}function write_BrtShortIsst(y,x,r){return r==null&&(r=new_buf(8)),write_XLSBShortCell(x,r),r.write_shift(4,x.v),r}function parse_BrtCellReal(y){var x=parse_XLSBCell(y),r=parse_Xnum(y);return[x,r,"n"]}function write_BrtCellReal(y,x,r){return r==null&&(r=new_buf(16)),write_XLSBCell(x,r),write_Xnum(y.v,r),r}function parse_BrtShortReal(y){var x=parse_XLSBShortCell(y),r=parse_Xnum(y);return[x,r,"n"]}function write_BrtShortReal(y,x,r){return r==null&&(r=new_buf(12)),write_XLSBShortCell(x,r),write_Xnum(y.v,r),r}function parse_BrtCellRk(y){var x=parse_XLSBCell(y),r=parse_RkNumber(y);return[x,r,"n"]}function write_BrtCellRk(y,x,r){return r==null&&(r=new_buf(12)),write_XLSBCell(x,r),write_RkNumber(y.v,r),r}function parse_BrtShortRk(y){var x=parse_XLSBShortCell(y),r=parse_RkNumber(y);return[x,r,"n"]}function write_BrtShortRk(y,x,r){return r==null&&(r=new_buf(8)),write_XLSBShortCell(x,r),write_RkNumber(y.v,r),r}function parse_BrtCellRString(y){var x=parse_XLSBCell(y),r=parse_RichStr(y);return[x,r,"is"]}function parse_BrtCellSt(y){var x=parse_XLSBCell(y),r=parse_XLWideString(y);return[x,r,"str"]}function write_BrtCellSt(y,x,r){return r==null&&(r=new_buf(12+4*y.v.length)),write_XLSBCell(x,r),write_XLWideString(y.v,r),r.length>r.l?r.slice(0,r.l):r}function parse_BrtShortSt(y){var x=parse_XLSBShortCell(y),r=parse_XLWideString(y);return[x,r,"str"]}function write_BrtShortSt(y,x,r){return r==null&&(r=new_buf(8+4*y.v.length)),write_XLSBShortCell(x,r),write_XLWideString(y.v,r),r.length>r.l?r.slice(0,r.l):r}function parse_BrtFmlaBool(y,x,r){var b=y.l+x,M=parse_XLSBCell(y);M.r=r["!row"];var z=y.read_shift(1),B=[M,z,"b"];if(r.cellFormula){y.l+=2;var R=parse_XLSBCellParsedFormula(y,b-y.l,r);B[3]=stringify_formula(R,null,M,r.supbooks,r)}else y.l=b;return B}function parse_BrtFmlaError(y,x,r){var b=y.l+x,M=parse_XLSBCell(y);M.r=r["!row"];var z=y.read_shift(1),B=[M,z,"e"];if(r.cellFormula){y.l+=2;var R=parse_XLSBCellParsedFormula(y,b-y.l,r);B[3]=stringify_formula(R,null,M,r.supbooks,r)}else y.l=b;return B}function parse_BrtFmlaNum(y,x,r){var b=y.l+x,M=parse_XLSBCell(y);M.r=r["!row"];var z=parse_Xnum(y),B=[M,z,"n"];if(r.cellFormula){y.l+=2;var R=parse_XLSBCellParsedFormula(y,b-y.l,r);B[3]=stringify_formula(R,null,M,r.supbooks,r)}else y.l=b;return B}function parse_BrtFmlaString(y,x,r){var b=y.l+x,M=parse_XLSBCell(y);M.r=r["!row"];var z=parse_XLWideString(y),B=[M,z,"str"];if(r.cellFormula){y.l+=2;var R=parse_XLSBCellParsedFormula(y,b-y.l,r);B[3]=stringify_formula(R,null,M,r.supbooks,r)}else y.l=b;return B}var parse_BrtMergeCell=parse_UncheckedRfX,write_BrtMergeCell=write_UncheckedRfX;function write_BrtBeginMergeCells(y,x){return x==null&&(x=new_buf(4)),x.write_shift(4,y),x}function parse_BrtHLink(y,x){var r=y.l+x,b=parse_UncheckedRfX(y),M=parse_XLNullableWideString(y),z=parse_XLWideString(y),B=parse_XLWideString(y),R=parse_XLWideString(y);y.l=r;var I={rfx:b,relId:M,loc:z,display:R};return B&&(I.Tooltip=B),I}function write_BrtHLink(y,x){var r=new_buf(50+4*(y[1].Target.length+(y[1].Tooltip||"").length));write_UncheckedRfX({s:decode_cell(y[0]),e:decode_cell(y[0])},r),write_RelID("rId"+x,r);var b=y[1].Target.indexOf("#"),M=b==-1?"":y[1].Target.slice(b+1);return write_XLWideString(M||"",r),write_XLWideString(y[1].Tooltip||"",r),write_XLWideString("",r),r.slice(0,r.l)}function parse_BrtPane(){}function parse_BrtArrFmla(y,x,r){var b=y.l+x,M=parse_RfX(y),z=y.read_shift(1),B=[M];if(B[2]=z,r.cellFormula){var R=parse_XLSBArrayParsedFormula(y,b-y.l,r);B[1]=R}else y.l=b;return B}function parse_BrtShrFmla(y,x,r){var b=y.l+x,M=parse_UncheckedRfX(y),z=[M];if(r.cellFormula){var B=parse_XLSBSharedParsedFormula(y,b-y.l,r);z[1]=B,y.l=b}else y.l=b;return z}function write_BrtColInfo(y,x,r){r==null&&(r=new_buf(18));var b=col_obj_w(y,x);r.write_shift(-4,y),r.write_shift(-4,y),r.write_shift(4,(b.width||10)*256),r.write_shift(4,0);var M=0;return x.hidden&&(M|=1),typeof b.width=="number"&&(M|=2),x.level&&(M|=x.level<<8),r.write_shift(2,M),r}var BrtMarginKeys=["left","right","top","bottom","header","footer"];function parse_BrtMargins(y){var x={};return BrtMarginKeys.forEach(function(r){x[r]=parse_Xnum(y)}),x}function write_BrtMargins(y,x){return x==null&&(x=new_buf(48)),default_margins(y),BrtMarginKeys.forEach(function(r){write_Xnum(y[r],x)}),x}function parse_BrtBeginWsView(y){var x=y.read_shift(2);return y.l+=28,{RTL:x&32}}function write_BrtBeginWsView(y,x,r){r==null&&(r=new_buf(30));var b=924;return(((x||{}).Views||[])[0]||{}).RTL&&(b|=32),r.write_shift(2,b),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function write_BrtCellIgnoreEC(y){var x=new_buf(24);return x.write_shift(4,4),x.write_shift(4,1),write_UncheckedRfX(y,x),x}function write_BrtSheetProtection(y,x){return x==null&&(x=new_buf(66)),x.write_shift(2,y.password?crypto_CreatePasswordVerifier_Method1(y.password):0),x.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?x.write_shift(4,y[r[0]]!=null&&!y[r[0]]?1:0):x.write_shift(4,y[r[0]]!=null&&y[r[0]]?0:1)}),x}function parse_BrtDVal(){}function parse_BrtDVal14(){}function parse_ws_bin(y,x,r,b,M,z,B){if(!y)return y;var R=x||{};b||(b={"!id":{}});var I=R.dense?[]:{},O,A={s:{r:2e6,c:2e6},e:{r:0,c:0}},T=!1,U=!1,q,K,J,te,oe,ue,fe,Le,Ge,ze=[];R.biff=12,R["!row"]=0;var je=0,Be=!1,_e=[],He={},tt=R.supbooks||M.supbooks||[[]];if(tt.sharedf=He,tt.arrayf=_e,tt.SheetNames=M.SheetNames||M.Sheets.map(function(Mt){return Mt.name}),!R.supbooks&&(R.supbooks=tt,M.Names))for(var Ke=0;Ke<M.Names.length;++Ke)tt[0][Ke+1]=M.Names[Ke];var Ze=[],Qe=[],vt=!1;XLSBRecordEnum[16]={n:"BrtShortReal",f:parse_BrtShortReal};var pt;if(recordhopper(y,function(bt,ar,dt){if(!U)switch(dt){case 148:O=bt;break;case 0:q=bt,R.sheetRows&&R.sheetRows<=q.r&&(U=!0),Le=encode_row(te=q.r),R["!row"]=q.r,(bt.hidden||bt.hpt||bt.level!=null)&&(bt.hpt&&(bt.hpx=pt2px(bt.hpt)),Qe[bt.r]=bt);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(K={t:bt[2]},bt[2]){case"n":K.v=bt[1];break;case"s":fe=strs[bt[1]],K.v=fe.t,K.r=fe.r;break;case"b":K.v=!!bt[1];break;case"e":K.v=bt[1],R.cellText!==!1&&(K.w=BErr[K.v]);break;case"str":K.t="s",K.v=bt[1];break;case"is":K.t="s",K.v=bt[1].t;break}if((J=B.CellXf[bt[0].iStyleRef])&&safe_format(K,J.numFmtId,null,R,z,B),oe=bt[0].c==-1?oe+1:bt[0].c,R.dense?(I[te]||(I[te]=[]),I[te][oe]=K):I[encode_col(oe)+Le]=K,R.cellFormula){for(Be=!1,je=0;je<_e.length;++je){var yt=_e[je];q.r>=yt[0].s.r&&q.r<=yt[0].e.r&&oe>=yt[0].s.c&&oe<=yt[0].e.c&&(K.F=encode_range(yt[0]),Be=!0)}!Be&&bt.length>3&&(K.f=bt[3])}if(A.s.r>q.r&&(A.s.r=q.r),A.s.c>oe&&(A.s.c=oe),A.e.r<q.r&&(A.e.r=q.r),A.e.c<oe&&(A.e.c=oe),R.cellDates&&J&&K.t=="n"&&fmt_is_date(table_fmt[J.numFmtId])){var Gt=SSF_parse_date_code(K.v);Gt&&(K.t="d",K.v=new Date(Gt.y,Gt.m-1,Gt.d,Gt.H,Gt.M,Gt.S,Gt.u))}pt&&(pt.type=="XLDAPR"&&(K.D=!0),pt=void 0);break;case 1:case 12:if(!R.sheetStubs||T)break;K={t:"z",v:void 0},oe=bt[0].c==-1?oe+1:bt[0].c,R.dense?(I[te]||(I[te]=[]),I[te][oe]=K):I[encode_col(oe)+Le]=K,A.s.r>q.r&&(A.s.r=q.r),A.s.c>oe&&(A.s.c=oe),A.e.r<q.r&&(A.e.r=q.r),A.e.c<oe&&(A.e.c=oe),pt&&(pt.type=="XLDAPR"&&(K.D=!0),pt=void 0);break;case 176:ze.push(bt);break;case 49:pt=((R.xlmeta||{}).Cell||[])[bt-1];break;case 494:var Bt=b["!id"][bt.relId];for(Bt?(bt.Target=Bt.Target,bt.loc&&(bt.Target+="#"+bt.loc),bt.Rel=Bt):bt.relId==""&&(bt.Target="#"+bt.loc),te=bt.rfx.s.r;te<=bt.rfx.e.r;++te)for(oe=bt.rfx.s.c;oe<=bt.rfx.e.c;++oe)R.dense?(I[te]||(I[te]=[]),I[te][oe]||(I[te][oe]={t:"z",v:void 0}),I[te][oe].l=bt):(ue=encode_cell({c:oe,r:te}),I[ue]||(I[ue]={t:"z",v:void 0}),I[ue].l=bt);break;case 426:if(!R.cellFormula)break;_e.push(bt),Ge=R.dense?I[te][oe]:I[encode_col(oe)+Le],Ge.f=stringify_formula(bt[1],A,{r:q.r,c:oe},tt,R),Ge.F=encode_range(bt[0]);break;case 427:if(!R.cellFormula)break;He[encode_cell(bt[0].s)]=bt[1],Ge=R.dense?I[te][oe]:I[encode_col(oe)+Le],Ge.f=stringify_formula(bt[1],A,{r:q.r,c:oe},tt,R);break;case 60:if(!R.cellStyles)break;for(;bt.e>=bt.s;)Ze[bt.e--]={width:bt.w/256,hidden:!!(bt.flags&1),level:bt.level},vt||(vt=!0,find_mdw_colw(bt.w/256)),process_col(Ze[bt.e+1]);break;case 161:I["!autofilter"]={ref:encode_range(bt)};break;case 476:I["!margins"]=bt;break;case 147:M.Sheets[r]||(M.Sheets[r]={}),bt.name&&(M.Sheets[r].CodeName=bt.name),(bt.above||bt.left)&&(I["!outline"]={above:bt.above,left:bt.left});break;case 137:M.Views||(M.Views=[{}]),M.Views[0]||(M.Views[0]={}),bt.RTL&&(M.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:T=!0;break;case 36:T=!1;break;case 37:T=!0;break;case 38:T=!1;break;default:if(!ar.T){if(!T||R.WTF)throw new Error("Unexpected record 0x"+dt.toString(16))}}},R),delete R.supbooks,delete R["!row"],!I["!ref"]&&(A.s.r<2e6||O&&(O.e.r>0||O.e.c>0||O.s.r>0||O.s.c>0))&&(I["!ref"]=encode_range(O||A)),R.sheetRows&&I["!ref"]){var ut=safe_decode_range(I["!ref"]);R.sheetRows<=+ut.e.r&&(ut.e.r=R.sheetRows-1,ut.e.r>A.e.r&&(ut.e.r=A.e.r),ut.e.r<ut.s.r&&(ut.s.r=ut.e.r),ut.e.c>A.e.c&&(ut.e.c=A.e.c),ut.e.c<ut.s.c&&(ut.s.c=ut.e.c),I["!fullref"]=I["!ref"],I["!ref"]=encode_range(ut))}return ze.length>0&&(I["!merges"]=ze),Ze.length>0&&(I["!cols"]=Ze),Qe.length>0&&(I["!rows"]=Qe),I}function write_ws_bin_cell(y,x,r,b,M,z,B){if(x.v===void 0)return!1;var R="";switch(x.t){case"b":R=x.v?"1":"0";break;case"d":x=dup(x),x.z=x.z||table_fmt[14],x.v=datenum(parseDate(x.v)),x.t="n";break;case"n":case"e":R=""+x.v;break;default:R=x.v;break}var I={r,c:b};switch(I.s=get_cell_style(M.cellXfs,x,M),x.l&&z["!links"].push([encode_cell(I),x.l]),x.c&&z["!comments"].push([encode_cell(I),x.c]),x.t){case"s":case"str":return M.bookSST?(R=get_sst_id(M.Strings,x.v,M.revStrings),I.t="s",I.v=R,B?write_record(y,18,write_BrtShortIsst(x,I)):write_record(y,7,write_BrtCellIsst(x,I))):(I.t="str",B?write_record(y,17,write_BrtShortSt(x,I)):write_record(y,6,write_BrtCellSt(x,I))),!0;case"n":return x.v==(x.v|0)&&x.v>-1e3&&x.v<1e3?B?write_record(y,13,write_BrtShortRk(x,I)):write_record(y,2,write_BrtCellRk(x,I)):B?write_record(y,16,write_BrtShortReal(x,I)):write_record(y,5,write_BrtCellReal(x,I)),!0;case"b":return I.t="b",B?write_record(y,15,write_BrtShortBool(x,I)):write_record(y,4,write_BrtCellBool(x,I)),!0;case"e":return I.t="e",B?write_record(y,14,write_BrtShortError(x,I)):write_record(y,3,write_BrtCellError(x,I)),!0}return B?write_record(y,12,write_BrtShortBlank(x,I)):write_record(y,1,write_BrtCellBlank(x,I)),!0}function write_CELLTABLE(y,x,r,b){var M=safe_decode_range(x["!ref"]||"A1"),z,B="",R=[];write_record(y,145);var I=Array.isArray(x),O=M.e.r;x["!rows"]&&(O=Math.max(M.e.r,x["!rows"].length-1));for(var A=M.s.r;A<=O;++A){B=encode_row(A),write_row_header(y,x,M,A);var T=!1;if(A<=M.e.r)for(var U=M.s.c;U<=M.e.c;++U){A===M.s.r&&(R[U]=encode_col(U)),z=R[U]+B;var q=I?(x[A]||[])[U]:x[z];if(!q){T=!1;continue}T=write_ws_bin_cell(y,q,A,U,b,x,T)}}write_record(y,146)}function write_MERGECELLS(y,x){!x||!x["!merges"]||(write_record(y,177,write_BrtBeginMergeCells(x["!merges"].length)),x["!merges"].forEach(function(r){write_record(y,176,write_BrtMergeCell(r))}),write_record(y,178))}function write_COLINFOS(y,x){!x||!x["!cols"]||(write_record(y,390),x["!cols"].forEach(function(r,b){r&&write_record(y,60,write_BrtColInfo(b,r))}),write_record(y,391))}function write_IGNOREECS(y,x){!x||!x["!ref"]||(write_record(y,648),write_record(y,649,write_BrtCellIgnoreEC(safe_decode_range(x["!ref"]))),write_record(y,650))}function write_HLINKS(y,x,r){x["!links"].forEach(function(b){if(b[1].Target){var M=add_rels(r,-1,b[1].Target.replace(/#.*$/,""),RELS.HLINK);write_record(y,494,write_BrtHLink(b,M))}}),delete x["!links"]}function write_LEGACYDRAWING(y,x,r,b){if(x["!comments"].length>0){var M=add_rels(b,-1,"../drawings/vmlDrawing"+(r+1)+".vml",RELS.VML);write_record(y,551,write_RelID("rId"+M)),x["!legacy"]=M}}function write_AUTOFILTER(y,x,r,b){if(x["!autofilter"]){var M=x["!autofilter"],z=typeof M.ref=="string"?M.ref:encode_range(M.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var B=r.Workbook.Names,R=decode_range(z);R.s.r==R.e.r&&(R.e.r=decode_range(x["!ref"]).e.r,z=encode_range(R));for(var I=0;I<B.length;++I){var O=B[I];if(O.Name=="_xlnm._FilterDatabase"&&O.Sheet==b){O.Ref="'"+r.SheetNames[b]+"'!"+z;break}}I==B.length&&B.push({Name:"_xlnm._FilterDatabase",Sheet:b,Ref:"'"+r.SheetNames[b]+"'!"+z}),write_record(y,161,write_UncheckedRfX(safe_decode_range(z))),write_record(y,162)}}function write_WSVIEWS2(y,x,r){write_record(y,133),write_record(y,137,write_BrtBeginWsView(x,r)),write_record(y,138),write_record(y,134)}function write_SHEETPROTECT(y,x){x["!protect"]&&write_record(y,535,write_BrtSheetProtection(x["!protect"]))}function write_ws_bin(y,x,r,b){var M=buf_array(),z=r.SheetNames[y],B=r.Sheets[z]||{},R=z;try{r&&r.Workbook&&(R=r.Workbook.Sheets[y].CodeName||R)}catch{}var I=safe_decode_range(B["!ref"]||"A1");if(I.e.c>16383||I.e.r>1048575){if(x.WTF)throw new Error("Range "+(B["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");I.e.c=Math.min(I.e.c,16383),I.e.r=Math.min(I.e.c,1048575)}return B["!links"]=[],B["!comments"]=[],write_record(M,129),(r.vbaraw||B["!outline"])&&write_record(M,147,write_BrtWsProp(R,B["!outline"])),write_record(M,148,write_BrtWsDim(I)),write_WSVIEWS2(M,B,r.Workbook),write_COLINFOS(M,B),write_CELLTABLE(M,B,y,x),write_SHEETPROTECT(M,B),write_AUTOFILTER(M,B,r,y),write_MERGECELLS(M,B),write_HLINKS(M,B,b),B["!margins"]&&write_record(M,476,write_BrtMargins(B["!margins"])),(!x||x.ignoreEC||x.ignoreEC==null)&&write_IGNOREECS(M,B),write_LEGACYDRAWING(M,B,y,b),write_record(M,130),M.end()}function parse_Cache(y){var x=[],r=y.match(/^<c:numCache>/),b;(y.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(z){var B=z.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);B&&(x[+B[1]]=r?+B[2]:B[2])});var M=unescapexml((y.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(y.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(z){b=z.replace(/<.*?>/g,"")}),[x,M,b]}function parse_chart(y,x,r,b,M,z){var B=z||{"!type":"chart"};if(!y)return z;var R=0,I=0,O="A",A={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(y.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(T){var U=parse_Cache(T);A.s.r=A.s.c=0,A.e.c=R,O=encode_col(R),U[0].forEach(function(q,K){B[O+encode_row(K)]={t:"n",v:q,z:U[1]},I=K}),A.e.r<I&&(A.e.r=I),++R}),R>0&&(B["!ref"]=encode_range(A)),B}function parse_cs_xml(y,x,r,b,M){if(!y)return y;b||(b={"!id":{}});var z={"!type":"chart","!drawel":null,"!rel":""},B,R=y.match(sheetprregex);return R&&parse_ws_xml_sheetpr(R[0],z,M,r),(B=y.match(/drawing r:id="(.*?)"/))&&(z["!rel"]=B[1]),b["!id"][z["!rel"]]&&(z["!drawel"]=b["!id"][z["!rel"]]),z}function parse_BrtCsProp(y,x){y.l+=10;var r=parse_XLWideString(y);return{name:r}}function parse_cs_bin(y,x,r,b,M){if(!y)return y;b||(b={"!id":{}});var z={"!type":"chart","!drawel":null,"!rel":""},B=!1;return recordhopper(y,function(I,O,A){switch(A){case 550:z["!rel"]=I;break;case 651:M.Sheets[r]||(M.Sheets[r]={}),I.name&&(M.Sheets[r].CodeName=I.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:B=!0;break;case 36:B=!1;break;case 37:break;case 38:break;default:if(!(O.T>0)){if(!(O.T<0)){if(!B||x.WTF)throw new Error("Unexpected record 0x"+A.toString(16))}}}},x),b["!id"][z["!rel"]]&&(z["!drawel"]=b["!id"][z["!rel"]]),z}var WBPropsDef=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],WBViewDef=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],SheetDef=[],CalcPrDef=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function push_defaults_array(y,x){for(var r=0;r!=y.length;++r)for(var b=y[r],M=0;M!=x.length;++M){var z=x[M];if(b[z[0]]==null)b[z[0]]=z[1];else switch(z[2]){case"bool":typeof b[z[0]]=="string"&&(b[z[0]]=parsexmlbool(b[z[0]]));break;case"int":typeof b[z[0]]=="string"&&(b[z[0]]=parseInt(b[z[0]],10));break}}}function push_defaults(y,x){for(var r=0;r!=x.length;++r){var b=x[r];if(y[b[0]]==null)y[b[0]]=b[1];else switch(b[2]){case"bool":typeof y[b[0]]=="string"&&(y[b[0]]=parsexmlbool(y[b[0]]));break;case"int":typeof y[b[0]]=="string"&&(y[b[0]]=parseInt(y[b[0]],10));break}}}function parse_wb_defaults(y){push_defaults(y.WBProps,WBPropsDef),push_defaults(y.CalcPr,CalcPrDef),push_defaults_array(y.WBView,WBViewDef),push_defaults_array(y.Sheets,SheetDef),_ssfopts.date1904=parsexmlbool(y.WBProps.date1904)}function safe1904(y){return!y.Workbook||!y.Workbook.WBProps?"false":parsexmlbool(y.Workbook.WBProps.date1904)?"true":"false"}var badchars="][*?/\\".split("");function check_ws_name(y,x){if(y.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return badchars.forEach(function(b){if(y.indexOf(b)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function check_wb_names(y,x,r){y.forEach(function(b,M){check_ws_name(b);for(var z=0;z<M;++z)if(b==y[z])throw new Error("Duplicate Sheet Name: "+b);if(r){var B=x&&x[M]&&x[M].CodeName||b;if(B.charCodeAt(0)==95&&B.length>22)throw new Error("Bad Code Name: Worksheet"+B)}})}function check_wb(y){if(!y||!y.SheetNames||!y.Sheets)throw new Error("Invalid Workbook");if(!y.SheetNames.length)throw new Error("Workbook is empty");var x=y.Workbook&&y.Workbook.Sheets||[];check_wb_names(y.SheetNames,x,!!y.vbaraw);for(var r=0;r<y.SheetNames.length;++r)check_ws(y.Sheets[y.SheetNames[r]],y.SheetNames[r],r)}var wbnsregex=/<\w+:workbook/;function parse_wb_xml(y,x){if(!y)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},b=!1,M="xmlns",z={},B=0;if(y.replace(tagregex,function(I,O){var A=parsexmltag(I);switch(strip_ns(A[0])){case"<?xml":break;case"<workbook":I.match(wbnsregex)&&(M="xmlns"+I.match(/<(\w+):/)[1]),r.xmlns=A[M];break;case"</workbook>":break;case"<fileVersion":delete A[0],r.AppVersion=A;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":WBPropsDef.forEach(function(T){if(A[T[0]]!=null)switch(T[2]){case"bool":r.WBProps[T[0]]=parsexmlbool(A[T[0]]);break;case"int":r.WBProps[T[0]]=parseInt(A[T[0]],10);break;default:r.WBProps[T[0]]=A[T[0]]}}),A.codeName&&(r.WBProps.CodeName=utf8read(A.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete A[0],r.WBView.push(A);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(A.state){case"hidden":A.Hidden=1;break;case"veryHidden":A.Hidden=2;break;default:A.Hidden=0}delete A.state,A.name=unescapexml(utf8read(A.name)),delete A[0],r.Sheets.push(A);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":b=!0;break;case"</definedNames>":b=!1;break;case"<definedName":z={},z.Name=utf8read(A.name),A.comment&&(z.Comment=A.comment),A.localSheetId&&(z.Sheet=+A.localSheetId),parsexmlbool(A.hidden||"0")&&(z.Hidden=!0),B=O+I.length;break;case"</definedName>":z.Ref=unescapexml(utf8read(y.slice(B,O))),r.Names.push(z);break;case"<definedName/>":break;case"<calcPr":delete A[0],r.CalcPr=A;break;case"<calcPr/>":delete A[0],r.CalcPr=A;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":b=!0;break;case"</ext>":b=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":b=!0;break;case"</AlternateContent>":b=!1;break;case"<revisionPtr":break;default:if(!b&&x.WTF)throw new Error("unrecognized "+A[0]+" in workbook")}return I}),XMLNS_main.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return parse_wb_defaults(r),r}function write_wb_xml(y){var x=[XML_HEADER];x[x.length]=writextag("workbook",null,{xmlns:XMLNS_main[0],"xmlns:r":XMLNS.r});var r=y.Workbook&&(y.Workbook.Names||[]).length>0,b={codeName:"ThisWorkbook"};y.Workbook&&y.Workbook.WBProps&&(WBPropsDef.forEach(function(R){y.Workbook.WBProps[R[0]]!=null&&y.Workbook.WBProps[R[0]]!=R[1]&&(b[R[0]]=y.Workbook.WBProps[R[0]])}),y.Workbook.WBProps.CodeName&&(b.codeName=y.Workbook.WBProps.CodeName,delete b.CodeName)),x[x.length]=writextag("workbookPr",null,b);var M=y.Workbook&&y.Workbook.Sheets||[],z=0;if(M&&M[0]&&M[0].Hidden){for(x[x.length]="<bookViews>",z=0;z!=y.SheetNames.length&&!(!M[z]||!M[z].Hidden);++z);z==y.SheetNames.length&&(z=0),x[x.length]='<workbookView firstSheet="'+z+'" activeTab="'+z+'"/>',x[x.length]="</bookViews>"}for(x[x.length]="<sheets>",z=0;z!=y.SheetNames.length;++z){var B={name:escapexml(y.SheetNames[z].slice(0,31))};if(B.sheetId=""+(z+1),B["r:id"]="rId"+(z+1),M[z])switch(M[z].Hidden){case 1:B.state="hidden";break;case 2:B.state="veryHidden";break}x[x.length]=writextag("sheet",null,B)}return x[x.length]="</sheets>",r&&(x[x.length]="<definedNames>",y.Workbook&&y.Workbook.Names&&y.Workbook.Names.forEach(function(R){var I={name:R.Name};R.Comment&&(I.comment=R.Comment),R.Sheet!=null&&(I.localSheetId=""+R.Sheet),R.Hidden&&(I.hidden="1"),R.Ref&&(x[x.length]=writextag("definedName",escapexml(R.Ref),I))}),x[x.length]="</definedNames>"),x.length>2&&(x[x.length]="</workbook>",x[1]=x[1].replace("/>",">")),x.join("")}function parse_BrtBundleSh(y,x){var r={};return r.Hidden=y.read_shift(4),r.iTabID=y.read_shift(4),r.strRelID=parse_RelID(y),r.name=parse_XLWideString(y),r}function write_BrtBundleSh(y,x){return x||(x=new_buf(127)),x.write_shift(4,y.Hidden),x.write_shift(4,y.iTabID),write_RelID(y.strRelID,x),write_XLWideString(y.name.slice(0,31),x),x.length>x.l?x.slice(0,x.l):x}function parse_BrtWbProp(y,x){var r={},b=y.read_shift(4);r.defaultThemeVersion=y.read_shift(4);var M=x>8?parse_XLWideString(y):"";return M.length>0&&(r.CodeName=M),r.autoCompressPictures=!!(b&65536),r.backupFile=!!(b&64),r.checkCompatibility=!!(b&4096),r.date1904=!!(b&1),r.filterPrivacy=!!(b&8),r.hidePivotFieldList=!!(b&1024),r.promptedSolutions=!!(b&16),r.publishItems=!!(b&2048),r.refreshAllConnections=!!(b&262144),r.saveExternalLinkValues=!!(b&128),r.showBorderUnselectedTables=!!(b&4),r.showInkAnnotation=!!(b&32),r.showObjects=["all","placeholders","none"][b>>13&3],r.showPivotChartFilter=!!(b&32768),r.updateLinks=["userSet","never","always"][b>>8&3],r}function write_BrtWbProp(y,x){x||(x=new_buf(72));var r=0;return y&&y.filterPrivacy&&(r|=8),x.write_shift(4,r),x.write_shift(4,0),write_XLSBCodeName(y&&y.CodeName||"ThisWorkbook",x),x.slice(0,x.l)}function parse_BrtFRTArchID$(y,x){var r={};return y.read_shift(4),r.ArchID=y.read_shift(4),y.l+=x-8,r}function parse_BrtName(y,x,r){var b=y.l+x;y.l+=4,y.l+=1;var M=y.read_shift(4),z=parse_XLNameWideString(y),B=parse_XLSBNameParsedFormula(y,0,r),R=parse_XLNullableWideString(y);y.l=b;var I={Name:z,Ptg:B};return M<268435455&&(I.Sheet=M),R&&(I.Comment=R),I}function parse_wb_bin(y,x){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},b=[],M=!1;x||(x={}),x.biff=12;var z=[],B=[[]];return B.SheetNames=[],B.XTI=[],XLSBRecordEnum[16]={n:"BrtFRTArchID$",f:parse_BrtFRTArchID$},recordhopper(y,function(I,O,A){switch(A){case 156:B.SheetNames.push(I.name),r.Sheets.push(I);break;case 153:r.WBProps=I;break;case 39:I.Sheet!=null&&(x.SID=I.Sheet),I.Ref=stringify_formula(I.Ptg,null,null,B,x),delete x.SID,delete I.Ptg,z.push(I);break;case 1036:break;case 357:case 358:case 355:case 667:B[0].length?B.push([A,I]):B[0]=[A,I],B[B.length-1].XTI=[];break;case 362:B.length===0&&(B[0]=[],B[0].XTI=[]),B[B.length-1].XTI=B[B.length-1].XTI.concat(I),B.XTI=B.XTI.concat(I);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:b.push(A),M=!0;break;case 36:b.pop(),M=!1;break;case 37:b.push(A),M=!0;break;case 38:b.pop(),M=!1;break;case 16:break;default:if(!O.T){if(!M||x.WTF&&b[b.length-1]!=37&&b[b.length-1]!=35)throw new Error("Unexpected record 0x"+A.toString(16))}}},x),parse_wb_defaults(r),r.Names=z,r.supbooks=B,r}function write_BUNDLESHS(y,x){write_record(y,143);for(var r=0;r!=x.SheetNames.length;++r){var b=x.Workbook&&x.Workbook.Sheets&&x.Workbook.Sheets[r]&&x.Workbook.Sheets[r].Hidden||0,M={Hidden:b,iTabID:r+1,strRelID:"rId"+(r+1),name:x.SheetNames[r]};write_record(y,156,write_BrtBundleSh(M))}write_record(y,144)}function write_BrtFileVersion(y,x){x||(x=new_buf(127));for(var r=0;r!=4;++r)x.write_shift(4,0);return write_XLWideString("SheetJS",x),write_XLWideString(XLSX.version,x),write_XLWideString(XLSX.version,x),write_XLWideString("7262",x),x.length>x.l?x.slice(0,x.l):x}function write_BrtBookView(y,x){x||(x=new_buf(29)),x.write_shift(-4,0),x.write_shift(-4,460),x.write_shift(4,28800),x.write_shift(4,17600),x.write_shift(4,500),x.write_shift(4,y),x.write_shift(4,y);var r=120;return x.write_shift(1,r),x.length>x.l?x.slice(0,x.l):x}function write_BOOKVIEWS(y,x){if(!(!x.Workbook||!x.Workbook.Sheets)){for(var r=x.Workbook.Sheets,b=0,M=-1,z=-1;b<r.length;++b)!r[b]||!r[b].Hidden&&M==-1?M=b:r[b].Hidden==1&&z==-1&&(z=b);z>M||(write_record(y,135),write_record(y,158,write_BrtBookView(M)),write_record(y,136))}}function write_wb_bin(y,x){var r=buf_array();return write_record(r,131),write_record(r,128,write_BrtFileVersion()),write_record(r,153,write_BrtWbProp(y.Workbook&&y.Workbook.WBProps||null)),write_BOOKVIEWS(r,y),write_BUNDLESHS(r,y),write_record(r,132),r.end()}function parse_wb(y,x,r){return x.slice(-4)===".bin"?parse_wb_bin(y,r):parse_wb_xml(y,r)}function parse_ws(y,x,r,b,M,z,B,R){return x.slice(-4)===".bin"?parse_ws_bin(y,b,r,M,z,B,R):parse_ws_xml(y,b,r,M,z,B,R)}function parse_cs(y,x,r,b,M,z,B,R){return x.slice(-4)===".bin"?parse_cs_bin(y,b,r,M,z):parse_cs_xml(y,b,r,M,z)}function parse_ms(y,x,r,b,M,z,B,R){return x.slice(-4)===".bin"?parse_ms_bin():parse_ms_xml()}function parse_ds(y,x,r,b,M,z,B,R){return x.slice(-4)===".bin"?parse_ds_bin():parse_ds_xml()}function parse_sty(y,x,r,b){return x.slice(-4)===".bin"?parse_sty_bin(y,r,b):parse_sty_xml(y,r,b)}function parse_theme(y,x,r){return parse_theme_xml(y,r)}function parse_sst(y,x,r){return x.slice(-4)===".bin"?parse_sst_bin(y,r):parse_sst_xml(y,r)}function parse_cmnt(y,x,r){return x.slice(-4)===".bin"?parse_comments_bin(y,r):parse_comments_xml(y,r)}function parse_cc(y,x,r){return x.slice(-4)===".bin"?parse_cc_bin(y):parse_cc_xml(y)}function parse_xlink(y,x,r,b){return r.slice(-4)===".bin"?parse_xlink_bin(y,x,r,b):void 0}function parse_xlmeta(y,x,r){return x.slice(-4)===".bin"?parse_xlmeta_bin(y,x,r):parse_xlmeta_xml(y,x,r)}function write_wb(y,x,r){return(x.slice(-4)===".bin"?write_wb_bin:write_wb_xml)(y)}function write_ws(y,x,r,b,M){return(x.slice(-4)===".bin"?write_ws_bin:write_ws_xml)(y,r,b,M)}function write_sty(y,x,r){return(x.slice(-4)===".bin"?write_sty_bin:write_sty_xml)(y,r)}function write_sst(y,x,r){return(x.slice(-4)===".bin"?write_sst_bin:write_sst_xml)(y,r)}function write_cmnt(y,x,r){return(x.slice(-4)===".bin"?write_comments_bin:write_comments_xml)(y)}function write_xlmeta(y){return(y.slice(-4)===".bin"?write_xlmeta_bin:write_xlmeta_xml)()}var attregexg2=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,attregex2=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function xlml_parsexmltag(y,x){var r=y.split(/\s+/),b=[];if(b[0]=r[0],r.length===1)return b;var M=y.match(attregexg2),z,B,R,I;if(M)for(I=0;I!=M.length;++I)z=M[I].match(attregex2),(B=z[1].indexOf(":"))===-1?b[z[1]]=z[2].slice(1,z[2].length-1):(z[1].slice(0,6)==="xmlns:"?R="xmlns"+z[1].slice(6):R=z[1].slice(B+1),b[R]=z[2].slice(1,z[2].length-1));return b}function xlml_parsexmltagobj(y){var x=y.split(/\s+/),r={};if(x.length===1)return r;var b=y.match(attregexg2),M,z,B,R;if(b)for(R=0;R!=b.length;++R)M=b[R].match(attregex2),(z=M[1].indexOf(":"))===-1?r[M[1]]=M[2].slice(1,M[2].length-1):(M[1].slice(0,6)==="xmlns:"?B="xmlns"+M[1].slice(6):B=M[1].slice(z+1),r[B]=M[2].slice(1,M[2].length-1));return r}var XLMLFormatMap;function xlml_format(y,x){var r=XLMLFormatMap[y]||unescapexml(y);return r==="General"?SSF_general(x):SSF_format(r,x)}function xlml_set_custprop(y,x,r,b){var M=b;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":M=parsexmlbool(b);break;case"i2":case"int":M=parseInt(b,10);break;case"r4":case"float":M=parseFloat(b);break;case"date":case"dateTime.tz":M=parseDate(b);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}y[unescapexml(x)]=M}function safe_format_xlml(y,x,r){if(y.t!=="z"){if(!r||r.cellText!==!1)try{y.t==="e"?y.w=y.w||BErr[y.v]:x==="General"?y.t==="n"?(y.v|0)===y.v?y.w=y.v.toString(10):y.w=SSF_general_num(y.v):y.w=SSF_general(y.v):y.w=xlml_format(x||"General",y.v)}catch(z){if(r.WTF)throw z}try{var b=XLMLFormatMap[x]||x||"General";if(r.cellNF&&(y.z=b),r.cellDates&&y.t=="n"&&fmt_is_date(b)){var M=SSF_parse_date_code(y.v);M&&(y.t="d",y.v=new Date(M.y,M.m-1,M.d,M.H,M.M,M.S,M.u))}}catch(z){if(r.WTF)throw z}}}function process_style_xlml(y,x,r){if(r.cellStyles&&x.Interior){var b=x.Interior;b.Pattern&&(b.patternType=XLMLPatternTypeMap[b.Pattern]||b.Pattern)}y[x.ID]=x}function parse_xlml_data(y,x,r,b,M,z,B,R,I,O){var A="General",T=b.StyleID,U={};O=O||{};var q=[],K=0;for(T===void 0&&R&&(T=R.StyleID),T===void 0&&B&&(T=B.StyleID);z[T]!==void 0&&(z[T].nf&&(A=z[T].nf),z[T].Interior&&q.push(z[T].Interior),!!z[T].Parent);)T=z[T].Parent;switch(r.Type){case"Boolean":b.t="b",b.v=parsexmlbool(y);break;case"String":b.t="s",b.r=xlml_fixstr(unescapexml(y)),b.v=y.indexOf("<")>-1?unescapexml(x||y).replace(/<.*?>/g,""):b.r;break;case"DateTime":y.slice(-1)!="Z"&&(y+="Z"),b.v=(parseDate(y)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),b.v!==b.v?b.v=unescapexml(y):b.v<60&&(b.v=b.v-1),(!A||A=="General")&&(A="yyyy-mm-dd");case"Number":b.v===void 0&&(b.v=+y),b.t||(b.t="n");break;case"Error":b.t="e",b.v=RBErr[y],O.cellText!==!1&&(b.w=y);break;default:y==""&&x==""?b.t="z":(b.t="s",b.v=xlml_fixstr(x||y));break}if(safe_format_xlml(b,A,O),O.cellFormula!==!1)if(b.Formula){var J=unescapexml(b.Formula);J.charCodeAt(0)==61&&(J=J.slice(1)),b.f=rc_to_a1(J,M),delete b.Formula,b.ArrayRange=="RC"?b.F=rc_to_a1("RC:RC",M):b.ArrayRange&&(b.F=rc_to_a1(b.ArrayRange,M),I.push([safe_decode_range(b.F),b.F]))}else for(K=0;K<I.length;++K)M.r>=I[K][0].s.r&&M.r<=I[K][0].e.r&&M.c>=I[K][0].s.c&&M.c<=I[K][0].e.c&&(b.F=I[K][1]);O.cellStyles&&(q.forEach(function(te){!U.patternType&&te.patternType&&(U.patternType=te.patternType)}),b.s=U),b.StyleID!==void 0&&(b.ixfe=b.StyleID)}function xlml_clean_comment(y){y.t=y.v||"",y.t=y.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),y.v=y.w=y.ixfe=void 0}function parse_xlml_xml(y,x){var r=x||{};make_ssf();var b=debom(xlml_normalize(y));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(b=utf8read(b));var M=b.slice(0,1024).toLowerCase(),z=!1;if(M=M.replace(/".*?"/g,""),(M.indexOf(">")&1023)>Math.min(M.indexOf(",")&1023,M.indexOf(";")&1023)){var B=dup(r);return B.type="string",PRN.to_workbook(b,B)}if(M.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(Jt){M.indexOf("<"+Jt)>=0&&(z=!0)}),z)return html_to_workbook(b,r);XLMLFormatMap={"General Number":"General","General Date":table_fmt[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":table_fmt[15],"Short Date":table_fmt[14],"Long Time":table_fmt[19],"Medium Time":table_fmt[18],"Short Time":table_fmt[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:table_fmt[2],Standard:table_fmt[4],Percent:table_fmt[10],Scientific:table_fmt[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var R,I=[],O,A={},T=[],U=r.dense?[]:{},q="",K={},J={},te=xlml_parsexmltag('<Data ss:Type="String">'),oe=0,ue=0,fe=0,Le={s:{r:2e6,c:2e6},e:{r:0,c:0}},Ge={},ze={},je="",Be=0,_e=[],He={},tt={},Ke=0,Ze=[],Qe=[],vt={},pt=[],ut,Mt=!1,bt=[],ar=[],dt={},yt=0,Gt=0,Bt={Sheets:[],WBProps:{date1904:!1}},Dt={};xlmlregex.lastIndex=0,b=b.replace(/<!--([\s\S]*?)-->/mg,"");for(var Ct="";R=xlmlregex.exec(b);)switch(R[3]=(Ct=R[3]).toLowerCase()){case"data":if(Ct=="data"){if(R[1]==="/"){if((O=I.pop())[0]!==R[3])throw new Error("Bad state: "+O.join("|"))}else R[0].charAt(R[0].length-2)!=="/"&&I.push([R[3],!0]);break}if(I[I.length-1][1])break;R[1]==="/"?parse_xlml_data(b.slice(oe,R.index),je,te,I[I.length-1][0]=="comment"?vt:K,{c:ue,r:fe},Ge,pt[ue],J,bt,r):(je="",te=xlml_parsexmltag(R[0]),oe=R.index+R[0].length);break;case"cell":if(R[1]==="/")if(Qe.length>0&&(K.c=Qe),(!r.sheetRows||r.sheetRows>fe)&&K.v!==void 0&&(r.dense?(U[fe]||(U[fe]=[]),U[fe][ue]=K):U[encode_col(ue)+encode_row(fe)]=K),K.HRef&&(K.l={Target:unescapexml(K.HRef)},K.HRefScreenTip&&(K.l.Tooltip=K.HRefScreenTip),delete K.HRef,delete K.HRefScreenTip),(K.MergeAcross||K.MergeDown)&&(yt=ue+(parseInt(K.MergeAcross,10)|0),Gt=fe+(parseInt(K.MergeDown,10)|0),_e.push({s:{c:ue,r:fe},e:{c:yt,r:Gt}})),!r.sheetStubs)K.MergeAcross?ue=yt+1:++ue;else if(K.MergeAcross||K.MergeDown){for(var It=ue;It<=yt;++It)for(var lr=fe;lr<=Gt;++lr)(It>ue||lr>fe)&&(r.dense?(U[lr]||(U[lr]=[]),U[lr][It]={t:"z"}):U[encode_col(It)+encode_row(lr)]={t:"z"});ue=yt+1}else++ue;else K=xlml_parsexmltagobj(R[0]),K.Index&&(ue=+K.Index-1),ue<Le.s.c&&(Le.s.c=ue),ue>Le.e.c&&(Le.e.c=ue),R[0].slice(-2)==="/>"&&++ue,Qe=[];break;case"row":R[1]==="/"||R[0].slice(-2)==="/>"?(fe<Le.s.r&&(Le.s.r=fe),fe>Le.e.r&&(Le.e.r=fe),R[0].slice(-2)==="/>"&&(J=xlml_parsexmltag(R[0]),J.Index&&(fe=+J.Index-1)),ue=0,++fe):(J=xlml_parsexmltag(R[0]),J.Index&&(fe=+J.Index-1),dt={},(J.AutoFitHeight=="0"||J.Height)&&(dt.hpx=parseInt(J.Height,10),dt.hpt=px2pt(dt.hpx),ar[fe]=dt),J.Hidden=="1"&&(dt.hidden=!0,ar[fe]=dt));break;case"worksheet":if(R[1]==="/"){if((O=I.pop())[0]!==R[3])throw new Error("Bad state: "+O.join("|"));T.push(q),Le.s.r<=Le.e.r&&Le.s.c<=Le.e.c&&(U["!ref"]=encode_range(Le),r.sheetRows&&r.sheetRows<=Le.e.r&&(U["!fullref"]=U["!ref"],Le.e.r=r.sheetRows-1,U["!ref"]=encode_range(Le))),_e.length&&(U["!merges"]=_e),pt.length>0&&(U["!cols"]=pt),ar.length>0&&(U["!rows"]=ar),A[q]=U}else Le={s:{r:2e6,c:2e6},e:{r:0,c:0}},fe=ue=0,I.push([R[3],!1]),O=xlml_parsexmltag(R[0]),q=unescapexml(O.Name),U=r.dense?[]:{},_e=[],bt=[],ar=[],Dt={name:q,Hidden:0},Bt.Sheets.push(Dt);break;case"table":if(R[1]==="/"){if((O=I.pop())[0]!==R[3])throw new Error("Bad state: "+O.join("|"))}else{if(R[0].slice(-2)=="/>")break;I.push([R[3],!1]),pt=[],Mt=!1}break;case"style":R[1]==="/"?process_style_xlml(Ge,ze,r):ze=xlml_parsexmltag(R[0]);break;case"numberformat":ze.nf=unescapexml(xlml_parsexmltag(R[0]).Format||"General"),XLMLFormatMap[ze.nf]&&(ze.nf=XLMLFormatMap[ze.nf]);for(var Je=0;Je!=392&&table_fmt[Je]!=ze.nf;++Je);if(Je==392){for(Je=57;Je!=392;++Je)if(table_fmt[Je]==null){SSF_load(ze.nf,Je);break}}break;case"column":if(I[I.length-1][0]!=="table")break;if(ut=xlml_parsexmltag(R[0]),ut.Hidden&&(ut.hidden=!0,delete ut.Hidden),ut.Width&&(ut.wpx=parseInt(ut.Width,10)),!Mt&&ut.wpx>10){Mt=!0,MDW=DEF_MDW;for(var Ve=0;Ve<pt.length;++Ve)pt[Ve]&&process_col(pt[Ve])}Mt&&process_col(ut),pt[ut.Index-1||pt.length]=ut;for(var st=0;st<+ut.Span;++st)pt[pt.length]=dup(ut);break;case"namedrange":if(R[1]==="/")break;Bt.Names||(Bt.Names=[]);var it=parsexmltag(R[0]),Wt={Name:it.Name,Ref:rc_to_a1(it.RefersTo.slice(1),{r:0,c:0})};Bt.Sheets.length>0&&(Wt.Sheet=Bt.Sheets.length-1),Bt.Names.push(Wt);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(R[0].slice(-2)==="/>")break;R[1]==="/"?je+=b.slice(Be,R.index):Be=R.index+R[0].length;break;case"interior":if(!r.cellStyles)break;ze.Interior=xlml_parsexmltag(R[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(R[0].slice(-2)==="/>")break;R[1]==="/"?xlml_set_prop(He,Ct,b.slice(Ke,R.index)):Ke=R.index+R[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(R[1]==="/"){if((O=I.pop())[0]!==R[3])throw new Error("Bad state: "+O.join("|"))}else I.push([R[3],!1]);break;case"comment":if(R[1]==="/"){if((O=I.pop())[0]!==R[3])throw new Error("Bad state: "+O.join("|"));xlml_clean_comment(vt),Qe.push(vt)}else I.push([R[3],!1]),O=xlml_parsexmltag(R[0]),vt={a:O.Author};break;case"autofilter":if(R[1]==="/"){if((O=I.pop())[0]!==R[3])throw new Error("Bad state: "+O.join("|"))}else if(R[0].charAt(R[0].length-2)!=="/"){var rt=xlml_parsexmltag(R[0]);U["!autofilter"]={ref:rc_to_a1(rt.Range).replace(/\$/g,"")},I.push([R[3],!0])}break;case"name":break;case"datavalidation":if(R[1]==="/"){if((O=I.pop())[0]!==R[3])throw new Error("Bad state: "+O.join("|"))}else R[0].charAt(R[0].length-2)!=="/"&&I.push([R[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(R[1]==="/"){if((O=I.pop())[0]!==R[3])throw new Error("Bad state: "+O.join("|"))}else R[0].charAt(R[0].length-2)!=="/"&&I.push([R[3],!0]);break;case"null":break;default:if(I.length==0&&R[3]=="document"||I.length==0&&R[3]=="uof")return parse_fods(b,r);var ur=!0;switch(I[I.length-1][0]){case"officedocumentsettings":switch(R[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:ur=!1}break;case"componentoptions":switch(R[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:ur=!1}break;case"excelworkbook":switch(R[3]){case"date1904":Bt.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:ur=!1}break;case"workbookoptions":switch(R[3]){case"owcversion":break;case"height":break;case"width":break;default:ur=!1}break;case"worksheetoptions":switch(R[3]){case"visible":if(R[0].slice(-2)!=="/>")if(R[1]==="/")switch(b.slice(Ke,R.index)){case"SheetHidden":Dt.Hidden=1;break;case"SheetVeryHidden":Dt.Hidden=2;break}else Ke=R.index+R[0].length;break;case"header":U["!margins"]||default_margins(U["!margins"]={},"xlml"),isNaN(+parsexmltag(R[0]).Margin)||(U["!margins"].header=+parsexmltag(R[0]).Margin);break;case"footer":U["!margins"]||default_margins(U["!margins"]={},"xlml"),isNaN(+parsexmltag(R[0]).Margin)||(U["!margins"].footer=+parsexmltag(R[0]).Margin);break;case"pagemargins":var tr=parsexmltag(R[0]);U["!margins"]||default_margins(U["!margins"]={},"xlml"),isNaN(+tr.Top)||(U["!margins"].top=+tr.Top),isNaN(+tr.Left)||(U["!margins"].left=+tr.Left),isNaN(+tr.Right)||(U["!margins"].right=+tr.Right),isNaN(+tr.Bottom)||(U["!margins"].bottom=+tr.Bottom);break;case"displayrighttoleft":Bt.Views||(Bt.Views=[]),Bt.Views[0]||(Bt.Views[0]={}),Bt.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":U["!outline"]||(U["!outline"]={}),U["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":U["!outline"]||(U["!outline"]={}),U["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:ur=!1}break;case"pivottable":case"pivotcache":switch(R[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:ur=!1}break;case"pagebreaks":switch(R[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:ur=!1}break;case"autofilter":switch(R[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:ur=!1}break;case"querytable":switch(R[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:ur=!1}break;case"datavalidation":switch(R[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:ur=!1}break;case"sorting":case"conditionalformatting":switch(R[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:ur=!1}break;case"mapinfo":case"schema":case"data":switch(R[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:ur=!1}break;case"smarttags":break;default:ur=!1;break}if(ur||R[3].match(/!\[CDATA/))break;if(!I[I.length-1][1])throw"Unrecognized tag: "+R[3]+"|"+I.join("|");if(I[I.length-1][0]==="customdocumentproperties"){if(R[0].slice(-2)==="/>")break;R[1]==="/"?xlml_set_custprop(tt,Ct,Ze,b.slice(Ke,R.index)):(Ze=R,Ke=R.index+R[0].length);break}if(r.WTF)throw"Unrecognized tag: "+R[3]+"|"+I.join("|")}var Ft={};return!r.bookSheets&&!r.bookProps&&(Ft.Sheets=A),Ft.SheetNames=T,Ft.Workbook=Bt,Ft.SSF=dup(table_fmt),Ft.Props=He,Ft.Custprops=tt,Ft}function parse_xlml(y,x){switch(fix_read_opts(x=x||{}),x.type||"base64"){case"base64":return parse_xlml_xml(Base64_decode(y),x);case"binary":case"buffer":case"file":return parse_xlml_xml(y,x);case"array":return parse_xlml_xml(a2s(y),x)}}function write_props_xlml(y,x){var r=[];return y.Props&&r.push(xlml_write_docprops(y.Props,x)),y.Custprops&&r.push(xlml_write_custprops(y.Props,y.Custprops)),r.join("")}function write_wb_xlml(){return""}function write_sty_xlml(y,x){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return x.cellXfs.forEach(function(b,M){var z=[];z.push(writextag("NumberFormat",null,{"ss:Format":escapexml(table_fmt[b.numFmtId])}));var B={"ss:ID":"s"+(21+M)};r.push(writextag("Style",z.join(""),B))}),writextag("Styles",r.join(""))}function write_name_xlml(y){return writextag("NamedRange",null,{"ss:Name":y.Name,"ss:RefersTo":"="+a1_to_rc(y.Ref,{r:0,c:0})})}function write_names_xlml(y){if(!((y||{}).Workbook||{}).Names)return"";for(var x=y.Workbook.Names,r=[],b=0;b<x.length;++b){var M=x[b];M.Sheet==null&&(M.Name.match(/^_xlfn\./)||r.push(write_name_xlml(M)))}return writextag("Names",r.join(""))}function write_ws_xlml_names(y,x,r,b){if(!y||!((b||{}).Workbook||{}).Names)return"";for(var M=b.Workbook.Names,z=[],B=0;B<M.length;++B){var R=M[B];R.Sheet==r&&(R.Name.match(/^_xlfn\./)||z.push(write_name_xlml(R)))}return z.join("")}function write_ws_xlml_wsopts(y,x,r,b){if(!y)return"";var M=[];if(y["!margins"]&&(M.push("<PageSetup>"),y["!margins"].header&&M.push(writextag("Header",null,{"x:Margin":y["!margins"].header})),y["!margins"].footer&&M.push(writextag("Footer",null,{"x:Margin":y["!margins"].footer})),M.push(writextag("PageMargins",null,{"x:Bottom":y["!margins"].bottom||"0.75","x:Left":y["!margins"].left||"0.7","x:Right":y["!margins"].right||"0.7","x:Top":y["!margins"].top||"0.75"})),M.push("</PageSetup>")),b&&b.Workbook&&b.Workbook.Sheets&&b.Workbook.Sheets[r])if(b.Workbook.Sheets[r].Hidden)M.push(writextag("Visible",b.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var z=0;z<r&&!(b.Workbook.Sheets[z]&&!b.Workbook.Sheets[z].Hidden);++z);z==r&&M.push("<Selected/>")}return((((b||{}).Workbook||{}).Views||[])[0]||{}).RTL&&M.push("<DisplayRightToLeft/>"),y["!protect"]&&(M.push(writetag("ProtectContents","True")),y["!protect"].objects&&M.push(writetag("ProtectObjects","True")),y["!protect"].scenarios&&M.push(writetag("ProtectScenarios","True")),y["!protect"].selectLockedCells!=null&&!y["!protect"].selectLockedCells?M.push(writetag("EnableSelection","NoSelection")):y["!protect"].selectUnlockedCells!=null&&!y["!protect"].selectUnlockedCells&&M.push(writetag("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(B){y["!protect"][B[0]]&&M.push("<"+B[1]+"/>")})),M.length==0?"":writextag("WorksheetOptions",M.join(""),{xmlns:XLMLNS.x})}function write_ws_xlml_comment(y){return y.map(function(x){var r=xlml_unfixstr(x.t||""),b=writextag("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return writextag("Comment",b,{"ss:Author":x.a})}).join("")}function write_ws_xlml_cell(y,x,r,b,M,z,B){if(!y||y.v==null&&y.f==null)return"";var R={};if(y.f&&(R["ss:Formula"]="="+escapexml(a1_to_rc(y.f,B))),y.F&&y.F.slice(0,x.length)==x){var I=decode_cell(y.F.slice(x.length+1));R["ss:ArrayRange"]="RC:R"+(I.r==B.r?"":"["+(I.r-B.r)+"]")+"C"+(I.c==B.c?"":"["+(I.c-B.c)+"]")}if(y.l&&y.l.Target&&(R["ss:HRef"]=escapexml(y.l.Target),y.l.Tooltip&&(R["x:HRefScreenTip"]=escapexml(y.l.Tooltip))),r["!merges"])for(var O=r["!merges"],A=0;A!=O.length;++A)O[A].s.c!=B.c||O[A].s.r!=B.r||(O[A].e.c>O[A].s.c&&(R["ss:MergeAcross"]=O[A].e.c-O[A].s.c),O[A].e.r>O[A].s.r&&(R["ss:MergeDown"]=O[A].e.r-O[A].s.r));var T="",U="";switch(y.t){case"z":if(!b.sheetStubs)return"";break;case"n":T="Number",U=String(y.v);break;case"b":T="Boolean",U=y.v?"1":"0";break;case"e":T="Error",U=BErr[y.v];break;case"d":T="DateTime",U=new Date(y.v).toISOString(),y.z==null&&(y.z=y.z||table_fmt[14]);break;case"s":T="String",U=escapexlml(y.v||"");break}var q=get_cell_style(b.cellXfs,y,b);R["ss:StyleID"]="s"+(21+q),R["ss:Index"]=B.c+1;var K=y.v!=null?U:"",J=y.t=="z"?"":'<Data ss:Type="'+T+'">'+K+"</Data>";return(y.c||[]).length>0&&(J+=write_ws_xlml_comment(y.c)),writextag("Cell",J,R)}function write_ws_xlml_row(y,x){var r='<Row ss:Index="'+(y+1)+'"';return x&&(x.hpt&&!x.hpx&&(x.hpx=pt2px(x.hpt)),x.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+x.hpx+'"'),x.hidden&&(r+=' ss:Hidden="1"')),r+">"}function write_ws_xlml_table(y,x,r,b){if(!y["!ref"])return"";var M=safe_decode_range(y["!ref"]),z=y["!merges"]||[],B=0,R=[];y["!cols"]&&y["!cols"].forEach(function(te,oe){process_col(te);var ue=!!te.width,fe=col_obj_w(oe,te),Le={"ss:Index":oe+1};ue&&(Le["ss:Width"]=width2px(fe.width)),te.hidden&&(Le["ss:Hidden"]="1"),R.push(writextag("Column",null,Le))});for(var I=Array.isArray(y),O=M.s.r;O<=M.e.r;++O){for(var A=[write_ws_xlml_row(O,(y["!rows"]||[])[O])],T=M.s.c;T<=M.e.c;++T){var U=!1;for(B=0;B!=z.length;++B)if(!(z[B].s.c>T)&&!(z[B].s.r>O)&&!(z[B].e.c<T)&&!(z[B].e.r<O)){(z[B].s.c!=T||z[B].s.r!=O)&&(U=!0);break}if(!U){var q={r:O,c:T},K=encode_cell(q),J=I?(y[O]||[])[T]:y[K];A.push(write_ws_xlml_cell(J,K,y,x,r,b,q))}}A.push("</Row>"),A.length>2&&R.push(A.join(""))}return R.join("")}function write_ws_xlml(y,x,r){var b=[],M=r.SheetNames[y],z=r.Sheets[M],B=z?write_ws_xlml_names(z,x,y,r):"";return B.length>0&&b.push("<Names>"+B+"</Names>"),B=z?write_ws_xlml_table(z,x,y,r):"",B.length>0&&b.push("<Table>"+B+"</Table>"),b.push(write_ws_xlml_wsopts(z,x,y,r)),b.join("")}function write_xlml(y,x){x||(x={}),y.SSF||(y.SSF=dup(table_fmt)),y.SSF&&(make_ssf(),SSF_load_table(y.SSF),x.revssf=evert_num(y.SSF),x.revssf[y.SSF[65535]]=0,x.ssf=y.SSF,x.cellXfs=[],get_cell_style(x.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(write_props_xlml(y,x)),r.push(write_wb_xlml()),r.push(""),r.push("");for(var b=0;b<y.SheetNames.length;++b)r.push(writextag("Worksheet",write_ws_xlml(b,x,y),{"ss:Name":escapexml(y.SheetNames[b])}));return r[2]=write_sty_xlml(y,x),r[3]=write_names_xlml(y),XML_HEADER+writextag("Workbook",r.join(""),{xmlns:XLMLNS.ss,"xmlns:o":XLMLNS.o,"xmlns:x":XLMLNS.x,"xmlns:ss":XLMLNS.ss,"xmlns:dt":XLMLNS.dt,"xmlns:html":XLMLNS.html})}function parse_compobj(y){var x={},r=y.content;if(r.l=28,x.AnsiUserType=r.read_shift(0,"lpstr-ansi"),x.AnsiClipboardFormat=parse_ClipboardFormatOrAnsiString(r),r.length-r.l<=4)return x;var b=r.read_shift(4);if(b==0||b>40||(r.l-=4,x.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(b=r.read_shift(4),b!==1907505652)||(x.UnicodeClipboardFormat=parse_ClipboardFormatOrUnicodeString(r),b=r.read_shift(4),b==0||b>40))return x;r.l-=4,x.Reserved2=r.read_shift(0,"lpwstr")}var CONTINUE_RT=[60,1084,2066,2165,2175];function slurp(y,x,r,b,M){var z=b,B=[],R=r.slice(r.l,r.l+z);if(M&&M.enc&&M.enc.insitu&&R.length>0)switch(y){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:M.enc.insitu(R)}B.push(R),r.l+=z;for(var I=__readUInt16LE(r,r.l),O=XLSRecordEnum[I],A=0;O!=null&&CONTINUE_RT.indexOf(I)>-1;)z=__readUInt16LE(r,r.l+2),A=r.l+4,I==2066?A+=4:(I==2165||I==2175)&&(A+=12),R=r.slice(A,r.l+4+z),B.push(R),r.l+=4+z,O=XLSRecordEnum[I=__readUInt16LE(r,r.l)];var T=bconcat(B);prep_blob(T,0);var U=0;T.lens=[];for(var q=0;q<B.length;++q)T.lens.push(U),U+=B[q].length;if(T.length<b)throw"XLS Record 0x"+y.toString(16)+" Truncated: "+T.length+" < "+b;return x.f(T,T.length,M)}function safe_format_xf(y,x,r){if(y.t!=="z"&&y.XF){var b=0;try{b=y.z||y.XF.numFmtId||0,x.cellNF&&(y.z=table_fmt[b])}catch(z){if(x.WTF)throw z}if(!x||x.cellText!==!1)try{y.t==="e"?y.w=y.w||BErr[y.v]:b===0||b=="General"?y.t==="n"?(y.v|0)===y.v?y.w=y.v.toString(10):y.w=SSF_general_num(y.v):y.w=SSF_general(y.v):y.w=SSF_format(b,y.v,{date1904:!!r,dateNF:x&&x.dateNF})}catch(z){if(x.WTF)throw z}if(x.cellDates&&b&&y.t=="n"&&fmt_is_date(table_fmt[b]||String(b))){var M=SSF_parse_date_code(y.v);M&&(y.t="d",y.v=new Date(M.y,M.m-1,M.d,M.H,M.M,M.S,M.u))}}}function make_cell(y,x,r){return{v:y,ixfe:x,t:r}}function parse_workbook(y,x){var r={opts:{}},b={},M=x.dense?[]:{},z={},B={},R=null,I=[],O="",A={},T,U="",q,K,J,te,oe={},ue=[],fe,Le,Ge=[],ze=[],je={Sheets:[],WBProps:{date1904:!1},Views:[{}]},Be={},_e=function(Qn){return Qn<8?XLSIcv[Qn]:Qn<64&&ze[Qn-8]||XLSIcv[Qn]},He=function(Qn,vi,wi){var oi=vi.XF.data;if(!(!oi||!oi.patternType||!wi||!wi.cellStyles)){vi.s={},vi.s.patternType=oi.patternType;var Si;(Si=rgb2Hex(_e(oi.icvFore)))&&(vi.s.fgColor={rgb:Si}),(Si=rgb2Hex(_e(oi.icvBack)))&&(vi.s.bgColor={rgb:Si})}},tt=function(Qn,vi,wi){if(!(dt>1)&&!(wi.sheetRows&&Qn.r>=wi.sheetRows)){if(wi.cellStyles&&vi.XF&&vi.XF.data&&He(Qn,vi,wi),delete vi.ixfe,delete vi.XF,T=Qn,U=encode_cell(Qn),(!B||!B.s||!B.e)&&(B={s:{r:0,c:0},e:{r:0,c:0}}),Qn.r<B.s.r&&(B.s.r=Qn.r),Qn.c<B.s.c&&(B.s.c=Qn.c),Qn.r+1>B.e.r&&(B.e.r=Qn.r+1),Qn.c+1>B.e.c&&(B.e.c=Qn.c+1),wi.cellFormula&&vi.f){for(var oi=0;oi<ue.length;++oi)if(!(ue[oi][0].s.c>Qn.c||ue[oi][0].s.r>Qn.r)&&!(ue[oi][0].e.c<Qn.c||ue[oi][0].e.r<Qn.r)){vi.F=encode_range(ue[oi][0]),(ue[oi][0].s.c!=Qn.c||ue[oi][0].s.r!=Qn.r)&&delete vi.f,vi.f&&(vi.f=""+stringify_formula(ue[oi][1],B,Qn,bt,Ke));break}}wi.dense?(M[Qn.r]||(M[Qn.r]=[]),M[Qn.r][Qn.c]=vi):M[U]=vi}},Ke={enc:!1,sbcch:0,snames:[],sharedf:oe,arrayf:ue,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!x&&!!x.cellStyles,WTF:!!x&&!!x.wtf};x.password&&(Ke.password=x.password);var Ze,Qe=[],vt=[],pt=[],ut=[],Mt=!1,bt=[];bt.SheetNames=Ke.snames,bt.sharedf=Ke.sharedf,bt.arrayf=Ke.arrayf,bt.names=[],bt.XTI=[];var ar=0,dt=0,yt=0,Gt=[],Bt=[],Dt;Ke.codepage=1200,set_cp(1200);for(var Ct=!1;y.l<y.length-1;){var It=y.l,lr=y.read_shift(2);if(lr===0&&ar===10)break;var Je=y.l===y.length?0:y.read_shift(2),Ve=XLSRecordEnum[lr];if(Ve&&Ve.f){if(x.bookSheets&&ar===133&&lr!==133)break;if(ar=lr,Ve.r===2||Ve.r==12){var st=y.read_shift(2);if(Je-=2,!Ke.enc&&st!==lr&&((st&255)<<8|st>>8)!==lr)throw new Error("rt mismatch: "+st+"!="+lr);Ve.r==12&&(y.l+=10,Je-=10)}var it={};if(lr===10?it=Ve.f(y,Je,Ke):it=slurp(lr,Ve,y,Je,Ke),dt==0&&[9,521,1033,2057].indexOf(ar)===-1)continue;switch(lr){case 34:r.opts.Date1904=je.WBProps.date1904=it;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(Ke.enc||(y.l=0),Ke.enc=it,!x.password)throw new Error("File is password-protected");if(it.valid==null)throw new Error("Encryption scheme unsupported");if(!it.valid)throw new Error("Password is incorrect");break;case 92:Ke.lastuser=it;break;case 66:var Wt=Number(it);switch(Wt){case 21010:Wt=1200;break;case 32768:Wt=1e4;break;case 32769:Wt=1252;break}set_cp(Ke.codepage=Wt),Ct=!0;break;case 317:Ke.rrtabid=it;break;case 25:Ke.winlocked=it;break;case 439:r.opts.RefreshAll=it;break;case 12:r.opts.CalcCount=it;break;case 16:r.opts.CalcDelta=it;break;case 17:r.opts.CalcIter=it;break;case 13:r.opts.CalcMode=it;break;case 14:r.opts.CalcPrecision=it;break;case 95:r.opts.CalcSaveRecalc=it;break;case 15:Ke.CalcRefMode=it;break;case 2211:r.opts.FullCalc=it;break;case 129:it.fDialog&&(M["!type"]="dialog"),it.fBelow||((M["!outline"]||(M["!outline"]={})).above=!0),it.fRight||((M["!outline"]||(M["!outline"]={})).left=!0);break;case 224:Ge.push(it);break;case 430:bt.push([it]),bt[bt.length-1].XTI=[];break;case 35:case 547:bt[bt.length-1].push(it);break;case 24:case 536:Dt={Name:it.Name,Ref:stringify_formula(it.rgce,B,null,bt,Ke)},it.itab>0&&(Dt.Sheet=it.itab-1),bt.names.push(Dt),bt[0]||(bt[0]=[],bt[0].XTI=[]),bt[bt.length-1].push(it),it.Name=="_xlnm._FilterDatabase"&&it.itab>0&&it.rgce&&it.rgce[0]&&it.rgce[0][0]&&it.rgce[0][0][0]=="PtgArea3d"&&(Bt[it.itab-1]={ref:encode_range(it.rgce[0][0][1][2])});break;case 22:Ke.ExternCount=it;break;case 23:bt.length==0&&(bt[0]=[],bt[0].XTI=[]),bt[bt.length-1].XTI=bt[bt.length-1].XTI.concat(it),bt.XTI=bt.XTI.concat(it);break;case 2196:if(Ke.biff<8)break;Dt!=null&&(Dt.Comment=it[1]);break;case 18:M["!protect"]=it;break;case 19:it!==0&&Ke.WTF&&console.error("Password verifier: "+it);break;case 133:z[it.pos]=it,Ke.snames.push(it.name);break;case 10:{if(--dt)break;if(B.e){if(B.e.r>0&&B.e.c>0){if(B.e.r--,B.e.c--,M["!ref"]=encode_range(B),x.sheetRows&&x.sheetRows<=B.e.r){var rt=B.e.r;B.e.r=x.sheetRows-1,M["!fullref"]=M["!ref"],M["!ref"]=encode_range(B),B.e.r=rt}B.e.r++,B.e.c++}Qe.length>0&&(M["!merges"]=Qe),vt.length>0&&(M["!objects"]=vt),pt.length>0&&(M["!cols"]=pt),ut.length>0&&(M["!rows"]=ut),je.Sheets.push(Be)}O===""?A=M:b[O]=M,M=x.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(Ke.biff===8&&(Ke.biff={9:2,521:3,1033:4}[lr]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[it.BIFFVer]||8),Ke.biffguess=it.BIFFVer==0,it.BIFFVer==0&&it.dt==4096&&(Ke.biff=5,Ct=!0,set_cp(Ke.codepage=28591)),Ke.biff==8&&it.BIFFVer==0&&it.dt==16&&(Ke.biff=2),dt++)break;if(M=x.dense?[]:{},Ke.biff<8&&!Ct&&(Ct=!0,set_cp(Ke.codepage=x.codepage||1252)),Ke.biff<5||it.BIFFVer==0&&it.dt==4096){O===""&&(O="Sheet1"),B={s:{r:0,c:0},e:{r:0,c:0}};var ur={pos:y.l-Je,name:O};z[ur.pos]=ur,Ke.snames.push(O)}else O=(z[It]||{name:""}).name;it.dt==32&&(M["!type"]="chart"),it.dt==64&&(M["!type"]="macro"),Qe=[],vt=[],Ke.arrayf=ue=[],pt=[],ut=[],Mt=!1,Be={Hidden:(z[It]||{hs:0}).hs,name:O}}break;case 515:case 3:case 2:M["!type"]=="chart"&&(x.dense?(M[it.r]||[])[it.c]:M[encode_cell({c:it.c,r:it.r})])&&++it.c,fe={ixfe:it.ixfe,XF:Ge[it.ixfe]||{},v:it.val,t:"n"},yt>0&&(fe.z=Gt[fe.ixfe>>8&63]),safe_format_xf(fe,x,r.opts.Date1904),tt({c:it.c,r:it.r},fe,x);break;case 5:case 517:fe={ixfe:it.ixfe,XF:Ge[it.ixfe],v:it.val,t:it.t},yt>0&&(fe.z=Gt[fe.ixfe>>8&63]),safe_format_xf(fe,x,r.opts.Date1904),tt({c:it.c,r:it.r},fe,x);break;case 638:fe={ixfe:it.ixfe,XF:Ge[it.ixfe],v:it.rknum,t:"n"},yt>0&&(fe.z=Gt[fe.ixfe>>8&63]),safe_format_xf(fe,x,r.opts.Date1904),tt({c:it.c,r:it.r},fe,x);break;case 189:for(var tr=it.c;tr<=it.C;++tr){var Ft=it.rkrec[tr-it.c][0];fe={ixfe:Ft,XF:Ge[Ft],v:it.rkrec[tr-it.c][1],t:"n"},yt>0&&(fe.z=Gt[fe.ixfe>>8&63]),safe_format_xf(fe,x,r.opts.Date1904),tt({c:tr,r:it.r},fe,x)}break;case 6:case 518:case 1030:{if(it.val=="String"){R=it;break}if(fe=make_cell(it.val,it.cell.ixfe,it.tt),fe.XF=Ge[fe.ixfe],x.cellFormula){var Jt=it.formula;if(Jt&&Jt[0]&&Jt[0][0]&&Jt[0][0][0]=="PtgExp"){var et=Jt[0][0][1][0],gt=Jt[0][0][1][1],Et=encode_cell({r:et,c:gt});oe[Et]?fe.f=""+stringify_formula(it.formula,B,it.cell,bt,Ke):fe.F=((x.dense?(M[et]||[])[gt]:M[Et])||{}).F}else fe.f=""+stringify_formula(it.formula,B,it.cell,bt,Ke)}yt>0&&(fe.z=Gt[fe.ixfe>>8&63]),safe_format_xf(fe,x,r.opts.Date1904),tt(it.cell,fe,x),R=it}break;case 7:case 519:if(R)R.val=it,fe=make_cell(it,R.cell.ixfe,"s"),fe.XF=Ge[fe.ixfe],x.cellFormula&&(fe.f=""+stringify_formula(R.formula,B,R.cell,bt,Ke)),yt>0&&(fe.z=Gt[fe.ixfe>>8&63]),safe_format_xf(fe,x,r.opts.Date1904),tt(R.cell,fe,x),R=null;else throw new Error("String record expects Formula");break;case 33:case 545:{ue.push(it);var Xt=encode_cell(it[0].s);if(q=x.dense?(M[it[0].s.r]||[])[it[0].s.c]:M[Xt],x.cellFormula&&q){if(!R||!Xt||!q)break;q.f=""+stringify_formula(it[1],B,it[0],bt,Ke),q.F=encode_range(it[0])}}break;case 1212:{if(!x.cellFormula)break;if(U){if(!R)break;oe[encode_cell(R.cell)]=it[0],q=x.dense?(M[R.cell.r]||[])[R.cell.c]:M[encode_cell(R.cell)],(q||{}).f=""+stringify_formula(it[0],B,T,bt,Ke)}}break;case 253:fe=make_cell(I[it.isst].t,it.ixfe,"s"),I[it.isst].h&&(fe.h=I[it.isst].h),fe.XF=Ge[fe.ixfe],yt>0&&(fe.z=Gt[fe.ixfe>>8&63]),safe_format_xf(fe,x,r.opts.Date1904),tt({c:it.c,r:it.r},fe,x);break;case 513:x.sheetStubs&&(fe={ixfe:it.ixfe,XF:Ge[it.ixfe],t:"z"},yt>0&&(fe.z=Gt[fe.ixfe>>8&63]),safe_format_xf(fe,x,r.opts.Date1904),tt({c:it.c,r:it.r},fe,x));break;case 190:if(x.sheetStubs)for(var mr=it.c;mr<=it.C;++mr){var Cr=it.ixfe[mr-it.c];fe={ixfe:Cr,XF:Ge[Cr],t:"z"},yt>0&&(fe.z=Gt[fe.ixfe>>8&63]),safe_format_xf(fe,x,r.opts.Date1904),tt({c:mr,r:it.r},fe,x)}break;case 214:case 516:case 4:fe=make_cell(it.val,it.ixfe,"s"),fe.XF=Ge[fe.ixfe],yt>0&&(fe.z=Gt[fe.ixfe>>8&63]),safe_format_xf(fe,x,r.opts.Date1904),tt({c:it.c,r:it.r},fe,x);break;case 0:case 512:dt===1&&(B=it);break;case 252:I=it;break;case 1054:if(Ke.biff==4){Gt[yt++]=it[1];for(var Dr=0;Dr<yt+163&&table_fmt[Dr]!=it[1];++Dr);Dr>=163&&SSF_load(it[1],yt+163)}else SSF_load(it[1],it[0]);break;case 30:{Gt[yt++]=it;for(var _n=0;_n<yt+163&&table_fmt[_n]!=it;++_n);_n>=163&&SSF_load(it,yt+163)}break;case 229:Qe=Qe.concat(it);break;case 93:vt[it.cmo[0]]=Ke.lastobj=it;break;case 438:Ke.lastobj.TxO=it;break;case 127:Ke.lastobj.ImData=it;break;case 440:for(te=it[0].s.r;te<=it[0].e.r;++te)for(J=it[0].s.c;J<=it[0].e.c;++J)q=x.dense?(M[te]||[])[J]:M[encode_cell({c:J,r:te})],q&&(q.l=it[1]);break;case 2048:for(te=it[0].s.r;te<=it[0].e.r;++te)for(J=it[0].s.c;J<=it[0].e.c;++J)q=x.dense?(M[te]||[])[J]:M[encode_cell({c:J,r:te})],q&&q.l&&(q.l.Tooltip=it[1]);break;case 28:{if(Ke.biff<=5&&Ke.biff>=2)break;q=x.dense?(M[it[0].r]||[])[it[0].c]:M[encode_cell(it[0])];var In=vt[it[2]];q||(x.dense?(M[it[0].r]||(M[it[0].r]=[]),q=M[it[0].r][it[0].c]={t:"z"}):q=M[encode_cell(it[0])]={t:"z"},B.e.r=Math.max(B.e.r,it[0].r),B.s.r=Math.min(B.s.r,it[0].r),B.e.c=Math.max(B.e.c,it[0].c),B.s.c=Math.min(B.s.c,it[0].c)),q.c||(q.c=[]),K={a:it[1],t:In.TxO.t},q.c.push(K)}break;case 2173:update_xfext(Ge[it.ixfe],it.ext);break;case 125:{if(!Ke.cellStyles)break;for(;it.e>=it.s;)pt[it.e--]={width:it.w/256,level:it.level||0,hidden:!!(it.flags&1)},Mt||(Mt=!0,find_mdw_colw(it.w/256)),process_col(pt[it.e+1])}break;case 520:{var Fn={};it.level!=null&&(ut[it.r]=Fn,Fn.level=it.level),it.hidden&&(ut[it.r]=Fn,Fn.hidden=!0),it.hpt&&(ut[it.r]=Fn,Fn.hpt=it.hpt,Fn.hpx=pt2px(it.hpt))}break;case 38:case 39:case 40:case 41:M["!margins"]||default_margins(M["!margins"]={}),M["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[lr]]=it;break;case 161:M["!margins"]||default_margins(M["!margins"]={}),M["!margins"].header=it.header,M["!margins"].footer=it.footer;break;case 574:it.RTL&&(je.Views[0].RTL=!0);break;case 146:ze=it;break;case 2198:Ze=it;break;case 140:Le=it;break;case 442:O?Be.CodeName=it||Be.name:je.WBProps.CodeName=it||"ThisWorkbook";break}}else Ve||console.error("Missing Info for XLS Record 0x"+lr.toString(16)),y.l+=Je}return r.SheetNames=keys(z).sort(function(ti,Qn){return Number(ti)-Number(Qn)}).map(function(ti){return z[ti].name}),x.bookSheets||(r.Sheets=b),!r.SheetNames.length&&A["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=A)):r.Preamble=A,r.Sheets&&Bt.forEach(function(ti,Qn){r.Sheets[r.SheetNames[Qn]]["!autofilter"]=ti}),r.Strings=I,r.SSF=dup(table_fmt),Ke.enc&&(r.Encryption=Ke.enc),Ze&&(r.Themes=Ze),r.Metadata={},Le!==void 0&&(r.Metadata.Country=Le),bt.names.length>0&&(je.Names=bt.names),r.Workbook=je,r}var PSCLSID={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function parse_xls_props(y,x,r){var b=CFB.find(y,"/!DocumentSummaryInformation");if(b&&b.size>0)try{var M=parse_PropertySetStream(b,DocSummaryPIDDSI,PSCLSID.DSI);for(var z in M)x[z]=M[z]}catch(O){if(r.WTF)throw O}var B=CFB.find(y,"/!SummaryInformation");if(B&&B.size>0)try{var R=parse_PropertySetStream(B,SummaryPIDSI,PSCLSID.SI);for(var I in R)x[I]==null&&(x[I]=R[I])}catch(O){if(r.WTF)throw O}x.HeadingPairs&&x.TitlesOfParts&&(load_props_pairs(x.HeadingPairs,x.TitlesOfParts,x,r),delete x.HeadingPairs,delete x.TitlesOfParts)}function write_xls_props(y,x){var r=[],b=[],M=[],z=0,B,R=evert_key(DocSummaryPIDDSI,"n"),I=evert_key(SummaryPIDSI,"n");if(y.Props)for(B=keys(y.Props),z=0;z<B.length;++z)(Object.prototype.hasOwnProperty.call(R,B[z])?r:Object.prototype.hasOwnProperty.call(I,B[z])?b:M).push([B[z],y.Props[B[z]]]);if(y.Custprops)for(B=keys(y.Custprops),z=0;z<B.length;++z)Object.prototype.hasOwnProperty.call(y.Props||{},B[z])||(Object.prototype.hasOwnProperty.call(R,B[z])?r:Object.prototype.hasOwnProperty.call(I,B[z])?b:M).push([B[z],y.Custprops[B[z]]]);var O=[];for(z=0;z<M.length;++z)XLSPSSkip.indexOf(M[z][0])>-1||PseudoPropsPairs.indexOf(M[z][0])>-1||M[z][1]!=null&&O.push(M[z]);b.length&&CFB.utils.cfb_add(x,"/SummaryInformation",write_PropertySetStream(b,PSCLSID.SI,I,SummaryPIDSI)),(r.length||O.length)&&CFB.utils.cfb_add(x,"/DocumentSummaryInformation",write_PropertySetStream(r,PSCLSID.DSI,R,DocSummaryPIDDSI,O.length?O:null,PSCLSID.UDI))}function parse_xlscfb(y,x){x||(x={}),fix_read_opts(x),reset_cp(),x.codepage&&set_ansi(x.codepage);var r,b;if(y.FullPaths){if(CFB.find(y,"/encryption"))throw new Error("File is password-protected");r=CFB.find(y,"!CompObj"),b=CFB.find(y,"/Workbook")||CFB.find(y,"/Book")}else{switch(x.type){case"base64":y=s2a(Base64_decode(y));break;case"binary":y=s2a(y);break;case"buffer":break;case"array":Array.isArray(y)||(y=Array.prototype.slice.call(y));break}prep_blob(y,0),b={content:y}}var M,z;if(r&&parse_compobj(r),x.bookProps&&!x.bookSheets)M={};else{var B=has_buf?"buffer":"array";if(b&&b.content)M=parse_workbook(b.content,x);else if((z=CFB.find(y,"PerfectOffice_MAIN"))&&z.content)M=WK_.to_workbook(z.content,(x.type=B,x));else if((z=CFB.find(y,"NativeContent_MAIN"))&&z.content)M=WK_.to_workbook(z.content,(x.type=B,x));else throw(z=CFB.find(y,"MN0"))&&z.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");x.bookVBA&&y.FullPaths&&CFB.find(y,"/_VBA_PROJECT_CUR/VBA/dir")&&(M.vbaraw=make_vba_xls(y))}var R={};return y.FullPaths&&parse_xls_props(y,R,x),M.Props=M.Custprops=R,x.bookFiles&&(M.cfb=y),M}function write_xlscfb(y,x){var r=x||{},b=CFB.utils.cfb_new({root:"R"}),M="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":M="/Workbook",r.biff=8;break;case"biff5":M="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return CFB.utils.cfb_add(b,M,write_biff_buf(y,r)),r.biff==8&&(y.Props||y.Custprops)&&write_xls_props(y,b),r.biff==8&&y.vbaraw&&fill_vba_xls(b,CFB.read(y.vbaraw,{type:typeof y.vbaraw=="string"?"binary":"buffer"})),b}var XLSBRecordEnum={0:{f:parse_BrtRowHdr},1:{f:parse_BrtCellBlank},2:{f:parse_BrtCellRk},3:{f:parse_BrtCellError},4:{f:parse_BrtCellBool},5:{f:parse_BrtCellReal},6:{f:parse_BrtCellSt},7:{f:parse_BrtCellIsst},8:{f:parse_BrtFmlaString},9:{f:parse_BrtFmlaNum},10:{f:parse_BrtFmlaBool},11:{f:parse_BrtFmlaError},12:{f:parse_BrtShortBlank},13:{f:parse_BrtShortRk},14:{f:parse_BrtShortError},15:{f:parse_BrtShortBool},16:{f:parse_BrtShortReal},17:{f:parse_BrtShortSt},18:{f:parse_BrtShortIsst},19:{f:parse_RichStr},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:parse_BrtName},40:{},42:{},43:{f:parse_BrtFont},44:{f:parse_BrtFmt},45:{f:parse_BrtFill},46:{f:parse_BrtBorder},47:{f:parse_BrtXF},48:{},49:{f:parse_Int32LE},50:{},51:{f:parse_BrtMdb},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:parse_ColInfo},62:{f:parse_BrtCellRString},63:{f:parse_BrtCalcChainItem$},64:{f:parse_BrtDVal},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:parsenoop,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:parse_BrtBeginWsView},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:parse_BrtWsProp},148:{f:parse_BrtWsDim,p:16},151:{f:parse_BrtPane},152:{},153:{f:parse_BrtWbProp},154:{},155:{},156:{f:parse_BrtBundleSh},157:{},158:{},159:{T:1,f:parse_BrtBeginSst},160:{T:-1},161:{T:1,f:parse_UncheckedRfX},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:parse_BrtMergeCell},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:parse_BrtMdtinfo},336:{T:-1},337:{f:parse_BrtBeginEsmdb,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:parse_RelID},357:{},358:{},359:{},360:{T:1},361:{},362:{f:parse_ExternSheet},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:parse_BrtArrFmla},427:{f:parse_BrtShrFmla},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:parse_BrtMargins},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:parse_BrtWsFmtInfo},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:parse_BrtHLink},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:parse_RelID},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:parse_BrtCommentAuthor},633:{T:1},634:{T:-1},635:{T:1,f:parse_BrtBeginComment},636:{T:-1},637:{f:parse_BrtCommentText},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:parse_BrtCsProp},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:parse_BrtDVal14},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},XLSRecordEnum={6:{f:parse_Formula},10:{f:parsenoop2},12:{f:parseuint16},13:{f:parseuint16},14:{f:parsebool},15:{f:parsebool},16:{f:parse_Xnum},17:{f:parsebool},18:{f:parsebool},19:{f:parseuint16},20:{f:parse_XLHeaderFooter},21:{f:parse_XLHeaderFooter},23:{f:parse_ExternSheet},24:{f:parse_Lbl},25:{f:parsebool},26:{},27:{},28:{f:parse_Note},29:{},34:{f:parsebool},35:{f:parse_ExternName},38:{f:parse_Xnum},39:{f:parse_Xnum},40:{f:parse_Xnum},41:{f:parse_Xnum},42:{f:parsebool},43:{f:parsebool},47:{f:parse_FilePass},49:{f:parse_Font},51:{f:parseuint16},60:{},61:{f:parse_Window1},64:{f:parsebool},65:{f:parse_Pane},66:{f:parseuint16},77:{},80:{},81:{},82:{},85:{f:parseuint16},89:{},90:{},91:{},92:{f:parse_WriteAccess},93:{f:parse_Obj},94:{},95:{f:parsebool},96:{},97:{},99:{f:parsebool},125:{f:parse_ColInfo},128:{f:parse_Guts},129:{f:parse_WsBool},130:{f:parseuint16},131:{f:parsebool},132:{f:parsebool},133:{f:parse_BoundSheet8},134:{},140:{f:parse_Country},141:{f:parseuint16},144:{},146:{f:parse_Palette},151:{},152:{},153:{},154:{},155:{},156:{f:parseuint16},157:{},158:{},160:{f:parse_Scl},161:{f:parse_Setup},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:parse_MulRk},190:{f:parse_MulBlank},193:{f:parsenoop2},197:{},198:{},199:{},200:{},201:{},202:{f:parsebool},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:parseuint16},220:{},221:{f:parsebool},222:{},224:{f:parse_XF},225:{f:parse_InterfaceHdr},226:{f:parsenoop2},227:{},229:{f:parse_MergeCells},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:parse_SST},253:{f:parse_LabelSst},255:{f:parse_ExtSST},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:parseuint16a},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:parsebool},353:{f:parsenoop2},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:parse_SupBook},431:{f:parsebool},432:{},433:{},434:{},437:{},438:{f:parse_TxO},439:{f:parsebool},440:{f:parse_HLink},441:{},442:{f:parse_XLUnicodeString},443:{},444:{f:parseuint16},445:{},446:{},448:{f:parsenoop2},449:{f:parse_RecalcId,r:2},450:{f:parsenoop2},512:{f:parse_Dimensions},513:{f:parse_Blank},515:{f:parse_Number},516:{f:parse_Label},517:{f:parse_BoolErr},519:{f:parse_String},520:{f:parse_Row},523:{},545:{f:parse_Array},549:{f:parse_DefaultRowHeight},566:{},574:{f:parse_Window2},638:{f:parse_RK},659:{},1048:{},1054:{f:parse_Format},1084:{},1212:{f:parse_ShrFmla},2048:{f:parse_HLinkTooltip},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:parse_BOF},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:parsenoop2},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:parse_XFCRC,r:12},2173:{f:parse_XFExt,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:parsebool,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:parse_NameCmt,r:12},2197:{},2198:{f:parse_Theme,r:12},2199:{},2200:{},2201:{},2202:{f:parse_MTRSettings,r:12},2203:{f:parsenoop2},2204:{},2205:{},2206:{},2207:{},2211:{f:parse_ForceFullCalculation},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:parseuint16},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:parse_ShtProps},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:parse_ClrtClient},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:parse_Dimensions},1:{},2:{f:parse_BIFF2INT},3:{f:parse_BIFF2NUM},4:{f:parse_BIFF2STR},5:{f:parse_BoolErr},7:{f:parse_BIFF2STRING},8:{},9:{f:parse_BOF},11:{},22:{f:parseuint16},30:{f:parse_BIFF2Format},31:{},32:{},33:{f:parse_Array},36:{},37:{f:parse_DefaultRowHeight},50:{f:parse_BIFF2FONTXTRA},62:{},52:{},67:{},68:{f:parseuint16},69:{},86:{},126:{},127:{f:parse_ImData},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:parse_RString},223:{},234:{},354:{},421:{},518:{f:parse_Formula},521:{f:parse_BOF},536:{f:parse_Lbl},547:{f:parse_ExternName},561:{},579:{},1030:{f:parse_Formula},1033:{f:parse_BOF},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function write_biff_rec(y,x,r,b){var M=x;if(!isNaN(M)){var z=b||(r||[]).length||0,B=y.next(4);B.write_shift(2,M),B.write_shift(2,z),z>0&&is_buf(r)&&y.push(r)}}function write_biff_continue(y,x,r,b){var M=(r||[]).length||0;if(M<=8224)return write_biff_rec(y,x,r,M);var z=x;if(!isNaN(z)){for(var B=r.parts||[],R=0,I=0,O=0;O+(B[R]||8224)<=8224;)O+=B[R]||8224,R++;var A=y.next(4);for(A.write_shift(2,z),A.write_shift(2,O),y.push(r.slice(I,I+O)),I+=O;I<M;){for(A=y.next(4),A.write_shift(2,60),O=0;O+(B[R]||8224)<=8224;)O+=B[R]||8224,R++;A.write_shift(2,O),y.push(r.slice(I,I+O)),I+=O}}}function write_BIFF2Cell(y,x,r){return y||(y=new_buf(7)),y.write_shift(2,x),y.write_shift(2,r),y.write_shift(2,0),y.write_shift(1,0),y}function write_BIFF2BERR(y,x,r,b){var M=new_buf(9);return write_BIFF2Cell(M,y,x),write_Bes(r,b||"b",M),M}function write_BIFF2LABEL(y,x,r){var b=new_buf(8+2*r.length);return write_BIFF2Cell(b,y,x),b.write_shift(1,r.length),b.write_shift(r.length,r,"sbcs"),b.l<b.length?b.slice(0,b.l):b}function write_ws_biff2_cell(y,x,r,b){if(x.v!=null)switch(x.t){case"d":case"n":var M=x.t=="d"?datenum(parseDate(x.v)):x.v;M==(M|0)&&M>=0&&M<65536?write_biff_rec(y,2,write_BIFF2INT(r,b,M)):write_biff_rec(y,3,write_BIFF2NUM(r,b,M));return;case"b":case"e":write_biff_rec(y,5,write_BIFF2BERR(r,b,x.v,x.t));return;case"s":case"str":write_biff_rec(y,4,write_BIFF2LABEL(r,b,(x.v||"").slice(0,255)));return}write_biff_rec(y,1,write_BIFF2Cell(null,r,b))}function write_ws_biff2(y,x,r,b){var M=Array.isArray(x),z=safe_decode_range(x["!ref"]||"A1"),B,R="",I=[];if(z.e.c>255||z.e.r>16383){if(b.WTF)throw new Error("Range "+(x["!ref"]||"A1")+" exceeds format limit A1:IV16384");z.e.c=Math.min(z.e.c,255),z.e.r=Math.min(z.e.c,16383),B=encode_range(z)}for(var O=z.s.r;O<=z.e.r;++O){R=encode_row(O);for(var A=z.s.c;A<=z.e.c;++A){O===z.s.r&&(I[A]=encode_col(A)),B=I[A]+R;var T=M?(x[O]||[])[A]:x[B];T&&write_ws_biff2_cell(y,T,O,A)}}}function write_biff2_buf(y,x){for(var r=x||{},b=buf_array(),M=0,z=0;z<y.SheetNames.length;++z)y.SheetNames[z]==r.sheet&&(M=z);if(M==0&&r.sheet&&y.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return write_biff_rec(b,r.biff==4?1033:r.biff==3?521:9,write_BOF(y,16,r)),write_ws_biff2(b,y.Sheets[y.SheetNames[M]],M,r),write_biff_rec(b,10),b.end()}function write_FONTS_biff8(y,x,r){write_biff_rec(y,49,write_Font({sz:12,name:"Arial"},r))}function write_FMTS_biff8(y,x,r){x&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(b){for(var M=b[0];M<=b[1];++M)x[M]!=null&&write_biff_rec(y,1054,write_Format(M,x[M],r))})}function write_FEAT(y,x){var r=new_buf(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),write_biff_rec(y,2151,r),r=new_buf(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),write_Ref8U(safe_decode_range(x["!ref"]||"A1"),r),r.write_shift(4,4),write_biff_rec(y,2152,r)}function write_CELLXFS_biff8(y,x){for(var r=0;r<16;++r)write_biff_rec(y,224,write_XF({numFmtId:0,style:!0},0,x));x.cellXfs.forEach(function(b){write_biff_rec(y,224,write_XF(b,0,x))})}function write_ws_biff8_hlinks(y,x){for(var r=0;r<x["!links"].length;++r){var b=x["!links"][r];write_biff_rec(y,440,write_HLink(b)),b[1].Tooltip&&write_biff_rec(y,2048,write_HLinkTooltip(b))}delete x["!links"]}function write_ws_cols_biff8(y,x){if(x){var r=0;x.forEach(function(b,M){++r<=256&&b&&write_biff_rec(y,125,write_ColInfo(col_obj_w(M,b),M))})}}function write_ws_biff8_cell(y,x,r,b,M){var z=16+get_cell_style(M.cellXfs,x,M);if(x.v==null&&!x.bf){write_biff_rec(y,513,write_XLSCell(r,b,z));return}if(x.bf)write_biff_rec(y,6,write_Formula(x,r,b,M,z));else switch(x.t){case"d":case"n":var B=x.t=="d"?datenum(parseDate(x.v)):x.v;write_biff_rec(y,515,write_Number(r,b,B,z));break;case"b":case"e":write_biff_rec(y,517,write_BoolErr(r,b,x.v,z,M,x.t));break;case"s":case"str":if(M.bookSST){var R=get_sst_id(M.Strings,x.v,M.revStrings);write_biff_rec(y,253,write_LabelSst(r,b,R,z))}else write_biff_rec(y,516,write_Label(r,b,(x.v||"").slice(0,255),z,M));break;default:write_biff_rec(y,513,write_XLSCell(r,b,z))}}function write_ws_biff8(y,x,r){var b=buf_array(),M=r.SheetNames[y],z=r.Sheets[M]||{},B=(r||{}).Workbook||{},R=(B.Sheets||[])[y]||{},I=Array.isArray(z),O=x.biff==8,A,T="",U=[],q=safe_decode_range(z["!ref"]||"A1"),K=O?65536:16384;if(q.e.c>255||q.e.r>=K){if(x.WTF)throw new Error("Range "+(z["!ref"]||"A1")+" exceeds format limit A1:IV16384");q.e.c=Math.min(q.e.c,255),q.e.r=Math.min(q.e.c,K-1)}write_biff_rec(b,2057,write_BOF(r,16,x)),write_biff_rec(b,13,writeuint16(1)),write_biff_rec(b,12,writeuint16(100)),write_biff_rec(b,15,writebool(!0)),write_biff_rec(b,17,writebool(!1)),write_biff_rec(b,16,write_Xnum(.001)),write_biff_rec(b,95,writebool(!0)),write_biff_rec(b,42,writebool(!1)),write_biff_rec(b,43,writebool(!1)),write_biff_rec(b,130,writeuint16(1)),write_biff_rec(b,128,write_Guts()),write_biff_rec(b,131,writebool(!1)),write_biff_rec(b,132,writebool(!1)),O&&write_ws_cols_biff8(b,z["!cols"]),write_biff_rec(b,512,write_Dimensions(q,x)),O&&(z["!links"]=[]);for(var J=q.s.r;J<=q.e.r;++J){T=encode_row(J);for(var te=q.s.c;te<=q.e.c;++te){J===q.s.r&&(U[te]=encode_col(te)),A=U[te]+T;var oe=I?(z[J]||[])[te]:z[A];oe&&(write_ws_biff8_cell(b,oe,J,te,x),O&&oe.l&&z["!links"].push([A,oe.l]))}}var ue=R.CodeName||R.name||M;return O&&write_biff_rec(b,574,write_Window2((B.Views||[])[0])),O&&(z["!merges"]||[]).length&&write_biff_rec(b,229,write_MergeCells(z["!merges"])),O&&write_ws_biff8_hlinks(b,z),write_biff_rec(b,442,write_XLUnicodeString(ue)),O&&write_FEAT(b,z),write_biff_rec(b,10),b.end()}function write_biff8_global(y,x,r){var b=buf_array(),M=(y||{}).Workbook||{},z=M.Sheets||[],B=M.WBProps||{},R=r.biff==8,I=r.biff==5;if(write_biff_rec(b,2057,write_BOF(y,5,r)),r.bookType=="xla"&&write_biff_rec(b,135),write_biff_rec(b,225,R?writeuint16(1200):null),write_biff_rec(b,193,writezeroes(2)),I&&write_biff_rec(b,191),I&&write_biff_rec(b,192),write_biff_rec(b,226),write_biff_rec(b,92,write_WriteAccess("SheetJS",r)),write_biff_rec(b,66,writeuint16(R?1200:1252)),R&&write_biff_rec(b,353,writeuint16(0)),R&&write_biff_rec(b,448),write_biff_rec(b,317,write_RRTabId(y.SheetNames.length)),R&&y.vbaraw&&write_biff_rec(b,211),R&&y.vbaraw){var O=B.CodeName||"ThisWorkbook";write_biff_rec(b,442,write_XLUnicodeString(O))}write_biff_rec(b,156,writeuint16(17)),write_biff_rec(b,25,writebool(!1)),write_biff_rec(b,18,writebool(!1)),write_biff_rec(b,19,writeuint16(0)),R&&write_biff_rec(b,431,writebool(!1)),R&&write_biff_rec(b,444,writeuint16(0)),write_biff_rec(b,61,write_Window1()),write_biff_rec(b,64,writebool(!1)),write_biff_rec(b,141,writeuint16(0)),write_biff_rec(b,34,writebool(safe1904(y)=="true")),write_biff_rec(b,14,writebool(!0)),R&&write_biff_rec(b,439,writebool(!1)),write_biff_rec(b,218,writeuint16(0)),write_FONTS_biff8(b,y,r),write_FMTS_biff8(b,y.SSF,r),write_CELLXFS_biff8(b,r),R&&write_biff_rec(b,352,writebool(!1));var A=b.end(),T=buf_array();R&&write_biff_rec(T,140,write_Country()),R&&r.Strings&&write_biff_continue(T,252,write_SST(r.Strings)),write_biff_rec(T,10);var U=T.end(),q=buf_array(),K=0,J=0;for(J=0;J<y.SheetNames.length;++J)K+=(R?12:11)+(R?2:1)*y.SheetNames[J].length;var te=A.length+K+U.length;for(J=0;J<y.SheetNames.length;++J){var oe=z[J]||{};write_biff_rec(q,133,write_BoundSheet8({pos:te,hs:oe.Hidden||0,dt:0,name:y.SheetNames[J]},r)),te+=x[J].length}var ue=q.end();if(K!=ue.length)throw new Error("BS8 "+K+" != "+ue.length);var fe=[];return A.length&&fe.push(A),ue.length&&fe.push(ue),U.length&&fe.push(U),bconcat(fe)}function write_biff8_buf(y,x){var r=x||{},b=[];y&&!y.SSF&&(y.SSF=dup(table_fmt)),y&&y.SSF&&(make_ssf(),SSF_load_table(y.SSF),r.revssf=evert_num(y.SSF),r.revssf[y.SSF[65535]]=0,r.ssf=y.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,fix_write_opts(r),r.cellXfs=[],get_cell_style(r.cellXfs,{},{revssf:{General:0}}),y.Props||(y.Props={});for(var M=0;M<y.SheetNames.length;++M)b[b.length]=write_ws_biff8(M,r,y);return b.unshift(write_biff8_global(y,b,r)),bconcat(b)}function write_biff_buf(y,x){for(var r=0;r<=y.SheetNames.length;++r){var b=y.Sheets[y.SheetNames[r]];if(!(!b||!b["!ref"])){var M=decode_range(b["!ref"]);M.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+y.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var z=x||{};switch(z.biff||2){case 8:case 5:return write_biff8_buf(y,x);case 4:case 3:case 2:return write_biff2_buf(y,x)}throw new Error("invalid type "+z.bookType+" for BIFF")}function html_to_sheet(y,x){var r=x||{},b=r.dense?[]:{};y=y.replace(/<!--.*?-->/g,"");var M=y.match(/<table/i);if(!M)throw new Error("Invalid HTML: could not find <table>");var z=y.match(/<\/table/i),B=M.index,R=z&&z.index||y.length,I=split_regex(y.slice(B,R),/(:?<tr[^>]*>)/i,"<tr>"),O=-1,A=0,T=0,U=0,q={s:{r:1e7,c:1e7},e:{r:0,c:0}},K=[];for(B=0;B<I.length;++B){var J=I[B].trim(),te=J.slice(0,3).toLowerCase();if(te=="<tr"){if(++O,r.sheetRows&&r.sheetRows<=O){--O;break}A=0;continue}if(!(te!="<td"&&te!="<th")){var oe=J.split(/<\/t[dh]>/i);for(R=0;R<oe.length;++R){var ue=oe[R].trim();if(ue.match(/<t[dh]/i)){for(var fe=ue,Le=0;fe.charAt(0)=="<"&&(Le=fe.indexOf(">"))>-1;)fe=fe.slice(Le+1);for(var Ge=0;Ge<K.length;++Ge){var ze=K[Ge];ze.s.c==A&&ze.s.r<O&&O<=ze.e.r&&(A=ze.e.c+1,Ge=-1)}var je=parsexmltag(ue.slice(0,ue.indexOf(">")));U=je.colspan?+je.colspan:1,((T=+je.rowspan)>1||U>1)&&K.push({s:{r:O,c:A},e:{r:O+(T||1)-1,c:A+U-1}});var Be=je.t||je["data-t"]||"";if(!fe.length){A+=U;continue}if(fe=htmldecode(fe),q.s.r>O&&(q.s.r=O),q.e.r<O&&(q.e.r=O),q.s.c>A&&(q.s.c=A),q.e.c<A&&(q.e.c=A),!fe.length){A+=U;continue}var _e={t:"s",v:fe};r.raw||!fe.trim().length||Be=="s"||(fe==="TRUE"?_e={t:"b",v:!0}:fe==="FALSE"?_e={t:"b",v:!1}:isNaN(fuzzynum(fe))?isNaN(fuzzydate(fe).getDate())||(_e={t:"d",v:parseDate(fe)},r.cellDates||(_e={t:"n",v:datenum(_e.v)}),_e.z=r.dateNF||table_fmt[14]):_e={t:"n",v:fuzzynum(fe)}),r.dense?(b[O]||(b[O]=[]),b[O][A]=_e):b[encode_cell({r:O,c:A})]=_e,A+=U}}}}return b["!ref"]=encode_range(q),K.length&&(b["!merges"]=K),b}function make_html_row(y,x,r,b){for(var M=y["!merges"]||[],z=[],B=x.s.c;B<=x.e.c;++B){for(var R=0,I=0,O=0;O<M.length;++O)if(!(M[O].s.r>r||M[O].s.c>B)&&!(M[O].e.r<r||M[O].e.c<B)){if(M[O].s.r<r||M[O].s.c<B){R=-1;break}R=M[O].e.r-M[O].s.r+1,I=M[O].e.c-M[O].s.c+1;break}if(!(R<0)){var A=encode_cell({r,c:B}),T=b.dense?(y[r]||[])[B]:y[A],U=T&&T.v!=null&&(T.h||escapehtml(T.w||(format_cell(T),T.w)||""))||"",q={};R>1&&(q.rowspan=R),I>1&&(q.colspan=I),b.editable?U='<span contenteditable="true">'+U+"</span>":T&&(q["data-t"]=T&&T.t||"z",T.v!=null&&(q["data-v"]=T.v),T.z!=null&&(q["data-z"]=T.z),T.l&&(T.l.Target||"#").charAt(0)!="#"&&(U='<a href="'+T.l.Target+'">'+U+"</a>")),q.id=(b.id||"sjs")+"-"+A,z.push(writextag("td",U,q))}}var K="<tr>";return K+z.join("")+"</tr>"}var HTML_BEGIN='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',HTML_END="</body></html>";function html_to_workbook(y,x){var r=y.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return sheet_to_workbook(html_to_sheet(r[0],x),x);var b=book_new();return r.forEach(function(M,z){book_append_sheet(b,html_to_sheet(M,x),"Sheet"+(z+1))}),b}function make_html_preamble(y,x,r){var b=[];return b.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function sheet_to_html(y,x){var r=x||{},b=r.header!=null?r.header:HTML_BEGIN,M=r.footer!=null?r.footer:HTML_END,z=[b],B=decode_range(y["!ref"]);r.dense=Array.isArray(y),z.push(make_html_preamble(y,B,r));for(var R=B.s.r;R<=B.e.r;++R)z.push(make_html_row(y,B,R,r));return z.push("</table>"+M),z.join("")}function sheet_add_dom(y,x,r){var b=r||{},M=0,z=0;if(b.origin!=null)if(typeof b.origin=="number")M=b.origin;else{var B=typeof b.origin=="string"?decode_cell(b.origin):b.origin;M=B.r,z=B.c}var R=x.getElementsByTagName("tr"),I=Math.min(b.sheetRows||1e7,R.length),O={s:{r:0,c:0},e:{r:M,c:z}};if(y["!ref"]){var A=decode_range(y["!ref"]);O.s.r=Math.min(O.s.r,A.s.r),O.s.c=Math.min(O.s.c,A.s.c),O.e.r=Math.max(O.e.r,A.e.r),O.e.c=Math.max(O.e.c,A.e.c),M==-1&&(O.e.r=M=A.e.r+1)}var T=[],U=0,q=y["!rows"]||(y["!rows"]=[]),K=0,J=0,te=0,oe=0,ue=0,fe=0;for(y["!cols"]||(y["!cols"]=[]);K<R.length&&J<I;++K){var Le=R[K];if(is_dom_element_hidden(Le)){if(b.display)continue;q[J]={hidden:!0}}var Ge=Le.children;for(te=oe=0;te<Ge.length;++te){var ze=Ge[te];if(!(b.display&&is_dom_element_hidden(ze))){var je=ze.hasAttribute("data-v")?ze.getAttribute("data-v"):ze.hasAttribute("v")?ze.getAttribute("v"):htmldecode(ze.innerHTML),Be=ze.getAttribute("data-z")||ze.getAttribute("z");for(U=0;U<T.length;++U){var _e=T[U];_e.s.c==oe+z&&_e.s.r<J+M&&J+M<=_e.e.r&&(oe=_e.e.c+1-z,U=-1)}fe=+ze.getAttribute("colspan")||1,((ue=+ze.getAttribute("rowspan")||1)>1||fe>1)&&T.push({s:{r:J+M,c:oe+z},e:{r:J+M+(ue||1)-1,c:oe+z+(fe||1)-1}});var He={t:"s",v:je},tt=ze.getAttribute("data-t")||ze.getAttribute("t")||"";je!=null&&(je.length==0?He.t=tt||"z":b.raw||je.trim().length==0||tt=="s"||(je==="TRUE"?He={t:"b",v:!0}:je==="FALSE"?He={t:"b",v:!1}:isNaN(fuzzynum(je))?isNaN(fuzzydate(je).getDate())||(He={t:"d",v:parseDate(je)},b.cellDates||(He={t:"n",v:datenum(He.v)}),He.z=b.dateNF||table_fmt[14]):He={t:"n",v:fuzzynum(je)})),He.z===void 0&&Be!=null&&(He.z=Be);var Ke="",Ze=ze.getElementsByTagName("A");if(Ze&&Ze.length)for(var Qe=0;Qe<Ze.length&&!(Ze[Qe].hasAttribute("href")&&(Ke=Ze[Qe].getAttribute("href"),Ke.charAt(0)!="#"));++Qe);Ke&&Ke.charAt(0)!="#"&&(He.l={Target:Ke}),b.dense?(y[J+M]||(y[J+M]=[]),y[J+M][oe+z]=He):y[encode_cell({c:oe+z,r:J+M})]=He,O.e.c<oe+z&&(O.e.c=oe+z),oe+=fe}}++J}return T.length&&(y["!merges"]=(y["!merges"]||[]).concat(T)),O.e.r=Math.max(O.e.r,J-1+M),y["!ref"]=encode_range(O),J>=I&&(y["!fullref"]=encode_range((O.e.r=R.length-K+J-1+M,O))),y}function parse_dom_table(y,x){var r=x||{},b=r.dense?[]:{};return sheet_add_dom(b,y,x)}function table_to_book(y,x){return sheet_to_workbook(parse_dom_table(y,x),x)}function is_dom_element_hidden(y){var x="",r=get_get_computed_style_function(y);return r&&(x=r(y).getPropertyValue("display")),x||(x=y.style&&y.style.display),x==="none"}function get_get_computed_style_function(y){return y.ownerDocument.defaultView&&typeof y.ownerDocument.defaultView.getComputedStyle=="function"?y.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function parse_text_p(y){var x=y.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(b,M){return Array(parseInt(M,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=unescapexml(x.replace(/<[^>]*>/g,""));return[r]}var number_formats_ods={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function parse_content_xml(y,x){var r=x||{},b=xlml_normalize(y),M=[],z,B,R={name:""},I="",O=0,A,T,U={},q=[],K=r.dense?[]:{},J,te,oe={value:""},ue="",fe=0,Le=[],Ge=-1,ze=-1,je={s:{r:1e6,c:1e7},e:{r:0,c:0}},Be=0,_e={},He=[],tt={},Ke=0,Ze=0,Qe=[],vt=1,pt=1,ut=[],Mt={Names:[]},bt={},ar=["",""],dt=[],yt={},Gt="",Bt=0,Dt=!1,Ct=!1,It=0;for(xlmlregex.lastIndex=0,b=b.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");J=xlmlregex.exec(b);)switch(J[3]=J[3].replace(/_.*$/,"")){case"table":case"":J[1]==="/"?(je.e.c>=je.s.c&&je.e.r>=je.s.r?K["!ref"]=encode_range(je):K["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=je.e.r&&(K["!fullref"]=K["!ref"],je.e.r=r.sheetRows-1,K["!ref"]=encode_range(je)),He.length&&(K["!merges"]=He),Qe.length&&(K["!rows"]=Qe),A.name=A.||A.name,typeof JSON<"u"&&JSON.stringify(A),q.push(A.name),U[A.name]=K,Ct=!1):J[0].charAt(J[0].length-2)!=="/"&&(A=parsexmltag(J[0],!1),Ge=ze=-1,je.s.r=je.s.c=1e7,je.e.r=je.e.c=0,K=r.dense?[]:{},He=[],Qe=[],Ct=!0);break;case"table-row-group":J[1]==="/"?--Be:++Be;break;case"table-row":case"":if(J[1]==="/"){Ge+=vt,vt=1;break}if(T=parsexmltag(J[0],!1),T.?Ge=T.-1:Ge==-1&&(Ge=0),vt=+T["number-rows-repeated"]||1,vt<10)for(It=0;It<vt;++It)Be>0&&(Qe[Ge+It]={level:Be});ze=-1;break;case"covered-table-cell":J[1]!=="/"&&++ze,r.sheetStubs&&(r.dense?(K[Ge]||(K[Ge]=[]),K[Ge][ze]={t:"z"}):K[encode_cell({r:Ge,c:ze})]={t:"z"}),ue="",Le=[];break;case"table-cell":case"":if(J[0].charAt(J[0].length-2)==="/")++ze,oe=parsexmltag(J[0],!1),pt=parseInt(oe["number-columns-repeated"]||"1",10),te={t:"z",v:null},oe.formula&&r.cellFormula!=!1&&(te.f=ods_to_csf_formula(unescapexml(oe.formula))),(oe.||oe["value-type"])=="string"&&(te.t="s",te.v=unescapexml(oe["string-value"]||""),r.dense?(K[Ge]||(K[Ge]=[]),K[Ge][ze]=te):K[encode_cell({r:Ge,c:ze})]=te),ze+=pt-1;else if(J[1]!=="/"){++ze,ue="",fe=0,Le=[],pt=1;var lr=vt?Ge+vt-1:Ge;if(ze>je.e.c&&(je.e.c=ze),ze<je.s.c&&(je.s.c=ze),Ge<je.s.r&&(je.s.r=Ge),lr>je.e.r&&(je.e.r=lr),oe=parsexmltag(J[0],!1),dt=[],yt={},te={t:oe.||oe["value-type"],v:null},r.cellFormula)if(oe.formula&&(oe.formula=unescapexml(oe.formula)),oe["number-matrix-columns-spanned"]&&oe["number-matrix-rows-spanned"]&&(Ke=parseInt(oe["number-matrix-rows-spanned"],10)||0,Ze=parseInt(oe["number-matrix-columns-spanned"],10)||0,tt={s:{r:Ge,c:ze},e:{r:Ge+Ke-1,c:ze+Ze-1}},te.F=encode_range(tt),ut.push([tt,te.F])),oe.formula)te.f=ods_to_csf_formula(oe.formula);else for(It=0;It<ut.length;++It)Ge>=ut[It][0].s.r&&Ge<=ut[It][0].e.r&&ze>=ut[It][0].s.c&&ze<=ut[It][0].e.c&&(te.F=ut[It][1]);switch((oe["number-columns-spanned"]||oe["number-rows-spanned"])&&(Ke=parseInt(oe["number-rows-spanned"],10)||0,Ze=parseInt(oe["number-columns-spanned"],10)||0,tt={s:{r:Ge,c:ze},e:{r:Ge+Ke-1,c:ze+Ze-1}},He.push(tt)),oe["number-columns-repeated"]&&(pt=parseInt(oe["number-columns-repeated"],10)),te.t){case"boolean":te.t="b",te.v=parsexmlbool(oe["boolean-value"]);break;case"float":te.t="n",te.v=parseFloat(oe.value);break;case"percentage":te.t="n",te.v=parseFloat(oe.value);break;case"currency":te.t="n",te.v=parseFloat(oe.value);break;case"date":te.t="d",te.v=parseDate(oe["date-value"]),r.cellDates||(te.t="n",te.v=datenum(te.v)),te.z="m/d/yy";break;case"time":te.t="n",te.v=parse_isodur(oe["time-value"])/86400,r.cellDates&&(te.t="d",te.v=numdate(te.v)),te.z="HH:MM:SS";break;case"number":te.t="n",te.v=parseFloat(oe.);break;default:if(te.t==="string"||te.t==="text"||!te.t)te.t="s",oe["string-value"]!=null&&(ue=unescapexml(oe["string-value"]),Le=[]);else throw new Error("Unsupported value type "+te.t)}}else{if(Dt=!1,te.t==="s"&&(te.v=ue||"",Le.length&&(te.R=Le),Dt=fe==0),bt.Target&&(te.l=bt),dt.length>0&&(te.c=dt,dt=[]),ue&&r.cellText!==!1&&(te.w=ue),Dt&&(te.t="z",delete te.v),(!Dt||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=Ge))for(var Je=0;Je<vt;++Je){if(pt=parseInt(oe["number-columns-repeated"]||"1",10),r.dense)for(K[Ge+Je]||(K[Ge+Je]=[]),K[Ge+Je][ze]=Je==0?te:dup(te);--pt>0;)K[Ge+Je][ze+pt]=dup(te);else for(K[encode_cell({r:Ge+Je,c:ze})]=te;--pt>0;)K[encode_cell({r:Ge+Je,c:ze+pt})]=dup(te);je.e.c<=ze&&(je.e.c=ze)}pt=parseInt(oe["number-columns-repeated"]||"1",10),ze+=pt-1,pt=0,te={},ue="",Le=[]}bt={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(J[1]==="/"){if((z=M.pop())[0]!==J[3])throw"Bad state: "+z}else J[0].charAt(J[0].length-2)!=="/"&&M.push([J[3],!0]);break;case"annotation":if(J[1]==="/"){if((z=M.pop())[0]!==J[3])throw"Bad state: "+z;yt.t=ue,Le.length&&(yt.R=Le),yt.a=Gt,dt.push(yt)}else J[0].charAt(J[0].length-2)!=="/"&&M.push([J[3],!1]);Gt="",Bt=0,ue="",fe=0,Le=[];break;case"creator":J[1]==="/"?Gt=b.slice(Bt,J.index):Bt=J.index+J[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(J[1]==="/"){if((z=M.pop())[0]!==J[3])throw"Bad state: "+z}else J[0].charAt(J[0].length-2)!=="/"&&M.push([J[3],!1]);ue="",fe=0,Le=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(J[1]==="/"){if(_e[R.name]=I,(z=M.pop())[0]!==J[3])throw"Bad state: "+z}else J[0].charAt(J[0].length-2)!=="/"&&(I="",R=parsexmltag(J[0],!1),M.push([J[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(M[M.length-1][0]){case"time-style":case"date-style":B=parsexmltag(J[0],!1),I+=number_formats_ods[J[3]][B.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(M[M.length-1][0]){case"time-style":case"date-style":B=parsexmltag(J[0],!1),I+=number_formats_ods[J[3]][B.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(J[0].slice(-2)==="/>")break;if(J[1]==="/")switch(M[M.length-1][0]){case"number-style":case"date-style":case"time-style":I+=b.slice(O,J.index);break}else O=J.index+J[0].length;break;case"named-range":B=parsexmltag(J[0],!1),ar=ods_to_csf_3D(B["cell-range-address"]);var Ve={Name:B.name,Ref:ar[0]+"!"+ar[1]};Ct&&(Ve.Sheet=q.length),Mt.Names.push(Ve);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(M[M.length-1][0])>-1)break;if(J[1]==="/"&&(!oe||!oe["string-value"])){var st=parse_text_p(b.slice(fe,J.index));ue=(ue.length>0?ue+`
`:"")+st[0]}else parsexmltag(J[0],!1),fe=J.index+J[0].length;break;case"s":break;case"database-range":if(J[1]==="/")break;try{ar=ods_to_csf_3D(parsexmltag(J[0])["target-range-address"]),U[ar[0]]["!autofilter"]={ref:ar[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(J[1]!=="/"){if(bt=parsexmltag(J[0],!1),!bt.href)break;bt.Target=unescapexml(bt.href),delete bt.href,bt.Target.charAt(0)=="#"&&bt.Target.indexOf(".")>-1?(ar=ods_to_csf_3D(bt.Target.slice(1)),bt.Target="#"+ar[0]+"!"+ar[1]):bt.Target.match(/^\.\.[\\\/]/)&&(bt.Target=bt.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(J[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(r.WTF)throw new Error(J)}}var it={Sheets:U,SheetNames:q,Workbook:Mt};return r.bookSheets&&delete it.Sheets,it}function parse_ods(y,x){x=x||{},safegetzipfile(y,"META-INF/manifest.xml")&&parse_manifest(getzipdata(y,"META-INF/manifest.xml"),x);var r=getzipstr(y,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var b=parse_content_xml(utf8read(r),x);return safegetzipfile(y,"meta.xml")&&(b.Props=parse_core_props(getzipdata(y,"meta.xml"))),b}function parse_fods(y,x){return parse_content_xml(y,x)}var write_styles_ods=(function(){var y=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),x="<office:document-styles "+wxt_helper({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+y+"</office:document-styles>";return function(){return XML_HEADER+x}})(),write_content_ods=(function(){var y=function(z){return escapexml(z).replace(/  +/g,function(B){return'<text:s text:c="'+B.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},x=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,b=function(z,B,R){var I=[];I.push('      <table:table table:name="'+escapexml(B.SheetNames[R])+`" table:style-name="ta1">
`);var O=0,A=0,T=decode_range(z["!ref"]||"A1"),U=z["!merges"]||[],q=0,K=Array.isArray(z);if(z["!cols"])for(A=0;A<=T.e.c;++A)I.push("        <table:table-column"+(z["!cols"][A]?' table:style-name="co'+z["!cols"][A].ods+'"':"")+`></table:table-column>
`);var J="",te=z["!rows"]||[];for(O=0;O<T.s.r;++O)J=te[O]?' table:style-name="ro'+te[O].ods+'"':"",I.push("        <table:table-row"+J+`></table:table-row>
`);for(;O<=T.e.r;++O){for(J=te[O]?' table:style-name="ro'+te[O].ods+'"':"",I.push("        <table:table-row"+J+`>
`),A=0;A<T.s.c;++A)I.push(x);for(;A<=T.e.c;++A){var oe=!1,ue={},fe="";for(q=0;q!=U.length;++q)if(!(U[q].s.c>A)&&!(U[q].s.r>O)&&!(U[q].e.c<A)&&!(U[q].e.r<O)){(U[q].s.c!=A||U[q].s.r!=O)&&(oe=!0),ue["table:number-columns-spanned"]=U[q].e.c-U[q].s.c+1,ue["table:number-rows-spanned"]=U[q].e.r-U[q].s.r+1;break}if(oe){I.push(r);continue}var Le=encode_cell({r:O,c:A}),Ge=K?(z[O]||[])[A]:z[Le];if(Ge&&Ge.f&&(ue["table:formula"]=escapexml(csf_to_ods_formula(Ge.f)),Ge.F&&Ge.F.slice(0,Le.length)==Le)){var ze=decode_range(Ge.F);ue["table:number-matrix-columns-spanned"]=ze.e.c-ze.s.c+1,ue["table:number-matrix-rows-spanned"]=ze.e.r-ze.s.r+1}if(!Ge){I.push(x);continue}switch(Ge.t){case"b":fe=Ge.v?"TRUE":"FALSE",ue["office:value-type"]="boolean",ue["office:boolean-value"]=Ge.v?"true":"false";break;case"n":fe=Ge.w||String(Ge.v||0),ue["office:value-type"]="float",ue["office:value"]=Ge.v||0;break;case"s":case"str":fe=Ge.v==null?"":Ge.v,ue["office:value-type"]="string";break;case"d":fe=Ge.w||parseDate(Ge.v).toISOString(),ue["office:value-type"]="date",ue["office:date-value"]=parseDate(Ge.v).toISOString(),ue["table:style-name"]="ce1";break;default:I.push(x);continue}var je=y(fe);if(Ge.l&&Ge.l.Target){var Be=Ge.l.Target;Be=Be.charAt(0)=="#"?"#"+csf_to_ods_3D(Be.slice(1)):Be,Be.charAt(0)!="#"&&!Be.match(/^\w+:/)&&(Be="../"+Be),je=writextag("text:a",je,{"xlink:href":Be.replace(/&/g,"&amp;")})}I.push("          "+writextag("table:table-cell",writextag("text:p",je,{}),ue)+`
`)}I.push(`        </table:table-row>
`)}return I.push(`      </table:table>
`),I.join("")},M=function(z,B){z.push(` <office:automatic-styles>
`),z.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),z.push(`   <number:month number:style="long"/>
`),z.push(`   <number:text>/</number:text>
`),z.push(`   <number:day number:style="long"/>
`),z.push(`   <number:text>/</number:text>
`),z.push(`   <number:year/>
`),z.push(`  </number:date-style>
`);var R=0;B.SheetNames.map(function(O){return B.Sheets[O]}).forEach(function(O){if(O&&O["!cols"]){for(var A=0;A<O["!cols"].length;++A)if(O["!cols"][A]){var T=O["!cols"][A];if(T.width==null&&T.wpx==null&&T.wch==null)continue;process_col(T),T.ods=R;var U=O["!cols"][A].wpx+"px";z.push('  <style:style style:name="co'+R+`" style:family="table-column">
`),z.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+U+`"/>
`),z.push(`  </style:style>
`),++R}}});var I=0;B.SheetNames.map(function(O){return B.Sheets[O]}).forEach(function(O){if(O&&O["!rows"]){for(var A=0;A<O["!rows"].length;++A)if(O["!rows"][A]){O["!rows"][A].ods=I;var T=O["!rows"][A].hpx+"px";z.push('  <style:style style:name="ro'+I+`" style:family="table-row">
`),z.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+T+`"/>
`),z.push(`  </style:style>
`),++I}}}),z.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),z.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),z.push(`  </style:style>
`),z.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),z.push(` </office:automatic-styles>
`)};return function(B,R){var I=[XML_HEADER],O=wxt_helper({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),A=wxt_helper({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});R.bookType=="fods"?(I.push("<office:document"+O+A+`>
`),I.push(write_meta_ods().replace(/office:document-meta/g,"office:meta"))):I.push("<office:document-content"+O+`>
`),M(I,B),I.push(`  <office:body>
`),I.push(`    <office:spreadsheet>
`);for(var T=0;T!=B.SheetNames.length;++T)I.push(b(B.Sheets[B.SheetNames[T]],B,T));return I.push(`    </office:spreadsheet>
`),I.push(`  </office:body>
`),R.bookType=="fods"?I.push("</office:document>"):I.push("</office:document-content>"),I.join("")}})();function write_ods(y,x){if(x.bookType=="fods")return write_content_ods(y,x);var r=zip_new(),b="",M=[],z=[];return b="mimetype",zip_add_file(r,b,"application/vnd.oasis.opendocument.spreadsheet"),b="content.xml",zip_add_file(r,b,write_content_ods(y,x)),M.push([b,"text/xml"]),z.push([b,"ContentFile"]),b="styles.xml",zip_add_file(r,b,write_styles_ods(y,x)),M.push([b,"text/xml"]),z.push([b,"StylesFile"]),b="meta.xml",zip_add_file(r,b,XML_HEADER+write_meta_ods()),M.push([b,"text/xml"]),z.push([b,"MetadataFile"]),b="manifest.rdf",zip_add_file(r,b,write_rdf(z)),M.push([b,"application/rdf+xml"]),b="META-INF/manifest.xml",zip_add_file(r,b,write_manifest(M)),r}function u8_to_dataview(y){return new DataView(y.buffer,y.byteOffset,y.byteLength)}function u8str(y){return typeof TextDecoder<"u"?new TextDecoder().decode(y):utf8read(a2s(y))}function stru8(y){return typeof TextEncoder<"u"?new TextEncoder().encode(y):s2a(utf8write(y))}function u8contains(y,x){e:for(var r=0;r<=y.length-x.length;++r){for(var b=0;b<x.length;++b)if(y[r+b]!=x[b])continue e;return!0}return!1}function u8concat(y){var x=y.reduce(function(M,z){return M+z.length},0),r=new Uint8Array(x),b=0;return y.forEach(function(M){r.set(M,b),b+=M.length}),r}function popcnt(y){return y-=y>>1&1431655765,y=(y&858993459)+(y>>2&858993459),(y+(y>>4)&252645135)*16843009>>>24}function readDecimal128LE(y,x){for(var r=(y[x+15]&127)<<7|y[x+14]>>1,b=y[x+14]&1,M=x+13;M>=x;--M)b=b*256+y[M];return(y[x+15]&128?-b:b)*Math.pow(10,r-6176)}function writeDecimal128LE(y,x,r){var b=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,M=r/Math.pow(10,b-6176);y[x+15]|=b>>7,y[x+14]|=(b&127)<<1;for(var z=0;M>=1;++z,M/=256)y[x+z]=M&255;y[x+15]|=r>=0?0:128}function parse_varint49(y,x){var r=x?x[0]:0,b=y[r]&127;e:if(y[r++]>=128&&(b|=(y[r]&127)<<7,y[r++]<128||(b|=(y[r]&127)<<14,y[r++]<128)||(b|=(y[r]&127)<<21,y[r++]<128)||(b+=(y[r]&127)*Math.pow(2,28),++r,y[r++]<128)||(b+=(y[r]&127)*Math.pow(2,35),++r,y[r++]<128)||(b+=(y[r]&127)*Math.pow(2,42),++r,y[r++]<128)))break e;return x&&(x[0]=r),b}function write_varint49(y){var x=new Uint8Array(7);x[0]=y&127;var r=1;e:if(y>127){if(x[r-1]|=128,x[r]=y>>7&127,++r,y<=16383||(x[r-1]|=128,x[r]=y>>14&127,++r,y<=2097151)||(x[r-1]|=128,x[r]=y>>21&127,++r,y<=268435455)||(x[r-1]|=128,x[r]=y/256>>>21&127,++r,y<=34359738367)||(x[r-1]|=128,x[r]=y/65536>>>21&127,++r,y<=4398046511103))break e;x[r-1]|=128,x[r]=y/16777216>>>21&127,++r}return x.slice(0,r)}function varint_to_i32(y){var x=0,r=y[x]&127;e:if(y[x++]>=128){if(r|=(y[x]&127)<<7,y[x++]<128||(r|=(y[x]&127)<<14,y[x++]<128)||(r|=(y[x]&127)<<21,y[x++]<128))break e;r|=(y[x]&127)<<28}return r}function parse_shallow(y){for(var x=[],r=[0];r[0]<y.length;){var b=r[0],M=parse_varint49(y,r),z=M&7;M=Math.floor(M/8);var B=0,R;if(M==0)break;switch(z){case 0:{for(var I=r[0];y[r[0]++]>=128;);R=y.slice(I,r[0])}break;case 5:B=4,R=y.slice(r[0],r[0]+B),r[0]+=B;break;case 1:B=8,R=y.slice(r[0],r[0]+B),r[0]+=B;break;case 2:B=parse_varint49(y,r),R=y.slice(r[0],r[0]+B),r[0]+=B;break;case 3:case 4:default:throw new Error("PB Type ".concat(z," for Field ").concat(M," at offset ").concat(b))}var O={data:R,type:z};x[M]==null?x[M]=[O]:x[M].push(O)}return x}function write_shallow(y){var x=[];return y.forEach(function(r,b){r.forEach(function(M){M.data&&(x.push(write_varint49(b*8+M.type)),M.type==2&&x.push(write_varint49(M.data.length)),x.push(M.data))})}),u8concat(x)}function mappa(y,x){return y?.map(function(r){return x(r.data)})||[]}function parse_iwa_file(y){for(var x,r=[],b=[0];b[0]<y.length;){var M=parse_varint49(y,b),z=parse_shallow(y.slice(b[0],b[0]+M));b[0]+=M;var B={id:varint_to_i32(z[1][0].data),messages:[]};z[2].forEach(function(R){var I=parse_shallow(R.data),O=varint_to_i32(I[3][0].data);B.messages.push({meta:I,data:y.slice(b[0],b[0]+O)}),b[0]+=O}),(x=z[3])!=null&&x[0]&&(B.merge=varint_to_i32(z[3][0].data)>>>0>0),r.push(B)}return r}function write_iwa_file(y){var x=[];return y.forEach(function(r){var b=[];b[1]=[{data:write_varint49(r.id),type:0}],b[2]=[],r.merge!=null&&(b[3]=[{data:write_varint49(+!!r.merge),type:0}]);var M=[];r.messages.forEach(function(B){M.push(B.data),B.meta[3]=[{type:0,data:write_varint49(B.data.length)}],b[2].push({data:write_shallow(B.meta),type:2})});var z=write_shallow(b);x.push(write_varint49(z.length)),x.push(z),M.forEach(function(B){return x.push(B)})}),u8concat(x)}function parse_snappy_chunk(y,x){if(y!=0)throw new Error("Unexpected Snappy chunk type ".concat(y));for(var r=[0],b=parse_varint49(x,r),M=[];r[0]<x.length;){var z=x[r[0]]&3;if(z==0){var B=x[r[0]++]>>2;if(B<60)++B;else{var R=B-59;B=x[r[0]],R>1&&(B|=x[r[0]+1]<<8),R>2&&(B|=x[r[0]+2]<<16),R>3&&(B|=x[r[0]+3]<<24),B>>>=0,B++,r[0]+=R}M.push(x.slice(r[0],r[0]+B)),r[0]+=B;continue}else{var I=0,O=0;if(z==1?(O=(x[r[0]]>>2&7)+4,I=(x[r[0]++]&224)<<3,I|=x[r[0]++]):(O=(x[r[0]++]>>2)+1,z==2?(I=x[r[0]]|x[r[0]+1]<<8,r[0]+=2):(I=(x[r[0]]|x[r[0]+1]<<8|x[r[0]+2]<<16|x[r[0]+3]<<24)>>>0,r[0]+=4)),M=[u8concat(M)],I==0)throw new Error("Invalid offset 0");if(I>M[0].length)throw new Error("Invalid offset beyond length");if(O>=I)for(M.push(M[0].slice(-I)),O-=I;O>=M[M.length-1].length;)M.push(M[M.length-1]),O-=M[M.length-1].length;M.push(M[0].slice(-I,-I+O))}}var A=u8concat(M);if(A.length!=b)throw new Error("Unexpected length: ".concat(A.length," != ").concat(b));return A}function decompress_iwa_file(y){for(var x=[],r=0;r<y.length;){var b=y[r++],M=y[r]|y[r+1]<<8|y[r+2]<<16;r+=3,x.push(parse_snappy_chunk(b,y.slice(r,r+M))),r+=M}if(r!==y.length)throw new Error("data is not a valid framed stream!");return u8concat(x)}function compress_iwa_file(y){for(var x=[],r=0;r<y.length;){var b=Math.min(y.length-r,268435455),M=new Uint8Array(4);x.push(M);var z=write_varint49(b),B=z.length;x.push(z),b<=60?(B++,x.push(new Uint8Array([b-1<<2]))):b<=256?(B+=2,x.push(new Uint8Array([240,b-1&255]))):b<=65536?(B+=3,x.push(new Uint8Array([244,b-1&255,b-1>>8&255]))):b<=16777216?(B+=4,x.push(new Uint8Array([248,b-1&255,b-1>>8&255,b-1>>16&255]))):b<=4294967296&&(B+=5,x.push(new Uint8Array([252,b-1&255,b-1>>8&255,b-1>>16&255,b-1>>>24&255]))),x.push(y.slice(r,r+b)),B+=b,M[0]=0,M[1]=B&255,M[2]=B>>8&255,M[3]=B>>16&255,r+=b}return u8concat(x)}function parse_old_storage(y,x,r,b){var M=u8_to_dataview(y),z=M.getUint32(4,!0),B=(b>1?12:8)+popcnt(z&(b>1?3470:398))*4,R=-1,I=-1,O=NaN,A=new Date(2001,0,1);z&512&&(R=M.getUint32(B,!0),B+=4),B+=popcnt(z&(b>1?12288:4096))*4,z&16&&(I=M.getUint32(B,!0),B+=4),z&32&&(O=M.getFloat64(B,!0),B+=8),z&64&&(A.setTime(A.getTime()+M.getFloat64(B,!0)*1e3),B+=8);var T;switch(y[2]){case 0:break;case 2:T={t:"n",v:O};break;case 3:T={t:"s",v:x[I]};break;case 5:T={t:"d",v:A};break;case 6:T={t:"b",v:O>0};break;case 7:T={t:"n",v:O/86400};break;case 8:T={t:"e",v:0};break;case 9:if(R>-1)T={t:"s",v:r[R]};else if(I>-1)T={t:"s",v:x[I]};else if(!isNaN(O))T={t:"n",v:O};else throw new Error("Unsupported cell type ".concat(y.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(y.slice(0,4)))}return T}function parse_new_storage(y,x,r){var b=u8_to_dataview(y),M=b.getUint32(8,!0),z=12,B=-1,R=-1,I=NaN,O=NaN,A=new Date(2001,0,1);M&1&&(I=readDecimal128LE(y,z),z+=16),M&2&&(O=b.getFloat64(z,!0),z+=8),M&4&&(A.setTime(A.getTime()+b.getFloat64(z,!0)*1e3),z+=8),M&8&&(R=b.getUint32(z,!0),z+=4),M&16&&(B=b.getUint32(z,!0),z+=4);var T;switch(y[1]){case 0:break;case 2:T={t:"n",v:I};break;case 3:T={t:"s",v:x[R]};break;case 5:T={t:"d",v:A};break;case 6:T={t:"b",v:O>0};break;case 7:T={t:"n",v:O/86400};break;case 8:T={t:"e",v:0};break;case 9:if(B>-1)T={t:"s",v:r[B]};else throw new Error("Unsupported cell type ".concat(y[1]," : ").concat(M&31," : ").concat(y.slice(0,4)));break;case 10:T={t:"n",v:I};break;default:throw new Error("Unsupported cell type ".concat(y[1]," : ").concat(M&31," : ").concat(y.slice(0,4)))}return T}function write_new_storage(y,x){var r=new Uint8Array(32),b=u8_to_dataview(r),M=12,z=0;switch(r[0]=5,y.t){case"n":r[1]=2,writeDecimal128LE(r,M,y.v),z|=1,M+=16;break;case"b":r[1]=6,b.setFloat64(M,y.v?1:0,!0),z|=2,M+=8;break;case"s":if(x.indexOf(y.v)==-1)throw new Error("Value ".concat(y.v," missing from SST!"));r[1]=3,b.setUint32(M,x.indexOf(y.v),!0),z|=8,M+=4;break;default:throw"unsupported cell type "+y.t}return b.setUint32(8,z,!0),r.slice(0,M)}function write_old_storage(y,x){var r=new Uint8Array(32),b=u8_to_dataview(r),M=12,z=0;switch(r[0]=3,y.t){case"n":r[2]=2,b.setFloat64(M,y.v,!0),z|=32,M+=8;break;case"b":r[2]=6,b.setFloat64(M,y.v?1:0,!0),z|=32,M+=8;break;case"s":if(x.indexOf(y.v)==-1)throw new Error("Value ".concat(y.v," missing from SST!"));r[2]=3,b.setUint32(M,x.indexOf(y.v),!0),z|=16,M+=4;break;default:throw"unsupported cell type "+y.t}return b.setUint32(4,z,!0),r.slice(0,M)}function parse_cell_storage(y,x,r){switch(y[0]){case 0:case 1:case 2:case 3:return parse_old_storage(y,x,r,y[0]);case 5:return parse_new_storage(y,x,r);default:throw new Error("Unsupported payload version ".concat(y[0]))}}function parse_TSP_Reference(y){var x=parse_shallow(y);return parse_varint49(x[1][0].data)}function parse_TST_TableDataList(y,x){var r=parse_shallow(x.data),b=varint_to_i32(r[1][0].data),M=r[3],z=[];return(M||[]).forEach(function(B){var R=parse_shallow(B.data),I=varint_to_i32(R[1][0].data)>>>0;switch(b){case 1:z[I]=u8str(R[3][0].data);break;case 8:{var O=y[parse_TSP_Reference(R[9][0].data)][0],A=parse_shallow(O.data),T=y[parse_TSP_Reference(A[1][0].data)][0],U=varint_to_i32(T.meta[1][0].data);if(U!=2001)throw new Error("2000 unexpected reference to ".concat(U));var q=parse_shallow(T.data);z[I]=q[3].map(function(K){return u8str(K.data)}).join("")}break}}),z}function parse_TST_TileRowInfo(y,x){var r,b,M,z,B,R,I,O,A,T,U,q,K,J,te=parse_shallow(y),oe=varint_to_i32(te[1][0].data)>>>0,ue=varint_to_i32(te[2][0].data)>>>0,fe=((b=(r=te[8])==null?void 0:r[0])==null?void 0:b.data)&&varint_to_i32(te[8][0].data)>0||!1,Le,Ge;if((z=(M=te[7])==null?void 0:M[0])!=null&&z.data&&x!=0)Le=(R=(B=te[7])==null?void 0:B[0])==null?void 0:R.data,Ge=(O=(I=te[6])==null?void 0:I[0])==null?void 0:O.data;else if((T=(A=te[4])==null?void 0:A[0])!=null&&T.data&&x!=1)Le=(q=(U=te[4])==null?void 0:U[0])==null?void 0:q.data,Ge=(J=(K=te[3])==null?void 0:K[0])==null?void 0:J.data;else throw"NUMBERS Tile missing ".concat(x," cell storage");for(var ze=fe?4:1,je=u8_to_dataview(Le),Be=[],_e=0;_e<Le.length/2;++_e){var He=je.getUint16(_e*2,!0);He<65535&&Be.push([_e,He])}if(Be.length!=ue)throw"Expected ".concat(ue," cells, found ").concat(Be.length);var tt=[];for(_e=0;_e<Be.length-1;++_e)tt[Be[_e][0]]=Ge.subarray(Be[_e][1]*ze,Be[_e+1][1]*ze);return Be.length>=1&&(tt[Be[Be.length-1][0]]=Ge.subarray(Be[Be.length-1][1]*ze)),{R:oe,cells:tt}}function parse_TST_Tile(y,x){var r,b=parse_shallow(x.data),M=(r=b?.[7])!=null&&r[0]?varint_to_i32(b[7][0].data)>>>0>0?1:0:-1,z=mappa(b[5],function(B){return parse_TST_TileRowInfo(B,M)});return{nrows:varint_to_i32(b[4][0].data)>>>0,data:z.reduce(function(B,R){return B[R.R]||(B[R.R]=[]),R.cells.forEach(function(I,O){if(B[R.R][O])throw new Error("Duplicate cell r=".concat(R.R," c=").concat(O));B[R.R][O]=I}),B},[])}}function parse_TST_TableModelArchive(y,x,r){var b,M=parse_shallow(x.data),z={s:{r:0,c:0},e:{r:0,c:0}};if(z.e.r=(varint_to_i32(M[6][0].data)>>>0)-1,z.e.r<0)throw new Error("Invalid row varint ".concat(M[6][0].data));if(z.e.c=(varint_to_i32(M[7][0].data)>>>0)-1,z.e.c<0)throw new Error("Invalid col varint ".concat(M[7][0].data));r["!ref"]=encode_range(z);var B=parse_shallow(M[4][0].data),R=parse_TST_TableDataList(y,y[parse_TSP_Reference(B[4][0].data)][0]),I=(b=B[17])!=null&&b[0]?parse_TST_TableDataList(y,y[parse_TSP_Reference(B[17][0].data)][0]):[],O=parse_shallow(B[3][0].data),A=0;O[1].forEach(function(T){var U=parse_shallow(T.data),q=y[parse_TSP_Reference(U[2][0].data)][0],K=varint_to_i32(q.meta[1][0].data);if(K!=6002)throw new Error("6001 unexpected reference to ".concat(K));var J=parse_TST_Tile(y,q);J.data.forEach(function(te,oe){te.forEach(function(ue,fe){var Le=encode_cell({r:A+oe,c:fe}),Ge=parse_cell_storage(ue,R,I);Ge&&(r[Le]=Ge)})}),A+=J.nrows})}function parse_TST_TableInfoArchive(y,x){var r=parse_shallow(x.data),b={"!ref":"A1"},M=y[parse_TSP_Reference(r[2][0].data)],z=varint_to_i32(M[0].meta[1][0].data);if(z!=6001)throw new Error("6000 unexpected reference to ".concat(z));return parse_TST_TableModelArchive(y,M[0],b),b}function parse_TN_SheetArchive(y,x){var r,b=parse_shallow(x.data),M={name:(r=b[1])!=null&&r[0]?u8str(b[1][0].data):"",sheets:[]},z=mappa(b[2],parse_TSP_Reference);return z.forEach(function(B){y[B].forEach(function(R){var I=varint_to_i32(R.meta[1][0].data);I==6e3&&M.sheets.push(parse_TST_TableInfoArchive(y,R))})}),M}function parse_TN_DocumentArchive(y,x){var r=book_new(),b=parse_shallow(x.data),M=mappa(b[1],parse_TSP_Reference);if(M.forEach(function(z){y[z].forEach(function(B){var R=varint_to_i32(B.meta[1][0].data);if(R==2){var I=parse_TN_SheetArchive(y,B);I.sheets.forEach(function(O,A){book_append_sheet(r,O,A==0?I.name:I.name+"_"+A,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function parse_numbers_iwa(y){var x,r,b,M,z={},B=[];if(y.FullPaths.forEach(function(I){if(I.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),y.FileIndex.forEach(function(I){if(I.name.match(/\.iwa$/)){var O;try{O=decompress_iwa_file(I.content)}catch(T){return console.log("?? "+I.content.length+" "+(T.message||T))}var A;try{A=parse_iwa_file(O)}catch(T){return console.log("## "+(T.message||T))}A.forEach(function(T){z[T.id]=T.messages,B.push(T.id)})}}),!B.length)throw new Error("File has no messages");var R=((M=(b=(r=(x=z?.[1])==null?void 0:x[0])==null?void 0:r.meta)==null?void 0:b[1])==null?void 0:M[0].data)&&varint_to_i32(z[1][0].meta[1][0].data)==1&&z[1][0];if(R||B.forEach(function(I){z[I].forEach(function(O){var A=varint_to_i32(O.meta[1][0].data)>>>0;if(A==1)if(!R)R=O;else throw new Error("Document has multiple roots")})}),!R)throw new Error("Cannot find Document root");return parse_TN_DocumentArchive(z,R)}function write_tile_row(y,x,r){var b,M,z,B;if(!((b=y[6])!=null&&b[0])||!((M=y[7])!=null&&M[0]))throw"Mutation only works on post-BNC storages!";var R=((B=(z=y[8])==null?void 0:z[0])==null?void 0:B.data)&&varint_to_i32(y[8][0].data)>0||!1;if(R)throw"Math only works with normal offsets";for(var I=0,O=u8_to_dataview(y[7][0].data),A=0,T=[],U=u8_to_dataview(y[4][0].data),q=0,K=[],J=0;J<x.length;++J){if(x[J]==null){O.setUint16(J*2,65535,!0),U.setUint16(J*2,65535);continue}O.setUint16(J*2,A,!0),U.setUint16(J*2,q,!0);var te,oe;switch(typeof x[J]){case"string":te=write_new_storage({t:"s",v:x[J]},r),oe=write_old_storage({t:"s",v:x[J]},r);break;case"number":te=write_new_storage({t:"n",v:x[J]},r),oe=write_old_storage({t:"n",v:x[J]},r);break;case"boolean":te=write_new_storage({t:"b",v:x[J]},r),oe=write_old_storage({t:"b",v:x[J]},r);break;default:throw new Error("Unsupported value "+x[J])}T.push(te),A+=te.length,K.push(oe),q+=oe.length,++I}for(y[2][0].data=write_varint49(I);J<y[7][0].data.length/2;++J)O.setUint16(J*2,65535,!0),U.setUint16(J*2,65535,!0);return y[6][0].data=u8concat(T),y[3][0].data=u8concat(K),I}function write_numbers_iwa(y,x){if(!x||!x.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=y.Sheets[y.SheetNames[0]];y.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var b=decode_range(r["!ref"]);b.s.r=b.s.c=0;var M=!1;b.e.c>9&&(M=!0,b.e.c=9),b.e.r>49&&(M=!0,b.e.r=49),M&&console.error("The Numbers writer is currently limited to ".concat(encode_range(b)));var z=sheet_to_json(r,{range:b,header:1}),B=["~Sh33tJ5~"];z.forEach(function(Gt){return Gt.forEach(function(Bt){typeof Bt=="string"&&B.push(Bt)})});var R={},I=[],O=CFB.read(x.numbers,{type:"base64"});O.FileIndex.map(function(Gt,Bt){return[Gt,O.FullPaths[Bt]]}).forEach(function(Gt){var Bt=Gt[0],Dt=Gt[1];if(Bt.type==2&&Bt.name.match(/\.iwa/)){var Ct=Bt.content,It=decompress_iwa_file(Ct),lr=parse_iwa_file(It);lr.forEach(function(Je){I.push(Je.id),R[Je.id]={deps:[],location:Dt,type:varint_to_i32(Je.messages[0].meta[1][0].data)}})}}),I.sort(function(Gt,Bt){return Gt-Bt});var A=I.filter(function(Gt){return Gt>1}).map(function(Gt){return[Gt,write_varint49(Gt)]});O.FileIndex.map(function(Gt,Bt){return[Gt,O.FullPaths[Bt]]}).forEach(function(Gt){var Bt=Gt[0];if(Gt[1],!!Bt.name.match(/\.iwa/)){var Dt=parse_iwa_file(decompress_iwa_file(Bt.content));Dt.forEach(function(Ct){Ct.messages.forEach(function(It){A.forEach(function(lr){Ct.messages.some(function(Je){return varint_to_i32(Je.meta[1][0].data)!=11006&&u8contains(Je.data,lr[1])})&&R[lr[0]].deps.push(Ct.id)})})})}});for(var T=CFB.find(O,R[1].location),U=parse_iwa_file(decompress_iwa_file(T.content)),q,K=0;K<U.length;++K){var J=U[K];J.id==1&&(q=J)}var te=parse_TSP_Reference(parse_shallow(q.messages[0].data)[1][0].data);for(T=CFB.find(O,R[te].location),U=parse_iwa_file(decompress_iwa_file(T.content)),K=0;K<U.length;++K)J=U[K],J.id==te&&(q=J);for(te=parse_TSP_Reference(parse_shallow(q.messages[0].data)[2][0].data),T=CFB.find(O,R[te].location),U=parse_iwa_file(decompress_iwa_file(T.content)),K=0;K<U.length;++K)J=U[K],J.id==te&&(q=J);for(te=parse_TSP_Reference(parse_shallow(q.messages[0].data)[2][0].data),T=CFB.find(O,R[te].location),U=parse_iwa_file(decompress_iwa_file(T.content)),K=0;K<U.length;++K)J=U[K],J.id==te&&(q=J);var oe=parse_shallow(q.messages[0].data);{oe[6][0].data=write_varint49(b.e.r+1),oe[7][0].data=write_varint49(b.e.c+1);var ue=parse_TSP_Reference(oe[46][0].data),fe=CFB.find(O,R[ue].location),Le=parse_iwa_file(decompress_iwa_file(fe.content));{for(var Ge=0;Ge<Le.length&&Le[Ge].id!=ue;++Ge);if(Le[Ge].id!=ue)throw"Bad ColumnRowUIDMapArchive";var ze=parse_shallow(Le[Ge].messages[0].data);ze[1]=[],ze[2]=[],ze[3]=[];for(var je=0;je<=b.e.c;++je){var Be=[];Be[1]=Be[2]=[{type:0,data:write_varint49(je+420690)}],ze[1].push({type:2,data:write_shallow(Be)}),ze[2].push({type:0,data:write_varint49(je)}),ze[3].push({type:0,data:write_varint49(je)})}ze[4]=[],ze[5]=[],ze[6]=[];for(var _e=0;_e<=b.e.r;++_e)Be=[],Be[1]=Be[2]=[{type:0,data:write_varint49(_e+726270)}],ze[4].push({type:2,data:write_shallow(Be)}),ze[5].push({type:0,data:write_varint49(_e)}),ze[6].push({type:0,data:write_varint49(_e)});Le[Ge].messages[0].data=write_shallow(ze)}fe.content=compress_iwa_file(write_iwa_file(Le)),fe.size=fe.content.length,delete oe[46];var He=parse_shallow(oe[4][0].data);{He[7][0].data=write_varint49(b.e.r+1);var tt=parse_shallow(He[1][0].data),Ke=parse_TSP_Reference(tt[2][0].data);fe=CFB.find(O,R[Ke].location),Le=parse_iwa_file(decompress_iwa_file(fe.content));{if(Le[0].id!=Ke)throw"Bad HeaderStorageBucket";var Ze=parse_shallow(Le[0].messages[0].data);for(_e=0;_e<z.length;++_e){var Qe=parse_shallow(Ze[2][0].data);Qe[1][0].data=write_varint49(_e),Qe[4][0].data=write_varint49(z[_e].length),Ze[2][_e]={type:Ze[2][0].type,data:write_shallow(Qe)}}Le[0].messages[0].data=write_shallow(Ze)}fe.content=compress_iwa_file(write_iwa_file(Le)),fe.size=fe.content.length;var vt=parse_TSP_Reference(He[2][0].data);fe=CFB.find(O,R[vt].location),Le=parse_iwa_file(decompress_iwa_file(fe.content));{if(Le[0].id!=vt)throw"Bad HeaderStorageBucket";for(Ze=parse_shallow(Le[0].messages[0].data),je=0;je<=b.e.c;++je)Qe=parse_shallow(Ze[2][0].data),Qe[1][0].data=write_varint49(je),Qe[4][0].data=write_varint49(b.e.r+1),Ze[2][je]={type:Ze[2][0].type,data:write_shallow(Qe)};Le[0].messages[0].data=write_shallow(Ze)}fe.content=compress_iwa_file(write_iwa_file(Le)),fe.size=fe.content.length;var pt=parse_TSP_Reference(He[4][0].data);(function(){for(var Gt=CFB.find(O,R[pt].location),Bt=parse_iwa_file(decompress_iwa_file(Gt.content)),Dt,Ct=0;Ct<Bt.length;++Ct){var It=Bt[Ct];It.id==pt&&(Dt=It)}var lr=parse_shallow(Dt.messages[0].data);{lr[3]=[];var Je=[];B.forEach(function(it,Wt){Je[1]=[{type:0,data:write_varint49(Wt)}],Je[2]=[{type:0,data:write_varint49(1)}],Je[3]=[{type:2,data:stru8(it)}],lr[3].push({type:2,data:write_shallow(Je)})})}Dt.messages[0].data=write_shallow(lr);var Ve=write_iwa_file(Bt),st=compress_iwa_file(Ve);Gt.content=st,Gt.size=Gt.content.length})();var ut=parse_shallow(He[3][0].data);{var Mt=ut[1][0];delete ut[2];var bt=parse_shallow(Mt.data);{var ar=parse_TSP_Reference(bt[2][0].data);(function(){for(var Gt=CFB.find(O,R[ar].location),Bt=parse_iwa_file(decompress_iwa_file(Gt.content)),Dt,Ct=0;Ct<Bt.length;++Ct){var It=Bt[Ct];It.id==ar&&(Dt=It)}var lr=parse_shallow(Dt.messages[0].data);{delete lr[6],delete ut[7];var Je=new Uint8Array(lr[5][0].data);lr[5]=[];for(var Ve=0,st=0;st<=b.e.r;++st){var it=parse_shallow(Je);Ve+=write_tile_row(it,z[st],B),it[1][0].data=write_varint49(st),lr[5].push({data:write_shallow(it),type:2})}lr[1]=[{type:0,data:write_varint49(b.e.c+1)}],lr[2]=[{type:0,data:write_varint49(b.e.r+1)}],lr[3]=[{type:0,data:write_varint49(Ve)}],lr[4]=[{type:0,data:write_varint49(b.e.r+1)}]}Dt.messages[0].data=write_shallow(lr);var Wt=write_iwa_file(Bt),rt=compress_iwa_file(Wt);Gt.content=rt,Gt.size=Gt.content.length})()}Mt.data=write_shallow(bt)}He[3][0].data=write_shallow(ut)}oe[4][0].data=write_shallow(He)}q.messages[0].data=write_shallow(oe);var dt=write_iwa_file(U),yt=compress_iwa_file(dt);return T.content=yt,T.size=T.content.length,O}function fix_opts_func(y){return function(r){for(var b=0;b!=y.length;++b){var M=y[b];r[M[0]]===void 0&&(r[M[0]]=M[1]),M[2]==="n"&&(r[M[0]]=Number(r[M[0]]))}}}function fix_read_opts(y){fix_opts_func([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(y)}function fix_write_opts(y){fix_opts_func([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(y)}function get_sheet_type(y){return RELS.WS.indexOf(y)>-1?"sheet":y==RELS.CS?"chart":y==RELS.DS?"dialog":y==RELS.MS?"macro":y&&y.length?y:"sheet"}function safe_parse_wbrels(y,x){if(!y)return 0;try{y=x.map(function(b){return b.id||(b.id=b.strRelID),[b.name,y["!id"][b.id].Target,get_sheet_type(y["!id"][b.id].Type)]})}catch{return null}return!y||y.length===0?null:y}function safe_parse_sheet(y,x,r,b,M,z,B,R,I,O,A,T){try{z[b]=parse_rels(getzipstr(y,r,!0),x);var U=getzipdata(y,x),q;switch(R){case"sheet":q=parse_ws(U,x,M,I,z[b],O,A,T);break;case"chart":if(q=parse_cs(U,x,M,I,z[b],O,A,T),!q||!q["!drawel"])break;var K=resolve_path(q["!drawel"].Target,x),J=get_rels_path(K),te=parse_drawing(getzipstr(y,K,!0),parse_rels(getzipstr(y,J,!0),K)),oe=resolve_path(te,K),ue=get_rels_path(oe);q=parse_chart(getzipstr(y,oe,!0),oe,I,parse_rels(getzipstr(y,ue,!0),oe),O,q);break;case"macro":q=parse_ms(U,x,M,I,z[b],O,A,T);break;case"dialog":q=parse_ds(U,x,M,I,z[b],O,A,T);break;default:throw new Error("Unrecognized sheet type "+R)}B[b]=q;var fe=[];z&&z[b]&&keys(z[b]).forEach(function(Le){var Ge="";if(z[b][Le].Type==RELS.CMNT){Ge=resolve_path(z[b][Le].Target,x);var ze=parse_cmnt(getzipdata(y,Ge,!0),Ge,I);if(!ze||!ze.length)return;sheet_insert_comments(q,ze,!1)}z[b][Le].Type==RELS.TCMNT&&(Ge=resolve_path(z[b][Le].Target,x),fe=fe.concat(parse_tcmnt_xml(getzipdata(y,Ge,!0),I)))}),fe&&fe.length&&sheet_insert_comments(q,fe,!0,I.people||[])}catch(Le){if(I.WTF)throw Le}}function strip_front_slash(y){return y.charAt(0)=="/"?y.slice(1):y}function parse_zip(y,x){if(make_ssf(),x=x||{},fix_read_opts(x),safegetzipfile(y,"META-INF/manifest.xml")||safegetzipfile(y,"objectdata.xml"))return parse_ods(y,x);if(safegetzipfile(y,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof parse_numbers_iwa<"u"){if(y.FileIndex)return parse_numbers_iwa(y);var r=CFB.utils.cfb_new();return zipentries(y).forEach(function(Qe){zip_add_file(r,Qe,getzipbin(y,Qe))}),parse_numbers_iwa(r)}throw new Error("Unsupported NUMBERS file")}if(!safegetzipfile(y,"[Content_Types].xml"))throw safegetzipfile(y,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):safegetzipfile(y,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var b=zipentries(y),M=parse_ct(getzipstr(y,"[Content_Types].xml")),z=!1,B,R;if(M.workbooks.length===0&&(R="xl/workbook.xml",getzipdata(y,R,!0)&&M.workbooks.push(R)),M.workbooks.length===0){if(R="xl/workbook.bin",!getzipdata(y,R,!0))throw new Error("Could not find workbook");M.workbooks.push(R),z=!0}M.workbooks[0].slice(-3)=="bin"&&(z=!0);var I={},O={};if(!x.bookSheets&&!x.bookProps){if(strs=[],M.sst)try{strs=parse_sst(getzipdata(y,strip_front_slash(M.sst)),M.sst,x)}catch(Qe){if(x.WTF)throw Qe}x.cellStyles&&M.themes.length&&(I=parse_theme(getzipstr(y,M.themes[0].replace(/^\//,""),!0)||"",M.themes[0],x)),M.style&&(O=parse_sty(getzipdata(y,strip_front_slash(M.style)),M.style,I,x))}M.links.map(function(Qe){try{var vt=parse_rels(getzipstr(y,get_rels_path(strip_front_slash(Qe))),Qe);return parse_xlink(getzipdata(y,strip_front_slash(Qe)),vt,Qe,x)}catch{}});var A=parse_wb(getzipdata(y,strip_front_slash(M.workbooks[0])),M.workbooks[0],x),T={},U="";M.coreprops.length&&(U=getzipdata(y,strip_front_slash(M.coreprops[0]),!0),U&&(T=parse_core_props(U)),M.extprops.length!==0&&(U=getzipdata(y,strip_front_slash(M.extprops[0]),!0),U&&parse_ext_props(U,T,x)));var q={};(!x.bookSheets||x.bookProps)&&M.custprops.length!==0&&(U=getzipstr(y,strip_front_slash(M.custprops[0]),!0),U&&(q=parse_cust_props(U,x)));var K={};if((x.bookSheets||x.bookProps)&&(A.Sheets?B=A.Sheets.map(function(vt){return vt.name}):T.Worksheets&&T.SheetNames.length>0&&(B=T.SheetNames),x.bookProps&&(K.Props=T,K.Custprops=q),x.bookSheets&&typeof B<"u"&&(K.SheetNames=B),x.bookSheets?K.SheetNames:x.bookProps))return K;B={};var J={};x.bookDeps&&M.calcchain&&(J=parse_cc(getzipdata(y,strip_front_slash(M.calcchain)),M.calcchain));var te=0,oe={},ue,fe;{var Le=A.Sheets;T.Worksheets=Le.length,T.SheetNames=[];for(var Ge=0;Ge!=Le.length;++Ge)T.SheetNames[Ge]=Le[Ge].name}var ze=z?"bin":"xml",je=M.workbooks[0].lastIndexOf("/"),Be=(M.workbooks[0].slice(0,je+1)+"_rels/"+M.workbooks[0].slice(je+1)+".rels").replace(/^\//,"");safegetzipfile(y,Be)||(Be="xl/_rels/workbook."+ze+".rels");var _e=parse_rels(getzipstr(y,Be,!0),Be.replace(/_rels.*/,"s5s"));(M.metadata||[]).length>=1&&(x.xlmeta=parse_xlmeta(getzipdata(y,strip_front_slash(M.metadata[0])),M.metadata[0],x)),(M.people||[]).length>=1&&(x.people=parse_people_xml(getzipdata(y,strip_front_slash(M.people[0])),x)),_e&&(_e=safe_parse_wbrels(_e,A.Sheets));var He=getzipdata(y,"xl/worksheets/sheet.xml",!0)?1:0;e:for(te=0;te!=T.Worksheets;++te){var tt="sheet";if(_e&&_e[te]?(ue="xl/"+_e[te][1].replace(/[\/]?xl\//,""),safegetzipfile(y,ue)||(ue=_e[te][1]),safegetzipfile(y,ue)||(ue=Be.replace(/_rels\/.*$/,"")+_e[te][1]),tt=_e[te][2]):(ue="xl/worksheets/sheet"+(te+1-He)+"."+ze,ue=ue.replace(/sheet0\./,"sheet.")),fe=ue.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),x&&x.sheets!=null)switch(typeof x.sheets){case"number":if(te!=x.sheets)continue e;break;case"string":if(T.SheetNames[te].toLowerCase()!=x.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(x.sheets)){for(var Ke=!1,Ze=0;Ze!=x.sheets.length;++Ze)typeof x.sheets[Ze]=="number"&&x.sheets[Ze]==te&&(Ke=1),typeof x.sheets[Ze]=="string"&&x.sheets[Ze].toLowerCase()==T.SheetNames[te].toLowerCase()&&(Ke=1);if(!Ke)continue e}}safe_parse_sheet(y,ue,fe,T.SheetNames[te],te,oe,B,tt,x,A,I,O)}return K={Directory:M,Workbook:A,Props:T,Custprops:q,Deps:J,Sheets:B,SheetNames:T.SheetNames,Strings:strs,Styles:O,Themes:I,SSF:dup(table_fmt)},x&&x.bookFiles&&(y.files?(K.keys=b,K.files=y.files):(K.keys=[],K.files={},y.FullPaths.forEach(function(Qe,vt){Qe=Qe.replace(/^Root Entry[\/]/,""),K.keys.push(Qe),K.files[Qe]=y.FileIndex[vt]}))),x&&x.bookVBA&&(M.vba.length>0?K.vbaraw=getzipdata(y,strip_front_slash(M.vba[0]),!0):M.defaults&&M.defaults.bin===CT_VBA&&(K.vbaraw=getzipdata(y,"xl/vbaProject.bin",!0))),K}function parse_xlsxcfb(y,x){var r=x||{},b="Workbook",M=CFB.find(y,b);try{if(b="/!DataSpaces/Version",M=CFB.find(y,b),!M||!M.content)throw new Error("ECMA-376 Encrypted file missing "+b);if(parse_DataSpaceVersionInfo(M.content),b="/!DataSpaces/DataSpaceMap",M=CFB.find(y,b),!M||!M.content)throw new Error("ECMA-376 Encrypted file missing "+b);var z=parse_DataSpaceMap(M.content);if(z.length!==1||z[0].comps.length!==1||z[0].comps[0].t!==0||z[0].name!=="StrongEncryptionDataSpace"||z[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+b);if(b="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",M=CFB.find(y,b),!M||!M.content)throw new Error("ECMA-376 Encrypted file missing "+b);var B=parse_DataSpaceDefinition(M.content);if(B.length!=1||B[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+b);if(b="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",M=CFB.find(y,b),!M||!M.content)throw new Error("ECMA-376 Encrypted file missing "+b);parse_Primary(M.content)}catch{}if(b="/EncryptionInfo",M=CFB.find(y,b),!M||!M.content)throw new Error("ECMA-376 Encrypted file missing "+b);var R=parse_EncryptionInfo(M.content);if(b="/EncryptedPackage",M=CFB.find(y,b),!M||!M.content)throw new Error("ECMA-376 Encrypted file missing "+b);if(R[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(R[1],M.content,r.password||"",r);if(R[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(R[1],M.content,r.password||"",r);throw new Error("File is password-protected")}function write_zip(y,x){return x.bookType=="ods"?write_ods(y,x):x.bookType=="numbers"?write_numbers_iwa(y,x):x.bookType=="xlsb"?write_zip_xlsxb(y,x):write_zip_xlsx(y,x)}function write_zip_xlsxb(y,x){_shapeid=1024,y&&!y.SSF&&(y.SSF=dup(table_fmt)),y&&y.SSF&&(make_ssf(),SSF_load_table(y.SSF),x.revssf=evert_num(y.SSF),x.revssf[y.SSF[65535]]=0,x.ssf=y.SSF),x.rels={},x.wbrels={},x.Strings=[],x.Strings.Count=0,x.Strings.Unique=0,browser_has_Map?x.revStrings=new Map:(x.revStrings={},x.revStrings.foo=[],delete x.revStrings.foo);var r=x.bookType=="xlsb"?"bin":"xml",b=VBAFMTS.indexOf(x.bookType)>-1,M=new_ct();fix_write_opts(x=x||{});var z=zip_new(),B="",R=0;if(x.cellXfs=[],get_cell_style(x.cellXfs,{},{revssf:{General:0}}),y.Props||(y.Props={}),B="docProps/core.xml",zip_add_file(z,B,write_core_props(y.Props,x)),M.coreprops.push(B),add_rels(x.rels,2,B,RELS.CORE_PROPS),B="docProps/app.xml",!(y.Props&&y.Props.SheetNames))if(!y.Workbook||!y.Workbook.Sheets)y.Props.SheetNames=y.SheetNames;else{for(var I=[],O=0;O<y.SheetNames.length;++O)(y.Workbook.Sheets[O]||{}).Hidden!=2&&I.push(y.SheetNames[O]);y.Props.SheetNames=I}for(y.Props.Worksheets=y.Props.SheetNames.length,zip_add_file(z,B,write_ext_props(y.Props)),M.extprops.push(B),add_rels(x.rels,3,B,RELS.EXT_PROPS),y.Custprops!==y.Props&&keys(y.Custprops||{}).length>0&&(B="docProps/custom.xml",zip_add_file(z,B,write_cust_props(y.Custprops)),M.custprops.push(B),add_rels(x.rels,4,B,RELS.CUST_PROPS)),R=1;R<=y.SheetNames.length;++R){var A={"!id":{}},T=y.Sheets[y.SheetNames[R-1]],U=(T||{})["!type"]||"sheet";switch(U){case"chart":default:B="xl/worksheets/sheet"+R+"."+r,zip_add_file(z,B,write_ws(R-1,B,x,y,A)),M.sheets.push(B),add_rels(x.wbrels,-1,"worksheets/sheet"+R+"."+r,RELS.WS[0])}if(T){var q=T["!comments"],K=!1,J="";q&&q.length>0&&(J="xl/comments"+R+"."+r,zip_add_file(z,J,write_cmnt(q,J)),M.comments.push(J),add_rels(A,-1,"../comments"+R+"."+r,RELS.CMNT),K=!0),T["!legacy"]&&K&&zip_add_file(z,"xl/drawings/vmlDrawing"+R+".vml",write_comments_vml(R,T["!comments"])),delete T["!comments"],delete T["!legacy"]}A["!id"].rId1&&zip_add_file(z,get_rels_path(B),write_rels(A))}return x.Strings!=null&&x.Strings.length>0&&(B="xl/sharedStrings."+r,zip_add_file(z,B,write_sst(x.Strings,B,x)),M.strs.push(B),add_rels(x.wbrels,-1,"sharedStrings."+r,RELS.SST)),B="xl/workbook."+r,zip_add_file(z,B,write_wb(y,B)),M.workbooks.push(B),add_rels(x.rels,1,B,RELS.WB),B="xl/theme/theme1.xml",zip_add_file(z,B,write_theme(y.Themes,x)),M.themes.push(B),add_rels(x.wbrels,-1,"theme/theme1.xml",RELS.THEME),B="xl/styles."+r,zip_add_file(z,B,write_sty(y,B,x)),M.styles.push(B),add_rels(x.wbrels,-1,"styles."+r,RELS.STY),y.vbaraw&&b&&(B="xl/vbaProject.bin",zip_add_file(z,B,y.vbaraw),M.vba.push(B),add_rels(x.wbrels,-1,"vbaProject.bin",RELS.VBA)),B="xl/metadata."+r,zip_add_file(z,B,write_xlmeta(B)),M.metadata.push(B),add_rels(x.wbrels,-1,"metadata."+r,RELS.XLMETA),zip_add_file(z,"[Content_Types].xml",write_ct(M,x)),zip_add_file(z,"_rels/.rels",write_rels(x.rels)),zip_add_file(z,"xl/_rels/workbook."+r+".rels",write_rels(x.wbrels)),delete x.revssf,delete x.ssf,z}function write_zip_xlsx(y,x){_shapeid=1024,y&&!y.SSF&&(y.SSF=dup(table_fmt)),y&&y.SSF&&(make_ssf(),SSF_load_table(y.SSF),x.revssf=evert_num(y.SSF),x.revssf[y.SSF[65535]]=0,x.ssf=y.SSF),x.rels={},x.wbrels={},x.Strings=[],x.Strings.Count=0,x.Strings.Unique=0,browser_has_Map?x.revStrings=new Map:(x.revStrings={},x.revStrings.foo=[],delete x.revStrings.foo);var r="xml",b=VBAFMTS.indexOf(x.bookType)>-1,M=new_ct();fix_write_opts(x=x||{});var z=zip_new(),B="",R=0;if(x.cellXfs=[],get_cell_style(x.cellXfs,{},{revssf:{General:0}}),y.Props||(y.Props={}),B="docProps/core.xml",zip_add_file(z,B,write_core_props(y.Props,x)),M.coreprops.push(B),add_rels(x.rels,2,B,RELS.CORE_PROPS),B="docProps/app.xml",!(y.Props&&y.Props.SheetNames))if(!y.Workbook||!y.Workbook.Sheets)y.Props.SheetNames=y.SheetNames;else{for(var I=[],O=0;O<y.SheetNames.length;++O)(y.Workbook.Sheets[O]||{}).Hidden!=2&&I.push(y.SheetNames[O]);y.Props.SheetNames=I}y.Props.Worksheets=y.Props.SheetNames.length,zip_add_file(z,B,write_ext_props(y.Props)),M.extprops.push(B),add_rels(x.rels,3,B,RELS.EXT_PROPS),y.Custprops!==y.Props&&keys(y.Custprops||{}).length>0&&(B="docProps/custom.xml",zip_add_file(z,B,write_cust_props(y.Custprops)),M.custprops.push(B),add_rels(x.rels,4,B,RELS.CUST_PROPS));var A=["SheetJ5"];for(x.tcid=0,R=1;R<=y.SheetNames.length;++R){var T={"!id":{}},U=y.Sheets[y.SheetNames[R-1]],q=(U||{})["!type"]||"sheet";switch(q){case"chart":default:B="xl/worksheets/sheet"+R+"."+r,zip_add_file(z,B,write_ws_xml(R-1,x,y,T)),M.sheets.push(B),add_rels(x.wbrels,-1,"worksheets/sheet"+R+"."+r,RELS.WS[0])}if(U){var K=U["!comments"],J=!1,te="";if(K&&K.length>0){var oe=!1;K.forEach(function(ue){ue[1].forEach(function(fe){fe.T==!0&&(oe=!0)})}),oe&&(te="xl/threadedComments/threadedComment"+R+"."+r,zip_add_file(z,te,write_tcmnt_xml(K,A,x)),M.threadedcomments.push(te),add_rels(T,-1,"../threadedComments/threadedComment"+R+"."+r,RELS.TCMNT)),te="xl/comments"+R+"."+r,zip_add_file(z,te,write_comments_xml(K)),M.comments.push(te),add_rels(T,-1,"../comments"+R+"."+r,RELS.CMNT),J=!0}U["!legacy"]&&J&&zip_add_file(z,"xl/drawings/vmlDrawing"+R+".vml",write_comments_vml(R,U["!comments"])),delete U["!comments"],delete U["!legacy"]}T["!id"].rId1&&zip_add_file(z,get_rels_path(B),write_rels(T))}return x.Strings!=null&&x.Strings.length>0&&(B="xl/sharedStrings."+r,zip_add_file(z,B,write_sst_xml(x.Strings,x)),M.strs.push(B),add_rels(x.wbrels,-1,"sharedStrings."+r,RELS.SST)),B="xl/workbook."+r,zip_add_file(z,B,write_wb_xml(y)),M.workbooks.push(B),add_rels(x.rels,1,B,RELS.WB),B="xl/theme/theme1.xml",zip_add_file(z,B,write_theme(y.Themes,x)),M.themes.push(B),add_rels(x.wbrels,-1,"theme/theme1.xml",RELS.THEME),B="xl/styles."+r,zip_add_file(z,B,write_sty_xml(y,x)),M.styles.push(B),add_rels(x.wbrels,-1,"styles."+r,RELS.STY),y.vbaraw&&b&&(B="xl/vbaProject.bin",zip_add_file(z,B,y.vbaraw),M.vba.push(B),add_rels(x.wbrels,-1,"vbaProject.bin",RELS.VBA)),B="xl/metadata."+r,zip_add_file(z,B,write_xlmeta_xml()),M.metadata.push(B),add_rels(x.wbrels,-1,"metadata."+r,RELS.XLMETA),A.length>1&&(B="xl/persons/person.xml",zip_add_file(z,B,write_people_xml(A)),M.people.push(B),add_rels(x.wbrels,-1,"persons/person.xml",RELS.PEOPLE)),zip_add_file(z,"[Content_Types].xml",write_ct(M,x)),zip_add_file(z,"_rels/.rels",write_rels(x.rels)),zip_add_file(z,"xl/_rels/workbook."+r+".rels",write_rels(x.wbrels)),delete x.revssf,delete x.ssf,z}function firstbyte(y,x){var r="";switch((x||{}).type||"base64"){case"buffer":return[y[0],y[1],y[2],y[3],y[4],y[5],y[6],y[7]];case"base64":r=Base64_decode(y.slice(0,12));break;case"binary":r=y;break;case"array":return[y[0],y[1],y[2],y[3],y[4],y[5],y[6],y[7]];default:throw new Error("Unrecognized type "+(x&&x.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function read_cfb(y,x){return CFB.find(y,"EncryptedPackage")?parse_xlsxcfb(y,x):parse_xlscfb(y,x)}function read_zip(y,x){var r,b=y,M=x||{};return M.type||(M.type=has_buf&&Buffer.isBuffer(y)?"buffer":"base64"),r=zip_read(b,M),parse_zip(r,M)}function read_plaintext(y,x){var r=0;e:for(;r<y.length;)switch(y.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return parse_xlml(y.slice(r),x);default:break e}return PRN.to_workbook(y,x)}function read_plaintext_raw(y,x){var r="",b=firstbyte(y,x);switch(x.type){case"base64":r=Base64_decode(y);break;case"binary":r=y;break;case"buffer":r=y.toString("binary");break;case"array":r=cc2str(y);break;default:throw new Error("Unrecognized type "+x.type)}return b[0]==239&&b[1]==187&&b[2]==191&&(r=utf8read(r)),x.type="binary",read_plaintext(r,x)}function read_utf16(y,x){var r=y;return x.type=="base64"&&(r=Base64_decode(r)),r=$cptable.utils.decode(1200,r.slice(2),"str"),x.type="binary",read_plaintext(r,x)}function bstrify(y){return y.match(/[^\x00-\x7F]/)?utf8write(y):y}function read_prn(y,x,r,b){return b?(r.type="string",PRN.to_workbook(y,r)):PRN.to_workbook(x,r)}function readSync(y,x){reset_cp();var r=x||{};if(typeof ArrayBuffer<"u"&&y instanceof ArrayBuffer)return readSync(new Uint8Array(y),(r=dup(r),r.type="array",r));typeof Uint8Array<"u"&&y instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var b=y,M=[0,0,0,0],z=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),_ssfopts={},r.dateNF&&(_ssfopts.dateNF=r.dateNF),r.type||(r.type=has_buf&&Buffer.isBuffer(y)?"buffer":"base64"),r.type=="file"&&(r.type=has_buf?"buffer":"binary",b=read_binary(y),typeof Uint8Array<"u"&&!has_buf&&(r.type="array")),r.type=="string"&&(z=!0,r.type="binary",r.codepage=65001,b=bstrify(y)),r.type=="array"&&typeof Uint8Array<"u"&&y instanceof Uint8Array&&typeof ArrayBuffer<"u"){var B=new ArrayBuffer(3),R=new Uint8Array(B);if(R.foo="bar",!R.foo)return r=dup(r),r.type="array",readSync(ab2a(b),r)}switch((M=firstbyte(b,r))[0]){case 208:if(M[1]===207&&M[2]===17&&M[3]===224&&M[4]===161&&M[5]===177&&M[6]===26&&M[7]===225)return read_cfb(CFB.read(b,r),r);break;case 9:if(M[1]<=8)return parse_xlscfb(b,r);break;case 60:return parse_xlml(b,r);case 73:if(M[1]===73&&M[2]===42&&M[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(M[1]===68)return read_wb_ID(b,r);break;case 84:if(M[1]===65&&M[2]===66&&M[3]===76)return DIF.to_workbook(b,r);break;case 80:return M[1]===75&&M[2]<9&&M[3]<9?read_zip(b,r):read_prn(y,b,r,z);case 239:return M[3]===60?parse_xlml(b,r):read_prn(y,b,r,z);case 255:if(M[1]===254)return read_utf16(b,r);if(M[1]===0&&M[2]===2&&M[3]===0)return WK_.to_workbook(b,r);break;case 0:if(M[1]===0&&(M[2]>=2&&M[3]===0||M[2]===0&&(M[3]===8||M[3]===9)))return WK_.to_workbook(b,r);break;case 3:case 131:case 139:case 140:return DBF.to_workbook(b,r);case 123:if(M[1]===92&&M[2]===114&&M[3]===116)return RTF.to_workbook(b,r);break;case 10:case 13:case 32:return read_plaintext_raw(b,r);case 137:if(M[1]===80&&M[2]===78&&M[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return DBF_SUPPORTED_VERSIONS.indexOf(M[0])>-1&&M[2]<=12&&M[3]<=31?DBF.to_workbook(b,r):read_prn(y,b,r,z)}function write_cfb_ctr(y,x){switch(x.type){case"base64":case"binary":break;case"buffer":case"array":x.type="";break;case"file":return write_dl(x.file,CFB.write(y,{type:has_buf?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+x.bookType+"' files");default:throw new Error("Unrecognized type "+x.type)}return CFB.write(y,x)}function write_zip_type(y,x){var r=dup(x||{}),b=write_zip(y,r);return write_zip_denouement(b,r)}function write_zip_denouement(y,x){var r={},b=has_buf?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(x.compression&&(r.compression="DEFLATE"),x.password)r.type=b;else switch(x.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+x.bookType+"' files");case"buffer":case"file":r.type=b;break;default:throw new Error("Unrecognized type "+x.type)}var M=y.FullPaths?CFB.write(y,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!x.compression}):y.generate(r);if(typeof Deno<"u"&&typeof M=="string"){if(x.type=="binary"||x.type=="base64")return M;M=new Uint8Array(s2ab(M))}return x.password&&typeof encrypt_agile<"u"?write_cfb_ctr(encrypt_agile(M,x.password),x):x.type==="file"?write_dl(x.file,M):x.type=="string"?utf8read(M):M}function write_cfb_type(y,x){var r=x||{},b=write_xlscfb(y,r);return write_cfb_ctr(b,r)}function write_string_type(y,x,r){r||(r="");var b=r+y;switch(x.type){case"base64":return Base64_encode(utf8write(b));case"binary":return utf8write(b);case"string":return y;case"file":return write_dl(x.file,b,"utf8");case"buffer":return has_buf?Buffer_from(b,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(b):write_string_type(b,{type:"binary"}).split("").map(function(M){return M.charCodeAt(0)})}throw new Error("Unrecognized type "+x.type)}function write_stxt_type(y,x){switch(x.type){case"base64":return Base64_encode(y);case"binary":return y;case"string":return y;case"file":return write_dl(x.file,y,"binary");case"buffer":return has_buf?Buffer_from(y,"binary"):y.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+x.type)}function write_binary_type(y,x){switch(x.type){case"string":case"base64":case"binary":for(var r="",b=0;b<y.length;++b)r+=String.fromCharCode(y[b]);return x.type=="base64"?Base64_encode(r):x.type=="string"?utf8read(r):r;case"file":return write_dl(x.file,y);case"buffer":return y;default:throw new Error("Unrecognized type "+x.type)}}function writeSync(y,x){reset_cp(),check_wb(y);var r=dup(x||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var b=writeSync(y,r);return r.type="array",s2ab(b)}var M=0;if(r.sheet&&(typeof r.sheet=="number"?M=r.sheet:M=y.SheetNames.indexOf(r.sheet),!y.SheetNames[M]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return write_string_type(write_xlml(y,r),r);case"slk":case"sylk":return write_string_type(SYLK.from_sheet(y.Sheets[y.SheetNames[M]],r),r);case"htm":case"html":return write_string_type(sheet_to_html(y.Sheets[y.SheetNames[M]],r),r);case"txt":return write_stxt_type(sheet_to_txt(y.Sheets[y.SheetNames[M]],r),r);case"csv":return write_string_type(sheet_to_csv(y.Sheets[y.SheetNames[M]],r),r,"\uFEFF");case"dif":return write_string_type(DIF.from_sheet(y.Sheets[y.SheetNames[M]],r),r);case"dbf":return write_binary_type(DBF.from_sheet(y.Sheets[y.SheetNames[M]],r),r);case"prn":return write_string_type(PRN.from_sheet(y.Sheets[y.SheetNames[M]],r),r);case"rtf":return write_string_type(RTF.from_sheet(y.Sheets[y.SheetNames[M]],r),r);case"eth":return write_string_type(ETH.from_sheet(y.Sheets[y.SheetNames[M]],r),r);case"fods":return write_string_type(write_ods(y,r),r);case"wk1":return write_binary_type(WK_.sheet_to_wk1(y.Sheets[y.SheetNames[M]],r),r);case"wk3":return write_binary_type(WK_.book_to_wk3(y,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),write_binary_type(write_biff_buf(y,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),write_cfb_type(y,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return write_zip_type(y,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function resolve_book_type(y){if(!y.bookType){var x={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=y.file.slice(y.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(y.bookType=r.slice(1)),y.bookType=x[y.bookType]||y.bookType}}function writeFileSync(y,x,r){var b={};return b.type="file",b.file=x,resolve_book_type(b),writeSync(y,b)}function make_json_row(y,x,r,b,M,z,B,R){var I=encode_row(r),O=R.defval,A=R.raw||!Object.prototype.hasOwnProperty.call(R,"raw"),T=!0,U=M===1?[]:{};if(M!==1)if(Object.defineProperty)try{Object.defineProperty(U,"__rowNum__",{value:r,enumerable:!1})}catch{U.__rowNum__=r}else U.__rowNum__=r;if(!B||y[r])for(var q=x.s.c;q<=x.e.c;++q){var K=B?y[r][q]:y[b[q]+I];if(K===void 0||K.t===void 0){if(O===void 0)continue;z[q]!=null&&(U[z[q]]=O);continue}var J=K.v;switch(K.t){case"z":if(J==null)break;continue;case"e":J=J==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+K.t)}if(z[q]!=null){if(J==null)if(K.t=="e"&&J===null)U[z[q]]=null;else if(O!==void 0)U[z[q]]=O;else if(A&&J===null)U[z[q]]=null;else continue;else U[z[q]]=A&&(K.t!=="n"||K.t==="n"&&R.rawNumbers!==!1)?J:format_cell(K,J,R);J!=null&&(T=!1)}}return{row:U,isempty:T}}function sheet_to_json(y,x){if(y==null||y["!ref"]==null)return[];var r={t:"n",v:0},b=0,M=1,z=[],B=0,R="",I={s:{r:0,c:0},e:{r:0,c:0}},O=x||{},A=O.range!=null?O.range:y["!ref"];switch(O.header===1?b=1:O.header==="A"?b=2:Array.isArray(O.header)?b=3:O.header==null&&(b=0),typeof A){case"string":I=safe_decode_range(A);break;case"number":I=safe_decode_range(y["!ref"]),I.s.r=A;break;default:I=A}b>0&&(M=0);var T=encode_row(I.s.r),U=[],q=[],K=0,J=0,te=Array.isArray(y),oe=I.s.r,ue=0,fe={};te&&!y[oe]&&(y[oe]=[]);var Le=O.skipHidden&&y["!cols"]||[],Ge=O.skipHidden&&y["!rows"]||[];for(ue=I.s.c;ue<=I.e.c;++ue)if(!(Le[ue]||{}).hidden)switch(U[ue]=encode_col(ue),r=te?y[oe][ue]:y[U[ue]+T],b){case 1:z[ue]=ue-I.s.c;break;case 2:z[ue]=U[ue];break;case 3:z[ue]=O.header[ue-I.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),R=B=format_cell(r,null,O),J=fe[B]||0,!J)fe[B]=1;else{do R=B+"_"+J++;while(fe[R]);fe[B]=J,fe[R]=1}z[ue]=R}for(oe=I.s.r+M;oe<=I.e.r;++oe)if(!(Ge[oe]||{}).hidden){var ze=make_json_row(y,I,oe,U,b,z,te,O);(ze.isempty===!1||(b===1?O.blankrows!==!1:O.blankrows))&&(q[K++]=ze.row)}return q.length=K,q}var qreg=/"/g;function make_csv_row(y,x,r,b,M,z,B,R){for(var I=!0,O=[],A="",T=encode_row(r),U=x.s.c;U<=x.e.c;++U)if(b[U]){var q=R.dense?(y[r]||[])[U]:y[b[U]+T];if(q==null)A="";else if(q.v!=null){I=!1,A=""+(R.rawNumbers&&q.t=="n"?q.v:format_cell(q,null,R));for(var K=0,J=0;K!==A.length;++K)if((J=A.charCodeAt(K))===M||J===z||J===34||R.forceQuotes){A='"'+A.replace(qreg,'""')+'"';break}A=="ID"&&(A='"ID"')}else q.f!=null&&!q.F?(I=!1,A="="+q.f,A.indexOf(",")>=0&&(A='"'+A.replace(qreg,'""')+'"')):A="";O.push(A)}return R.blankrows===!1&&I?null:O.join(B)}function sheet_to_csv(y,x){var r=[],b=x??{};if(y==null||y["!ref"]==null)return"";var M=safe_decode_range(y["!ref"]),z=b.FS!==void 0?b.FS:",",B=z.charCodeAt(0),R=b.RS!==void 0?b.RS:`
`,I=R.charCodeAt(0),O=new RegExp((z=="|"?"\\|":z)+"+$"),A="",T=[];b.dense=Array.isArray(y);for(var U=b.skipHidden&&y["!cols"]||[],q=b.skipHidden&&y["!rows"]||[],K=M.s.c;K<=M.e.c;++K)(U[K]||{}).hidden||(T[K]=encode_col(K));for(var J=0,te=M.s.r;te<=M.e.r;++te)(q[te]||{}).hidden||(A=make_csv_row(y,M,te,T,B,I,z,b),A!=null&&(b.strip&&(A=A.replace(O,"")),(A||b.blankrows!==!1)&&r.push((J++?R:"")+A)));return delete b.dense,r.join("")}function sheet_to_txt(y,x){x||(x={}),x.FS="	",x.RS=`
`;var r=sheet_to_csv(y,x);return r}function sheet_to_formulae(y){var x="",r,b="";if(y==null||y["!ref"]==null)return[];var M=safe_decode_range(y["!ref"]),z="",B=[],R,I=[],O=Array.isArray(y);for(R=M.s.c;R<=M.e.c;++R)B[R]=encode_col(R);for(var A=M.s.r;A<=M.e.r;++A)for(z=encode_row(A),R=M.s.c;R<=M.e.c;++R)if(x=B[R]+z,r=O?(y[A]||[])[R]:y[x],b="",r!==void 0){if(r.F!=null){if(x=r.F,!r.f)continue;b=r.f,x.indexOf(":")==-1&&(x=x+":"+x)}if(r.f!=null)b=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)b=""+r.v;else if(r.t=="b")b=r.v?"TRUE":"FALSE";else if(r.w!==void 0)b="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?b="'"+r.v:b=""+r.v}}I[I.length]=x+"="+b}return I}function sheet_add_json(y,x,r){var b=r||{},M=+!b.skipHeader,z=y||{},B=0,R=0;if(z&&b.origin!=null)if(typeof b.origin=="number")B=b.origin;else{var I=typeof b.origin=="string"?decode_cell(b.origin):b.origin;B=I.r,R=I.c}var O,A={s:{c:0,r:0},e:{c:R,r:B+x.length-1+M}};if(z["!ref"]){var T=safe_decode_range(z["!ref"]);A.e.c=Math.max(A.e.c,T.e.c),A.e.r=Math.max(A.e.r,T.e.r),B==-1&&(B=T.e.r+1,A.e.r=B+x.length-1+M)}else B==-1&&(B=0,A.e.r=x.length-1+M);var U=b.header||[],q=0;x.forEach(function(J,te){keys(J).forEach(function(oe){(q=U.indexOf(oe))==-1&&(U[q=U.length]=oe);var ue=J[oe],fe="z",Le="",Ge=encode_cell({c:R+q,r:B+te+M});O=ws_get_cell_stub(z,Ge),ue&&typeof ue=="object"&&!(ue instanceof Date)?z[Ge]=ue:(typeof ue=="number"?fe="n":typeof ue=="boolean"?fe="b":typeof ue=="string"?fe="s":ue instanceof Date?(fe="d",b.cellDates||(fe="n",ue=datenum(ue)),Le=b.dateNF||table_fmt[14]):ue===null&&b.nullError&&(fe="e",ue=0),O?(O.t=fe,O.v=ue,delete O.w,delete O.R,Le&&(O.z=Le)):z[Ge]=O={t:fe,v:ue},Le&&(O.z=Le))})}),A.e.c=Math.max(A.e.c,R+U.length-1);var K=encode_row(B);if(M)for(q=0;q<U.length;++q)z[encode_col(q+R)+K]={t:"s",v:U[q]};return z["!ref"]=encode_range(A),z}function json_to_sheet(y,x){return sheet_add_json(null,y,x)}function ws_get_cell_stub(y,x,r){if(typeof x=="string"){if(Array.isArray(y)){var b=decode_cell(x);return y[b.r]||(y[b.r]=[]),y[b.r][b.c]||(y[b.r][b.c]={t:"z"})}return y[x]||(y[x]={t:"z"})}return typeof x!="number"?ws_get_cell_stub(y,encode_cell(x)):ws_get_cell_stub(y,encode_cell({r:x,c:r||0}))}function wb_sheet_idx(y,x){if(typeof x=="number"){if(x>=0&&y.SheetNames.length>x)return x;throw new Error("Cannot find sheet # "+x)}else if(typeof x=="string"){var r=y.SheetNames.indexOf(x);if(r>-1)return r;throw new Error("Cannot find sheet name |"+x+"|")}else throw new Error("Cannot find sheet |"+x+"|")}function book_new(){return{SheetNames:[],Sheets:{}}}function book_append_sheet(y,x,r,b){var M=1;if(!r)for(;M<=65535&&y.SheetNames.indexOf(r="Sheet"+M)!=-1;++M,r=void 0);if(!r||y.SheetNames.length>=65535)throw new Error("Too many worksheets");if(b&&y.SheetNames.indexOf(r)>=0){var z=r.match(/(^.*?)(\d+)$/);M=z&&+z[2]||0;var B=z&&z[1]||r;for(++M;M<=65535&&y.SheetNames.indexOf(r=B+M)!=-1;++M);}if(check_ws_name(r),y.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return y.SheetNames.push(r),y.Sheets[r]=x,r}function book_set_sheet_visibility(y,x,r){y.Workbook||(y.Workbook={}),y.Workbook.Sheets||(y.Workbook.Sheets=[]);var b=wb_sheet_idx(y,x);switch(y.Workbook.Sheets[b]||(y.Workbook.Sheets[b]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}y.Workbook.Sheets[b].Hidden=r}function cell_set_number_format(y,x){return y.z=x,y}function cell_set_hyperlink(y,x,r){return x?(y.l={Target:x},r&&(y.l.Tooltip=r)):delete y.l,y}function cell_set_internal_link(y,x,r){return cell_set_hyperlink(y,"#"+x,r)}function cell_add_comment(y,x,r){y.c||(y.c=[]),y.c.push({t:x,a:r||"SheetJS"})}function sheet_set_array_formula(y,x,r,b){for(var M=typeof x!="string"?x:safe_decode_range(x),z=typeof x=="string"?x:encode_range(x),B=M.s.r;B<=M.e.r;++B)for(var R=M.s.c;R<=M.e.c;++R){var I=ws_get_cell_stub(y,B,R);I.t="n",I.F=z,delete I.v,B==M.s.r&&R==M.s.c&&(I.f=r,b&&(I.D=!0))}return y}var utils={encode_col,encode_row,encode_cell,encode_range,decode_col,decode_row,split_cell,decode_cell,decode_range,format_cell,sheet_add_aoa,sheet_add_json,sheet_add_dom,aoa_to_sheet,json_to_sheet,table_to_sheet:parse_dom_table,table_to_book,sheet_to_csv,sheet_to_txt,sheet_to_json,sheet_to_html,sheet_to_formulae,sheet_to_row_object_array:sheet_to_json,sheet_get_cell:ws_get_cell_stub,book_new,book_append_sheet,book_set_sheet_visibility,cell_set_number_format,cell_set_hyperlink,cell_set_internal_link,cell_add_comment,sheet_set_array_formula,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}},strxml={},hasRequiredStrxml;function requireStrxml(){if(hasRequiredStrxml)return strxml;hasRequiredStrxml=1,strxml.attr=y,strxml.tagClose=x,strxml.tag=r,strxml.encode=b;function y(M){return M&&M.length?" "+M.map(function(z){return z[0]+'="'+z[1]+'"'}).join(" "):""}function x(M,z){return"<"+M+y(z)+"/>"}function r(M,z,B){return"<"+M+y(B)+">"+z+"</"+M+">"}function b(M){return(M===null?"":M.toString()).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}return strxml}var tokml$1,hasRequiredTokml;function requireTokml(){if(hasRequiredTokml)return tokml$1;hasRequiredTokml=1;var y=requireStrxml(),x=y.tag,r=y.encode;tokml$1=function(Be,_e){return _e=_e||{documentName:void 0,documentDescription:void 0,name:"name",description:"description",simplestyle:!1,timestamp:"timestamp"},'<?xml version="1.0" encoding="UTF-8"?>'+x("kml",x("Document",z(_e)+B(_e)+M(Be,_e)),[["xmlns","http://www.opengis.net/kml/2.2"]])};function b(je,Be){return function(_e){if(!_e.properties||!A.valid(_e.geometry))return"";var He=A.any(_e.geometry);if(!He)return"";var tt="",Ke="";if(je.simplestyle){var Ze=Le(_e.properties);Ze&&(A.isPoint(_e.geometry)&&K(_e.properties)?(Be.indexOf(Ze)===-1&&(tt=J(_e.properties,Ze),Be.push(Ze)),Ke=x("styleUrl","#"+Ze)):(A.isPolygon(_e.geometry)||A.isLine(_e.geometry))&&ue(_e.properties)&&(Be.indexOf(Ze)===-1&&(tt=fe(_e.properties,Ze),Be.push(Ze)),Ke=x("styleUrl","#"+Ze)))}return tt+x("Placemark",R(_e.properties,je)+I(_e.properties,je)+U(_e.properties)+O(_e.properties,je)+He+Ke)}}function M(je,Be){if(!je.type)return"";var _e=[];switch(je.type){case"FeatureCollection":return je.features?je.features.map(b(Be,_e)).join(""):"";case"Feature":return b(Be,_e)(je);default:return b(Be,_e)({type:"Feature",geometry:je,properties:{}})}}function z(je){return je.documentName!==void 0?x("name",je.documentName):""}function B(je){return je.documentDescription!==void 0?x("description",je.documentDescription):""}function R(je,Be){return je[Be.name]?x("name",r(je[Be.name])):""}function I(je,Be){return je[Be.description]?x("description",r(je[Be.description])):""}function O(je,Be){return je[Be.timestamp]?x("TimeStamp",x("when",r(je[Be.timestamp]))):""}var A={Point:function(je){return x("Point",x("coordinates",je.coordinates.join(",")))},LineString:function(je){return x("LineString",x("coordinates",T(je.coordinates)))},Polygon:function(je){if(!je.coordinates.length)return"";var Be=je.coordinates[0],_e=je.coordinates.slice(1),He=x("outerBoundaryIs",x("LinearRing",x("coordinates",T(Be)))),tt=_e.map(function(Ke){return x("innerBoundaryIs",x("LinearRing",x("coordinates",T(Ke))))}).join("");return x("Polygon",He+tt)},MultiPoint:function(je){return je.coordinates.length?x("MultiGeometry",je.coordinates.map(function(Be){return A.Point({coordinates:Be})}).join("")):""},MultiPolygon:function(je){return je.coordinates.length?x("MultiGeometry",je.coordinates.map(function(Be){return A.Polygon({coordinates:Be})}).join("")):""},MultiLineString:function(je){return je.coordinates.length?x("MultiGeometry",je.coordinates.map(function(Be){return A.LineString({coordinates:Be})}).join("")):""},GeometryCollection:function(je){return x("MultiGeometry",je.geometries.map(A.any).join(""))},valid:function(je){return je&&je.type&&(je.coordinates||je.type==="GeometryCollection"&&je.geometries&&je.geometries.every(A.valid))},any:function(je){return A[je.type]?A[je.type](je):""},isPoint:function(je){return je.type==="Point"||je.type==="MultiPoint"},isPolygon:function(je){return je.type==="Polygon"||je.type==="MultiPolygon"},isLine:function(je){return je.type==="LineString"||je.type==="MultiLineString"}};function T(je){return je.map(function(Be){return Be.join(",")}).join(" ")}function U(je){return x("ExtendedData",ze(je).map(q).join(""))}function q(je){return x("Data",x("value",r(je[1])),[["name",r(je[0])]])}function K(je){return!!(je["marker-size"]||je["marker-symbol"]||je["marker-color"])}function J(je,Be){return x("Style",x("IconStyle",x("Icon",x("href",te(je))))+oe(),[["id",Be]])}function te(je){var Be=je["marker-size"]||"medium",_e=je["marker-symbol"]?"-"+je["marker-symbol"]:"",He=(je["marker-color"]||"7e7e7e").replace("#","");return"https://api.tiles.mapbox.com/v3/marker/pin-"+Be.charAt(0)+_e+"+"+He+".png"}function oe(je){return x("hotSpot","",[["xunits","fraction"],["yunits","fraction"],["x",.5],["y",.5]])}function ue(je){for(var Be in je)if({stroke:!0,"stroke-opacity":!0,"stroke-width":!0,fill:!0,"fill-opacity":!0}[Be])return!0}function fe(je,Be){var _e=x("LineStyle",[x("color",Ge(je.stroke,je["stroke-opacity"])||"ff555555")+x("width",je["stroke-width"]===void 0?2:je["stroke-width"])]),He="";return(je.fill||je["fill-opacity"])&&(He=x("PolyStyle",[x("color",Ge(je.fill,je["fill-opacity"])||"88555555")])),x("Style",_e+He,[["id",Be]])}function Le(je){var Be="";return je["marker-symbol"]&&(Be=Be+"ms"+je["marker-symbol"]),je["marker-color"]&&(Be=Be+"mc"+je["marker-color"].replace("#","")),je["marker-size"]&&(Be=Be+"ms"+je["marker-size"]),je.stroke&&(Be=Be+"s"+je.stroke.replace("#","")),je["stroke-width"]&&(Be=Be+"sw"+je["stroke-width"].toString().replace(".","")),je["stroke-opacity"]&&(Be=Be+"mo"+je["stroke-opacity"].toString().replace(".","")),je.fill&&(Be=Be+"f"+je.fill.replace("#","")),je["fill-opacity"]&&(Be=Be+"fo"+je["fill-opacity"].toString().replace(".","")),Be}function Ge(je,Be){if(typeof je!="string")return"";if(je=je.replace("#","").toLowerCase(),je.length===3)je=je[0]+je[0]+je[1]+je[1]+je[2]+je[2];else if(je.length!==6)return"";var _e=je[0]+je[1],He=je[2]+je[3],tt=je[4]+je[5],Ke="ff";return typeof Be=="number"&&Be>=0&&Be<=1&&(Ke=(Be*255).toString(16),Ke.indexOf(".")>-1&&(Ke=Ke.substr(0,Ke.indexOf("."))),Ke.length<2&&(Ke="0"+Ke)),Ke+tt+He+_e}function ze(je){var Be=[];for(var _e in je)Be.push([_e,je[_e]]);return Be}return tokml$1}var tokmlExports=requireTokml();const tokml=getDefaultExportFromCjs(tokmlExports);var geopackage_min={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$3=getAugmentedNamespace(__viteBrowserExternal$1);geopackage_min.exports;var hasRequiredGeopackage_min;function requireGeopackage_min(){return hasRequiredGeopackage_min||(hasRequiredGeopackage_min=1,(function(module,exports$1){(function(y,x){module.exports=x((function(){try{return require("better-sqlite3")}catch{}})())})(self,(__WEBPACK_EXTERNAL_MODULE__1498__=>(()=>{var __webpack_modules__={8927:(y,x,r)=>{var b,M=r(3085).lW,z=r(4155),B=r(5108),R=(b=(b=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(I={}){var O,A,T,U;O||(O=I!==void 0?I:{}),O.ready=new Promise((function(Ne,at){A=Ne,T=at})),(U=O).Qd=U.Qd||[],U.Qd.push((function(){U.MakeSWCanvasSurface=function(Ne){var at=Ne;if(at.tagName!=="CANVAS"&&!(at=document.getElementById(Ne)))throw"Canvas with id "+Ne+" was not found";return(Ne=U.MakeSurface(at.width,at.height))&&(Ne.Dd=at),Ne},U.MakeCanvasSurface||(U.MakeCanvasSurface=U.MakeSWCanvasSurface),U.MakeSurface=function(Ne,at){var mt={width:Ne,height:at,colorType:U.ColorType.RGBA_8888,alphaType:U.AlphaType.Unpremul,colorSpace:U.ColorSpace.SRGB},At=Ne*at*4,Qt=U._malloc(At);return(mt=U.Surface._makeRasterDirect(mt,Qt,4*Ne))&&(mt.Dd=null,mt.uf=Ne,mt.rf=at,mt.tf=At,mt.Ue=Qt,mt.getCanvas().clear(U.TRANSPARENT)),mt},U.MakeRasterDirectSurface=function(Ne,at,mt){return U.Surface._makeRasterDirect(Ne,at.byteOffset,mt)},U.Surface.prototype.flush=function(Ne){if(this._flush(),this.Dd){var at=new Uint8ClampedArray(U.HEAPU8.buffer,this.Ue,this.tf);at=new ImageData(at,this.uf,this.rf),Ne?this.Dd.getContext("2d").putImageData(at,0,0,Ne[0],Ne[1],Ne[2]-Ne[0],Ne[3]-Ne[1]):this.Dd.getContext("2d").putImageData(at,0,0)}},U.Surface.prototype.dispose=function(){this.Ue&&U._free(this.Ue),this.delete()},U.currentContext=U.currentContext||function(){},U.setCurrentContext=U.setCurrentContext||function(){}})),(function(Ne){Ne.Qd=Ne.Qd||[],Ne.Qd.push((function(){function at(mt,At,Qt){return mt&&mt.hasOwnProperty(At)?mt[At]:Qt}Ne.GetWebGLContext=function(mt,At){if(!mt)throw"null canvas passed into makeWebGLContext";var Qt={alpha:at(At,"alpha",1),depth:at(At,"depth",1),stencil:at(At,"stencil",8),antialias:at(At,"antialias",0),premultipliedAlpha:at(At,"premultipliedAlpha",1),preserveDrawingBuffer:at(At,"preserveDrawingBuffer",0),preferLowPowerToHighPerformance:at(At,"preferLowPowerToHighPerformance",0),failIfMajorPerformanceCaveat:at(At,"failIfMajorPerformanceCaveat",0),enableExtensionsByDefault:at(At,"enableExtensionsByDefault",1),explicitSwapControl:at(At,"explicitSwapControl",0),renderViaOffscreenBackBuffer:at(At,"renderViaOffscreenBackBuffer",0)};if(Qt.majorVersion=At&&At.majorVersion?At.majorVersion:typeof WebGL2RenderingContext<"u"?2:1,Qt.explicitSwapControl)throw"explicitSwapControl is not supported";return mt=(function(br,or){br.cf||(br.cf=br.getContext,br.getContext=function(Hr,Fr){return Hr=="webgl"==(Fr=br.cf(Hr,Fr))instanceof WebGLRenderingContext?Fr:null});var vr=1<or.majorVersion?br.getContext("webgl2",or):br.getContext("webgl",or);return vr?(function(Hr,Fr){var Nn=$t(Ja),Wn={Jf:Nn,attributes:Fr,version:Fr.majorVersion,ze:Hr};return Hr.canvas&&(Hr.canvas.df=Wn),Ja[Nn]=Wn,(Fr.zf===void 0||Fr.zf)&&(function(ui){if(ui||(ui=Pr),!ui.Lf){ui.Lf=!0;var pi=ui.ze;(function(Kn){var Li=Kn.getExtension("ANGLE_instanced_arrays");Li&&(Kn.vertexAttribDivisor=function(We,nt){Li.vertexAttribDivisorANGLE(We,nt)},Kn.drawArraysInstanced=function(We,nt,ft,Rt){Li.drawArraysInstancedANGLE(We,nt,ft,Rt)},Kn.drawElementsInstanced=function(We,nt,ft,Rt,Lt){Li.drawElementsInstancedANGLE(We,nt,ft,Rt,Lt)})})(pi),(function(Kn){var Li=Kn.getExtension("OES_vertex_array_object");Li&&(Kn.createVertexArray=function(){return Li.createVertexArrayOES()},Kn.deleteVertexArray=function(We){Li.deleteVertexArrayOES(We)},Kn.bindVertexArray=function(We){Li.bindVertexArrayOES(We)},Kn.isVertexArray=function(We){return Li.isVertexArrayOES(We)})})(pi),(function(Kn){var Li=Kn.getExtension("WEBGL_draw_buffers");Li&&(Kn.drawBuffers=function(We,nt){Li.drawBuffersWEBGL(We,nt)})})(pi),pi.hf=pi.getExtension("WEBGL_draw_instanced_base_vertex_base_instance"),pi.lf=pi.getExtension("WEBGL_multi_draw_instanced_base_vertex_base_instance"),2<=ui.version&&(pi.jf=pi.getExtension("EXT_disjoint_timer_query_webgl2")),(2>ui.version||!pi.jf)&&(pi.jf=pi.getExtension("EXT_disjoint_timer_query")),pi.hg=pi.getExtension("WEBGL_multi_draw"),(pi.getSupportedExtensions()||[]).forEach((function(Kn){Kn.includes("lose_context")||Kn.includes("debug")||pi.getExtension(Kn)}))}})(Wn),Nn})(vr,or):0})(mt,Qt),mt?(Sr(mt),mt):0},Ne.deleteContext=function(mt){Pr===Ja[mt]&&(Pr=null),typeof JSEvents=="object"&&JSEvents.jg(Ja[mt].ze.canvas),Ja[mt]&&Ja[mt].ze.canvas&&(Ja[mt].ze.canvas.df=void 0),Ja[mt]=null},Ne.MakeWebGLCanvasSurface=function(mt,At,Qt){At=At||null;var br=mt,or=typeof OffscreenCanvas<"u"&&br instanceof OffscreenCanvas;if(!(typeof HTMLCanvasElement<"u"&&br instanceof HTMLCanvasElement||or||(br=document.getElementById(mt),br)))throw"Canvas with id "+mt+" was not found";if(!(mt=this.GetWebGLContext(br,Qt))||0>mt)throw"failed to create webgl context: err "+mt;return Qt=this.MakeGrContext(mt),(At=this.MakeOnScreenGLSurface(Qt,br.width,br.height,At))?(At.de=mt,At.grContext=Qt,At.openGLversion=br.df.version,At):(At=br.cloneNode(!0),br.parentNode.replaceChild(At,br),At.classList.add("ck-replaced"),Ne.MakeSWCanvasSurface(At))},Ne.MakeCanvasSurface=Ne.MakeWebGLCanvasSurface}))})(O),(function(Ne){function at(St,xt,Ht,hr,Kr){for(var Sn=0;Sn<St.length;Sn++)xt[Sn*Ht+(Sn*Kr+hr+Ht)%Ht]=St[Sn];return xt}function mt(St){for(var xt=St*St,Ht=Array(xt);xt--;)Ht[xt]=xt%(St+1)==0?1:0;return Ht}function At(St){return!!St&&St.constructor===Float32Array&&St.length===4}function Qt(St){return(vr(255*St[3])<<24|vr(255*St[0])<<16|vr(255*St[1])<<8|vr(255*St[2])<<0)>>>0}function br(St){if(St instanceof Float32Array){for(var xt=Math.floor(St.length/4),Ht=new Uint32Array(xt),hr=0;hr<xt;hr++)Ht[hr]=Qt(St.slice(4*hr,4*(hr+1)));return Ht}return St instanceof Uint32Array?St:St instanceof Array&&St[0]instanceof Float32Array?St.map(Qt):void 0}function or(St){if(St===void 0)return 1;var xt=parseFloat(St);return St&&St.indexOf("%")!==-1?xt/100:xt}function vr(St){return Math.round(Math.max(0,Math.min(St||0,255)))}function Hr(St,xt){xt&&!xt._ck&&Ne._free(St)}function Fr(St,xt,Ht){if(!St||!St.length)return Qi;if(St._ck)return St.byteOffset;var hr=Ne[xt].BYTES_PER_ELEMENT;return Ht||(Ht=Ne._malloc(St.length*hr)),Ne[xt].set(St,Ht/hr),Ht}function Nn(St){var xt={Ud:Qi,count:St.length,colorType:Ne.ColorType.RGBA_F32};if(St instanceof Float32Array)xt.Ud=Fr(St,"HEAPF32"),xt.count=St.length/4;else if(St instanceof Uint32Array)xt.Ud=Fr(St,"HEAPU32"),xt.colorType=Ne.ColorType.RGBA_8888;else{if(!(St instanceof Array))throw"Invalid argument to copyFlexibleColorArray, Not a color array "+typeof St;if(St&&St.length){for(var Ht=Ne._malloc(16*St.length),hr=0,Kr=Ht/4,Sn=0;Sn<St.length;Sn++)for(var Xn=0;4>Xn;Xn++)Ne.HEAPF32[Kr+hr]=St[Sn][Xn],hr++;St=Ht}else St=Qi;xt.Ud=St}return xt}function Wn(St){if(!St)return Qi;if(St.length){if(St.length===6||St.length===9)return Fr(St,"HEAPF32",dn),St.length===6&&Ne.HEAPF32.set(Pa,6+dn/4),dn;if(St.length===16){var xt=Ut.toTypedArray();return xt[0]=St[0],xt[1]=St[1],xt[2]=St[3],xt[3]=St[4],xt[4]=St[5],xt[5]=St[7],xt[6]=St[12],xt[7]=St[13],xt[8]=St[15],dn}throw"invalid matrix size"}return(xt=Ut.toTypedArray())[0]=St.m11,xt[1]=St.m21,xt[2]=St.m41,xt[3]=St.m12,xt[4]=St.m22,xt[5]=St.m42,xt[6]=St.m14,xt[7]=St.m24,xt[8]=St.m44,dn}function ui(St){for(var xt=Array(16),Ht=0;16>Ht;Ht++)xt[Ht]=Ne.HEAPF32[St/4+Ht];return xt}function pi(St,xt){return Fr(St,"HEAPF32",Rn)}function Kn(St,xt,Ht,hr){var Kr=qt.toTypedArray();return Kr[0]=St,Kr[1]=xt,Kr[2]=Ht,Kr[3]=hr,Rn}function Li(St){for(var xt=new Float32Array(4),Ht=0;4>Ht;Ht++)xt[Ht]=Ne.HEAPF32[St/4+Ht];return xt}function We(St,xt){return Fr(St,"HEAPF32",xt||ni)}function nt(St,xt){return Fr(St,"HEAPF32",xt||eo)}function ft(){for(var St=0,xt=0;xt<arguments.length-1;xt+=2)St+=arguments[xt]*arguments[xt+1];return St}function Rt(St,xt,Ht){for(var hr=Array(St.length),Kr=0;Kr<Ht;Kr++)for(var Sn=0;Sn<Ht;Sn++){for(var Xn=0,hi=0;hi<Ht;hi++)Xn+=St[Ht*Kr+hi]*xt[Ht*hi+Sn];hr[Kr*Ht+Sn]=Xn}return hr}function Lt(St,xt){for(var Ht=Rt(xt[0],xt[1],St),hr=2;hr<xt.length;)Ht=Rt(Ht,xt[hr],St),hr++;return Ht}Ne.Color=function(St,xt,Ht,hr){return hr===void 0&&(hr=1),Ne.Color4f(vr(St)/255,vr(xt)/255,vr(Ht)/255,hr)},Ne.ColorAsInt=function(St,xt,Ht,hr){return hr===void 0&&(hr=255),(vr(hr)<<24|vr(St)<<16|vr(xt)<<8|vr(Ht)<<0&268435455)>>>0},Ne.Color4f=function(St,xt,Ht,hr){return hr===void 0&&(hr=1),Float32Array.of(St,xt,Ht,hr)},Object.defineProperty(Ne,"TRANSPARENT",{get:function(){return Ne.Color4f(0,0,0,0)}}),Object.defineProperty(Ne,"BLACK",{get:function(){return Ne.Color4f(0,0,0,1)}}),Object.defineProperty(Ne,"WHITE",{get:function(){return Ne.Color4f(1,1,1,1)}}),Object.defineProperty(Ne,"RED",{get:function(){return Ne.Color4f(1,0,0,1)}}),Object.defineProperty(Ne,"GREEN",{get:function(){return Ne.Color4f(0,1,0,1)}}),Object.defineProperty(Ne,"BLUE",{get:function(){return Ne.Color4f(0,0,1,1)}}),Object.defineProperty(Ne,"YELLOW",{get:function(){return Ne.Color4f(1,1,0,1)}}),Object.defineProperty(Ne,"CYAN",{get:function(){return Ne.Color4f(0,1,1,1)}}),Object.defineProperty(Ne,"MAGENTA",{get:function(){return Ne.Color4f(1,0,1,1)}}),Ne.getColorComponents=function(St){return[Math.floor(255*St[0]),Math.floor(255*St[1]),Math.floor(255*St[2]),St[3]]},Ne.parseColorString=function(St,xt){if((St=St.toLowerCase()).startsWith("#")){switch(xt=255,St.length){case 9:xt=parseInt(St.slice(7,9),16);case 7:var Ht=parseInt(St.slice(1,3),16),hr=parseInt(St.slice(3,5),16),Kr=parseInt(St.slice(5,7),16);break;case 5:xt=17*parseInt(St.slice(4,5),16);case 4:Ht=17*parseInt(St.slice(1,2),16),hr=17*parseInt(St.slice(2,3),16),Kr=17*parseInt(St.slice(3,4),16)}return Ne.Color(Ht,hr,Kr,xt/255)}return St.startsWith("rgba")?(St=(St=St.slice(5,-1)).split(","),Ne.Color(+St[0],+St[1],+St[2],or(St[3]))):St.startsWith("rgb")?(St=(St=St.slice(4,-1)).split(","),Ne.Color(+St[0],+St[1],+St[2],or(St[3]))):St.startsWith("gray(")||St.startsWith("hsl")||!xt||(St=xt[St])===void 0?Ne.BLACK:St},Ne.multiplyByAlpha=function(St,xt){return(St=St.slice())[3]=Math.max(0,Math.min(St[3]*xt,1)),St},Ne.Malloc=function(St,xt){var Ht=Ne._malloc(xt*St.BYTES_PER_ELEMENT);return{_ck:!0,length:xt,byteOffset:Ht,he:null,subarray:function(hr,Kr){return(hr=this.toTypedArray().subarray(hr,Kr))._ck=!0,hr},toTypedArray:function(){return this.he&&this.he.length||(this.he=new St(Ne.HEAPU8.buffer,Ht,xt),this.he._ck=!0),this.he}}},Ne.Free=function(St){Ne._free(St.byteOffset),St.byteOffset=Qi,St.toTypedArray=null,St.he=null};var Ut,rr,qt,Tr,Lr,zr,rn,mn,on,Cn,dn=Qi,$n=Qi,Rn=Qi,ni=Qi,_i=Qi,di=Qi,Pi=Qi,Ki=Qi,eo=Qi,La=Qi,Pa=Float32Array.of(0,0,1),Go={};Ne.ie=function(){this.ce=[],this.Jd=null,Object.defineProperty(this,"length",{enumerable:!0,get:function(){return this.ce.length/4}})},Ne.ie.prototype.push=function(St,xt,Ht,hr){this.Jd||this.ce.push(St,xt,Ht,hr)},Ne.ie.prototype.set=function(St,xt,Ht,hr,Kr){0>St||St>=this.ce.length/4||(St*=4,this.Jd?(St=this.Jd/4+St,Ne.HEAPF32[St]=xt,Ne.HEAPF32[St+1]=Ht,Ne.HEAPF32[St+2]=hr,Ne.HEAPF32[St+3]=Kr):(this.ce[St]=xt,this.ce[St+1]=Ht,this.ce[St+2]=hr,this.ce[St+3]=Kr))},Ne.ie.prototype.build=function(){return this.Jd?this.Jd:this.Jd=Fr(this.ce,"HEAPF32")},Ne.ie.prototype.delete=function(){this.Jd&&(Ne._free(this.Jd),this.Jd=null)},Ne.Ae=function(){this.Fe=[],this.Jd=null,Object.defineProperty(this,"length",{enumerable:!0,get:function(){return this.Fe.length}})},Ne.Ae.prototype.push=function(St){this.Jd||this.Fe.push(St)},Ne.Ae.prototype.set=function(St,xt){0>St||St>=this.Fe.length||(St*=4,this.Jd?Ne.HEAPU32[this.Jd/4+St]=xt:this.Fe[St]=xt)},Ne.Ae.prototype.build=function(){return this.Jd?this.Jd:this.Jd=Fr(this.Fe,"HEAPU32")},Ne.Ae.prototype.delete=function(){this.Jd&&(Ne._free(this.Jd),this.Jd=null)},Ne.RectBuilder=Ne.ie,Ne.RSXFormBuilder=Ne.ie,Ne.ColorBuilder=Ne.Ae;var Qi=0,_s=!new Function("try {return this===window;}catch(e){ return false;}")();Ne.onRuntimeInitialized=function(){function St(xt,Ht,hr,Kr,Sn,Xn){Xn||(Xn=4*Kr.width,Kr.colorType===Ne.ColorType.RGBA_F16?Xn*=2:Kr.colorType===Ne.ColorType.RGBA_F32&&(Xn*=4));var hi=Xn*Kr.height,Di=Sn?Sn.byteOffset:Ne._malloc(hi);if(!xt._readPixels(Kr,Di,Xn,Ht,hr))return Sn||Ne._free(Di),null;if(Sn)return Sn.toTypedArray();switch(Kr.colorType){case Ne.ColorType.RGBA_8888:case Ne.ColorType.RGBA_F16:xt=new Uint8Array(Ne.HEAPU8.buffer,Di,hi).slice();break;case Ne.ColorType.RGBA_F32:xt=new Float32Array(Ne.HEAPU8.buffer,Di,hi).slice();break;default:return null}return Ne._free(Di),xt}qt=Ne.Malloc(Float32Array,4),Rn=qt.byteOffset,rr=Ne.Malloc(Float32Array,16),$n=rr.byteOffset,Ut=Ne.Malloc(Float32Array,9),dn=Ut.byteOffset,on=Ne.Malloc(Float32Array,12),eo=on.byteOffset,Cn=Ne.Malloc(Float32Array,12),La=Cn.byteOffset,Tr=Ne.Malloc(Float32Array,4),ni=Tr.byteOffset,Lr=Ne.Malloc(Float32Array,4),_i=Lr.byteOffset,zr=Ne.Malloc(Float32Array,3),di=zr.byteOffset,rn=Ne.Malloc(Float32Array,3),Pi=rn.byteOffset,mn=Ne.Malloc(Int32Array,4),Ki=mn.byteOffset,Ne.ColorSpace.SRGB=Ne.ColorSpace._MakeSRGB(),Ne.ColorSpace.DISPLAY_P3=Ne.ColorSpace._MakeDisplayP3(),Ne.ColorSpace.ADOBE_RGB=Ne.ColorSpace._MakeAdobeRGB(),Ne.Path.MakeFromCmds=function(xt){for(var Ht=0,hr=0;hr<xt.length;hr++)Ht+=xt[hr].length;if(Go[Ht])var Kr=Go[Ht];else Kr=new Float32Array(Ht),Go[Ht]=Kr;var Sn=0;for(hr=0;hr<xt.length;hr++)for(var Xn=0;Xn<xt[hr].length;Xn++)Kr[Sn]=xt[hr][Xn],Sn++;return xt=[Fr(Kr,"HEAPF32"),Ht],Ht=Ne.Path._MakeFromCmds(xt[0],xt[1]),Ne._free(xt[0]),Ht},Ne.Path.MakeFromVerbsPointsWeights=function(xt,Ht,hr){var Kr=Fr(xt,"HEAPU8"),Sn=Fr(Ht,"HEAPF32"),Xn=Fr(hr,"HEAPF32"),hi=Ne.Path._MakeFromVerbsPointsWeights(Kr,xt.length,Sn,Ht.length,Xn,hr&&hr.length||0);return Hr(Kr,xt),Hr(Sn,Ht),Hr(Xn,hr),hi},Ne.Path.prototype.addArc=function(xt,Ht,hr){return xt=We(xt),this._addArc(xt,Ht,hr),this},Ne.Path.prototype.addOval=function(xt,Ht,hr){return hr===void 0&&(hr=1),xt=We(xt),this._addOval(xt,!!Ht,hr),this},Ne.Path.prototype.addPath=function(){var xt=Array.prototype.slice.call(arguments),Ht=xt[0],hr=!1;if(typeof xt[xt.length-1]=="boolean"&&(hr=xt.pop()),xt.length===1)this._addPath(Ht,1,0,0,0,1,0,0,0,1,hr);else if(xt.length===2)xt=xt[1],this._addPath(Ht,xt[0],xt[1],xt[2],xt[3],xt[4],xt[5],xt[6]||0,xt[7]||0,xt[8]||1,hr);else{if(xt.length!==7&&xt.length!==10)return null;this._addPath(Ht,xt[1],xt[2],xt[3],xt[4],xt[5],xt[6],xt[7]||0,xt[8]||0,xt[9]||1,hr)}return this},Ne.Path.prototype.addPoly=function(xt,Ht){var hr=Fr(xt,"HEAPF32");return this._addPoly(hr,xt.length/2,Ht),Hr(hr,xt),this},Ne.Path.prototype.addRect=function(xt,Ht){return xt=We(xt),this._addRect(xt,!!Ht),this},Ne.Path.prototype.addRRect=function(xt,Ht){return xt=nt(xt),this._addRRect(xt,!!Ht),this},Ne.Path.prototype.addVerbsPointsWeights=function(xt,Ht,hr){var Kr=Fr(xt,"HEAPU8"),Sn=Fr(Ht,"HEAPF32"),Xn=Fr(hr,"HEAPF32");this._addVerbsPointsWeights(Kr,xt.length,Sn,Ht.length,Xn,hr&&hr.length||0),Hr(Kr,xt),Hr(Sn,Ht),Hr(Xn,hr)},Ne.Path.prototype.arc=function(xt,Ht,hr,Kr,Sn,Xn){return xt=Ne.LTRBRect(xt-hr,Ht-hr,xt+hr,Ht+hr),Sn=(Sn-Kr)/Math.PI*180-360*!!Xn,(Xn=new Ne.Path).addArc(xt,Kr/Math.PI*180,Sn),this.addPath(Xn,!0),Xn.delete(),this},Ne.Path.prototype.arcToOval=function(xt,Ht,hr,Kr){return xt=We(xt),this._arcToOval(xt,Ht,hr,Kr),this},Ne.Path.prototype.arcToRotated=function(xt,Ht,hr,Kr,Sn,Xn,hi){return this._arcToRotated(xt,Ht,hr,!!Kr,!!Sn,Xn,hi),this},Ne.Path.prototype.arcToTangent=function(xt,Ht,hr,Kr,Sn){return this._arcToTangent(xt,Ht,hr,Kr,Sn),this},Ne.Path.prototype.close=function(){return this._close(),this},Ne.Path.prototype.conicTo=function(xt,Ht,hr,Kr,Sn){return this._conicTo(xt,Ht,hr,Kr,Sn),this},Ne.Path.prototype.computeTightBounds=function(xt){this._computeTightBounds(ni);var Ht=Tr.toTypedArray();return xt?(xt.set(Ht),xt):Ht.slice()},Ne.Path.prototype.cubicTo=function(xt,Ht,hr,Kr,Sn,Xn){return this._cubicTo(xt,Ht,hr,Kr,Sn,Xn),this},Ne.Path.prototype.dash=function(xt,Ht,hr){return this._dash(xt,Ht,hr)?this:null},Ne.Path.prototype.getBounds=function(xt){this._getBounds(ni);var Ht=Tr.toTypedArray();return xt?(xt.set(Ht),xt):Ht.slice()},Ne.Path.prototype.lineTo=function(xt,Ht){return this._lineTo(xt,Ht),this},Ne.Path.prototype.moveTo=function(xt,Ht){return this._moveTo(xt,Ht),this},Ne.Path.prototype.offset=function(xt,Ht){return this._transform(1,0,xt,0,1,Ht,0,0,1),this},Ne.Path.prototype.quadTo=function(xt,Ht,hr,Kr){return this._quadTo(xt,Ht,hr,Kr),this},Ne.Path.prototype.rArcTo=function(xt,Ht,hr,Kr,Sn,Xn,hi){return this._rArcTo(xt,Ht,hr,Kr,Sn,Xn,hi),this},Ne.Path.prototype.rConicTo=function(xt,Ht,hr,Kr,Sn){return this._rConicTo(xt,Ht,hr,Kr,Sn),this},Ne.Path.prototype.rCubicTo=function(xt,Ht,hr,Kr,Sn,Xn){return this._rCubicTo(xt,Ht,hr,Kr,Sn,Xn),this},Ne.Path.prototype.rLineTo=function(xt,Ht){return this._rLineTo(xt,Ht),this},Ne.Path.prototype.rMoveTo=function(xt,Ht){return this._rMoveTo(xt,Ht),this},Ne.Path.prototype.rQuadTo=function(xt,Ht,hr,Kr){return this._rQuadTo(xt,Ht,hr,Kr),this},Ne.Path.prototype.stroke=function(xt){return(xt=xt||{}).width=xt.width||1,xt.miter_limit=xt.miter_limit||4,xt.cap=xt.cap||Ne.StrokeCap.Butt,xt.join=xt.join||Ne.StrokeJoin.Miter,xt.precision=xt.precision||1,this._stroke(xt)?this:null},Ne.Path.prototype.transform=function(){if(arguments.length===1){var xt=arguments[0];this._transform(xt[0],xt[1],xt[2],xt[3],xt[4],xt[5],xt[6]||0,xt[7]||0,xt[8]||1)}else{if(arguments.length!==6&&arguments.length!==9)throw"transform expected to take 1 or 9 arguments. Got "+arguments.length;xt=arguments,this._transform(xt[0],xt[1],xt[2],xt[3],xt[4],xt[5],xt[6]||0,xt[7]||0,xt[8]||1)}return this},Ne.Path.prototype.trim=function(xt,Ht,hr){return this._trim(xt,Ht,!!hr)?this:null},Ne.Image.prototype.makeShaderCubic=function(xt,Ht,hr,Kr,Sn){return Sn=Wn(Sn),this._makeShaderCubic(xt,Ht,hr,Kr,Sn)},Ne.Image.prototype.makeShaderOptions=function(xt,Ht,hr,Kr,Sn){return Sn=Wn(Sn),this._makeShaderOptions(xt,Ht,hr,Kr,Sn)},Ne.Image.prototype.readPixels=function(xt,Ht,hr,Kr,Sn){return St(this,xt,Ht,hr,Kr,Sn)},Ne.Canvas.prototype.clear=function(xt){xt=pi(xt),this._clear(xt)},Ne.Canvas.prototype.clipRRect=function(xt,Ht,hr){xt=nt(xt),this._clipRRect(xt,Ht,hr)},Ne.Canvas.prototype.clipRect=function(xt,Ht,hr){xt=We(xt),this._clipRect(xt,Ht,hr)},Ne.Canvas.prototype.concat=function(xt){xt=(function(Ht){if(!Ht)return Qi;var hr=rr.toTypedArray();if(Ht.length){if(Ht.length!==16&&Ht.length!==6&&Ht.length!==9)throw"invalid matrix size";return Ht.length===16?Fr(Ht,"HEAPF32",$n):(hr.fill(0),hr[0]=Ht[0],hr[1]=Ht[1],hr[3]=Ht[2],hr[4]=Ht[3],hr[5]=Ht[4],hr[7]=Ht[5],hr[12]=Ht[6],hr[13]=Ht[7],hr[15]=Ht[8],Ht.length===6&&(hr[12]=0,hr[13]=0,hr[15]=1),$n)}return hr[0]=Ht.m11,hr[1]=Ht.m21,hr[2]=Ht.m31,hr[3]=Ht.m41,hr[4]=Ht.m12,hr[5]=Ht.m22,hr[6]=Ht.m32,hr[7]=Ht.m42,hr[8]=Ht.m13,hr[9]=Ht.m23,hr[10]=Ht.m33,hr[11]=Ht.m43,hr[12]=Ht.m14,hr[13]=Ht.m24,hr[14]=Ht.m34,hr[15]=Ht.m44,$n})(xt),this._concat(xt)},Ne.Canvas.prototype.drawArc=function(xt,Ht,hr,Kr,Sn){xt=We(xt),this._drawArc(xt,Ht,hr,Kr,Sn)},Ne.Canvas.prototype.drawAtlas=function(xt,Ht,hr,Kr,Sn,Xn,hi){if(xt&&Kr&&Ht&&hr&&Ht.length===hr.length){Sn||(Sn=Ne.BlendMode.SrcOver);var Di=Ht.build?Ht.build():Fr(Ht,"HEAPF32");if(hr.build)var ki=hr.build(),na=hr.length;else ki=Fr(hr,"HEAPF32"),na=hr.length/4;var Xi=Qi;if(Xn&&(Xi=Xn.build?Xn.build():Fr(br(Xn),"HEAPU32")),hi&&"B"in hi&&"C"in hi)this._drawAtlasCubic(xt,ki,Di,Xi,na,Sn,hi.B,hi.C,Kr);else{let Ia=Ne.FilterMode.Linear,uo=Ne.MipmapMode.None;hi&&(Ia=hi.filter,"mipmap"in hi&&(uo=hi.mipmap)),this._drawAtlasOptions(xt,ki,Di,Xi,na,Sn,Ia,uo,Kr)}Di&&!Ht.build&&Hr(Di,Ht),ki&&!hr.build&&Hr(ki,hr),Xi&&!Xn.build&&Hr(Xi,Xn)}},Ne.Canvas.prototype.drawColor=function(xt,Ht){xt=pi(xt),Ht!==void 0?this._drawColor(xt,Ht):this._drawColor(xt)},Ne.Canvas.prototype.drawColorComponents=function(xt,Ht,hr,Kr,Sn){xt=Kn(xt,Ht,hr,Kr),Sn!==void 0?this._drawColor(xt,Sn):this._drawColor(xt)},Ne.Canvas.prototype.drawDRRect=function(xt,Ht,hr){xt=nt(xt,eo),Ht=nt(Ht,La),this._drawDRRect(xt,Ht,hr)},Ne.Canvas.prototype.drawImageNine=function(xt,Ht,hr,Kr,Sn){Ht=Fr(Ht,"HEAP32",Ki),hr=We(hr),this._drawImageNine(xt,Ht,hr,Kr,Sn||null)},Ne.Canvas.prototype.drawImageRect=function(xt,Ht,hr,Kr,Sn){We(Ht,ni),We(hr,_i),this._drawImageRect(xt,ni,_i,Kr,!!Sn)},Ne.Canvas.prototype.drawImageRectCubic=function(xt,Ht,hr,Kr,Sn,Xn){We(Ht,ni),We(hr,_i),this._drawImageRectCubic(xt,ni,_i,Kr,Sn,Xn||null)},Ne.Canvas.prototype.drawImageRectOptions=function(xt,Ht,hr,Kr,Sn,Xn){We(Ht,ni),We(hr,_i),this._drawImageRectOptions(xt,ni,_i,Kr,Sn,Xn||null)},Ne.Canvas.prototype.drawOval=function(xt,Ht){xt=We(xt),this._drawOval(xt,Ht)},Ne.Canvas.prototype.drawPoints=function(xt,Ht,hr){var Kr=Fr(Ht,"HEAPF32");this._drawPoints(xt,Kr,Ht.length/2,hr),Hr(Kr,Ht)},Ne.Canvas.prototype.drawRRect=function(xt,Ht){xt=nt(xt),this._drawRRect(xt,Ht)},Ne.Canvas.prototype.drawRect=function(xt,Ht){xt=We(xt),this._drawRect(xt,Ht)},Ne.Canvas.prototype.drawShadow=function(xt,Ht,hr,Kr,Sn,Xn,hi){var Di=Fr(Sn,"HEAPF32"),ki=Fr(Xn,"HEAPF32");Ht=Fr(Ht,"HEAPF32",di),hr=Fr(hr,"HEAPF32",Pi),this._drawShadow(xt,Ht,hr,Kr,Di,ki,hi),Hr(Di,Sn),Hr(ki,Xn)},Ne.getShadowLocalBounds=function(xt,Ht,hr,Kr,Sn,Xn,hi){return xt=Wn(xt),hr=Fr(hr,"HEAPF32",di),Kr=Fr(Kr,"HEAPF32",Pi),this._getShadowLocalBounds(xt,Ht,hr,Kr,Sn,Xn,ni)?(Ht=Tr.toTypedArray(),hi?(hi.set(Ht),hi):Ht.slice()):null},Ne.Canvas.prototype.getLocalToDevice=function(){return this._getLocalToDevice($n),ui($n)},Ne.Canvas.prototype.findMarkedCTM=function(xt){return this._findMarkedCTM(xt,$n)?ui($n):null},Ne.Canvas.prototype.getTotalMatrix=function(){this._getTotalMatrix(dn);for(var xt=Array(9),Ht=0;9>Ht;Ht++)xt[Ht]=Ne.HEAPF32[dn/4+Ht];return xt},Ne.Canvas.prototype.readPixels=function(xt,Ht,hr,Kr,Sn){return St(this,xt,Ht,hr,Kr,Sn)},Ne.Canvas.prototype.saveLayer=function(xt,Ht,hr,Kr){return Ht=We(Ht),this._saveLayer(xt||null,Ht,hr||null,Kr||0)},Ne.Canvas.prototype.writePixels=function(xt,Ht,hr,Kr,Sn,Xn,hi,Di){if(xt.byteLength%(Ht*hr))throw"pixels length must be a multiple of the srcWidth * srcHeight";var ki=xt.byteLength/(Ht*hr);Xn=Xn||Ne.AlphaType.Unpremul,hi=hi||Ne.ColorType.RGBA_8888,Di=Di||Ne.ColorSpace.SRGB;var na=ki*Ht;return ki=Fr(xt,"HEAPU8"),Ht=this._writePixels({width:Ht,height:hr,colorType:hi,alphaType:Xn,colorSpace:Di},ki,na,Kr,Sn),Hr(ki,xt),Ht},Ne.ColorFilter.MakeBlend=function(xt,Ht){return xt=pi(xt),Ne.ColorFilter._MakeBlend(xt,Ht)},Ne.ColorFilter.MakeMatrix=function(xt){if(!xt||xt.length!==20)throw"invalid color matrix";var Ht=Fr(xt,"HEAPF32"),hr=Ne.ColorFilter._makeMatrix(Ht);return Hr(Ht,xt),hr},Ne.ContourMeasure.prototype.getPosTan=function(xt,Ht){return this._getPosTan(xt,ni),xt=Tr.toTypedArray(),Ht?(Ht.set(xt),Ht):xt.slice()},Ne.ImageFilter.MakeMatrixTransform=function(xt,Ht,hr){return xt=Wn(xt),Ne.ImageFilter._MakeMatrixTransform(xt,Ht,hr)},Ne.Paint.prototype.getColor=function(){return this._getColor(Rn),Li(Rn)},Ne.Paint.prototype.setColor=function(xt,Ht){Ht=Ht||null,xt=pi(xt),this._setColor(xt,Ht)},Ne.Paint.prototype.setColorComponents=function(xt,Ht,hr,Kr,Sn){Sn=Sn||null,xt=Kn(xt,Ht,hr,Kr),this._setColor(xt,Sn)},Ne.Path.prototype.getPoint=function(xt,Ht){return this._getPoint(xt,ni),xt=Tr.toTypedArray(),Ht?(Ht[0]=xt[0],Ht[1]=xt[1],Ht):xt.slice(0,2)},Ne.PictureRecorder.prototype.beginRecording=function(xt){return xt=We(xt),this._beginRecording(xt)},Ne.Surface.prototype.makeImageSnapshot=function(xt){return xt=Fr(xt,"HEAP32",Ki),this._makeImageSnapshot(xt)},Ne.Surface.prototype.requestAnimationFrame=function(xt,Ht){this.Be||(this.Be=this.getCanvas()),requestAnimationFrame((function(){this.de!==void 0&&Ne.setCurrentContext(this.de),xt(this.Be),this.flush(Ht)}).bind(this))},Ne.Surface.prototype.drawOnce=function(xt,Ht){this.Be||(this.Be=this.getCanvas()),requestAnimationFrame((function(){this.de!==void 0&&Ne.setCurrentContext(this.de),xt(this.Be),this.flush(Ht),this.dispose()}).bind(this))},Ne.PathEffect.MakeDash=function(xt,Ht){if(Ht||(Ht=0),!xt.length||xt.length%2==1)throw"Intervals array must have even length";var hr=Fr(xt,"HEAPF32");return Ht=Ne.PathEffect._MakeDash(hr,xt.length,Ht),Hr(hr,xt),Ht},Ne.Shader.MakeColor=function(xt,Ht){return Ht=Ht||null,xt=pi(xt),Ne.Shader._MakeColor(xt,Ht)},Ne.Shader.Blend=Ne.Shader.MakeBlend,Ne.Shader.Color=Ne.Shader.MakeColor,Ne.Shader.Lerp=Ne.Shader.MakeLerp,Ne.Shader.MakeLinearGradient=function(xt,Ht,hr,Kr,Sn,Xn,hi,Di){Di=Di||null;var ki=Nn(hr),na=Fr(Kr,"HEAPF32");hi=hi||0,Xn=Wn(Xn);var Xi=Tr.toTypedArray();return Xi.set(xt),Xi.set(Ht,2),xt=Ne.Shader._MakeLinearGradient(ni,ki.Ud,ki.colorType,na,ki.count,Sn,hi,Xn,Di),Hr(ki.Ud,hr),Kr&&Hr(na,Kr),xt},Ne.Shader.MakeRadialGradient=function(xt,Ht,hr,Kr,Sn,Xn,hi,Di){Di=Di||null;var ki=Nn(hr),na=Fr(Kr,"HEAPF32");return hi=hi||0,Xn=Wn(Xn),xt=Ne.Shader._MakeRadialGradient(xt[0],xt[1],Ht,ki.Ud,ki.colorType,na,ki.count,Sn,hi,Xn,Di),Hr(ki.Ud,hr),Kr&&Hr(na,Kr),xt},Ne.Shader.MakeSweepGradient=function(xt,Ht,hr,Kr,Sn,Xn,hi,Di,ki,na){na=na||null;var Xi=Nn(hr),Ia=Fr(Kr,"HEAPF32");return hi=hi||0,Di=Di||0,ki=ki||360,Xn=Wn(Xn),xt=Ne.Shader._MakeSweepGradient(xt,Ht,Xi.Ud,Xi.colorType,Ia,Xi.count,Sn,Di,ki,hi,Xn,na),Hr(Xi.Ud,hr),Kr&&Hr(Ia,Kr),xt},Ne.Shader.MakeTwoPointConicalGradient=function(xt,Ht,hr,Kr,Sn,Xn,hi,Di,ki,na){na=na||null;var Xi=Nn(Sn),Ia=Fr(Xn,"HEAPF32");ki=ki||0,Di=Wn(Di);var uo=Tr.toTypedArray();return uo.set(xt),uo.set(hr,2),xt=Ne.Shader._MakeTwoPointConicalGradient(ni,Ht,Kr,Xi.Ud,Xi.colorType,Ia,Xi.count,hi,ki,Di,na),Hr(Xi.Ud,Sn),Xn&&Hr(Ia,Xn),xt},Ne.Vertices.prototype.bounds=function(xt){this._bounds(ni);var Ht=Tr.toTypedArray();return xt?(xt.set(Ht),xt):Ht.slice()},Ne.Qd&&Ne.Qd.forEach((function(xt){xt()}))},Ne.computeTonalColors=function(St){var xt=Fr(St.ambient,"HEAPF32"),Ht=Fr(St.spot,"HEAPF32");this._computeTonalColors(xt,Ht);var hr={ambient:Li(xt),spot:Li(Ht)};return Hr(xt,St.ambient),Hr(Ht,St.spot),hr},Ne.LTRBRect=function(St,xt,Ht,hr){return Float32Array.of(St,xt,Ht,hr)},Ne.XYWHRect=function(St,xt,Ht,hr){return Float32Array.of(St,xt,St+Ht,xt+hr)},Ne.LTRBiRect=function(St,xt,Ht,hr){return Int32Array.of(St,xt,Ht,hr)},Ne.XYWHiRect=function(St,xt,Ht,hr){return Int32Array.of(St,xt,St+Ht,xt+hr)},Ne.RRectXY=function(St,xt,Ht){return Float32Array.of(St[0],St[1],St[2],St[3],xt,Ht,xt,Ht,xt,Ht,xt,Ht)},Ne.MakeAnimatedImageFromEncoded=function(St){St=new Uint8Array(St);var xt=Ne._malloc(St.byteLength);return Ne.HEAPU8.set(St,xt),(St=Ne._decodeAnimatedImage(xt,St.byteLength))?St:null},Ne.MakeImageFromEncoded=function(St){St=new Uint8Array(St);var xt=Ne._malloc(St.byteLength);return Ne.HEAPU8.set(St,xt),(St=Ne._decodeImage(xt,St.byteLength))?St:null};var zo=null;Ne.MakeImageFromCanvasImageSource=function(St){var xt=St.width,Ht=St.height;zo||(zo=document.createElement("canvas")),zo.width=xt,zo.height=Ht;var hr=zo.getContext("2d");return hr.drawImage(St,0,0),St=hr.getImageData(0,0,xt,Ht),Ne.MakeImage({width:xt,height:Ht,alphaType:Ne.AlphaType.Unpremul,colorType:Ne.ColorType.RGBA_8888,colorSpace:Ne.ColorSpace.SRGB},St.data,4*xt)},Ne.MakeImage=function(St,xt,Ht){var hr=Ne._malloc(xt.length);return Ne.HEAPU8.set(xt,hr),Ne._MakeImage(St,hr,xt.length,Ht)},Ne.MakeVertices=function(St,xt,Ht,hr,Kr,Sn){var Xn=Kr&&Kr.length||0,hi=0;if(Ht&&Ht.length&&(hi|=1),hr&&hr.length&&(hi|=2),Sn===void 0||Sn||(hi|=4),Fr(xt,"HEAPF32",(St=new Ne._VerticesBuilder(St,xt.length/2,Xn,hi)).positions()),St.texCoords()&&Fr(Ht,"HEAPF32",St.texCoords()),St.colors()){if(hr.build)throw"Color builder not accepted by MakeVertices, use array of ints";Fr(br(hr),"HEAPU32",St.colors())}return St.indices()&&Fr(Kr,"HEAPU16",St.indices()),St.detach()},Ne.Matrix={},Ne.Matrix.identity=function(){return mt(3)},Ne.Matrix.invert=function(St){var xt=St[0]*St[4]*St[8]+St[1]*St[5]*St[6]+St[2]*St[3]*St[7]-St[2]*St[4]*St[6]-St[1]*St[3]*St[8]-St[0]*St[5]*St[7];return xt?[(St[4]*St[8]-St[5]*St[7])/xt,(St[2]*St[7]-St[1]*St[8])/xt,(St[1]*St[5]-St[2]*St[4])/xt,(St[5]*St[6]-St[3]*St[8])/xt,(St[0]*St[8]-St[2]*St[6])/xt,(St[2]*St[3]-St[0]*St[5])/xt,(St[3]*St[7]-St[4]*St[6])/xt,(St[1]*St[6]-St[0]*St[7])/xt,(St[0]*St[4]-St[1]*St[3])/xt]:null},Ne.Matrix.mapPoints=function(St,xt){for(var Ht=0;Ht<xt.length;Ht+=2){var hr=xt[Ht],Kr=xt[Ht+1],Sn=St[6]*hr+St[7]*Kr+St[8],Xn=St[3]*hr+St[4]*Kr+St[5];xt[Ht]=(St[0]*hr+St[1]*Kr+St[2])/Sn,xt[Ht+1]=Xn/Sn}return xt},Ne.Matrix.multiply=function(){return Lt(3,arguments)},Ne.Matrix.rotated=function(St,xt,Ht){xt=xt||0,Ht=Ht||0;var hr=Math.sin(St);return[St=Math.cos(St),-hr,ft(hr,Ht,1-St,xt),hr,St,ft(-hr,xt,1-St,Ht),0,0,1]},Ne.Matrix.scaled=function(St,xt,Ht,hr){Ht=Ht||0,hr=hr||0;var Kr=at([St,xt],mt(3),3,0,1);return at([Ht-St*Ht,hr-xt*hr],Kr,3,2,0)},Ne.Matrix.skewed=function(St,xt,Ht,hr){Ht=Ht||0,hr=hr||0;var Kr=at([St,xt],mt(3),3,1,-1);return at([-St*Ht,-xt*hr],Kr,3,2,0)},Ne.Matrix.translated=function(St,xt){return at(arguments,mt(3),3,2,0)},Ne.Vector={},Ne.Vector.dot=function(St,xt){return St.map((function(Ht,hr){return Ht*xt[hr]})).reduce((function(Ht,hr){return Ht+hr}))},Ne.Vector.lengthSquared=function(St){return Ne.Vector.dot(St,St)},Ne.Vector.length=function(St){return Math.sqrt(Ne.Vector.lengthSquared(St))},Ne.Vector.mulScalar=function(St,xt){return St.map((function(Ht){return Ht*xt}))},Ne.Vector.add=function(St,xt){return St.map((function(Ht,hr){return Ht+xt[hr]}))},Ne.Vector.sub=function(St,xt){return St.map((function(Ht,hr){return Ht-xt[hr]}))},Ne.Vector.dist=function(St,xt){return Ne.Vector.length(Ne.Vector.sub(St,xt))},Ne.Vector.normalize=function(St){return Ne.Vector.mulScalar(St,1/Ne.Vector.length(St))},Ne.Vector.cross=function(St,xt){return[St[1]*xt[2]-St[2]*xt[1],St[2]*xt[0]-St[0]*xt[2],St[0]*xt[1]-St[1]*xt[0]]},Ne.M44={},Ne.M44.identity=function(){return mt(4)},Ne.M44.translated=function(St){return at(St,mt(4),4,3,0)},Ne.M44.scaled=function(St){return at(St,mt(4),4,0,1)},Ne.M44.rotated=function(St,xt){return Ne.M44.rotatedUnitSinCos(Ne.Vector.normalize(St),Math.sin(xt),Math.cos(xt))},Ne.M44.rotatedUnitSinCos=function(St,xt,Ht){var hr=St[0],Kr=St[1],Sn=1-Ht;return[Sn*hr*hr+Ht,Sn*hr*Kr-xt*(St=St[2]),Sn*hr*St+xt*Kr,0,Sn*hr*Kr+xt*St,Sn*Kr*Kr+Ht,Sn*Kr*St-xt*hr,0,Sn*hr*St-xt*Kr,Sn*Kr*St+xt*hr,Sn*St*St+Ht,0,0,0,0,1]},Ne.M44.lookat=function(St,xt,Ht){xt=Ne.Vector.normalize(Ne.Vector.sub(xt,St)),Ht=Ne.Vector.normalize(Ht),Ht=Ne.Vector.normalize(Ne.Vector.cross(xt,Ht));var hr=Ne.M44.identity();return at(Ht,hr,4,0,0),at(Ne.Vector.cross(Ht,xt),hr,4,1,0),at(Ne.Vector.mulScalar(xt,-1),hr,4,2,0),at(St,hr,4,3,0),(St=Ne.M44.invert(hr))===null?Ne.M44.identity():St},Ne.M44.perspective=function(St,xt,Ht){var hr=1/(xt-St);return Ht/=2,[Ht=Math.cos(Ht)/Math.sin(Ht),0,0,0,0,Ht,0,0,0,0,(xt+St)*hr,2*xt*St*hr,0,0,-1,1]},Ne.M44.rc=function(St,xt,Ht){return St[4*xt+Ht]},Ne.M44.multiply=function(){return Lt(4,arguments)},Ne.M44.invert=function(St){var xt=St[0],Ht=St[4],hr=St[8],Kr=St[12],Sn=St[1],Xn=St[5],hi=St[9],Di=St[13],ki=St[2],na=St[6],Xi=St[10],Ia=St[14],uo=St[3],xo=St[7],os=St[11],mo=xt*Xn-Ht*Sn,Wo=xt*hi-hr*Sn,Ao=xt*Di-Kr*Sn,ii=Ht*hi-hr*Xn,er=Ht*Di-Kr*Xn,kr=hr*Di-Kr*hi,xn=ki*xo-na*uo,Ln=ki*os-Xi*uo,Gn=ki*(St=St[15])-Ia*uo,Jn=na*os-Xi*xo,bi=na*St-Ia*xo,oa=Xi*St-Ia*os,bo=mo*oa-Wo*bi+Ao*Jn+ii*Gn-er*Ln+kr*xn,Aa=1/bo;return bo===0||Aa===1/0?null:(xt=[Xn*(oa*=Aa)-hi*(bi*=Aa)+Di*(Jn*=Aa),hi*(Gn*=Aa)-Sn*oa-Di*(Ln*=Aa),Sn*bi-Xn*Gn+Di*(xn*=Aa),Xn*Ln-Sn*Jn-hi*xn,hr*bi-Ht*oa-Kr*Jn,xt*oa-hr*Gn+Kr*Ln,Ht*Gn-xt*bi-Kr*xn,xt*Jn-Ht*Ln+hr*xn,xo*(kr*=Aa)-os*(er*=Aa)+St*(ii*=Aa),os*(Ao*=Aa)-uo*kr-St*(Wo*=Aa),uo*er-xo*Ao+St*(mo*=Aa),xo*Wo-uo*ii-os*mo,Xi*er-na*kr-Ia*ii,ki*kr-Xi*Ao+Ia*Wo,na*Ao-ki*er-Ia*mo,ki*ii-na*Wo+Xi*mo]).every((function(Ya){return!isNaN(Ya)&&Ya!==1/0&&Ya!==-1/0}))?xt:null},Ne.M44.transpose=function(St){return[St[0],St[4],St[8],St[12],St[1],St[5],St[9],St[13],St[2],St[6],St[10],St[14],St[3],St[7],St[11],St[15]]},Ne.M44.mustInvert=function(St){if((St=Ne.M44.invert(St))===null)throw"Matrix not invertible";return St},Ne.M44.setupCamera=function(St,xt,Ht){var hr=Ne.M44.lookat(Ht.eye,Ht.coa,Ht.up);return Ht=Ne.M44.perspective(Ht.near,Ht.far,Ht.angle),xt=[(St[2]-St[0])/2,(St[3]-St[1])/2,xt],St=Ne.M44.multiply(Ne.M44.translated([(St[0]+St[2])/2,(St[1]+St[3])/2,0]),Ne.M44.scaled(xt)),Ne.M44.multiply(St,Ht,hr,Ne.M44.mustInvert(St))},Ne.ColorMatrix={},Ne.ColorMatrix.identity=function(){var St=new Float32Array(20);return St[0]=1,St[6]=1,St[12]=1,St[18]=1,St},Ne.ColorMatrix.scaled=function(St,xt,Ht,hr){var Kr=new Float32Array(20);return Kr[0]=St,Kr[6]=xt,Kr[12]=Ht,Kr[18]=hr,Kr};var Bu=[[6,7,11,12],[0,10,2,12],[0,1,5,6]];Ne.ColorMatrix.rotated=function(St,xt,Ht){var hr=Ne.ColorMatrix.identity();return hr[(St=Bu[St])[0]]=Ht,hr[St[1]]=xt,hr[St[2]]=-xt,hr[St[3]]=Ht,hr},Ne.ColorMatrix.postTranslate=function(St,xt,Ht,hr,Kr){return St[4]+=xt,St[9]+=Ht,St[14]+=hr,St[19]+=Kr,St},Ne.ColorMatrix.concat=function(St,xt){for(var Ht=new Float32Array(20),hr=0,Kr=0;20>Kr;Kr+=5){for(var Sn=0;4>Sn;Sn++)Ht[hr++]=St[Kr]*xt[Sn]+St[Kr+1]*xt[Sn+5]+St[Kr+2]*xt[Sn+10]+St[Kr+3]*xt[Sn+15];Ht[hr++]=St[Kr]*xt[4]+St[Kr+1]*xt[9]+St[Kr+2]*xt[14]+St[Kr+3]*xt[19]+St[Kr+4]}return Ht},Ne.Qd=Ne.Qd||[],Ne.Qd.push((function(){Ne.Path.prototype.op=function(St,xt){return this._op(St,xt)?this:null},Ne.Path.prototype.simplify=function(){return this._simplify()?this:null}})),Ne.Qd=Ne.Qd||[],Ne.Qd.push((function(){Ne.Canvas.prototype.drawText=function(St,xt,Ht,hr,Kr){var Sn=Ct(St),Xn=Ne._malloc(Sn+1);Dt(St,Qe,Xn,Sn+1),this._drawSimpleText(Xn,Sn,xt,Ht,Kr,hr),Ne._free(Xn)},Ne.Font.prototype.getGlyphBounds=function(St,xt,Ht){var hr=Fr(St,"HEAPU16"),Kr=Ne._malloc(16*St.length);return this._getGlyphWidthBounds(hr,St.length,Qi,Kr,xt||null),xt=new Float32Array(Ne.HEAPU8.buffer,Kr,4*St.length),Hr(hr,St),Ht?(Ht.set(xt),Ne._free(Kr),Ht):(St=Float32Array.from(xt),Ne._free(Kr),St)},Ne.Font.prototype.getGlyphIDs=function(St,xt,Ht){xt||(xt=St.length);var hr=Ct(St)+1,Kr=Ne._malloc(hr);return Dt(St,Qe,Kr,hr),St=Ne._malloc(2*xt),xt=this._getGlyphIDs(Kr,hr-1,xt,St),Ne._free(Kr),0>xt?(Ne._free(St),null):(Kr=new Uint16Array(Ne.HEAPU8.buffer,St,xt),Ht?(Ht.set(Kr),Ne._free(St),Ht):(Ht=Uint32Array.from(Kr),Ne._free(St),Ht))},Ne.Font.prototype.getGlyphWidths=function(St,xt,Ht){var hr=Fr(St,"HEAPU16"),Kr=Ne._malloc(4*St.length);return this._getGlyphWidthBounds(hr,St.length,Kr,Qi,xt||null),xt=new Float32Array(Ne.HEAPU8.buffer,Kr,St.length),Hr(hr,St),Ht?(Ht.set(xt),Ne._free(Kr),Ht):(St=Float32Array.from(xt),Ne._free(Kr),St)},Ne.FontMgr.FromData=function(){if(!arguments.length)return null;var St=arguments;if(St.length===1&&Array.isArray(St[0])&&(St=arguments[0]),!St.length)return null;for(var xt=[],Ht=[],hr=0;hr<St.length;hr++){var Kr=new Uint8Array(St[hr]),Sn=Fr(Kr,"HEAPU8");xt.push(Sn),Ht.push(Kr.byteLength)}return xt=Fr(xt,"HEAPU32"),Ht=Fr(Ht,"HEAPU32"),St=Ne.FontMgr._fromData(xt,Ht,St.length),Ne._free(xt),Ne._free(Ht),St},Ne.FontMgr.prototype.MakeTypefaceFromData=function(St){var xt=Fr(St=new Uint8Array(St),"HEAPU8");return(St=this._makeTypefaceFromData(xt,St.byteLength))?St:null},Ne.TextBlob.MakeOnPath=function(St,xt,Ht,hr){if(St&&St.length&&xt&&xt.countPoints()){if(xt.countPoints()===1)return this.MakeFromText(St,Ht);hr||(hr=0);var Kr=Ht.getGlyphIDs(St),Sn=Ht.getGlyphWidths(Kr);Kr=new Ne.RSXFormBuilder;for(var Xn=(xt=new Ne.ContourMeasureIter(xt,!1,1)).next(),hi=new Float32Array(4),Di=0;Di<St.length&&Xn;Di++){var ki=Sn[Di];if((hr+=ki/2)>Xn.length()){if(Xn.delete(),!(Xn=xt.next())){St=St.substring(0,Di);break}hr=ki/2}Xn.getPosTan(hr,hi);var na=hi[2],Xi=hi[3];Kr.push(na,Xi,hi[0]-ki/2*na,hi[1]-ki/2*Xi),hr+=ki/2}return St=this.MakeFromRSXform(St,Kr,Ht),Kr.delete(),Xn&&Xn.delete(),xt.delete(),St}},Ne.TextBlob.MakeFromRSXform=function(St,xt,Ht){var hr=Ct(St)+1,Kr=Ne._malloc(hr);return Dt(St,Qe,Kr,hr),St=xt.build?xt.build():Fr(xt,"HEAPF32"),Ht=Ne.TextBlob._MakeFromRSXform(Kr,hr-1,St,Ht),Ne._free(Kr),Ht||null},Ne.TextBlob.MakeFromRSXformGlyphs=function(St,xt,Ht){var hr=Fr(St,"HEAPU16");return xt=xt.build?xt.build():Fr(xt,"HEAPF32"),Ht=Ne.TextBlob._MakeFromRSXformGlyphs(hr,2*St.length,xt,Ht),Hr(hr,St),Ht||null},Ne.TextBlob.MakeFromGlyphs=function(St,xt){var Ht=Fr(St,"HEAPU16");return xt=Ne.TextBlob._MakeFromGlyphs(Ht,2*St.length,xt),Hr(Ht,St),xt||null},Ne.TextBlob.MakeFromText=function(St,xt){var Ht=Ct(St)+1,hr=Ne._malloc(Ht);return Dt(St,Qe,hr,Ht),St=Ne.TextBlob._MakeFromText(hr,Ht-1,xt),Ne._free(hr),St||null},Ne.MallocGlyphIDs=function(St){return Ne.Malloc(Uint16Array,St)}})),(function(){function St(ii){for(var er=0;er<ii.length;er++)if(ii[er]!==void 0&&!Number.isFinite(ii[er]))return!1;return!0}function xt(ii){var er=Ne.getColorComponents(ii);ii=er[0];var kr=er[1],xn=er[2];return(er=er[3])===1?(ii=ii.toString(16).toLowerCase(),kr=kr.toString(16).toLowerCase(),xn=xn.toString(16).toLowerCase(),"#"+(ii=ii.length===1?"0"+ii:ii)+(kr=kr.length===1?"0"+kr:kr)+(xn=xn.length===1?"0"+xn:xn)):"rgba("+ii+", "+kr+", "+xn+", "+(er=er===0||er===1?er:er.toFixed(8))+")"}function Ht(ii){return Ne.parseColorString(ii,mo)}function hr(ii){if(!(ii=Wo.exec(ii)))return null;var er=parseFloat(ii[4]),kr=16;switch(ii[5]){case"em":case"rem":case"pc":kr=16*er;break;case"pt":kr=4*er/3;break;case"px":kr=er;break;case"in":kr=96*er;break;case"cm":kr=96*er/2.54;break;case"mm":kr=96/25.4*er;break;case"q":kr=96/25.4/4*er;break;case"%":kr=16/75*er}return{style:ii[1],variant:ii[2],weight:ii[3],sizePx:kr,family:ii[6].trim()}}function Kr(ii){this.Dd=ii,this.Fd=new Ne.Paint,this.Fd.setAntiAlias(!0),this.Fd.setStrokeMiter(10),this.Fd.setStrokeCap(Ne.StrokeCap.Butt),this.Fd.setStrokeJoin(Ne.StrokeJoin.Miter),this.Ke="10px monospace",this.le=new Ne.Font(null,10),this.le.setSubpixel(!0),this.Sd=this.Xd=Ne.BLACK,this.oe=0,this.De=Ne.TRANSPARENT,this.qe=this.pe=0,this.Ee=this.$d=1,this.Ce=0,this.ne=[],this.Ed=Ne.BlendMode.SrcOver,this.Fd.setStrokeWidth(this.Ee),this.Fd.setBlendMode(this.Ed),this.Hd=new Ne.Path,this.Id=Ne.Matrix.identity(),this.ef=[],this.ue=[],this.be=function(){this.Hd.delete(),this.Fd.delete(),this.le.delete(),this.ue.forEach((function(er){er.be()}))},Object.defineProperty(this,"currentTransform",{enumerable:!0,get:function(){return{a:this.Id[0],c:this.Id[1],e:this.Id[2],b:this.Id[3],d:this.Id[4],f:this.Id[5]}},set:function(er){er.a&&this.setTransform(er.a,er.b,er.c,er.d,er.e,er.f)}}),Object.defineProperty(this,"fillStyle",{enumerable:!0,get:function(){return At(this.Sd)?xt(this.Sd):this.Sd},set:function(er){typeof er=="string"?this.Sd=Ht(er):er.me&&(this.Sd=er)}}),Object.defineProperty(this,"font",{enumerable:!0,get:function(){return this.Ke},set:function(er){var kr=hr(er),xn=kr.family;kr.typeface=Ao[xn]?Ao[xn][(kr.style||"normal")+"|"+(kr.variant||"normal")+"|"+(kr.weight||"normal")]||Ao[xn]["*"]:null,kr&&(this.le.setSize(kr.sizePx),this.le.setTypeface(kr.typeface),this.Ke=er)}}),Object.defineProperty(this,"globalAlpha",{enumerable:!0,get:function(){return this.$d},set:function(er){!isFinite(er)||0>er||1<er||(this.$d=er)}}),Object.defineProperty(this,"globalCompositeOperation",{enumerable:!0,get:function(){switch(this.Ed){case Ne.BlendMode.SrcOver:return"source-over";case Ne.BlendMode.DstOver:return"destination-over";case Ne.BlendMode.Src:return"copy";case Ne.BlendMode.Dst:return"destination";case Ne.BlendMode.Clear:return"clear";case Ne.BlendMode.SrcIn:return"source-in";case Ne.BlendMode.DstIn:return"destination-in";case Ne.BlendMode.SrcOut:return"source-out";case Ne.BlendMode.DstOut:return"destination-out";case Ne.BlendMode.SrcATop:return"source-atop";case Ne.BlendMode.DstATop:return"destination-atop";case Ne.BlendMode.Xor:return"xor";case Ne.BlendMode.Plus:return"lighter";case Ne.BlendMode.Multiply:return"multiply";case Ne.BlendMode.Screen:return"screen";case Ne.BlendMode.Overlay:return"overlay";case Ne.BlendMode.Darken:return"darken";case Ne.BlendMode.Lighten:return"lighten";case Ne.BlendMode.ColorDodge:return"color-dodge";case Ne.BlendMode.ColorBurn:return"color-burn";case Ne.BlendMode.HardLight:return"hard-light";case Ne.BlendMode.SoftLight:return"soft-light";case Ne.BlendMode.Difference:return"difference";case Ne.BlendMode.Exclusion:return"exclusion";case Ne.BlendMode.Hue:return"hue";case Ne.BlendMode.Saturation:return"saturation";case Ne.BlendMode.Color:return"color";case Ne.BlendMode.Luminosity:return"luminosity"}},set:function(er){switch(er){case"source-over":this.Ed=Ne.BlendMode.SrcOver;break;case"destination-over":this.Ed=Ne.BlendMode.DstOver;break;case"copy":this.Ed=Ne.BlendMode.Src;break;case"destination":this.Ed=Ne.BlendMode.Dst;break;case"clear":this.Ed=Ne.BlendMode.Clear;break;case"source-in":this.Ed=Ne.BlendMode.SrcIn;break;case"destination-in":this.Ed=Ne.BlendMode.DstIn;break;case"source-out":this.Ed=Ne.BlendMode.SrcOut;break;case"destination-out":this.Ed=Ne.BlendMode.DstOut;break;case"source-atop":this.Ed=Ne.BlendMode.SrcATop;break;case"destination-atop":this.Ed=Ne.BlendMode.DstATop;break;case"xor":this.Ed=Ne.BlendMode.Xor;break;case"lighter":case"plus-lighter":this.Ed=Ne.BlendMode.Plus;break;case"plus-darker":throw"plus-darker is not supported";case"multiply":this.Ed=Ne.BlendMode.Multiply;break;case"screen":this.Ed=Ne.BlendMode.Screen;break;case"overlay":this.Ed=Ne.BlendMode.Overlay;break;case"darken":this.Ed=Ne.BlendMode.Darken;break;case"lighten":this.Ed=Ne.BlendMode.Lighten;break;case"color-dodge":this.Ed=Ne.BlendMode.ColorDodge;break;case"color-burn":this.Ed=Ne.BlendMode.ColorBurn;break;case"hard-light":this.Ed=Ne.BlendMode.HardLight;break;case"soft-light":this.Ed=Ne.BlendMode.SoftLight;break;case"difference":this.Ed=Ne.BlendMode.Difference;break;case"exclusion":this.Ed=Ne.BlendMode.Exclusion;break;case"hue":this.Ed=Ne.BlendMode.Hue;break;case"saturation":this.Ed=Ne.BlendMode.Saturation;break;case"color":this.Ed=Ne.BlendMode.Color;break;case"luminosity":this.Ed=Ne.BlendMode.Luminosity;break;default:return}this.Fd.setBlendMode(this.Ed)}}),Object.defineProperty(this,"imageSmoothingEnabled",{enumerable:!0,get:function(){return!0},set:function(){}}),Object.defineProperty(this,"imageSmoothingQuality",{enumerable:!0,get:function(){return"high"},set:function(){}}),Object.defineProperty(this,"lineCap",{enumerable:!0,get:function(){switch(this.Fd.getStrokeCap()){case Ne.StrokeCap.Butt:return"butt";case Ne.StrokeCap.Round:return"round";case Ne.StrokeCap.Square:return"square"}},set:function(er){switch(er){case"butt":this.Fd.setStrokeCap(Ne.StrokeCap.Butt);break;case"round":this.Fd.setStrokeCap(Ne.StrokeCap.Round);break;case"square":this.Fd.setStrokeCap(Ne.StrokeCap.Square)}}}),Object.defineProperty(this,"lineDashOffset",{enumerable:!0,get:function(){return this.Ce},set:function(er){isFinite(er)&&(this.Ce=er)}}),Object.defineProperty(this,"lineJoin",{enumerable:!0,get:function(){switch(this.Fd.getStrokeJoin()){case Ne.StrokeJoin.Miter:return"miter";case Ne.StrokeJoin.Round:return"round";case Ne.StrokeJoin.Bevel:return"bevel"}},set:function(er){switch(er){case"miter":this.Fd.setStrokeJoin(Ne.StrokeJoin.Miter);break;case"round":this.Fd.setStrokeJoin(Ne.StrokeJoin.Round);break;case"bevel":this.Fd.setStrokeJoin(Ne.StrokeJoin.Bevel)}}}),Object.defineProperty(this,"lineWidth",{enumerable:!0,get:function(){return this.Fd.getStrokeWidth()},set:function(er){0>=er||!er||(this.Ee=er,this.Fd.setStrokeWidth(er))}}),Object.defineProperty(this,"miterLimit",{enumerable:!0,get:function(){return this.Fd.getStrokeMiter()},set:function(er){0>=er||!er||this.Fd.setStrokeMiter(er)}}),Object.defineProperty(this,"shadowBlur",{enumerable:!0,get:function(){return this.oe},set:function(er){0>er||!isFinite(er)||(this.oe=er)}}),Object.defineProperty(this,"shadowColor",{enumerable:!0,get:function(){return xt(this.De)},set:function(er){this.De=Ht(er)}}),Object.defineProperty(this,"shadowOffsetX",{enumerable:!0,get:function(){return this.pe},set:function(er){isFinite(er)&&(this.pe=er)}}),Object.defineProperty(this,"shadowOffsetY",{enumerable:!0,get:function(){return this.qe},set:function(er){isFinite(er)&&(this.qe=er)}}),Object.defineProperty(this,"strokeStyle",{enumerable:!0,get:function(){return xt(this.Xd)},set:function(er){typeof er=="string"?this.Xd=Ht(er):er.me&&(this.Xd=er)}}),this.arc=function(er,kr,xn,Ln,Gn,Jn){Xi(this.Hd,er,kr,xn,xn,0,Ln,Gn,Jn)},this.arcTo=function(er,kr,xn,Ln,Gn){Di(this.Hd,er,kr,xn,Ln,Gn)},this.beginPath=function(){this.Hd.delete(),this.Hd=new Ne.Path},this.bezierCurveTo=function(er,kr,xn,Ln,Gn,Jn){var bi=this.Hd;St([er,kr,xn,Ln,Gn,Jn])&&(bi.isEmpty()&&bi.moveTo(er,kr),bi.cubicTo(er,kr,xn,Ln,Gn,Jn))},this.clearRect=function(er,kr,xn,Ln){this.Fd.setStyle(Ne.PaintStyle.Fill),this.Fd.setBlendMode(Ne.BlendMode.Clear),this.Dd.drawRect(Ne.XYWHRect(er,kr,xn,Ln),this.Fd),this.Fd.setBlendMode(this.Ed)},this.clip=function(er,kr){typeof er=="string"?(kr=er,er=this.Hd):er&&er.Te&&(er=er.Ld),er||(er=this.Hd),er=er.copy(),kr&&kr.toLowerCase()==="evenodd"?er.setFillType(Ne.FillType.EvenOdd):er.setFillType(Ne.FillType.Winding),this.Dd.clipPath(er,Ne.ClipOp.Intersect,!0),er.delete()},this.closePath=function(){ki(this.Hd)},this.createImageData=function(){if(arguments.length===1){var er=arguments[0];return new Xn(new Uint8ClampedArray(4*er.width*er.height),er.width,er.height)}if(arguments.length===2){er=arguments[0];var kr=arguments[1];return new Xn(new Uint8ClampedArray(4*er*kr),er,kr)}throw"createImageData expects 1 or 2 arguments, got "+arguments.length},this.createLinearGradient=function(er,kr,xn,Ln){if(St(arguments)){var Gn=new hi(er,kr,xn,Ln);return this.ue.push(Gn),Gn}},this.createPattern=function(er,kr){return er=new xo(er,kr),this.ue.push(er),er},this.createRadialGradient=function(er,kr,xn,Ln,Gn,Jn){if(St(arguments)){var bi=new os(er,kr,xn,Ln,Gn,Jn);return this.ue.push(bi),bi}},this.drawImage=function(er){var kr=this.Je();if(arguments.length===3||arguments.length===5)var xn=Ne.XYWHRect(arguments[1],arguments[2],arguments[3]||er.width(),arguments[4]||er.height()),Ln=Ne.XYWHRect(0,0,er.width(),er.height());else{if(arguments.length!==9)throw"invalid number of args for drawImage, need 3, 5, or 9; got "+arguments.length;xn=Ne.XYWHRect(arguments[5],arguments[6],arguments[7],arguments[8]),Ln=Ne.XYWHRect(arguments[1],arguments[2],arguments[3],arguments[4])}this.Dd.drawImageRect(er,Ln,xn,kr,!1),kr.dispose()},this.ellipse=function(er,kr,xn,Ln,Gn,Jn,bi,oa){Xi(this.Hd,er,kr,xn,Ln,Gn,Jn,bi,oa)},this.Je=function(){var er=this.Fd.copy();if(er.setStyle(Ne.PaintStyle.Fill),At(this.Sd)){var kr=Ne.multiplyByAlpha(this.Sd,this.$d);er.setColor(kr)}else kr=this.Sd.me(this.Id),er.setColor(Ne.Color(0,0,0,this.$d)),er.setShader(kr);return er.dispose=function(){this.delete()},er},this.fill=function(er,kr){if(typeof er=="string"?(kr=er,er=this.Hd):er&&er.Te&&(er=er.Ld),kr==="evenodd")this.Hd.setFillType(Ne.FillType.EvenOdd);else{if(kr!=="nonzero"&&kr)throw"invalid fill rule";this.Hd.setFillType(Ne.FillType.Winding)}er||(er=this.Hd),kr=this.Je();var xn=this.re(kr);xn&&(this.Dd.save(),this.je(),this.Dd.drawPath(er,xn),this.Dd.restore(),xn.dispose()),this.Dd.drawPath(er,kr),kr.dispose()},this.fillRect=function(er,kr,xn,Ln){var Gn=this.Je(),Jn=this.re(Gn);Jn&&(this.Dd.save(),this.je(),this.Dd.drawRect(Ne.XYWHRect(er,kr,xn,Ln),Jn),this.Dd.restore(),Jn.dispose()),this.Dd.drawRect(Ne.XYWHRect(er,kr,xn,Ln),Gn),Gn.dispose()},this.fillText=function(er,kr,xn){var Ln=this.Je();er=Ne.TextBlob.MakeFromText(er,this.le);var Gn=this.re(Ln);Gn&&(this.Dd.save(),this.je(),this.Dd.drawTextBlob(er,kr,xn,Gn),this.Dd.restore(),Gn.dispose()),this.Dd.drawTextBlob(er,kr,xn,Ln),er.delete(),Ln.dispose()},this.getImageData=function(er,kr,xn,Ln){return(er=this.Dd.readPixels(er,kr,{width:xn,height:Ln,colorType:Ne.ColorType.RGBA_8888,alphaType:Ne.AlphaType.Unpremul,colorSpace:Ne.ColorSpace.SRGB}))?new Xn(new Uint8ClampedArray(er.buffer),xn,Ln):null},this.getLineDash=function(){return this.ne.slice()},this.ff=function(er){var kr=Ne.Matrix.invert(this.Id);return Ne.Matrix.mapPoints(kr,er),er},this.isPointInPath=function(er,kr,xn){var Ln=arguments;if(Ln.length===3)var Gn=this.Hd;else{if(Ln.length!==4)throw"invalid arg count, need 3 or 4, got "+Ln.length;Gn=Ln[0],er=Ln[1],kr=Ln[2],xn=Ln[3]}return!(!isFinite(er)||!isFinite(kr))&&((xn=xn||"nonzero")==="nonzero"||xn==="evenodd")&&(er=(Ln=this.ff([er,kr]))[0],kr=Ln[1],Gn.setFillType(xn==="nonzero"?Ne.FillType.Winding:Ne.FillType.EvenOdd),Gn.contains(er,kr))},this.isPointInStroke=function(er,kr){var xn=arguments;if(xn.length===2)var Ln=this.Hd;else{if(xn.length!==3)throw"invalid arg count, need 2 or 3, got "+xn.length;Ln=xn[0],er=xn[1],kr=xn[2]}return!(!isFinite(er)||!isFinite(kr))&&(er=(xn=this.ff([er,kr]))[0],kr=xn[1],(Ln=Ln.copy()).setFillType(Ne.FillType.Winding),Ln.stroke({width:this.lineWidth,miter_limit:this.miterLimit,cap:this.Fd.getStrokeCap(),join:this.Fd.getStrokeJoin(),precision:.3}),xn=Ln.contains(er,kr),Ln.delete(),xn)},this.lineTo=function(er,kr){Ia(this.Hd,er,kr)},this.measureText=function(){throw Error("Clients wishing to properly measure text should use the Paragraph API")},this.moveTo=function(er,kr){var xn=this.Hd;St([er,kr])&&xn.moveTo(er,kr)},this.putImageData=function(er,kr,xn,Ln,Gn,Jn,bi){if(St([kr,xn,Ln,Gn,Jn,bi])){if(Ln===void 0)this.Dd.writePixels(er.data,er.width,er.height,kr,xn);else if(Ln=Ln||0,Gn=Gn||0,Jn=Jn||er.width,bi=bi||er.height,0>Jn&&(Ln+=Jn,Jn=Math.abs(Jn)),0>bi&&(Gn+=bi,bi=Math.abs(bi)),0>Ln&&(Jn+=Ln,Ln=0),0>Gn&&(bi+=Gn,Gn=0),!(0>=Jn||0>=bi)){er=Ne.MakeImage({width:er.width,height:er.height,alphaType:Ne.AlphaType.Unpremul,colorType:Ne.ColorType.RGBA_8888,colorSpace:Ne.ColorSpace.SRGB},er.data,4*er.width);var oa=Ne.XYWHRect(Ln,Gn,Jn,bi);kr=Ne.XYWHRect(kr+Ln,xn+Gn,Jn,bi),xn=Ne.Matrix.invert(this.Id),this.Dd.save(),this.Dd.concat(xn),this.Dd.drawImageRect(er,oa,kr,null,!1),this.Dd.restore(),er.delete()}}},this.quadraticCurveTo=function(er,kr,xn,Ln){var Gn=this.Hd;St([er,kr,xn,Ln])&&(Gn.isEmpty()&&Gn.moveTo(er,kr),Gn.quadTo(er,kr,xn,Ln))},this.rect=function(er,kr,xn,Ln){var Gn=this.Hd;St(er=Ne.XYWHRect(er,kr,xn,Ln))&&Gn.addRect(er)},this.resetTransform=function(){this.Hd.transform(this.Id);var er=Ne.Matrix.invert(this.Id);this.Dd.concat(er),this.Id=this.Dd.getTotalMatrix()},this.restore=function(){var er=this.ef.pop();if(er){var kr=Ne.Matrix.multiply(this.Id,Ne.Matrix.invert(er.wf));this.Hd.transform(kr),this.Fd.delete(),this.Fd=er.Pf,this.ne=er.Nf,this.Ee=er.bg,this.Xd=er.ag,this.Sd=er.fs,this.pe=er.Zf,this.qe=er.$f,this.oe=er.Tf,this.De=er.Yf,this.$d=er.Cf,this.Ed=er.Df,this.Ce=er.Of,this.Ke=er.Bf,this.Dd.restore(),this.Id=this.Dd.getTotalMatrix()}},this.rotate=function(er){if(isFinite(er)){var kr=Ne.Matrix.rotated(-er);this.Hd.transform(kr),this.Dd.rotate(er/Math.PI*180,0,0),this.Id=this.Dd.getTotalMatrix()}},this.save=function(){if(this.Sd.ke){var er=this.Sd.ke();this.ue.push(er)}else er=this.Sd;if(this.Xd.ke){var kr=this.Xd.ke();this.ue.push(kr)}else kr=this.Xd;this.ef.push({wf:this.Id.slice(),Nf:this.ne.slice(),bg:this.Ee,ag:kr,fs:er,Zf:this.pe,$f:this.qe,Tf:this.oe,Yf:this.De,Cf:this.$d,Of:this.Ce,Df:this.Ed,Pf:this.Fd.copy(),Bf:this.Ke}),this.Dd.save()},this.scale=function(er,kr){if(St(arguments)){var xn=Ne.Matrix.scaled(1/er,1/kr);this.Hd.transform(xn),this.Dd.scale(er,kr),this.Id=this.Dd.getTotalMatrix()}},this.setLineDash=function(er){for(var kr=0;kr<er.length;kr++)if(!isFinite(er[kr])||0>er[kr])return;er.length%2==1&&Array.prototype.push.apply(er,er),this.ne=er},this.setTransform=function(er,kr,xn,Ln,Gn,Jn){St(arguments)&&(this.resetTransform(),this.transform(er,kr,xn,Ln,Gn,Jn))},this.je=function(){var er=Ne.Matrix.invert(this.Id);this.Dd.concat(er),this.Dd.concat(Ne.Matrix.translated(this.pe,this.qe)),this.Dd.concat(this.Id)},this.re=function(er){var kr=Ne.multiplyByAlpha(this.De,this.$d);if(!Ne.getColorComponents(kr)[3]||!(this.oe||this.qe||this.pe))return null;(er=er.copy()).setColor(kr);var xn=Ne.MaskFilter.MakeBlur(Ne.BlurStyle.Normal,this.oe/2,!1);return er.setMaskFilter(xn),er.dispose=function(){xn.delete(),this.delete()},er},this.Ve=function(){var er=this.Fd.copy();if(er.setStyle(Ne.PaintStyle.Stroke),At(this.Xd)){var kr=Ne.multiplyByAlpha(this.Xd,this.$d);er.setColor(kr)}else kr=this.Xd.me(this.Id),er.setColor(Ne.Color(0,0,0,this.$d)),er.setShader(kr);if(er.setStrokeWidth(this.Ee),this.ne.length){var xn=Ne.PathEffect.MakeDash(this.ne,this.Ce);er.setPathEffect(xn)}return er.dispose=function(){xn&&xn.delete(),this.delete()},er},this.stroke=function(er){er=er?er.Ld:this.Hd;var kr=this.Ve(),xn=this.re(kr);xn&&(this.Dd.save(),this.je(),this.Dd.drawPath(er,xn),this.Dd.restore(),xn.dispose()),this.Dd.drawPath(er,kr),kr.dispose()},this.strokeRect=function(er,kr,xn,Ln){var Gn=this.Ve(),Jn=this.re(Gn);Jn&&(this.Dd.save(),this.je(),this.Dd.drawRect(Ne.XYWHRect(er,kr,xn,Ln),Jn),this.Dd.restore(),Jn.dispose()),this.Dd.drawRect(Ne.XYWHRect(er,kr,xn,Ln),Gn),Gn.dispose()},this.strokeText=function(er,kr,xn){var Ln=this.Ve();er=Ne.TextBlob.MakeFromText(er,this.le);var Gn=this.re(Ln);Gn&&(this.Dd.save(),this.je(),this.Dd.drawTextBlob(er,kr,xn,Gn),this.Dd.restore(),Gn.dispose()),this.Dd.drawTextBlob(er,kr,xn,Ln),er.delete(),Ln.dispose()},this.translate=function(er,kr){if(St(arguments)){var xn=Ne.Matrix.translated(-er,-kr);this.Hd.transform(xn),this.Dd.translate(er,kr),this.Id=this.Dd.getTotalMatrix()}},this.transform=function(er,kr,xn,Ln,Gn,Jn){er=[er,xn,Gn,kr,Ln,Jn,0,0,1],kr=Ne.Matrix.invert(er),this.Hd.transform(kr),this.Dd.concat(er),this.Id=this.Dd.getTotalMatrix()},this.addHitRegion=function(){},this.clearHitRegions=function(){},this.drawFocusIfNeeded=function(){},this.removeHitRegion=function(){},this.scrollPathIntoView=function(){},Object.defineProperty(this,"canvas",{value:null,writable:!1})}function Sn(ii){this.We=ii,this.de=new Kr(ii.getCanvas()),this.Le=[],this.qf=Ne.FontMgr.RefDefault(),this.decodeImage=function(er){if(!(er=Ne.MakeImageFromEncoded(er)))throw"Invalid input";return this.Le.push(er),er},this.loadFont=function(er,kr){if(!(er=this.qf.MakeTypefaceFromData(er)))return null;this.Le.push(er);var xn=(kr.style||"normal")+"|"+(kr.variant||"normal")+"|"+(kr.weight||"normal");kr=kr.family,Ao[kr]||(Ao[kr]={"*":er}),Ao[kr][xn]=er},this.makePath2D=function(er){return er=new uo(er),this.Le.push(er.Ld),er},this.getContext=function(er){return er==="2d"?this.de:null},this.toDataURL=function(er,kr){this.We.flush();var xn=this.We.makeImageSnapshot();if(xn){er=er||"image/png";var Ln=Ne.ImageFormat.PNG;if(er==="image/jpeg"&&(Ln=Ne.ImageFormat.JPEG),kr=xn.encodeToBytes(Ln,kr||.92)){if(xn.delete(),er="data:"+er+";base64,",_s)kr=M.from(kr).toString("base64");else{xn=0,Ln=kr.length;for(var Gn,Jn="";xn<Ln;)Gn=kr.slice(xn,Math.min(xn+32768,Ln)),Jn+=String.fromCharCode.apply(null,Gn),xn+=32768;kr=btoa(Jn)}return er+kr}}},this.dispose=function(){this.de.be(),this.Le.forEach((function(er){er.delete()})),this.We.dispose()}}function Xn(ii,er,kr){if(!er||kr===0)throw"invalid dimensions, width and height must be non-zero";if(ii.length%4)throw"arr must be a multiple of 4";kr=kr||ii.length/(4*er),Object.defineProperty(this,"data",{value:ii,writable:!1}),Object.defineProperty(this,"height",{value:kr,writable:!1}),Object.defineProperty(this,"width",{value:er,writable:!1})}function hi(ii,er,kr,xn){this.Nd=null,this.Td=[],this.Pd=[],this.addColorStop=function(Ln,Gn){if(0>Ln||1<Ln||!isFinite(Ln))throw"offset must be between 0 and 1 inclusively";Gn=Ht(Gn);var Jn=this.Pd.indexOf(Ln);if(Jn!==-1)this.Td[Jn]=Gn;else{for(Jn=0;Jn<this.Pd.length&&!(this.Pd[Jn]>Ln);Jn++);this.Pd.splice(Jn,0,Ln),this.Td.splice(Jn,0,Gn)}},this.ke=function(){var Ln=new hi(ii,er,kr,xn);return Ln.Td=this.Td.slice(),Ln.Pd=this.Pd.slice(),Ln},this.be=function(){this.Nd&&(this.Nd.delete(),this.Nd=null)},this.me=function(Ln){var Gn=[ii,er,kr,xn];Ne.Matrix.mapPoints(Ln,Gn),Ln=Gn[0];var Jn=Gn[1],bi=Gn[2];return Gn=Gn[3],this.be(),this.Nd=Ne.Shader.MakeLinearGradient([Ln,Jn],[bi,Gn],this.Td,this.Pd,Ne.TileMode.Clamp)}}function Di(ii,er,kr,xn,Ln,Gn){if(St([er,kr,xn,Ln,Gn])){if(0>Gn)throw"radii cannot be negative";ii.isEmpty()&&ii.moveTo(er,kr),ii.arcToTangent(er,kr,xn,Ln,Gn)}}function ki(ii){if(!ii.isEmpty()){var er=ii.getBounds();(er[3]-er[1]||er[2]-er[0])&&ii.close()}}function na(ii,er,kr,xn,Ln,Gn,Jn){Jn=(Jn-Gn)/Math.PI*180,Gn=Gn/Math.PI*180,er=Ne.LTRBRect(er-xn,kr-Ln,er+xn,kr+Ln),1e-5>Math.abs(Math.abs(Jn)-360)?(kr=Jn/2,ii.arcToOval(er,Gn,kr,!1),ii.arcToOval(er,Gn+kr,kr,!1)):ii.arcToOval(er,Gn,Jn,!1)}function Xi(ii,er,kr,xn,Ln,Gn,Jn,bi,oa){if(St([er,kr,xn,Ln,Gn,Jn,bi])){if(0>xn||0>Ln)throw"radii cannot be negative";var bo=2*Math.PI,Aa=Jn%bo;0>Aa&&(Aa+=bo);var Ya=Aa-Jn;Jn=Aa,bi+=Ya,!oa&&bi-Jn>=bo?bi=Jn+bo:oa&&Jn-bi>=bo?bi=Jn-bo:!oa&&Jn>bi?bi=Jn+(bo-(Jn-bi)%bo):oa&&Jn<bi&&(bi=Jn-(bo-(bi-Jn)%bo)),Gn?(oa=Ne.Matrix.rotated(Gn,er,kr),Gn=Ne.Matrix.rotated(-Gn,er,kr),ii.transform(Gn),na(ii,er,kr,xn,Ln,Jn,bi),ii.transform(oa)):na(ii,er,kr,xn,Ln,Jn,bi)}}function Ia(ii,er,kr){St([er,kr])&&(ii.isEmpty()&&ii.moveTo(er,kr),ii.lineTo(er,kr))}function uo(ii){this.Ld=null,this.Ld=typeof ii=="string"?Ne.Path.MakeFromSVGString(ii):ii&&ii.Te?ii.Ld.copy():new Ne.Path,this.Te=function(){return this.Ld},this.addPath=function(er,kr){kr||(kr={a:1,c:0,e:0,b:0,d:1,f:0}),this.Ld.addPath(er.Ld,[kr.a,kr.c,kr.e,kr.b,kr.d,kr.f])},this.arc=function(er,kr,xn,Ln,Gn,Jn){Xi(this.Ld,er,kr,xn,xn,0,Ln,Gn,Jn)},this.arcTo=function(er,kr,xn,Ln,Gn){Di(this.Ld,er,kr,xn,Ln,Gn)},this.bezierCurveTo=function(er,kr,xn,Ln,Gn,Jn){var bi=this.Ld;St([er,kr,xn,Ln,Gn,Jn])&&(bi.isEmpty()&&bi.moveTo(er,kr),bi.cubicTo(er,kr,xn,Ln,Gn,Jn))},this.closePath=function(){ki(this.Ld)},this.ellipse=function(er,kr,xn,Ln,Gn,Jn,bi,oa){Xi(this.Ld,er,kr,xn,Ln,Gn,Jn,bi,oa)},this.lineTo=function(er,kr){Ia(this.Ld,er,kr)},this.moveTo=function(er,kr){var xn=this.Ld;St([er,kr])&&xn.moveTo(er,kr)},this.quadraticCurveTo=function(er,kr,xn,Ln){var Gn=this.Ld;St([er,kr,xn,Ln])&&(Gn.isEmpty()&&Gn.moveTo(er,kr),Gn.quadTo(er,kr,xn,Ln))},this.rect=function(er,kr,xn,Ln){var Gn=this.Ld;St(er=Ne.XYWHRect(er,kr,xn,Ln))&&Gn.addRect(er)}}function xo(ii,er){switch(this.Nd=null,this.sf=ii,this._transform=Ne.Matrix.identity(),er===""&&(er="repeat"),er){case"repeat-x":this.se=Ne.TileMode.Repeat,this.te=Ne.TileMode.Decal;break;case"repeat-y":this.se=Ne.TileMode.Decal,this.te=Ne.TileMode.Repeat;break;case"repeat":this.te=this.se=Ne.TileMode.Repeat;break;case"no-repeat":this.te=this.se=Ne.TileMode.Decal;break;default:throw"invalid repetition mode "+er}this.setTransform=function(kr){St(kr=[kr.a,kr.c,kr.e,kr.b,kr.d,kr.f,0,0,1])&&(this._transform=kr)},this.ke=function(){var kr=new xo;return kr.se=this.se,kr.te=this.te,kr},this.be=function(){this.Nd&&(this.Nd.delete(),this.Nd=null)},this.me=function(){return this.be(),this.Nd=this.sf.makeShaderCubic(this.se,this.te,1/3,1/3,this._transform)}}function os(ii,er,kr,xn,Ln,Gn){this.Nd=null,this.Td=[],this.Pd=[],this.addColorStop=function(Jn,bi){if(0>Jn||1<Jn||!isFinite(Jn))throw"offset must be between 0 and 1 inclusively";bi=Ht(bi);var oa=this.Pd.indexOf(Jn);if(oa!==-1)this.Td[oa]=bi;else{for(oa=0;oa<this.Pd.length&&!(this.Pd[oa]>Jn);oa++);this.Pd.splice(oa,0,Jn),this.Td.splice(oa,0,bi)}},this.ke=function(){var Jn=new os(ii,er,kr,xn,Ln,Gn);return Jn.Td=this.Td.slice(),Jn.Pd=this.Pd.slice(),Jn},this.be=function(){this.Nd&&(this.Nd.delete(),this.Nd=null)},this.me=function(Jn){var bi=[ii,er,xn,Ln];Ne.Matrix.mapPoints(Jn,bi);var oa=bi[0],bo=bi[1],Aa=bi[2];bi=bi[3];var Ya=(Math.abs(Jn[0])+Math.abs(Jn[4]))/2;return Jn=kr*Ya,Ya*=Gn,this.be(),this.Nd=Ne.Shader.MakeTwoPointConicalGradient([oa,bo],Jn,[Aa,bi],Ya,this.Td,this.Pd,Ne.TileMode.Clamp)}}Ne._testing={};var mo={aliceblue:Float32Array.of(.941,.973,1,1),antiquewhite:Float32Array.of(.98,.922,.843,1),aqua:Float32Array.of(0,1,1,1),aquamarine:Float32Array.of(.498,1,.831,1),azure:Float32Array.of(.941,1,1,1),beige:Float32Array.of(.961,.961,.863,1),bisque:Float32Array.of(1,.894,.769,1),black:Float32Array.of(0,0,0,1),blanchedalmond:Float32Array.of(1,.922,.804,1),blue:Float32Array.of(0,0,1,1),blueviolet:Float32Array.of(.541,.169,.886,1),brown:Float32Array.of(.647,.165,.165,1),burlywood:Float32Array.of(.871,.722,.529,1),cadetblue:Float32Array.of(.373,.62,.627,1),chartreuse:Float32Array.of(.498,1,0,1),chocolate:Float32Array.of(.824,.412,.118,1),coral:Float32Array.of(1,.498,.314,1),cornflowerblue:Float32Array.of(.392,.584,.929,1),cornsilk:Float32Array.of(1,.973,.863,1),crimson:Float32Array.of(.863,.078,.235,1),cyan:Float32Array.of(0,1,1,1),darkblue:Float32Array.of(0,0,.545,1),darkcyan:Float32Array.of(0,.545,.545,1),darkgoldenrod:Float32Array.of(.722,.525,.043,1),darkgray:Float32Array.of(.663,.663,.663,1),darkgreen:Float32Array.of(0,.392,0,1),darkgrey:Float32Array.of(.663,.663,.663,1),darkkhaki:Float32Array.of(.741,.718,.42,1),darkmagenta:Float32Array.of(.545,0,.545,1),darkolivegreen:Float32Array.of(.333,.42,.184,1),darkorange:Float32Array.of(1,.549,0,1),darkorchid:Float32Array.of(.6,.196,.8,1),darkred:Float32Array.of(.545,0,0,1),darksalmon:Float32Array.of(.914,.588,.478,1),darkseagreen:Float32Array.of(.561,.737,.561,1),darkslateblue:Float32Array.of(.282,.239,.545,1),darkslategray:Float32Array.of(.184,.31,.31,1),darkslategrey:Float32Array.of(.184,.31,.31,1),darkturquoise:Float32Array.of(0,.808,.82,1),darkviolet:Float32Array.of(.58,0,.827,1),deeppink:Float32Array.of(1,.078,.576,1),deepskyblue:Float32Array.of(0,.749,1,1),dimgray:Float32Array.of(.412,.412,.412,1),dimgrey:Float32Array.of(.412,.412,.412,1),dodgerblue:Float32Array.of(.118,.565,1,1),firebrick:Float32Array.of(.698,.133,.133,1),floralwhite:Float32Array.of(1,.98,.941,1),forestgreen:Float32Array.of(.133,.545,.133,1),fuchsia:Float32Array.of(1,0,1,1),gainsboro:Float32Array.of(.863,.863,.863,1),ghostwhite:Float32Array.of(.973,.973,1,1),gold:Float32Array.of(1,.843,0,1),goldenrod:Float32Array.of(.855,.647,.125,1),gray:Float32Array.of(.502,.502,.502,1),green:Float32Array.of(0,.502,0,1),greenyellow:Float32Array.of(.678,1,.184,1),grey:Float32Array.of(.502,.502,.502,1),honeydew:Float32Array.of(.941,1,.941,1),hotpink:Float32Array.of(1,.412,.706,1),indianred:Float32Array.of(.804,.361,.361,1),indigo:Float32Array.of(.294,0,.51,1),ivory:Float32Array.of(1,1,.941,1),khaki:Float32Array.of(.941,.902,.549,1),lavender:Float32Array.of(.902,.902,.98,1),lavenderblush:Float32Array.of(1,.941,.961,1),lawngreen:Float32Array.of(.486,.988,0,1),lemonchiffon:Float32Array.of(1,.98,.804,1),lightblue:Float32Array.of(.678,.847,.902,1),lightcoral:Float32Array.of(.941,.502,.502,1),lightcyan:Float32Array.of(.878,1,1,1),lightgoldenrodyellow:Float32Array.of(.98,.98,.824,1),lightgray:Float32Array.of(.827,.827,.827,1),lightgreen:Float32Array.of(.565,.933,.565,1),lightgrey:Float32Array.of(.827,.827,.827,1),lightpink:Float32Array.of(1,.714,.757,1),lightsalmon:Float32Array.of(1,.627,.478,1),lightseagreen:Float32Array.of(.125,.698,.667,1),lightskyblue:Float32Array.of(.529,.808,.98,1),lightslategray:Float32Array.of(.467,.533,.6,1),lightslategrey:Float32Array.of(.467,.533,.6,1),lightsteelblue:Float32Array.of(.69,.769,.871,1),lightyellow:Float32Array.of(1,1,.878,1),lime:Float32Array.of(0,1,0,1),limegreen:Float32Array.of(.196,.804,.196,1),linen:Float32Array.of(.98,.941,.902,1),magenta:Float32Array.of(1,0,1,1),maroon:Float32Array.of(.502,0,0,1),mediumaquamarine:Float32Array.of(.4,.804,.667,1),mediumblue:Float32Array.of(0,0,.804,1),mediumorchid:Float32Array.of(.729,.333,.827,1),mediumpurple:Float32Array.of(.576,.439,.859,1),mediumseagreen:Float32Array.of(.235,.702,.443,1),mediumslateblue:Float32Array.of(.482,.408,.933,1),mediumspringgreen:Float32Array.of(0,.98,.604,1),mediumturquoise:Float32Array.of(.282,.82,.8,1),mediumvioletred:Float32Array.of(.78,.082,.522,1),midnightblue:Float32Array.of(.098,.098,.439,1),mintcream:Float32Array.of(.961,1,.98,1),mistyrose:Float32Array.of(1,.894,.882,1),moccasin:Float32Array.of(1,.894,.71,1),navajowhite:Float32Array.of(1,.871,.678,1),navy:Float32Array.of(0,0,.502,1),oldlace:Float32Array.of(.992,.961,.902,1),olive:Float32Array.of(.502,.502,0,1),olivedrab:Float32Array.of(.42,.557,.137,1),orange:Float32Array.of(1,.647,0,1),orangered:Float32Array.of(1,.271,0,1),orchid:Float32Array.of(.855,.439,.839,1),palegoldenrod:Float32Array.of(.933,.91,.667,1),palegreen:Float32Array.of(.596,.984,.596,1),paleturquoise:Float32Array.of(.686,.933,.933,1),palevioletred:Float32Array.of(.859,.439,.576,1),papayawhip:Float32Array.of(1,.937,.835,1),peachpuff:Float32Array.of(1,.855,.725,1),peru:Float32Array.of(.804,.522,.247,1),pink:Float32Array.of(1,.753,.796,1),plum:Float32Array.of(.867,.627,.867,1),powderblue:Float32Array.of(.69,.878,.902,1),purple:Float32Array.of(.502,0,.502,1),rebeccapurple:Float32Array.of(.4,.2,.6,1),red:Float32Array.of(1,0,0,1),rosybrown:Float32Array.of(.737,.561,.561,1),royalblue:Float32Array.of(.255,.412,.882,1),saddlebrown:Float32Array.of(.545,.271,.075,1),salmon:Float32Array.of(.98,.502,.447,1),sandybrown:Float32Array.of(.957,.643,.376,1),seagreen:Float32Array.of(.18,.545,.341,1),seashell:Float32Array.of(1,.961,.933,1),sienna:Float32Array.of(.627,.322,.176,1),silver:Float32Array.of(.753,.753,.753,1),skyblue:Float32Array.of(.529,.808,.922,1),slateblue:Float32Array.of(.416,.353,.804,1),slategray:Float32Array.of(.439,.502,.565,1),slategrey:Float32Array.of(.439,.502,.565,1),snow:Float32Array.of(1,.98,.98,1),springgreen:Float32Array.of(0,1,.498,1),steelblue:Float32Array.of(.275,.51,.706,1),tan:Float32Array.of(.824,.706,.549,1),teal:Float32Array.of(0,.502,.502,1),thistle:Float32Array.of(.847,.749,.847,1),tomato:Float32Array.of(1,.388,.278,1),transparent:Float32Array.of(0,0,0,0),turquoise:Float32Array.of(.251,.878,.816,1),violet:Float32Array.of(.933,.51,.933,1),wheat:Float32Array.of(.961,.871,.702,1),white:Float32Array.of(1,1,1,1),whitesmoke:Float32Array.of(.961,.961,.961,1),yellow:Float32Array.of(1,1,0,1),yellowgreen:Float32Array.of(.604,.804,.196,1)};Ne._testing.parseColor=Ht,Ne._testing.colorToString=xt;var Wo=RegExp("(italic|oblique|normal|)\\s*(small-caps|normal|)\\s*(bold|bolder|lighter|[1-9]00|normal|)\\s*([\\d\\.]+)(px|pt|pc|in|cm|mm|%|em|ex|ch|rem|q)(.+)"),Ao={"Noto Mono":{"*":null},monospace:{"*":null}};Ne._testing.parseFontString=hr,Ne.MakeCanvas=function(ii,er){return(ii=Ne.MakeSurface(ii,er))?new Sn(ii):null},Ne.ImageData=function(){if(arguments.length===2){var ii=arguments[0],er=arguments[1];return new Xn(new Uint8ClampedArray(4*ii*er),ii,er)}if(arguments.length===3){var kr=arguments[0];if(kr.prototype.constructor!==Uint8ClampedArray)throw"bytes must be given as a Uint8ClampedArray";if(kr%4)throw"bytes must be given in a multiple of 4";if(kr%(ii=arguments[1]))throw"bytes must divide evenly by width";if((er=arguments[2])&&er!==kr/(4*ii))throw"invalid height given";return new Xn(kr,ii,kr/(4*ii))}throw"invalid number of arguments - takes 2 or 3, saw "+arguments.length}})()})(O);var q,K,J,te=Object.assign({},O),oe="./this.program",ue=(Ne,at)=>{throw at},fe=typeof window=="object",Le=typeof importScripts=="function",Ge=typeof z=="object"&&typeof z.versions=="object"&&typeof z.versions.node=="string",ze="";if(Ge){var je=r(5699),Be=r(3935);ze=Le?Be.dirname(ze)+"/":"//",q=(Ne,at)=>(Ne=Ne.startsWith("file://")?new URL(Ne):Be.normalize(Ne),je.readFileSync(Ne,at?void 0:"utf8")),J=Ne=>((Ne=q(Ne,!0)).buffer||(Ne=new Uint8Array(Ne)),Ne),K=(Ne,at,mt)=>{Ne=Ne.startsWith("file://")?new URL(Ne):Be.normalize(Ne),je.readFile(Ne,(function(At,Qt){At?mt(At):at(Qt.buffer)}))},1<z.argv.length&&(oe=z.argv[1].replace(/\\/g,"/")),z.argv.slice(2),z.on("uncaughtException",(function(Ne){if(!(Ne instanceof gt))throw Ne})),15>z.version.match(/^v(\d+)\./)[1]&&z.on("unhandledRejection",(function(Ne){throw Ne})),ue=(Ne,at)=>{throw z.exitCode=Ne,at},O.inspect=function(){return"[Emscripten Module object]"}}else(fe||Le)&&(Le?ze=self.location.href:typeof document<"u"&&document.currentScript&&(ze=document.currentScript.src),b&&(ze=b),ze=ze.indexOf("blob:")!==0?ze.substr(0,ze.replace(/[?#].*/,"").lastIndexOf("/")+1):"",q=Ne=>{var at=new XMLHttpRequest;return at.open("GET",Ne,!1),at.send(null),at.responseText},Le&&(J=Ne=>{var at=new XMLHttpRequest;return at.open("GET",Ne,!1),at.responseType="arraybuffer",at.send(null),new Uint8Array(at.response)}),K=(Ne,at,mt)=>{var At=new XMLHttpRequest;At.open("GET",Ne,!0),At.responseType="arraybuffer",At.onload=()=>{At.status==200||At.status==0&&At.response?at(At.response):mt()},At.onerror=mt,At.send(null)});var _e,He=O.print||B.log.bind(B),tt=O.printErr||B.warn.bind(B);Object.assign(O,te),te=null,O.thisProgram&&(oe=O.thisProgram),O.quit&&(ue=O.quit),O.wasmBinary&&(_e=O.wasmBinary),O.noExitRuntime,typeof WebAssembly!="object"&&tr("no native wasm support detected");var Ke,Ze,Qe,vt,pt,ut,Mt,bt,ar,dt=!1,yt=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function Gt(Ne,at,mt){var At=at+mt;for(mt=at;Ne[mt]&&!(mt>=At);)++mt;if(16<mt-at&&Ne.buffer&&yt)return yt.decode(Ne.subarray(at,mt));for(At="";at<mt;){var Qt=Ne[at++];if(128&Qt){var br=63&Ne[at++];if((224&Qt)==192)At+=String.fromCharCode((31&Qt)<<6|br);else{var or=63&Ne[at++];65536>(Qt=(240&Qt)==224?(15&Qt)<<12|br<<6|or:(7&Qt)<<18|br<<12|or<<6|63&Ne[at++])?At+=String.fromCharCode(Qt):(Qt-=65536,At+=String.fromCharCode(55296|Qt>>10,56320|1023&Qt))}}else At+=String.fromCharCode(Qt)}return At}function Bt(Ne,at){return Ne?Gt(Qe,Ne,at):""}function Dt(Ne,at,mt,At){if(!(0<At))return 0;var Qt=mt;At=mt+At-1;for(var br=0;br<Ne.length;++br){var or=Ne.charCodeAt(br);if(55296<=or&&57343>=or&&(or=65536+((1023&or)<<10)|1023&Ne.charCodeAt(++br)),127>=or){if(mt>=At)break;at[mt++]=or}else{if(2047>=or){if(mt+1>=At)break;at[mt++]=192|or>>6}else{if(65535>=or){if(mt+2>=At)break;at[mt++]=224|or>>12}else{if(mt+3>=At)break;at[mt++]=240|or>>18,at[mt++]=128|or>>12&63}at[mt++]=128|or>>6&63}at[mt++]=128|63&or}}return at[mt]=0,mt-Qt}function Ct(Ne){for(var at=0,mt=0;mt<Ne.length;++mt){var At=Ne.charCodeAt(mt);127>=At?at++:2047>=At?at+=2:55296<=At&&57343>=At?(at+=4,++mt):at+=3}return at}function It(){var Ne=Ke.buffer;O.HEAP8=Ze=new Int8Array(Ne),O.HEAP16=vt=new Int16Array(Ne),O.HEAP32=ut=new Int32Array(Ne),O.HEAPU8=Qe=new Uint8Array(Ne),O.HEAPU16=pt=new Uint16Array(Ne),O.HEAPU32=Mt=new Uint32Array(Ne),O.HEAPF32=bt=new Float32Array(Ne),O.HEAPF64=ar=new Float64Array(Ne)}var lr,Je=[],Ve=[],st=[];function it(){var Ne=O.preRun.shift();Je.unshift(Ne)}var Wt,rt=0,ur=null;function tr(Ne){throw O.onAbort&&O.onAbort(Ne),tt(Ne="Aborted("+Ne+")"),dt=!0,Ne=new WebAssembly.RuntimeError(Ne+". Build with -sASSERTIONS for more info."),T(Ne),Ne}function Ft(){return Wt.startsWith("data:application/octet-stream;base64,")}if(Wt="canvaskit.wasm",!Ft()){var Jt=Wt;Wt=O.locateFile?O.locateFile(Jt,ze):ze+Jt}function et(){var Ne=Wt;try{if(Ne==Wt&&_e)return new Uint8Array(_e);if(J)return J(Ne);throw"both async and sync fetching of the wasm failed"}catch(at){tr(at)}}function gt(Ne){this.name="ExitStatus",this.message="Program terminated with exit("+Ne+")",this.status=Ne}function Et(Ne){for(;0<Ne.length;)Ne.shift()(O)}var Xt={};function mr(Ne){for(;Ne.length;){var at=Ne.pop();Ne.pop()(at)}}function Cr(Ne){return this.fromWireType(ut[Ne>>2])}var Dr={},_n={},In={};function Fn(Ne){if(Ne===void 0)return"_unknown";var at=(Ne=Ne.replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0);return 48<=at&&57>=at?"_"+Ne:Ne}function ti(Ne,at){return Ne=Fn(Ne),new Function("body","return function "+Ne+`() {
    "use strict";    return body.apply(this, arguments);
};
`)(at)}function Qn(Ne){var at=Error,mt=ti(Ne,(function(At){this.name=Ne,this.message=At,(At=Error(At).stack)!==void 0&&(this.stack=this.toString()+`
`+At.replace(/^Error(:[^\n]*)?\n/,""))}));return mt.prototype=Object.create(at.prototype),mt.prototype.constructor=mt,mt.prototype.toString=function(){return this.message===void 0?this.name:this.name+": "+this.message},mt}var vi=void 0;function wi(Ne){throw new vi(Ne)}function oi(Ne,at,mt){function At(vr){(vr=mt(vr)).length!==Ne.length&&wi("Mismatched type converter count");for(var Hr=0;Hr<Ne.length;++Hr)fa(Ne[Hr],vr[Hr])}Ne.forEach((function(vr){In[vr]=at}));var Qt=Array(at.length),br=[],or=0;at.forEach(((vr,Hr)=>{_n.hasOwnProperty(vr)?Qt[Hr]=_n[vr]:(br.push(vr),Dr.hasOwnProperty(vr)||(Dr[vr]=[]),Dr[vr].push((()=>{Qt[Hr]=_n[vr],++or===br.length&&At(Qt)})))})),br.length===0&&At(Qt)}function Si(Ne){switch(Ne){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+Ne)}}var Gi=void 0;function ai(Ne){for(var at="";Qe[Ne];)at+=Gi[Qe[Ne++]];return at}var zi=void 0;function Ei(Ne){throw new zi(Ne)}function fa(Ne,at,mt={}){if(!("argPackAdvance"in at))throw new TypeError("registerType registeredInstance requires argPackAdvance");var At=at.name;if(Ne||Ei('type "'+At+'" must have a positive integer typeid pointer'),_n.hasOwnProperty(Ne)){if(mt.Kf)return;Ei("Cannot register type '"+At+"' twice")}_n[Ne]=at,delete In[Ne],Dr.hasOwnProperty(Ne)&&(at=Dr[Ne],delete Dr[Ne],at.forEach((Qt=>Qt())))}function Vn(Ne){Ei(Ne.Cd.Md.Gd.name+" instance already deleted")}var ha=!1;function Na(){}function wt(Ne){--Ne.count.value,Ne.count.value===0&&(Ne.Rd?Ne.Wd.ae(Ne.Rd):Ne.Md.Gd.ae(Ne.Kd))}function _t(Ne,at,mt){return at===mt?Ne:mt.Yd===void 0||(Ne=_t(Ne,at,mt.Yd))===null?null:mt.yf(Ne)}var jt={},nr=[];function Yt(){for(;nr.length;){var Ne=nr.pop();Ne.Cd.xe=!1,Ne.delete()}}var Nr=void 0,Gr={};function Vr(Ne,at){return at.Md&&at.Kd||wi("makeClassHandle requires ptr and ptrType"),!!at.Wd!=!!at.Rd&&wi("Both smartPtrType and smartPtr must be specified"),at.count={value:1},Mn(Object.create(Ne,{Cd:{value:at}}))}function Mn(Ne){return typeof FinalizationRegistry>"u"?(Mn=at=>at,Ne):(ha=new FinalizationRegistry((at=>{wt(at.Cd)})),Na=at=>{ha.unregister(at)},(Mn=at=>{var mt=at.Cd;return mt.Rd&&ha.register(at,{Cd:mt},at),at})(Ne))}function hn(){}function vn(Ne,at,mt){if(Ne[at].Od===void 0){var At=Ne[at];Ne[at]=function(){return Ne[at].Od.hasOwnProperty(arguments.length)||Ei("Function '"+mt+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+Ne[at].Od+")!"),Ne[at].Od[arguments.length].apply(this,arguments)},Ne[at].Od=[],Ne[at].Od[At.ve]=At}}function Dn(Ne,at,mt){O.hasOwnProperty(Ne)?((mt===void 0||O[Ne].Od!==void 0&&O[Ne].Od[mt]!==void 0)&&Ei("Cannot register public name '"+Ne+"' twice"),vn(O,Ne,Ne),O.hasOwnProperty(mt)&&Ei("Cannot register multiple overloads of a function with the same number of arguments ("+mt+")!"),O[Ne].Od[mt]=at):(O[Ne]=at,mt!==void 0&&(O[Ne].ig=mt))}function kn(Ne,at,mt,At,Qt,br,or,vr){this.name=Ne,this.constructor=at,this.ye=mt,this.ae=At,this.Yd=Qt,this.Ef=br,this.Ie=or,this.yf=vr,this.Rf=[]}function Zt(Ne,at,mt){for(;at!==mt;)at.Ie||Ei("Expected null or instance of "+mt.name+", got an instance of "+at.name),Ne=at.Ie(Ne),at=at.Yd;return Ne}function _r(Ne,at){return at===null?(this.Ye&&Ei("null is not a valid "+this.name),0):(at.Cd||Ei('Cannot pass "'+io(at)+'" as a '+this.name),at.Cd.Kd||Ei("Cannot pass deleted object as a pointer of type "+this.name),Zt(at.Cd.Kd,at.Cd.Md.Gd,this.Gd))}function fr(Ne,at){if(at===null){if(this.Ye&&Ei("null is not a valid "+this.name),this.Ne){var mt=this.Ze();return Ne!==null&&Ne.push(this.ae,mt),mt}return 0}if(at.Cd||Ei('Cannot pass "'+io(at)+'" as a '+this.name),at.Cd.Kd||Ei("Cannot pass deleted object as a pointer of type "+this.name),!this.Me&&at.Cd.Md.Me&&Ei("Cannot convert argument of type "+(at.Cd.Wd?at.Cd.Wd.name:at.Cd.Md.name)+" to parameter type "+this.name),mt=Zt(at.Cd.Kd,at.Cd.Md.Gd,this.Gd),this.Ne)switch(at.Cd.Rd===void 0&&Ei("Passing raw pointer to smart pointer is illegal"),this.Xf){case 0:at.Cd.Wd===this?mt=at.Cd.Rd:Ei("Cannot convert argument of type "+(at.Cd.Wd?at.Cd.Wd.name:at.Cd.Md.name)+" to parameter type "+this.name);break;case 1:mt=at.Cd.Rd;break;case 2:if(at.Cd.Wd===this)mt=at.Cd.Rd;else{var At=at.clone();mt=this.Sf(mt,Wi((function(){At.delete()}))),Ne!==null&&Ne.push(this.ae,mt)}break;default:Ei("Unsupporting sharing policy")}return mt}function pr(Ne,at){return at===null?(this.Ye&&Ei("null is not a valid "+this.name),0):(at.Cd||Ei('Cannot pass "'+io(at)+'" as a '+this.name),at.Cd.Kd||Ei("Cannot pass deleted object as a pointer of type "+this.name),at.Cd.Md.Me&&Ei("Cannot convert argument of type "+at.Cd.Md.name+" to parameter type "+this.name),Zt(at.Cd.Kd,at.Cd.Md.Gd,this.Gd))}function gr(Ne,at,mt,At,Qt,br,or,vr,Hr,Fr,Nn){this.name=Ne,this.Gd=at,this.Ye=mt,this.Me=At,this.Ne=Qt,this.Qf=br,this.Xf=or,this.mf=vr,this.Ze=Hr,this.Sf=Fr,this.ae=Nn,Qt||at.Yd!==void 0?this.toWireType=fr:(this.toWireType=At?_r:pr,this.Vd=null)}function Ar(Ne,at,mt){O.hasOwnProperty(Ne)||wi("Replacing nonexistant public symbol"),O[Ne].Od!==void 0&&mt!==void 0?O[Ne].Od[mt]=at:(O[Ne]=at,O[Ne].ve=mt)}function Xr(Ne){return lr.get(Ne)}function cn(Ne,at){var mt=(Ne=ai(Ne)).includes("j")?(function(At,Qt){var br=[];return function(){if(br.length=0,Object.assign(br,arguments),At.includes("j")){var or=O["dynCall_"+At];or=br&&br.length?or.apply(null,[Qt].concat(br)):or.call(null,Qt)}else or=Xr(Qt).apply(null,br);return or}})(Ne,at):Xr(at);return typeof mt!="function"&&Ei("unknown function pointer with signature "+Ne+": "+at),mt}var nn=void 0;function tn(Ne){var at=ai(Ne=vo(Ne));return qi(Ne),at}function $r(Ne,at){var mt=[],At={};throw at.forEach((function Qt(br){At[br]||_n[br]||(In[br]?In[br].forEach(Qt):(mt.push(br),At[br]=!0))})),new nn(Ne+": "+mt.map(tn).join([", "]))}function Bn(Ne){var at=Function;if(!(at instanceof Function))throw new TypeError("new_ called with constructor type "+typeof at+" which is not a function");var mt=ti(at.name||"unknownFunctionName",(function(){}));return mt.prototype=at.prototype,mt=new mt,(Ne=at.apply(mt,Ne))instanceof Object?Ne:mt}function zn(Ne,at,mt,At,Qt){var br=at.length;2>br&&Ei("argTypes array size mismatch! Must at least get return value and 'this' types!");var or=at[1]!==null&&mt!==null,vr=!1;for(mt=1;mt<at.length;++mt)if(at[mt]!==null&&at[mt].Vd===void 0){vr=!0;break}var Hr=at[0].name!=="void",Fr="",Nn="";for(mt=0;mt<br-2;++mt)Fr+=(mt!==0?", ":"")+"arg"+mt,Nn+=(mt!==0?", ":"")+"arg"+mt+"Wired";Ne="return function "+Fn(Ne)+"("+Fr+`) {
if (arguments.length !== `+(br-2)+`) {
throwBindingError('function `+Ne+" called with ' + arguments.length + ' arguments, expected "+(br-2)+` args!');
}
`,vr&&(Ne+=`var destructors = [];
`);var Wn=vr?"destructors":"null";for(Fr="throwBindingError invoker fn runDestructors retType classParam".split(" "),At=[Ei,At,Qt,mr,at[0],at[1]],or&&(Ne+="var thisWired = classParam.toWireType("+Wn+`, this);
`),mt=0;mt<br-2;++mt)Ne+="var arg"+mt+"Wired = argType"+mt+".toWireType("+Wn+", arg"+mt+"); // "+at[mt+2].name+`
`,Fr.push("argType"+mt),At.push(at[mt+2]);if(or&&(Nn="thisWired"+(0<Nn.length?", ":"")+Nn),Ne+=(Hr?"var rv = ":"")+"invoker(fn"+(0<Nn.length?", ":"")+Nn+`);
`,vr)Ne+=`runDestructors(destructors);
`;else for(mt=or?1:2;mt<at.length;++mt)br=mt===1?"thisWired":"arg"+(mt-2)+"Wired",at[mt].Vd!==null&&(Ne+=br+"_dtor("+br+"); // "+at[mt].name+`
`,Fr.push(br+"_dtor"),At.push(at[mt].Vd));return Hr&&(Ne+=`var ret = retType.fromWireType(rv);
return ret;
`),Fr.push(Ne+`}
`),Bn(Fr).apply(null,At)}function ri(Ne,at){for(var mt=[],At=0;At<Ne;At++)mt.push(Mt[at+4*At>>2]);return mt}var qn=[],Yn=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function fi(Ne){4<Ne&&--Yn[Ne].$e==0&&(Yn[Ne]=void 0,qn.push(Ne))}var Yi=Ne=>(Ne||Ei("Cannot use deleted val. handle = "+Ne),Yn[Ne].value),Wi=Ne=>{switch(Ne){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:var at=qn.length?qn.pop():Yn.length;return Yn[at]={$e:1,value:Ne},at}};function _a(Ne,at,mt){switch(at){case 0:return function(At){return this.fromWireType((mt?Ze:Qe)[At])};case 1:return function(At){return this.fromWireType((mt?vt:pt)[At>>1])};case 2:return function(At){return this.fromWireType((mt?ut:Mt)[At>>2])};default:throw new TypeError("Unknown integer type: "+Ne)}}function ja(Ne,at){var mt=_n[Ne];return mt===void 0&&Ei(at+" has unknown type "+tn(Ne)),mt}function io(Ne){if(Ne===null)return"null";var at=typeof Ne;return at==="object"||at==="array"||at==="function"?Ne.toString():""+Ne}function No(Ne,at){switch(at){case 2:return function(mt){return this.fromWireType(bt[mt>>2])};case 3:return function(mt){return this.fromWireType(ar[mt>>3])};default:throw new TypeError("Unknown float type: "+Ne)}}function So(Ne,at,mt){switch(at){case 0:return mt?function(At){return Ze[At]}:function(At){return Qe[At]};case 1:return mt?function(At){return vt[At>>1]}:function(At){return pt[At>>1]};case 2:return mt?function(At){return ut[At>>2]}:function(At){return Mt[At>>2]};default:throw new TypeError("Unknown integer type: "+Ne)}}var co=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0;function Bi(Ne,at){for(var mt=Ne>>1,At=mt+at/2;!(mt>=At)&&pt[mt];)++mt;if(32<(mt<<=1)-Ne&&co)return co.decode(Qe.subarray(Ne,mt));for(mt="",At=0;!(At>=at/2);++At){var Qt=vt[Ne+2*At>>1];if(Qt==0)break;mt+=String.fromCharCode(Qt)}return mt}function ra(Ne,at,mt){if(mt===void 0&&(mt=2147483647),2>mt)return 0;var At=at;mt=(mt-=2)<2*Ne.length?mt/2:Ne.length;for(var Qt=0;Qt<mt;++Qt)vt[at>>1]=Ne.charCodeAt(Qt),at+=2;return vt[at>>1]=0,at-At}function Hi(Ne){return 2*Ne.length}function Ma(Ne,at){for(var mt=0,At="";!(mt>=at/4);){var Qt=ut[Ne+4*mt>>2];if(Qt==0)break;++mt,65536<=Qt?(Qt-=65536,At+=String.fromCharCode(55296|Qt>>10,56320|1023&Qt)):At+=String.fromCharCode(Qt)}return At}function _o(Ne,at,mt){if(mt===void 0&&(mt=2147483647),4>mt)return 0;var At=at;mt=At+mt-4;for(var Qt=0;Qt<Ne.length;++Qt){var br=Ne.charCodeAt(Qt);if(55296<=br&&57343>=br&&(br=65536+((1023&br)<<10)|1023&Ne.charCodeAt(++Qt)),ut[at>>2]=br,(at+=4)+4>mt)break}return ut[at>>2]=0,at-At}function $o(Ne){for(var at=0,mt=0;mt<Ne.length;++mt){var At=Ne.charCodeAt(mt);55296<=At&&57343>=At&&++mt,at+=4}return at}var Ii={};function pa(Ne){var at=Ii[Ne];return at===void 0?ai(Ne):at}var Va,Do=[],Zi=[];Va=Ge?()=>{var Ne=z.hrtime();return 1e3*Ne[0]+Ne[1]/1e6}:()=>performance.now();var es=1,Ro=[],Ca=[],ua=[],ao=[],Qa=[],Sa=[],po=[],Ja=[],Ga=[],oo=[],go={},as={},ct=4;function kt(Ne){Ur||(Ur=Ne)}function $t(Ne){for(var at=es++,mt=Ne.length;mt<at;mt++)Ne[mt]=null;return at}function Sr(Ne){return Pr=Ja[Ne],O.gg=Yr=Pr&&Pr.ze,!(Ne&&!Yr)}var Ur,Pr,ei=[];function si(Ne,at,mt,At){for(var Qt=0;Qt<Ne;Qt++){var br=Yr[mt](),or=br&&$t(At);br?(br.name=or,At[or]=br):kt(1282),ut[at+4*Qt>>2]=or}}function Ni(Ne,at){if(at){var mt=void 0;switch(Ne){case 36346:mt=1;break;case 36344:return;case 34814:case 36345:mt=0;break;case 34466:var At=Yr.getParameter(34467);mt=At?At.length:0;break;case 33309:if(2>Pr.version)return void kt(1282);mt=2*(Yr.getSupportedExtensions()||[]).length;break;case 33307:case 33308:if(2>Pr.version)return void kt(1280);mt=Ne==33307?3:0}if(mt===void 0)switch(At=Yr.getParameter(Ne),typeof At){case"number":mt=At;break;case"boolean":mt=At?1:0;break;case"string":return void kt(1280);case"object":if(At===null)switch(Ne){case 34964:case 35725:case 34965:case 36006:case 36007:case 32873:case 34229:case 36662:case 36663:case 35053:case 35055:case 36010:case 35097:case 35869:case 32874:case 36389:case 35983:case 35368:case 34068:mt=0;break;default:return void kt(1280)}else{if(At instanceof Float32Array||At instanceof Uint32Array||At instanceof Int32Array||At instanceof Array){for(Ne=0;Ne<At.length;++Ne)ut[at+4*Ne>>2]=At[Ne];return}try{mt=0|At.name}catch(Qt){return kt(1280),void tt("GL_INVALID_ENUM in glGet0v: Unknown object returned from WebGL getParameter("+Ne+")! (error: "+Qt+")")}}break;default:return kt(1280),void tt("GL_INVALID_ENUM in glGet0v: Native code calling glGet0v("+Ne+") and it returns "+At+" of type "+typeof At+"!")}ut[at>>2]=mt}else kt(1281)}function Ui(Ne){var at=Ct(Ne)+1,mt=Po(at);return Dt(Ne,Qe,mt,at),mt}function la(Ne){return Ne.slice(-1)=="]"&&Ne.lastIndexOf("[")}function $i(Ne){return(Ne-=5120)==0?Ze:Ne==1?Qe:Ne==2?vt:Ne==4?ut:Ne==6?bt:Ne==5||Ne==28922||Ne==28520||Ne==30779||Ne==30782?Mt:pt}function wa(Ne,at,mt,At,Qt){Ne=$i(Ne);var br=31-Math.clz32(Ne.BYTES_PER_ELEMENT),or=ct;return Ne.subarray(Qt>>br,Qt+At*(mt*({5:3,6:4,8:2,29502:3,29504:4,26917:2,26918:2,29846:3,29847:4}[at-6402]||1)*(1<<br)+or-1&-or)>>br)}function Ri(Ne){var at=Yr.xf;if(at){var mt=at.He[Ne];return typeof mt=="number"&&(at.He[Ne]=mt=Yr.getUniformLocation(at,at.nf[Ne]+(0<mt?"["+mt+"]":""))),mt}kt(1282)}var za=[],ea=[],Xa={};function Uo(){if(!ts){var Ne,at={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:oe||"./this.program"};for(Ne in Xa)Xa[Ne]===void 0?delete at[Ne]:at[Ne]=Xa[Ne];var mt=[];for(Ne in at)mt.push(Ne+"="+at[Ne]);ts=mt}return ts}var ts,Ns=[null,[],[]];function Wa(Ne){return Ne%4==0&&(Ne%100!=0||Ne%400==0)}var Bo=[31,29,31,30,31,30,31,31,30,31,30,31],Zo=[31,28,31,30,31,30,31,31,30,31,30,31];vi=O.InternalError=Qn("InternalError");for(var Yo=Array(256),Vi=0;256>Vi;++Vi)Yo[Vi]=String.fromCharCode(Vi);Gi=Yo,zi=O.BindingError=Qn("BindingError"),hn.prototype.isAliasOf=function(Ne){if(!(this instanceof hn&&Ne instanceof hn))return!1;var at=this.Cd.Md.Gd,mt=this.Cd.Kd,At=Ne.Cd.Md.Gd;for(Ne=Ne.Cd.Kd;at.Yd;)mt=at.Ie(mt),at=at.Yd;for(;At.Yd;)Ne=At.Ie(Ne),At=At.Yd;return at===At&&mt===Ne},hn.prototype.clone=function(){if(this.Cd.Kd||Vn(this),this.Cd.Ge)return this.Cd.count.value+=1,this;var Ne=Mn,at=Object,mt=at.create,At=Object.getPrototypeOf(this),Qt=this.Cd;return(Ne=Ne(mt.call(at,At,{Cd:{value:{count:Qt.count,xe:Qt.xe,Ge:Qt.Ge,Kd:Qt.Kd,Md:Qt.Md,Rd:Qt.Rd,Wd:Qt.Wd}}}))).Cd.count.value+=1,Ne.Cd.xe=!1,Ne},hn.prototype.delete=function(){this.Cd.Kd||Vn(this),this.Cd.xe&&!this.Cd.Ge&&Ei("Object already scheduled for deletion"),Na(this),wt(this.Cd),this.Cd.Ge||(this.Cd.Rd=void 0,this.Cd.Kd=void 0)},hn.prototype.isDeleted=function(){return!this.Cd.Kd},hn.prototype.deleteLater=function(){return this.Cd.Kd||Vn(this),this.Cd.xe&&!this.Cd.Ge&&Ei("Object already scheduled for deletion"),nr.push(this),nr.length===1&&Nr&&Nr(Yt),this.Cd.xe=!0,this},O.getInheritedInstanceCount=function(){return Object.keys(Gr).length},O.getLiveInheritedInstances=function(){var Ne,at=[];for(Ne in Gr)Gr.hasOwnProperty(Ne)&&at.push(Gr[Ne]);return at},O.flushPendingDeletes=Yt,O.setDelayFunction=function(Ne){Nr=Ne,nr.length&&Nr&&Nr(Yt)},gr.prototype.Ff=function(Ne){return this.mf&&(Ne=this.mf(Ne)),Ne},gr.prototype.gf=function(Ne){this.ae&&this.ae(Ne)},gr.prototype.argPackAdvance=8,gr.prototype.readValueFromPointer=Cr,gr.prototype.deleteObject=function(Ne){Ne!==null&&Ne.delete()},gr.prototype.fromWireType=function(Ne){function at(){return this.Ne?Vr(this.Gd.ye,{Md:this.Qf,Kd:mt,Wd:this,Rd:Ne}):Vr(this.Gd.ye,{Md:this,Kd:Ne})}var mt=this.Ff(Ne);if(!mt)return this.gf(Ne),null;var At=(function(br,or){for(or===void 0&&Ei("ptr should not be undefined");br.Yd;)or=br.Ie(or),br=br.Yd;return Gr[or]})(this.Gd,mt);if(At!==void 0)return At.Cd.count.value===0?(At.Cd.Kd=mt,At.Cd.Rd=Ne,At.clone()):(At=At.clone(),this.gf(Ne),At);if(At=this.Gd.Ef(mt),!(At=jt[At]))return at.call(this);At=this.Me?At.vf:At.pointerType;var Qt=_t(mt,this.Gd,At.Gd);return Qt===null?at.call(this):this.Ne?Vr(At.Gd.ye,{Md:At,Kd:Qt,Wd:this,Rd:Ne}):Vr(At.Gd.ye,{Md:At,Kd:Qt})},nn=O.UnboundTypeError=Qn("UnboundTypeError"),O.count_emval_handles=function(){for(var Ne=0,at=5;at<Yn.length;++at)Yn[at]!==void 0&&++Ne;return Ne},O.get_first_emval=function(){for(var Ne=5;Ne<Yn.length;++Ne)if(Yn[Ne]!==void 0)return Yn[Ne];return null};for(var Yr,gi=0;32>gi;++gi)ei.push(Array(gi));var so=new Float32Array(288);for(gi=0;288>gi;++gi)za[gi]=so.subarray(0,gi+1);var yo=new Int32Array(288);for(gi=0;288>gi;++gi)ea[gi]=yo.subarray(0,gi+1);var ms={H:function(){return 0},xb:function(){},zb:function(){return 0},ub:function(){},Ab:function(){},vb:function(){},P:function(Ne){var at=Xt[Ne];delete Xt[Ne];var mt=at.Ze,At=at.ae,Qt=at.kf;oi([Ne],Qt.map((br=>br.If)).concat(Qt.map((br=>br.Vf))),(br=>{var or={};return Qt.forEach(((vr,Hr)=>{var Fr=br[Hr],Nn=vr.Gf,Wn=vr.Hf,ui=br[Hr+Qt.length],pi=vr.Uf,Kn=vr.Wf;or[vr.Af]={read:Li=>Fr.fromWireType(Nn(Wn,Li)),write:(Li,We)=>{var nt=[];pi(Kn,Li,ui.toWireType(nt,We)),mr(nt)}}})),[{name:at.name,fromWireType:function(vr){var Hr,Fr={};for(Hr in or)Fr[Hr]=or[Hr].read(vr);return At(vr),Fr},toWireType:function(vr,Hr){for(var Fr in or)if(!(Fr in Hr))throw new TypeError('Missing field:  "'+Fr+'"');var Nn=mt();for(Fr in or)or[Fr].write(Nn,Hr[Fr]);return vr!==null&&vr.push(At,Nn),Nn},argPackAdvance:8,readValueFromPointer:Cr,Vd:At}]}))},kb:function(){},Cb:function(Ne,at,mt,At,Qt){var br=Si(mt);fa(Ne,{name:at=ai(at),fromWireType:function(or){return!!or},toWireType:function(or,vr){return vr?At:Qt},argPackAdvance:8,readValueFromPointer:function(or){if(mt===1)var vr=Ze;else if(mt===2)vr=vt;else{if(mt!==4)throw new TypeError("Unknown boolean type size: "+at);vr=ut}return this.fromWireType(vr[or>>br])},Vd:null})},i:function(Ne,at,mt,At,Qt,br,or,vr,Hr,Fr,Nn,Wn,ui){Nn=ai(Nn),br=cn(Qt,br),vr&&(vr=cn(or,vr)),Fr&&(Fr=cn(Hr,Fr)),ui=cn(Wn,ui);var pi=Fn(Nn);Dn(pi,(function(){$r("Cannot construct "+Nn+" due to unbound types",[At])})),oi([Ne,at,mt],At?[At]:[],(function(Kn){if(Kn=Kn[0],At)var Li=Kn.Gd,We=Li.ye;else We=hn.prototype;Kn=ti(pi,(function(){if(Object.getPrototypeOf(this)!==nt)throw new zi("Use 'new' to construct "+Nn);if(ft.ee===void 0)throw new zi(Nn+" has no accessible constructor");var Lt=ft.ee[arguments.length];if(Lt===void 0)throw new zi("Tried to invoke ctor of "+Nn+" with invalid number of parameters ("+arguments.length+") - expected ("+Object.keys(ft.ee).toString()+") parameters instead!");return Lt.apply(this,arguments)}));var nt=Object.create(We,{constructor:{value:Kn}});Kn.prototype=nt;var ft=new kn(Nn,Kn,nt,ui,Li,br,vr,Fr);Li=new gr(Nn,ft,!0,!1,!1),We=new gr(Nn+"*",ft,!1,!1,!1);var Rt=new gr(Nn+" const*",ft,!1,!0,!1);return jt[Ne]={pointerType:We,vf:Rt},Ar(pi,Kn),[Li,We,Rt]}))},g:function(Ne,at,mt,At,Qt,br,or){var vr=ri(mt,At);at=ai(at),br=cn(Qt,br),oi([],[Ne],(function(Hr){function Fr(){$r("Cannot call "+Nn+" due to unbound types",vr)}var Nn=(Hr=Hr[0]).name+"."+at;at.startsWith("@@")&&(at=Symbol[at.substring(2)]);var Wn=Hr.Gd.constructor;return Wn[at]===void 0?(Fr.ve=mt-1,Wn[at]=Fr):(vn(Wn,at,Nn),Wn[at].Od[mt-1]=Fr),oi([],vr,(function(ui){return ui=[ui[0],null].concat(ui.slice(1)),ui=zn(Nn,ui,null,br,or),Wn[at].Od===void 0?(ui.ve=mt-1,Wn[at]=ui):Wn[at].Od[mt-1]=ui,[]})),[]}))},r:function(Ne,at,mt,At,Qt,br){0<at||tr();var or=ri(at,mt);Qt=cn(At,Qt),oi([],[Ne],(function(vr){var Hr="constructor "+(vr=vr[0]).name;if(vr.Gd.ee===void 0&&(vr.Gd.ee=[]),vr.Gd.ee[at-1]!==void 0)throw new zi("Cannot register multiple constructors with identical number of parameters ("+(at-1)+") for class '"+vr.name+"'! Overload resolution is currently only performed using the parameter count, not actual type info!");return vr.Gd.ee[at-1]=()=>{$r("Cannot construct "+vr.name+" due to unbound types",or)},oi([],or,(function(Fr){return Fr.splice(1,0,null),vr.Gd.ee[at-1]=zn(Hr,Fr,null,Qt,br),[]})),[]}))},b:function(Ne,at,mt,At,Qt,br,or,vr){var Hr=ri(mt,At);at=ai(at),br=cn(Qt,br),oi([],[Ne],(function(Fr){function Nn(){$r("Cannot call "+Wn+" due to unbound types",Hr)}var Wn=(Fr=Fr[0]).name+"."+at;at.startsWith("@@")&&(at=Symbol[at.substring(2)]),vr&&Fr.Gd.Rf.push(at);var ui=Fr.Gd.ye,pi=ui[at];return pi===void 0||pi.Od===void 0&&pi.className!==Fr.name&&pi.ve===mt-2?(Nn.ve=mt-2,Nn.className=Fr.name,ui[at]=Nn):(vn(ui,at,Wn),ui[at].Od[mt-2]=Nn),oi([],Hr,(function(Kn){return Kn=zn(Wn,Kn,Fr,br,or),ui[at].Od===void 0?(Kn.ve=mt-2,ui[at]=Kn):ui[at].Od[mt-2]=Kn,[]})),[]}))},O:function(Ne,at,mt){Ne=ai(Ne),oi([],[at],(function(At){return At=At[0],O[Ne]=At.fromWireType(mt),[]}))},Bb:function(Ne,at){fa(Ne,{name:at=ai(at),fromWireType:function(mt){var At=Yi(mt);return fi(mt),At},toWireType:function(mt,At){return Wi(At)},argPackAdvance:8,readValueFromPointer:Cr,Vd:null})},k:function(Ne,at,mt,At){function Qt(){}mt=Si(mt),at=ai(at),Qt.values={},fa(Ne,{name:at,constructor:Qt,fromWireType:function(br){return this.constructor.values[br]},toWireType:function(br,or){return or.value},argPackAdvance:8,readValueFromPointer:_a(at,mt,At),Vd:null}),Dn(at,Qt)},c:function(Ne,at,mt){var At=ja(Ne,"enum");at=ai(at),Ne=At.constructor,At=Object.create(At.constructor.prototype,{value:{value:mt},constructor:{value:ti(At.name+"_"+at,(function(){}))}}),Ne.values[mt]=At,Ne[at]=At},L:function(Ne,at,mt){mt=Si(mt),fa(Ne,{name:at=ai(at),fromWireType:function(At){return At},toWireType:function(At,Qt){return Qt},argPackAdvance:8,readValueFromPointer:No(at,mt),Vd:null})},q:function(Ne,at,mt,At,Qt,br){var or=ri(at,mt);Ne=ai(Ne),Qt=cn(At,Qt),Dn(Ne,(function(){$r("Cannot call "+Ne+" due to unbound types",or)}),at-1),oi([],or,(function(vr){return vr=[vr[0],null].concat(vr.slice(1)),Ar(Ne,zn(Ne,vr,null,Qt,br),at-1),[]}))},s:function(Ne,at,mt,At,Qt){at=ai(at),Qt===-1&&(Qt=4294967295),Qt=Si(mt);var br=vr=>vr;if(At===0){var or=32-8*mt;br=vr=>vr<<or>>>or}mt=at.includes("unsigned")?function(vr,Hr){return Hr>>>0}:function(vr,Hr){return Hr},fa(Ne,{name:at,fromWireType:br,toWireType:mt,argPackAdvance:8,readValueFromPointer:So(at,Qt,At!==0),Vd:null})},n:function(Ne,at,mt){function At(br){br>>=2;var or=Mt;return new Qt(or.buffer,or[br+1],or[br])}var Qt=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][at];fa(Ne,{name:mt=ai(mt),fromWireType:At,argPackAdvance:8,readValueFromPointer:At},{Kf:!0})},o:function(Ne,at,mt,At,Qt,br,or,vr,Hr,Fr,Nn,Wn){mt=ai(mt),br=cn(Qt,br),vr=cn(or,vr),Fr=cn(Hr,Fr),Wn=cn(Nn,Wn),oi([Ne],[at],(function(ui){return ui=ui[0],[new gr(mt,ui.Gd,!1,!1,!0,ui,At,br,vr,Fr,Wn)]}))},K:function(Ne,at){var mt=(at=ai(at))==="std::string";fa(Ne,{name:at,fromWireType:function(At){var Qt=Mt[At>>2],br=At+4;if(mt)for(var or=br,vr=0;vr<=Qt;++vr){var Hr=br+vr;if(vr==Qt||Qe[Hr]==0){if(or=Bt(or,Hr-or),Fr===void 0)var Fr=or;else Fr+="\0",Fr+=or;or=Hr+1}}else{for(Fr=Array(Qt),vr=0;vr<Qt;++vr)Fr[vr]=String.fromCharCode(Qe[br+vr]);Fr=Fr.join("")}return qi(At),Fr},toWireType:function(At,Qt){Qt instanceof ArrayBuffer&&(Qt=new Uint8Array(Qt));var br,or=typeof Qt=="string";or||Qt instanceof Uint8Array||Qt instanceof Uint8ClampedArray||Qt instanceof Int8Array||Ei("Cannot pass non-string to std::string"),br=mt&&or?Ct(Qt):Qt.length;var vr=Po(4+br+1),Hr=vr+4;if(Mt[vr>>2]=br,mt&&or)Dt(Qt,Qe,Hr,br+1);else if(or)for(or=0;or<br;++or){var Fr=Qt.charCodeAt(or);255<Fr&&(qi(Hr),Ei("String has UTF-16 code units that do not fit in 8 bits")),Qe[Hr+or]=Fr}else for(or=0;or<br;++or)Qe[Hr+or]=Qt[or];return At!==null&&At.push(qi,vr),vr},argPackAdvance:8,readValueFromPointer:Cr,Vd:function(At){qi(At)}})},B:function(Ne,at,mt){if(mt=ai(mt),at===2)var At=Bi,Qt=ra,br=Hi,or=()=>pt,vr=1;else at===4&&(At=Ma,Qt=_o,br=$o,or=()=>Mt,vr=2);fa(Ne,{name:mt,fromWireType:function(Hr){for(var Fr,Nn=Mt[Hr>>2],Wn=or(),ui=Hr+4,pi=0;pi<=Nn;++pi){var Kn=Hr+4+pi*at;pi!=Nn&&Wn[Kn>>vr]!=0||(ui=At(ui,Kn-ui),Fr===void 0?Fr=ui:(Fr+="\0",Fr+=ui),ui=Kn+at)}return qi(Hr),Fr},toWireType:function(Hr,Fr){typeof Fr!="string"&&Ei("Cannot pass non-string to C++ string type "+mt);var Nn=br(Fr),Wn=Po(4+Nn+at);return Mt[Wn>>2]=Nn>>vr,Qt(Fr,Wn+4,Nn+at),Hr!==null&&Hr.push(qi,Wn),Wn},argPackAdvance:8,readValueFromPointer:Cr,Vd:function(Hr){qi(Hr)}})},J:function(Ne,at,mt,At,Qt,br){Xt[Ne]={name:ai(at),Ze:cn(mt,At),ae:cn(Qt,br),kf:[]}},v:function(Ne,at,mt,At,Qt,br,or,vr,Hr,Fr){Xt[Ne].kf.push({Af:ai(at),If:mt,Gf:cn(At,Qt),Hf:br,Vf:or,Uf:cn(vr,Hr),Wf:Fr})},Db:function(Ne,at){fa(Ne,{Mf:!0,name:at=ai(at),argPackAdvance:0,fromWireType:function(){},toWireType:function(){}})},rb:function(){return!0},mb:function(){throw 1/0},gb:function(Ne,at,mt,At,Qt){Ne=Do[Ne],at=Yi(at),mt=pa(mt);var br=[];return Mt[At>>2]=Wi(br),Ne(at,mt,br,Qt)},w:function(Ne,at,mt,At){(Ne=Do[Ne])(at=Yi(at),mt=pa(mt),null,At)},p:fi,u:function(Ne,at){var mt=(function(Nn,Wn){for(var ui=Array(Nn),pi=0;pi<Nn;++pi)ui[pi]=ja(Mt[Wn+4*pi>>2],"parameter "+pi);return ui})(Ne,at),At=mt[0];at=At.name+"_$"+mt.slice(1).map((function(Nn){return Nn.name})).join("_")+"$";var Qt=Zi[at];if(Qt!==void 0)return Qt;Qt=["retType"];for(var br=[At],or="",vr=0;vr<Ne-1;++vr)or+=(vr!==0?", ":"")+"arg"+vr,Qt.push("argType"+vr),br.push(mt[1+vr]);var Hr="return function "+Fn("methodCaller_"+at)+`(handle, name, destructors, args) {
`,Fr=0;for(vr=0;vr<Ne-1;++vr)Hr+="    var arg"+vr+" = argType"+vr+".readValueFromPointer(args"+(Fr?"+"+Fr:"")+`);
`,Fr+=mt[vr+1].argPackAdvance;for(Hr+="    var rv = handle[name]("+or+`);
`,vr=0;vr<Ne-1;++vr)mt[vr+1].deleteObject&&(Hr+="    argType"+vr+".deleteObject(arg"+vr+`);
`);return At.Mf||(Hr+=`    return retType.toWireType(destructors, rv);
`),Qt.push(Hr+`};
`),Qt=(function(Nn){var Wn=Do.length;return Do.push(Nn),Wn})(Ne=Bn(Qt).apply(null,br)),Zi[at]=Qt},t:function(Ne){4<Ne&&(Yn[Ne].$e+=1)},D:function(){return Wi([])},x:function(Ne){return Wi(pa(Ne))},hb:function(){return Wi({})},fb:function(Ne){mr(Yi(Ne)),fi(Ne)},A:function(Ne,at,mt){Ne=Yi(Ne),at=Yi(at),mt=Yi(mt),Ne[at]=mt},y:function(Ne,at){return Ne=(Ne=ja(Ne,"_emval_take_value")).readValueFromPointer(at),Wi(Ne)},ob:function(){return-52},pb:function(){},a:function(){tr("")},qb:Va,Xc:function(Ne){Yr.activeTexture(Ne)},R:function(Ne,at){Yr.attachShader(Ca[Ne],Sa[at])},S:function(Ne,at,mt){Yr.bindAttribLocation(Ca[Ne],at,Bt(mt))},T:function(Ne,at){Ne==35051?Yr.Xe=at:Ne==35052&&(Yr.we=at),Yr.bindBuffer(Ne,Ro[at])},_b:function(Ne,at){Yr.bindFramebuffer(Ne,ua[at])},$b:function(Ne,at){Yr.bindRenderbuffer(Ne,ao[at])},Mb:function(Ne,at){Yr.bindSampler(Ne,Ga[at])},U:function(Ne,at){Yr.bindTexture(Ne,Qa[at])},tc:function(Ne){Yr.bindVertexArray(po[Ne])},wc:function(Ne){Yr.bindVertexArray(po[Ne])},V:function(Ne,at,mt,At){Yr.blendColor(Ne,at,mt,At)},W:function(Ne){Yr.blendEquation(Ne)},X:function(Ne,at){Yr.blendFunc(Ne,at)},Tb:function(Ne,at,mt,At,Qt,br,or,vr,Hr,Fr){Yr.blitFramebuffer(Ne,at,mt,At,Qt,br,or,vr,Hr,Fr)},Y:function(Ne,at,mt,At){2<=Pr.version?mt&&at?Yr.bufferData(Ne,Qe,At,mt,at):Yr.bufferData(Ne,at,At):Yr.bufferData(Ne,mt?Qe.subarray(mt,mt+at):at,At)},Z:function(Ne,at,mt,At){2<=Pr.version?mt&&Yr.bufferSubData(Ne,at,Qe,At,mt):Yr.bufferSubData(Ne,at,Qe.subarray(At,At+mt))},ac:function(Ne){return Yr.checkFramebufferStatus(Ne)},_:function(Ne){Yr.clear(Ne)},$:function(Ne,at,mt,At){Yr.clearColor(Ne,at,mt,At)},aa:function(Ne){Yr.clearStencil(Ne)},cb:function(Ne,at,mt,At){return Yr.clientWaitSync(oo[Ne],at,(mt>>>0)+4294967296*At)},ba:function(Ne,at,mt,At){Yr.colorMask(!!Ne,!!at,!!mt,!!At)},ca:function(Ne){Yr.compileShader(Sa[Ne])},da:function(Ne,at,mt,At,Qt,br,or,vr){2<=Pr.version?Yr.we||!or?Yr.compressedTexImage2D(Ne,at,mt,At,Qt,br,or,vr):Yr.compressedTexImage2D(Ne,at,mt,At,Qt,br,Qe,vr,or):Yr.compressedTexImage2D(Ne,at,mt,At,Qt,br,vr?Qe.subarray(vr,vr+or):null)},ea:function(Ne,at,mt,At,Qt,br,or,vr,Hr){2<=Pr.version?Yr.we||!vr?Yr.compressedTexSubImage2D(Ne,at,mt,At,Qt,br,or,vr,Hr):Yr.compressedTexSubImage2D(Ne,at,mt,At,Qt,br,or,Qe,Hr,vr):Yr.compressedTexSubImage2D(Ne,at,mt,At,Qt,br,or,Hr?Qe.subarray(Hr,Hr+vr):null)},fa:function(Ne,at,mt,At,Qt,br,or,vr){Yr.copyTexSubImage2D(Ne,at,mt,At,Qt,br,or,vr)},ga:function(){var Ne=$t(Ca),at=Yr.createProgram();return at.name=Ne,at.Qe=at.Oe=at.Pe=0,at.bf=1,Ca[Ne]=at,Ne},ha:function(Ne){var at=$t(Sa);return Sa[at]=Yr.createShader(Ne),at},ia:function(Ne){Yr.cullFace(Ne)},ja:function(Ne,at){for(var mt=0;mt<Ne;mt++){var At=ut[at+4*mt>>2],Qt=Ro[At];Qt&&(Yr.deleteBuffer(Qt),Qt.name=0,Ro[At]=null,At==Yr.Xe&&(Yr.Xe=0),At==Yr.we&&(Yr.we=0))}},bc:function(Ne,at){for(var mt=0;mt<Ne;++mt){var At=ut[at+4*mt>>2],Qt=ua[At];Qt&&(Yr.deleteFramebuffer(Qt),Qt.name=0,ua[At]=null)}},ka:function(Ne){if(Ne){var at=Ca[Ne];at?(Yr.deleteProgram(at),at.name=0,Ca[Ne]=null):kt(1281)}},cc:function(Ne,at){for(var mt=0;mt<Ne;mt++){var At=ut[at+4*mt>>2],Qt=ao[At];Qt&&(Yr.deleteRenderbuffer(Qt),Qt.name=0,ao[At]=null)}},Nb:function(Ne,at){for(var mt=0;mt<Ne;mt++){var At=ut[at+4*mt>>2],Qt=Ga[At];Qt&&(Yr.deleteSampler(Qt),Qt.name=0,Ga[At]=null)}},la:function(Ne){if(Ne){var at=Sa[Ne];at?(Yr.deleteShader(at),Sa[Ne]=null):kt(1281)}},Vb:function(Ne){if(Ne){var at=oo[Ne];at?(Yr.deleteSync(at),at.name=0,oo[Ne]=null):kt(1281)}},ma:function(Ne,at){for(var mt=0;mt<Ne;mt++){var At=ut[at+4*mt>>2],Qt=Qa[At];Qt&&(Yr.deleteTexture(Qt),Qt.name=0,Qa[At]=null)}},uc:function(Ne,at){for(var mt=0;mt<Ne;mt++){var At=ut[at+4*mt>>2];Yr.deleteVertexArray(po[At]),po[At]=null}},xc:function(Ne,at){for(var mt=0;mt<Ne;mt++){var At=ut[at+4*mt>>2];Yr.deleteVertexArray(po[At]),po[At]=null}},na:function(Ne){Yr.depthMask(!!Ne)},oa:function(Ne){Yr.disable(Ne)},pa:function(Ne){Yr.disableVertexAttribArray(Ne)},qa:function(Ne,at,mt){Yr.drawArrays(Ne,at,mt)},rc:function(Ne,at,mt,At){Yr.drawArraysInstanced(Ne,at,mt,At)},pc:function(Ne,at,mt,At,Qt){Yr.hf.drawArraysInstancedBaseInstanceWEBGL(Ne,at,mt,At,Qt)},nc:function(Ne,at){for(var mt=ei[Ne],At=0;At<Ne;At++)mt[At]=ut[at+4*At>>2];Yr.drawBuffers(mt)},ra:function(Ne,at,mt,At){Yr.drawElements(Ne,at,mt,At)},sc:function(Ne,at,mt,At,Qt){Yr.drawElementsInstanced(Ne,at,mt,At,Qt)},qc:function(Ne,at,mt,At,Qt,br,or){Yr.hf.drawElementsInstancedBaseVertexBaseInstanceWEBGL(Ne,at,mt,At,Qt,br,or)},hc:function(Ne,at,mt,At,Qt,br){Yr.drawElements(Ne,At,Qt,br)},sa:function(Ne){Yr.enable(Ne)},ta:function(Ne){Yr.enableVertexAttribArray(Ne)},Rb:function(Ne,at){return(Ne=Yr.fenceSync(Ne,at))?(at=$t(oo),Ne.name=at,oo[at]=Ne,at):0},ua:function(){Yr.finish()},va:function(){Yr.flush()},dc:function(Ne,at,mt,At){Yr.framebufferRenderbuffer(Ne,at,mt,ao[At])},ec:function(Ne,at,mt,At,Qt){Yr.framebufferTexture2D(Ne,at,mt,Qa[At],Qt)},wa:function(Ne){Yr.frontFace(Ne)},xa:function(Ne,at){si(Ne,at,"createBuffer",Ro)},fc:function(Ne,at){si(Ne,at,"createFramebuffer",ua)},gc:function(Ne,at){si(Ne,at,"createRenderbuffer",ao)},Ob:function(Ne,at){si(Ne,at,"createSampler",Ga)},ya:function(Ne,at){si(Ne,at,"createTexture",Qa)},vc:function(Ne,at){si(Ne,at,"createVertexArray",po)},yc:function(Ne,at){si(Ne,at,"createVertexArray",po)},Wb:function(Ne){Yr.generateMipmap(Ne)},za:function(Ne,at,mt){mt?ut[mt>>2]=Yr.getBufferParameter(Ne,at):kt(1281)},Aa:function(){var Ne=Yr.getError()||Ur;return Ur=0,Ne},Xb:function(Ne,at,mt,At){((Ne=Yr.getFramebufferAttachmentParameter(Ne,at,mt))instanceof WebGLRenderbuffer||Ne instanceof WebGLTexture)&&(Ne=0|Ne.name),ut[At>>2]=Ne},ab:function(Ne,at){Ni(Ne,at)},Ba:function(Ne,at,mt,At){(Ne=Yr.getProgramInfoLog(Ca[Ne]))===null&&(Ne="(unknown error)"),at=0<at&&At?Dt(Ne,Qe,At,at):0,mt&&(ut[mt>>2]=at)},Ca:function(Ne,at,mt){if(mt)if(Ne>=es)kt(1281);else if(Ne=Ca[Ne],at==35716)(Ne=Yr.getProgramInfoLog(Ne))===null&&(Ne="(unknown error)"),ut[mt>>2]=Ne.length+1;else if(at==35719){if(!Ne.Qe)for(at=0;at<Yr.getProgramParameter(Ne,35718);++at)Ne.Qe=Math.max(Ne.Qe,Yr.getActiveUniform(Ne,at).name.length+1);ut[mt>>2]=Ne.Qe}else if(at==35722){if(!Ne.Oe)for(at=0;at<Yr.getProgramParameter(Ne,35721);++at)Ne.Oe=Math.max(Ne.Oe,Yr.getActiveAttrib(Ne,at).name.length+1);ut[mt>>2]=Ne.Oe}else if(at==35381){if(!Ne.Pe)for(at=0;at<Yr.getProgramParameter(Ne,35382);++at)Ne.Pe=Math.max(Ne.Pe,Yr.getActiveUniformBlockName(Ne,at).length+1);ut[mt>>2]=Ne.Pe}else ut[mt>>2]=Yr.getProgramParameter(Ne,at);else kt(1281)},Yb:function(Ne,at,mt){mt?ut[mt>>2]=Yr.getRenderbufferParameter(Ne,at):kt(1281)},Da:function(Ne,at,mt,At){(Ne=Yr.getShaderInfoLog(Sa[Ne]))===null&&(Ne="(unknown error)"),at=0<at&&At?Dt(Ne,Qe,At,at):0,mt&&(ut[mt>>2]=at)},Jb:function(Ne,at,mt,At){Ne=Yr.getShaderPrecisionFormat(Ne,at),ut[mt>>2]=Ne.rangeMin,ut[mt+4>>2]=Ne.rangeMax,ut[At>>2]=Ne.precision},Ea:function(Ne,at,mt){mt?at==35716?((Ne=Yr.getShaderInfoLog(Sa[Ne]))===null&&(Ne="(unknown error)"),ut[mt>>2]=Ne?Ne.length+1:0):at==35720?(Ne=Yr.getShaderSource(Sa[Ne]),ut[mt>>2]=Ne?Ne.length+1:0):ut[mt>>2]=Yr.getShaderParameter(Sa[Ne],at):kt(1281)},F:function(Ne){var at=go[Ne];if(!at){switch(Ne){case 7939:at=Ui((at=(at=Yr.getSupportedExtensions()||[]).concat(at.map((function(At){return"GL_"+At})))).join(" "));break;case 7936:case 7937:case 37445:case 37446:(at=Yr.getParameter(Ne))||kt(1280),at=at&&Ui(at);break;case 7938:at=Yr.getParameter(7938),at=Ui(at=2<=Pr.version?"OpenGL ES 3.0 ("+at+")":"OpenGL ES 2.0 ("+at+")");break;case 35724:var mt=(at=Yr.getParameter(35724)).match(/^WebGL GLSL ES ([0-9]\.[0-9][0-9]?)(?:$| .*)/);mt!==null&&(mt[1].length==3&&(mt[1]+="0"),at="OpenGL ES GLSL ES "+mt[1]+" ("+at+")"),at=Ui(at);break;default:kt(1280)}go[Ne]=at}return at},bb:function(Ne,at){if(2>Pr.version)return kt(1282),0;var mt=as[Ne];return mt?0>at||at>=mt.length?(kt(1281),0):mt[at]:Ne===7939?(mt=(mt=(mt=Yr.getSupportedExtensions()||[]).concat(mt.map((function(At){return"GL_"+At})))).map((function(At){return Ui(At)})),mt=as[Ne]=mt,0>at||at>=mt.length?(kt(1281),0):mt[at]):(kt(1280),0)},Fa:function(Ne,at){if(at=Bt(at),Ne=Ca[Ne]){var mt,At=Ne,Qt=At.He,br=At.pf;if(!Qt)for(At.He=Qt={},At.nf={},mt=0;mt<Yr.getProgramParameter(At,35718);++mt){var or=Yr.getActiveUniform(At,mt),vr=or.name;or=or.size;var Hr=la(vr);Hr=0<Hr?vr.slice(0,Hr):vr;var Fr=At.bf;for(At.bf+=or,br[Hr]=[or,Fr],vr=0;vr<or;++vr)Qt[Fr]=vr,At.nf[Fr++]=Hr}if(At=Ne.He,Qt=0,br=at,0<(mt=la(at))&&(Qt=parseInt(at.slice(mt+1))>>>0,br=at.slice(0,mt)),(br=Ne.pf[br])&&Qt<br[0]&&(At[Qt+=br[1]]=At[Qt]||Yr.getUniformLocation(Ne,at)))return Qt}else kt(1281);return-1},Kb:function(Ne,at,mt){for(var At=ei[at],Qt=0;Qt<at;Qt++)At[Qt]=ut[mt+4*Qt>>2];Yr.invalidateFramebuffer(Ne,At)},Lb:function(Ne,at,mt,At,Qt,br,or){for(var vr=ei[at],Hr=0;Hr<at;Hr++)vr[Hr]=ut[mt+4*Hr>>2];Yr.invalidateSubFramebuffer(Ne,vr,At,Qt,br,or)},Sb:function(Ne){return Yr.isSync(oo[Ne])},Ga:function(Ne){return(Ne=Qa[Ne])?Yr.isTexture(Ne):0},Ha:function(Ne){Yr.lineWidth(Ne)},Ia:function(Ne){Ne=Ca[Ne],Yr.linkProgram(Ne),Ne.He=0,Ne.pf={}},lc:function(Ne,at,mt,At,Qt,br){Yr.lf.multiDrawArraysInstancedBaseInstanceWEBGL(Ne,ut,at>>2,ut,mt>>2,ut,At>>2,Mt,Qt>>2,br)},mc:function(Ne,at,mt,At,Qt,br,or,vr){Yr.lf.multiDrawElementsInstancedBaseVertexBaseInstanceWEBGL(Ne,ut,at>>2,mt,ut,At>>2,ut,Qt>>2,ut,br>>2,Mt,or>>2,vr)},Ja:function(Ne,at){Ne==3317&&(ct=at),Yr.pixelStorei(Ne,at)},oc:function(Ne){Yr.readBuffer(Ne)},Ka:function(Ne,at,mt,At,Qt,br,or){if(2<=Pr.version)if(Yr.Xe)Yr.readPixels(Ne,at,mt,At,Qt,br,or);else{var vr=$i(br);Yr.readPixels(Ne,at,mt,At,Qt,br,vr,or>>31-Math.clz32(vr.BYTES_PER_ELEMENT))}else(or=wa(br,Qt,mt,At,or))?Yr.readPixels(Ne,at,mt,At,Qt,br,or):kt(1280)},Zb:function(Ne,at,mt,At){Yr.renderbufferStorage(Ne,at,mt,At)},Ub:function(Ne,at,mt,At,Qt){Yr.renderbufferStorageMultisample(Ne,at,mt,At,Qt)},Pb:function(Ne,at,mt){Yr.samplerParameteri(Ga[Ne],at,mt)},Qb:function(Ne,at,mt){Yr.samplerParameteri(Ga[Ne],at,ut[mt>>2])},La:function(Ne,at,mt,At){Yr.scissor(Ne,at,mt,At)},Ma:function(Ne,at,mt,At){for(var Qt="",br=0;br<at;++br){var or=At?ut[At+4*br>>2]:-1;Qt+=Bt(ut[mt+4*br>>2],0>or?void 0:or)}Yr.shaderSource(Sa[Ne],Qt)},Na:function(Ne,at,mt){Yr.stencilFunc(Ne,at,mt)},Oa:function(Ne,at,mt,At){Yr.stencilFuncSeparate(Ne,at,mt,At)},Pa:function(Ne){Yr.stencilMask(Ne)},Qa:function(Ne,at){Yr.stencilMaskSeparate(Ne,at)},Ra:function(Ne,at,mt){Yr.stencilOp(Ne,at,mt)},Sa:function(Ne,at,mt,At){Yr.stencilOpSeparate(Ne,at,mt,At)},Ta:function(Ne,at,mt,At,Qt,br,or,vr,Hr){if(2<=Pr.version)if(Yr.we)Yr.texImage2D(Ne,at,mt,At,Qt,br,or,vr,Hr);else if(Hr){var Fr=$i(vr);Yr.texImage2D(Ne,at,mt,At,Qt,br,or,vr,Fr,Hr>>31-Math.clz32(Fr.BYTES_PER_ELEMENT))}else Yr.texImage2D(Ne,at,mt,At,Qt,br,or,vr,null);else Yr.texImage2D(Ne,at,mt,At,Qt,br,or,vr,Hr?wa(vr,or,At,Qt,Hr):null)},Ua:function(Ne,at,mt){Yr.texParameterf(Ne,at,mt)},Va:function(Ne,at,mt){Yr.texParameterf(Ne,at,bt[mt>>2])},Wa:function(Ne,at,mt){Yr.texParameteri(Ne,at,mt)},Ya:function(Ne,at,mt){Yr.texParameteri(Ne,at,ut[mt>>2])},ic:function(Ne,at,mt,At,Qt){Yr.texStorage2D(Ne,at,mt,At,Qt)},Za:function(Ne,at,mt,At,Qt,br,or,vr,Hr){if(2<=Pr.version)if(Yr.we)Yr.texSubImage2D(Ne,at,mt,At,Qt,br,or,vr,Hr);else if(Hr){var Fr=$i(vr);Yr.texSubImage2D(Ne,at,mt,At,Qt,br,or,vr,Fr,Hr>>31-Math.clz32(Fr.BYTES_PER_ELEMENT))}else Yr.texSubImage2D(Ne,at,mt,At,Qt,br,or,vr,null);else Fr=null,Hr&&(Fr=wa(vr,or,Qt,br,Hr)),Yr.texSubImage2D(Ne,at,mt,At,Qt,br,or,vr,Fr)},_a:function(Ne,at){Yr.uniform1f(Ri(Ne),at)},$a:function(Ne,at,mt){if(2<=Pr.version)at&&Yr.uniform1fv(Ri(Ne),bt,mt>>2,at);else{if(288>=at)for(var At=za[at-1],Qt=0;Qt<at;++Qt)At[Qt]=bt[mt+4*Qt>>2];else At=bt.subarray(mt>>2,mt+4*at>>2);Yr.uniform1fv(Ri(Ne),At)}},Tc:function(Ne,at){Yr.uniform1i(Ri(Ne),at)},Uc:function(Ne,at,mt){if(2<=Pr.version)at&&Yr.uniform1iv(Ri(Ne),ut,mt>>2,at);else{if(288>=at)for(var At=ea[at-1],Qt=0;Qt<at;++Qt)At[Qt]=ut[mt+4*Qt>>2];else At=ut.subarray(mt>>2,mt+4*at>>2);Yr.uniform1iv(Ri(Ne),At)}},Vc:function(Ne,at,mt){Yr.uniform2f(Ri(Ne),at,mt)},Wc:function(Ne,at,mt){if(2<=Pr.version)at&&Yr.uniform2fv(Ri(Ne),bt,mt>>2,2*at);else{if(144>=at)for(var At=za[2*at-1],Qt=0;Qt<2*at;Qt+=2)At[Qt]=bt[mt+4*Qt>>2],At[Qt+1]=bt[mt+(4*Qt+4)>>2];else At=bt.subarray(mt>>2,mt+8*at>>2);Yr.uniform2fv(Ri(Ne),At)}},Sc:function(Ne,at,mt){Yr.uniform2i(Ri(Ne),at,mt)},Rc:function(Ne,at,mt){if(2<=Pr.version)at&&Yr.uniform2iv(Ri(Ne),ut,mt>>2,2*at);else{if(144>=at)for(var At=ea[2*at-1],Qt=0;Qt<2*at;Qt+=2)At[Qt]=ut[mt+4*Qt>>2],At[Qt+1]=ut[mt+(4*Qt+4)>>2];else At=ut.subarray(mt>>2,mt+8*at>>2);Yr.uniform2iv(Ri(Ne),At)}},Qc:function(Ne,at,mt,At){Yr.uniform3f(Ri(Ne),at,mt,At)},Pc:function(Ne,at,mt){if(2<=Pr.version)at&&Yr.uniform3fv(Ri(Ne),bt,mt>>2,3*at);else{if(96>=at)for(var At=za[3*at-1],Qt=0;Qt<3*at;Qt+=3)At[Qt]=bt[mt+4*Qt>>2],At[Qt+1]=bt[mt+(4*Qt+4)>>2],At[Qt+2]=bt[mt+(4*Qt+8)>>2];else At=bt.subarray(mt>>2,mt+12*at>>2);Yr.uniform3fv(Ri(Ne),At)}},Oc:function(Ne,at,mt,At){Yr.uniform3i(Ri(Ne),at,mt,At)},Nc:function(Ne,at,mt){if(2<=Pr.version)at&&Yr.uniform3iv(Ri(Ne),ut,mt>>2,3*at);else{if(96>=at)for(var At=ea[3*at-1],Qt=0;Qt<3*at;Qt+=3)At[Qt]=ut[mt+4*Qt>>2],At[Qt+1]=ut[mt+(4*Qt+4)>>2],At[Qt+2]=ut[mt+(4*Qt+8)>>2];else At=ut.subarray(mt>>2,mt+12*at>>2);Yr.uniform3iv(Ri(Ne),At)}},Mc:function(Ne,at,mt,At,Qt){Yr.uniform4f(Ri(Ne),at,mt,At,Qt)},Lc:function(Ne,at,mt){if(2<=Pr.version)at&&Yr.uniform4fv(Ri(Ne),bt,mt>>2,4*at);else{if(72>=at){var At=za[4*at-1],Qt=bt;mt>>=2;for(var br=0;br<4*at;br+=4){var or=mt+br;At[br]=Qt[or],At[br+1]=Qt[or+1],At[br+2]=Qt[or+2],At[br+3]=Qt[or+3]}}else At=bt.subarray(mt>>2,mt+16*at>>2);Yr.uniform4fv(Ri(Ne),At)}},zc:function(Ne,at,mt,At,Qt){Yr.uniform4i(Ri(Ne),at,mt,At,Qt)},Ac:function(Ne,at,mt){if(2<=Pr.version)at&&Yr.uniform4iv(Ri(Ne),ut,mt>>2,4*at);else{if(72>=at)for(var At=ea[4*at-1],Qt=0;Qt<4*at;Qt+=4)At[Qt]=ut[mt+4*Qt>>2],At[Qt+1]=ut[mt+(4*Qt+4)>>2],At[Qt+2]=ut[mt+(4*Qt+8)>>2],At[Qt+3]=ut[mt+(4*Qt+12)>>2];else At=ut.subarray(mt>>2,mt+16*at>>2);Yr.uniform4iv(Ri(Ne),At)}},Bc:function(Ne,at,mt,At){if(2<=Pr.version)at&&Yr.uniformMatrix2fv(Ri(Ne),!!mt,bt,At>>2,4*at);else{if(72>=at)for(var Qt=za[4*at-1],br=0;br<4*at;br+=4)Qt[br]=bt[At+4*br>>2],Qt[br+1]=bt[At+(4*br+4)>>2],Qt[br+2]=bt[At+(4*br+8)>>2],Qt[br+3]=bt[At+(4*br+12)>>2];else Qt=bt.subarray(At>>2,At+16*at>>2);Yr.uniformMatrix2fv(Ri(Ne),!!mt,Qt)}},Cc:function(Ne,at,mt,At){if(2<=Pr.version)at&&Yr.uniformMatrix3fv(Ri(Ne),!!mt,bt,At>>2,9*at);else{if(32>=at)for(var Qt=za[9*at-1],br=0;br<9*at;br+=9)Qt[br]=bt[At+4*br>>2],Qt[br+1]=bt[At+(4*br+4)>>2],Qt[br+2]=bt[At+(4*br+8)>>2],Qt[br+3]=bt[At+(4*br+12)>>2],Qt[br+4]=bt[At+(4*br+16)>>2],Qt[br+5]=bt[At+(4*br+20)>>2],Qt[br+6]=bt[At+(4*br+24)>>2],Qt[br+7]=bt[At+(4*br+28)>>2],Qt[br+8]=bt[At+(4*br+32)>>2];else Qt=bt.subarray(At>>2,At+36*at>>2);Yr.uniformMatrix3fv(Ri(Ne),!!mt,Qt)}},Dc:function(Ne,at,mt,At){if(2<=Pr.version)at&&Yr.uniformMatrix4fv(Ri(Ne),!!mt,bt,At>>2,16*at);else{if(18>=at){var Qt=za[16*at-1],br=bt;At>>=2;for(var or=0;or<16*at;or+=16){var vr=At+or;Qt[or]=br[vr],Qt[or+1]=br[vr+1],Qt[or+2]=br[vr+2],Qt[or+3]=br[vr+3],Qt[or+4]=br[vr+4],Qt[or+5]=br[vr+5],Qt[or+6]=br[vr+6],Qt[or+7]=br[vr+7],Qt[or+8]=br[vr+8],Qt[or+9]=br[vr+9],Qt[or+10]=br[vr+10],Qt[or+11]=br[vr+11],Qt[or+12]=br[vr+12],Qt[or+13]=br[vr+13],Qt[or+14]=br[vr+14],Qt[or+15]=br[vr+15]}}else Qt=bt.subarray(At>>2,At+64*at>>2);Yr.uniformMatrix4fv(Ri(Ne),!!mt,Qt)}},Ec:function(Ne){Ne=Ca[Ne],Yr.useProgram(Ne),Yr.xf=Ne},Fc:function(Ne,at){Yr.vertexAttrib1f(Ne,at)},Gc:function(Ne,at){Yr.vertexAttrib2f(Ne,bt[at>>2],bt[at+4>>2])},Hc:function(Ne,at){Yr.vertexAttrib3f(Ne,bt[at>>2],bt[at+4>>2],bt[at+8>>2])},Ic:function(Ne,at){Yr.vertexAttrib4f(Ne,bt[at>>2],bt[at+4>>2],bt[at+8>>2],bt[at+12>>2])},jc:function(Ne,at){Yr.vertexAttribDivisor(Ne,at)},kc:function(Ne,at,mt,At,Qt){Yr.vertexAttribIPointer(Ne,at,mt,At,Qt)},Jc:function(Ne,at,mt,At,Qt,br){Yr.vertexAttribPointer(Ne,at,mt,!!At,Qt,br)},Kc:function(Ne,at,mt,At){Yr.viewport(Ne,at,mt,At)},db:function(Ne,at,mt,At){Yr.waitSync(oo[Ne],at,(mt>>>0)+4294967296*At)},nb:function(Ne){var at=Qe.length;if(2147483648<(Ne>>>=0))return!1;for(var mt=1;4>=mt;mt*=2){var At=at*(1+.2/mt);At=Math.min(At,Ne+100663296);var Qt=Math,br=Qt.min;At=Math.max(Ne,At),At+=(65536-At%65536)%65536;e:{var or=Ke.buffer;try{Ke.grow(br.call(Qt,2147483648,At)-or.byteLength+65535>>>16),It();var vr=1;break e}catch{}vr=void 0}if(vr)return!0}return!1},Yc:function(){return Pr?Pr.Jf:0},Q:function(Ne){return Sr(Ne)?0:-5},sb:function(Ne,at){var mt=0;return Uo().forEach((function(At,Qt){var br=at+mt;for(Qt=Mt[Ne+4*Qt>>2]=br,br=0;br<At.length;++br)Ze[Qt++>>0]=At.charCodeAt(br);Ze[Qt>>0]=0,mt+=At.length+1})),0},tb:function(Ne,at){var mt=Uo();Mt[Ne>>2]=mt.length;var At=0;return mt.forEach((function(Qt){At+=Qt.length+1})),Mt[at>>2]=At,0},Eb:function(Ne){ue(Ne,new gt(Ne))},I:function(){return 52},ib:function(){return 52},yb:function(){return 52},jb:function(){return 70},G:function(Ne,at,mt,At){for(var Qt=0,br=0;br<mt;br++){var or=Mt[at>>2],vr=Mt[at+4>>2];at+=8;for(var Hr=0;Hr<vr;Hr++){var Fr=Qe[or+Hr],Nn=Ns[Ne];Fr===0||Fr===10?((Ne===1?He:tt)(Gt(Nn,0)),Nn.length=0):Nn.push(Fr)}Qt+=vr}return Mt[At>>2]=Qt,0},Zc:function(Ne,at){Yr.bindFramebuffer(Ne,ua[at])},Xa:function(Ne){Yr.clear(Ne)},wb:function(Ne,at,mt,At){Yr.clearColor(Ne,at,mt,At)},eb:function(Ne){Yr.clearStencil(Ne)},E:function(Ne,at){Ni(Ne,at)},f:function(Ne,at){var mt=ga();try{return Xr(Ne)(at)}catch(At){if(Da(mt),At!==At+0)throw At;$a(1,0)}},j:function(Ne,at,mt){var At=ga();try{return Xr(Ne)(at,mt)}catch(Qt){if(Da(At),Qt!==Qt+0)throw Qt;$a(1,0)}},d:function(Ne,at,mt,At){var Qt=ga();try{return Xr(Ne)(at,mt,At)}catch(br){if(Da(Qt),br!==br+0)throw br;$a(1,0)}},z:function(Ne,at,mt,At,Qt){var br=ga();try{return Xr(Ne)(at,mt,At,Qt)}catch(or){if(Da(br),or!==or+0)throw or;$a(1,0)}},Ib:function(Ne,at,mt,At,Qt,br){var or=ga();try{return Xr(Ne)(at,mt,At,Qt,br)}catch(vr){if(Da(or),vr!==vr+0)throw vr;$a(1,0)}},N:function(Ne,at,mt,At,Qt,br,or){var vr=ga();try{return Xr(Ne)(at,mt,At,Qt,br,or)}catch(Hr){if(Da(vr),Hr!==Hr+0)throw Hr;$a(1,0)}},M:function(Ne,at,mt,At,Qt,br,or,vr,Hr,Fr){var Nn=ga();try{return Xr(Ne)(at,mt,At,Qt,br,or,vr,Hr,Fr)}catch(Wn){if(Da(Nn),Wn!==Wn+0)throw Wn;$a(1,0)}},C:function(Ne){var at=ga();try{Xr(Ne)()}catch(mt){if(Da(at),mt!==mt+0)throw mt;$a(1,0)}},h:function(Ne,at){var mt=ga();try{Xr(Ne)(at)}catch(At){if(Da(mt),At!==At+0)throw At;$a(1,0)}},m:function(Ne,at,mt){var At=ga();try{Xr(Ne)(at,mt)}catch(Qt){if(Da(At),Qt!==Qt+0)throw Qt;$a(1,0)}},e:function(Ne,at,mt,At){var Qt=ga();try{Xr(Ne)(at,mt,At)}catch(br){if(Da(Qt),br!==br+0)throw br;$a(1,0)}},l:function(Ne,at,mt,At,Qt){var br=ga();try{Xr(Ne)(at,mt,At,Qt)}catch(or){if(Da(br),or!==or+0)throw or;$a(1,0)}},Hb:function(Ne,at,mt,At,Qt,br){var or=ga();try{Xr(Ne)(at,mt,At,Qt,br)}catch(vr){if(Da(or),vr!==vr+0)throw vr;$a(1,0)}},Fb:function(Ne,at,mt,At,Qt,br,or){var vr=ga();try{Xr(Ne)(at,mt,At,Qt,br,or)}catch(Hr){if(Da(vr),Hr!==Hr+0)throw Hr;$a(1,0)}},Gb:function(Ne,at,mt,At,Qt,br,or,vr,Hr,Fr){var Nn=ga();try{Xr(Ne)(at,mt,At,Qt,br,or,vr,Hr,Fr)}catch(Wn){if(Da(Nn),Wn!==Wn+0)throw Wn;$a(1,0)}},lb:function(Ne,at,mt,At){return(function(Qt,br,or,vr){function Hr(nt,ft,Rt){for(nt=typeof nt=="number"?nt.toString():nt||"";nt.length<ft;)nt=Rt[0]+nt;return nt}function Fr(nt,ft){return Hr(nt,ft,"0")}function Nn(nt,ft){function Rt(Ut){return 0>Ut?-1:0<Ut?1:0}var Lt;return(Lt=Rt(nt.getFullYear()-ft.getFullYear()))===0&&(Lt=Rt(nt.getMonth()-ft.getMonth()))===0&&(Lt=Rt(nt.getDate()-ft.getDate())),Lt}function Wn(nt){switch(nt.getDay()){case 0:return new Date(nt.getFullYear()-1,11,29);case 1:return nt;case 2:return new Date(nt.getFullYear(),0,3);case 3:return new Date(nt.getFullYear(),0,2);case 4:return new Date(nt.getFullYear(),0,1);case 5:return new Date(nt.getFullYear()-1,11,31);case 6:return new Date(nt.getFullYear()-1,11,30)}}function ui(nt){var ft=nt.fe;for(nt=new Date(new Date(nt.ge+1900,0,1).getTime());0<ft;){var Rt=nt.getMonth(),Lt=(Wa(nt.getFullYear())?Bo:Zo)[Rt];if(!(ft>Lt-nt.getDate())){nt.setDate(nt.getDate()+ft);break}ft-=Lt-nt.getDate()+1,nt.setDate(1),11>Rt?nt.setMonth(Rt+1):(nt.setMonth(0),nt.setFullYear(nt.getFullYear()+1))}return Rt=new Date(nt.getFullYear()+1,0,4),ft=Wn(new Date(nt.getFullYear(),0,4)),Rt=Wn(Rt),0>=Nn(ft,nt)?0>=Nn(Rt,nt)?nt.getFullYear()+1:nt.getFullYear():nt.getFullYear()-1}var pi=ut[vr+40>>2];for(var Kn in vr={eg:ut[vr>>2],dg:ut[vr+4>>2],Re:ut[vr+8>>2],af:ut[vr+12>>2],Se:ut[vr+16>>2],ge:ut[vr+20>>2],Zd:ut[vr+24>>2],fe:ut[vr+28>>2],kg:ut[vr+32>>2],cg:ut[vr+36>>2],fg:pi?Bt(pi):""},or=Bt(or),pi={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})or=or.replace(new RegExp(Kn,"g"),pi[Kn]);var Li="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),We="January February March April May June July August September October November December".split(" ");for(Kn in pi={"%a":function(nt){return Li[nt.Zd].substring(0,3)},"%A":function(nt){return Li[nt.Zd]},"%b":function(nt){return We[nt.Se].substring(0,3)},"%B":function(nt){return We[nt.Se]},"%C":function(nt){return Fr((nt.ge+1900)/100|0,2)},"%d":function(nt){return Fr(nt.af,2)},"%e":function(nt){return Hr(nt.af,2," ")},"%g":function(nt){return ui(nt).toString().substring(2)},"%G":function(nt){return ui(nt)},"%H":function(nt){return Fr(nt.Re,2)},"%I":function(nt){return(nt=nt.Re)==0?nt=12:12<nt&&(nt-=12),Fr(nt,2)},"%j":function(nt){for(var ft=0,Rt=0;Rt<=nt.Se-1;ft+=(Wa(nt.ge+1900)?Bo:Zo)[Rt++]);return Fr(nt.af+ft,3)},"%m":function(nt){return Fr(nt.Se+1,2)},"%M":function(nt){return Fr(nt.dg,2)},"%n":function(){return`
`},"%p":function(nt){return 0<=nt.Re&&12>nt.Re?"AM":"PM"},"%S":function(nt){return Fr(nt.eg,2)},"%t":function(){return"	"},"%u":function(nt){return nt.Zd||7},"%U":function(nt){return Fr(Math.floor((nt.fe+7-nt.Zd)/7),2)},"%V":function(nt){var ft=Math.floor((nt.fe+7-(nt.Zd+6)%7)/7);if(2>=(nt.Zd+371-nt.fe-2)%7&&ft++,ft)ft==53&&((Rt=(nt.Zd+371-nt.fe)%7)==4||Rt==3&&Wa(nt.ge)||(ft=1));else{ft=52;var Rt=(nt.Zd+7-nt.fe-1)%7;(Rt==4||Rt==5&&Wa(nt.ge%400-1))&&ft++}return Fr(ft,2)},"%w":function(nt){return nt.Zd},"%W":function(nt){return Fr(Math.floor((nt.fe+7-(nt.Zd+6)%7)/7),2)},"%y":function(nt){return(nt.ge+1900).toString().substring(2)},"%Y":function(nt){return nt.ge+1900},"%z":function(nt){var ft=0<=(nt=nt.cg);return nt=Math.abs(nt)/60,(ft?"+":"-")+("0000"+(nt/60*100+nt%60)).slice(-4)},"%Z":function(nt){return nt.fg},"%%":function(){return"%"}},or=or.replace(/%%/g,"\0\0"),pi)or.includes(Kn)&&(or=or.replace(new RegExp(Kn,"g"),pi[Kn](vr)));return Kn=(function(nt){var ft=Array(Ct(nt)+1);return Dt(nt,ft,0,ft.length),ft})(or=or.replace(/\0\0/g,"%")),Kn.length>br?0:(Ze.set(Kn,Qt),Kn.length-1)})(Ne,at,mt,At)}};(function(){function Ne(Qt){O.asm=Qt.exports,Ke=O.asm._c,It(),lr=O.asm.ad,Ve.unshift(O.asm.$c),rt--,O.monitorRunDependencies&&O.monitorRunDependencies(rt),rt==0&&ur&&(Qt=ur,ur=null,Qt())}function at(Qt){Ne(Qt.instance)}function mt(Qt){return(function(){if(!_e&&(fe||Le)){if(typeof fetch=="function"&&!Wt.startsWith("file://"))return fetch(Wt,{credentials:"same-origin"}).then((function(br){if(!br.ok)throw"failed to load wasm binary file at '"+Wt+"'";return br.arrayBuffer()})).catch((function(){return et()}));if(K)return new Promise((function(br,or){K(Wt,(function(vr){br(new Uint8Array(vr))}),or)}))}return Promise.resolve().then((function(){return et()}))})().then((function(br){return WebAssembly.instantiate(br,At)})).then((function(br){return br})).then(Qt,(function(br){tt("failed to asynchronously prepare wasm: "+br),tr(br)}))}var At={a:ms};if(rt++,O.monitorRunDependencies&&O.monitorRunDependencies(rt),O.instantiateWasm)try{return O.instantiateWasm(At,Ne)}catch(Qt){tt("Module.instantiateWasm callback failed with error: "+Qt),T(Qt)}(_e||typeof WebAssembly.instantiateStreaming!="function"||Ft()||Wt.startsWith("file://")||Ge||typeof fetch!="function"?mt(at):fetch(Wt,{credentials:"same-origin"}).then((function(Qt){return WebAssembly.instantiateStreaming(Qt,At).then(at,(function(br){return tt("wasm streaming compile failed: "+br),tt("falling back to ArrayBuffer instantiation"),mt(at)}))}))).catch(T)})();var jo,qi=O._free=function(){return(qi=O._free=O.asm.bd).apply(null,arguments)},Po=O._malloc=function(){return(Po=O._malloc=O.asm.cd).apply(null,arguments)},vo=O.___getTypeName=function(){return(vo=O.___getTypeName=O.asm.dd).apply(null,arguments)};function $a(){return($a=O.asm.fd).apply(null,arguments)}function ga(){return(ga=O.asm.gd).apply(null,arguments)}function Da(){return(Da=O.asm.hd).apply(null,arguments)}function Za(){function Ne(){if(!jo&&(jo=!0,O.calledRun=!0,!dt)){if(Et(Ve),A(O),O.onRuntimeInitialized&&O.onRuntimeInitialized(),O.postRun)for(typeof O.postRun=="function"&&(O.postRun=[O.postRun]);O.postRun.length;){var at=O.postRun.shift();st.unshift(at)}Et(st)}}if(!(0<rt)){if(O.preRun)for(typeof O.preRun=="function"&&(O.preRun=[O.preRun]);O.preRun.length;)it();Et(Je),0<rt||(O.setStatus?(O.setStatus("Running..."),setTimeout((function(){setTimeout((function(){O.setStatus("")}),1),Ne()}),1)):Ne())}}if(O.__embind_initialize_bindings=function(){return(O.__embind_initialize_bindings=O.asm.ed).apply(null,arguments)},O.dynCall_viji=function(){return(O.dynCall_viji=O.asm.id).apply(null,arguments)},O.dynCall_vijiii=function(){return(O.dynCall_vijiii=O.asm.jd).apply(null,arguments)},O.dynCall_viiiiij=function(){return(O.dynCall_viiiiij=O.asm.kd).apply(null,arguments)},O.dynCall_ji=function(){return(O.dynCall_ji=O.asm.ld).apply(null,arguments)},O.dynCall_jii=function(){return(O.dynCall_jii=O.asm.md).apply(null,arguments)},O.dynCall_iiij=function(){return(O.dynCall_iiij=O.asm.nd).apply(null,arguments)},O.dynCall_iiiij=function(){return(O.dynCall_iiiij=O.asm.od).apply(null,arguments)},O.dynCall_viij=function(){return(O.dynCall_viij=O.asm.pd).apply(null,arguments)},O.dynCall_viiij=function(){return(O.dynCall_viiij=O.asm.qd).apply(null,arguments)},O.dynCall_iij=function(){return(O.dynCall_iij=O.asm.rd).apply(null,arguments)},O.dynCall_vij=function(){return(O.dynCall_vij=O.asm.sd).apply(null,arguments)},O.dynCall_jiiii=function(){return(O.dynCall_jiiii=O.asm.td).apply(null,arguments)},O.dynCall_jiiiiii=function(){return(O.dynCall_jiiiiii=O.asm.ud).apply(null,arguments)},O.dynCall_jiiiiji=function(){return(O.dynCall_jiiiiji=O.asm.vd).apply(null,arguments)},O.dynCall_iijj=function(){return(O.dynCall_iijj=O.asm.wd).apply(null,arguments)},O.dynCall_jiji=function(){return(O.dynCall_jiji=O.asm.xd).apply(null,arguments)},O.dynCall_viijii=function(){return(O.dynCall_viijii=O.asm.yd).apply(null,arguments)},O.dynCall_iiiiij=function(){return(O.dynCall_iiiiij=O.asm.zd).apply(null,arguments)},O.dynCall_iiiiijj=function(){return(O.dynCall_iiiiijj=O.asm.Ad).apply(null,arguments)},O.dynCall_iiiiiijj=function(){return(O.dynCall_iiiiiijj=O.asm.Bd).apply(null,arguments)},ur=function Ne(){jo||Za(),jo||(ur=Ne)},O.preInit)for(typeof O.preInit=="function"&&(O.preInit=[O.preInit]);0<O.preInit.length;)O.preInit.pop()();return Za(),I.ready});y.exports=R},2331:(y,x,r)=>{let b=r(4472);b="default"in b?b.default:b,y.exports=function(M){const z=JSON.parse(M.tilePieceBoundingBox),B=JSON.parse(M.tileBoundingBox),R=M.height,I=M.width,O=new Uint8ClampedArray(I*R*4),A=new Uint8ClampedArray(M.sourceImageData);let T,U;try{b.defs(M.projectionTo)==null&&b.defs(M.projectionTo,M.projectionToDefinition),b.defs(M.projectionFrom)==null&&b.defs(M.projectionFrom,M.projectionFromDefinition),T=b(M.projectionTo,M.projectionFrom)}catch{throw new Error("Error creating projection conversion between "+M.projectionTo+" and "+M.projectionFrom+".")}for(let q=0;q<R;q++){U=B._maxLatitude-q*M.tileHeightUnitsPerPixel;for(let K=0;K<I;K++){const J=B._minLongitude+K*M.tileWidthUnitsPerPixel,te=T.forward([J,U]),oe=te[0],ue=te[1],fe=M.tile_width-Math.round((z._maxLongitude-oe)/M.pixel_x_size),Le=Math.round((z._maxLatitude-ue)/M.pixel_y_size);if(fe>=0&&fe<M.tile_width&&Le>=0&&Le<M.tile_height){const Ge=Le*M.tile_width*4+4*fe,ze=A.slice(Ge,Ge+4);O.set(ze,q*I*4+4*K)}}}return O.buffer}},824:(y,x,r)=>{r.r(x),r.d(x,{TileUtilities:()=>z});var b=r(1375),M=r(5604);class z{static getPiecePosition(R,I,O,A,T,U,q,K,J,te,oe,ue){let fe;try{M.Projection.hasProjection(T)==null&&M.Projection.loadProjection(T,U),M.Projection.hasProjection(q)==null&&M.Projection.loadProjection(q,K),fe=M.Projection.getConverter(T,q)}catch{throw new Error("Error creating projection conversion between "+T+" and "+q+".")}let Le=R.maxLatitude,Ge=R.minLatitude,ze=R.minLongitude-oe,je=R.maxLongitude+oe;T.toUpperCase()===b.ProjectionConstants.EPSG_3857&&q.toUpperCase()===b.ProjectionConstants.EPSG_4326&&(Le=Le>b.ProjectionConstants.WEB_MERCATOR_MAX_LAT_RANGE?b.ProjectionConstants.WEB_MERCATOR_MAX_LAT_RANGE:Le,Ge=Ge<b.ProjectionConstants.WEB_MERCATOR_MIN_LAT_RANGE?b.ProjectionConstants.WEB_MERCATOR_MIN_LAT_RANGE:Ge,ze=ze<b.ProjectionConstants.WEB_MERCATOR_MIN_LON_RANGE?b.ProjectionConstants.WEB_MERCATOR_MIN_LON_RANGE:ze,je=je>b.ProjectionConstants.WEB_MERCATOR_MAX_LON_RANGE?b.ProjectionConstants.WEB_MERCATOR_MAX_LON_RANGE:je);const Be=M.Projection.convertCoordinates(b.ProjectionConstants.EPSG_4326,T,[-180,0]),_e=M.Projection.convertCoordinates(b.ProjectionConstants.EPSG_4326,T,[180,0]);ze=ze<Be[0]?Be[0]:ze,je=je>_e[0]?_e[0]:je;const He=fe.inverse([ze,Ge]),tt=fe.inverse([je,Le]),Ke=isNaN(He[1])?I.minLatitude:He[1],Ze=isNaN(tt[1])?I.maxLatitude:tt[1],Qe=He[0],vt=tt[0];return{startY:Math.max(0,Math.floor((I.maxLatitude-Ze)/J)),startX:Math.max(0,Math.floor((Qe-I.minLongitude)/te)),endY:Math.min(O,O-Math.floor((Ke-I.minLatitude)/J)),endX:Math.min(A,A-Math.floor((I.maxLongitude-vt)/te))}}}},7591:(y,x,r)=>{var b=r(5108);const M=r(2331);function z(B){const R=B.data,I=M(R);this.postMessage(I),this.close()}y.exports=function(B){B.onmessage=z,B.onerror=function(R){b.log("error",R)}}},9705:(y,x,r)=>{Object.defineProperty(x,"__esModule",{value:!0});var b=r(1540);function M(z){var B=[1/0,1/0,-1/0,-1/0];return b.coordEach(z,(function(R){B[0]>R[0]&&(B[0]=R[0]),B[1]>R[1]&&(B[1]=R[1]),B[2]<R[0]&&(B[2]=R[0]),B[3]<R[1]&&(B[3]=R[1])})),B}M.default=M,x.default=M},3809:(y,x,r)=>{Object.defineProperty(x,"__esModule",{value:!0});var b=r(611);x.default=function(M){for(var z,B,R=b.getCoords(M),I=0,O=1;O<R.length;)z=B||R[0],I+=((B=R[O])[0]-z[0])*(B[1]+z[1]),O++;return I>0}},8147:(y,x,r)=>{Object.defineProperty(x,"__esModule",{value:!0});var b=r(611);function M(z,B,R){var I=!1;B[0][0]===B[B.length-1][0]&&B[0][1]===B[B.length-1][1]&&(B=B.slice(0,B.length-1));for(var O=0,A=B.length-1;O<B.length;A=O++){var T=B[O][0],U=B[O][1],q=B[A][0],K=B[A][1];if(z[1]*(T-q)+U*(q-z[0])+K*(z[0]-T)==0&&(T-z[0])*(q-z[0])<=0&&(U-z[1])*(K-z[1])<=0)return!R;U>z[1]!=K>z[1]&&z[0]<(q-T)*(z[1]-U)/(K-U)+T&&(I=!I)}return I}x.default=function(z,B,R){if(R===void 0&&(R={}),!z)throw new Error("point is required");if(!B)throw new Error("polygon is required");var I=b.getCoord(z),O=b.getGeom(B),A=O.type,T=B.bbox,U=O.coordinates;if(T&&(function(oe,ue){return ue[0]<=oe[0]&&ue[1]<=oe[1]&&ue[2]>=oe[0]&&ue[3]>=oe[1]})(I,T)===!1)return!1;A==="Polygon"&&(U=[U]);for(var q=!1,K=0;K<U.length&&!q;K++)if(M(I,U[K][0],R.ignoreBoundary)){for(var J=!1,te=1;te<U[K].length&&!J;)M(I,U[K][te],!R.ignoreBoundary)&&(J=!0),te++;J||(q=!0)}return q}},2793:(y,x,r)=>{Object.defineProperty(x,"__esModule",{value:!0});var b=r(611);function M(z,B,R,I,O){var A=R[0],T=R[1],U=z[0],q=z[1],K=B[0],J=B[1],te=K-U,oe=J-q,ue=(R[0]-U)*oe-(R[1]-q)*te;if(O!==null){if(Math.abs(ue)>O)return!1}else if(ue!==0)return!1;return I?I==="start"?Math.abs(te)>=Math.abs(oe)?te>0?U<A&&A<=K:K<=A&&A<U:oe>0?q<T&&T<=J:J<=T&&T<q:I==="end"?Math.abs(te)>=Math.abs(oe)?te>0?U<=A&&A<K:K<A&&A<=U:oe>0?q<=T&&T<J:J<T&&T<=q:I==="both"&&(Math.abs(te)>=Math.abs(oe)?te>0?U<A&&A<K:K<A&&A<U:oe>0?q<T&&T<J:J<T&&T<q):Math.abs(te)>=Math.abs(oe)?te>0?U<=A&&A<=K:K<=A&&A<=U:oe>0?q<=T&&T<=J:J<=T&&T<=q}x.default=function(z,B,R){R===void 0&&(R={});for(var I=b.getCoord(z),O=b.getCoords(B),A=0;A<O.length-1;A++){var T=!1;if(R.ignoreEndVertices&&(A===0&&(T="start"),A===O.length-2&&(T="end"),A===0&&A+1===O.length-1&&(T="both")),M(O[A],O[A+1],I,T,R.epsilon===void 0?null:R.epsilon))return!0}return!1}},5184:function(y,x,r){var b=this&&this.__importDefault||function(A){return A&&A.__esModule?A:{default:A}};Object.defineProperty(x,"__esModule",{value:!0});var M=b(r(7906)),z=b(r(2793)),B=b(r(8147)),R=r(611);function I(A,T){return!(A[0]>T[0]||A[2]<T[2]||A[1]>T[1]||A[3]<T[3])}function O(A,T){return A[0]===T[0]&&A[1]===T[1]}x.default=function(A,T){var U=R.getGeom(A),q=R.getGeom(T),K=U.type,J=q.type;switch(K){case"Point":switch(J){case"MultiPoint":return(function(te,oe){var ue,fe=!1;for(ue=0;ue<oe.coordinates.length;ue++)if(O(oe.coordinates[ue],te.coordinates)){fe=!0;break}return fe})(U,q);case"LineString":return z.default(U,q,{ignoreEndVertices:!0});case"Polygon":case"MultiPolygon":return B.default(U,q,{ignoreBoundary:!0});default:throw new Error("feature2 "+J+" geometry not supported")}case"MultiPoint":switch(J){case"MultiPoint":return(function(te,oe){for(var ue=0;ue<te.coordinates.length;ue++){for(var fe=!1,Le=0;Le<oe.coordinates.length;Le++)O(te.coordinates[ue],oe.coordinates[Le])&&(fe=!0);if(!fe)return!1}return!0})(U,q);case"LineString":return(function(te,oe){for(var ue=!1,fe=0;fe<te.coordinates.length;fe++){if(!z.default(te.coordinates[fe],oe))return!1;ue||(ue=z.default(te.coordinates[fe],oe,{ignoreEndVertices:!0}))}return ue})(U,q);case"Polygon":case"MultiPolygon":return(function(te,oe){for(var ue=!0,fe=!1,Le=0;Le<te.coordinates.length;Le++){if(!(fe=B.default(te.coordinates[1],oe))){ue=!1;break}fe=B.default(te.coordinates[1],oe,{ignoreBoundary:!0})}return ue&&fe})(U,q);default:throw new Error("feature2 "+J+" geometry not supported")}case"LineString":switch(J){case"LineString":return(function(te,oe){for(var ue=0;ue<te.coordinates.length;ue++)if(!z.default(te.coordinates[ue],oe))return!1;return!0})(U,q);case"Polygon":case"MultiPolygon":return(function(te,oe){var ue,fe;if(!I(M.default(oe),M.default(te)))return!1;for(var Le=!1,Ge=0;Ge<te.coordinates.length-1;Ge++){if(!B.default(te.coordinates[Ge],oe))return!1;if(Le||(Le=B.default(te.coordinates[Ge],oe,{ignoreBoundary:!0})),!Le){var ze=(ue=te.coordinates[Ge],fe=te.coordinates[Ge+1],[(ue[0]+fe[0])/2,(ue[1]+fe[1])/2]);Le=B.default(ze,oe,{ignoreBoundary:!0})}}return Le})(U,q);default:throw new Error("feature2 "+J+" geometry not supported")}case"Polygon":switch(J){case"Polygon":case"MultiPolygon":return(function(te,oe){var ue=M.default(te);if(!I(M.default(oe),ue))return!1;for(var fe=0;fe<te.coordinates[0].length;fe++)if(!B.default(te.coordinates[0][fe],oe))return!1;return!0})(U,q);default:throw new Error("feature2 "+J+" geometry not supported")}default:throw new Error("feature1 "+K+" geometry not supported")}}},7906:(y,x,r)=>{Object.defineProperty(x,"__esModule",{value:!0});var b=r(1540);function M(z){var B=[1/0,1/0,-1/0,-1/0];return b.coordEach(z,(function(R){B[0]>R[0]&&(B[0]=R[0]),B[1]>R[1]&&(B[1]=R[1]),B[2]<R[0]&&(B[2]=R[0]),B[3]<R[1]&&(B[3]=R[1])})),B}M.default=M,x.default=M},1013:(y,x,r)=>{Object.defineProperty(x,"__esModule",{value:!0});var b=r(611),M=r(4102);x.default=function(z,B,R){R===void 0&&(R={});var I=b.getCoord(z),O=b.getCoord(B),A=M.degreesToRadians(O[1]-I[1]),T=M.degreesToRadians(O[0]-I[0]),U=M.degreesToRadians(I[1]),q=M.degreesToRadians(O[1]),K=Math.pow(Math.sin(A/2),2)+Math.pow(Math.sin(T/2),2)*Math.cos(U)*Math.cos(q);return M.radiansToLength(2*Math.atan2(Math.sqrt(K),Math.sqrt(1-K)),R.units)}},4102:(y,x)=>{function r(K,J,te){te===void 0&&(te={});var oe={type:"Feature"};return(te.id===0||te.id)&&(oe.id=te.id),te.bbox&&(oe.bbox=te.bbox),oe.properties=J||{},oe.geometry=K,oe}function b(K,J,te){if(te===void 0&&(te={}),!K)throw new Error("coordinates is required");if(!Array.isArray(K))throw new Error("coordinates must be an Array");if(K.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!q(K[0])||!q(K[1]))throw new Error("coordinates must contain numbers");return r({type:"Point",coordinates:K},J,te)}function M(K,J,te){te===void 0&&(te={});for(var oe=0,ue=K;oe<ue.length;oe++){var fe=ue[oe];if(fe.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var Le=0;Le<fe[fe.length-1].length;Le++)if(fe[fe.length-1][Le]!==fe[0][Le])throw new Error("First and last Position are not equivalent.")}return r({type:"Polygon",coordinates:K},J,te)}function z(K,J,te){if(te===void 0&&(te={}),K.length<2)throw new Error("coordinates must be an array of two or more positions");return r({type:"LineString",coordinates:K},J,te)}function B(K,J){J===void 0&&(J={});var te={type:"FeatureCollection"};return J.id&&(te.id=J.id),J.bbox&&(te.bbox=J.bbox),te.features=K,te}function R(K,J,te){return te===void 0&&(te={}),r({type:"MultiLineString",coordinates:K},J,te)}function I(K,J,te){return te===void 0&&(te={}),r({type:"MultiPoint",coordinates:K},J,te)}function O(K,J,te){return te===void 0&&(te={}),r({type:"MultiPolygon",coordinates:K},J,te)}function A(K,J){J===void 0&&(J="kilometers");var te=x.factors[J];if(!te)throw new Error(J+" units is invalid");return K*te}function T(K,J){J===void 0&&(J="kilometers");var te=x.factors[J];if(!te)throw new Error(J+" units is invalid");return K/te}function U(K){return K%(2*Math.PI)*180/Math.PI}function q(K){return!isNaN(K)&&K!==null&&!Array.isArray(K)}Object.defineProperty(x,"__esModule",{value:!0}),x.earthRadius=63710088e-1,x.factors={centimeters:100*x.earthRadius,centimetres:100*x.earthRadius,degrees:x.earthRadius/111325,feet:3.28084*x.earthRadius,inches:39.37*x.earthRadius,kilometers:x.earthRadius/1e3,kilometres:x.earthRadius/1e3,meters:x.earthRadius,metres:x.earthRadius,miles:x.earthRadius/1609.344,millimeters:1e3*x.earthRadius,millimetres:1e3*x.earthRadius,nauticalmiles:x.earthRadius/1852,radians:1,yards:1.0936*x.earthRadius},x.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/x.earthRadius,yards:1.0936133},x.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},x.feature=r,x.geometry=function(K,J,te){switch(K){case"Point":return b(J).geometry;case"LineString":return z(J).geometry;case"Polygon":return M(J).geometry;case"MultiPoint":return I(J).geometry;case"MultiLineString":return R(J).geometry;case"MultiPolygon":return O(J).geometry;default:throw new Error(K+" is invalid")}},x.point=b,x.points=function(K,J,te){return te===void 0&&(te={}),B(K.map((function(oe){return b(oe,J)})),te)},x.polygon=M,x.polygons=function(K,J,te){return te===void 0&&(te={}),B(K.map((function(oe){return M(oe,J)})),te)},x.lineString=z,x.lineStrings=function(K,J,te){return te===void 0&&(te={}),B(K.map((function(oe){return z(oe,J)})),te)},x.featureCollection=B,x.multiLineString=R,x.multiPoint=I,x.multiPolygon=O,x.geometryCollection=function(K,J,te){return te===void 0&&(te={}),r({type:"GeometryCollection",geometries:K},J,te)},x.round=function(K,J){if(J===void 0&&(J=0),J&&!(J>=0))throw new Error("precision must be a positive number");var te=Math.pow(10,J||0);return Math.round(K*te)/te},x.radiansToLength=A,x.lengthToRadians=T,x.lengthToDegrees=function(K,J){return U(T(K,J))},x.bearingToAzimuth=function(K){var J=K%360;return J<0&&(J+=360),J},x.radiansToDegrees=U,x.degreesToRadians=function(K){return K%360*Math.PI/180},x.convertLength=function(K,J,te){if(J===void 0&&(J="kilometers"),te===void 0&&(te="kilometers"),!(K>=0))throw new Error("length must be a positive number");return A(T(K,J),te)},x.convertArea=function(K,J,te){if(J===void 0&&(J="meters"),te===void 0&&(te="kilometers"),!(K>=0))throw new Error("area must be a positive number");var oe=x.areaFactors[J];if(!oe)throw new Error("invalid original units");var ue=x.areaFactors[te];if(!ue)throw new Error("invalid final units");return K/oe*ue},x.isNumber=q,x.isObject=function(K){return!!K&&K.constructor===Object},x.validateBBox=function(K){if(!K)throw new Error("bbox is required");if(!Array.isArray(K))throw new Error("bbox must be an Array");if(K.length!==4&&K.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");K.forEach((function(J){if(!q(J))throw new Error("bbox must only contain numbers")}))},x.validateId=function(K){if(!K)throw new Error("id is required");if(["string","number"].indexOf(typeof K)===-1)throw new Error("id must be a number or a string")}},4170:function(y,x,r){var b=this&&this.__importDefault||function(R){return R&&R.__esModule?R:{default:R}};Object.defineProperty(x,"__esModule",{value:!0});var M=r(4102),z=r(611),B=b(r(2676));x.default=function(R,I,O){O===void 0&&(O={});var A=z.getGeom(R),T=z.getGeom(I),U=B.default.intersection(A.coordinates,T.coordinates);return U.length===0?null:U.length===1?M.polygon(U[0],O.properties):M.multiPolygon(U,O.properties)}},611:(y,x,r)=>{Object.defineProperty(x,"__esModule",{value:!0});var b=r(4102);x.getCoord=function(M){if(!M)throw new Error("coord is required");if(!Array.isArray(M)){if(M.type==="Feature"&&M.geometry!==null&&M.geometry.type==="Point")return M.geometry.coordinates;if(M.type==="Point")return M.coordinates}if(Array.isArray(M)&&M.length>=2&&!Array.isArray(M[0])&&!Array.isArray(M[1]))return M;throw new Error("coord must be GeoJSON Point or an Array of numbers")},x.getCoords=function(M){if(Array.isArray(M))return M;if(M.type==="Feature"){if(M.geometry!==null)return M.geometry.coordinates}else if(M.coordinates)return M.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")},x.containsNumber=function M(z){if(z.length>1&&b.isNumber(z[0])&&b.isNumber(z[1]))return!0;if(Array.isArray(z[0])&&z[0].length)return M(z[0]);throw new Error("coordinates must only contain numbers")},x.geojsonType=function(M,z,B){if(!z||!B)throw new Error("type and name required");if(!M||M.type!==z)throw new Error("Invalid input to "+B+": must be a "+z+", given "+M.type)},x.featureOf=function(M,z,B){if(!M)throw new Error("No feature passed");if(!B)throw new Error(".featureOf() requires a name");if(!M||M.type!=="Feature"||!M.geometry)throw new Error("Invalid input to "+B+", Feature with geometry required");if(!M.geometry||M.geometry.type!==z)throw new Error("Invalid input to "+B+": must be a "+z+", given "+M.geometry.type)},x.collectionOf=function(M,z,B){if(!M)throw new Error("No featureCollection passed");if(!B)throw new Error(".collectionOf() requires a name");if(!M||M.type!=="FeatureCollection")throw new Error("Invalid input to "+B+", FeatureCollection required");for(var R=0,I=M.features;R<I.length;R++){var O=I[R];if(!O||O.type!=="Feature"||!O.geometry)throw new Error("Invalid input to "+B+", Feature with geometry required");if(!O.geometry||O.geometry.type!==z)throw new Error("Invalid input to "+B+": must be a "+z+", given "+O.geometry.type)}},x.getGeom=function(M){return M.type==="Feature"?M.geometry:M},x.getType=function(M,z){return M.type==="FeatureCollection"?"FeatureCollection":M.type==="GeometryCollection"?"GeometryCollection":M.type==="Feature"&&M.geometry!==null?M.geometry.type:M.type}},3663:function(y,x,r){var b=this&&this.__importDefault||function(A){return A&&A.__esModule?A:{default:A}};Object.defineProperty(x,"__esModule",{value:!0});var M=r(4102),z=r(611),B=b(r(4590)),R=r(1540),I=b(r(1787));function O(A,T){var U=z.getCoords(A),q=z.getCoords(T);if(U.length!==2)throw new Error("<intersects> line1 must only contain 2 coordinates");if(q.length!==2)throw new Error("<intersects> line2 must only contain 2 coordinates");var K=U[0][0],J=U[0][1],te=U[1][0],oe=U[1][1],ue=q[0][0],fe=q[0][1],Le=q[1][0],Ge=q[1][1],ze=(Ge-fe)*(te-K)-(Le-ue)*(oe-J);if(ze===0)return null;var je=((Le-ue)*(J-fe)-(Ge-fe)*(K-ue))/ze,Be=((te-K)*(J-fe)-(oe-J)*(K-ue))/ze;if(je>=0&&je<=1&&Be>=0&&Be<=1){var _e=K+je*(te-K),He=J+je*(oe-J);return M.point([_e,He])}return null}x.default=function(A,T){var U={},q=[];if(A.type==="LineString"&&(A=M.feature(A)),T.type==="LineString"&&(T=M.feature(T)),A.type==="Feature"&&T.type==="Feature"&&A.geometry!==null&&T.geometry!==null&&A.geometry.type==="LineString"&&T.geometry.type==="LineString"&&A.geometry.coordinates.length===2&&T.geometry.coordinates.length===2){var K=O(A,T);return K&&q.push(K),M.featureCollection(q)}var J=I.default();return J.load(B.default(T)),R.featureEach(B.default(A),(function(te){R.featureEach(J.search(te),(function(oe){var ue=O(te,oe);if(ue){var fe=z.getCoords(ue).join(",");U[fe]||(U[fe]=!0,q.push(ue))}}))})),M.featureCollection(q)}},4590:(y,x,r)=>{Object.defineProperty(x,"__esModule",{value:!0});var b=r(4102),M=r(611),z=r(1540);x.default=function(B){if(!B)throw new Error("geojson is required");var R=[];return z.flattenEach(B,(function(I){(function(O,A){var T=[],U=O.geometry;if(U!==null){switch(U.type){case"Polygon":T=M.getCoords(U);break;case"LineString":T=[M.getCoords(U)]}T.forEach((function(q){var K=(function(J,te){var oe=[];return J.reduce((function(ue,fe){var Le,Ge,ze,je,Be,_e,He=b.lineString([ue,fe],te);return He.bbox=(Ge=fe,ze=(Le=ue)[0],je=Le[1],[ze<(Be=Ge[0])?ze:Be,je<(_e=Ge[1])?je:_e,ze>Be?ze:Be,je>_e?je:_e]),oe.push(He),fe})),oe})(q,O.properties);K.forEach((function(J){J.id=A.length,A.push(J)}))}))}})(I,R)})),b.featureCollection(R)}},1540:(y,x,r)=>{Object.defineProperty(x,"__esModule",{value:!0});var b=r(4102);function M(T,U,q){if(T!==null)for(var K,J,te,oe,ue,fe,Le,Ge,ze=0,je=0,Be=T.type,_e=Be==="FeatureCollection",He=Be==="Feature",tt=_e?T.features.length:1,Ke=0;Ke<tt;Ke++){ue=(Ge=!!(Le=_e?T.features[Ke].geometry:He?T.geometry:T)&&Le.type==="GeometryCollection")?Le.geometries.length:1;for(var Ze=0;Ze<ue;Ze++){var Qe=0,vt=0;if((oe=Ge?Le.geometries[Ze]:Le)!==null){fe=oe.coordinates;var pt=oe.type;switch(ze=!q||pt!=="Polygon"&&pt!=="MultiPolygon"?0:1,pt){case null:break;case"Point":if(U(fe,je,Ke,Qe,vt)===!1)return!1;je++,Qe++;break;case"LineString":case"MultiPoint":for(K=0;K<fe.length;K++){if(U(fe[K],je,Ke,Qe,vt)===!1)return!1;je++,pt==="MultiPoint"&&Qe++}pt==="LineString"&&Qe++;break;case"Polygon":case"MultiLineString":for(K=0;K<fe.length;K++){for(J=0;J<fe[K].length-ze;J++){if(U(fe[K][J],je,Ke,Qe,vt)===!1)return!1;je++}pt==="MultiLineString"&&Qe++,pt==="Polygon"&&vt++}pt==="Polygon"&&Qe++;break;case"MultiPolygon":for(K=0;K<fe.length;K++){for(vt=0,J=0;J<fe[K].length;J++){for(te=0;te<fe[K][J].length-ze;te++){if(U(fe[K][J][te],je,Ke,Qe,vt)===!1)return!1;je++}vt++}Qe++}break;case"GeometryCollection":for(K=0;K<oe.geometries.length;K++)if(M(oe.geometries[K],U,q)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function z(T,U){var q;switch(T.type){case"FeatureCollection":for(q=0;q<T.features.length&&U(T.features[q].properties,q)!==!1;q++);break;case"Feature":U(T.properties,0)}}function B(T,U){if(T.type==="Feature")U(T,0);else if(T.type==="FeatureCollection")for(var q=0;q<T.features.length&&U(T.features[q],q)!==!1;q++);}function R(T,U){var q,K,J,te,oe,ue,fe,Le,Ge,ze,je=0,Be=T.type==="FeatureCollection",_e=T.type==="Feature",He=Be?T.features.length:1;for(q=0;q<He;q++){for(ue=Be?T.features[q].geometry:_e?T.geometry:T,Le=Be?T.features[q].properties:_e?T.properties:{},Ge=Be?T.features[q].bbox:_e?T.bbox:void 0,ze=Be?T.features[q].id:_e?T.id:void 0,oe=(fe=!!ue&&ue.type==="GeometryCollection")?ue.geometries.length:1,J=0;J<oe;J++)if((te=fe?ue.geometries[J]:ue)!==null)switch(te.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(U(te,je,Le,Ge,ze)===!1)return!1;break;case"GeometryCollection":for(K=0;K<te.geometries.length;K++)if(U(te.geometries[K],je,Le,Ge,ze)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}else if(U(null,je,Le,Ge,ze)===!1)return!1;je++}}function I(T,U){R(T,(function(q,K,J,te,oe){var ue,fe=q===null?null:q.type;switch(fe){case null:case"Point":case"LineString":case"Polygon":return U(b.feature(q,J,{bbox:te,id:oe}),K,0)!==!1&&void 0}switch(fe){case"MultiPoint":ue="Point";break;case"MultiLineString":ue="LineString";break;case"MultiPolygon":ue="Polygon"}for(var Le=0;Le<q.coordinates.length;Le++){var Ge={type:ue,coordinates:q.coordinates[Le]};if(U(b.feature(Ge,J),K,Le)===!1)return!1}}))}function O(T,U){I(T,(function(q,K,J){var te=0;if(q.geometry){var oe=q.geometry.type;if(oe!=="Point"&&oe!=="MultiPoint"){var ue,fe=0,Le=0,Ge=0;return M(q,(function(ze,je,Be,_e,He){if(ue===void 0||K>fe||_e>Le||He>Ge)return ue=ze,fe=K,Le=_e,Ge=He,void(te=0);var tt=b.lineString([ue,ze],q.properties);if(U(tt,K,J,He,te)===!1)return!1;te++,ue=ze}))!==!1&&void 0}}}))}function A(T,U){if(!T)throw new Error("geojson is required");I(T,(function(q,K,J){if(q.geometry!==null){var te=q.geometry.type,oe=q.geometry.coordinates;switch(te){case"LineString":if(U(q,K,J,0,0)===!1)return!1;break;case"Polygon":for(var ue=0;ue<oe.length;ue++)if(U(b.lineString(oe[ue],q.properties),K,J,ue)===!1)return!1}}}))}x.coordAll=function(T){var U=[];return M(T,(function(q){U.push(q)})),U},x.coordEach=M,x.coordReduce=function(T,U,q,K){var J=q;return M(T,(function(te,oe,ue,fe,Le){J=oe===0&&q===void 0?te:U(J,te,oe,ue,fe,Le)}),K),J},x.featureEach=B,x.featureReduce=function(T,U,q){var K=q;return B(T,(function(J,te){K=te===0&&q===void 0?J:U(K,J,te)})),K},x.findPoint=function(T,U){if(U=U||{},!b.isObject(U))throw new Error("options is invalid");var q,K=U.featureIndex||0,J=U.multiFeatureIndex||0,te=U.geometryIndex||0,oe=U.coordIndex||0,ue=U.properties;switch(T.type){case"FeatureCollection":K<0&&(K=T.features.length+K),ue=ue||T.features[K].properties,q=T.features[K].geometry;break;case"Feature":ue=ue||T.properties,q=T.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":q=T;break;default:throw new Error("geojson is invalid")}if(q===null)return null;var fe=q.coordinates;switch(q.type){case"Point":return b.point(fe,ue,U);case"MultiPoint":return J<0&&(J=fe.length+J),b.point(fe[J],ue,U);case"LineString":return oe<0&&(oe=fe.length+oe),b.point(fe[oe],ue,U);case"Polygon":return te<0&&(te=fe.length+te),oe<0&&(oe=fe[te].length+oe),b.point(fe[te][oe],ue,U);case"MultiLineString":return J<0&&(J=fe.length+J),oe<0&&(oe=fe[J].length+oe),b.point(fe[J][oe],ue,U);case"MultiPolygon":return J<0&&(J=fe.length+J),te<0&&(te=fe[J].length+te),oe<0&&(oe=fe[J][te].length-oe),b.point(fe[J][te][oe],ue,U)}throw new Error("geojson is invalid")},x.findSegment=function(T,U){if(U=U||{},!b.isObject(U))throw new Error("options is invalid");var q,K=U.featureIndex||0,J=U.multiFeatureIndex||0,te=U.geometryIndex||0,oe=U.segmentIndex||0,ue=U.properties;switch(T.type){case"FeatureCollection":K<0&&(K=T.features.length+K),ue=ue||T.features[K].properties,q=T.features[K].geometry;break;case"Feature":ue=ue||T.properties,q=T.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":q=T;break;default:throw new Error("geojson is invalid")}if(q===null)return null;var fe=q.coordinates;switch(q.type){case"Point":case"MultiPoint":return null;case"LineString":return oe<0&&(oe=fe.length+oe-1),b.lineString([fe[oe],fe[oe+1]],ue,U);case"Polygon":return te<0&&(te=fe.length+te),oe<0&&(oe=fe[te].length+oe-1),b.lineString([fe[te][oe],fe[te][oe+1]],ue,U);case"MultiLineString":return J<0&&(J=fe.length+J),oe<0&&(oe=fe[J].length+oe-1),b.lineString([fe[J][oe],fe[J][oe+1]],ue,U);case"MultiPolygon":return J<0&&(J=fe.length+J),te<0&&(te=fe[J].length+te),oe<0&&(oe=fe[J][te].length-oe-1),b.lineString([fe[J][te][oe],fe[J][te][oe+1]],ue,U)}throw new Error("geojson is invalid")},x.flattenEach=I,x.flattenReduce=function(T,U,q){var K=q;return I(T,(function(J,te,oe){K=te===0&&oe===0&&q===void 0?J:U(K,J,te,oe)})),K},x.geomEach=R,x.geomReduce=function(T,U,q){var K=q;return R(T,(function(J,te,oe,ue,fe){K=te===0&&q===void 0?J:U(K,J,te,oe,ue,fe)})),K},x.lineEach=A,x.lineReduce=function(T,U,q){var K=q;return A(T,(function(J,te,oe,ue){K=te===0&&q===void 0?J:U(K,J,te,oe,ue)})),K},x.propEach=z,x.propReduce=function(T,U,q){var K=q;return z(T,(function(J,te){K=te===0&&q===void 0?J:U(K,J,te)})),K},x.segmentEach=O,x.segmentReduce=function(T,U,q){var K=q,J=!1;return O(T,(function(te,oe,ue,fe,Le){K=J===!1&&q===void 0?te:U(K,te,oe,ue,fe,Le),J=!0})),K}},3892:function(y,x,r){var b=this&&this.__importDefault||function(T){return T&&T.__esModule?T:{default:T}};Object.defineProperty(x,"__esModule",{value:!0});var M=b(r(1013)),z=r(4102),B=r(611),R=r(1540),I=b(r(6213));function O(T,U){return T[0]*U[0]+T[1]*U[1]}function A(T,U,q){return q.method==="planar"?I.default(T,U,q):M.default(T,U,q)}x.default=function(T,U,q){if(q===void 0&&(q={}),q.method||(q.method="geodesic"),q.units||(q.units="kilometers"),!T)throw new Error("pt is required");if(Array.isArray(T)?T=z.point(T):T.type==="Point"?T=z.feature(T):B.featureOf(T,"Point","point"),!U)throw new Error("line is required");Array.isArray(U)?U=z.lineString(U):U.type==="LineString"?U=z.feature(U):B.featureOf(U,"LineString","line");var K=1/0,J=T.geometry.coordinates;return R.segmentEach(U,(function(te){var oe=te.geometry.coordinates[0],ue=te.geometry.coordinates[1],fe=(function(Le,Ge,ze,je){var Be=[ze[0]-Ge[0],ze[1]-Ge[1]],_e=O([Le[0]-Ge[0],Le[1]-Ge[1]],Be);if(_e<=0)return A(Le,Ge,{method:je.method,units:"degrees"});var He=O(Be,Be);if(He<=_e)return A(Le,ze,{method:je.method,units:"degrees"});var tt=_e/He;return A(Le,[Ge[0]+tt*Be[0],Ge[1]+tt*Be[1]],{method:je.method,units:"degrees"})})(J,oe,ue,q);fe<K&&(K=fe)})),z.convertLength(K,"degrees",q.units)}},7383:(y,x,r)=>{Object.defineProperty(x,"__esModule",{value:!0});var b=r(4102),M=r(611);function z(I,O){return O===void 0&&(O={}),R(M.getGeom(I).coordinates,O.properties?O.properties:I.type==="Feature"?I.properties:{})}function B(I,O){O===void 0&&(O={});var A=M.getGeom(I).coordinates,T=O.properties?O.properties:I.type==="Feature"?I.properties:{},U=[];return A.forEach((function(q){U.push(R(q,T))})),b.featureCollection(U)}function R(I,O){return I.length>1?b.multiLineString(I,O):b.lineString(I[0],O)}x.default=function(I,O){O===void 0&&(O={});var A=M.getGeom(I);switch(O.properties||I.type!=="Feature"||(O.properties=I.properties),A.type){case"Polygon":return z(A,O);case"MultiPolygon":return B(A,O);default:throw new Error("invalid poly")}},x.polygonToLine=z,x.multiPolygonToLine=B,x.coordsToLine=R},6213:(y,x,r)=>{Object.defineProperty(x,"__esModule",{value:!0});var b=r(4102),M=r(611);x.default=function(z,B,R){R===void 0&&(R={});var I=M.getCoord(z),O=M.getCoord(B);O[0]+=O[0]-I[0]>180?-360:I[0]-O[0]>180?360:0;var A=(function(T,U,q){var K=q=q===void 0?b.earthRadius:Number(q),J=T[1]*Math.PI/180,te=U[1]*Math.PI/180,oe=te-J,ue=Math.abs(U[0]-T[0])*Math.PI/180;ue>Math.PI&&(ue-=2*Math.PI);var fe=Math.log(Math.tan(te/2+Math.PI/4)/Math.tan(J/2+Math.PI/4)),Le=Math.abs(fe)>1e-11?oe/fe:Math.cos(J);return Math.sqrt(oe*oe+Le*Le*ue*ue)*K})(I,O);return b.convertLength(A,"meters",R.units)}},8583:(y,x,r)=>{var b=r(7418);function M(Be,_e){if(Be===_e)return 0;for(var He=Be.length,tt=_e.length,Ke=0,Ze=Math.min(He,tt);Ke<Ze;++Ke)if(Be[Ke]!==_e[Ke]){He=Be[Ke],tt=_e[Ke];break}return He<tt?-1:tt<He?1:0}function z(Be){return r.g.Buffer&&typeof r.g.Buffer.isBuffer=="function"?r.g.Buffer.isBuffer(Be):!(Be==null||!Be._isBuffer)}var B=r(69),R=Object.prototype.hasOwnProperty,I=Array.prototype.slice,O=(function(){}).name==="foo";function A(Be){return Object.prototype.toString.call(Be)}function T(Be){return!z(Be)&&typeof r.g.ArrayBuffer=="function"&&(typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(Be):!!Be&&(Be instanceof DataView||!!(Be.buffer&&Be.buffer instanceof ArrayBuffer)))}var U=y.exports=ue,q=/\s*function\s+([^\(\s]*)\s*/;function K(Be){if(B.isFunction(Be)){if(O)return Be.name;var _e=Be.toString().match(q);return _e&&_e[1]}}function J(Be,_e){return typeof Be=="string"?Be.length<_e?Be:Be.slice(0,_e):Be}function te(Be){if(O||!B.isFunction(Be))return B.inspect(Be);var _e=K(Be);return"[Function"+(_e?": "+_e:"")+"]"}function oe(Be,_e,He,tt,Ke){throw new U.AssertionError({message:He,actual:Be,expected:_e,operator:tt,stackStartFunction:Ke})}function ue(Be,_e){Be||oe(Be,!0,_e,"==",U.ok)}function fe(Be,_e,He,tt){if(Be===_e)return!0;if(z(Be)&&z(_e))return M(Be,_e)===0;if(B.isDate(Be)&&B.isDate(_e))return Be.getTime()===_e.getTime();if(B.isRegExp(Be)&&B.isRegExp(_e))return Be.source===_e.source&&Be.global===_e.global&&Be.multiline===_e.multiline&&Be.lastIndex===_e.lastIndex&&Be.ignoreCase===_e.ignoreCase;if(Be!==null&&typeof Be=="object"||_e!==null&&typeof _e=="object"){if(T(Be)&&T(_e)&&A(Be)===A(_e)&&!(Be instanceof Float32Array||Be instanceof Float64Array))return M(new Uint8Array(Be.buffer),new Uint8Array(_e.buffer))===0;if(z(Be)!==z(_e))return!1;var Ke=(tt=tt||{actual:[],expected:[]}).actual.indexOf(Be);return Ke!==-1&&Ke===tt.expected.indexOf(_e)||(tt.actual.push(Be),tt.expected.push(_e),(function(Ze,Qe,vt,pt){if(Ze==null||Qe==null)return!1;if(B.isPrimitive(Ze)||B.isPrimitive(Qe))return Ze===Qe;if(vt&&Object.getPrototypeOf(Ze)!==Object.getPrototypeOf(Qe))return!1;var ut=Le(Ze),Mt=Le(Qe);if(ut&&!Mt||!ut&&Mt)return!1;if(ut)return fe(Ze=I.call(Ze),Qe=I.call(Qe),vt);var bt,ar,dt=je(Ze),yt=je(Qe);if(dt.length!==yt.length)return!1;for(dt.sort(),yt.sort(),ar=dt.length-1;ar>=0;ar--)if(dt[ar]!==yt[ar])return!1;for(ar=dt.length-1;ar>=0;ar--)if(!fe(Ze[bt=dt[ar]],Qe[bt],vt,pt))return!1;return!0})(Be,_e,He,tt))}return He?Be===_e:Be==_e}function Le(Be){return Object.prototype.toString.call(Be)=="[object Arguments]"}function Ge(Be,_e){if(!Be||!_e)return!1;if(Object.prototype.toString.call(_e)=="[object RegExp]")return _e.test(Be);try{if(Be instanceof _e)return!0}catch{}return!Error.isPrototypeOf(_e)&&_e.call({},Be)===!0}function ze(Be,_e,He,tt){var Ke;if(typeof _e!="function")throw new TypeError('"block" argument must be a function');typeof He=="string"&&(tt=He,He=null),Ke=(function(vt){var pt;try{vt()}catch(ut){pt=ut}return pt})(_e),tt=(He&&He.name?" ("+He.name+").":".")+(tt?" "+tt:"."),Be&&!Ke&&oe(Ke,He,"Missing expected exception"+tt);var Ze=typeof tt=="string",Qe=!Be&&Ke&&!He;if((!Be&&B.isError(Ke)&&Ze&&Ge(Ke,He)||Qe)&&oe(Ke,He,"Got unwanted exception"+tt),Be&&Ke&&He&&!Ge(Ke,He)||!Be&&Ke)throw Ke}U.AssertionError=function(Be){this.name="AssertionError",this.actual=Be.actual,this.expected=Be.expected,this.operator=Be.operator,Be.message?(this.message=Be.message,this.generatedMessage=!1):(this.message=(function(vt){return J(te(vt.actual),128)+" "+vt.operator+" "+J(te(vt.expected),128)})(this),this.generatedMessage=!0);var _e=Be.stackStartFunction||oe;if(Error.captureStackTrace)Error.captureStackTrace(this,_e);else{var He=new Error;if(He.stack){var tt=He.stack,Ke=K(_e),Ze=tt.indexOf(`
`+Ke);if(Ze>=0){var Qe=tt.indexOf(`
`,Ze+1);tt=tt.substring(Qe+1)}this.stack=tt}}},B.inherits(U.AssertionError,Error),U.fail=oe,U.ok=ue,U.equal=function(Be,_e,He){Be!=_e&&oe(Be,_e,He,"==",U.equal)},U.notEqual=function(Be,_e,He){Be==_e&&oe(Be,_e,He,"!=",U.notEqual)},U.deepEqual=function(Be,_e,He){fe(Be,_e,!1)||oe(Be,_e,He,"deepEqual",U.deepEqual)},U.deepStrictEqual=function(Be,_e,He){fe(Be,_e,!0)||oe(Be,_e,He,"deepStrictEqual",U.deepStrictEqual)},U.notDeepEqual=function(Be,_e,He){fe(Be,_e,!1)&&oe(Be,_e,He,"notDeepEqual",U.notDeepEqual)},U.notDeepStrictEqual=function Be(_e,He,tt){fe(_e,He,!0)&&oe(_e,He,tt,"notDeepStrictEqual",Be)},U.strictEqual=function(Be,_e,He){Be!==_e&&oe(Be,_e,He,"===",U.strictEqual)},U.notStrictEqual=function(Be,_e,He){Be===_e&&oe(Be,_e,He,"!==",U.notStrictEqual)},U.throws=function(Be,_e,He){ze(!0,Be,_e,He)},U.doesNotThrow=function(Be,_e,He){ze(!1,Be,_e,He)},U.ifError=function(Be){if(Be)throw Be},U.strict=b((function Be(_e,He){_e||oe(_e,!0,He,"==",Be)}),U,{equal:U.strictEqual,deepEqual:U.deepStrictEqual,notEqual:U.notStrictEqual,notDeepEqual:U.notDeepStrictEqual}),U.strict.strict=U.strict;var je=Object.keys||function(Be){var _e=[];for(var He in Be)R.call(Be,He)&&_e.push(He);return _e}},6076:y=>{typeof Object.create=="function"?y.exports=function(x,r){x.super_=r,x.prototype=Object.create(r.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}})}:y.exports=function(x,r){x.super_=r;var b=function(){};b.prototype=r.prototype,x.prototype=new b,x.prototype.constructor=x}},2014:y=>{y.exports=function(x){return x&&typeof x=="object"&&typeof x.copy=="function"&&typeof x.fill=="function"&&typeof x.readUInt8=="function"}},69:(y,x,r)=>{var b=r(4155),M=r(5108),z=/%[sdj%]/g;x.format=function(Ze){if(!ue(Ze)){for(var Qe=[],vt=0;vt<arguments.length;vt++)Qe.push(I(arguments[vt]));return Qe.join(" ")}vt=1;for(var pt=arguments,ut=pt.length,Mt=String(Ze).replace(z,(function(ar){if(ar==="%%")return"%";if(vt>=ut)return ar;switch(ar){case"%s":return String(pt[vt++]);case"%d":return Number(pt[vt++]);case"%j":try{return JSON.stringify(pt[vt++])}catch{return"[Circular]"}default:return ar}})),bt=pt[vt];vt<ut;bt=pt[++vt])te(bt)||!Ge(bt)?Mt+=" "+bt:Mt+=" "+I(bt);return Mt},x.deprecate=function(Ze,Qe){if(fe(r.g.process))return function(){return x.deprecate(Ze,Qe).apply(this,arguments)};if(b.noDeprecation===!0)return Ze;var vt=!1;return function(){if(!vt){if(b.throwDeprecation)throw new Error(Qe);b.traceDeprecation?M.trace(Qe):M.error(Qe),vt=!0}return Ze.apply(this,arguments)}};var B,R={};function I(Ze,Qe){var vt={seen:[],stylize:A};return arguments.length>=3&&(vt.depth=arguments[2]),arguments.length>=4&&(vt.colors=arguments[3]),J(Qe)?vt.showHidden=Qe:Qe&&x._extend(vt,Qe),fe(vt.showHidden)&&(vt.showHidden=!1),fe(vt.depth)&&(vt.depth=2),fe(vt.colors)&&(vt.colors=!1),fe(vt.customInspect)&&(vt.customInspect=!0),vt.colors&&(vt.stylize=O),T(vt,Ze,vt.depth)}function O(Ze,Qe){var vt=I.styles[Qe];return vt?"\x1B["+I.colors[vt][0]+"m"+Ze+"\x1B["+I.colors[vt][1]+"m":Ze}function A(Ze,Qe){return Ze}function T(Ze,Qe,vt){if(Ze.customInspect&&Qe&&Be(Qe.inspect)&&Qe.inspect!==x.inspect&&(!Qe.constructor||Qe.constructor.prototype!==Qe)){var pt=Qe.inspect(vt,Ze);return ue(pt)||(pt=T(Ze,pt,vt)),pt}var ut=(function(Dt,Ct){if(fe(Ct))return Dt.stylize("undefined","undefined");if(ue(Ct)){var It="'"+JSON.stringify(Ct).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return Dt.stylize(It,"string")}return oe(Ct)?Dt.stylize(""+Ct,"number"):J(Ct)?Dt.stylize(""+Ct,"boolean"):te(Ct)?Dt.stylize("null","null"):void 0})(Ze,Qe);if(ut)return ut;var Mt=Object.keys(Qe),bt=(function(Dt){var Ct={};return Dt.forEach((function(It,lr){Ct[It]=!0})),Ct})(Mt);if(Ze.showHidden&&(Mt=Object.getOwnPropertyNames(Qe)),je(Qe)&&(Mt.indexOf("message")>=0||Mt.indexOf("description")>=0))return U(Qe);if(Mt.length===0){if(Be(Qe)){var ar=Qe.name?": "+Qe.name:"";return Ze.stylize("[Function"+ar+"]","special")}if(Le(Qe))return Ze.stylize(RegExp.prototype.toString.call(Qe),"regexp");if(ze(Qe))return Ze.stylize(Date.prototype.toString.call(Qe),"date");if(je(Qe))return U(Qe)}var dt,yt="",Gt=!1,Bt=["{","}"];return K(Qe)&&(Gt=!0,Bt=["[","]"]),Be(Qe)&&(yt=" [Function"+(Qe.name?": "+Qe.name:"")+"]"),Le(Qe)&&(yt=" "+RegExp.prototype.toString.call(Qe)),ze(Qe)&&(yt=" "+Date.prototype.toUTCString.call(Qe)),je(Qe)&&(yt=" "+U(Qe)),Mt.length!==0||Gt&&Qe.length!=0?vt<0?Le(Qe)?Ze.stylize(RegExp.prototype.toString.call(Qe),"regexp"):Ze.stylize("[Object]","special"):(Ze.seen.push(Qe),dt=Gt?(function(Dt,Ct,It,lr,Je){for(var Ve=[],st=0,it=Ct.length;st<it;++st)Ke(Ct,String(st))?Ve.push(q(Dt,Ct,It,lr,String(st),!0)):Ve.push("");return Je.forEach((function(Wt){Wt.match(/^\d+$/)||Ve.push(q(Dt,Ct,It,lr,Wt,!0))})),Ve})(Ze,Qe,vt,bt,Mt):Mt.map((function(Dt){return q(Ze,Qe,vt,bt,Dt,Gt)})),Ze.seen.pop(),(function(Dt,Ct,It){return Dt.reduce((function(lr,Je){return Je.indexOf(`
`),lr+Je.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?It[0]+(Ct===""?"":Ct+`
 `)+" "+Dt.join(`,
  `)+" "+It[1]:It[0]+Ct+" "+Dt.join(", ")+" "+It[1]})(dt,yt,Bt)):Bt[0]+yt+Bt[1]}function U(Ze){return"["+Error.prototype.toString.call(Ze)+"]"}function q(Ze,Qe,vt,pt,ut,Mt){var bt,ar,dt;if((dt=Object.getOwnPropertyDescriptor(Qe,ut)||{value:Qe[ut]}).get?ar=dt.set?Ze.stylize("[Getter/Setter]","special"):Ze.stylize("[Getter]","special"):dt.set&&(ar=Ze.stylize("[Setter]","special")),Ke(pt,ut)||(bt="["+ut+"]"),ar||(Ze.seen.indexOf(dt.value)<0?(ar=te(vt)?T(Ze,dt.value,null):T(Ze,dt.value,vt-1)).indexOf(`
`)>-1&&(ar=Mt?ar.split(`
`).map((function(yt){return"  "+yt})).join(`
`).substr(2):`
`+ar.split(`
`).map((function(yt){return"   "+yt})).join(`
`)):ar=Ze.stylize("[Circular]","special")),fe(bt)){if(Mt&&ut.match(/^\d+$/))return ar;(bt=JSON.stringify(""+ut)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(bt=bt.substr(1,bt.length-2),bt=Ze.stylize(bt,"name")):(bt=bt.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),bt=Ze.stylize(bt,"string"))}return bt+": "+ar}function K(Ze){return Array.isArray(Ze)}function J(Ze){return typeof Ze=="boolean"}function te(Ze){return Ze===null}function oe(Ze){return typeof Ze=="number"}function ue(Ze){return typeof Ze=="string"}function fe(Ze){return Ze===void 0}function Le(Ze){return Ge(Ze)&&_e(Ze)==="[object RegExp]"}function Ge(Ze){return typeof Ze=="object"&&Ze!==null}function ze(Ze){return Ge(Ze)&&_e(Ze)==="[object Date]"}function je(Ze){return Ge(Ze)&&(_e(Ze)==="[object Error]"||Ze instanceof Error)}function Be(Ze){return typeof Ze=="function"}function _e(Ze){return Object.prototype.toString.call(Ze)}function He(Ze){return Ze<10?"0"+Ze.toString(10):Ze.toString(10)}x.debuglog=function(Ze){if(fe(B)&&(B=b.env.NODE_DEBUG||""),Ze=Ze.toUpperCase(),!R[Ze])if(new RegExp("\\b"+Ze+"\\b","i").test(B)){var Qe=b.pid;R[Ze]=function(){var vt=x.format.apply(x,arguments);M.error("%s %d: %s",Ze,Qe,vt)}}else R[Ze]=function(){};return R[Ze]},x.inspect=I,I.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},I.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},x.isArray=K,x.isBoolean=J,x.isNull=te,x.isNullOrUndefined=function(Ze){return Ze==null},x.isNumber=oe,x.isString=ue,x.isSymbol=function(Ze){return typeof Ze=="symbol"},x.isUndefined=fe,x.isRegExp=Le,x.isObject=Ge,x.isDate=ze,x.isError=je,x.isFunction=Be,x.isPrimitive=function(Ze){return Ze===null||typeof Ze=="boolean"||typeof Ze=="number"||typeof Ze=="string"||typeof Ze=="symbol"||Ze===void 0},x.isBuffer=r(2014);var tt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Ke(Ze,Qe){return Object.prototype.hasOwnProperty.call(Ze,Qe)}x.log=function(){var Ze,Qe;M.log("%s - %s",(Qe=[He((Ze=new Date).getHours()),He(Ze.getMinutes()),He(Ze.getSeconds())].join(":"),[Ze.getDate(),tt[Ze.getMonth()],Qe].join(" ")),x.format.apply(x,arguments))},x.inherits=r(6076),x._extend=function(Ze,Qe){if(!Qe||!Ge(Qe))return Ze;for(var vt=Object.keys(Qe),pt=vt.length;pt--;)Ze[vt[pt]]=Qe[vt[pt]];return Ze}},9742:(y,x)=>{x.byteLength=function(A){var T=I(A),U=T[0],q=T[1];return 3*(U+q)/4-q},x.toByteArray=function(A){var T,U,q=I(A),K=q[0],J=q[1],te=new M((function(fe,Le,Ge){return 3*(Le+Ge)/4-Ge})(0,K,J)),oe=0,ue=J>0?K-4:K;for(U=0;U<ue;U+=4)T=b[A.charCodeAt(U)]<<18|b[A.charCodeAt(U+1)]<<12|b[A.charCodeAt(U+2)]<<6|b[A.charCodeAt(U+3)],te[oe++]=T>>16&255,te[oe++]=T>>8&255,te[oe++]=255&T;return J===2&&(T=b[A.charCodeAt(U)]<<2|b[A.charCodeAt(U+1)]>>4,te[oe++]=255&T),J===1&&(T=b[A.charCodeAt(U)]<<10|b[A.charCodeAt(U+1)]<<4|b[A.charCodeAt(U+2)]>>2,te[oe++]=T>>8&255,te[oe++]=255&T),te},x.fromByteArray=function(A){for(var T,U=A.length,q=U%3,K=[],J=16383,te=0,oe=U-q;te<oe;te+=J)K.push(O(A,te,te+J>oe?oe:te+J));return q===1?(T=A[U-1],K.push(r[T>>2]+r[T<<4&63]+"==")):q===2&&(T=(A[U-2]<<8)+A[U-1],K.push(r[T>>10]+r[T>>4&63]+r[T<<2&63]+"=")),K.join("")};for(var r=[],b=[],M=typeof Uint8Array<"u"?Uint8Array:Array,z="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",B=0,R=z.length;B<R;++B)r[B]=z[B],b[z.charCodeAt(B)]=B;function I(A){var T=A.length;if(T%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var U=A.indexOf("=");return U===-1&&(U=T),[U,U===T?0:4-U%4]}function O(A,T,U){for(var q,K,J=[],te=T;te<U;te+=3)q=(A[te]<<16&16711680)+(A[te+1]<<8&65280)+(255&A[te+2]),J.push(r[(K=q)>>18&63]+r[K>>12&63]+r[K>>6&63]+r[63&K]);return J.join("")}b[45]=62,b[95]=63},8764:(y,x,r)=>{var b=r(5108),M=r(9742),z=r(645),B=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;x.Buffer=O,x.SlowBuffer=function(Je){return+Je!=Je&&(Je=0),O.alloc(+Je)},x.INSPECT_MAX_BYTES=50;var R=2147483647;function I(Je){if(Je>R)throw new RangeError('The value "'+Je+'" is invalid for option "size"');var Ve=new Uint8Array(Je);return Object.setPrototypeOf(Ve,O.prototype),Ve}function O(Je,Ve,st){if(typeof Je=="number"){if(typeof Ve=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return U(Je)}return A(Je,Ve,st)}function A(Je,Ve,st){if(typeof Je=="string")return(function(rt,ur){if(typeof ur=="string"&&ur!==""||(ur="utf8"),!O.isEncoding(ur))throw new TypeError("Unknown encoding: "+ur);var tr=0|te(rt,ur),Ft=I(tr),Jt=Ft.write(rt,ur);return Jt!==tr&&(Ft=Ft.slice(0,Jt)),Ft})(Je,Ve);if(ArrayBuffer.isView(Je))return(function(rt){if(Ct(rt,Uint8Array)){var ur=new Uint8Array(rt);return K(ur.buffer,ur.byteOffset,ur.byteLength)}return q(rt)})(Je);if(Je==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Je);if(Ct(Je,ArrayBuffer)||Je&&Ct(Je.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ct(Je,SharedArrayBuffer)||Je&&Ct(Je.buffer,SharedArrayBuffer)))return K(Je,Ve,st);if(typeof Je=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var it=Je.valueOf&&Je.valueOf();if(it!=null&&it!==Je)return O.from(it,Ve,st);var Wt=(function(rt){if(O.isBuffer(rt)){var ur=0|J(rt.length),tr=I(ur);return tr.length===0||rt.copy(tr,0,0,ur),tr}return rt.length!==void 0?typeof rt.length!="number"||It(rt.length)?I(0):q(rt):rt.type==="Buffer"&&Array.isArray(rt.data)?q(rt.data):void 0})(Je);if(Wt)return Wt;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Je[Symbol.toPrimitive]=="function")return O.from(Je[Symbol.toPrimitive]("string"),Ve,st);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Je)}function T(Je){if(typeof Je!="number")throw new TypeError('"size" argument must be of type number');if(Je<0)throw new RangeError('The value "'+Je+'" is invalid for option "size"')}function U(Je){return T(Je),I(Je<0?0:0|J(Je))}function q(Je){for(var Ve=Je.length<0?0:0|J(Je.length),st=I(Ve),it=0;it<Ve;it+=1)st[it]=255&Je[it];return st}function K(Je,Ve,st){if(Ve<0||Je.byteLength<Ve)throw new RangeError('"offset" is outside of buffer bounds');if(Je.byteLength<Ve+(st||0))throw new RangeError('"length" is outside of buffer bounds');var it;return it=Ve===void 0&&st===void 0?new Uint8Array(Je):st===void 0?new Uint8Array(Je,Ve):new Uint8Array(Je,Ve,st),Object.setPrototypeOf(it,O.prototype),it}function J(Je){if(Je>=R)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+R.toString(16)+" bytes");return 0|Je}function te(Je,Ve){if(O.isBuffer(Je))return Je.length;if(ArrayBuffer.isView(Je)||Ct(Je,ArrayBuffer))return Je.byteLength;if(typeof Je!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Je);var st=Je.length,it=arguments.length>2&&arguments[2]===!0;if(!it&&st===0)return 0;for(var Wt=!1;;)switch(Ve){case"ascii":case"latin1":case"binary":return st;case"utf8":case"utf-8":return Gt(Je).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*st;case"hex":return st>>>1;case"base64":return Bt(Je).length;default:if(Wt)return it?-1:Gt(Je).length;Ve=(""+Ve).toLowerCase(),Wt=!0}}function oe(Je,Ve,st){var it=!1;if((Ve===void 0||Ve<0)&&(Ve=0),Ve>this.length||((st===void 0||st>this.length)&&(st=this.length),st<=0)||(st>>>=0)<=(Ve>>>=0))return"";for(Je||(Je="utf8");;)switch(Je){case"hex":return vt(this,Ve,st);case"utf8":case"utf-8":return tt(this,Ve,st);case"ascii":return Ze(this,Ve,st);case"latin1":case"binary":return Qe(this,Ve,st);case"base64":return He(this,Ve,st);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return pt(this,Ve,st);default:if(it)throw new TypeError("Unknown encoding: "+Je);Je=(Je+"").toLowerCase(),it=!0}}function ue(Je,Ve,st){var it=Je[Ve];Je[Ve]=Je[st],Je[st]=it}function fe(Je,Ve,st,it,Wt){if(Je.length===0)return-1;if(typeof st=="string"?(it=st,st=0):st>2147483647?st=2147483647:st<-2147483648&&(st=-2147483648),It(st=+st)&&(st=Wt?0:Je.length-1),st<0&&(st=Je.length+st),st>=Je.length){if(Wt)return-1;st=Je.length-1}else if(st<0){if(!Wt)return-1;st=0}if(typeof Ve=="string"&&(Ve=O.from(Ve,it)),O.isBuffer(Ve))return Ve.length===0?-1:Le(Je,Ve,st,it,Wt);if(typeof Ve=="number")return Ve&=255,typeof Uint8Array.prototype.indexOf=="function"?Wt?Uint8Array.prototype.indexOf.call(Je,Ve,st):Uint8Array.prototype.lastIndexOf.call(Je,Ve,st):Le(Je,[Ve],st,it,Wt);throw new TypeError("val must be string, number or Buffer")}function Le(Je,Ve,st,it,Wt){var rt,ur=1,tr=Je.length,Ft=Ve.length;if(it!==void 0&&((it=String(it).toLowerCase())==="ucs2"||it==="ucs-2"||it==="utf16le"||it==="utf-16le")){if(Je.length<2||Ve.length<2)return-1;ur=2,tr/=2,Ft/=2,st/=2}function Jt(Xt,mr){return ur===1?Xt[mr]:Xt.readUInt16BE(mr*ur)}if(Wt){var et=-1;for(rt=st;rt<tr;rt++)if(Jt(Je,rt)===Jt(Ve,et===-1?0:rt-et)){if(et===-1&&(et=rt),rt-et+1===Ft)return et*ur}else et!==-1&&(rt-=rt-et),et=-1}else for(st+Ft>tr&&(st=tr-Ft),rt=st;rt>=0;rt--){for(var gt=!0,Et=0;Et<Ft;Et++)if(Jt(Je,rt+Et)!==Jt(Ve,Et)){gt=!1;break}if(gt)return rt}return-1}function Ge(Je,Ve,st,it){st=Number(st)||0;var Wt=Je.length-st;it?(it=Number(it))>Wt&&(it=Wt):it=Wt;var rt=Ve.length;it>rt/2&&(it=rt/2);for(var ur=0;ur<it;++ur){var tr=parseInt(Ve.substr(2*ur,2),16);if(It(tr))return ur;Je[st+ur]=tr}return ur}function ze(Je,Ve,st,it){return Dt(Gt(Ve,Je.length-st),Je,st,it)}function je(Je,Ve,st,it){return Dt((function(Wt){for(var rt=[],ur=0;ur<Wt.length;++ur)rt.push(255&Wt.charCodeAt(ur));return rt})(Ve),Je,st,it)}function Be(Je,Ve,st,it){return Dt(Bt(Ve),Je,st,it)}function _e(Je,Ve,st,it){return Dt((function(Wt,rt){for(var ur,tr,Ft,Jt=[],et=0;et<Wt.length&&!((rt-=2)<0);++et)tr=(ur=Wt.charCodeAt(et))>>8,Ft=ur%256,Jt.push(Ft),Jt.push(tr);return Jt})(Ve,Je.length-st),Je,st,it)}function He(Je,Ve,st){return Ve===0&&st===Je.length?M.fromByteArray(Je):M.fromByteArray(Je.slice(Ve,st))}function tt(Je,Ve,st){st=Math.min(Je.length,st);for(var it=[],Wt=Ve;Wt<st;){var rt,ur,tr,Ft,Jt=Je[Wt],et=null,gt=Jt>239?4:Jt>223?3:Jt>191?2:1;if(Wt+gt<=st)switch(gt){case 1:Jt<128&&(et=Jt);break;case 2:(192&(rt=Je[Wt+1]))==128&&(Ft=(31&Jt)<<6|63&rt)>127&&(et=Ft);break;case 3:rt=Je[Wt+1],ur=Je[Wt+2],(192&rt)==128&&(192&ur)==128&&(Ft=(15&Jt)<<12|(63&rt)<<6|63&ur)>2047&&(Ft<55296||Ft>57343)&&(et=Ft);break;case 4:rt=Je[Wt+1],ur=Je[Wt+2],tr=Je[Wt+3],(192&rt)==128&&(192&ur)==128&&(192&tr)==128&&(Ft=(15&Jt)<<18|(63&rt)<<12|(63&ur)<<6|63&tr)>65535&&Ft<1114112&&(et=Ft)}et===null?(et=65533,gt=1):et>65535&&(et-=65536,it.push(et>>>10&1023|55296),et=56320|1023&et),it.push(et),Wt+=gt}return(function(Et){var Xt=Et.length;if(Xt<=Ke)return String.fromCharCode.apply(String,Et);for(var mr="",Cr=0;Cr<Xt;)mr+=String.fromCharCode.apply(String,Et.slice(Cr,Cr+=Ke));return mr})(it)}x.kMaxLength=R,O.TYPED_ARRAY_SUPPORT=(function(){try{var Je=new Uint8Array(1),Ve={foo:function(){return 42}};return Object.setPrototypeOf(Ve,Uint8Array.prototype),Object.setPrototypeOf(Je,Ve),Je.foo()===42}catch{return!1}})(),O.TYPED_ARRAY_SUPPORT||b===void 0||typeof b.error!="function"||b.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(O.prototype,"parent",{enumerable:!0,get:function(){if(O.isBuffer(this))return this.buffer}}),Object.defineProperty(O.prototype,"offset",{enumerable:!0,get:function(){if(O.isBuffer(this))return this.byteOffset}}),O.poolSize=8192,O.from=function(Je,Ve,st){return A(Je,Ve,st)},Object.setPrototypeOf(O.prototype,Uint8Array.prototype),Object.setPrototypeOf(O,Uint8Array),O.alloc=function(Je,Ve,st){return(function(it,Wt,rt){return T(it),it<=0?I(it):Wt!==void 0?typeof rt=="string"?I(it).fill(Wt,rt):I(it).fill(Wt):I(it)})(Je,Ve,st)},O.allocUnsafe=function(Je){return U(Je)},O.allocUnsafeSlow=function(Je){return U(Je)},O.isBuffer=function(Je){return Je!=null&&Je._isBuffer===!0&&Je!==O.prototype},O.compare=function(Je,Ve){if(Ct(Je,Uint8Array)&&(Je=O.from(Je,Je.offset,Je.byteLength)),Ct(Ve,Uint8Array)&&(Ve=O.from(Ve,Ve.offset,Ve.byteLength)),!O.isBuffer(Je)||!O.isBuffer(Ve))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(Je===Ve)return 0;for(var st=Je.length,it=Ve.length,Wt=0,rt=Math.min(st,it);Wt<rt;++Wt)if(Je[Wt]!==Ve[Wt]){st=Je[Wt],it=Ve[Wt];break}return st<it?-1:it<st?1:0},O.isEncoding=function(Je){switch(String(Je).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},O.concat=function(Je,Ve){if(!Array.isArray(Je))throw new TypeError('"list" argument must be an Array of Buffers');if(Je.length===0)return O.alloc(0);var st;if(Ve===void 0)for(Ve=0,st=0;st<Je.length;++st)Ve+=Je[st].length;var it=O.allocUnsafe(Ve),Wt=0;for(st=0;st<Je.length;++st){var rt=Je[st];if(Ct(rt,Uint8Array))Wt+rt.length>it.length?O.from(rt).copy(it,Wt):Uint8Array.prototype.set.call(it,rt,Wt);else{if(!O.isBuffer(rt))throw new TypeError('"list" argument must be an Array of Buffers');rt.copy(it,Wt)}Wt+=rt.length}return it},O.byteLength=te,O.prototype._isBuffer=!0,O.prototype.swap16=function(){var Je=this.length;if(Je%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var Ve=0;Ve<Je;Ve+=2)ue(this,Ve,Ve+1);return this},O.prototype.swap32=function(){var Je=this.length;if(Je%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var Ve=0;Ve<Je;Ve+=4)ue(this,Ve,Ve+3),ue(this,Ve+1,Ve+2);return this},O.prototype.swap64=function(){var Je=this.length;if(Je%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var Ve=0;Ve<Je;Ve+=8)ue(this,Ve,Ve+7),ue(this,Ve+1,Ve+6),ue(this,Ve+2,Ve+5),ue(this,Ve+3,Ve+4);return this},O.prototype.toString=function(){var Je=this.length;return Je===0?"":arguments.length===0?tt(this,0,Je):oe.apply(this,arguments)},O.prototype.toLocaleString=O.prototype.toString,O.prototype.equals=function(Je){if(!O.isBuffer(Je))throw new TypeError("Argument must be a Buffer");return this===Je||O.compare(this,Je)===0},O.prototype.inspect=function(){var Je="",Ve=x.INSPECT_MAX_BYTES;return Je=this.toString("hex",0,Ve).replace(/(.{2})/g,"$1 ").trim(),this.length>Ve&&(Je+=" ... "),"<Buffer "+Je+">"},B&&(O.prototype[B]=O.prototype.inspect),O.prototype.compare=function(Je,Ve,st,it,Wt){if(Ct(Je,Uint8Array)&&(Je=O.from(Je,Je.offset,Je.byteLength)),!O.isBuffer(Je))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof Je);if(Ve===void 0&&(Ve=0),st===void 0&&(st=Je?Je.length:0),it===void 0&&(it=0),Wt===void 0&&(Wt=this.length),Ve<0||st>Je.length||it<0||Wt>this.length)throw new RangeError("out of range index");if(it>=Wt&&Ve>=st)return 0;if(it>=Wt)return-1;if(Ve>=st)return 1;if(this===Je)return 0;for(var rt=(Wt>>>=0)-(it>>>=0),ur=(st>>>=0)-(Ve>>>=0),tr=Math.min(rt,ur),Ft=this.slice(it,Wt),Jt=Je.slice(Ve,st),et=0;et<tr;++et)if(Ft[et]!==Jt[et]){rt=Ft[et],ur=Jt[et];break}return rt<ur?-1:ur<rt?1:0},O.prototype.includes=function(Je,Ve,st){return this.indexOf(Je,Ve,st)!==-1},O.prototype.indexOf=function(Je,Ve,st){return fe(this,Je,Ve,st,!0)},O.prototype.lastIndexOf=function(Je,Ve,st){return fe(this,Je,Ve,st,!1)},O.prototype.write=function(Je,Ve,st,it){if(Ve===void 0)it="utf8",st=this.length,Ve=0;else if(st===void 0&&typeof Ve=="string")it=Ve,st=this.length,Ve=0;else{if(!isFinite(Ve))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");Ve>>>=0,isFinite(st)?(st>>>=0,it===void 0&&(it="utf8")):(it=st,st=void 0)}var Wt=this.length-Ve;if((st===void 0||st>Wt)&&(st=Wt),Je.length>0&&(st<0||Ve<0)||Ve>this.length)throw new RangeError("Attempt to write outside buffer bounds");it||(it="utf8");for(var rt=!1;;)switch(it){case"hex":return Ge(this,Je,Ve,st);case"utf8":case"utf-8":return ze(this,Je,Ve,st);case"ascii":case"latin1":case"binary":return je(this,Je,Ve,st);case"base64":return Be(this,Je,Ve,st);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _e(this,Je,Ve,st);default:if(rt)throw new TypeError("Unknown encoding: "+it);it=(""+it).toLowerCase(),rt=!0}},O.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Ke=4096;function Ze(Je,Ve,st){var it="";st=Math.min(Je.length,st);for(var Wt=Ve;Wt<st;++Wt)it+=String.fromCharCode(127&Je[Wt]);return it}function Qe(Je,Ve,st){var it="";st=Math.min(Je.length,st);for(var Wt=Ve;Wt<st;++Wt)it+=String.fromCharCode(Je[Wt]);return it}function vt(Je,Ve,st){var it=Je.length;(!Ve||Ve<0)&&(Ve=0),(!st||st<0||st>it)&&(st=it);for(var Wt="",rt=Ve;rt<st;++rt)Wt+=lr[Je[rt]];return Wt}function pt(Je,Ve,st){for(var it=Je.slice(Ve,st),Wt="",rt=0;rt<it.length-1;rt+=2)Wt+=String.fromCharCode(it[rt]+256*it[rt+1]);return Wt}function ut(Je,Ve,st){if(Je%1!=0||Je<0)throw new RangeError("offset is not uint");if(Je+Ve>st)throw new RangeError("Trying to access beyond buffer length")}function Mt(Je,Ve,st,it,Wt,rt){if(!O.isBuffer(Je))throw new TypeError('"buffer" argument must be a Buffer instance');if(Ve>Wt||Ve<rt)throw new RangeError('"value" argument is out of bounds');if(st+it>Je.length)throw new RangeError("Index out of range")}function bt(Je,Ve,st,it,Wt,rt){if(st+it>Je.length)throw new RangeError("Index out of range");if(st<0)throw new RangeError("Index out of range")}function ar(Je,Ve,st,it,Wt){return Ve=+Ve,st>>>=0,Wt||bt(Je,0,st,4),z.write(Je,Ve,st,it,23,4),st+4}function dt(Je,Ve,st,it,Wt){return Ve=+Ve,st>>>=0,Wt||bt(Je,0,st,8),z.write(Je,Ve,st,it,52,8),st+8}O.prototype.slice=function(Je,Ve){var st=this.length;(Je=~~Je)<0?(Je+=st)<0&&(Je=0):Je>st&&(Je=st),(Ve=Ve===void 0?st:~~Ve)<0?(Ve+=st)<0&&(Ve=0):Ve>st&&(Ve=st),Ve<Je&&(Ve=Je);var it=this.subarray(Je,Ve);return Object.setPrototypeOf(it,O.prototype),it},O.prototype.readUintLE=O.prototype.readUIntLE=function(Je,Ve,st){Je>>>=0,Ve>>>=0,st||ut(Je,Ve,this.length);for(var it=this[Je],Wt=1,rt=0;++rt<Ve&&(Wt*=256);)it+=this[Je+rt]*Wt;return it},O.prototype.readUintBE=O.prototype.readUIntBE=function(Je,Ve,st){Je>>>=0,Ve>>>=0,st||ut(Je,Ve,this.length);for(var it=this[Je+--Ve],Wt=1;Ve>0&&(Wt*=256);)it+=this[Je+--Ve]*Wt;return it},O.prototype.readUint8=O.prototype.readUInt8=function(Je,Ve){return Je>>>=0,Ve||ut(Je,1,this.length),this[Je]},O.prototype.readUint16LE=O.prototype.readUInt16LE=function(Je,Ve){return Je>>>=0,Ve||ut(Je,2,this.length),this[Je]|this[Je+1]<<8},O.prototype.readUint16BE=O.prototype.readUInt16BE=function(Je,Ve){return Je>>>=0,Ve||ut(Je,2,this.length),this[Je]<<8|this[Je+1]},O.prototype.readUint32LE=O.prototype.readUInt32LE=function(Je,Ve){return Je>>>=0,Ve||ut(Je,4,this.length),(this[Je]|this[Je+1]<<8|this[Je+2]<<16)+16777216*this[Je+3]},O.prototype.readUint32BE=O.prototype.readUInt32BE=function(Je,Ve){return Je>>>=0,Ve||ut(Je,4,this.length),16777216*this[Je]+(this[Je+1]<<16|this[Je+2]<<8|this[Je+3])},O.prototype.readIntLE=function(Je,Ve,st){Je>>>=0,Ve>>>=0,st||ut(Je,Ve,this.length);for(var it=this[Je],Wt=1,rt=0;++rt<Ve&&(Wt*=256);)it+=this[Je+rt]*Wt;return it>=(Wt*=128)&&(it-=Math.pow(2,8*Ve)),it},O.prototype.readIntBE=function(Je,Ve,st){Je>>>=0,Ve>>>=0,st||ut(Je,Ve,this.length);for(var it=Ve,Wt=1,rt=this[Je+--it];it>0&&(Wt*=256);)rt+=this[Je+--it]*Wt;return rt>=(Wt*=128)&&(rt-=Math.pow(2,8*Ve)),rt},O.prototype.readInt8=function(Je,Ve){return Je>>>=0,Ve||ut(Je,1,this.length),128&this[Je]?-1*(255-this[Je]+1):this[Je]},O.prototype.readInt16LE=function(Je,Ve){Je>>>=0,Ve||ut(Je,2,this.length);var st=this[Je]|this[Je+1]<<8;return 32768&st?4294901760|st:st},O.prototype.readInt16BE=function(Je,Ve){Je>>>=0,Ve||ut(Je,2,this.length);var st=this[Je+1]|this[Je]<<8;return 32768&st?4294901760|st:st},O.prototype.readInt32LE=function(Je,Ve){return Je>>>=0,Ve||ut(Je,4,this.length),this[Je]|this[Je+1]<<8|this[Je+2]<<16|this[Je+3]<<24},O.prototype.readInt32BE=function(Je,Ve){return Je>>>=0,Ve||ut(Je,4,this.length),this[Je]<<24|this[Je+1]<<16|this[Je+2]<<8|this[Je+3]},O.prototype.readFloatLE=function(Je,Ve){return Je>>>=0,Ve||ut(Je,4,this.length),z.read(this,Je,!0,23,4)},O.prototype.readFloatBE=function(Je,Ve){return Je>>>=0,Ve||ut(Je,4,this.length),z.read(this,Je,!1,23,4)},O.prototype.readDoubleLE=function(Je,Ve){return Je>>>=0,Ve||ut(Je,8,this.length),z.read(this,Je,!0,52,8)},O.prototype.readDoubleBE=function(Je,Ve){return Je>>>=0,Ve||ut(Je,8,this.length),z.read(this,Je,!1,52,8)},O.prototype.writeUintLE=O.prototype.writeUIntLE=function(Je,Ve,st,it){Je=+Je,Ve>>>=0,st>>>=0,it||Mt(this,Je,Ve,st,Math.pow(2,8*st)-1,0);var Wt=1,rt=0;for(this[Ve]=255&Je;++rt<st&&(Wt*=256);)this[Ve+rt]=Je/Wt&255;return Ve+st},O.prototype.writeUintBE=O.prototype.writeUIntBE=function(Je,Ve,st,it){Je=+Je,Ve>>>=0,st>>>=0,it||Mt(this,Je,Ve,st,Math.pow(2,8*st)-1,0);var Wt=st-1,rt=1;for(this[Ve+Wt]=255&Je;--Wt>=0&&(rt*=256);)this[Ve+Wt]=Je/rt&255;return Ve+st},O.prototype.writeUint8=O.prototype.writeUInt8=function(Je,Ve,st){return Je=+Je,Ve>>>=0,st||Mt(this,Je,Ve,1,255,0),this[Ve]=255&Je,Ve+1},O.prototype.writeUint16LE=O.prototype.writeUInt16LE=function(Je,Ve,st){return Je=+Je,Ve>>>=0,st||Mt(this,Je,Ve,2,65535,0),this[Ve]=255&Je,this[Ve+1]=Je>>>8,Ve+2},O.prototype.writeUint16BE=O.prototype.writeUInt16BE=function(Je,Ve,st){return Je=+Je,Ve>>>=0,st||Mt(this,Je,Ve,2,65535,0),this[Ve]=Je>>>8,this[Ve+1]=255&Je,Ve+2},O.prototype.writeUint32LE=O.prototype.writeUInt32LE=function(Je,Ve,st){return Je=+Je,Ve>>>=0,st||Mt(this,Je,Ve,4,4294967295,0),this[Ve+3]=Je>>>24,this[Ve+2]=Je>>>16,this[Ve+1]=Je>>>8,this[Ve]=255&Je,Ve+4},O.prototype.writeUint32BE=O.prototype.writeUInt32BE=function(Je,Ve,st){return Je=+Je,Ve>>>=0,st||Mt(this,Je,Ve,4,4294967295,0),this[Ve]=Je>>>24,this[Ve+1]=Je>>>16,this[Ve+2]=Je>>>8,this[Ve+3]=255&Je,Ve+4},O.prototype.writeIntLE=function(Je,Ve,st,it){if(Je=+Je,Ve>>>=0,!it){var Wt=Math.pow(2,8*st-1);Mt(this,Je,Ve,st,Wt-1,-Wt)}var rt=0,ur=1,tr=0;for(this[Ve]=255&Je;++rt<st&&(ur*=256);)Je<0&&tr===0&&this[Ve+rt-1]!==0&&(tr=1),this[Ve+rt]=(Je/ur>>0)-tr&255;return Ve+st},O.prototype.writeIntBE=function(Je,Ve,st,it){if(Je=+Je,Ve>>>=0,!it){var Wt=Math.pow(2,8*st-1);Mt(this,Je,Ve,st,Wt-1,-Wt)}var rt=st-1,ur=1,tr=0;for(this[Ve+rt]=255&Je;--rt>=0&&(ur*=256);)Je<0&&tr===0&&this[Ve+rt+1]!==0&&(tr=1),this[Ve+rt]=(Je/ur>>0)-tr&255;return Ve+st},O.prototype.writeInt8=function(Je,Ve,st){return Je=+Je,Ve>>>=0,st||Mt(this,Je,Ve,1,127,-128),Je<0&&(Je=255+Je+1),this[Ve]=255&Je,Ve+1},O.prototype.writeInt16LE=function(Je,Ve,st){return Je=+Je,Ve>>>=0,st||Mt(this,Je,Ve,2,32767,-32768),this[Ve]=255&Je,this[Ve+1]=Je>>>8,Ve+2},O.prototype.writeInt16BE=function(Je,Ve,st){return Je=+Je,Ve>>>=0,st||Mt(this,Je,Ve,2,32767,-32768),this[Ve]=Je>>>8,this[Ve+1]=255&Je,Ve+2},O.prototype.writeInt32LE=function(Je,Ve,st){return Je=+Je,Ve>>>=0,st||Mt(this,Je,Ve,4,2147483647,-2147483648),this[Ve]=255&Je,this[Ve+1]=Je>>>8,this[Ve+2]=Je>>>16,this[Ve+3]=Je>>>24,Ve+4},O.prototype.writeInt32BE=function(Je,Ve,st){return Je=+Je,Ve>>>=0,st||Mt(this,Je,Ve,4,2147483647,-2147483648),Je<0&&(Je=4294967295+Je+1),this[Ve]=Je>>>24,this[Ve+1]=Je>>>16,this[Ve+2]=Je>>>8,this[Ve+3]=255&Je,Ve+4},O.prototype.writeFloatLE=function(Je,Ve,st){return ar(this,Je,Ve,!0,st)},O.prototype.writeFloatBE=function(Je,Ve,st){return ar(this,Je,Ve,!1,st)},O.prototype.writeDoubleLE=function(Je,Ve,st){return dt(this,Je,Ve,!0,st)},O.prototype.writeDoubleBE=function(Je,Ve,st){return dt(this,Je,Ve,!1,st)},O.prototype.copy=function(Je,Ve,st,it){if(!O.isBuffer(Je))throw new TypeError("argument should be a Buffer");if(st||(st=0),it||it===0||(it=this.length),Ve>=Je.length&&(Ve=Je.length),Ve||(Ve=0),it>0&&it<st&&(it=st),it===st||Je.length===0||this.length===0)return 0;if(Ve<0)throw new RangeError("targetStart out of bounds");if(st<0||st>=this.length)throw new RangeError("Index out of range");if(it<0)throw new RangeError("sourceEnd out of bounds");it>this.length&&(it=this.length),Je.length-Ve<it-st&&(it=Je.length-Ve+st);var Wt=it-st;return this===Je&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(Ve,st,it):Uint8Array.prototype.set.call(Je,this.subarray(st,it),Ve),Wt},O.prototype.fill=function(Je,Ve,st,it){if(typeof Je=="string"){if(typeof Ve=="string"?(it=Ve,Ve=0,st=this.length):typeof st=="string"&&(it=st,st=this.length),it!==void 0&&typeof it!="string")throw new TypeError("encoding must be a string");if(typeof it=="string"&&!O.isEncoding(it))throw new TypeError("Unknown encoding: "+it);if(Je.length===1){var Wt=Je.charCodeAt(0);(it==="utf8"&&Wt<128||it==="latin1")&&(Je=Wt)}}else typeof Je=="number"?Je&=255:typeof Je=="boolean"&&(Je=Number(Je));if(Ve<0||this.length<Ve||this.length<st)throw new RangeError("Out of range index");if(st<=Ve)return this;var rt;if(Ve>>>=0,st=st===void 0?this.length:st>>>0,Je||(Je=0),typeof Je=="number")for(rt=Ve;rt<st;++rt)this[rt]=Je;else{var ur=O.isBuffer(Je)?Je:O.from(Je,it),tr=ur.length;if(tr===0)throw new TypeError('The value "'+Je+'" is invalid for argument "value"');for(rt=0;rt<st-Ve;++rt)this[rt+Ve]=ur[rt%tr]}return this};var yt=/[^+/0-9A-Za-z-_]/g;function Gt(Je,Ve){var st;Ve=Ve||1/0;for(var it=Je.length,Wt=null,rt=[],ur=0;ur<it;++ur){if((st=Je.charCodeAt(ur))>55295&&st<57344){if(!Wt){if(st>56319){(Ve-=3)>-1&&rt.push(239,191,189);continue}if(ur+1===it){(Ve-=3)>-1&&rt.push(239,191,189);continue}Wt=st;continue}if(st<56320){(Ve-=3)>-1&&rt.push(239,191,189),Wt=st;continue}st=65536+(Wt-55296<<10|st-56320)}else Wt&&(Ve-=3)>-1&&rt.push(239,191,189);if(Wt=null,st<128){if((Ve-=1)<0)break;rt.push(st)}else if(st<2048){if((Ve-=2)<0)break;rt.push(st>>6|192,63&st|128)}else if(st<65536){if((Ve-=3)<0)break;rt.push(st>>12|224,st>>6&63|128,63&st|128)}else{if(!(st<1114112))throw new Error("Invalid code point");if((Ve-=4)<0)break;rt.push(st>>18|240,st>>12&63|128,st>>6&63|128,63&st|128)}}return rt}function Bt(Je){return M.toByteArray((function(Ve){if((Ve=(Ve=Ve.split("=")[0]).trim().replace(yt,"")).length<2)return"";for(;Ve.length%4!=0;)Ve+="=";return Ve})(Je))}function Dt(Je,Ve,st,it){for(var Wt=0;Wt<it&&!(Wt+st>=Ve.length||Wt>=Je.length);++Wt)Ve[Wt+st]=Je[Wt];return Wt}function Ct(Je,Ve){return Je instanceof Ve||Je!=null&&Je.constructor!=null&&Je.constructor.name!=null&&Je.constructor.name===Ve.name}function It(Je){return Je!=Je}var lr=(function(){for(var Je="0123456789abcdef",Ve=new Array(256),st=0;st<16;++st)for(var it=16*st,Wt=0;Wt<16;++Wt)Ve[it+Wt]=Je[st]+Je[Wt];return Ve})()},584:y=>{y.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},5108:(y,x,r)=>{var b=r(9539),M=r(8583);function z(){return new Date().getTime()}var B,R=Array.prototype.slice,I={};B=r.g!==void 0&&r.g.console?r.g.console:typeof window<"u"&&window.console?window.console:{};for(var O=[[function(){},"log"],[function(){B.log.apply(B,arguments)},"info"],[function(){B.log.apply(B,arguments)},"warn"],[function(){B.warn.apply(B,arguments)},"error"],[function(K){I[K]=z()},"time"],[function(K){var J=I[K];if(!J)throw new Error("No such label: "+K);delete I[K];var te=z()-J;B.log(K+": "+te+"ms")},"timeEnd"],[function(){var K=new Error;K.name="Trace",K.message=b.format.apply(null,arguments),B.error(K.stack)},"trace"],[function(K){B.log(b.inspect(K)+`
`)},"dir"],[function(K){if(!K){var J=R.call(arguments,1);M.ok(!1,b.format.apply(null,J))}},"assert"]],A=0;A<O.length;A++){var T=O[A],U=T[0],q=T[1];B[q]||(B[q]=U)}y.exports=B},7187:(y,x,r)=>{var b=r(5108),M=Object.create||function(ue){var fe=function(){};return fe.prototype=ue,new fe},z=Object.keys||function(ue){var fe=[];for(var Le in ue)Object.prototype.hasOwnProperty.call(ue,Le)&&fe.push(Le);return Le},B=Function.prototype.bind||function(ue){var fe=this;return function(){return fe.apply(ue,arguments)}};function R(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=M(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}y.exports=R,R.EventEmitter=R,R.prototype._events=void 0,R.prototype._maxListeners=void 0;var I,O=10;try{var A={};Object.defineProperty&&Object.defineProperty(A,"x",{value:0}),I=A.x===0}catch{I=!1}function T(ue){return ue._maxListeners===void 0?R.defaultMaxListeners:ue._maxListeners}function U(ue,fe,Le,Ge){var ze,je,Be;if(typeof Le!="function")throw new TypeError('"listener" argument must be a function');if((je=ue._events)?(je.newListener&&(ue.emit("newListener",fe,Le.listener?Le.listener:Le),je=ue._events),Be=je[fe]):(je=ue._events=M(null),ue._eventsCount=0),Be){if(typeof Be=="function"?Be=je[fe]=Ge?[Le,Be]:[Be,Le]:Ge?Be.unshift(Le):Be.push(Le),!Be.warned&&(ze=T(ue))&&ze>0&&Be.length>ze){Be.warned=!0;var _e=new Error("Possible EventEmitter memory leak detected. "+Be.length+' "'+String(fe)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');_e.name="MaxListenersExceededWarning",_e.emitter=ue,_e.type=fe,_e.count=Be.length,typeof b=="object"&&b.warn&&b.warn("%s: %s",_e.name,_e.message)}}else Be=je[fe]=Le,++ue._eventsCount;return ue}function q(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var ue=new Array(arguments.length),fe=0;fe<ue.length;++fe)ue[fe]=arguments[fe];this.listener.apply(this.target,ue)}}function K(ue,fe,Le){var Ge={fired:!1,wrapFn:void 0,target:ue,type:fe,listener:Le},ze=B.call(q,Ge);return ze.listener=Le,Ge.wrapFn=ze,ze}function J(ue,fe,Le){var Ge=ue._events;if(!Ge)return[];var ze=Ge[fe];return ze?typeof ze=="function"?Le?[ze.listener||ze]:[ze]:Le?(function(je){for(var Be=new Array(je.length),_e=0;_e<Be.length;++_e)Be[_e]=je[_e].listener||je[_e];return Be})(ze):oe(ze,ze.length):[]}function te(ue){var fe=this._events;if(fe){var Le=fe[ue];if(typeof Le=="function")return 1;if(Le)return Le.length}return 0}function oe(ue,fe){for(var Le=new Array(fe),Ge=0;Ge<fe;++Ge)Le[Ge]=ue[Ge];return Le}I?Object.defineProperty(R,"defaultMaxListeners",{enumerable:!0,get:function(){return O},set:function(ue){if(typeof ue!="number"||ue<0||ue!=ue)throw new TypeError('"defaultMaxListeners" must be a positive number');O=ue}}):R.defaultMaxListeners=O,R.prototype.setMaxListeners=function(ue){if(typeof ue!="number"||ue<0||isNaN(ue))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=ue,this},R.prototype.getMaxListeners=function(){return T(this)},R.prototype.emit=function(ue){var fe,Le,Ge,ze,je,Be,_e=ue==="error";if(Be=this._events)_e=_e&&Be.error==null;else if(!_e)return!1;if(_e){if(arguments.length>1&&(fe=arguments[1]),fe instanceof Error)throw fe;var He=new Error('Unhandled "error" event. ('+fe+")");throw He.context=fe,He}if(!(Le=Be[ue]))return!1;var tt=typeof Le=="function";switch(Ge=arguments.length){case 1:(function(Ke,Ze,Qe){if(Ze)Ke.call(Qe);else for(var vt=Ke.length,pt=oe(Ke,vt),ut=0;ut<vt;++ut)pt[ut].call(Qe)})(Le,tt,this);break;case 2:(function(Ke,Ze,Qe,vt){if(Ze)Ke.call(Qe,vt);else for(var pt=Ke.length,ut=oe(Ke,pt),Mt=0;Mt<pt;++Mt)ut[Mt].call(Qe,vt)})(Le,tt,this,arguments[1]);break;case 3:(function(Ke,Ze,Qe,vt,pt){if(Ze)Ke.call(Qe,vt,pt);else for(var ut=Ke.length,Mt=oe(Ke,ut),bt=0;bt<ut;++bt)Mt[bt].call(Qe,vt,pt)})(Le,tt,this,arguments[1],arguments[2]);break;case 4:(function(Ke,Ze,Qe,vt,pt,ut){if(Ze)Ke.call(Qe,vt,pt,ut);else for(var Mt=Ke.length,bt=oe(Ke,Mt),ar=0;ar<Mt;++ar)bt[ar].call(Qe,vt,pt,ut)})(Le,tt,this,arguments[1],arguments[2],arguments[3]);break;default:for(ze=new Array(Ge-1),je=1;je<Ge;je++)ze[je-1]=arguments[je];(function(Ke,Ze,Qe,vt){if(Ze)Ke.apply(Qe,vt);else for(var pt=Ke.length,ut=oe(Ke,pt),Mt=0;Mt<pt;++Mt)ut[Mt].apply(Qe,vt)})(Le,tt,this,ze)}return!0},R.prototype.addListener=function(ue,fe){return U(this,ue,fe,!1)},R.prototype.on=R.prototype.addListener,R.prototype.prependListener=function(ue,fe){return U(this,ue,fe,!0)},R.prototype.once=function(ue,fe){if(typeof fe!="function")throw new TypeError('"listener" argument must be a function');return this.on(ue,K(this,ue,fe)),this},R.prototype.prependOnceListener=function(ue,fe){if(typeof fe!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(ue,K(this,ue,fe)),this},R.prototype.removeListener=function(ue,fe){var Le,Ge,ze,je,Be;if(typeof fe!="function")throw new TypeError('"listener" argument must be a function');if(!(Ge=this._events))return this;if(!(Le=Ge[ue]))return this;if(Le===fe||Le.listener===fe)--this._eventsCount==0?this._events=M(null):(delete Ge[ue],Ge.removeListener&&this.emit("removeListener",ue,Le.listener||fe));else if(typeof Le!="function"){for(ze=-1,je=Le.length-1;je>=0;je--)if(Le[je]===fe||Le[je].listener===fe){Be=Le[je].listener,ze=je;break}if(ze<0)return this;ze===0?Le.shift():(function(_e,He){for(var tt=He,Ke=tt+1,Ze=_e.length;Ke<Ze;tt+=1,Ke+=1)_e[tt]=_e[Ke];_e.pop()})(Le,ze),Le.length===1&&(Ge[ue]=Le[0]),Ge.removeListener&&this.emit("removeListener",ue,Be||fe)}return this},R.prototype.removeAllListeners=function(ue){var fe,Le,Ge;if(!(Le=this._events))return this;if(!Le.removeListener)return arguments.length===0?(this._events=M(null),this._eventsCount=0):Le[ue]&&(--this._eventsCount==0?this._events=M(null):delete Le[ue]),this;if(arguments.length===0){var ze,je=z(Le);for(Ge=0;Ge<je.length;++Ge)(ze=je[Ge])!=="removeListener"&&this.removeAllListeners(ze);return this.removeAllListeners("removeListener"),this._events=M(null),this._eventsCount=0,this}if(typeof(fe=Le[ue])=="function")this.removeListener(ue,fe);else if(fe)for(Ge=fe.length-1;Ge>=0;Ge--)this.removeListener(ue,fe[Ge]);return this},R.prototype.listeners=function(ue){return J(this,ue,!0)},R.prototype.rawListeners=function(ue){return J(this,ue,!1)},R.listenerCount=function(ue,fe){return typeof ue.listenerCount=="function"?ue.listenerCount(fe):te.call(ue,fe)},R.prototype.listenerCount=te,R.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},1:(module,__unused_webpack_exports,__webpack_require__)=>{var Buffer=__webpack_require__(3085).lW;const Token=__webpack_require__(3416),strtok3=__webpack_require__(5849),{stringToBytes,tarHeaderChecksumMatches,uint32SyncSafeToken}=__webpack_require__(6188),supported=__webpack_require__(9898),minimumBytes=4100;async function fromStream(y){const x=await strtok3.fromStream(y);try{return await fromTokenizer(x)}finally{await x.close()}}async function fromBuffer(y){if(!(y instanceof Uint8Array||y instanceof ArrayBuffer||Buffer.isBuffer(y)))throw new TypeError(`Expected the \`input\` argument to be of type \`Uint8Array\` or \`Buffer\` or \`ArrayBuffer\`, got \`${typeof y}\``);const x=y instanceof Buffer?y:Buffer.from(y);if(x&&x.length>1)return fromTokenizer(strtok3.fromBuffer(x))}function _check(y,x,r){r={offset:0,...r};for(const[b,M]of x.entries())if(r.mask){if(M!==(r.mask[b]&y[b+r.offset]))return!1}else if(M!==y[b+r.offset])return!1;return!0}async function fromTokenizer(y){try{return _fromTokenizer(y)}catch(x){if(!(x instanceof strtok3.EndOfStreamError))throw x}}async function _fromTokenizer(y){let x=Buffer.alloc(minimumBytes);const r=(M,z)=>_check(x,M,z),b=(M,z)=>r(stringToBytes(M),z);if(y.fileInfo.size||(y.fileInfo.size=Number.MAX_SAFE_INTEGER),await y.peekBuffer(x,{length:12,mayBeLess:!0}),r([66,77]))return{ext:"bmp",mime:"image/bmp"};if(r([11,119]))return{ext:"ac3",mime:"audio/vnd.dolby.dd-raw"};if(r([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(r([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if(r([37,33]))return await y.peekBuffer(x,{length:24,mayBeLess:!0}),b("PS-Adobe-",{offset:2})&&b(" EPSF-",{offset:14})?{ext:"eps",mime:"application/eps"}:{ext:"ps",mime:"application/postscript"};if(r([31,160])||r([31,157]))return{ext:"Z",mime:"application/x-compress"};if(r([255,216,255]))return{ext:"jpg",mime:"image/jpeg"};if(r([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(r([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(r([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(b("ID3")){await y.ignore(6);const M=await y.readToken(uint32SyncSafeToken);return y.position+M>y.fileInfo.size?{ext:"mp3",mime:"audio/mpeg"}:(await y.ignore(M),fromTokenizer(y))}if(b("MP+"))return{ext:"mpc",mime:"audio/x-musepack"};if((x[0]===67||x[0]===70)&&r([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(r([71,73,70]))return{ext:"gif",mime:"image/gif"};if(b("FLIF"))return{ext:"flif",mime:"image/flif"};if(b("8BPS"))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(b("WEBP",{offset:8}))return{ext:"webp",mime:"image/webp"};if(b("MPCK"))return{ext:"mpc",mime:"audio/x-musepack"};if(b("FORM"))return{ext:"aif",mime:"audio/aiff"};if(b("icns",{offset:0}))return{ext:"icns",mime:"image/icns"};if(r([80,75,3,4])){try{for(;y.position+30<y.fileInfo.size;){await y.readBuffer(x,{length:30});const M={compressedSize:x.readUInt32LE(18),uncompressedSize:x.readUInt32LE(22),filenameLength:x.readUInt16LE(26),extraFieldLength:x.readUInt16LE(28)};if(M.filename=await y.readToken(new Token.StringType(M.filenameLength,"utf-8")),await y.ignore(M.extraFieldLength),M.filename==="META-INF/mozilla.rsa")return{ext:"xpi",mime:"application/x-xpinstall"};if(M.filename.endsWith(".rels")||M.filename.endsWith(".xml"))switch(M.filename.split("/")[0]){case"_rels":default:break;case"word":return{ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"};case"ppt":return{ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"};case"xl":return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}}if(M.filename.startsWith("xl/"))return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"};if(M.filename.startsWith("3D/")&&M.filename.endsWith(".model"))return{ext:"3mf",mime:"model/3mf"};if(M.filename==="mimetype"&&M.compressedSize===M.uncompressedSize)switch(await y.readToken(new Token.StringType(M.compressedSize,"utf-8"))){case"application/epub+zip":return{ext:"epub",mime:"application/epub+zip"};case"application/vnd.oasis.opendocument.text":return{ext:"odt",mime:"application/vnd.oasis.opendocument.text"};case"application/vnd.oasis.opendocument.spreadsheet":return{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"};case"application/vnd.oasis.opendocument.presentation":return{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"}}if(M.compressedSize===0){let z=-1;for(;z<0&&y.position<y.fileInfo.size;)await y.peekBuffer(x,{mayBeLess:!0}),z=x.indexOf("504B0304",0,"hex"),await y.ignore(z>=0?z:x.length)}else await y.ignore(M.compressedSize)}}catch(M){if(!(M instanceof strtok3.EndOfStreamError))throw M}return{ext:"zip",mime:"application/zip"}}if(b("OggS")){await y.ignore(28);const M=Buffer.alloc(8);return await y.readBuffer(M),_check(M,[79,112,117,115,72,101,97,100])?{ext:"opus",mime:"audio/opus"}:_check(M,[128,116,104,101,111,114,97])?{ext:"ogv",mime:"video/ogg"}:_check(M,[1,118,105,100,101,111,0])?{ext:"ogm",mime:"video/ogg"}:_check(M,[127,70,76,65,67])?{ext:"oga",mime:"audio/ogg"}:_check(M,[83,112,101,101,120,32,32])?{ext:"spx",mime:"audio/ogg"}:_check(M,[1,118,111,114,98,105,115])?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"}}if(r([80,75])&&(x[2]===3||x[2]===5||x[2]===7)&&(x[3]===4||x[3]===6||x[3]===8))return{ext:"zip",mime:"application/zip"};if(b("ftyp",{offset:4})&&(96&x[8])!=0){const M=x.toString("binary",8,12).replace("\0"," ").trim();switch(M){case"avif":return{ext:"avif",mime:"image/avif"};case"mif1":return{ext:"heic",mime:"image/heif"};case"msf1":return{ext:"heic",mime:"image/heif-sequence"};case"heic":case"heix":return{ext:"heic",mime:"image/heic"};case"hevc":case"hevx":return{ext:"heic",mime:"image/heic-sequence"};case"qt":return{ext:"mov",mime:"video/quicktime"};case"M4V":case"M4VH":case"M4VP":return{ext:"m4v",mime:"video/x-m4v"};case"M4P":return{ext:"m4p",mime:"video/mp4"};case"M4B":return{ext:"m4b",mime:"audio/mp4"};case"M4A":return{ext:"m4a",mime:"audio/x-m4a"};case"F4V":return{ext:"f4v",mime:"video/mp4"};case"F4P":return{ext:"f4p",mime:"video/mp4"};case"F4A":return{ext:"f4a",mime:"audio/mp4"};case"F4B":return{ext:"f4b",mime:"audio/mp4"};case"crx":return{ext:"cr3",mime:"image/x-canon-cr3"};default:return M.startsWith("3g")?M.startsWith("3g2")?{ext:"3g2",mime:"video/3gpp2"}:{ext:"3gp",mime:"video/3gpp"}:{ext:"mp4",mime:"video/mp4"}}}if(b("MThd"))return{ext:"mid",mime:"audio/midi"};if(b("wOFF")&&(r([0,1,0,0],{offset:4})||b("OTTO",{offset:4})))return{ext:"woff",mime:"font/woff"};if(b("wOF2")&&(r([0,1,0,0],{offset:4})||b("OTTO",{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(r([212,195,178,161])||r([161,178,195,212]))return{ext:"pcap",mime:"application/vnd.tcpdump.pcap"};if(b("DSD "))return{ext:"dsf",mime:"audio/x-dsf"};if(b("LZIP"))return{ext:"lz",mime:"application/x-lzip"};if(b("fLaC"))return{ext:"flac",mime:"audio/x-flac"};if(r([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(b("wvpk"))return{ext:"wv",mime:"audio/wavpack"};if(b("%PDF")){await y.ignore(1350);const M=10485760,z=Buffer.alloc(Math.min(M,y.fileInfo.size));return await y.readBuffer(z,{mayBeLess:!0}),z.includes(Buffer.from("AIPrivateData"))?{ext:"ai",mime:"application/postscript"}:{ext:"pdf",mime:"application/pdf"}}if(r([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(r([73,73,42,0]))return b("CR",{offset:8})?{ext:"cr2",mime:"image/x-canon-cr2"}:r([28,0,254,0],{offset:8})||r([31,0,11,0],{offset:8})?{ext:"nef",mime:"image/x-nikon-nef"}:r([8,0,0,0],{offset:4})&&(r([45,0,254,0],{offset:8})||r([39,0,254,0],{offset:8}))?{ext:"dng",mime:"image/x-adobe-dng"}:(x=Buffer.alloc(24),await y.peekBuffer(x),(r([16,251,134,1],{offset:4})||r([8,0,0,0],{offset:4}))&&r([0,254,0,4,0,1,0,0,0,1,0,0,0,3,1],{offset:9})?{ext:"arw",mime:"image/x-sony-arw"}:{ext:"tif",mime:"image/tiff"});if(r([77,77,0,42]))return{ext:"tif",mime:"image/tiff"};if(b("MAC "))return{ext:"ape",mime:"audio/ape"};if(r([26,69,223,163])){async function M(){const I=await y.peekNumber(Token.UINT8);let O=128,A=0;for(;(I&O)==0&&O!==0;)++A,O>>=1;const T=Buffer.alloc(A+1);return await y.readBuffer(T),T}async function z(){const I=await M(),O=await M();O[0]^=128>>O.length-1;const A=Math.min(6,O.length);return{id:I.readUIntBE(0,I.length),len:O.readUIntBE(O.length-A,A)}}async function B(I,O){for(;O>0;){const A=await z();if(A.id===17026)return y.readToken(new Token.StringType(A.len,"utf-8"));await y.ignore(A.len),--O}}const R=await z();switch(await B(0,R.len)){case"webm":return{ext:"webm",mime:"video/webm"};case"matroska":return{ext:"mkv",mime:"video/x-matroska"};default:return}}if(r([82,73,70,70])){if(r([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(r([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/vnd.wave"};if(r([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(b("SQLi"))return{ext:"sqlite",mime:"application/x-sqlite3"};if(r([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(b("Cr24"))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(b("MSCF")||b("ISc("))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(r([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(r([197,208,211,198]))return{ext:"eps",mime:"application/eps"};if(r([40,181,47,253]))return{ext:"zst",mime:"application/zstd"};if(r([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(b("#!AMR"))return{ext:"amr",mime:"audio/amr"};if(b("{\\rtf"))return{ext:"rtf",mime:"application/rtf"};if(r([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(b("IMPM"))return{ext:"it",mime:"audio/x-it"};if(b("-lh0-",{offset:2})||b("-lh1-",{offset:2})||b("-lh2-",{offset:2})||b("-lh3-",{offset:2})||b("-lh4-",{offset:2})||b("-lh5-",{offset:2})||b("-lh6-",{offset:2})||b("-lh7-",{offset:2})||b("-lzs-",{offset:2})||b("-lz4-",{offset:2})||b("-lz5-",{offset:2})||b("-lhd-",{offset:2}))return{ext:"lzh",mime:"application/x-lzh-compressed"};if(r([0,0,1,186])){if(r([33],{offset:4,mask:[241]}))return{ext:"mpg",mime:"video/MP1S"};if(r([68],{offset:4,mask:[196]}))return{ext:"mpg",mime:"video/MP2P"}}if(b("ITSF"))return{ext:"chm",mime:"application/vnd.ms-htmlhelp"};if(r([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(b("<?xml "))return{ext:"xml",mime:"application/xml"};if(r([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(r([82,97,114,33,26,7])&&(x[6]===0||x[6]===1))return{ext:"rar",mime:"application/x-rar-compressed"};if(b("solid "))return{ext:"stl",mime:"model/stl"};if(b("BLENDER"))return{ext:"blend",mime:"application/x-blender"};if(b("!<arch>"))return await y.ignore(8),await y.readToken(new Token.StringType(13,"ascii"))==="debian-binary"?{ext:"deb",mime:"application/x-deb"}:{ext:"ar",mime:"application/x-unix-archive"};if(r([137,80,78,71,13,10,26,10])){async function M(){return{length:await y.readToken(Token.INT32_BE),type:await y.readToken(new Token.StringType(4,"binary"))}}await y.ignore(8);do{const z=await M();if(z.length<0)return;switch(z.type){case"IDAT":return{ext:"png",mime:"image/png"};case"acTL":return{ext:"apng",mime:"image/apng"};default:await y.ignore(z.length+4)}}while(y.position+8<y.fileInfo.size);return{ext:"png",mime:"image/png"}}if(r([65,82,82,79,87,49,0,0]))return{ext:"arrow",mime:"application/x-apache-arrow"};if(r([103,108,84,70,2,0,0,0]))return{ext:"glb",mime:"model/gltf-binary"};if(r([102,114,101,101],{offset:4})||r([109,100,97,116],{offset:4})||r([109,111,111,118],{offset:4})||r([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(r([73,73,82,79,8,0,0,0,24]))return{ext:"orf",mime:"image/x-olympus-orf"};if(b("gimp xcf "))return{ext:"xcf",mime:"image/x-xcf"};if(r([73,73,85,0,24,0,0,0,136,231,116,216]))return{ext:"rw2",mime:"image/x-panasonic-rw2"};if(r([48,38,178,117,142,102,207,17,166,217])){async function M(){const z=Buffer.alloc(16);return await y.readBuffer(z),{id:z,size:Number(await y.readToken(Token.UINT64_LE))}}for(await y.ignore(30);y.position+24<y.fileInfo.size;){const z=await M();let B=z.size-24;if(_check(z.id,[145,7,220,183,183,169,207,17,142,230,0,192,12,32,83,101])){const R=Buffer.alloc(16);if(B-=await y.readBuffer(R),_check(R,[64,158,105,248,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"audio/x-ms-asf"};if(_check(R,[192,239,25,188,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"video/x-ms-asf"};break}await y.ignore(B)}return{ext:"asf",mime:"application/vnd.ms-asf"}}if(r([171,75,84,88,32,49,49,187,13,10,26,10]))return{ext:"ktx",mime:"image/ktx"};if((r([126,16,4])||r([126,24,4]))&&r([48,77,73,69],{offset:4}))return{ext:"mie",mime:"application/x-mie"};if(r([39,10,0,0,0,0,0,0,0,0,0,0],{offset:2}))return{ext:"shp",mime:"application/x-esri-shape"};if(r([0,0,0,12,106,80,32,32,13,10,135,10]))switch(await y.ignore(20),await y.readToken(new Token.StringType(4,"ascii"))){case"jp2 ":return{ext:"jp2",mime:"image/jp2"};case"jpx ":return{ext:"jpx",mime:"image/jpx"};case"jpm ":return{ext:"jpm",mime:"image/jpm"};case"mjp2":return{ext:"mj2",mime:"image/mj2"};default:return}if(r([255,10])||r([0,0,0,12,74,88,76,32,13,10,135,10]))return{ext:"jxl",mime:"image/jxl"};if(r([0,0,1,186])||r([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(r([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(r([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(r([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(r([208,207,17,224,161,177,26,225]))return{ext:"cfb",mime:"application/x-cfb"};if(await y.peekBuffer(x,{length:Math.min(256,y.fileInfo.size),mayBeLess:!0}),b("BEGIN:")){if(b("VCARD",{offset:6}))return{ext:"vcf",mime:"text/vcard"};if(b("VCALENDAR",{offset:6}))return{ext:"ics",mime:"text/calendar"}}if(b("FUJIFILMCCD-RAW"))return{ext:"raf",mime:"image/x-fujifilm-raf"};if(b("Extended Module:"))return{ext:"xm",mime:"audio/x-xm"};if(b("Creative Voice File"))return{ext:"voc",mime:"audio/x-voc"};if(r([4,0,0,0])&&x.length>=16){const M=x.readUInt32LE(12);if(M>12&&x.length>=M+16)try{const z=x.slice(16,M+16).toString();if(JSON.parse(z).files)return{ext:"asar",mime:"application/x-asar"}}catch{}}if(r([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(b("SCRM",{offset:44}))return{ext:"s3m",mime:"audio/x-s3m"};if(r([71],{offset:4})&&(r([71],{offset:192})||r([71],{offset:196})))return{ext:"mts",mime:"video/mp2t"};if(r([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if(r([68,73,67,77],{offset:128}))return{ext:"dcm",mime:"application/dicom"};if(r([76,0,0,0,1,20,2,0,0,0,0,0,192,0,0,0,0,0,0,70]))return{ext:"lnk",mime:"application/x.ms.shortcut"};if(r([98,111,111,107,0,0,0,0,109,97,114,107,0,0,0,0]))return{ext:"alias",mime:"application/x.apple.alias"};if(r([76,80],{offset:34})&&(r([0,0,1],{offset:8})||r([1,0,2],{offset:8})||r([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(r([6,6,237,245,216,29,70,229,189,49,239,231,254,116,183,29]))return{ext:"indd",mime:"application/x-indesign"};if(await y.peekBuffer(x,{length:Math.min(512,y.fileInfo.size),mayBeLess:!0}),tarHeaderChecksumMatches(x))return{ext:"tar",mime:"application/x-tar"};if(r([255,254,255,14,83,0,107,0,101,0,116,0,99,0,104,0,85,0,112,0,32,0,77,0,111,0,100,0,101,0,108,0]))return{ext:"skp",mime:"application/vnd.sketchup.skp"};if(b("-----BEGIN PGP MESSAGE-----"))return{ext:"pgp",mime:"application/pgp-encrypted"};if(x.length>=2&&r([255,224],{offset:0,mask:[255,224]})){if(r([16],{offset:1,mask:[22]}))return r([8],{offset:1,mask:[8]}),{ext:"aac",mime:"audio/aac"};if(r([2],{offset:1,mask:[6]}))return{ext:"mp3",mime:"audio/mpeg"};if(r([4],{offset:1,mask:[6]}))return{ext:"mp2",mime:"audio/mpeg"};if(r([6],{offset:1,mask:[6]}))return{ext:"mp1",mime:"audio/mpeg"}}}const stream=readableStream=>new Promise(((resolve,reject)=>{const stream=eval("require")("stream");readableStream.on("error",reject),readableStream.once("readable",(async()=>{const y=new stream.PassThrough;let x;x=stream.pipeline?stream.pipeline(readableStream,y,(()=>{})):readableStream.pipe(y);const r=readableStream.read(minimumBytes)||readableStream.read()||Buffer.alloc(0);try{const b=await fromBuffer(r);y.fileType=b}catch(b){reject(b)}resolve(x)}))})),fileType={fromStream,fromTokenizer,fromBuffer,stream};Object.defineProperty(fileType,"extensions",{get:()=>new Set(supported.extensions)}),Object.defineProperty(fileType,"mimeTypes",{get:()=>new Set(supported.mimeTypes)}),module.exports=fileType},7769:(y,x,r)=>{const b=r(6597),M=r(1),z={fromFile:async function(B){const R=await b.fromFile(B);try{return await M.fromTokenizer(R)}finally{await R.close()}}};Object.assign(z,M),Object.defineProperty(z,"extensions",{get:()=>M.extensions}),Object.defineProperty(z,"mimeTypes",{get:()=>M.mimeTypes}),y.exports=z},9898:y=>{y.exports={extensions:["jpg","png","apng","gif","webp","flif","xcf","cr2","cr3","orf","arw","dng","nef","rw2","raf","tif","bmp","icns","jxr","psd","indd","zip","tar","rar","gz","bz2","7z","dmg","mp4","mid","mkv","webm","mov","avi","mpg","mp2","mp3","m4a","oga","ogg","ogv","opus","flac","wav","spx","amr","pdf","epub","exe","swf","rtf","wasm","woff","woff2","eot","ttf","otf","ico","flv","ps","xz","sqlite","nes","crx","xpi","cab","deb","ar","rpm","Z","lz","cfb","mxf","mts","blend","bpg","docx","pptx","xlsx","3gp","3g2","jp2","jpm","jpx","mj2","aif","qcp","odt","ods","odp","xml","mobi","heic","cur","ktx","ape","wv","dcm","ics","glb","pcap","dsf","lnk","alias","voc","ac3","m4v","m4p","m4b","f4v","f4p","f4b","f4a","mie","asf","ogm","ogx","mpc","arrow","shp","aac","mp1","it","s3m","xm","ai","skp","avif","eps","lzh","pgp","asar","stl","chm","3mf","zst","jxl","vcf"],mimeTypes:["image/jpeg","image/png","image/gif","image/webp","image/flif","image/x-xcf","image/x-canon-cr2","image/x-canon-cr3","image/tiff","image/bmp","image/vnd.ms-photo","image/vnd.adobe.photoshop","application/x-indesign","application/epub+zip","application/x-xpinstall","application/vnd.oasis.opendocument.text","application/vnd.oasis.opendocument.spreadsheet","application/vnd.oasis.opendocument.presentation","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/zip","application/x-tar","application/x-rar-compressed","application/gzip","application/x-bzip2","application/x-7z-compressed","application/x-apple-diskimage","application/x-apache-arrow","video/mp4","audio/midi","video/x-matroska","video/webm","video/quicktime","video/vnd.avi","audio/vnd.wave","audio/qcelp","audio/x-ms-asf","video/x-ms-asf","application/vnd.ms-asf","video/mpeg","video/3gpp","audio/mpeg","audio/mp4","audio/opus","video/ogg","audio/ogg","application/ogg","audio/x-flac","audio/ape","audio/wavpack","audio/amr","application/pdf","application/x-msdownload","application/x-shockwave-flash","application/rtf","application/wasm","font/woff","font/woff2","application/vnd.ms-fontobject","font/ttf","font/otf","image/x-icon","video/x-flv","application/postscript","application/eps","application/x-xz","application/x-sqlite3","application/x-nintendo-nes-rom","application/x-google-chrome-extension","application/vnd.ms-cab-compressed","application/x-deb","application/x-unix-archive","application/x-rpm","application/x-compress","application/x-lzip","application/x-cfb","application/x-mie","application/mxf","video/mp2t","application/x-blender","image/bpg","image/jp2","image/jpx","image/jpm","image/mj2","audio/aiff","application/xml","application/x-mobipocket-ebook","image/heif","image/heif-sequence","image/heic","image/heic-sequence","image/icns","image/ktx","application/dicom","audio/x-musepack","text/calendar","text/vcard","model/gltf-binary","application/vnd.tcpdump.pcap","audio/x-dsf","application/x.ms.shortcut","application/x.apple.alias","audio/x-voc","audio/vnd.dolby.dd-raw","audio/x-m4a","image/apng","image/x-olympus-orf","image/x-sony-arw","image/x-adobe-dng","image/x-nikon-nef","image/x-panasonic-rw2","image/x-fujifilm-raf","video/x-m4v","video/3gpp2","application/x-esri-shape","audio/aac","audio/x-it","audio/x-s3m","audio/x-xm","video/MP1S","video/MP2P","application/vnd.sketchup.skp","image/avif","application/x-lzh-compressed","application/pgp-encrypted","application/x-asar","model/stl","application/vnd.ms-htmlhelp","model/3mf","image/jxl","application/zstd"]}},6188:(y,x)=>{x.stringToBytes=r=>[...r].map((b=>b.charCodeAt(0))),x.tarHeaderChecksumMatches=(r,b=0)=>{const M=parseInt(r.toString("utf8",148,154).replace(/\0.*$/,"").trim(),8);if(isNaN(M))return!1;let z=256;for(let B=b;B<b+148;B++)z+=r[B];for(let B=b+156;B<b+512;B++)z+=r[B];return M===z},x.uint32SyncSafeToken={get:(r,b)=>127&r[b+3]|r[b+2]<<7|r[b+1]<<14|r[b]<<21,len:4}},1787:(y,x,r)=>{var b=r(2582),M=r(4102),z=r(1540),B=r(9705).default,R=z.featureEach,I=(z.coordEach,M.polygon,M.featureCollection);function O(A){var T=new b(A);return T.insert=function(U){if(U.type!=="Feature")throw new Error("invalid feature");return U.bbox=U.bbox?U.bbox:B(U),b.prototype.insert.call(this,U)},T.load=function(U){var q=[];return Array.isArray(U)?U.forEach((function(K){if(K.type!=="Feature")throw new Error("invalid features");K.bbox=K.bbox?K.bbox:B(K),q.push(K)})):R(U,(function(K){if(K.type!=="Feature")throw new Error("invalid features");K.bbox=K.bbox?K.bbox:B(K),q.push(K)})),b.prototype.load.call(this,q)},T.remove=function(U,q){if(U.type!=="Feature")throw new Error("invalid feature");return U.bbox=U.bbox?U.bbox:B(U),b.prototype.remove.call(this,U,q)},T.clear=function(){return b.prototype.clear.call(this)},T.search=function(U){var q=b.prototype.search.call(this,this.toBBox(U));return I(q)},T.collides=function(U){return b.prototype.collides.call(this,this.toBBox(U))},T.all=function(){var U=b.prototype.all.call(this);return I(U)},T.toJSON=function(){return b.prototype.toJSON.call(this)},T.fromJSON=function(U){return b.prototype.fromJSON.call(this,U)},T.toBBox=function(U){var q;if(U.bbox)q=U.bbox;else if(Array.isArray(U)&&U.length===4)q=U;else if(Array.isArray(U)&&U.length===6)q=[U[0],U[1],U[3],U[4]];else if(U.type==="Feature")q=B(U);else{if(U.type!=="FeatureCollection")throw new Error("invalid geojson");q=B(U)}return{minX:q[0],minY:q[1],maxX:q[2],maxY:q[3]}},T}y.exports=O,y.exports.default=O},645:(y,x)=>{x.read=function(r,b,M,z,B){var R,I,O=8*B-z-1,A=(1<<O)-1,T=A>>1,U=-7,q=M?B-1:0,K=M?-1:1,J=r[b+q];for(q+=K,R=J&(1<<-U)-1,J>>=-U,U+=O;U>0;R=256*R+r[b+q],q+=K,U-=8);for(I=R&(1<<-U)-1,R>>=-U,U+=z;U>0;I=256*I+r[b+q],q+=K,U-=8);if(R===0)R=1-T;else{if(R===A)return I?NaN:1/0*(J?-1:1);I+=Math.pow(2,z),R-=T}return(J?-1:1)*I*Math.pow(2,R-z)},x.write=function(r,b,M,z,B,R){var I,O,A,T=8*R-B-1,U=(1<<T)-1,q=U>>1,K=B===23?Math.pow(2,-24)-Math.pow(2,-77):0,J=z?0:R-1,te=z?1:-1,oe=b<0||b===0&&1/b<0?1:0;for(b=Math.abs(b),isNaN(b)||b===1/0?(O=isNaN(b)?1:0,I=U):(I=Math.floor(Math.log(b)/Math.LN2),b*(A=Math.pow(2,-I))<1&&(I--,A*=2),(b+=I+q>=1?K/A:K*Math.pow(2,1-q))*A>=2&&(I++,A/=2),I+q>=U?(O=0,I=U):I+q>=1?(O=(b*A-1)*Math.pow(2,B),I+=q):(O=b*Math.pow(2,q-1)*Math.pow(2,B),I=0));B>=8;r[M+J]=255&O,J+=te,O/=256,B-=8);for(I=I<<B|O,T+=B;T>0;r[M+J]=255&I,J+=te,I/=256,T-=8);r[M+J-te]|=128*oe}},8849:(y,x,r)=>{Object.defineProperty(x,"__esModule",{value:!0});const b=r(9126),M=Object.keys(b.typeHandlers),z={56:"psd",66:"bmp",68:"dds",71:"gif",73:"tiff",77:"tiff",82:"webp",105:"icns",137:"png",255:"jpg"};x.detector=function(B){const R=B[0];if(R in z){const I=z[R];if(b.typeHandlers[I].validate(B))return I}return M.find((I=>b.typeHandlers[I].validate(B)))}},9248:(y,x,r)=>{Object.defineProperty(x,"__esModule",{value:!0});const b=r(8497);if(!("promises"in b)){class M{constructor(B){this.fd=B}stat(){return new Promise(((B,R)=>{b.fstat(this.fd,((I,O)=>{I?R(I):B(O)}))}))}read(B,R,I,O){return new Promise(((A,T)=>{b.read(this.fd,B,R,I,O,(U=>{U?T(U):A()}))}))}close(){return new Promise(((B,R)=>{b.close(this.fd,(I=>{I?R(I):B()}))}))}}Object.defineProperty(b,"promises",{value:{open:(z,B)=>new Promise(((R,I)=>{b.open(z,B,((O,A)=>{O?I(O):R(new M(A))}))}))},writable:!1})}},7935:function(y,x,r){var b=r(3085).lW,M=r(4155),z=this&&this.__awaiter||function(J,te,oe,ue){return new(oe||(oe=Promise))((function(fe,Le){function Ge(Be){try{je(ue.next(Be))}catch(_e){Le(_e)}}function ze(Be){try{je(ue.throw(Be))}catch(_e){Le(_e)}}function je(Be){var _e;Be.done?fe(Be.value):(_e=Be.value,_e instanceof oe?_e:new oe((function(He){He(_e)}))).then(Ge,ze)}je((ue=ue.apply(J,te||[])).next())}))};Object.defineProperty(x,"__esModule",{value:!0});const B=r(8497),R=r(3935),I=r(9189),O=r(9126),A=r(8849);r(9248);const T=524288,U=new I.default({concurrency:100,autostart:!0});function q(J,te){const oe=A.detector(J);if(oe&&oe in O.typeHandlers){const ue=O.typeHandlers[oe].calculate(J,te);if(ue!==void 0)return ue.type=oe,ue}throw new TypeError("unsupported file type: "+oe+" (file: "+te+")")}function K(J,te){if(b.isBuffer(J))return q(J);if(typeof J!="string")throw new TypeError("invalid invocation");const oe=R.resolve(J);if(typeof te!="function"){const ue=(function(fe){const Le=B.openSync(fe,"r"),Ge=B.fstatSync(Le).size,ze=Math.min(Ge,T),je=b.alloc(ze);return B.readSync(Le,je,0,ze,0),B.closeSync(Le),je})(oe);return q(ue,oe)}U.push((()=>(function(ue){return z(this,void 0,void 0,(function*(){const fe=yield B.promises.open(ue,"r"),{size:Le}=yield fe.stat();if(Le<=0)throw new Error("Empty file");const Ge=Math.min(Le,T),ze=b.alloc(Ge);return yield fe.read(ze,0,Ge,0),yield fe.close(),ze}))})(oe).then((ue=>M.nextTick(te,null,q(ue,oe)))).catch(te)))}y.exports=x=K,x.imageSize=K,x.setConcurrency=J=>{U.concurrency=J},x.types=Object.keys(O.typeHandlers)},8557:(y,x)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.readUInt=function(r,b,M,z){return M=M||0,r["readUInt"+b+(z?"BE":"LE")].call(r,M)}},9126:(y,x,r)=>{Object.defineProperty(x,"__esModule",{value:!0});const b=r(3645),M=r(3552),z=r(1680),B=r(1542),R=r(7163),I=r(7800),O=r(6625),A=r(1558),T=r(2229),U=r(4663),q=r(6221),K=r(7851),J=r(2602),te=r(8531),oe=r(9948),ue=r(5236);x.typeHandlers={bmp:b.BMP,cur:M.CUR,dds:z.DDS,gif:B.GIF,icns:R.ICNS,ico:I.ICO,j2c:O.J2C,jp2:A.JP2,jpg:T.JPG,ktx:U.KTX,png:q.PNG,pnm:K.PNM,psd:J.PSD,svg:te.SVG,tiff:oe.TIFF,webp:ue.WEBP}},3645:(y,x)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.BMP={validate:r=>r.toString("ascii",0,2)==="BM",calculate:r=>({height:Math.abs(r.readInt32LE(22)),width:r.readUInt32LE(18)})}},3552:(y,x,r)=>{Object.defineProperty(x,"__esModule",{value:!0});const b=r(7800);x.CUR={validate:M=>M.readUInt16LE(0)===0&&M.readUInt16LE(2)===2,calculate:M=>b.ICO.calculate(M)}},1680:(y,x)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.DDS={validate:r=>r.readUInt32LE(0)===542327876,calculate:r=>({height:r.readUInt32LE(12),width:r.readUInt32LE(16)})}},1542:(y,x)=>{Object.defineProperty(x,"__esModule",{value:!0});const r=/^GIF8[79]a/;x.GIF={validate(b){const M=b.toString("ascii",0,6);return r.test(M)},calculate:b=>({height:b.readUInt16LE(8),width:b.readUInt16LE(6)})}},7163:(y,x)=>{Object.defineProperty(x,"__esModule",{value:!0});const r=4,b={ICON:32,"ICN#":32,"icm#":16,icm4:16,icm8:16,"ics#":16,ics4:16,ics8:16,is32:16,s8mk:16,icp4:16,icl4:32,icl8:32,il32:32,l8mk:32,icp5:32,ic11:32,ich4:48,ich8:48,ih32:48,h8mk:48,icp6:64,ic12:32,it32:128,t8mk:128,ic07:128,ic08:256,ic13:256,ic09:512,ic14:512,ic10:1024};function M(B,R){const I=R+r;return[B.toString("ascii",R,I),B.readUInt32BE(I)]}function z(B){const R=b[B];return{width:R,height:R,type:B}}x.ICNS={validate:B=>B.toString("ascii",0,4)==="icns",calculate(B){const R=B.length,I=B.readUInt32BE(4);let O=8,A=M(B,O),T=z(A[0]);if(O+=A[1],O===I)return T;const U={height:T.height,images:[T],width:T.width};for(;O<I&&O<R;)A=M(B,O),T=z(A[0]),O+=A[1],U.images.push(T);return U}}},7800:(y,x)=>{Object.defineProperty(x,"__esModule",{value:!0});const r=6,b=16;function M(B,R){const I=B.readUInt8(R);return I===0?256:I}function z(B,R){const I=r+R*b;return{height:M(B,I+1),width:M(B,I)}}x.ICO={validate:B=>B.readUInt16LE(0)===0&&B.readUInt16LE(2)===1,calculate(B){const R=B.readUInt16LE(4),I=z(B,0);if(R===1)return I;const O=[I];for(let A=1;A<R;A+=1)O.push(z(B,A));return{height:I.height,images:O,width:I.width}}}},6625:(y,x)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.J2C={validate:r=>r.toString("hex",0,4)==="ff4fff51",calculate:r=>({height:r.readUInt32BE(12),width:r.readUInt32BE(8)})}},1558:(y,x)=>{Object.defineProperty(x,"__esModule",{value:!0});const r=b=>({height:b.readUInt32BE(4),width:b.readUInt32BE(8)});x.JP2={validate(b){const M=b.toString("hex",4,8),z=b.readUInt32BE(0);if(M!=="6a502020"||z<1)return!1;const B=z+4,R=b.readUInt32BE(z);return b.slice(B,B+R).toString("hex",0,4)==="66747970"},calculate(b){const M=b.readUInt32BE(0);let z=M+4+b.readUInt16BE(M+2);switch(b.toString("hex",z,z+4)){case"72726571":return z=z+4+4+(B=>{const R=B.readUInt8(0);let I=1+2*R;return I=I+2+B.readUInt16BE(I)*(2+R),I+2+B.readUInt16BE(I)*(16+R)})(b.slice(z+4)),r(b.slice(z+8,z+24));case"6a703268":return r(b.slice(z+8,z+24));default:throw new TypeError("Unsupported header found: "+b.toString("ascii",z,z+4))}}}},2229:(y,x,r)=>{Object.defineProperty(x,"__esModule",{value:!0});const b=r(8557),M="45786966",z=2,B=6,R=2,I="4d4d",O="4949",A=12,T=2;function U(te){return te.toString("hex",2,6)===M}function q(te,oe){return{height:te.readUInt16BE(oe),width:te.readUInt16BE(oe+2)}}function K(te,oe){const ue=te.slice(z,oe),fe=ue.toString("hex",B,B+R),Le=fe===I;if(Le||fe===O)return(function(Ge,ze){const je=B+8,Be=b.readUInt(Ge,16,je,ze);for(let _e=0;_e<Be;_e++){const He=je+T+_e*A,tt=He+A;if(He>Ge.length)return;const Ke=Ge.slice(He,tt);if(b.readUInt(Ke,16,0,ze)===274)return b.readUInt(Ke,16,2,ze)!==3||b.readUInt(Ke,32,4,ze)!==1?void 0:b.readUInt(Ke,16,8,ze)}})(ue,Le)}function J(te,oe){if(oe>te.length)throw new TypeError("Corrupt JPG, exceeded buffer limits");if(te[oe]!==255)throw new TypeError("Invalid JPG, marker table corrupted")}x.JPG={validate:te=>te.toString("hex",0,2)==="ffd8",calculate(te){let oe,ue;for(te=te.slice(4);te.length;){const fe=te.readUInt16BE(0);if(U(te)&&(oe=K(te,fe)),J(te,fe),ue=te[fe+1],ue===192||ue===193||ue===194){const Le=q(te,fe+5);return oe?{height:Le.height,orientation:oe,width:Le.width}:Le}te=te.slice(fe+2)}throw new TypeError("Invalid JPG, no size found")}}},4663:(y,x)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.KTX={validate:r=>r.toString("ascii",1,7)==="KTX 11",calculate:r=>({height:r.readUInt32LE(40),width:r.readUInt32LE(36)})}},6221:(y,x)=>{Object.defineProperty(x,"__esModule",{value:!0});const r="CgBI";x.PNG={validate(b){if(b.toString("ascii",1,8)===`PNG\r

`){let M=b.toString("ascii",12,16);if(M===r&&(M=b.toString("ascii",28,32)),M!=="IHDR")throw new TypeError("Invalid PNG");return!0}return!1},calculate:b=>b.toString("ascii",12,16)===r?{height:b.readUInt32BE(36),width:b.readUInt32BE(32)}:{height:b.readUInt32BE(20),width:b.readUInt32BE(16)}}},7851:(y,x)=>{Object.defineProperty(x,"__esModule",{value:!0});const r={P1:"pbm/ascii",P2:"pgm/ascii",P3:"ppm/ascii",P4:"pbm",P5:"pgm",P6:"ppm",P7:"pam",PF:"pfm"},b=Object.keys(r),M={default:z=>{let B=[];for(;z.length>0;){const R=z.shift();if(R[0]!=="#"){B=R.split(" ");break}}if(B.length===2)return{height:parseInt(B[1],10),width:parseInt(B[0],10)};throw new TypeError("Invalid PNM")},pam:z=>{const B={};for(;z.length>0;){const R=z.shift();if(R.length>16||R.charCodeAt(0)>128)continue;const[I,O]=R.split(" ");if(I&&O&&(B[I.toLowerCase()]=parseInt(O,10)),B.height&&B.width)break}if(B.height&&B.width)return{height:B.height,width:B.width};throw new TypeError("Invalid PAM")}};x.PNM={validate(z){const B=z.toString("ascii",0,2);return b.includes(B)},calculate(z){const B=z.toString("ascii",0,2),R=r[B],I=z.toString("ascii",3).split(/[\r\n]+/);return(M[R]||M.default)(I)}}},2602:(y,x)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.PSD={validate:r=>r.toString("ascii",0,4)==="8BPS",calculate:r=>({height:r.readUInt32BE(14),width:r.readUInt32BE(18)})}},8531:(y,x)=>{Object.defineProperty(x,"__esModule",{value:!0});const r=/<svg\s([^>"']|"[^"]*"|'[^']*')*>/,b={height:/\sheight=(['"])([^%]+?)\1/,root:r,viewbox:/\sviewBox=(['"])(.+?)\1/,width:/\swidth=(['"])([^%]+?)\1/},M=2.54,z={cm:96/M,em:16,ex:8,m:96/M*100,mm:96/M/10,pc:96/72/12,pt:96/72};function B(I){const O=/([0-9.]+)([a-z]*)/.exec(I);if(O)return Math.round(parseFloat(O[1])*(z[O[2]]||1))}function R(I){const O=I.split(" ");return{height:B(O[3]),width:B(O[2])}}x.SVG={validate(I){const O=String(I);return r.test(O)},calculate(I){const O=I.toString("utf8").match(b.root);if(O){const A=(function(T){const U=T.match(b.width),q=T.match(b.height),K=T.match(b.viewbox);return{height:q&&B(q[2]),viewbox:K&&R(K[2]),width:U&&B(U[2])}})(O[0]);if(A.width&&A.height)return(function(T){return{height:T.height,width:T.width}})(A);if(A.viewbox)return(function(T,U){const q=U.width/U.height;return T.width?{height:Math.floor(T.width/q),width:T.width}:T.height?{height:T.height,width:Math.floor(T.height*q)}:{height:U.height,width:U.width}})(A,A.viewbox)}throw new TypeError("Invalid SVG")}}},9948:(y,x,r)=>{var b=r(3085).lW;Object.defineProperty(x,"__esModule",{value:!0});const M=r(7990),z=r(8557);function B(O,A){const T=z.readUInt(O,16,8,A);return(z.readUInt(O,16,10,A)<<16)+T}function R(O){if(O.length>24)return O.slice(12)}const I=["49492a00","4d4d002a"];x.TIFF={validate:O=>I.includes(O.toString("hex",0,4)),calculate(O,A){if(!A)throw new TypeError("Tiff doesn't support buffer");const T=(function(te){const oe=te.toString("ascii",0,2);return oe==="II"?"LE":oe==="MM"?"BE":void 0})(O)==="BE",U=(function(te,oe,ue){const fe=z.readUInt(te,32,4,ue);let Le=1024;const Ge=M.statSync(oe).size;fe+Le>Ge&&(Le=Ge-fe-10);const ze=b.alloc(Le),je=M.openSync(oe,"r");return M.readSync(je,ze,0,Le,fe),ze.slice(2)})(O,A,T),q=(function(te,oe){const ue={};let fe=te;for(;fe&&fe.length;){const Le=z.readUInt(fe,16,0,oe),Ge=z.readUInt(fe,16,2,oe),ze=z.readUInt(fe,32,4,oe);if(Le===0)break;ze!==1||Ge!==3&&Ge!==4||(ue[Le]=B(fe,oe)),fe=R(fe)}return ue})(U,T),K=q[256],J=q[257];if(!K||!J)throw new TypeError("Invalid Tiff. Missing tags");return{height:J,width:K}}}},5236:(y,x)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.WEBP={validate(r){const b=r.toString("ascii",0,4)==="RIFF",M=r.toString("ascii",8,12)==="WEBP",z=r.toString("ascii",12,15)==="VP8";return b&&M&&z},calculate(r){const b=r.toString("ascii",12,16);if(r=r.slice(20,30),b==="VP8X"){const z=r[0];if((192&z)==0&&(1&z)==0)return(function(B){return{height:1+B.readUIntLE(7,3),width:1+B.readUIntLE(4,3)}})(r);throw new TypeError("Invalid WebP")}if(b==="VP8 "&&r[0]!==47)return(function(z){return{height:16383&z.readInt16LE(8),width:16383&z.readInt16LE(6)}})(r);const M=r.toString("hex",3,6);if(b==="VP8L"&&M!=="9d012a")return(function(z){return{height:1+((15&z[4])<<10|z[3]<<2|(192&z[2])>>6),width:1+((63&z[2])<<8|z[1])}})(r);throw new TypeError("Invalid WebP")}}},5717:y=>{typeof Object.create=="function"?y.exports=function(x,r){r&&(x.super_=r,x.prototype=Object.create(r.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}))}:y.exports=function(x,r){if(r){x.super_=r;var b=function(){};b.prototype=r.prototype,x.prototype=new b,x.prototype.constructor=x}}},8552:(y,x,r)=>{var b=r(852)(r(5639),"DataView");y.exports=b},1989:(y,x,r)=>{var b=r(1789),M=r(401),z=r(7667),B=r(1327),R=r(1866);function I(O){var A=-1,T=O==null?0:O.length;for(this.clear();++A<T;){var U=O[A];this.set(U[0],U[1])}}I.prototype.clear=b,I.prototype.delete=M,I.prototype.get=z,I.prototype.has=B,I.prototype.set=R,y.exports=I},8407:(y,x,r)=>{var b=r(7040),M=r(4125),z=r(2117),B=r(7518),R=r(4705);function I(O){var A=-1,T=O==null?0:O.length;for(this.clear();++A<T;){var U=O[A];this.set(U[0],U[1])}}I.prototype.clear=b,I.prototype.delete=M,I.prototype.get=z,I.prototype.has=B,I.prototype.set=R,y.exports=I},7071:(y,x,r)=>{var b=r(852)(r(5639),"Map");y.exports=b},3369:(y,x,r)=>{var b=r(4785),M=r(1285),z=r(6e3),B=r(9916),R=r(5265);function I(O){var A=-1,T=O==null?0:O.length;for(this.clear();++A<T;){var U=O[A];this.set(U[0],U[1])}}I.prototype.clear=b,I.prototype.delete=M,I.prototype.get=z,I.prototype.has=B,I.prototype.set=R,y.exports=I},3818:(y,x,r)=>{var b=r(852)(r(5639),"Promise");y.exports=b},8525:(y,x,r)=>{var b=r(852)(r(5639),"Set");y.exports=b},8668:(y,x,r)=>{var b=r(3369),M=r(619),z=r(2385);function B(R){var I=-1,O=R==null?0:R.length;for(this.__data__=new b;++I<O;)this.add(R[I])}B.prototype.add=B.prototype.push=M,B.prototype.has=z,y.exports=B},6384:(y,x,r)=>{var b=r(8407),M=r(7465),z=r(3779),B=r(7599),R=r(4758),I=r(4309);function O(A){var T=this.__data__=new b(A);this.size=T.size}O.prototype.clear=M,O.prototype.delete=z,O.prototype.get=B,O.prototype.has=R,O.prototype.set=I,y.exports=O},2705:(y,x,r)=>{var b=r(5639).Symbol;y.exports=b},1149:(y,x,r)=>{var b=r(5639).Uint8Array;y.exports=b},577:(y,x,r)=>{var b=r(852)(r(5639),"WeakMap");y.exports=b},4963:y=>{y.exports=function(x,r){for(var b=-1,M=x==null?0:x.length,z=0,B=[];++b<M;){var R=x[b];r(R,b,x)&&(B[z++]=R)}return B}},4636:(y,x,r)=>{var b=r(2545),M=r(5694),z=r(1469),B=r(4144),R=r(5776),I=r(6719),O=Object.prototype.hasOwnProperty;y.exports=function(A,T){var U=z(A),q=!U&&M(A),K=!U&&!q&&B(A),J=!U&&!q&&!K&&I(A),te=U||q||K||J,oe=te?b(A.length,String):[],ue=oe.length;for(var fe in A)!T&&!O.call(A,fe)||te&&(fe=="length"||K&&(fe=="offset"||fe=="parent")||J&&(fe=="buffer"||fe=="byteLength"||fe=="byteOffset")||R(fe,ue))||oe.push(fe);return oe}},9932:y=>{y.exports=function(x,r){for(var b=-1,M=x==null?0:x.length,z=Array(M);++b<M;)z[b]=r(x[b],b,x);return z}},2488:y=>{y.exports=function(x,r){for(var b=-1,M=r.length,z=x.length;++b<M;)x[z+b]=r[b];return x}},2908:y=>{y.exports=function(x,r){for(var b=-1,M=x==null?0:x.length;++b<M;)if(r(x[b],b,x))return!0;return!1}},8470:(y,x,r)=>{var b=r(7813);y.exports=function(M,z){for(var B=M.length;B--;)if(b(M[B][0],z))return B;return-1}},8866:(y,x,r)=>{var b=r(2488),M=r(1469);y.exports=function(z,B,R){var I=B(z);return M(z)?I:b(I,R(z))}},4239:(y,x,r)=>{var b=r(2705),M=r(9607),z=r(2333),B=b?b.toStringTag:void 0;y.exports=function(R){return R==null?R===void 0?"[object Undefined]":"[object Null]":B&&B in Object(R)?M(R):z(R)}},9454:(y,x,r)=>{var b=r(4239),M=r(7005);y.exports=function(z){return M(z)&&b(z)=="[object Arguments]"}},939:(y,x,r)=>{var b=r(2492),M=r(7005);y.exports=function z(B,R,I,O,A){return B===R||(B==null||R==null||!M(B)&&!M(R)?B!=B&&R!=R:b(B,R,I,O,z,A))}},2492:(y,x,r)=>{var b=r(6384),M=r(7114),z=r(8351),B=r(6096),R=r(4160),I=r(1469),O=r(4144),A=r(6719),T="[object Arguments]",U="[object Array]",q="[object Object]",K=Object.prototype.hasOwnProperty;y.exports=function(J,te,oe,ue,fe,Le){var Ge=I(J),ze=I(te),je=Ge?U:R(J),Be=ze?U:R(te),_e=(je=je==T?q:je)==q,He=(Be=Be==T?q:Be)==q,tt=je==Be;if(tt&&O(J)){if(!O(te))return!1;Ge=!0,_e=!1}if(tt&&!_e)return Le||(Le=new b),Ge||A(J)?M(J,te,oe,ue,fe,Le):z(J,te,je,oe,ue,fe,Le);if(!(1&oe)){var Ke=_e&&K.call(J,"__wrapped__"),Ze=He&&K.call(te,"__wrapped__");if(Ke||Ze){var Qe=Ke?J.value():J,vt=Ze?te.value():te;return Le||(Le=new b),fe(Qe,vt,oe,ue,Le)}}return!!tt&&(Le||(Le=new b),B(J,te,oe,ue,fe,Le))}},8458:(y,x,r)=>{var b=r(3560),M=r(5346),z=r(3218),B=r(346),R=/^\[object .+?Constructor\]$/,I=Function.prototype,O=Object.prototype,A=I.toString,T=O.hasOwnProperty,U=RegExp("^"+A.call(T).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");y.exports=function(q){return!(!z(q)||M(q))&&(b(q)?U:R).test(B(q))}},8749:(y,x,r)=>{var b=r(4239),M=r(1780),z=r(7005),B={};B["[object Float32Array]"]=B["[object Float64Array]"]=B["[object Int8Array]"]=B["[object Int16Array]"]=B["[object Int32Array]"]=B["[object Uint8Array]"]=B["[object Uint8ClampedArray]"]=B["[object Uint16Array]"]=B["[object Uint32Array]"]=!0,B["[object Arguments]"]=B["[object Array]"]=B["[object ArrayBuffer]"]=B["[object Boolean]"]=B["[object DataView]"]=B["[object Date]"]=B["[object Error]"]=B["[object Function]"]=B["[object Map]"]=B["[object Number]"]=B["[object Object]"]=B["[object RegExp]"]=B["[object Set]"]=B["[object String]"]=B["[object WeakMap]"]=!1,y.exports=function(R){return z(R)&&M(R.length)&&!!B[b(R)]}},280:(y,x,r)=>{var b=r(5726),M=r(6916),z=Object.prototype.hasOwnProperty;y.exports=function(B){if(!b(B))return M(B);var R=[];for(var I in Object(B))z.call(B,I)&&I!="constructor"&&R.push(I);return R}},4949:(y,x,r)=>{var b=r(7226),M=r(6557),z=r(3448);y.exports=function(B,R,I){var O=0,A=B==null?O:B.length;if(typeof R=="number"&&R==R&&A<=2147483647){for(;O<A;){var T=O+A>>>1,U=B[T];U!==null&&!z(U)&&(I?U<=R:U<R)?O=T+1:A=T}return A}return b(B,R,M,I)}},7226:(y,x,r)=>{var b=r(3448),M=Math.floor,z=Math.min;y.exports=function(B,R,I,O){var A=0,T=B==null?0:B.length;if(T===0)return 0;for(var U=(R=I(R))!=R,q=R===null,K=b(R),J=R===void 0;A<T;){var te=M((A+T)/2),oe=I(B[te]),ue=oe!==void 0,fe=oe===null,Le=oe==oe,Ge=b(oe);if(U)var ze=O||Le;else ze=J?Le&&(O||ue):q?Le&&ue&&(O||!fe):K?Le&&ue&&!fe&&(O||!Ge):!fe&&!Ge&&(O?oe<=R:oe<R);ze?A=te+1:T=te}return z(T,4294967294)}},2545:y=>{y.exports=function(x,r){for(var b=-1,M=Array(x);++b<x;)M[b]=r(b);return M}},1717:y=>{y.exports=function(x){return function(r){return x(r)}}},7415:(y,x,r)=>{var b=r(9932);y.exports=function(M,z){return b(z,(function(B){return M[B]}))}},4757:y=>{y.exports=function(x,r){return x.has(r)}},4429:(y,x,r)=>{var b=r(5639)["__core-js_shared__"];y.exports=b},7114:(y,x,r)=>{var b=r(8668),M=r(2908),z=r(4757);y.exports=function(B,R,I,O,A,T){var U=1&I,q=B.length,K=R.length;if(q!=K&&!(U&&K>q))return!1;var J=T.get(B),te=T.get(R);if(J&&te)return J==R&&te==B;var oe=-1,ue=!0,fe=2&I?new b:void 0;for(T.set(B,R),T.set(R,B);++oe<q;){var Le=B[oe],Ge=R[oe];if(O)var ze=U?O(Ge,Le,oe,R,B,T):O(Le,Ge,oe,B,R,T);if(ze!==void 0){if(ze)continue;ue=!1;break}if(fe){if(!M(R,(function(je,Be){if(!z(fe,Be)&&(Le===je||A(Le,je,I,O,T)))return fe.push(Be)}))){ue=!1;break}}else if(Le!==Ge&&!A(Le,Ge,I,O,T)){ue=!1;break}}return T.delete(B),T.delete(R),ue}},8351:(y,x,r)=>{var b=r(2705),M=r(1149),z=r(7813),B=r(7114),R=r(8776),I=r(1814),O=b?b.prototype:void 0,A=O?O.valueOf:void 0;y.exports=function(T,U,q,K,J,te,oe){switch(q){case"[object DataView]":if(T.byteLength!=U.byteLength||T.byteOffset!=U.byteOffset)return!1;T=T.buffer,U=U.buffer;case"[object ArrayBuffer]":return!(T.byteLength!=U.byteLength||!te(new M(T),new M(U)));case"[object Boolean]":case"[object Date]":case"[object Number]":return z(+T,+U);case"[object Error]":return T.name==U.name&&T.message==U.message;case"[object RegExp]":case"[object String]":return T==U+"";case"[object Map]":var ue=R;case"[object Set]":var fe=1&K;if(ue||(ue=I),T.size!=U.size&&!fe)return!1;var Le=oe.get(T);if(Le)return Le==U;K|=2,oe.set(T,U);var Ge=B(ue(T),ue(U),K,J,te,oe);return oe.delete(T),Ge;case"[object Symbol]":if(A)return A.call(T)==A.call(U)}return!1}},6096:(y,x,r)=>{var b=r(8234),M=Object.prototype.hasOwnProperty;y.exports=function(z,B,R,I,O,A){var T=1&R,U=b(z),q=U.length;if(q!=b(B).length&&!T)return!1;for(var K=q;K--;){var J=U[K];if(!(T?J in B:M.call(B,J)))return!1}var te=A.get(z),oe=A.get(B);if(te&&oe)return te==B&&oe==z;var ue=!0;A.set(z,B),A.set(B,z);for(var fe=T;++K<q;){var Le=z[J=U[K]],Ge=B[J];if(I)var ze=T?I(Ge,Le,J,B,z,A):I(Le,Ge,J,z,B,A);if(!(ze===void 0?Le===Ge||O(Le,Ge,R,I,A):ze)){ue=!1;break}fe||(fe=J=="constructor")}if(ue&&!fe){var je=z.constructor,Be=B.constructor;je==Be||!("constructor"in z)||!("constructor"in B)||typeof je=="function"&&je instanceof je&&typeof Be=="function"&&Be instanceof Be||(ue=!1)}return A.delete(z),A.delete(B),ue}},1957:(y,x,r)=>{var b=typeof r.g=="object"&&r.g&&r.g.Object===Object&&r.g;y.exports=b},8234:(y,x,r)=>{var b=r(8866),M=r(9551),z=r(3674);y.exports=function(B){return b(B,z,M)}},5050:(y,x,r)=>{var b=r(7019);y.exports=function(M,z){var B=M.__data__;return b(z)?B[typeof z=="string"?"string":"hash"]:B.map}},852:(y,x,r)=>{var b=r(8458),M=r(7801);y.exports=function(z,B){var R=M(z,B);return b(R)?R:void 0}},9607:(y,x,r)=>{var b=r(2705),M=Object.prototype,z=M.hasOwnProperty,B=M.toString,R=b?b.toStringTag:void 0;y.exports=function(I){var O=z.call(I,R),A=I[R];try{I[R]=void 0;var T=!0}catch{}var U=B.call(I);return T&&(O?I[R]=A:delete I[R]),U}},9551:(y,x,r)=>{var b=r(4963),M=r(479),z=Object.prototype.propertyIsEnumerable,B=Object.getOwnPropertySymbols,R=B?function(I){return I==null?[]:(I=Object(I),b(B(I),(function(O){return z.call(I,O)})))}:M;y.exports=R},4160:(y,x,r)=>{var b=r(8552),M=r(7071),z=r(3818),B=r(8525),R=r(577),I=r(4239),O=r(346),A="[object Map]",T="[object Promise]",U="[object Set]",q="[object WeakMap]",K="[object DataView]",J=O(b),te=O(M),oe=O(z),ue=O(B),fe=O(R),Le=I;(b&&Le(new b(new ArrayBuffer(1)))!=K||M&&Le(new M)!=A||z&&Le(z.resolve())!=T||B&&Le(new B)!=U||R&&Le(new R)!=q)&&(Le=function(Ge){var ze=I(Ge),je=ze=="[object Object]"?Ge.constructor:void 0,Be=je?O(je):"";if(Be)switch(Be){case J:return K;case te:return A;case oe:return T;case ue:return U;case fe:return q}return ze}),y.exports=Le},7801:y=>{y.exports=function(x,r){return x?.[r]}},1789:(y,x,r)=>{var b=r(4536);y.exports=function(){this.__data__=b?b(null):{},this.size=0}},401:y=>{y.exports=function(x){var r=this.has(x)&&delete this.__data__[x];return this.size-=r?1:0,r}},7667:(y,x,r)=>{var b=r(4536),M=Object.prototype.hasOwnProperty;y.exports=function(z){var B=this.__data__;if(b){var R=B[z];return R==="__lodash_hash_undefined__"?void 0:R}return M.call(B,z)?B[z]:void 0}},1327:(y,x,r)=>{var b=r(4536),M=Object.prototype.hasOwnProperty;y.exports=function(z){var B=this.__data__;return b?B[z]!==void 0:M.call(B,z)}},1866:(y,x,r)=>{var b=r(4536);y.exports=function(M,z){var B=this.__data__;return this.size+=this.has(M)?0:1,B[M]=b&&z===void 0?"__lodash_hash_undefined__":z,this}},5776:y=>{var x=/^(?:0|[1-9]\d*)$/;y.exports=function(r,b){var M=typeof r;return!!(b=b??9007199254740991)&&(M=="number"||M!="symbol"&&x.test(r))&&r>-1&&r%1==0&&r<b}},7019:y=>{y.exports=function(x){var r=typeof x;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?x!=="__proto__":x===null}},5346:(y,x,r)=>{var b,M=r(4429),z=(b=/[^.]+$/.exec(M&&M.keys&&M.keys.IE_PROTO||""))?"Symbol(src)_1."+b:"";y.exports=function(B){return!!z&&z in B}},5726:y=>{var x=Object.prototype;y.exports=function(r){var b=r&&r.constructor;return r===(typeof b=="function"&&b.prototype||x)}},7040:y=>{y.exports=function(){this.__data__=[],this.size=0}},4125:(y,x,r)=>{var b=r(8470),M=Array.prototype.splice;y.exports=function(z){var B=this.__data__,R=b(B,z);return!(R<0||(R==B.length-1?B.pop():M.call(B,R,1),--this.size,0))}},2117:(y,x,r)=>{var b=r(8470);y.exports=function(M){var z=this.__data__,B=b(z,M);return B<0?void 0:z[B][1]}},7518:(y,x,r)=>{var b=r(8470);y.exports=function(M){return b(this.__data__,M)>-1}},4705:(y,x,r)=>{var b=r(8470);y.exports=function(M,z){var B=this.__data__,R=b(B,M);return R<0?(++this.size,B.push([M,z])):B[R][1]=z,this}},4785:(y,x,r)=>{var b=r(1989),M=r(8407),z=r(7071);y.exports=function(){this.size=0,this.__data__={hash:new b,map:new(z||M),string:new b}}},1285:(y,x,r)=>{var b=r(5050);y.exports=function(M){var z=b(this,M).delete(M);return this.size-=z?1:0,z}},6e3:(y,x,r)=>{var b=r(5050);y.exports=function(M){return b(this,M).get(M)}},9916:(y,x,r)=>{var b=r(5050);y.exports=function(M){return b(this,M).has(M)}},5265:(y,x,r)=>{var b=r(5050);y.exports=function(M,z){var B=b(this,M),R=B.size;return B.set(M,z),this.size+=B.size==R?0:1,this}},8776:y=>{y.exports=function(x){var r=-1,b=Array(x.size);return x.forEach((function(M,z){b[++r]=[z,M]})),b}},4536:(y,x,r)=>{var b=r(852)(Object,"create");y.exports=b},6916:(y,x,r)=>{var b=r(5569)(Object.keys,Object);y.exports=b},1167:(y,x,r)=>{y=r.nmd(y);var b=r(1957),M=x&&!x.nodeType&&x,z=M&&y&&!y.nodeType&&y,B=z&&z.exports===M&&b.process,R=(function(){try{return z&&z.require&&z.require("util").types||B&&B.binding&&B.binding("util")}catch{}})();y.exports=R},2333:y=>{var x=Object.prototype.toString;y.exports=function(r){return x.call(r)}},5569:y=>{y.exports=function(x,r){return function(b){return x(r(b))}}},5639:(y,x,r)=>{var b=r(1957),M=typeof self=="object"&&self&&self.Object===Object&&self,z=b||M||Function("return this")();y.exports=z},619:y=>{y.exports=function(x){return this.__data__.set(x,"__lodash_hash_undefined__"),this}},2385:y=>{y.exports=function(x){return this.__data__.has(x)}},1814:y=>{y.exports=function(x){var r=-1,b=Array(x.size);return x.forEach((function(M){b[++r]=M})),b}},7465:(y,x,r)=>{var b=r(8407);y.exports=function(){this.__data__=new b,this.size=0}},3779:y=>{y.exports=function(x){var r=this.__data__,b=r.delete(x);return this.size=r.size,b}},7599:y=>{y.exports=function(x){return this.__data__.get(x)}},4758:y=>{y.exports=function(x){return this.__data__.has(x)}},4309:(y,x,r)=>{var b=r(8407),M=r(7071),z=r(3369);y.exports=function(B,R){var I=this.__data__;if(I instanceof b){var O=I.__data__;if(!M||O.length<199)return O.push([B,R]),this.size=++I.size,this;I=this.__data__=new z(O)}return I.set(B,R),this.size=I.size,this}},346:y=>{var x=Function.prototype.toString;y.exports=function(r){if(r!=null){try{return x.call(r)}catch{}try{return r+""}catch{}}return""}},7813:y=>{y.exports=function(x,r){return x===r||x!=x&&r!=r}},6557:y=>{y.exports=function(x){return x}},5694:(y,x,r)=>{var b=r(9454),M=r(7005),z=Object.prototype,B=z.hasOwnProperty,R=z.propertyIsEnumerable,I=b((function(){return arguments})())?b:function(O){return M(O)&&B.call(O,"callee")&&!R.call(O,"callee")};y.exports=I},1469:y=>{var x=Array.isArray;y.exports=x},8612:(y,x,r)=>{var b=r(3560),M=r(1780);y.exports=function(z){return z!=null&&M(z.length)&&!b(z)}},4144:(y,x,r)=>{y=r.nmd(y);var b=r(5639),M=r(5062),z=x&&!x.nodeType&&x,B=z&&y&&!y.nodeType&&y,R=B&&B.exports===z?b.Buffer:void 0,I=(R?R.isBuffer:void 0)||M;y.exports=I},8446:(y,x,r)=>{var b=r(939);y.exports=function(M,z){return b(M,z)}},3560:(y,x,r)=>{var b=r(4239),M=r(3218);y.exports=function(z){if(!M(z))return!1;var B=b(z);return B=="[object Function]"||B=="[object GeneratorFunction]"||B=="[object AsyncFunction]"||B=="[object Proxy]"}},1780:y=>{y.exports=function(x){return typeof x=="number"&&x>-1&&x%1==0&&x<=9007199254740991}},4293:y=>{y.exports=function(x){return x==null}},3218:y=>{y.exports=function(x){var r=typeof x;return x!=null&&(r=="object"||r=="function")}},7005:y=>{y.exports=function(x){return x!=null&&typeof x=="object"}},3448:(y,x,r)=>{var b=r(4239),M=r(7005);y.exports=function(z){return typeof z=="symbol"||M(z)&&b(z)=="[object Symbol]"}},6719:(y,x,r)=>{var b=r(8749),M=r(1717),z=r(1167),B=z&&z.isTypedArray,R=B?M(B):b;y.exports=R},3674:(y,x,r)=>{var b=r(4636),M=r(280),z=r(8612);y.exports=function(B){return z(B)?b(B):M(B)}},1159:(y,x,r)=>{var b=r(4949);y.exports=function(M,z){return b(M,z)}},5871:(y,x,r)=>{var b=r(4949),M=r(7813);y.exports=function(z,B){var R=z==null?0:z.length;if(R){var I=b(z,B);if(I<R&&M(z[I],B))return I}return-1}},479:y=>{y.exports=function(){return[]}},5062:y=>{y.exports=function(){return!1}},2628:(y,x,r)=>{var b=r(7415),M=r(3674);y.exports=function(z){return z==null?[]:b(z,M(z))}},3085:(y,x,r)=>{var b=r(5108);const M=r(9742),z=r(645),B=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;x.lW=O,x.h2=50;const R=2147483647;function I(et){if(et>R)throw new RangeError('The value "'+et+'" is invalid for option "size"');const gt=new Uint8Array(et);return Object.setPrototypeOf(gt,O.prototype),gt}function O(et,gt,Et){if(typeof et=="number"){if(typeof gt=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return U(et)}return A(et,gt,Et)}function A(et,gt,Et){if(typeof et=="string")return(function(Cr,Dr){if(typeof Dr=="string"&&Dr!==""||(Dr="utf8"),!O.isEncoding(Dr))throw new TypeError("Unknown encoding: "+Dr);const _n=0|te(Cr,Dr);let In=I(_n);const Fn=In.write(Cr,Dr);return Fn!==_n&&(In=In.slice(0,Fn)),In})(et,gt);if(ArrayBuffer.isView(et))return(function(Cr){if(rt(Cr,Uint8Array)){const Dr=new Uint8Array(Cr);return K(Dr.buffer,Dr.byteOffset,Dr.byteLength)}return q(Cr)})(et);if(et==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof et);if(rt(et,ArrayBuffer)||et&&rt(et.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(rt(et,SharedArrayBuffer)||et&&rt(et.buffer,SharedArrayBuffer)))return K(et,gt,Et);if(typeof et=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Xt=et.valueOf&&et.valueOf();if(Xt!=null&&Xt!==et)return O.from(Xt,gt,Et);const mr=(function(Cr){if(O.isBuffer(Cr)){const Dr=0|J(Cr.length),_n=I(Dr);return _n.length===0||Cr.copy(_n,0,0,Dr),_n}return Cr.length!==void 0?typeof Cr.length!="number"||ur(Cr.length)?I(0):q(Cr):Cr.type==="Buffer"&&Array.isArray(Cr.data)?q(Cr.data):void 0})(et);if(mr)return mr;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof et[Symbol.toPrimitive]=="function")return O.from(et[Symbol.toPrimitive]("string"),gt,Et);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof et)}function T(et){if(typeof et!="number")throw new TypeError('"size" argument must be of type number');if(et<0)throw new RangeError('The value "'+et+'" is invalid for option "size"')}function U(et){return T(et),I(et<0?0:0|J(et))}function q(et){const gt=et.length<0?0:0|J(et.length),Et=I(gt);for(let Xt=0;Xt<gt;Xt+=1)Et[Xt]=255&et[Xt];return Et}function K(et,gt,Et){if(gt<0||et.byteLength<gt)throw new RangeError('"offset" is outside of buffer bounds');if(et.byteLength<gt+(Et||0))throw new RangeError('"length" is outside of buffer bounds');let Xt;return Xt=gt===void 0&&Et===void 0?new Uint8Array(et):Et===void 0?new Uint8Array(et,gt):new Uint8Array(et,gt,Et),Object.setPrototypeOf(Xt,O.prototype),Xt}function J(et){if(et>=R)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+R.toString(16)+" bytes");return 0|et}function te(et,gt){if(O.isBuffer(et))return et.length;if(ArrayBuffer.isView(et)||rt(et,ArrayBuffer))return et.byteLength;if(typeof et!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof et);const Et=et.length,Xt=arguments.length>2&&arguments[2]===!0;if(!Xt&&Et===0)return 0;let mr=!1;for(;;)switch(gt){case"ascii":case"latin1":case"binary":return Et;case"utf8":case"utf-8":return st(et).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*Et;case"hex":return Et>>>1;case"base64":return it(et).length;default:if(mr)return Xt?-1:st(et).length;gt=(""+gt).toLowerCase(),mr=!0}}function oe(et,gt,Et){let Xt=!1;if((gt===void 0||gt<0)&&(gt=0),gt>this.length||((Et===void 0||Et>this.length)&&(Et=this.length),Et<=0)||(Et>>>=0)<=(gt>>>=0))return"";for(et||(et="utf8");;)switch(et){case"hex":return vt(this,gt,Et);case"utf8":case"utf-8":return tt(this,gt,Et);case"ascii":return Ze(this,gt,Et);case"latin1":case"binary":return Qe(this,gt,Et);case"base64":return He(this,gt,Et);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return pt(this,gt,Et);default:if(Xt)throw new TypeError("Unknown encoding: "+et);et=(et+"").toLowerCase(),Xt=!0}}function ue(et,gt,Et){const Xt=et[gt];et[gt]=et[Et],et[Et]=Xt}function fe(et,gt,Et,Xt,mr){if(et.length===0)return-1;if(typeof Et=="string"?(Xt=Et,Et=0):Et>2147483647?Et=2147483647:Et<-2147483648&&(Et=-2147483648),ur(Et=+Et)&&(Et=mr?0:et.length-1),Et<0&&(Et=et.length+Et),Et>=et.length){if(mr)return-1;Et=et.length-1}else if(Et<0){if(!mr)return-1;Et=0}if(typeof gt=="string"&&(gt=O.from(gt,Xt)),O.isBuffer(gt))return gt.length===0?-1:Le(et,gt,Et,Xt,mr);if(typeof gt=="number")return gt&=255,typeof Uint8Array.prototype.indexOf=="function"?mr?Uint8Array.prototype.indexOf.call(et,gt,Et):Uint8Array.prototype.lastIndexOf.call(et,gt,Et):Le(et,[gt],Et,Xt,mr);throw new TypeError("val must be string, number or Buffer")}function Le(et,gt,Et,Xt,mr){let Cr,Dr=1,_n=et.length,In=gt.length;if(Xt!==void 0&&((Xt=String(Xt).toLowerCase())==="ucs2"||Xt==="ucs-2"||Xt==="utf16le"||Xt==="utf-16le")){if(et.length<2||gt.length<2)return-1;Dr=2,_n/=2,In/=2,Et/=2}function Fn(ti,Qn){return Dr===1?ti[Qn]:ti.readUInt16BE(Qn*Dr)}if(mr){let ti=-1;for(Cr=Et;Cr<_n;Cr++)if(Fn(et,Cr)===Fn(gt,ti===-1?0:Cr-ti)){if(ti===-1&&(ti=Cr),Cr-ti+1===In)return ti*Dr}else ti!==-1&&(Cr-=Cr-ti),ti=-1}else for(Et+In>_n&&(Et=_n-In),Cr=Et;Cr>=0;Cr--){let ti=!0;for(let Qn=0;Qn<In;Qn++)if(Fn(et,Cr+Qn)!==Fn(gt,Qn)){ti=!1;break}if(ti)return Cr}return-1}function Ge(et,gt,Et,Xt){Et=Number(Et)||0;const mr=et.length-Et;Xt?(Xt=Number(Xt))>mr&&(Xt=mr):Xt=mr;const Cr=gt.length;let Dr;for(Xt>Cr/2&&(Xt=Cr/2),Dr=0;Dr<Xt;++Dr){const _n=parseInt(gt.substr(2*Dr,2),16);if(ur(_n))return Dr;et[Et+Dr]=_n}return Dr}function ze(et,gt,Et,Xt){return Wt(st(gt,et.length-Et),et,Et,Xt)}function je(et,gt,Et,Xt){return Wt((function(mr){const Cr=[];for(let Dr=0;Dr<mr.length;++Dr)Cr.push(255&mr.charCodeAt(Dr));return Cr})(gt),et,Et,Xt)}function Be(et,gt,Et,Xt){return Wt(it(gt),et,Et,Xt)}function _e(et,gt,Et,Xt){return Wt((function(mr,Cr){let Dr,_n,In;const Fn=[];for(let ti=0;ti<mr.length&&!((Cr-=2)<0);++ti)Dr=mr.charCodeAt(ti),_n=Dr>>8,In=Dr%256,Fn.push(In),Fn.push(_n);return Fn})(gt,et.length-Et),et,Et,Xt)}function He(et,gt,Et){return gt===0&&Et===et.length?M.fromByteArray(et):M.fromByteArray(et.slice(gt,Et))}function tt(et,gt,Et){Et=Math.min(et.length,Et);const Xt=[];let mr=gt;for(;mr<Et;){const Cr=et[mr];let Dr=null,_n=Cr>239?4:Cr>223?3:Cr>191?2:1;if(mr+_n<=Et){let In,Fn,ti,Qn;switch(_n){case 1:Cr<128&&(Dr=Cr);break;case 2:In=et[mr+1],(192&In)==128&&(Qn=(31&Cr)<<6|63&In,Qn>127&&(Dr=Qn));break;case 3:In=et[mr+1],Fn=et[mr+2],(192&In)==128&&(192&Fn)==128&&(Qn=(15&Cr)<<12|(63&In)<<6|63&Fn,Qn>2047&&(Qn<55296||Qn>57343)&&(Dr=Qn));break;case 4:In=et[mr+1],Fn=et[mr+2],ti=et[mr+3],(192&In)==128&&(192&Fn)==128&&(192&ti)==128&&(Qn=(15&Cr)<<18|(63&In)<<12|(63&Fn)<<6|63&ti,Qn>65535&&Qn<1114112&&(Dr=Qn))}}Dr===null?(Dr=65533,_n=1):Dr>65535&&(Dr-=65536,Xt.push(Dr>>>10&1023|55296),Dr=56320|1023&Dr),Xt.push(Dr),mr+=_n}return(function(Cr){const Dr=Cr.length;if(Dr<=Ke)return String.fromCharCode.apply(String,Cr);let _n="",In=0;for(;In<Dr;)_n+=String.fromCharCode.apply(String,Cr.slice(In,In+=Ke));return _n})(Xt)}O.TYPED_ARRAY_SUPPORT=(function(){try{const et=new Uint8Array(1),gt={foo:function(){return 42}};return Object.setPrototypeOf(gt,Uint8Array.prototype),Object.setPrototypeOf(et,gt),et.foo()===42}catch{return!1}})(),O.TYPED_ARRAY_SUPPORT||b===void 0||typeof b.error!="function"||b.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(O.prototype,"parent",{enumerable:!0,get:function(){if(O.isBuffer(this))return this.buffer}}),Object.defineProperty(O.prototype,"offset",{enumerable:!0,get:function(){if(O.isBuffer(this))return this.byteOffset}}),O.poolSize=8192,O.from=function(et,gt,Et){return A(et,gt,Et)},Object.setPrototypeOf(O.prototype,Uint8Array.prototype),Object.setPrototypeOf(O,Uint8Array),O.alloc=function(et,gt,Et){return(function(Xt,mr,Cr){return T(Xt),Xt<=0?I(Xt):mr!==void 0?typeof Cr=="string"?I(Xt).fill(mr,Cr):I(Xt).fill(mr):I(Xt)})(et,gt,Et)},O.allocUnsafe=function(et){return U(et)},O.allocUnsafeSlow=function(et){return U(et)},O.isBuffer=function(et){return et!=null&&et._isBuffer===!0&&et!==O.prototype},O.compare=function(et,gt){if(rt(et,Uint8Array)&&(et=O.from(et,et.offset,et.byteLength)),rt(gt,Uint8Array)&&(gt=O.from(gt,gt.offset,gt.byteLength)),!O.isBuffer(et)||!O.isBuffer(gt))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(et===gt)return 0;let Et=et.length,Xt=gt.length;for(let mr=0,Cr=Math.min(Et,Xt);mr<Cr;++mr)if(et[mr]!==gt[mr]){Et=et[mr],Xt=gt[mr];break}return Et<Xt?-1:Xt<Et?1:0},O.isEncoding=function(et){switch(String(et).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},O.concat=function(et,gt){if(!Array.isArray(et))throw new TypeError('"list" argument must be an Array of Buffers');if(et.length===0)return O.alloc(0);let Et;if(gt===void 0)for(gt=0,Et=0;Et<et.length;++Et)gt+=et[Et].length;const Xt=O.allocUnsafe(gt);let mr=0;for(Et=0;Et<et.length;++Et){let Cr=et[Et];if(rt(Cr,Uint8Array))mr+Cr.length>Xt.length?(O.isBuffer(Cr)||(Cr=O.from(Cr)),Cr.copy(Xt,mr)):Uint8Array.prototype.set.call(Xt,Cr,mr);else{if(!O.isBuffer(Cr))throw new TypeError('"list" argument must be an Array of Buffers');Cr.copy(Xt,mr)}mr+=Cr.length}return Xt},O.byteLength=te,O.prototype._isBuffer=!0,O.prototype.swap16=function(){const et=this.length;if(et%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let gt=0;gt<et;gt+=2)ue(this,gt,gt+1);return this},O.prototype.swap32=function(){const et=this.length;if(et%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let gt=0;gt<et;gt+=4)ue(this,gt,gt+3),ue(this,gt+1,gt+2);return this},O.prototype.swap64=function(){const et=this.length;if(et%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let gt=0;gt<et;gt+=8)ue(this,gt,gt+7),ue(this,gt+1,gt+6),ue(this,gt+2,gt+5),ue(this,gt+3,gt+4);return this},O.prototype.toString=function(){const et=this.length;return et===0?"":arguments.length===0?tt(this,0,et):oe.apply(this,arguments)},O.prototype.toLocaleString=O.prototype.toString,O.prototype.equals=function(et){if(!O.isBuffer(et))throw new TypeError("Argument must be a Buffer");return this===et||O.compare(this,et)===0},O.prototype.inspect=function(){let et="";const gt=x.h2;return et=this.toString("hex",0,gt).replace(/(.{2})/g,"$1 ").trim(),this.length>gt&&(et+=" ... "),"<Buffer "+et+">"},B&&(O.prototype[B]=O.prototype.inspect),O.prototype.compare=function(et,gt,Et,Xt,mr){if(rt(et,Uint8Array)&&(et=O.from(et,et.offset,et.byteLength)),!O.isBuffer(et))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof et);if(gt===void 0&&(gt=0),Et===void 0&&(Et=et?et.length:0),Xt===void 0&&(Xt=0),mr===void 0&&(mr=this.length),gt<0||Et>et.length||Xt<0||mr>this.length)throw new RangeError("out of range index");if(Xt>=mr&&gt>=Et)return 0;if(Xt>=mr)return-1;if(gt>=Et)return 1;if(this===et)return 0;let Cr=(mr>>>=0)-(Xt>>>=0),Dr=(Et>>>=0)-(gt>>>=0);const _n=Math.min(Cr,Dr),In=this.slice(Xt,mr),Fn=et.slice(gt,Et);for(let ti=0;ti<_n;++ti)if(In[ti]!==Fn[ti]){Cr=In[ti],Dr=Fn[ti];break}return Cr<Dr?-1:Dr<Cr?1:0},O.prototype.includes=function(et,gt,Et){return this.indexOf(et,gt,Et)!==-1},O.prototype.indexOf=function(et,gt,Et){return fe(this,et,gt,Et,!0)},O.prototype.lastIndexOf=function(et,gt,Et){return fe(this,et,gt,Et,!1)},O.prototype.write=function(et,gt,Et,Xt){if(gt===void 0)Xt="utf8",Et=this.length,gt=0;else if(Et===void 0&&typeof gt=="string")Xt=gt,Et=this.length,gt=0;else{if(!isFinite(gt))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");gt>>>=0,isFinite(Et)?(Et>>>=0,Xt===void 0&&(Xt="utf8")):(Xt=Et,Et=void 0)}const mr=this.length-gt;if((Et===void 0||Et>mr)&&(Et=mr),et.length>0&&(Et<0||gt<0)||gt>this.length)throw new RangeError("Attempt to write outside buffer bounds");Xt||(Xt="utf8");let Cr=!1;for(;;)switch(Xt){case"hex":return Ge(this,et,gt,Et);case"utf8":case"utf-8":return ze(this,et,gt,Et);case"ascii":case"latin1":case"binary":return je(this,et,gt,Et);case"base64":return Be(this,et,gt,Et);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _e(this,et,gt,Et);default:if(Cr)throw new TypeError("Unknown encoding: "+Xt);Xt=(""+Xt).toLowerCase(),Cr=!0}},O.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const Ke=4096;function Ze(et,gt,Et){let Xt="";Et=Math.min(et.length,Et);for(let mr=gt;mr<Et;++mr)Xt+=String.fromCharCode(127&et[mr]);return Xt}function Qe(et,gt,Et){let Xt="";Et=Math.min(et.length,Et);for(let mr=gt;mr<Et;++mr)Xt+=String.fromCharCode(et[mr]);return Xt}function vt(et,gt,Et){const Xt=et.length;(!gt||gt<0)&&(gt=0),(!Et||Et<0||Et>Xt)&&(Et=Xt);let mr="";for(let Cr=gt;Cr<Et;++Cr)mr+=tr[et[Cr]];return mr}function pt(et,gt,Et){const Xt=et.slice(gt,Et);let mr="";for(let Cr=0;Cr<Xt.length-1;Cr+=2)mr+=String.fromCharCode(Xt[Cr]+256*Xt[Cr+1]);return mr}function ut(et,gt,Et){if(et%1!=0||et<0)throw new RangeError("offset is not uint");if(et+gt>Et)throw new RangeError("Trying to access beyond buffer length")}function Mt(et,gt,Et,Xt,mr,Cr){if(!O.isBuffer(et))throw new TypeError('"buffer" argument must be a Buffer instance');if(gt>mr||gt<Cr)throw new RangeError('"value" argument is out of bounds');if(Et+Xt>et.length)throw new RangeError("Index out of range")}function bt(et,gt,Et,Xt,mr){It(gt,Xt,mr,et,Et,7);let Cr=Number(gt&BigInt(4294967295));et[Et++]=Cr,Cr>>=8,et[Et++]=Cr,Cr>>=8,et[Et++]=Cr,Cr>>=8,et[Et++]=Cr;let Dr=Number(gt>>BigInt(32)&BigInt(4294967295));return et[Et++]=Dr,Dr>>=8,et[Et++]=Dr,Dr>>=8,et[Et++]=Dr,Dr>>=8,et[Et++]=Dr,Et}function ar(et,gt,Et,Xt,mr){It(gt,Xt,mr,et,Et,7);let Cr=Number(gt&BigInt(4294967295));et[Et+7]=Cr,Cr>>=8,et[Et+6]=Cr,Cr>>=8,et[Et+5]=Cr,Cr>>=8,et[Et+4]=Cr;let Dr=Number(gt>>BigInt(32)&BigInt(4294967295));return et[Et+3]=Dr,Dr>>=8,et[Et+2]=Dr,Dr>>=8,et[Et+1]=Dr,Dr>>=8,et[Et]=Dr,Et+8}function dt(et,gt,Et,Xt,mr,Cr){if(Et+Xt>et.length)throw new RangeError("Index out of range");if(Et<0)throw new RangeError("Index out of range")}function yt(et,gt,Et,Xt,mr){return gt=+gt,Et>>>=0,mr||dt(et,0,Et,4),z.write(et,gt,Et,Xt,23,4),Et+4}function Gt(et,gt,Et,Xt,mr){return gt=+gt,Et>>>=0,mr||dt(et,0,Et,8),z.write(et,gt,Et,Xt,52,8),Et+8}O.prototype.slice=function(et,gt){const Et=this.length;(et=~~et)<0?(et+=Et)<0&&(et=0):et>Et&&(et=Et),(gt=gt===void 0?Et:~~gt)<0?(gt+=Et)<0&&(gt=0):gt>Et&&(gt=Et),gt<et&&(gt=et);const Xt=this.subarray(et,gt);return Object.setPrototypeOf(Xt,O.prototype),Xt},O.prototype.readUintLE=O.prototype.readUIntLE=function(et,gt,Et){et>>>=0,gt>>>=0,Et||ut(et,gt,this.length);let Xt=this[et],mr=1,Cr=0;for(;++Cr<gt&&(mr*=256);)Xt+=this[et+Cr]*mr;return Xt},O.prototype.readUintBE=O.prototype.readUIntBE=function(et,gt,Et){et>>>=0,gt>>>=0,Et||ut(et,gt,this.length);let Xt=this[et+--gt],mr=1;for(;gt>0&&(mr*=256);)Xt+=this[et+--gt]*mr;return Xt},O.prototype.readUint8=O.prototype.readUInt8=function(et,gt){return et>>>=0,gt||ut(et,1,this.length),this[et]},O.prototype.readUint16LE=O.prototype.readUInt16LE=function(et,gt){return et>>>=0,gt||ut(et,2,this.length),this[et]|this[et+1]<<8},O.prototype.readUint16BE=O.prototype.readUInt16BE=function(et,gt){return et>>>=0,gt||ut(et,2,this.length),this[et]<<8|this[et+1]},O.prototype.readUint32LE=O.prototype.readUInt32LE=function(et,gt){return et>>>=0,gt||ut(et,4,this.length),(this[et]|this[et+1]<<8|this[et+2]<<16)+16777216*this[et+3]},O.prototype.readUint32BE=O.prototype.readUInt32BE=function(et,gt){return et>>>=0,gt||ut(et,4,this.length),16777216*this[et]+(this[et+1]<<16|this[et+2]<<8|this[et+3])},O.prototype.readBigUInt64LE=Ft((function(et){lr(et>>>=0,"offset");const gt=this[et],Et=this[et+7];gt!==void 0&&Et!==void 0||Je(et,this.length-8);const Xt=gt+256*this[++et]+65536*this[++et]+this[++et]*2**24,mr=this[++et]+256*this[++et]+65536*this[++et]+Et*2**24;return BigInt(Xt)+(BigInt(mr)<<BigInt(32))})),O.prototype.readBigUInt64BE=Ft((function(et){lr(et>>>=0,"offset");const gt=this[et],Et=this[et+7];gt!==void 0&&Et!==void 0||Je(et,this.length-8);const Xt=gt*2**24+65536*this[++et]+256*this[++et]+this[++et],mr=this[++et]*2**24+65536*this[++et]+256*this[++et]+Et;return(BigInt(Xt)<<BigInt(32))+BigInt(mr)})),O.prototype.readIntLE=function(et,gt,Et){et>>>=0,gt>>>=0,Et||ut(et,gt,this.length);let Xt=this[et],mr=1,Cr=0;for(;++Cr<gt&&(mr*=256);)Xt+=this[et+Cr]*mr;return mr*=128,Xt>=mr&&(Xt-=Math.pow(2,8*gt)),Xt},O.prototype.readIntBE=function(et,gt,Et){et>>>=0,gt>>>=0,Et||ut(et,gt,this.length);let Xt=gt,mr=1,Cr=this[et+--Xt];for(;Xt>0&&(mr*=256);)Cr+=this[et+--Xt]*mr;return mr*=128,Cr>=mr&&(Cr-=Math.pow(2,8*gt)),Cr},O.prototype.readInt8=function(et,gt){return et>>>=0,gt||ut(et,1,this.length),128&this[et]?-1*(255-this[et]+1):this[et]},O.prototype.readInt16LE=function(et,gt){et>>>=0,gt||ut(et,2,this.length);const Et=this[et]|this[et+1]<<8;return 32768&Et?4294901760|Et:Et},O.prototype.readInt16BE=function(et,gt){et>>>=0,gt||ut(et,2,this.length);const Et=this[et+1]|this[et]<<8;return 32768&Et?4294901760|Et:Et},O.prototype.readInt32LE=function(et,gt){return et>>>=0,gt||ut(et,4,this.length),this[et]|this[et+1]<<8|this[et+2]<<16|this[et+3]<<24},O.prototype.readInt32BE=function(et,gt){return et>>>=0,gt||ut(et,4,this.length),this[et]<<24|this[et+1]<<16|this[et+2]<<8|this[et+3]},O.prototype.readBigInt64LE=Ft((function(et){lr(et>>>=0,"offset");const gt=this[et],Et=this[et+7];gt!==void 0&&Et!==void 0||Je(et,this.length-8);const Xt=this[et+4]+256*this[et+5]+65536*this[et+6]+(Et<<24);return(BigInt(Xt)<<BigInt(32))+BigInt(gt+256*this[++et]+65536*this[++et]+this[++et]*16777216)})),O.prototype.readBigInt64BE=Ft((function(et){lr(et>>>=0,"offset");const gt=this[et],Et=this[et+7];gt!==void 0&&Et!==void 0||Je(et,this.length-8);const Xt=(gt<<24)+65536*this[++et]+256*this[++et]+this[++et];return(BigInt(Xt)<<BigInt(32))+BigInt(this[++et]*16777216+65536*this[++et]+256*this[++et]+Et)})),O.prototype.readFloatLE=function(et,gt){return et>>>=0,gt||ut(et,4,this.length),z.read(this,et,!0,23,4)},O.prototype.readFloatBE=function(et,gt){return et>>>=0,gt||ut(et,4,this.length),z.read(this,et,!1,23,4)},O.prototype.readDoubleLE=function(et,gt){return et>>>=0,gt||ut(et,8,this.length),z.read(this,et,!0,52,8)},O.prototype.readDoubleBE=function(et,gt){return et>>>=0,gt||ut(et,8,this.length),z.read(this,et,!1,52,8)},O.prototype.writeUintLE=O.prototype.writeUIntLE=function(et,gt,Et,Xt){et=+et,gt>>>=0,Et>>>=0,Xt||Mt(this,et,gt,Et,Math.pow(2,8*Et)-1,0);let mr=1,Cr=0;for(this[gt]=255&et;++Cr<Et&&(mr*=256);)this[gt+Cr]=et/mr&255;return gt+Et},O.prototype.writeUintBE=O.prototype.writeUIntBE=function(et,gt,Et,Xt){et=+et,gt>>>=0,Et>>>=0,Xt||Mt(this,et,gt,Et,Math.pow(2,8*Et)-1,0);let mr=Et-1,Cr=1;for(this[gt+mr]=255&et;--mr>=0&&(Cr*=256);)this[gt+mr]=et/Cr&255;return gt+Et},O.prototype.writeUint8=O.prototype.writeUInt8=function(et,gt,Et){return et=+et,gt>>>=0,Et||Mt(this,et,gt,1,255,0),this[gt]=255&et,gt+1},O.prototype.writeUint16LE=O.prototype.writeUInt16LE=function(et,gt,Et){return et=+et,gt>>>=0,Et||Mt(this,et,gt,2,65535,0),this[gt]=255&et,this[gt+1]=et>>>8,gt+2},O.prototype.writeUint16BE=O.prototype.writeUInt16BE=function(et,gt,Et){return et=+et,gt>>>=0,Et||Mt(this,et,gt,2,65535,0),this[gt]=et>>>8,this[gt+1]=255&et,gt+2},O.prototype.writeUint32LE=O.prototype.writeUInt32LE=function(et,gt,Et){return et=+et,gt>>>=0,Et||Mt(this,et,gt,4,4294967295,0),this[gt+3]=et>>>24,this[gt+2]=et>>>16,this[gt+1]=et>>>8,this[gt]=255&et,gt+4},O.prototype.writeUint32BE=O.prototype.writeUInt32BE=function(et,gt,Et){return et=+et,gt>>>=0,Et||Mt(this,et,gt,4,4294967295,0),this[gt]=et>>>24,this[gt+1]=et>>>16,this[gt+2]=et>>>8,this[gt+3]=255&et,gt+4},O.prototype.writeBigUInt64LE=Ft((function(et,gt=0){return bt(this,et,gt,BigInt(0),BigInt("0xffffffffffffffff"))})),O.prototype.writeBigUInt64BE=Ft((function(et,gt=0){return ar(this,et,gt,BigInt(0),BigInt("0xffffffffffffffff"))})),O.prototype.writeIntLE=function(et,gt,Et,Xt){if(et=+et,gt>>>=0,!Xt){const _n=Math.pow(2,8*Et-1);Mt(this,et,gt,Et,_n-1,-_n)}let mr=0,Cr=1,Dr=0;for(this[gt]=255&et;++mr<Et&&(Cr*=256);)et<0&&Dr===0&&this[gt+mr-1]!==0&&(Dr=1),this[gt+mr]=(et/Cr>>0)-Dr&255;return gt+Et},O.prototype.writeIntBE=function(et,gt,Et,Xt){if(et=+et,gt>>>=0,!Xt){const _n=Math.pow(2,8*Et-1);Mt(this,et,gt,Et,_n-1,-_n)}let mr=Et-1,Cr=1,Dr=0;for(this[gt+mr]=255&et;--mr>=0&&(Cr*=256);)et<0&&Dr===0&&this[gt+mr+1]!==0&&(Dr=1),this[gt+mr]=(et/Cr>>0)-Dr&255;return gt+Et},O.prototype.writeInt8=function(et,gt,Et){return et=+et,gt>>>=0,Et||Mt(this,et,gt,1,127,-128),et<0&&(et=255+et+1),this[gt]=255&et,gt+1},O.prototype.writeInt16LE=function(et,gt,Et){return et=+et,gt>>>=0,Et||Mt(this,et,gt,2,32767,-32768),this[gt]=255&et,this[gt+1]=et>>>8,gt+2},O.prototype.writeInt16BE=function(et,gt,Et){return et=+et,gt>>>=0,Et||Mt(this,et,gt,2,32767,-32768),this[gt]=et>>>8,this[gt+1]=255&et,gt+2},O.prototype.writeInt32LE=function(et,gt,Et){return et=+et,gt>>>=0,Et||Mt(this,et,gt,4,2147483647,-2147483648),this[gt]=255&et,this[gt+1]=et>>>8,this[gt+2]=et>>>16,this[gt+3]=et>>>24,gt+4},O.prototype.writeInt32BE=function(et,gt,Et){return et=+et,gt>>>=0,Et||Mt(this,et,gt,4,2147483647,-2147483648),et<0&&(et=4294967295+et+1),this[gt]=et>>>24,this[gt+1]=et>>>16,this[gt+2]=et>>>8,this[gt+3]=255&et,gt+4},O.prototype.writeBigInt64LE=Ft((function(et,gt=0){return bt(this,et,gt,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),O.prototype.writeBigInt64BE=Ft((function(et,gt=0){return ar(this,et,gt,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),O.prototype.writeFloatLE=function(et,gt,Et){return yt(this,et,gt,!0,Et)},O.prototype.writeFloatBE=function(et,gt,Et){return yt(this,et,gt,!1,Et)},O.prototype.writeDoubleLE=function(et,gt,Et){return Gt(this,et,gt,!0,Et)},O.prototype.writeDoubleBE=function(et,gt,Et){return Gt(this,et,gt,!1,Et)},O.prototype.copy=function(et,gt,Et,Xt){if(!O.isBuffer(et))throw new TypeError("argument should be a Buffer");if(Et||(Et=0),Xt||Xt===0||(Xt=this.length),gt>=et.length&&(gt=et.length),gt||(gt=0),Xt>0&&Xt<Et&&(Xt=Et),Xt===Et||et.length===0||this.length===0)return 0;if(gt<0)throw new RangeError("targetStart out of bounds");if(Et<0||Et>=this.length)throw new RangeError("Index out of range");if(Xt<0)throw new RangeError("sourceEnd out of bounds");Xt>this.length&&(Xt=this.length),et.length-gt<Xt-Et&&(Xt=et.length-gt+Et);const mr=Xt-Et;return this===et&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(gt,Et,Xt):Uint8Array.prototype.set.call(et,this.subarray(Et,Xt),gt),mr},O.prototype.fill=function(et,gt,Et,Xt){if(typeof et=="string"){if(typeof gt=="string"?(Xt=gt,gt=0,Et=this.length):typeof Et=="string"&&(Xt=Et,Et=this.length),Xt!==void 0&&typeof Xt!="string")throw new TypeError("encoding must be a string");if(typeof Xt=="string"&&!O.isEncoding(Xt))throw new TypeError("Unknown encoding: "+Xt);if(et.length===1){const Cr=et.charCodeAt(0);(Xt==="utf8"&&Cr<128||Xt==="latin1")&&(et=Cr)}}else typeof et=="number"?et&=255:typeof et=="boolean"&&(et=Number(et));if(gt<0||this.length<gt||this.length<Et)throw new RangeError("Out of range index");if(Et<=gt)return this;let mr;if(gt>>>=0,Et=Et===void 0?this.length:Et>>>0,et||(et=0),typeof et=="number")for(mr=gt;mr<Et;++mr)this[mr]=et;else{const Cr=O.isBuffer(et)?et:O.from(et,Xt),Dr=Cr.length;if(Dr===0)throw new TypeError('The value "'+et+'" is invalid for argument "value"');for(mr=0;mr<Et-gt;++mr)this[mr+gt]=Cr[mr%Dr]}return this};const Bt={};function Dt(et,gt,Et){Bt[et]=class extends Et{constructor(){super(),Object.defineProperty(this,"message",{value:gt.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${et}]`,this.stack,delete this.name}get code(){return et}set code(Xt){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Xt,writable:!0})}toString(){return`${this.name} [${et}]: ${this.message}`}}}function Ct(et){let gt="",Et=et.length;const Xt=et[0]==="-"?1:0;for(;Et>=Xt+4;Et-=3)gt=`_${et.slice(Et-3,Et)}${gt}`;return`${et.slice(0,Et)}${gt}`}function It(et,gt,Et,Xt,mr,Cr){if(et>Et||et<gt){const Dr=typeof gt=="bigint"?"n":"";let _n;throw _n=gt===0||gt===BigInt(0)?`>= 0${Dr} and < 2${Dr} ** ${8*(Cr+1)}${Dr}`:`>= -(2${Dr} ** ${8*(Cr+1)-1}${Dr}) and < 2 ** ${8*(Cr+1)-1}${Dr}`,new Bt.ERR_OUT_OF_RANGE("value",_n,et)}(function(Dr,_n,In){lr(_n,"offset"),Dr[_n]!==void 0&&Dr[_n+In]!==void 0||Je(_n,Dr.length-(In+1))})(Xt,mr,Cr)}function lr(et,gt){if(typeof et!="number")throw new Bt.ERR_INVALID_ARG_TYPE(gt,"number",et)}function Je(et,gt,Et){throw Math.floor(et)!==et?(lr(et,Et),new Bt.ERR_OUT_OF_RANGE("offset","an integer",et)):gt<0?new Bt.ERR_BUFFER_OUT_OF_BOUNDS:new Bt.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${gt}`,et)}Dt("ERR_BUFFER_OUT_OF_BOUNDS",(function(et){return et?`${et} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),Dt("ERR_INVALID_ARG_TYPE",(function(et,gt){return`The "${et}" argument must be of type number. Received type ${typeof gt}`}),TypeError),Dt("ERR_OUT_OF_RANGE",(function(et,gt,Et){let Xt=`The value of "${et}" is out of range.`,mr=Et;return Number.isInteger(Et)&&Math.abs(Et)>4294967296?mr=Ct(String(Et)):typeof Et=="bigint"&&(mr=String(Et),(Et>BigInt(2)**BigInt(32)||Et<-(BigInt(2)**BigInt(32)))&&(mr=Ct(mr)),mr+="n"),Xt+=` It must be ${gt}. Received ${mr}`,Xt}),RangeError);const Ve=/[^+/0-9A-Za-z-_]/g;function st(et,gt){let Et;gt=gt||1/0;const Xt=et.length;let mr=null;const Cr=[];for(let Dr=0;Dr<Xt;++Dr){if(Et=et.charCodeAt(Dr),Et>55295&&Et<57344){if(!mr){if(Et>56319){(gt-=3)>-1&&Cr.push(239,191,189);continue}if(Dr+1===Xt){(gt-=3)>-1&&Cr.push(239,191,189);continue}mr=Et;continue}if(Et<56320){(gt-=3)>-1&&Cr.push(239,191,189),mr=Et;continue}Et=65536+(mr-55296<<10|Et-56320)}else mr&&(gt-=3)>-1&&Cr.push(239,191,189);if(mr=null,Et<128){if((gt-=1)<0)break;Cr.push(Et)}else if(Et<2048){if((gt-=2)<0)break;Cr.push(Et>>6|192,63&Et|128)}else if(Et<65536){if((gt-=3)<0)break;Cr.push(Et>>12|224,Et>>6&63|128,63&Et|128)}else{if(!(Et<1114112))throw new Error("Invalid code point");if((gt-=4)<0)break;Cr.push(Et>>18|240,Et>>12&63|128,Et>>6&63|128,63&Et|128)}}return Cr}function it(et){return M.toByteArray((function(gt){if((gt=(gt=gt.split("=")[0]).trim().replace(Ve,"")).length<2)return"";for(;gt.length%4!=0;)gt+="=";return gt})(et))}function Wt(et,gt,Et,Xt){let mr;for(mr=0;mr<Xt&&!(mr+Et>=gt.length||mr>=et.length);++mr)gt[mr+Et]=et[mr];return mr}function rt(et,gt){return et instanceof gt||et!=null&&et.constructor!=null&&et.constructor.name!=null&&et.constructor.name===gt.name}function ur(et){return et!=et}const tr=(function(){const et="0123456789abcdef",gt=new Array(256);for(let Et=0;Et<16;++Et){const Xt=16*Et;for(let mr=0;mr<16;++mr)gt[Xt+mr]=et[Et]+et[mr]}return gt})();function Ft(et){return typeof BigInt>"u"?Jt:et}function Jt(){throw new Error("BigInt not supported")}},3935:(y,x,r)=>{var b=r(4155);function M(R){if(typeof R!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(R))}function z(R,I){for(var O,A="",T=0,U=-1,q=0,K=0;K<=R.length;++K){if(K<R.length)O=R.charCodeAt(K);else{if(O===47)break;O=47}if(O===47){if(!(U===K-1||q===1))if(U!==K-1&&q===2){if(A.length<2||T!==2||A.charCodeAt(A.length-1)!==46||A.charCodeAt(A.length-2)!==46){if(A.length>2){var J=A.lastIndexOf("/");if(J!==A.length-1){J===-1?(A="",T=0):T=(A=A.slice(0,J)).length-1-A.lastIndexOf("/"),U=K,q=0;continue}}else if(A.length===2||A.length===1){A="",T=0,U=K,q=0;continue}}I&&(A.length>0?A+="/..":A="..",T=2)}else A.length>0?A+="/"+R.slice(U+1,K):A=R.slice(U+1,K),T=K-U-1;U=K,q=0}else O===46&&q!==-1?++q:q=-1}return A}var B={resolve:function(){for(var R,I="",O=!1,A=arguments.length-1;A>=-1&&!O;A--){var T;A>=0?T=arguments[A]:(R===void 0&&(R=b.cwd()),T=R),M(T),T.length!==0&&(I=T+"/"+I,O=T.charCodeAt(0)===47)}return I=z(I,!O),O?I.length>0?"/"+I:"/":I.length>0?I:"."},normalize:function(R){if(M(R),R.length===0)return".";var I=R.charCodeAt(0)===47,O=R.charCodeAt(R.length-1)===47;return(R=z(R,!I)).length!==0||I||(R="."),R.length>0&&O&&(R+="/"),I?"/"+R:R},isAbsolute:function(R){return M(R),R.length>0&&R.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var R,I=0;I<arguments.length;++I){var O=arguments[I];M(O),O.length>0&&(R===void 0?R=O:R+="/"+O)}return R===void 0?".":B.normalize(R)},relative:function(R,I){if(M(R),M(I),R===I||(R=B.resolve(R))===(I=B.resolve(I)))return"";for(var O=1;O<R.length&&R.charCodeAt(O)===47;++O);for(var A=R.length,T=A-O,U=1;U<I.length&&I.charCodeAt(U)===47;++U);for(var q=I.length-U,K=T<q?T:q,J=-1,te=0;te<=K;++te){if(te===K){if(q>K){if(I.charCodeAt(U+te)===47)return I.slice(U+te+1);if(te===0)return I.slice(U+te)}else T>K&&(R.charCodeAt(O+te)===47?J=te:te===0&&(J=0));break}var oe=R.charCodeAt(O+te);if(oe!==I.charCodeAt(U+te))break;oe===47&&(J=te)}var ue="";for(te=O+J+1;te<=A;++te)te!==A&&R.charCodeAt(te)!==47||(ue.length===0?ue+="..":ue+="/..");return ue.length>0?ue+I.slice(U+J):(U+=J,I.charCodeAt(U)===47&&++U,I.slice(U))},_makeLong:function(R){return R},dirname:function(R){if(M(R),R.length===0)return".";for(var I=R.charCodeAt(0),O=I===47,A=-1,T=!0,U=R.length-1;U>=1;--U)if((I=R.charCodeAt(U))===47){if(!T){A=U;break}}else T=!1;return A===-1?O?"/":".":O&&A===1?"//":R.slice(0,A)},basename:function(R,I){if(I!==void 0&&typeof I!="string")throw new TypeError('"ext" argument must be a string');M(R);var O,A=0,T=-1,U=!0;if(I!==void 0&&I.length>0&&I.length<=R.length){if(I.length===R.length&&I===R)return"";var q=I.length-1,K=-1;for(O=R.length-1;O>=0;--O){var J=R.charCodeAt(O);if(J===47){if(!U){A=O+1;break}}else K===-1&&(U=!1,K=O+1),q>=0&&(J===I.charCodeAt(q)?--q==-1&&(T=O):(q=-1,T=K))}return A===T?T=K:T===-1&&(T=R.length),R.slice(A,T)}for(O=R.length-1;O>=0;--O)if(R.charCodeAt(O)===47){if(!U){A=O+1;break}}else T===-1&&(U=!1,T=O+1);return T===-1?"":R.slice(A,T)},extname:function(R){M(R);for(var I=-1,O=0,A=-1,T=!0,U=0,q=R.length-1;q>=0;--q){var K=R.charCodeAt(q);if(K!==47)A===-1&&(T=!1,A=q+1),K===46?I===-1?I=q:U!==1&&(U=1):I!==-1&&(U=-1);else if(!T){O=q+1;break}}return I===-1||A===-1||U===0||U===1&&I===A-1&&I===O+1?"":R.slice(I,A)},format:function(R){if(R===null||typeof R!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof R);return(function(I,O){var A=O.dir||O.root,T=O.base||(O.name||"")+(O.ext||"");return A?A===O.root?A+T:A+"/"+T:T})(0,R)},parse:function(R){M(R);var I={root:"",dir:"",base:"",ext:"",name:""};if(R.length===0)return I;var O,A=R.charCodeAt(0),T=A===47;T?(I.root="/",O=1):O=0;for(var U=-1,q=0,K=-1,J=!0,te=R.length-1,oe=0;te>=O;--te)if((A=R.charCodeAt(te))!==47)K===-1&&(J=!1,K=te+1),A===46?U===-1?U=te:oe!==1&&(oe=1):U!==-1&&(oe=-1);else if(!J){q=te+1;break}return U===-1||K===-1||oe===0||oe===1&&U===K-1&&U===q+1?K!==-1&&(I.base=I.name=q===0&&T?R.slice(1,K):R.slice(q,K)):(q===0&&T?(I.name=R.slice(1,U),I.base=R.slice(1,K)):(I.name=R.slice(q,U),I.base=R.slice(q,K)),I.ext=R.slice(U,K)),q>0?I.dir=R.slice(0,q-1):T&&(I.dir="/"),I},sep:"/",delimiter:":",win32:null,posix:null};B.posix=B,y.exports=B},7418:y=>{var x=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable;y.exports=(function(){try{if(!Object.assign)return!1;var M=new String("abc");if(M[5]="de",Object.getOwnPropertyNames(M)[0]==="5")return!1;for(var z={},B=0;B<10;B++)z["_"+String.fromCharCode(B)]=B;if(Object.getOwnPropertyNames(z).map((function(I){return z[I]})).join("")!=="0123456789")return!1;var R={};return"abcdefghijklmnopqrst".split("").forEach((function(I){R[I]=I})),Object.keys(Object.assign({},R)).join("")==="abcdefghijklmnopqrst"}catch{return!1}})()?Object.assign:function(M,z){for(var B,R,I=(function(U){if(U==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(U)})(M),O=1;O<arguments.length;O++){for(var A in B=Object(arguments[O]))r.call(B,A)&&(I[A]=B[A]);if(x){R=x(B);for(var T=0;T<R.length;T++)b.call(B,R[T])&&(I[R[T]]=B[R[T]])}}return I}},7435:(y,x)=>{x.endianness=function(){return"LE"},x.hostname=function(){return typeof location<"u"?location.hostname:""},x.loadavg=function(){return[]},x.uptime=function(){return 0},x.freemem=function(){return Number.MAX_VALUE},x.totalmem=function(){return Number.MAX_VALUE},x.cpus=function(){return[]},x.type=function(){return"Browser"},x.release=function(){return typeof navigator<"u"?navigator.appVersion:""},x.networkInterfaces=x.getNetworkInterfaces=function(){return{}},x.arch=function(){return"javascript"},x.platform=function(){return"browser"},x.tmpdir=x.tmpDir=function(){return"/tmp"},x.EOL=`
`,x.homedir=function(){return"/"}},8985:(y,x)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.Deferred=void 0,x.Deferred=class{constructor(){this.resolve=()=>null,this.reject=()=>null,this.promise=new Promise(((r,b)=>{this.reject=b,this.resolve=r}))}}},7279:(y,x)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.EndOfStreamError=x.defaultMessages=void 0,x.defaultMessages="End-Of-Stream";class r extends Error{constructor(){super(x.defaultMessages)}}x.EndOfStreamError=r},6654:(y,x,r)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.StreamReader=x.EndOfStreamError=void 0;const b=r(7279),M=r(8985);var z=r(7279);Object.defineProperty(x,"EndOfStreamError",{enumerable:!0,get:function(){return z.EndOfStreamError}}),x.StreamReader=class{constructor(B){if(this.s=B,this.deferred=null,this.endOfStream=!1,this.peekQueue=[],!B.read||!B.once)throw new Error("Expected an instance of stream.Readable");this.s.once("end",(()=>this.reject(new b.EndOfStreamError))),this.s.once("error",(R=>this.reject(R))),this.s.once("close",(()=>this.reject(new Error("Stream closed"))))}async peek(B,R,I){const O=await this.read(B,R,I);return this.peekQueue.push(B.subarray(R,R+O)),O}async read(B,R,I){if(I===0)return 0;if(this.peekQueue.length===0&&this.endOfStream)throw new b.EndOfStreamError;let O=I,A=0;for(;this.peekQueue.length>0&&O>0;){const T=this.peekQueue.pop();if(!T)throw new Error("peekData should be defined");const U=Math.min(T.length,O);B.set(T.subarray(0,U),R+A),A+=U,O-=U,U<T.length&&this.peekQueue.push(T.subarray(U))}for(;O>0&&!this.endOfStream;){const T=Math.min(O,1048576),U=await this.readFromStream(B,R+A,T);if(A+=U,U<T)break;O-=U}return A}async readFromStream(B,R,I){const O=this.s.read(I);if(O)return B.set(O,R),O.length;{const A={buffer:B,offset:R,length:I,deferred:new M.Deferred};return this.deferred=A.deferred,this.s.once("readable",(()=>{this.readDeferred(A)})),A.deferred.promise}}readDeferred(B){const R=this.s.read(B.length);R?(B.buffer.set(R,B.offset),B.deferred.resolve(R.length),this.deferred=null):this.s.once("readable",(()=>{this.readDeferred(B)}))}reject(B){this.endOfStream=!0,this.deferred&&(this.deferred.reject(B),this.deferred=null)}}},5167:(y,x,r)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.StreamReader=x.EndOfStreamError=void 0;var b=r(7279);Object.defineProperty(x,"EndOfStreamError",{enumerable:!0,get:function(){return b.EndOfStreamError}});var M=r(6654);Object.defineProperty(x,"StreamReader",{enumerable:!0,get:function(){return M.StreamReader}})},2676:function(y,x,r){var b=r(4155);y.exports=(function(){function M(Je,Ve){if(!(Je instanceof Ve))throw new TypeError("Cannot call a class as a function")}function z(Je,Ve){for(var st=0;st<Ve.length;st++){var it=Ve[st];it.enumerable=it.enumerable||!1,it.configurable=!0,"value"in it&&(it.writable=!0),Object.defineProperty(Je,it.key,it)}}function B(Je,Ve,st){return Ve&&z(Je.prototype,Ve),st&&z(Je,st),Je}var R=function(Je,Ve){this.next=null,this.key=Je,this.data=Ve,this.left=null,this.right=null};function I(Je,Ve){return Je>Ve?1:Je<Ve?-1:0}function O(Je,Ve,st){for(var it=new R(null,null),Wt=it,rt=it;;){var ur=st(Je,Ve.key);if(ur<0){if(Ve.left===null)break;if(st(Je,Ve.left.key)<0){var tr=Ve.left;if(Ve.left=tr.right,tr.right=Ve,(Ve=tr).left===null)break}rt.left=Ve,rt=Ve,Ve=Ve.left}else{if(!(ur>0)||Ve.right===null||st(Je,Ve.right.key)>0&&(tr=Ve.right,Ve.right=tr.left,tr.left=Ve,(Ve=tr).right===null))break;Wt.right=Ve,Wt=Ve,Ve=Ve.right}}return Wt.right=Ve.left,rt.left=Ve.right,Ve.left=it.right,Ve.right=it.left,Ve}function A(Je,Ve,st,it){var Wt=new R(Je,Ve);if(st===null)return Wt.left=Wt.right=null,Wt;var rt=it(Je,(st=O(Je,st,it)).key);return rt<0?(Wt.left=st.left,Wt.right=st,st.left=null):rt>=0&&(Wt.right=st.right,Wt.left=st,st.right=null),Wt}function T(Je,Ve,st){var it=null,Wt=null;if(Ve){var rt=st((Ve=O(Je,Ve,st)).key,Je);rt===0?(it=Ve.left,Wt=Ve.right):rt<0?(Wt=Ve.right,Ve.right=null,it=Ve):(it=Ve.left,Ve.left=null,Wt=Ve)}return{left:it,right:Wt}}function U(Je,Ve,st,it,Wt){if(Je){it(Ve+(st?" ":" ")+Wt(Je)+`
`);var rt=Ve+(st?"    ":"   ");Je.left&&U(Je.left,rt,!1,it,Wt),Je.right&&U(Je.right,rt,!0,it,Wt)}}var q=(function(){function Je(Ve){Ve===void 0&&(Ve=I),this._root=null,this._size=0,this._comparator=Ve}return Je.prototype.insert=function(Ve,st){return this._size++,this._root=A(Ve,st,this._root,this._comparator)},Je.prototype.add=function(Ve,st){var it=new R(Ve,st);this._root===null&&(it.left=it.right=null,this._size++,this._root=it);var Wt=this._comparator,rt=O(Ve,this._root,Wt),ur=Wt(Ve,rt.key);return ur===0?this._root=rt:(ur<0?(it.left=rt.left,it.right=rt,rt.left=null):ur>0&&(it.right=rt.right,it.left=rt,rt.right=null),this._size++,this._root=it),this._root},Je.prototype.remove=function(Ve){this._root=this._remove(Ve,this._root,this._comparator)},Je.prototype._remove=function(Ve,st,it){var Wt;return st===null?null:it(Ve,(st=O(Ve,st,it)).key)===0?(st.left===null?Wt=st.right:(Wt=O(Ve,st.left,it)).right=st.right,this._size--,Wt):st},Je.prototype.pop=function(){var Ve=this._root;if(Ve){for(;Ve.left;)Ve=Ve.left;return this._root=O(Ve.key,this._root,this._comparator),this._root=this._remove(Ve.key,this._root,this._comparator),{key:Ve.key,data:Ve.data}}return null},Je.prototype.findStatic=function(Ve){for(var st=this._root,it=this._comparator;st;){var Wt=it(Ve,st.key);if(Wt===0)return st;st=Wt<0?st.left:st.right}return null},Je.prototype.find=function(Ve){return this._root&&(this._root=O(Ve,this._root,this._comparator),this._comparator(Ve,this._root.key)!==0)?null:this._root},Je.prototype.contains=function(Ve){for(var st=this._root,it=this._comparator;st;){var Wt=it(Ve,st.key);if(Wt===0)return!0;st=Wt<0?st.left:st.right}return!1},Je.prototype.forEach=function(Ve,st){for(var it=this._root,Wt=[],rt=!1;!rt;)it!==null?(Wt.push(it),it=it.left):Wt.length!==0?(it=Wt.pop(),Ve.call(st,it),it=it.right):rt=!0;return this},Je.prototype.range=function(Ve,st,it,Wt){for(var rt=[],ur=this._comparator,tr=this._root;rt.length!==0||tr;)if(tr)rt.push(tr),tr=tr.left;else{if(ur((tr=rt.pop()).key,st)>0)break;if(ur(tr.key,Ve)>=0&&it.call(Wt,tr))return this;tr=tr.right}return this},Je.prototype.keys=function(){var Ve=[];return this.forEach((function(st){var it=st.key;return Ve.push(it)})),Ve},Je.prototype.values=function(){var Ve=[];return this.forEach((function(st){var it=st.data;return Ve.push(it)})),Ve},Je.prototype.min=function(){return this._root?this.minNode(this._root).key:null},Je.prototype.max=function(){return this._root?this.maxNode(this._root).key:null},Je.prototype.minNode=function(Ve){if(Ve===void 0&&(Ve=this._root),Ve)for(;Ve.left;)Ve=Ve.left;return Ve},Je.prototype.maxNode=function(Ve){if(Ve===void 0&&(Ve=this._root),Ve)for(;Ve.right;)Ve=Ve.right;return Ve},Je.prototype.at=function(Ve){for(var st=this._root,it=!1,Wt=0,rt=[];!it;)if(st)rt.push(st),st=st.left;else if(rt.length>0){if(st=rt.pop(),Wt===Ve)return st;Wt++,st=st.right}else it=!0;return null},Je.prototype.next=function(Ve){var st=this._root,it=null;if(Ve.right){for(it=Ve.right;it.left;)it=it.left;return it}for(var Wt=this._comparator;st;){var rt=Wt(Ve.key,st.key);if(rt===0)break;rt<0?(it=st,st=st.left):st=st.right}return it},Je.prototype.prev=function(Ve){var st=this._root,it=null;if(Ve.left!==null){for(it=Ve.left;it.right;)it=it.right;return it}for(var Wt=this._comparator;st;){var rt=Wt(Ve.key,st.key);if(rt===0)break;rt<0?st=st.left:(it=st,st=st.right)}return it},Je.prototype.clear=function(){return this._root=null,this._size=0,this},Je.prototype.toList=function(){return(function(Ve){for(var st=Ve,it=[],Wt=!1,rt=new R(null,null),ur=rt;!Wt;)st?(it.push(st),st=st.left):it.length>0?st=(st=ur=ur.next=it.pop()).right:Wt=!0;return ur.next=null,rt.next})(this._root)},Je.prototype.load=function(Ve,st,it){st===void 0&&(st=[]),it===void 0&&(it=!1);var Wt=Ve.length,rt=this._comparator;if(it&&te(Ve,st,0,Wt-1,rt),this._root===null)this._root=K(Ve,st,0,Wt),this._size=Wt;else{var ur=(function(tr,Ft,Jt){for(var et=new R(null,null),gt=et,Et=tr,Xt=Ft;Et!==null&&Xt!==null;)Jt(Et.key,Xt.key)<0?(gt.next=Et,Et=Et.next):(gt.next=Xt,Xt=Xt.next),gt=gt.next;return Et!==null?gt.next=Et:Xt!==null&&(gt.next=Xt),et.next})(this.toList(),(function(tr,Ft){for(var Jt=new R(null,null),et=Jt,gt=0;gt<tr.length;gt++)et=et.next=new R(tr[gt],Ft[gt]);return et.next=null,Jt.next})(Ve,st),rt);Wt=this._size+Wt,this._root=J({head:ur},0,Wt)}return this},Je.prototype.isEmpty=function(){return this._root===null},Object.defineProperty(Je.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(Je.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),Je.prototype.toString=function(Ve){Ve===void 0&&(Ve=function(it){return String(it.key)});var st=[];return U(this._root,"",!0,(function(it){return st.push(it)}),Ve),st.join("")},Je.prototype.update=function(Ve,st,it){var Wt=this._comparator,rt=T(Ve,this._root,Wt),ur=rt.left,tr=rt.right;Wt(Ve,st)<0?tr=A(st,it,tr,Wt):ur=A(st,it,ur,Wt),this._root=(function(Ft,Jt,et){return Jt===null?Ft:(Ft===null||((Jt=O(Ft.key,Jt,et)).left=Ft),Jt)})(ur,tr,Wt)},Je.prototype.split=function(Ve){return T(Ve,this._root,this._comparator)},Je})();function K(Je,Ve,st,it){var Wt=it-st;if(Wt>0){var rt=st+Math.floor(Wt/2),ur=Je[rt],tr=Ve[rt],Ft=new R(ur,tr);return Ft.left=K(Je,Ve,st,rt),Ft.right=K(Je,Ve,rt+1,it),Ft}return null}function J(Je,Ve,st){var it=st-Ve;if(it>0){var Wt=Ve+Math.floor(it/2),rt=J(Je,Ve,Wt),ur=Je.head;return ur.left=rt,Je.head=Je.head.next,ur.right=J(Je,Wt+1,st),ur}return null}function te(Je,Ve,st,it,Wt){if(!(st>=it)){for(var rt=Je[st+it>>1],ur=st-1,tr=it+1;;){do ur++;while(Wt(Je[ur],rt)<0);do tr--;while(Wt(Je[tr],rt)>0);if(ur>=tr)break;var Ft=Je[ur];Je[ur]=Je[tr],Je[tr]=Ft,Ft=Ve[ur],Ve[ur]=Ve[tr],Ve[tr]=Ft}te(Je,Ve,st,tr,Wt),te(Je,Ve,tr+1,it,Wt)}}var oe=function(Je,Ve){return Je.ll.x<=Ve.x&&Ve.x<=Je.ur.x&&Je.ll.y<=Ve.y&&Ve.y<=Je.ur.y},ue=function(Je,Ve){if(Ve.ur.x<Je.ll.x||Je.ur.x<Ve.ll.x||Ve.ur.y<Je.ll.y||Je.ur.y<Ve.ll.y)return null;var st=Je.ll.x<Ve.ll.x?Ve.ll.x:Je.ll.x,it=Je.ur.x<Ve.ur.x?Je.ur.x:Ve.ur.x;return{ll:{x:st,y:Je.ll.y<Ve.ll.y?Ve.ll.y:Je.ll.y},ur:{x:it,y:Je.ur.y<Ve.ur.y?Je.ur.y:Ve.ur.y}}},fe=Number.EPSILON;fe===void 0&&(fe=Math.pow(2,-52));var Le=fe*fe,Ge=function(Je,Ve){if(-fe<Je&&Je<fe&&-fe<Ve&&Ve<fe)return 0;var st=Je-Ve;return st*st<Le*Je*Ve?0:Je<Ve?-1:1},ze=(function(){function Je(){M(this,Je),this.reset()}return B(Je,[{key:"reset",value:function(){this.xRounder=new je,this.yRounder=new je}},{key:"round",value:function(Ve,st){return{x:this.xRounder.round(Ve),y:this.yRounder.round(st)}}}]),Je})(),je=(function(){function Je(){M(this,Je),this.tree=new q,this.round(0)}return B(Je,[{key:"round",value:function(Ve){var st=this.tree.add(Ve),it=this.tree.prev(st);if(it!==null&&Ge(st.key,it.key)===0)return this.tree.remove(Ve),it.key;var Wt=this.tree.next(st);return Wt!==null&&Ge(st.key,Wt.key)===0?(this.tree.remove(Ve),Wt.key):Ve}}]),Je})(),Be=new ze,_e=function(Je,Ve){return Je.x*Ve.y-Je.y*Ve.x},He=function(Je,Ve){return Je.x*Ve.x+Je.y*Ve.y},tt=function(Je,Ve,st){var it={x:Ve.x-Je.x,y:Ve.y-Je.y},Wt={x:st.x-Je.x,y:st.y-Je.y},rt=_e(it,Wt);return Ge(rt,0)},Ke=function(Je){return Math.sqrt(He(Je,Je))},Ze=function(Je,Ve,st){var it={x:Ve.x-Je.x,y:Ve.y-Je.y},Wt={x:st.x-Je.x,y:st.y-Je.y};return He(Wt,it)/Ke(Wt)/Ke(it)},Qe=function(Je,Ve,st){return Ve.y===0?null:{x:Je.x+Ve.x/Ve.y*(st-Je.y),y:st}},vt=function(Je,Ve,st){return Ve.x===0?null:{x:st,y:Je.y+Ve.y/Ve.x*(st-Je.x)}},pt=(function(){function Je(Ve,st){M(this,Je),Ve.events===void 0?Ve.events=[this]:Ve.events.push(this),this.point=Ve,this.isLeft=st}return B(Je,null,[{key:"compare",value:function(Ve,st){var it=Je.comparePoints(Ve.point,st.point);return it!==0?it:(Ve.point!==st.point&&Ve.link(st),Ve.isLeft!==st.isLeft?Ve.isLeft?1:-1:Mt.compare(Ve.segment,st.segment))}},{key:"comparePoints",value:function(Ve,st){return Ve.x<st.x?-1:Ve.x>st.x?1:Ve.y<st.y?-1:Ve.y>st.y?1:0}}]),B(Je,[{key:"link",value:function(Ve){if(Ve.point===this.point)throw new Error("Tried to link already linked events");for(var st=Ve.point.events,it=0,Wt=st.length;it<Wt;it++){var rt=st[it];this.point.events.push(rt),rt.point=this.point}this.checkForConsuming()}},{key:"checkForConsuming",value:function(){for(var Ve=this.point.events.length,st=0;st<Ve;st++){var it=this.point.events[st];if(it.segment.consumedBy===void 0)for(var Wt=st+1;Wt<Ve;Wt++){var rt=this.point.events[Wt];rt.consumedBy===void 0&&it.otherSE.point.events===rt.otherSE.point.events&&it.segment.consume(rt.segment)}}}},{key:"getAvailableLinkedEvents",value:function(){for(var Ve=[],st=0,it=this.point.events.length;st<it;st++){var Wt=this.point.events[st];Wt!==this&&!Wt.segment.ringOut&&Wt.segment.isInResult()&&Ve.push(Wt)}return Ve}},{key:"getLeftmostComparator",value:function(Ve){var st=this,it=new Map,Wt=function(rt){var ur,tr,Ft,Jt,et,gt=rt.otherSE;it.set(rt,{sine:(ur=st.point,tr=Ve.point,Ft=gt.point,Jt={x:tr.x-ur.x,y:tr.y-ur.y},et={x:Ft.x-ur.x,y:Ft.y-ur.y},_e(et,Jt)/Ke(et)/Ke(Jt)),cosine:Ze(st.point,Ve.point,gt.point)})};return function(rt,ur){it.has(rt)||Wt(rt),it.has(ur)||Wt(ur);var tr=it.get(rt),Ft=tr.sine,Jt=tr.cosine,et=it.get(ur),gt=et.sine,Et=et.cosine;return Ft>=0&&gt>=0?Jt<Et?1:Jt>Et?-1:0:Ft<0&&gt<0?Jt<Et?-1:Jt>Et?1:0:gt<Ft?-1:gt>Ft?1:0}}}]),Je})(),ut=0,Mt=(function(){function Je(Ve,st,it,Wt){M(this,Je),this.id=++ut,this.leftSE=Ve,Ve.segment=this,Ve.otherSE=st,this.rightSE=st,st.segment=this,st.otherSE=Ve,this.rings=it,this.windings=Wt}return B(Je,null,[{key:"compare",value:function(Ve,st){var it=Ve.leftSE.point.x,Wt=st.leftSE.point.x,rt=Ve.rightSE.point.x,ur=st.rightSE.point.x;if(ur<it)return 1;if(rt<Wt)return-1;var tr=Ve.leftSE.point.y,Ft=st.leftSE.point.y,Jt=Ve.rightSE.point.y,et=st.rightSE.point.y;if(it<Wt){if(Ft<tr&&Ft<Jt)return 1;if(Ft>tr&&Ft>Jt)return-1;var gt=Ve.comparePoint(st.leftSE.point);if(gt<0)return 1;if(gt>0)return-1;var Et=st.comparePoint(Ve.rightSE.point);return Et!==0?Et:-1}if(it>Wt){if(tr<Ft&&tr<et)return-1;if(tr>Ft&&tr>et)return 1;var Xt=st.comparePoint(Ve.leftSE.point);if(Xt!==0)return Xt;var mr=Ve.comparePoint(st.rightSE.point);return mr<0?1:mr>0?-1:1}if(tr<Ft)return-1;if(tr>Ft)return 1;if(rt<ur){var Cr=st.comparePoint(Ve.rightSE.point);if(Cr!==0)return Cr}if(rt>ur){var Dr=Ve.comparePoint(st.rightSE.point);if(Dr<0)return 1;if(Dr>0)return-1}if(rt!==ur){var _n=Jt-tr,In=rt-it,Fn=et-Ft,ti=ur-Wt;if(_n>In&&Fn<ti)return 1;if(_n<In&&Fn>ti)return-1}return rt>ur?1:rt<ur||Jt<et?-1:Jt>et?1:Ve.id<st.id?-1:Ve.id>st.id?1:0}}]),B(Je,[{key:"replaceRightSE",value:function(Ve){this.rightSE=Ve,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}},{key:"bbox",value:function(){var Ve=this.leftSE.point.y,st=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:Ve<st?Ve:st},ur:{x:this.rightSE.point.x,y:Ve>st?Ve:st}}}},{key:"vector",value:function(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}},{key:"isAnEndpoint",value:function(Ve){return Ve.x===this.leftSE.point.x&&Ve.y===this.leftSE.point.y||Ve.x===this.rightSE.point.x&&Ve.y===this.rightSE.point.y}},{key:"comparePoint",value:function(Ve){if(this.isAnEndpoint(Ve))return 0;var st=this.leftSE.point,it=this.rightSE.point,Wt=this.vector();if(st.x===it.x)return Ve.x===st.x?0:Ve.x<st.x?1:-1;var rt=(Ve.y-st.y)/Wt.y,ur=st.x+rt*Wt.x;if(Ve.x===ur)return 0;var tr=(Ve.x-st.x)/Wt.x,Ft=st.y+tr*Wt.y;return Ve.y===Ft?0:Ve.y<Ft?-1:1}},{key:"getIntersection",value:function(Ve){var st=this.bbox(),it=Ve.bbox(),Wt=ue(st,it);if(Wt===null)return null;var rt=this.leftSE.point,ur=this.rightSE.point,tr=Ve.leftSE.point,Ft=Ve.rightSE.point,Jt=oe(st,tr)&&this.comparePoint(tr)===0,et=oe(it,rt)&&Ve.comparePoint(rt)===0,gt=oe(st,Ft)&&this.comparePoint(Ft)===0,Et=oe(it,ur)&&Ve.comparePoint(ur)===0;if(et&&Jt)return Et&&!gt?ur:!Et&&gt?Ft:null;if(et)return gt&&rt.x===Ft.x&&rt.y===Ft.y?null:rt;if(Jt)return Et&&ur.x===tr.x&&ur.y===tr.y?null:tr;if(Et&&gt)return null;if(Et)return ur;if(gt)return Ft;var Xt=(function(mr,Cr,Dr,_n){if(Cr.x===0)return vt(Dr,_n,mr.x);if(_n.x===0)return vt(mr,Cr,Dr.x);if(Cr.y===0)return Qe(Dr,_n,mr.y);if(_n.y===0)return Qe(mr,Cr,Dr.y);var In=_e(Cr,_n);if(In==0)return null;var Fn={x:Dr.x-mr.x,y:Dr.y-mr.y},ti=_e(Fn,Cr)/In,Qn=_e(Fn,_n)/In;return{x:(mr.x+Qn*Cr.x+(Dr.x+ti*_n.x))/2,y:(mr.y+Qn*Cr.y+(Dr.y+ti*_n.y))/2}})(rt,this.vector(),tr,Ve.vector());return Xt===null?null:oe(Wt,Xt)?Be.round(Xt.x,Xt.y):null}},{key:"split",value:function(Ve){var st=[],it=Ve.events!==void 0,Wt=new pt(Ve,!0),rt=new pt(Ve,!1),ur=this.rightSE;this.replaceRightSE(rt),st.push(rt),st.push(Wt);var tr=new Je(Wt,ur,this.rings.slice(),this.windings.slice());return pt.comparePoints(tr.leftSE.point,tr.rightSE.point)>0&&tr.swapEvents(),pt.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),it&&(Wt.checkForConsuming(),rt.checkForConsuming()),st}},{key:"swapEvents",value:function(){var Ve=this.rightSE;this.rightSE=this.leftSE,this.leftSE=Ve,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(var st=0,it=this.windings.length;st<it;st++)this.windings[st]*=-1}},{key:"consume",value:function(Ve){for(var st=this,it=Ve;st.consumedBy;)st=st.consumedBy;for(;it.consumedBy;)it=it.consumedBy;var Wt=Je.compare(st,it);if(Wt!==0){if(Wt>0){var rt=st;st=it,it=rt}if(st.prev===it){var ur=st;st=it,it=ur}for(var tr=0,Ft=it.rings.length;tr<Ft;tr++){var Jt=it.rings[tr],et=it.windings[tr],gt=st.rings.indexOf(Jt);gt===-1?(st.rings.push(Jt),st.windings.push(et)):st.windings[gt]+=et}it.rings=null,it.windings=null,it.consumedBy=st,it.leftSE.consumedBy=st.leftSE,it.rightSE.consumedBy=st.rightSE}}},{key:"prevInResult",value:function(){return this._prevInResult!==void 0||(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null),this._prevInResult}},{key:"beforeState",value:function(){if(this._beforeState!==void 0)return this._beforeState;if(this.prev){var Ve=this.prev.consumedBy||this.prev;this._beforeState=Ve.afterState()}else this._beforeState={rings:[],windings:[],multiPolys:[]};return this._beforeState}},{key:"afterState",value:function(){if(this._afterState!==void 0)return this._afterState;var Ve=this.beforeState();this._afterState={rings:Ve.rings.slice(0),windings:Ve.windings.slice(0),multiPolys:[]};for(var st=this._afterState.rings,it=this._afterState.windings,Wt=this._afterState.multiPolys,rt=0,ur=this.rings.length;rt<ur;rt++){var tr=this.rings[rt],Ft=this.windings[rt],Jt=st.indexOf(tr);Jt===-1?(st.push(tr),it.push(Ft)):it[Jt]+=Ft}for(var et=[],gt=[],Et=0,Xt=st.length;Et<Xt;Et++)if(it[Et]!==0){var mr=st[Et],Cr=mr.poly;if(gt.indexOf(Cr)===-1)if(mr.isExterior)et.push(Cr);else{gt.indexOf(Cr)===-1&&gt.push(Cr);var Dr=et.indexOf(mr.poly);Dr!==-1&&et.splice(Dr,1)}}for(var _n=0,In=et.length;_n<In;_n++){var Fn=et[_n].multiPoly;Wt.indexOf(Fn)===-1&&Wt.push(Fn)}return this._afterState}},{key:"isInResult",value:function(){if(this.consumedBy)return!1;if(this._isInResult!==void 0)return this._isInResult;var Ve=this.beforeState().multiPolys,st=this.afterState().multiPolys;switch(lr.type){case"union":var it=Ve.length===0,Wt=st.length===0;this._isInResult=it!==Wt;break;case"intersection":var rt,ur;Ve.length<st.length?(rt=Ve.length,ur=st.length):(rt=st.length,ur=Ve.length),this._isInResult=ur===lr.numMultiPolys&&rt<ur;break;case"xor":var tr=Math.abs(Ve.length-st.length);this._isInResult=tr%2==1;break;case"difference":var Ft=function(Jt){return Jt.length===1&&Jt[0].isSubject};this._isInResult=Ft(Ve)!==Ft(st);break;default:throw new Error("Unrecognized operation type found ".concat(lr.type))}return this._isInResult}}],[{key:"fromRing",value:function(Ve,st,it){var Wt,rt,ur,tr=pt.comparePoints(Ve,st);if(tr<0)Wt=Ve,rt=st,ur=1;else{if(!(tr>0))throw new Error("Tried to create degenerate segment at [".concat(Ve.x,", ").concat(Ve.y,"]"));Wt=st,rt=Ve,ur=-1}return new Je(new pt(Wt,!0),new pt(rt,!1),[it],[ur])}}]),Je})(),bt=(function(){function Je(Ve,st,it){if(M(this,Je),!Array.isArray(Ve)||Ve.length===0)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=st,this.isExterior=it,this.segments=[],typeof Ve[0][0]!="number"||typeof Ve[0][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var Wt=Be.round(Ve[0][0],Ve[0][1]);this.bbox={ll:{x:Wt.x,y:Wt.y},ur:{x:Wt.x,y:Wt.y}};for(var rt=Wt,ur=1,tr=Ve.length;ur<tr;ur++){if(typeof Ve[ur][0]!="number"||typeof Ve[ur][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var Ft=Be.round(Ve[ur][0],Ve[ur][1]);Ft.x===rt.x&&Ft.y===rt.y||(this.segments.push(Mt.fromRing(rt,Ft,this)),Ft.x<this.bbox.ll.x&&(this.bbox.ll.x=Ft.x),Ft.y<this.bbox.ll.y&&(this.bbox.ll.y=Ft.y),Ft.x>this.bbox.ur.x&&(this.bbox.ur.x=Ft.x),Ft.y>this.bbox.ur.y&&(this.bbox.ur.y=Ft.y),rt=Ft)}Wt.x===rt.x&&Wt.y===rt.y||this.segments.push(Mt.fromRing(rt,Wt,this))}return B(Je,[{key:"getSweepEvents",value:function(){for(var Ve=[],st=0,it=this.segments.length;st<it;st++){var Wt=this.segments[st];Ve.push(Wt.leftSE),Ve.push(Wt.rightSE)}return Ve}}]),Je})(),ar=(function(){function Je(Ve,st){if(M(this,Je),!Array.isArray(Ve))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new bt(Ve[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(var it=1,Wt=Ve.length;it<Wt;it++){var rt=new bt(Ve[it],this,!1);rt.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=rt.bbox.ll.x),rt.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=rt.bbox.ll.y),rt.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=rt.bbox.ur.x),rt.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=rt.bbox.ur.y),this.interiorRings.push(rt)}this.multiPoly=st}return B(Je,[{key:"getSweepEvents",value:function(){for(var Ve=this.exteriorRing.getSweepEvents(),st=0,it=this.interiorRings.length;st<it;st++)for(var Wt=this.interiorRings[st].getSweepEvents(),rt=0,ur=Wt.length;rt<ur;rt++)Ve.push(Wt[rt]);return Ve}}]),Je})(),dt=(function(){function Je(Ve,st){if(M(this,Je),!Array.isArray(Ve))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{typeof Ve[0][0][0]=="number"&&(Ve=[Ve])}catch{}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(var it=0,Wt=Ve.length;it<Wt;it++){var rt=new ar(Ve[it],this);rt.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=rt.bbox.ll.x),rt.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=rt.bbox.ll.y),rt.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=rt.bbox.ur.x),rt.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=rt.bbox.ur.y),this.polys.push(rt)}this.isSubject=st}return B(Je,[{key:"getSweepEvents",value:function(){for(var Ve=[],st=0,it=this.polys.length;st<it;st++)for(var Wt=this.polys[st].getSweepEvents(),rt=0,ur=Wt.length;rt<ur;rt++)Ve.push(Wt[rt]);return Ve}}]),Je})(),yt=(function(){function Je(Ve){M(this,Je),this.events=Ve;for(var st=0,it=Ve.length;st<it;st++)Ve[st].segment.ringOut=this;this.poly=null}return B(Je,null,[{key:"factory",value:function(Ve){for(var st=[],it=0,Wt=Ve.length;it<Wt;it++){var rt=Ve[it];if(rt.isInResult()&&!rt.ringOut){for(var ur=null,tr=rt.leftSE,Ft=rt.rightSE,Jt=[tr],et=tr.point,gt=[];ur=tr,tr=Ft,Jt.push(tr),tr.point!==et;)for(;;){var Et=tr.getAvailableLinkedEvents();if(Et.length===0){var Xt=Jt[0].point,mr=Jt[Jt.length-1].point;throw new Error("Unable to complete output ring starting at [".concat(Xt.x,",")+" ".concat(Xt.y,"]. Last matching segment found ends at")+" [".concat(mr.x,", ").concat(mr.y,"]."))}if(Et.length===1){Ft=Et[0].otherSE;break}for(var Cr=null,Dr=0,_n=gt.length;Dr<_n;Dr++)if(gt[Dr].point===tr.point){Cr=Dr;break}if(Cr===null){gt.push({index:Jt.length,point:tr.point});var In=tr.getLeftmostComparator(ur);Ft=Et.sort(In)[0].otherSE;break}var Fn=gt.splice(Cr)[0],ti=Jt.splice(Fn.index);ti.unshift(ti[0].otherSE),st.push(new Je(ti.reverse()))}st.push(new Je(Jt))}}return st}}]),B(Je,[{key:"getGeom",value:function(){for(var Ve=this.events[0].point,st=[Ve],it=1,Wt=this.events.length-1;it<Wt;it++){var rt=this.events[it].point,ur=this.events[it+1].point;tt(rt,Ve,ur)!==0&&(st.push(rt),Ve=rt)}if(st.length===1)return null;var tr=st[0],Ft=st[1];tt(tr,Ve,Ft)===0&&st.shift(),st.push(st[0]);for(var Jt=this.isExteriorRing()?1:-1,et=this.isExteriorRing()?0:st.length-1,gt=this.isExteriorRing()?st.length:-1,Et=[],Xt=et;Xt!=gt;Xt+=Jt)Et.push([st[Xt].x,st[Xt].y]);return Et}},{key:"isExteriorRing",value:function(){if(this._isExteriorRing===void 0){var Ve=this.enclosingRing();this._isExteriorRing=!Ve||!Ve.isExteriorRing()}return this._isExteriorRing}},{key:"enclosingRing",value:function(){return this._enclosingRing===void 0&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}},{key:"_calcEnclosingRing",value:function(){for(var Ve=this.events[0],st=1,it=this.events.length;st<it;st++){var Wt=this.events[st];pt.compare(Ve,Wt)>0&&(Ve=Wt)}for(var rt=Ve.segment.prevInResult(),ur=rt?rt.prevInResult():null;;){if(!rt)return null;if(!ur)return rt.ringOut;if(ur.ringOut!==rt.ringOut)return ur.ringOut.enclosingRing()!==rt.ringOut?rt.ringOut:rt.ringOut.enclosingRing();rt=ur.prevInResult(),ur=rt?rt.prevInResult():null}}}]),Je})(),Gt=(function(){function Je(Ve){M(this,Je),this.exteriorRing=Ve,Ve.poly=this,this.interiorRings=[]}return B(Je,[{key:"addInterior",value:function(Ve){this.interiorRings.push(Ve),Ve.poly=this}},{key:"getGeom",value:function(){var Ve=[this.exteriorRing.getGeom()];if(Ve[0]===null)return null;for(var st=0,it=this.interiorRings.length;st<it;st++){var Wt=this.interiorRings[st].getGeom();Wt!==null&&Ve.push(Wt)}return Ve}}]),Je})(),Bt=(function(){function Je(Ve){M(this,Je),this.rings=Ve,this.polys=this._composePolys(Ve)}return B(Je,[{key:"getGeom",value:function(){for(var Ve=[],st=0,it=this.polys.length;st<it;st++){var Wt=this.polys[st].getGeom();Wt!==null&&Ve.push(Wt)}return Ve}},{key:"_composePolys",value:function(Ve){for(var st=[],it=0,Wt=Ve.length;it<Wt;it++){var rt=Ve[it];if(!rt.poly)if(rt.isExteriorRing())st.push(new Gt(rt));else{var ur=rt.enclosingRing();ur.poly||st.push(new Gt(ur)),ur.poly.addInterior(rt)}}return st}}]),Je})(),Dt=(function(){function Je(Ve){var st=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Mt.compare;M(this,Je),this.queue=Ve,this.tree=new q(st),this.segments=[]}return B(Je,[{key:"process",value:function(Ve){var st=Ve.segment,it=[];if(Ve.consumedBy)return Ve.isLeft?this.queue.remove(Ve.otherSE):this.tree.remove(st),it;var Wt=Ve.isLeft?this.tree.insert(st):this.tree.find(st);if(!Wt)throw new Error("Unable to find segment #".concat(st.id," ")+"[".concat(st.leftSE.point.x,", ").concat(st.leftSE.point.y,"] -> ")+"[".concat(st.rightSE.point.x,", ").concat(st.rightSE.point.y,"] ")+"in SweepLine tree. Please submit a bug report.");for(var rt=Wt,ur=Wt,tr=void 0,Ft=void 0;tr===void 0;)(rt=this.tree.prev(rt))===null?tr=null:rt.key.consumedBy===void 0&&(tr=rt.key);for(;Ft===void 0;)(ur=this.tree.next(ur))===null?Ft=null:ur.key.consumedBy===void 0&&(Ft=ur.key);if(Ve.isLeft){var Jt=null;if(tr){var et=tr.getIntersection(st);if(et!==null&&(st.isAnEndpoint(et)||(Jt=et),!tr.isAnEndpoint(et)))for(var gt=this._splitSafely(tr,et),Et=0,Xt=gt.length;Et<Xt;Et++)it.push(gt[Et])}var mr=null;if(Ft){var Cr=Ft.getIntersection(st);if(Cr!==null&&(st.isAnEndpoint(Cr)||(mr=Cr),!Ft.isAnEndpoint(Cr)))for(var Dr=this._splitSafely(Ft,Cr),_n=0,In=Dr.length;_n<In;_n++)it.push(Dr[_n])}if(Jt!==null||mr!==null){var Fn;Fn=Jt===null?mr:mr===null||pt.comparePoints(Jt,mr)<=0?Jt:mr,this.queue.remove(st.rightSE),it.push(st.rightSE);for(var ti=st.split(Fn),Qn=0,vi=ti.length;Qn<vi;Qn++)it.push(ti[Qn])}it.length>0?(this.tree.remove(st),it.push(Ve)):(this.segments.push(st),st.prev=tr)}else{if(tr&&Ft){var wi=tr.getIntersection(Ft);if(wi!==null){if(!tr.isAnEndpoint(wi))for(var oi=this._splitSafely(tr,wi),Si=0,Gi=oi.length;Si<Gi;Si++)it.push(oi[Si]);if(!Ft.isAnEndpoint(wi))for(var ai=this._splitSafely(Ft,wi),zi=0,Ei=ai.length;zi<Ei;zi++)it.push(ai[zi])}}this.tree.remove(st)}return it}},{key:"_splitSafely",value:function(Ve,st){this.tree.remove(Ve);var it=Ve.rightSE;this.queue.remove(it);var Wt=Ve.split(st);return Wt.push(it),Ve.consumedBy===void 0&&this.tree.insert(Ve),Wt}}]),Je})(),Ct=b!==void 0&&b.env.POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,It=b!==void 0&&b.env.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6,lr=new((function(){function Je(){M(this,Je)}return B(Je,[{key:"run",value:function(Ve,st,it){lr.type=Ve,Be.reset();for(var Wt=[new dt(st,!0)],rt=0,ur=it.length;rt<ur;rt++)Wt.push(new dt(it[rt],!1));if(lr.numMultiPolys=Wt.length,lr.type==="difference")for(var tr=Wt[0],Ft=1;Ft<Wt.length;)ue(Wt[Ft].bbox,tr.bbox)!==null?Ft++:Wt.splice(Ft,1);if(lr.type==="intersection"){for(var Jt=0,et=Wt.length;Jt<et;Jt++)for(var gt=Wt[Jt],Et=Jt+1,Xt=Wt.length;Et<Xt;Et++)if(ue(gt.bbox,Wt[Et].bbox)===null)return[]}for(var mr=new q(pt.compare),Cr=0,Dr=Wt.length;Cr<Dr;Cr++)for(var _n=Wt[Cr].getSweepEvents(),In=0,Fn=_n.length;In<Fn;In++)if(mr.insert(_n[In]),mr.size>Ct)throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big). Please file a bug report.");for(var ti=new Dt(mr),Qn=mr.size,vi=mr.pop();vi;){var wi=vi.key;if(mr.size===Qn){var oi=wi.segment;throw new Error("Unable to pop() ".concat(wi.isLeft?"left":"right"," SweepEvent ")+"[".concat(wi.point.x,", ").concat(wi.point.y,"] from segment #").concat(oi.id," ")+"[".concat(oi.leftSE.point.x,", ").concat(oi.leftSE.point.y,"] -> ")+"[".concat(oi.rightSE.point.x,", ").concat(oi.rightSE.point.y,"] from queue. ")+"Please file a bug report.")}if(mr.size>Ct)throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big). Please file a bug report.");if(ti.segments.length>It)throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments). Please file a bug report.");for(var Si=ti.process(wi),Gi=0,ai=Si.length;Gi<ai;Gi++){var zi=Si[Gi];zi.consumedBy===void 0&&mr.insert(zi)}Qn=mr.size,vi=mr.pop()}Be.reset();var Ei=yt.factory(ti.segments);return new Bt(Ei).getGeom()}}]),Je})());return{union:function(Je){for(var Ve=arguments.length,st=new Array(Ve>1?Ve-1:0),it=1;it<Ve;it++)st[it-1]=arguments[it];return lr.run("union",Je,st)},intersection:function(Je){for(var Ve=arguments.length,st=new Array(Ve>1?Ve-1:0),it=1;it<Ve;it++)st[it-1]=arguments[it];return lr.run("intersection",Je,st)},xor:function(Je){for(var Ve=arguments.length,st=new Array(Ve>1?Ve-1:0),it=1;it<Ve;it++)st[it-1]=arguments[it];return lr.run("xor",Je,st)},difference:function(Je){for(var Ve=arguments.length,st=new Array(Ve>1?Ve-1:0),it=1;it<Ve;it++)st[it-1]=arguments[it];return lr.run("difference",Je,st)}}})()},4155:y=>{var x,r,b=y.exports={};function M(){throw new Error("setTimeout has not been defined")}function z(){throw new Error("clearTimeout has not been defined")}function B(J){if(x===setTimeout)return setTimeout(J,0);if((x===M||!x)&&setTimeout)return x=setTimeout,setTimeout(J,0);try{return x(J,0)}catch{try{return x.call(null,J,0)}catch{return x.call(this,J,0)}}}(function(){try{x=typeof setTimeout=="function"?setTimeout:M}catch{x=M}try{r=typeof clearTimeout=="function"?clearTimeout:z}catch{r=z}})();var R,I=[],O=!1,A=-1;function T(){O&&R&&(O=!1,R.length?I=R.concat(I):A=-1,I.length&&U())}function U(){if(!O){var J=B(T);O=!0;for(var te=I.length;te;){for(R=I,I=[];++A<te;)R&&R[A].run();A=-1,te=I.length}R=null,O=!1,(function(oe){if(r===clearTimeout)return clearTimeout(oe);if((r===z||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(oe);try{return r(oe)}catch{try{return r.call(null,oe)}catch{return r.call(this,oe)}}})(J)}}function q(J,te){this.fun=J,this.array=te}function K(){}b.nextTick=function(J){var te=new Array(arguments.length-1);if(arguments.length>1)for(var oe=1;oe<arguments.length;oe++)te[oe-1]=arguments[oe];I.push(new q(J,te)),I.length!==1||O||B(U)},q.prototype.run=function(){this.fun.apply(null,this.array)},b.title="browser",b.browser=!0,b.env={},b.argv=[],b.version="",b.versions={},b.on=K,b.addListener=K,b.once=K,b.off=K,b.removeListener=K,b.removeAllListeners=K,b.emit=K,b.prependListener=K,b.prependOnceListener=K,b.listeners=function(J){return[]},b.binding=function(J){throw new Error("process.binding is not supported")},b.cwd=function(){return"/"},b.chdir=function(J){throw new Error("process.chdir is not supported")},b.umask=function(){return 0}},4472:(y,x,r)=>{r.r(x),r.d(x,{default:()=>Li});var b=1,M=2,z=3,B=5,R=6378137,I=6356752314e-3,O=.0066943799901413165,A=484813681109536e-20,T=Math.PI/2,U=.16666666666666666,q=.04722222222222222,K=.022156084656084655,J=1e-10,te=.017453292519943295,oe=57.29577951308232,ue=Math.PI/4,fe=2*Math.PI,Le=3.14159265359,Ge={greenwich:0,lisbon:-9.131906111111,paris:2.337229166667,bogota:-74.080916666667,madrid:-3.687938888889,rome:12.452333333333,bern:7.439583333333,jakarta:106.807719444444,ferro:-17.666666666667,brussels:4.367975,stockholm:18.058277777778,athens:23.7163375,oslo:10.722916666667};const ze={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}};var je=/[\s_\-\/\(\)]/g;function Be(We,nt){if(We[nt])return We[nt];for(var ft,Rt=Object.keys(We),Lt=nt.toLowerCase().replace(je,""),Ut=-1;++Ut<Rt.length;)if((ft=Rt[Ut]).toLowerCase().replace(je,"")===Lt)return We[ft]}function _e(We){var nt,ft,Rt,Lt={},Ut=We.split("+").map((function(qt){return qt.trim()})).filter((function(qt){return qt})).reduce((function(qt,Tr){var Lr=Tr.split("=");return Lr.push(!0),qt[Lr[0].toLowerCase()]=Lr[1],qt}),{}),rr={proj:"projName",datum:"datumCode",rf:function(qt){Lt.rf=parseFloat(qt)},lat_0:function(qt){Lt.lat0=qt*te},lat_1:function(qt){Lt.lat1=qt*te},lat_2:function(qt){Lt.lat2=qt*te},lat_ts:function(qt){Lt.lat_ts=qt*te},lon_0:function(qt){Lt.long0=qt*te},lon_1:function(qt){Lt.long1=qt*te},lon_2:function(qt){Lt.long2=qt*te},alpha:function(qt){Lt.alpha=parseFloat(qt)*te},gamma:function(qt){Lt.rectified_grid_angle=parseFloat(qt)},lonc:function(qt){Lt.longc=qt*te},x_0:function(qt){Lt.x0=parseFloat(qt)},y_0:function(qt){Lt.y0=parseFloat(qt)},k_0:function(qt){Lt.k0=parseFloat(qt)},k:function(qt){Lt.k0=parseFloat(qt)},a:function(qt){Lt.a=parseFloat(qt)},b:function(qt){Lt.b=parseFloat(qt)},r_a:function(){Lt.R_A=!0},zone:function(qt){Lt.zone=parseInt(qt,10)},south:function(){Lt.utmSouth=!0},towgs84:function(qt){Lt.datum_params=qt.split(",").map((function(Tr){return parseFloat(Tr)}))},to_meter:function(qt){Lt.to_meter=parseFloat(qt)},units:function(qt){Lt.units=qt;var Tr=Be(ze,qt);Tr&&(Lt.to_meter=Tr.to_meter)},from_greenwich:function(qt){Lt.from_greenwich=qt*te},pm:function(qt){var Tr=Be(Ge,qt);Lt.from_greenwich=(Tr||parseFloat(qt))*te},nadgrids:function(qt){qt==="@null"?Lt.datumCode="none":Lt.nadgrids=qt},axis:function(qt){var Tr="ewnsud";qt.length===3&&Tr.indexOf(qt.substr(0,1))!==-1&&Tr.indexOf(qt.substr(1,1))!==-1&&Tr.indexOf(qt.substr(2,1))!==-1&&(Lt.axis=qt)},approx:function(){Lt.approx=!0}};for(nt in Ut)ft=Ut[nt],nt in rr?typeof(Rt=rr[nt])=="function"?Rt(ft):Lt[Rt]=ft:Lt[nt]=ft;return typeof Lt.datumCode=="string"&&Lt.datumCode!=="WGS84"&&(Lt.datumCode=Lt.datumCode.toLowerCase()),Lt}const He=function(We){return new ut(We).output()};var tt=1,Ke=/\s/,Ze=/[A-Za-z]/,Qe=/[A-Za-z84_]/,vt=/[,\]]/,pt=/[\d\.E\-\+]/;function ut(We){if(typeof We!="string")throw new Error("not a string");this.text=We.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=tt}function Mt(We,nt,ft){Array.isArray(nt)&&(ft.unshift(nt),nt=null);var Rt=nt?{}:We,Lt=ft.reduce((function(Ut,rr){return bt(rr,Ut),Ut}),Rt);nt&&(We[nt]=Lt)}function bt(We,nt){if(Array.isArray(We)){var ft=We.shift();if(ft==="PARAMETER"&&(ft=We.shift()),We.length===1)return Array.isArray(We[0])?(nt[ft]={},void bt(We[0],nt[ft])):void(nt[ft]=We[0]);if(We.length)if(ft!=="TOWGS84"){if(ft==="AXIS")return ft in nt||(nt[ft]=[]),void nt[ft].push(We);var Rt;switch(Array.isArray(ft)||(nt[ft]={}),ft){case"UNIT":case"PRIMEM":case"VERT_DATUM":return nt[ft]={name:We[0].toLowerCase(),convert:We[1]},void(We.length===3&&bt(We[2],nt[ft]));case"SPHEROID":case"ELLIPSOID":return nt[ft]={name:We[0],a:We[1],rf:We[2]},void(We.length===4&&bt(We[3],nt[ft]));case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":return We[0]=["name",We[0]],void Mt(nt,ft,We);default:for(Rt=-1;++Rt<We.length;)if(!Array.isArray(We[Rt]))return bt(We,nt[ft]);return Mt(nt,ft,We)}}else nt[ft]=We;else nt[ft]=!0}else nt[We]=!0}ut.prototype.readCharicter=function(){var We=this.text[this.place++];if(this.state!==4)for(;Ke.test(We);){if(this.place>=this.text.length)return;We=this.text[this.place++]}switch(this.state){case tt:return this.neutral(We);case 2:return this.keyword(We);case 4:return this.quoted(We);case 5:return this.afterquote(We);case 3:return this.number(We);case-1:return}},ut.prototype.afterquote=function(We){if(We==='"')return this.word+='"',void(this.state=4);if(vt.test(We))return this.word=this.word.trim(),void this.afterItem(We);throw new Error(`havn't handled "`+We+'" in afterquote yet, index '+this.place)},ut.prototype.afterItem=function(We){return We===","?(this.word!==null&&this.currentObject.push(this.word),this.word=null,void(this.state=tt)):We==="]"?(this.level--,this.word!==null&&(this.currentObject.push(this.word),this.word=null),this.state=tt,this.currentObject=this.stack.pop(),void(this.currentObject||(this.state=-1))):void 0},ut.prototype.number=function(We){if(!pt.test(We)){if(vt.test(We))return this.word=parseFloat(this.word),void this.afterItem(We);throw new Error(`havn't handled "`+We+'" in number yet, index '+this.place)}this.word+=We},ut.prototype.quoted=function(We){We!=='"'?this.word+=We:this.state=5},ut.prototype.keyword=function(We){if(Qe.test(We))this.word+=We;else{if(We==="["){var nt=[];return nt.push(this.word),this.level++,this.root===null?this.root=nt:this.currentObject.push(nt),this.stack.push(this.currentObject),this.currentObject=nt,void(this.state=tt)}if(!vt.test(We))throw new Error(`havn't handled "`+We+'" in keyword yet, index '+this.place);this.afterItem(We)}},ut.prototype.neutral=function(We){if(Ze.test(We))return this.word=We,void(this.state=2);if(We==='"')return this.word="",void(this.state=4);if(pt.test(We))return this.word=We,void(this.state=3);if(!vt.test(We))throw new Error(`havn't handled "`+We+'" in neutral yet, index '+this.place);this.afterItem(We)},ut.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(this.state===-1)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};var ar=.017453292519943295;function dt(We){return We*ar}function yt(We){var nt=He(We),ft=nt.shift(),Rt=nt.shift();nt.unshift(["name",Rt]),nt.unshift(["type",ft]);var Lt={};return bt(nt,Lt),(function(Ut){if(Ut.type==="GEOGCS"?Ut.projName="longlat":Ut.type==="LOCAL_CS"?(Ut.projName="identity",Ut.local=!0):typeof Ut.PROJECTION=="object"?Ut.projName=Object.keys(Ut.PROJECTION)[0]:Ut.projName=Ut.PROJECTION,Ut.AXIS){for(var rr="",qt=0,Tr=Ut.AXIS.length;qt<Tr;++qt){var Lr=[Ut.AXIS[qt][0].toLowerCase(),Ut.AXIS[qt][1].toLowerCase()];Lr[0].indexOf("north")!==-1||(Lr[0]==="y"||Lr[0]==="lat")&&Lr[1]==="north"?rr+="n":Lr[0].indexOf("south")!==-1||(Lr[0]==="y"||Lr[0]==="lat")&&Lr[1]==="south"?rr+="s":Lr[0].indexOf("east")!==-1||(Lr[0]==="x"||Lr[0]==="lon")&&Lr[1]==="east"?rr+="e":Lr[0].indexOf("west")===-1&&(Lr[0]!=="x"&&Lr[0]!=="lon"||Lr[1]!=="west")||(rr+="w")}rr.length===2&&(rr+="u"),rr.length===3&&(Ut.axis=rr)}Ut.UNIT&&(Ut.units=Ut.UNIT.name.toLowerCase(),Ut.units==="metre"&&(Ut.units="meter"),Ut.UNIT.convert&&(Ut.type==="GEOGCS"?Ut.DATUM&&Ut.DATUM.SPHEROID&&(Ut.to_meter=Ut.UNIT.convert*Ut.DATUM.SPHEROID.a):Ut.to_meter=Ut.UNIT.convert));var zr=Ut.GEOGCS;function rn(mn){return mn*(Ut.to_meter||1)}Ut.type==="GEOGCS"&&(zr=Ut),zr&&(zr.DATUM?Ut.datumCode=zr.DATUM.name.toLowerCase():Ut.datumCode=zr.name.toLowerCase(),Ut.datumCode.slice(0,2)==="d_"&&(Ut.datumCode=Ut.datumCode.slice(2)),Ut.datumCode!=="new_zealand_geodetic_datum_1949"&&Ut.datumCode!=="new_zealand_1949"||(Ut.datumCode="nzgd49"),Ut.datumCode!=="wgs_1984"&&Ut.datumCode!=="world_geodetic_system_1984"||(Ut.PROJECTION==="Mercator_Auxiliary_Sphere"&&(Ut.sphere=!0),Ut.datumCode="wgs84"),Ut.datumCode.slice(-6)==="_ferro"&&(Ut.datumCode=Ut.datumCode.slice(0,-6)),Ut.datumCode.slice(-8)==="_jakarta"&&(Ut.datumCode=Ut.datumCode.slice(0,-8)),~Ut.datumCode.indexOf("belge")&&(Ut.datumCode="rnb72"),zr.DATUM&&zr.DATUM.SPHEROID&&(Ut.ellps=zr.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),Ut.ellps.toLowerCase().slice(0,13)==="international"&&(Ut.ellps="intl"),Ut.a=zr.DATUM.SPHEROID.a,Ut.rf=parseFloat(zr.DATUM.SPHEROID.rf,10)),zr.DATUM&&zr.DATUM.TOWGS84&&(Ut.datum_params=zr.DATUM.TOWGS84),~Ut.datumCode.indexOf("osgb_1936")&&(Ut.datumCode="osgb36"),~Ut.datumCode.indexOf("osni_1952")&&(Ut.datumCode="osni52"),(~Ut.datumCode.indexOf("tm65")||~Ut.datumCode.indexOf("geodetic_datum_of_1965"))&&(Ut.datumCode="ire65"),Ut.datumCode==="ch1903+"&&(Ut.datumCode="ch1903"),~Ut.datumCode.indexOf("israel")&&(Ut.datumCode="isr93")),Ut.b&&!isFinite(Ut.b)&&(Ut.b=Ut.a),[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",dt],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",dt],["x0","false_easting",rn],["y0","false_northing",rn],["long0","central_meridian",dt],["lat0","latitude_of_origin",dt],["lat0","standard_parallel_1",dt],["lat1","standard_parallel_1",dt],["lat2","standard_parallel_2",dt],["azimuth","Azimuth"],["alpha","azimuth",dt],["srsCode","name"]].forEach((function(mn){return(function(on,Cn){var dn=Cn[0],$n=Cn[1];!(dn in on)&&$n in on&&(on[dn]=on[$n],Cn.length===3&&(on[dn]=Cn[2](on[dn])))})(Ut,mn)})),Ut.long0||!Ut.longc||Ut.projName!=="Albers_Conic_Equal_Area"&&Ut.projName!=="Lambert_Azimuthal_Equal_Area"||(Ut.long0=Ut.longc),Ut.lat_ts||!Ut.lat1||Ut.projName!=="Stereographic_South_Pole"&&Ut.projName!=="Polar Stereographic (variant B)"||(Ut.lat0=dt(Ut.lat1>0?90:-90),Ut.lat_ts=Ut.lat1)})(Lt),Lt}var Gt=r(5108);function Bt(We){var nt=this;if(arguments.length===2){var ft=arguments[1];typeof ft=="string"?ft.charAt(0)==="+"?Bt[We]=_e(arguments[1]):Bt[We]=yt(arguments[1]):Bt[We]=ft}else if(arguments.length===1){if(Array.isArray(We))return We.map((function(Rt){Array.isArray(Rt)?Bt.apply(nt,Rt):Bt(Rt)}));if(typeof We=="string"){if(We in Bt)return Bt[We]}else"EPSG"in We?Bt["EPSG:"+We.EPSG]=We:"ESRI"in We?Bt["ESRI:"+We.ESRI]=We:"IAU2000"in We?Bt["IAU2000:"+We.IAU2000]=We:Gt.log(We);return}}(function(We){We("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),We("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),We("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),We.WGS84=We["EPSG:4326"],We["EPSG:3785"]=We["EPSG:3857"],We.GOOGLE=We["EPSG:3857"],We["EPSG:900913"]=We["EPSG:3857"],We["EPSG:102113"]=We["EPSG:3857"]})(Bt);const Dt=Bt;var Ct=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"],It=["3857","900913","3785","102113"];const lr=function(We){if(!(function(Rt){return typeof Rt=="string"})(We))return We;if((function(Rt){return Rt in Dt})(We))return Dt[We];if((function(Rt){return Ct.some((function(Lt){return Rt.indexOf(Lt)>-1}))})(We)){var nt=yt(We);if((function(Rt){var Lt=Be(Rt,"authority");if(Lt){var Ut=Be(Lt,"epsg");return Ut&&It.indexOf(Ut)>-1}})(nt))return Dt["EPSG:3857"];var ft=(function(Rt){var Lt=Be(Rt,"extension");if(Lt)return Be(Lt,"proj4")})(nt);return ft?_e(ft):nt}return(function(Rt){return Rt[0]==="+"})(We)?_e(We):void 0};function Je(We,nt){var ft,Rt;if(We=We||{},!nt)return We;for(Rt in nt)(ft=nt[Rt])!==void 0&&(We[Rt]=ft);return We}function Ve(We,nt,ft){var Rt=We*nt;return ft/Math.sqrt(1-Rt*Rt)}function st(We){return We<0?-1:1}function it(We){return Math.abs(We)<=Le?We:We-st(We)*fe}function Wt(We,nt,ft){var Rt=We*ft,Lt=.5*We;return Rt=Math.pow((1-Rt)/(1+Rt),Lt),Math.tan(.5*(T-nt))/Rt}function rt(We,nt){for(var ft,Rt,Lt=.5*We,Ut=T-2*Math.atan(nt),rr=0;rr<=15;rr++)if(ft=We*Math.sin(Ut),Ut+=Rt=T-2*Math.atan(nt*Math.pow((1-ft)/(1+ft),Lt))-Ut,Math.abs(Rt)<=1e-10)return Ut;return-9999}const ur={init:function(){var We=this.b/this.a;this.es=1-We*We,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=Ve(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)},forward:function(We){var nt,ft,Rt=We.x,Lt=We.y;if(Lt*oe>90&&Lt*oe<-90&&Rt*oe>180&&Rt*oe<-180||Math.abs(Math.abs(Lt)-T)<=J)return null;if(this.sphere)nt=this.x0+this.a*this.k0*it(Rt-this.long0),ft=this.y0+this.a*this.k0*Math.log(Math.tan(ue+.5*Lt));else{var Ut=Math.sin(Lt),rr=Wt(this.e,Lt,Ut);nt=this.x0+this.a*this.k0*it(Rt-this.long0),ft=this.y0-this.a*this.k0*Math.log(rr)}return We.x=nt,We.y=ft,We},inverse:function(We){var nt,ft,Rt=We.x-this.x0,Lt=We.y-this.y0;if(this.sphere)ft=T-2*Math.atan(Math.exp(-Lt/(this.a*this.k0)));else{var Ut=Math.exp(-Lt/(this.a*this.k0));if((ft=rt(this.e,Ut))===-9999)return null}return nt=it(this.long0+Rt/(this.a*this.k0)),We.x=nt,We.y=ft,We},names:["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"]};function tr(We){return We}const Ft={init:function(){},forward:tr,inverse:tr,names:["longlat","identity"]};var Jt=r(5108),et=[ur,Ft],gt={},Et=[];function Xt(We,nt){var ft=Et.length;return We.names?(Et[ft]=We,We.names.forEach((function(Rt){gt[Rt.toLowerCase()]=ft})),this):(Jt.log(nt),!0)}const mr={start:function(){et.forEach(Xt)},add:Xt,get:function(We){if(!We)return!1;var nt=We.toLowerCase();return gt[nt]!==void 0&&Et[gt[nt]]?Et[gt[nt]]:void 0}};var Cr={MERIT:{a:6378137,rf:298.257,ellipseName:"MERIT 1983"},SGS85:{a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},GRS80:{a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},IAU76:{a:6378140,rf:298.257,ellipseName:"IAU 1976"},airy:{a:6377563396e-3,b:635625691e-2,ellipseName:"Airy 1830"},APL4:{a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},NWL9D:{a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},mod_airy:{a:6377340189e-3,b:6356034446e-3,ellipseName:"Modified Airy"},andrae:{a:637710443e-2,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},aust_SA:{a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},GRS67:{a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},bessel:{a:6377397155e-3,rf:299.1528128,ellipseName:"Bessel 1841"},bess_nam:{a:6377483865e-3,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},clrk66:{a:63782064e-1,b:63565838e-1,ellipseName:"Clarke 1866"},clrk80:{a:6378249145e-3,rf:293.4663,ellipseName:"Clarke 1880 mod."},clrk58:{a:6378293645208759e-9,rf:294.2606763692654,ellipseName:"Clarke 1858"},CPM:{a:63757387e-1,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},delmbr:{a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},engelis:{a:637813605e-2,rf:298.2566,ellipseName:"Engelis 1985"},evrst30:{a:6377276345e-3,rf:300.8017,ellipseName:"Everest 1830"},evrst48:{a:6377304063e-3,rf:300.8017,ellipseName:"Everest 1948"},evrst56:{a:6377301243e-3,rf:300.8017,ellipseName:"Everest 1956"},evrst69:{a:6377295664e-3,rf:300.8017,ellipseName:"Everest 1969"},evrstSS:{a:6377298556e-3,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},fschr60:{a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},fschr60m:{a:6378155,rf:298.3,ellipseName:"Fischer 1960"},fschr68:{a:6378150,rf:298.3,ellipseName:"Fischer 1968"},helmert:{a:6378200,rf:298.3,ellipseName:"Helmert 1906"},hough:{a:6378270,rf:297,ellipseName:"Hough"},intl:{a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},kaula:{a:6378163,rf:298.24,ellipseName:"Kaula 1961"},lerch:{a:6378139,rf:298.257,ellipseName:"Lerch 1979"},mprts:{a:6397300,rf:191,ellipseName:"Maupertius 1738"},new_intl:{a:63781575e-1,b:63567722e-1,ellipseName:"New International 1967"},plessis:{a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},krass:{a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},SEasia:{a:6378155,b:63567733205e-4,ellipseName:"Southeast Asia"},walbeck:{a:6376896,b:63558348467e-4,ellipseName:"Walbeck"},WGS60:{a:6378165,rf:298.3,ellipseName:"WGS 60"},WGS66:{a:6378145,rf:298.25,ellipseName:"WGS 66"},WGS7:{a:6378135,rf:298.26,ellipseName:"WGS 72"}},Dr=Cr.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};Cr.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};var _n={wgs84:{towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},ch1903:{towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},ggrs87:{towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},nad83:{towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},nad27:{nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},potsdam:{towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},carthage:{towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},hermannskogel:{towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"},osni52:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},ire65:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},rassadiran:{towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},nzgd49:{towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},osgb36:{towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},s_jtsk:{towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},beduaram:{towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},gunung_segara:{towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},rnb72:{towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"}};const In=function(We,nt,ft,Rt,Lt,Ut,rr){var qt={};return qt.datum_type=We===void 0||We==="none"?B:4,nt&&(qt.datum_params=nt.map(parseFloat),qt.datum_params[0]===0&&qt.datum_params[1]===0&&qt.datum_params[2]===0||(qt.datum_type=b),qt.datum_params.length>3&&(qt.datum_params[3]===0&&qt.datum_params[4]===0&&qt.datum_params[5]===0&&qt.datum_params[6]===0||(qt.datum_type=M,qt.datum_params[3]*=A,qt.datum_params[4]*=A,qt.datum_params[5]*=A,qt.datum_params[6]=qt.datum_params[6]/1e6+1))),rr&&(qt.datum_type=z,qt.grids=rr),qt.a=ft,qt.b=Rt,qt.es=Lt,qt.ep2=Ut,qt};var Fn=r(5108),ti={};function Qn(We){if(We.length===0)return null;var nt=We[0]==="@";return nt&&(We=We.slice(1)),We==="null"?{name:"null",mandatory:!nt,grid:null,isNull:!0}:{name:We,mandatory:!nt,grid:ti[We]||null,isNull:!1}}function vi(We){return We/3600*Math.PI/180}function wi(We,nt,ft){return String.fromCharCode.apply(null,new Uint8Array(We.buffer.slice(nt,ft)))}function oi(We){return We.map((function(nt){return[vi(nt.longitudeShift),vi(nt.latitudeShift)]}))}function Si(We,nt,ft){return{name:wi(We,nt+8,nt+16).trim(),parent:wi(We,nt+24,nt+24+8).trim(),lowerLatitude:We.getFloat64(nt+72,ft),upperLatitude:We.getFloat64(nt+88,ft),lowerLongitude:We.getFloat64(nt+104,ft),upperLongitude:We.getFloat64(nt+120,ft),latitudeInterval:We.getFloat64(nt+136,ft),longitudeInterval:We.getFloat64(nt+152,ft),gridNodeCount:We.getInt32(nt+168,ft)}}function Gi(We,nt,ft,Rt){for(var Lt=nt+176,Ut=[],rr=0;rr<ft.gridNodeCount;rr++){var qt={latitudeShift:We.getFloat32(Lt+16*rr,Rt),longitudeShift:We.getFloat32(Lt+16*rr+4,Rt),latitudeAccuracy:We.getFloat32(Lt+16*rr+8,Rt),longitudeAccuracy:We.getFloat32(Lt+16*rr+12,Rt)};Ut.push(qt)}return Ut}function ai(We,nt){if(!(this instanceof ai))return new ai(We);nt=nt||function(dn){if(dn)throw dn};var ft=lr(We);if(typeof ft=="object"){var Rt=ai.projections.get(ft.projName);if(Rt){if(ft.datumCode&&ft.datumCode!=="none"){var Lt=Be(_n,ft.datumCode);Lt&&(ft.datum_params=ft.datum_params||(Lt.towgs84?Lt.towgs84.split(","):null),ft.ellps=Lt.ellipse,ft.datumName=Lt.datumName?Lt.datumName:ft.datumCode)}ft.k0=ft.k0||1,ft.axis=ft.axis||"enu",ft.ellps=ft.ellps||"wgs84",ft.lat1=ft.lat1||ft.lat0;var Ut,rr,qt,Tr,Lr,zr,rn=(function(dn,$n,Rn,ni,_i){if(!dn){var di=Be(Cr,ni);di||(di=Dr),dn=di.a,$n=di.b,Rn=di.rf}return Rn&&!$n&&($n=(1-1/Rn)*dn),(Rn===0||Math.abs(dn-$n)<J)&&(_i=!0,$n=dn),{a:dn,b:$n,rf:Rn,sphere:_i}})(ft.a,ft.b,ft.rf,ft.ellps,ft.sphere),mn=(Ut=rn.a,rr=rn.b,rn.rf,Lr=((qt=Ut*Ut)-(Tr=rr*rr))/qt,zr=0,ft.R_A?(qt=(Ut*=1-Lr*(U+Lr*(q+Lr*K)))*Ut,Lr=0):zr=Math.sqrt(Lr),{es:Lr,e:zr,ep2:(qt-Tr)/Tr}),on=(function(dn){return dn===void 0?null:dn.split(",").map(Qn)})(ft.nadgrids),Cn=ft.datum||In(ft.datumCode,ft.datum_params,rn.a,rn.b,mn.es,mn.ep2,on);Je(this,ft),Je(this,Rt),this.a=rn.a,this.b=rn.b,this.rf=rn.rf,this.sphere=rn.sphere,this.es=mn.es,this.e=mn.e,this.ep2=mn.ep2,this.datum=Cn,this.init(),nt(null,this)}else nt(We)}else nt(We)}ai.projections=mr,ai.projections.start();const zi=ai;function Ei(We,nt,ft){var Rt,Lt,Ut,rr,qt=We.x,Tr=We.y,Lr=We.z?We.z:0;if(Tr<-T&&Tr>-1.001*T)Tr=-T;else if(Tr>T&&Tr<1.001*T)Tr=T;else{if(Tr<-T)return{x:-1/0,y:-1/0,z:We.z};if(Tr>T)return{x:1/0,y:1/0,z:We.z}}return qt>Math.PI&&(qt-=2*Math.PI),Lt=Math.sin(Tr),rr=Math.cos(Tr),Ut=Lt*Lt,{x:((Rt=ft/Math.sqrt(1-nt*Ut))+Lr)*rr*Math.cos(qt),y:(Rt+Lr)*rr*Math.sin(qt),z:(Rt*(1-nt)+Lr)*Lt}}function fa(We,nt,ft,Rt){var Lt,Ut,rr,qt,Tr,Lr,zr,rn,mn,on,Cn,dn,$n,Rn,ni,_i=We.x,di=We.y,Pi=We.z?We.z:0;if(Lt=Math.sqrt(_i*_i+di*di),Ut=Math.sqrt(_i*_i+di*di+Pi*Pi),Lt/ft<1e-12){if(Rn=0,Ut/ft<1e-12)return ni=-Rt,{x:We.x,y:We.y,z:We.z}}else Rn=Math.atan2(di,_i);rr=Pi/Ut,rn=(qt=Lt/Ut)*(1-nt)*(Tr=1/Math.sqrt(1-nt*(2-nt)*qt*qt)),mn=rr*Tr,$n=0;do $n++,Lr=nt*(zr=ft/Math.sqrt(1-nt*mn*mn))/(zr+(ni=Lt*rn+Pi*mn-zr*(1-nt*mn*mn))),dn=(Cn=rr*(Tr=1/Math.sqrt(1-Lr*(2-Lr)*qt*qt)))*rn-(on=qt*(1-Lr)*Tr)*mn,rn=on,mn=Cn;while(dn*dn>1e-24&&$n<30);return{x:Rn,y:Math.atan(Cn/Math.abs(on)),z:ni}}var Vn=r(5108);function ha(We){return We===b||We===M}function Na(We,nt,ft){if(We.grids===null||We.grids.length===0)return Vn.log("Grid shift grids not found"),-1;for(var Rt={x:-ft.x,y:ft.y},Lt={x:Number.NaN,y:Number.NaN},Ut=[],rr=0;rr<We.grids.length;rr++){var qt=We.grids[rr];if(Ut.push(qt.name),qt.isNull){Lt=Rt;break}if(qt.mandatory,qt.grid!==null){var Tr=qt.grid.subgrids[0],Lr=(Math.abs(Tr.del[1])+Math.abs(Tr.del[0]))/1e4,zr=Tr.ll[0]-Lr,rn=Tr.ll[1]-Lr,mn=Tr.ll[0]+(Tr.lim[0]-1)*Tr.del[0]+Lr,on=Tr.ll[1]+(Tr.lim[1]-1)*Tr.del[1]+Lr;if(!(rn>Rt.y||zr>Rt.x||on<Rt.y||mn<Rt.x||(Lt=wt(Rt,nt,Tr),isNaN(Lt.x))))break}else if(qt.mandatory)return Vn.log("Unable to find mandatory grid '"+qt.name+"'"),-1}return isNaN(Lt.x)?(Vn.log("Failed to find a grid shift table for location '"+-Rt.x*oe+" "+Rt.y*oe+" tried: '"+Ut+"'"),-1):(ft.x=-Lt.x,ft.y=Lt.y,0)}function wt(We,nt,ft){var Rt={x:Number.NaN,y:Number.NaN};if(isNaN(We.x))return Rt;var Lt={x:We.x,y:We.y};Lt.x-=ft.ll[0],Lt.y-=ft.ll[1],Lt.x=it(Lt.x-Math.PI)+Math.PI;var Ut=_t(Lt,ft);if(nt){if(isNaN(Ut.x))return Rt;Ut.x=Lt.x-Ut.x,Ut.y=Lt.y-Ut.y;var rr,qt,Tr=9;do{if(qt=_t(Ut,ft),isNaN(qt.x)){Vn.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}rr={x:Lt.x-(qt.x+Ut.x),y:Lt.y-(qt.y+Ut.y)},Ut.x+=rr.x,Ut.y+=rr.y}while(Tr--&&Math.abs(rr.x)>1e-12&&Math.abs(rr.y)>1e-12);if(Tr<0)return Vn.log("Inverse grid shift iterator failed to converge."),Rt;Rt.x=it(Ut.x+ft.ll[0]),Rt.y=Ut.y+ft.ll[1]}else isNaN(Ut.x)||(Rt.x=We.x+Ut.x,Rt.y=We.y+Ut.y);return Rt}function _t(We,nt){var ft,Rt={x:We.x/nt.del[0],y:We.y/nt.del[1]},Lt=Math.floor(Rt.x),Ut=Math.floor(Rt.y),rr=Rt.x-1*Lt,qt=Rt.y-1*Ut,Tr={x:Number.NaN,y:Number.NaN};if(Lt<0||Lt>=nt.lim[0]||Ut<0||Ut>=nt.lim[1])return Tr;ft=Ut*nt.lim[0]+Lt;var Lr=nt.cvs[ft][0],zr=nt.cvs[ft][1];ft++;var rn=nt.cvs[ft][0],mn=nt.cvs[ft][1];ft+=nt.lim[0];var on=nt.cvs[ft][0],Cn=nt.cvs[ft][1];ft--;var dn=nt.cvs[ft][0],$n=nt.cvs[ft][1],Rn=rr*qt,ni=rr*(1-qt),_i=(1-rr)*(1-qt),di=(1-rr)*qt;return Tr.x=_i*Lr+ni*rn+di*dn+Rn*on,Tr.y=_i*zr+ni*mn+di*$n+Rn*Cn,Tr}function jt(We,nt,ft){var Rt,Lt,Ut,rr=ft.x,qt=ft.y,Tr=ft.z||0,Lr={};for(Ut=0;Ut<3;Ut++)if(!nt||Ut!==2||ft.z!==void 0)switch(Ut===0?(Rt=rr,Lt="ew".indexOf(We.axis[Ut])!==-1?"x":"y"):Ut===1?(Rt=qt,Lt="ns".indexOf(We.axis[Ut])!==-1?"y":"x"):(Rt=Tr,Lt="z"),We.axis[Ut]){case"e":case"n":Lr[Lt]=Rt;break;case"w":case"s":Lr[Lt]=-Rt;break;case"u":ft[Lt]!==void 0&&(Lr.z=Rt);break;case"d":ft[Lt]!==void 0&&(Lr.z=-Rt);break;default:return null}return Lr}function nr(We){var nt={x:We[0],y:We[1]};return We.length>2&&(nt.z=We[2]),We.length>3&&(nt.m=We[3]),nt}function Yt(We){if(typeof Number.isFinite=="function"){if(Number.isFinite(We))return;throw new TypeError("coordinates must be finite numbers")}if(typeof We!="number"||We!=We||!isFinite(We))throw new TypeError("coordinates must be finite numbers")}function Nr(We,nt,ft,Rt){var Lt;if(Array.isArray(ft)&&(ft=nr(ft)),(function(Ut){Yt(Ut.x),Yt(Ut.y)})(ft),We.datum&&nt.datum&&(function(Ut,rr){return(Ut.datum.datum_type===b||Ut.datum.datum_type===M)&&rr.datumCode!=="WGS84"||(rr.datum.datum_type===b||rr.datum.datum_type===M)&&Ut.datumCode!=="WGS84"})(We,nt)&&(ft=Nr(We,Lt=new zi("WGS84"),ft,Rt),We=Lt),Rt&&We.axis!=="enu"&&(ft=jt(We,!1,ft)),We.projName==="longlat")ft={x:ft.x*te,y:ft.y*te,z:ft.z||0};else if(We.to_meter&&(ft={x:ft.x*We.to_meter,y:ft.y*We.to_meter,z:ft.z||0}),!(ft=We.inverse(ft)))return;if(We.from_greenwich&&(ft.x+=We.from_greenwich),ft=(function(Ut,rr,qt){if((function(on,Cn){return on.datum_type===Cn.datum_type&&!(on.a!==Cn.a||Math.abs(on.es-Cn.es)>5e-11)&&(on.datum_type===b?on.datum_params[0]===Cn.datum_params[0]&&on.datum_params[1]===Cn.datum_params[1]&&on.datum_params[2]===Cn.datum_params[2]:on.datum_type!==M||on.datum_params[0]===Cn.datum_params[0]&&on.datum_params[1]===Cn.datum_params[1]&&on.datum_params[2]===Cn.datum_params[2]&&on.datum_params[3]===Cn.datum_params[3]&&on.datum_params[4]===Cn.datum_params[4]&&on.datum_params[5]===Cn.datum_params[5]&&on.datum_params[6]===Cn.datum_params[6])})(Ut,rr)||Ut.datum_type===B||rr.datum_type===B)return qt;var Tr=Ut.a,Lr=Ut.es;if(Ut.datum_type===z){if(Na(Ut,!1,qt)!==0)return;Tr=R,Lr=O}var zr=rr.a,rn=rr.b,mn=rr.es;return rr.datum_type===z&&(zr=R,rn=I,mn=O),Lr!==mn||Tr!==zr||ha(Ut.datum_type)||ha(rr.datum_type)?(qt=Ei(qt,Lr,Tr),ha(Ut.datum_type)&&(qt=(function(on,Cn,dn){if(Cn===b)return{x:on.x+dn[0],y:on.y+dn[1],z:on.z+dn[2]};if(Cn===M){var $n=dn[0],Rn=dn[1],ni=dn[2],_i=dn[3],di=dn[4],Pi=dn[5],Ki=dn[6];return{x:Ki*(on.x-Pi*on.y+di*on.z)+$n,y:Ki*(Pi*on.x+on.y-_i*on.z)+Rn,z:Ki*(-di*on.x+_i*on.y+on.z)+ni}}})(qt,Ut.datum_type,Ut.datum_params)),ha(rr.datum_type)&&(qt=(function(on,Cn,dn){if(Cn===b)return{x:on.x-dn[0],y:on.y-dn[1],z:on.z-dn[2]};if(Cn===M){var $n=dn[0],Rn=dn[1],ni=dn[2],_i=dn[3],di=dn[4],Pi=dn[5],Ki=dn[6],eo=(on.x-$n)/Ki,La=(on.y-Rn)/Ki,Pa=(on.z-ni)/Ki;return{x:eo+Pi*La-di*Pa,y:-Pi*eo+La+_i*Pa,z:di*eo-_i*La+Pa}}})(qt,rr.datum_type,rr.datum_params)),qt=fa(qt,mn,zr,rn),rr.datum_type!==z||Na(rr,!0,qt)===0?qt:void 0):qt})(We.datum,nt.datum,ft))return nt.from_greenwich&&(ft={x:ft.x-nt.from_greenwich,y:ft.y,z:ft.z||0}),nt.projName==="longlat"?ft={x:ft.x*oe,y:ft.y*oe,z:ft.z||0}:(ft=nt.forward(ft),nt.to_meter&&(ft={x:ft.x/nt.to_meter,y:ft.y/nt.to_meter,z:ft.z||0})),Rt&&nt.axis!=="enu"?jt(nt,!0,ft):ft}var Gr=zi("WGS84");function Vr(We,nt,ft,Rt){var Lt,Ut,rr;return Array.isArray(ft)?(Lt=Nr(We,nt,ft,Rt)||{x:NaN,y:NaN},ft.length>2?We.name!==void 0&&We.name==="geocent"||nt.name!==void 0&&nt.name==="geocent"?typeof Lt.z=="number"?[Lt.x,Lt.y,Lt.z].concat(ft.splice(3)):[Lt.x,Lt.y,ft[2]].concat(ft.splice(3)):[Lt.x,Lt.y].concat(ft.splice(2)):[Lt.x,Lt.y]):(Ut=Nr(We,nt,ft,Rt),(rr=Object.keys(ft)).length===2||rr.forEach((function(qt){if(We.name!==void 0&&We.name==="geocent"||nt.name!==void 0&&nt.name==="geocent"){if(qt==="x"||qt==="y"||qt==="z")return}else if(qt==="x"||qt==="y")return;Ut[qt]=ft[qt]})),Ut)}function Mn(We){return We instanceof zi?We:We.oProj?We.oProj:zi(We)}const hn=function(We,nt,ft){We=Mn(We);var Rt,Lt=!1;return nt===void 0?(nt=We,We=Gr,Lt=!0):(nt.x!==void 0||Array.isArray(nt))&&(ft=nt,nt=We,We=Gr,Lt=!0),nt=Mn(nt),ft?Vr(We,nt,ft):(Rt={forward:function(Ut,rr){return Vr(We,nt,Ut,rr)},inverse:function(Ut,rr){return Vr(nt,We,Ut,rr)}},Lt&&(Rt.oProj=nt),Rt)};var vn=6,Dn="AJSAJS",kn="AFAFAF",Zt=65,_r=73,fr=79,pr=86,gr=90;const Ar={forward:Xr,inverse:function(We){var nt=$r(zn(We.toUpperCase()));return nt.lat&&nt.lon?[nt.lon,nt.lat,nt.lon,nt.lat]:[nt.left,nt.bottom,nt.right,nt.top]},toPoint:cn};function Xr(We,nt){return nt=nt||5,(function(ft,Rt){var Lt,Ut,rr,qt,Tr,Lr,zr,rn,mn,on,Cn,dn="00000"+ft.easting,$n="00000"+ft.northing;return ft.zoneNumber+ft.zoneLetter+(mn=ft.easting,on=ft.northing,Cn=Bn(ft.zoneNumber),Lt=Math.floor(mn/1e5),Ut=Math.floor(on/1e5)%20,rr=Cn-1,qt=Dn.charCodeAt(rr),Tr=kn.charCodeAt(rr),rn=!1,(Lr=qt+Lt-1)>gr&&(Lr=Lr-gr+Zt-1,rn=!0),(Lr===_r||qt<_r&&Lr>_r||(Lr>_r||qt<_r)&&rn)&&Lr++,(Lr===fr||qt<fr&&Lr>fr||(Lr>fr||qt<fr)&&rn)&&++Lr===_r&&Lr++,Lr>gr&&(Lr=Lr-gr+Zt-1),(zr=Tr+Ut)>pr?(zr=zr-pr+Zt-1,rn=!0):rn=!1,(zr===_r||Tr<_r&&zr>_r||(zr>_r||Tr<_r)&&rn)&&zr++,(zr===fr||Tr<fr&&zr>fr||(zr>fr||Tr<fr)&&rn)&&++zr===_r&&zr++,zr>pr&&(zr=zr-pr+Zt-1),String.fromCharCode(Lr)+String.fromCharCode(zr))+dn.substr(dn.length-5,Rt)+$n.substr($n.length-5,Rt)})((function(ft){var Rt,Lt,Ut,rr,qt,Tr,Lr,zr=ft.lat,rn=ft.lon,mn=6378137,on=.00669438,Cn=.9996,dn=nn(zr),$n=nn(rn);Lr=Math.floor((rn+180)/6)+1,rn===180&&(Lr=60),zr>=56&&zr<64&&rn>=3&&rn<12&&(Lr=32),zr>=72&&zr<84&&(rn>=0&&rn<9?Lr=31:rn>=9&&rn<21?Lr=33:rn>=21&&rn<33?Lr=35:rn>=33&&rn<42&&(Lr=37)),Tr=nn(6*(Lr-1)-180+3),Rt=.006739496752268451,Lt=mn/Math.sqrt(1-on*Math.sin(dn)*Math.sin(dn)),Ut=Math.tan(dn)*Math.tan(dn),rr=Rt*Math.cos(dn)*Math.cos(dn);var Rn,ni,_i=Cn*Lt*((qt=Math.cos(dn)*($n-Tr))+(1-Ut+rr)*qt*qt*qt/6+(5-18*Ut+Ut*Ut+72*rr-58*Rt)*qt*qt*qt*qt*qt/120)+5e5,di=Cn*(mn*(.9983242984503243*dn-.002514607064228144*Math.sin(2*dn)+2639046602129982e-21*Math.sin(4*dn)-3418046101696858e-24*Math.sin(6*dn))+Lt*Math.tan(dn)*(qt*qt/2+(5-Ut+9*rr+4*rr*rr)*qt*qt*qt*qt/24+(61-58*Ut+Ut*Ut+600*rr-2.2240339282485886)*qt*qt*qt*qt*qt*qt/720));return zr<0&&(di+=1e7),{northing:Math.round(di),easting:Math.round(_i),zoneNumber:Lr,zoneLetter:(Rn=zr,ni="Z",84>=Rn&&Rn>=72?ni="X":72>Rn&&Rn>=64?ni="W":64>Rn&&Rn>=56?ni="V":56>Rn&&Rn>=48?ni="U":48>Rn&&Rn>=40?ni="T":40>Rn&&Rn>=32?ni="S":32>Rn&&Rn>=24?ni="R":24>Rn&&Rn>=16?ni="Q":16>Rn&&Rn>=8?ni="P":8>Rn&&Rn>=0?ni="N":0>Rn&&Rn>=-8?ni="M":-8>Rn&&Rn>=-16?ni="L":-16>Rn&&Rn>=-24?ni="K":-24>Rn&&Rn>=-32?ni="J":-32>Rn&&Rn>=-40?ni="H":-40>Rn&&Rn>=-48?ni="G":-48>Rn&&Rn>=-56?ni="F":-56>Rn&&Rn>=-64?ni="E":-64>Rn&&Rn>=-72?ni="D":-72>Rn&&Rn>=-80&&(ni="C"),ni)}})({lat:We[1],lon:We[0]}),nt)}function cn(We){var nt=$r(zn(We.toUpperCase()));return nt.lat&&nt.lon?[nt.lon,nt.lat]:[(nt.left+nt.right)/2,(nt.top+nt.bottom)/2]}function nn(We){return We*(Math.PI/180)}function tn(We){return We/Math.PI*180}function $r(We){var nt=We.northing,ft=We.easting,Rt=We.zoneLetter,Lt=We.zoneNumber;if(Lt<0||Lt>60)return null;var Ut,rr,qt,Tr,Lr,zr,rn,mn,on,Cn=.9996,dn=6378137,$n=.00669438,Rn=(1-Math.sqrt(.99330562))/(1+Math.sqrt(.99330562)),ni=ft-5e5,_i=nt;Rt<"N"&&(_i-=1e7),rn=6*(Lt-1)-180+3,Ut=.006739496752268451,on=(mn=_i/Cn/6367449145945056e-9)+(3*Rn/2-27*Rn*Rn*Rn/32)*Math.sin(2*mn)+(21*Rn*Rn/16-55*Rn*Rn*Rn*Rn/32)*Math.sin(4*mn)+151*Rn*Rn*Rn/96*Math.sin(6*mn),rr=dn/Math.sqrt(1-$n*Math.sin(on)*Math.sin(on)),qt=Math.tan(on)*Math.tan(on),Tr=Ut*Math.cos(on)*Math.cos(on),Lr=.99330562*dn/Math.pow(1-$n*Math.sin(on)*Math.sin(on),1.5),zr=ni/(rr*Cn);var di=on-rr*Math.tan(on)/Lr*(zr*zr/2-(5+3*qt+10*Tr-4*Tr*Tr-9*Ut)*zr*zr*zr*zr/24+(61+90*qt+298*Tr+45*qt*qt-1.6983531815716497-3*Tr*Tr)*zr*zr*zr*zr*zr*zr/720);di=tn(di);var Pi,Ki=(zr-(1+2*qt+Tr)*zr*zr*zr/6+(5-2*Tr+28*qt-3*Tr*Tr+8*Ut+24*qt*qt)*zr*zr*zr*zr*zr/120)/Math.cos(on);if(Ki=rn+tn(Ki),We.accuracy){var eo=$r({northing:We.northing+We.accuracy,easting:We.easting+We.accuracy,zoneLetter:We.zoneLetter,zoneNumber:We.zoneNumber});Pi={top:eo.lat,right:eo.lon,bottom:di,left:Ki}}else Pi={lat:di,lon:Ki};return Pi}function Bn(We){var nt=We%vn;return nt===0&&(nt=vn),nt}function zn(We){if(We&&We.length===0)throw"MGRSPoint coverting from nothing";for(var nt,ft=We.length,Rt=null,Lt="",Ut=0;!/[A-Z]/.test(nt=We.charAt(Ut));){if(Ut>=2)throw"MGRSPoint bad conversion from: "+We;Lt+=nt,Ut++}var rr=parseInt(Lt,10);if(Ut===0||Ut+3>ft)throw"MGRSPoint bad conversion from: "+We;var qt=We.charAt(Ut++);if(qt<="A"||qt==="B"||qt==="Y"||qt>="Z"||qt==="I"||qt==="O")throw"MGRSPoint zone letter "+qt+" not handled: "+We;Rt=We.substring(Ut,Ut+=2);for(var Tr=Bn(rr),Lr=(function(ni,_i){for(var di=Dn.charCodeAt(_i-1),Pi=1e5,Ki=!1;di!==ni.charCodeAt(0);){if(++di===_r&&di++,di===fr&&di++,di>gr){if(Ki)throw"Bad character: "+ni;di=Zt,Ki=!0}Pi+=1e5}return Pi})(Rt.charAt(0),Tr),zr=(function(ni,_i){if(ni>"V")throw"MGRSPoint given invalid Northing "+ni;for(var di=kn.charCodeAt(_i-1),Pi=0,Ki=!1;di!==ni.charCodeAt(0);){if(++di===_r&&di++,di===fr&&di++,di>pr){if(Ki)throw"Bad character: "+ni;di=Zt,Ki=!0}Pi+=1e5}return Pi})(Rt.charAt(1),Tr);zr<ri(qt);)zr+=2e6;var rn=ft-Ut;if(rn%2!=0)throw`MGRSPoint has to have an even number 
of digits after the zone letter and two 100km letters - front 
half for easting meters, second half for 
northing meters`+We;var mn,on,Cn,dn=rn/2,$n=0,Rn=0;return dn>0&&(mn=1e5/Math.pow(10,dn),on=We.substring(Ut,Ut+dn),$n=parseFloat(on)*mn,Cn=We.substring(Ut+dn),Rn=parseFloat(Cn)*mn),{easting:$n+Lr,northing:Rn+zr,zoneLetter:qt,zoneNumber:rr,accuracy:mn}}function ri(We){var nt;switch(We){case"C":nt=11e5;break;case"D":nt=2e6;break;case"E":nt=28e5;break;case"F":nt=37e5;break;case"G":nt=46e5;break;case"H":nt=55e5;break;case"J":nt=64e5;break;case"K":nt=73e5;break;case"L":nt=82e5;break;case"M":nt=91e5;break;case"N":nt=0;break;case"P":nt=8e5;break;case"Q":nt=17e5;break;case"R":nt=26e5;break;case"S":nt=35e5;break;case"T":nt=44e5;break;case"U":nt=53e5;break;case"V":nt=62e5;break;case"W":nt=7e6;break;case"X":nt=79e5;break;default:nt=-1}if(nt>=0)return nt;throw"Invalid zone letter: "+We}var qn=r(5108);function Yn(We,nt,ft){if(!(this instanceof Yn))return new Yn(We,nt,ft);if(Array.isArray(We))this.x=We[0],this.y=We[1],this.z=We[2]||0;else if(typeof We=="object")this.x=We.x,this.y=We.y,this.z=We.z||0;else if(typeof We=="string"&&nt===void 0){var Rt=We.split(",");this.x=parseFloat(Rt[0],10),this.y=parseFloat(Rt[1],10),this.z=parseFloat(Rt[2],10)||0}else this.x=We,this.y=nt,this.z=ft||0;qn.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}Yn.fromMGRS=function(We){return new Yn(cn(We))},Yn.prototype.toMGRS=function(We){return Xr([this.x,this.y],We)};const fi=Yn;var Yi=1,Wi=.25,_a=.046875,ja=.01953125,io=.01068115234375,No=.75,So=.46875,co=.013020833333333334,Bi=.007120768229166667,ra=.3645833333333333,Hi=.005696614583333333,Ma=.3076171875;function _o(We){var nt=[];nt[0]=Yi-We*(Wi+We*(_a+We*(ja+We*io))),nt[1]=We*(No-We*(_a+We*(ja+We*io)));var ft=We*We;return nt[2]=ft*(So-We*(co+We*Bi)),ft*=We,nt[3]=ft*(ra-We*Hi),nt[4]=ft*We*Ma,nt}function $o(We,nt,ft,Rt){return ft*=nt,nt*=nt,Rt[0]*We-ft*(Rt[1]+nt*(Rt[2]+nt*(Rt[3]+nt*Rt[4])))}var Ii=20;function pa(We,nt,ft){for(var Rt=1/(1-nt),Lt=We,Ut=Ii;Ut;--Ut){var rr=Math.sin(Lt),qt=1-nt*rr*rr;if(Lt-=qt=($o(Lt,rr,Math.cos(Lt),ft)-We)*(qt*Math.sqrt(qt))*Rt,Math.abs(qt)<J)return Lt}return Lt}const Va={init:function(){this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.es&&(this.en=_o(this.es),this.ml0=$o(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))},forward:function(We){var nt,ft,Rt,Lt=We.x,Ut=We.y,rr=it(Lt-this.long0),qt=Math.sin(Ut),Tr=Math.cos(Ut);if(this.es){var Lr=Tr*rr,zr=Math.pow(Lr,2),rn=this.ep2*Math.pow(Tr,2),mn=Math.pow(rn,2),on=Math.abs(Tr)>J?Math.tan(Ut):0,Cn=Math.pow(on,2),dn=Math.pow(Cn,2);nt=1-this.es*Math.pow(qt,2),Lr/=Math.sqrt(nt);var $n=$o(Ut,qt,Tr,this.en);ft=this.a*(this.k0*Lr*(1+zr/6*(1-Cn+rn+zr/20*(5-18*Cn+dn+14*rn-58*Cn*rn+zr/42*(61+179*dn-dn*Cn-479*Cn)))))+this.x0,Rt=this.a*(this.k0*($n-this.ml0+qt*rr*Lr/2*(1+zr/12*(5-Cn+9*rn+4*mn+zr/30*(61+dn-58*Cn+270*rn-330*Cn*rn+zr/56*(1385+543*dn-dn*Cn-3111*Cn))))))+this.y0}else{var Rn=Tr*Math.sin(rr);if(Math.abs(Math.abs(Rn)-1)<J)return 93;if(ft=.5*this.a*this.k0*Math.log((1+Rn)/(1-Rn))+this.x0,Rt=Tr*Math.cos(rr)/Math.sqrt(1-Math.pow(Rn,2)),(Rn=Math.abs(Rt))>=1){if(Rn-1>J)return 93;Rt=0}else Rt=Math.acos(Rt);Ut<0&&(Rt=-Rt),Rt=this.a*this.k0*(Rt-this.lat0)+this.y0}return We.x=ft,We.y=Rt,We},inverse:function(We){var nt,ft,Rt,Lt,Ut=(We.x-this.x0)*(1/this.a),rr=(We.y-this.y0)*(1/this.a);if(this.es)if(ft=pa(nt=this.ml0+rr/this.k0,this.es,this.en),Math.abs(ft)<T){var qt=Math.sin(ft),Tr=Math.cos(ft),Lr=Math.abs(Tr)>J?Math.tan(ft):0,zr=this.ep2*Math.pow(Tr,2),rn=Math.pow(zr,2),mn=Math.pow(Lr,2),on=Math.pow(mn,2);nt=1-this.es*Math.pow(qt,2);var Cn=Ut*Math.sqrt(nt)/this.k0,dn=Math.pow(Cn,2);Rt=ft-(nt*=Lr)*dn/(1-this.es)*.5*(1-dn/12*(5+3*mn-9*zr*mn+zr-4*rn-dn/30*(61+90*mn-252*zr*mn+45*on+46*zr-dn/56*(1385+3633*mn+4095*on+1574*on*mn)))),Lt=it(this.long0+Cn*(1-dn/6*(1+2*mn+zr-dn/20*(5+28*mn+24*on+8*zr*mn+6*zr-dn/42*(61+662*mn+1320*on+720*on*mn))))/Tr)}else Rt=T*st(rr),Lt=0;else{var $n=Math.exp(Ut/this.k0),Rn=.5*($n-1/$n),ni=this.lat0+rr/this.k0,_i=Math.cos(ni);nt=Math.sqrt((1-Math.pow(_i,2))/(1+Math.pow(Rn,2))),Rt=Math.asin(nt),rr<0&&(Rt=-Rt),Lt=Rn===0&&_i===0?0:it(Math.atan2(Rn,_i)+this.long0)}return We.x=Lt,We.y=Rt,We},names:["Fast_Transverse_Mercator","Fast Transverse Mercator"]};function Do(We){var nt=Math.exp(We);return(nt-1/nt)/2}function Zi(We,nt){We=Math.abs(We),nt=Math.abs(nt);var ft=Math.max(We,nt),Rt=Math.min(We,nt)/(ft||1);return ft*Math.sqrt(1+Math.pow(Rt,2))}function es(We,nt){for(var ft,Rt=2*Math.cos(2*nt),Lt=We.length-1,Ut=We[Lt],rr=0;--Lt>=0;)ft=Rt*Ut-rr+We[Lt],rr=Ut,Ut=ft;return nt+ft*Math.sin(2*nt)}function Ro(We,nt,ft){for(var Rt,Lt,Ut=Math.sin(nt),rr=Math.cos(nt),qt=Do(ft),Tr=(function($n){var Rn=Math.exp($n);return(Rn+1/Rn)/2})(ft),Lr=2*rr*Tr,zr=-2*Ut*qt,rn=We.length-1,mn=We[rn],on=0,Cn=0,dn=0;--rn>=0;)Rt=Cn,Lt=on,mn=Lr*(Cn=mn)-Rt-zr*(on=dn)+We[rn],dn=zr*Cn-Lt+Lr*on;return[(Lr=Ut*Tr)*mn-(zr=rr*qt)*dn,Lr*dn+zr*mn]}const Ca={init:function(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(Va.init.apply(this),this.forward=Va.forward,this.inverse=Va.inverse),this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var We=this.es/(1+Math.sqrt(1-this.es)),nt=We/(2-We),ft=nt;this.cgb[0]=nt*(2+nt*(-2/3+nt*(nt*(116/45+nt*(26/45+nt*(-2854/675)))-2))),this.cbg[0]=nt*(nt*(2/3+nt*(4/3+nt*(-82/45+nt*(32/45+nt*(4642/4725)))))-2),ft*=nt,this.cgb[1]=ft*(7/3+nt*(nt*(-227/45+nt*(2704/315+nt*(2323/945)))-1.6)),this.cbg[1]=ft*(5/3+nt*(-16/15+nt*(-13/9+nt*(904/315+nt*(-1522/945))))),ft*=nt,this.cgb[2]=ft*(56/15+nt*(-136/35+nt*(-1262/105+nt*(73814/2835)))),this.cbg[2]=ft*(-26/15+nt*(34/21+nt*(1.6+nt*(-12686/2835)))),ft*=nt,this.cgb[3]=ft*(4279/630+nt*(-332/35+nt*(-399572/14175))),this.cbg[3]=ft*(1237/630+nt*(nt*(-24832/14175)-2.4)),ft*=nt,this.cgb[4]=ft*(4174/315+nt*(-144838/6237)),this.cbg[4]=ft*(-734/315+nt*(109598/31185)),ft*=nt,this.cgb[5]=ft*(601676/22275),this.cbg[5]=ft*(444337/155925),ft=Math.pow(nt,2),this.Qn=this.k0/(1+nt)*(1+ft*(1/4+ft*(1/64+ft/256))),this.utg[0]=nt*(nt*(2/3+nt*(-37/96+nt*(1/360+nt*(81/512+nt*(-96199/604800)))))-.5),this.gtu[0]=nt*(.5+nt*(-2/3+nt*(5/16+nt*(41/180+nt*(-127/288+nt*(7891/37800)))))),this.utg[1]=ft*(-1/48+nt*(-1/15+nt*(437/1440+nt*(-46/105+nt*(1118711/3870720))))),this.gtu[1]=ft*(13/48+nt*(nt*(557/1440+nt*(281/630+nt*(-1983433/1935360)))-.6)),ft*=nt,this.utg[2]=ft*(-17/480+nt*(37/840+nt*(209/4480+nt*(-5569/90720)))),this.gtu[2]=ft*(61/240+nt*(-103/140+nt*(15061/26880+nt*(167603/181440)))),ft*=nt,this.utg[3]=ft*(-4397/161280+nt*(11/504+nt*(830251/7257600))),this.gtu[3]=ft*(49561/161280+nt*(-179/168+nt*(6601661/7257600))),ft*=nt,this.utg[4]=ft*(-4583/161280+nt*(108847/3991680)),this.gtu[4]=ft*(34729/80640+nt*(-3418889/1995840)),ft*=nt,this.utg[5]=ft*(-20648693/638668800),this.gtu[5]=.6650675310896665*ft;var Rt=es(this.cbg,this.lat0);this.Zb=-this.Qn*(Rt+(function(Lt,Ut){for(var rr,qt=2*Math.cos(Ut),Tr=Lt.length-1,Lr=Lt[Tr],zr=0;--Tr>=0;)rr=qt*Lr-zr+Lt[Tr],zr=Lr,Lr=rr;return Math.sin(Ut)*rr})(this.gtu,2*Rt))},forward:function(We){var nt=it(We.x-this.long0),ft=We.y;ft=es(this.cbg,ft);var Rt=Math.sin(ft),Lt=Math.cos(ft),Ut=Math.sin(nt),rr=Math.cos(nt);ft=Math.atan2(Rt,rr*Lt),nt=Math.atan2(Ut*Lt,Zi(Rt,Lt*rr)),nt=(function(zr){var rn=Math.abs(zr);return rn=(function(mn){var on=1+mn,Cn=on-1;return Cn===0?mn:mn*Math.log(on)/Cn})(rn*(1+rn/(Zi(1,rn)+1))),zr<0?-rn:rn})(Math.tan(nt));var qt,Tr,Lr=Ro(this.gtu,2*ft,2*nt);return ft+=Lr[0],nt+=Lr[1],Math.abs(nt)<=2.623395162778?(qt=this.a*(this.Qn*nt)+this.x0,Tr=this.a*(this.Qn*ft+this.Zb)+this.y0):(qt=1/0,Tr=1/0),We.x=qt,We.y=Tr,We},inverse:function(We){var nt,ft,Rt=(We.x-this.x0)*(1/this.a),Lt=(We.y-this.y0)*(1/this.a);if(Lt=(Lt-this.Zb)/this.Qn,Rt/=this.Qn,Math.abs(Rt)<=2.623395162778){var Ut=Ro(this.utg,2*Lt,2*Rt);Lt+=Ut[0],Rt+=Ut[1],Rt=Math.atan(Do(Rt));var rr=Math.sin(Lt),qt=Math.cos(Lt),Tr=Math.sin(Rt),Lr=Math.cos(Rt);Lt=Math.atan2(rr*Lr,Zi(Tr,Lr*qt)),nt=it((Rt=Math.atan2(Tr,Lr*qt))+this.long0),ft=es(this.cgb,Lt)}else nt=1/0,ft=1/0;return We.x=nt,We.y=ft,We},names:["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","tmerc"]},ua={init:function(){var We=(function(nt,ft){if(nt===void 0){if((nt=Math.floor(30*(it(ft)+Math.PI)/Math.PI)+1)<0)return 0;if(nt>60)return 60}return nt})(this.zone,this.long0);if(We===void 0)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(We)-183)*te,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,Ca.init.apply(this),this.forward=Ca.forward,this.inverse=Ca.inverse},names:["Universal Transverse Mercator System","utm"],dependsOn:"etmerc"};function ao(We,nt){return Math.pow((1-We)/(1+We),nt)}const Qa={init:function(){var We=Math.sin(this.lat0),nt=Math.cos(this.lat0);nt*=nt,this.rc=Math.sqrt(1-this.es)/(1-this.es*We*We),this.C=Math.sqrt(1+this.es*nt*nt/(1-this.es)),this.phic0=Math.asin(We/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+ue)/(Math.pow(Math.tan(.5*this.lat0+ue),this.C)*ao(this.e*We,this.ratexp))},forward:function(We){var nt=We.x,ft=We.y;return We.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*ft+ue),this.C)*ao(this.e*Math.sin(ft),this.ratexp))-T,We.x=this.C*nt,We},inverse:function(We){for(var nt=We.x/this.C,ft=We.y,Rt=Math.pow(Math.tan(.5*ft+ue)/this.K,1/this.C),Lt=20;Lt>0&&(ft=2*Math.atan(Rt*ao(this.e*Math.sin(We.y),-.5*this.e))-T,!(Math.abs(ft-We.y)<1e-14));--Lt)We.y=ft;return Lt?(We.x=nt,We.y=ft,We):null}},Sa={init:function(){Qa.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))},forward:function(We){var nt,ft,Rt,Lt;return We.x=it(We.x-this.long0),Qa.forward.apply(this,[We]),nt=Math.sin(We.y),ft=Math.cos(We.y),Rt=Math.cos(We.x),Lt=this.k0*this.R2/(1+this.sinc0*nt+this.cosc0*ft*Rt),We.x=Lt*ft*Math.sin(We.x),We.y=Lt*(this.cosc0*nt-this.sinc0*ft*Rt),We.x=this.a*We.x+this.x0,We.y=this.a*We.y+this.y0,We},inverse:function(We){var nt,ft,Rt,Lt,Ut;if(We.x=(We.x-this.x0)/this.a,We.y=(We.y-this.y0)/this.a,We.x/=this.k0,We.y/=this.k0,Ut=Math.sqrt(We.x*We.x+We.y*We.y)){var rr=2*Math.atan2(Ut,this.R2);nt=Math.sin(rr),ft=Math.cos(rr),Lt=Math.asin(ft*this.sinc0+We.y*nt*this.cosc0/Ut),Rt=Math.atan2(We.x*nt,Ut*this.cosc0*ft-We.y*this.sinc0*nt)}else Lt=this.phic0,Rt=0;return We.x=Rt,We.y=Lt,Qa.inverse.apply(this,[We]),We.x=it(We.x+this.long0),We},names:["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"]},po={init:function(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=J&&(this.k0=.5*(1+st(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=J&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=J&&(this.k0=.5*this.cons*Ve(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/Wt(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=Ve(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-T,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))},forward:function(We){var nt,ft,Rt,Lt,Ut,rr,qt=We.x,Tr=We.y,Lr=Math.sin(Tr),zr=Math.cos(Tr),rn=it(qt-this.long0);return Math.abs(Math.abs(qt-this.long0)-Math.PI)<=J&&Math.abs(Tr+this.lat0)<=J?(We.x=NaN,We.y=NaN,We):this.sphere?(nt=2*this.k0/(1+this.sinlat0*Lr+this.coslat0*zr*Math.cos(rn)),We.x=this.a*nt*zr*Math.sin(rn)+this.x0,We.y=this.a*nt*(this.coslat0*Lr-this.sinlat0*zr*Math.cos(rn))+this.y0,We):(ft=2*Math.atan(this.ssfn_(Tr,Lr,this.e))-T,Lt=Math.cos(ft),Rt=Math.sin(ft),Math.abs(this.coslat0)<=J?(Ut=Wt(this.e,Tr*this.con,this.con*Lr),rr=2*this.a*this.k0*Ut/this.cons,We.x=this.x0+rr*Math.sin(qt-this.long0),We.y=this.y0-this.con*rr*Math.cos(qt-this.long0),We):(Math.abs(this.sinlat0)<J?(nt=2*this.a*this.k0/(1+Lt*Math.cos(rn)),We.y=nt*Rt):(nt=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*Rt+this.cosX0*Lt*Math.cos(rn))),We.y=nt*(this.cosX0*Rt-this.sinX0*Lt*Math.cos(rn))+this.y0),We.x=nt*Lt*Math.sin(rn)+this.x0,We))},inverse:function(We){var nt,ft,Rt,Lt,Ut;We.x-=this.x0,We.y-=this.y0;var rr=Math.sqrt(We.x*We.x+We.y*We.y);if(this.sphere){var qt=2*Math.atan(rr/(2*this.a*this.k0));return nt=this.long0,ft=this.lat0,rr<=J?(We.x=nt,We.y=ft,We):(ft=Math.asin(Math.cos(qt)*this.sinlat0+We.y*Math.sin(qt)*this.coslat0/rr),nt=Math.abs(this.coslat0)<J?this.lat0>0?it(this.long0+Math.atan2(We.x,-1*We.y)):it(this.long0+Math.atan2(We.x,We.y)):it(this.long0+Math.atan2(We.x*Math.sin(qt),rr*this.coslat0*Math.cos(qt)-We.y*this.sinlat0*Math.sin(qt))),We.x=nt,We.y=ft,We)}if(Math.abs(this.coslat0)<=J){if(rr<=J)return ft=this.lat0,nt=this.long0,We.x=nt,We.y=ft,We;We.x*=this.con,We.y*=this.con,Rt=rr*this.cons/(2*this.a*this.k0),ft=this.con*rt(this.e,Rt),nt=this.con*it(this.con*this.long0+Math.atan2(We.x,-1*We.y))}else Lt=2*Math.atan(rr*this.cosX0/(2*this.a*this.k0*this.ms1)),nt=this.long0,rr<=J?Ut=this.X0:(Ut=Math.asin(Math.cos(Lt)*this.sinX0+We.y*Math.sin(Lt)*this.cosX0/rr),nt=it(this.long0+Math.atan2(We.x*Math.sin(Lt),rr*this.cosX0*Math.cos(Lt)-We.y*this.sinX0*Math.sin(Lt)))),ft=-1*rt(this.e,Math.tan(.5*(T+Ut)));return We.x=nt,We.y=ft,We},names:["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"],ssfn_:function(We,nt,ft){return nt*=ft,Math.tan(.5*(T+We))*Math.pow((1-nt)/(1+nt),.5*ft)}},Ja={init:function(){var We=this.lat0;this.lambda0=this.long0;var nt=Math.sin(We),ft=this.a,Rt=1/this.rf,Lt=2*Rt-Math.pow(Rt,2),Ut=this.e=Math.sqrt(Lt);this.R=this.k0*ft*Math.sqrt(1-Lt)/(1-Lt*Math.pow(nt,2)),this.alpha=Math.sqrt(1+Lt/(1-Lt)*Math.pow(Math.cos(We),4)),this.b0=Math.asin(nt/this.alpha);var rr=Math.log(Math.tan(Math.PI/4+this.b0/2)),qt=Math.log(Math.tan(Math.PI/4+We/2)),Tr=Math.log((1+Ut*nt)/(1-Ut*nt));this.K=rr-this.alpha*qt+this.alpha*Ut/2*Tr},forward:function(We){var nt=Math.log(Math.tan(Math.PI/4-We.y/2)),ft=this.e/2*Math.log((1+this.e*Math.sin(We.y))/(1-this.e*Math.sin(We.y))),Rt=-this.alpha*(nt+ft)+this.K,Lt=2*(Math.atan(Math.exp(Rt))-Math.PI/4),Ut=this.alpha*(We.x-this.lambda0),rr=Math.atan(Math.sin(Ut)/(Math.sin(this.b0)*Math.tan(Lt)+Math.cos(this.b0)*Math.cos(Ut))),qt=Math.asin(Math.cos(this.b0)*Math.sin(Lt)-Math.sin(this.b0)*Math.cos(Lt)*Math.cos(Ut));return We.y=this.R/2*Math.log((1+Math.sin(qt))/(1-Math.sin(qt)))+this.y0,We.x=this.R*rr+this.x0,We},inverse:function(We){for(var nt=We.x-this.x0,ft=We.y-this.y0,Rt=nt/this.R,Lt=2*(Math.atan(Math.exp(ft/this.R))-Math.PI/4),Ut=Math.asin(Math.cos(this.b0)*Math.sin(Lt)+Math.sin(this.b0)*Math.cos(Lt)*Math.cos(Rt)),rr=Math.atan(Math.sin(Rt)/(Math.cos(this.b0)*Math.cos(Rt)-Math.sin(this.b0)*Math.tan(Lt))),qt=this.lambda0+rr/this.alpha,Tr=0,Lr=Ut,zr=-1e3,rn=0;Math.abs(Lr-zr)>1e-7;){if(++rn>20)return;Tr=1/this.alpha*(Math.log(Math.tan(Math.PI/4+Ut/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(Lr))/2)),zr=Lr,Lr=2*Math.atan(Math.exp(Tr))-Math.PI/2}return We.x=qt,We.y=Lr,We},names:["somerc"]};var Ga=1e-7;const oo={init:function(){var We,nt,ft,Rt,Lt,Ut,rr,qt,Tr,Lr,zr,rn,mn,on=0,Cn=0,dn=0,$n=0,Rn=0,ni=0,_i=0;this.no_off=(mn=typeof(rn=this).PROJECTION=="object"?Object.keys(rn.PROJECTION)[0]:rn.PROJECTION,"no_uoff"in rn||"no_off"in rn||["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"].indexOf(mn)!==-1),this.no_rot="no_rot"in this;var di=!1;"alpha"in this&&(di=!0);var Pi=!1;if("rectified_grid_angle"in this&&(Pi=!0),di&&(_i=this.alpha),Pi&&(on=this.rectified_grid_angle*te),di||Pi)Cn=this.longc;else if(dn=this.long1,Rn=this.lat1,$n=this.long2,ni=this.lat2,Math.abs(Rn-ni)<=Ga||(We=Math.abs(Rn))<=Ga||Math.abs(We-T)<=Ga||Math.abs(Math.abs(this.lat0)-T)<=Ga||Math.abs(Math.abs(ni)-T)<=Ga)throw new Error;var Ki=1-this.es;nt=Math.sqrt(Ki),Math.abs(this.lat0)>J?(qt=Math.sin(this.lat0),ft=Math.cos(this.lat0),We=1-this.es*qt*qt,this.B=ft*ft,this.B=Math.sqrt(1+this.es*this.B*this.B/Ki),this.A=this.B*this.k0*nt/We,(Lt=(Rt=this.B*nt/(ft*Math.sqrt(We)))*Rt-1)<=0?Lt=0:(Lt=Math.sqrt(Lt),this.lat0<0&&(Lt=-Lt)),this.E=Lt+=Rt,this.E*=Math.pow(Wt(this.e,this.lat0,qt),this.B)):(this.B=1/nt,this.A=this.k0,this.E=Rt=Lt=1),di||Pi?(di?(zr=Math.asin(Math.sin(_i)/Rt),Pi||(on=_i)):(zr=on,_i=Math.asin(Rt*Math.sin(zr))),this.lam0=Cn-Math.asin(.5*(Lt-1/Lt)*Math.tan(zr))/this.B):(Ut=Math.pow(Wt(this.e,Rn,Math.sin(Rn)),this.B),rr=Math.pow(Wt(this.e,ni,Math.sin(ni)),this.B),Lt=this.E/Ut,Tr=(rr-Ut)/(rr+Ut),Lr=((Lr=this.E*this.E)-rr*Ut)/(Lr+rr*Ut),(We=dn-$n)<-Math.pi?$n-=fe:We>Math.pi&&($n+=fe),this.lam0=it(.5*(dn+$n)-Math.atan(Lr*Math.tan(.5*this.B*(dn-$n))/Tr)/this.B),zr=Math.atan(2*Math.sin(this.B*it(dn-this.lam0))/(Lt-1/Lt)),on=_i=Math.asin(Rt*Math.sin(zr))),this.singam=Math.sin(zr),this.cosgam=Math.cos(zr),this.sinrot=Math.sin(on),this.cosrot=Math.cos(on),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.A,this.B,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(Rt*Rt-1)/Math.cos(_i))),this.lat0<0&&(this.u_0=-this.u_0)),Lt=.5*zr,this.v_pole_n=this.ArB*Math.log(Math.tan(ue-Lt)),this.v_pole_s=this.ArB*Math.log(Math.tan(ue+Lt))},forward:function(We){var nt,ft,Rt,Lt,Ut,rr,qt,Tr,Lr={};if(We.x=We.x-this.lam0,Math.abs(Math.abs(We.y)-T)>J){if(nt=.5*((Ut=this.E/Math.pow(Wt(this.e,We.y,Math.sin(We.y)),this.B))-(rr=1/Ut)),ft=.5*(Ut+rr),Lt=Math.sin(this.B*We.x),Rt=(nt*this.singam-Lt*this.cosgam)/ft,Math.abs(Math.abs(Rt)-1)<J)throw new Error;Tr=.5*this.ArB*Math.log((1-Rt)/(1+Rt)),rr=Math.cos(this.B*We.x),qt=Math.abs(rr)<Ga?this.A*We.x:this.ArB*Math.atan2(nt*this.cosgam+Lt*this.singam,rr)}else Tr=We.y>0?this.v_pole_n:this.v_pole_s,qt=this.ArB*We.y;return this.no_rot?(Lr.x=qt,Lr.y=Tr):(qt-=this.u_0,Lr.x=Tr*this.cosrot+qt*this.sinrot,Lr.y=qt*this.cosrot-Tr*this.sinrot),Lr.x=this.a*Lr.x+this.x0,Lr.y=this.a*Lr.y+this.y0,Lr},inverse:function(We){var nt,ft,Rt,Lt,Ut,rr,qt,Tr={};if(We.x=(We.x-this.x0)*(1/this.a),We.y=(We.y-this.y0)*(1/this.a),this.no_rot?(ft=We.y,nt=We.x):(ft=We.x*this.cosrot-We.y*this.sinrot,nt=We.y*this.cosrot+We.x*this.sinrot+this.u_0),Lt=.5*((Rt=Math.exp(-this.BrA*ft))-1/Rt),Ut=.5*(Rt+1/Rt),qt=((rr=Math.sin(this.BrA*nt))*this.cosgam+Lt*this.singam)/Ut,Math.abs(Math.abs(qt)-1)<J)Tr.x=0,Tr.y=qt<0?-T:T;else{if(Tr.y=this.E/Math.sqrt((1+qt)/(1-qt)),Tr.y=rt(this.e,Math.pow(Tr.y,1/this.B)),Tr.y===1/0)throw new Error;Tr.x=-this.rB*Math.atan2(Lt*this.cosgam-rr*this.singam,Math.cos(this.BrA*nt))}return Tr.x+=this.lam0,Tr},names:["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"]},go={init:function(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<J)){var We=this.b/this.a;this.e=Math.sqrt(1-We*We);var nt=Math.sin(this.lat1),ft=Math.cos(this.lat1),Rt=Ve(this.e,nt,ft),Lt=Wt(this.e,this.lat1,nt),Ut=Math.sin(this.lat2),rr=Math.cos(this.lat2),qt=Ve(this.e,Ut,rr),Tr=Wt(this.e,this.lat2,Ut),Lr=Wt(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>J?this.ns=Math.log(Rt/qt)/Math.log(Lt/Tr):this.ns=nt,isNaN(this.ns)&&(this.ns=nt),this.f0=Rt/(this.ns*Math.pow(Lt,this.ns)),this.rh=this.a*this.f0*Math.pow(Lr,this.ns),this.title||(this.title="Lambert Conformal Conic")}},forward:function(We){var nt=We.x,ft=We.y;Math.abs(2*Math.abs(ft)-Math.PI)<=J&&(ft=st(ft)*(T-2*J));var Rt,Lt,Ut=Math.abs(Math.abs(ft)-T);if(Ut>J)Rt=Wt(this.e,ft,Math.sin(ft)),Lt=this.a*this.f0*Math.pow(Rt,this.ns);else{if((Ut=ft*this.ns)<=0)return null;Lt=0}var rr=this.ns*it(nt-this.long0);return We.x=this.k0*(Lt*Math.sin(rr))+this.x0,We.y=this.k0*(this.rh-Lt*Math.cos(rr))+this.y0,We},inverse:function(We){var nt,ft,Rt,Lt,Ut,rr=(We.x-this.x0)/this.k0,qt=this.rh-(We.y-this.y0)/this.k0;this.ns>0?(nt=Math.sqrt(rr*rr+qt*qt),ft=1):(nt=-Math.sqrt(rr*rr+qt*qt),ft=-1);var Tr=0;if(nt!==0&&(Tr=Math.atan2(ft*rr,ft*qt)),nt!==0||this.ns>0){if(ft=1/this.ns,Rt=Math.pow(nt/(this.a*this.f0),ft),(Lt=rt(this.e,Rt))===-9999)return null}else Lt=-T;return Ut=it(Tr/this.ns+this.long0),We.x=Ut,We.y=Lt,We},names:["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc","Lambert Conic Conformal (1SP)","Lambert Conic Conformal (2SP)"]},as={init:function(){this.a=6377397155e-3,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq},forward:function(We){var nt,ft,Rt,Lt,Ut,rr,qt,Tr=We.x,Lr=We.y,zr=it(Tr-this.long0);return nt=Math.pow((1+this.e*Math.sin(Lr))/(1-this.e*Math.sin(Lr)),this.alfa*this.e/2),ft=2*(Math.atan(this.k*Math.pow(Math.tan(Lr/2+this.s45),this.alfa)/nt)-this.s45),Rt=-zr*this.alfa,Lt=Math.asin(Math.cos(this.ad)*Math.sin(ft)+Math.sin(this.ad)*Math.cos(ft)*Math.cos(Rt)),Ut=Math.asin(Math.cos(ft)*Math.sin(Rt)/Math.cos(Lt)),rr=this.n*Ut,qt=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(Lt/2+this.s45),this.n),We.y=qt*Math.cos(rr)/1,We.x=qt*Math.sin(rr)/1,this.czech||(We.y*=-1,We.x*=-1),We},inverse:function(We){var nt,ft,Rt,Lt,Ut,rr,qt,Tr=We.x;We.x=We.y,We.y=Tr,this.czech||(We.y*=-1,We.x*=-1),Ut=Math.sqrt(We.x*We.x+We.y*We.y),Lt=Math.atan2(We.y,We.x)/Math.sin(this.s0),Rt=2*(Math.atan(Math.pow(this.ro0/Ut,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),nt=Math.asin(Math.cos(this.ad)*Math.sin(Rt)-Math.sin(this.ad)*Math.cos(Rt)*Math.cos(Lt)),ft=Math.asin(Math.cos(Rt)*Math.sin(Lt)/Math.cos(nt)),We.x=this.long0-ft/this.alfa,rr=nt,qt=0;var Lr=0;do We.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(nt/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(rr))/(1-this.e*Math.sin(rr)),this.e/2))-this.s45),Math.abs(rr-We.y)<1e-10&&(qt=1),rr=We.y,Lr+=1;while(qt===0&&Lr<15);return Lr>=15?null:We},names:["Krovak","krovak"]};function ct(We,nt,ft,Rt,Lt){return We*Lt-nt*Math.sin(2*Lt)+ft*Math.sin(4*Lt)-Rt*Math.sin(6*Lt)}function kt(We){return 1-.25*We*(1+We/16*(3+1.25*We))}function $t(We){return .375*We*(1+.25*We*(1+.46875*We))}function Sr(We){return .05859375*We*We*(1+.75*We)}function Ur(We){return We*We*We*.011393229166666666}function Pr(We,nt,ft){var Rt=nt*ft;return We/Math.sqrt(1-Rt*Rt)}function ei(We){return Math.abs(We)<T?We:We-st(We)*Math.PI}function si(We,nt,ft,Rt,Lt){var Ut,rr;Ut=We/nt;for(var qt=0;qt<15;qt++)if(Ut+=rr=(We-(nt*Ut-ft*Math.sin(2*Ut)+Rt*Math.sin(4*Ut)-Lt*Math.sin(6*Ut)))/(nt-2*ft*Math.cos(2*Ut)+4*Rt*Math.cos(4*Ut)-6*Lt*Math.cos(6*Ut)),Math.abs(rr)<=1e-10)return Ut;return NaN}const Ni={init:function(){this.sphere||(this.e0=kt(this.es),this.e1=$t(this.es),this.e2=Sr(this.es),this.e3=Ur(this.es),this.ml0=this.a*ct(this.e0,this.e1,this.e2,this.e3,this.lat0))},forward:function(We){var nt,ft,Rt=We.x,Lt=We.y;if(Rt=it(Rt-this.long0),this.sphere)nt=this.a*Math.asin(Math.cos(Lt)*Math.sin(Rt)),ft=this.a*(Math.atan2(Math.tan(Lt),Math.cos(Rt))-this.lat0);else{var Ut=Math.sin(Lt),rr=Math.cos(Lt),qt=Pr(this.a,this.e,Ut),Tr=Math.tan(Lt)*Math.tan(Lt),Lr=Rt*Math.cos(Lt),zr=Lr*Lr,rn=this.es*rr*rr/(1-this.es);nt=qt*Lr*(1-zr*Tr*(1/6-(8-Tr+8*rn)*zr/120)),ft=this.a*ct(this.e0,this.e1,this.e2,this.e3,Lt)-this.ml0+qt*Ut/rr*zr*(.5+(5-Tr+6*rn)*zr/24)}return We.x=nt+this.x0,We.y=ft+this.y0,We},inverse:function(We){We.x-=this.x0,We.y-=this.y0;var nt,ft,Rt=We.x/this.a,Lt=We.y/this.a;if(this.sphere){var Ut=Lt+this.lat0;nt=Math.asin(Math.sin(Ut)*Math.cos(Rt)),ft=Math.atan2(Math.tan(Rt),Math.cos(Ut))}else{var rr=si(this.ml0/this.a+Lt,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(rr)-T)<=J)return We.x=this.long0,We.y=T,Lt<0&&(We.y*=-1),We;var qt=Pr(this.a,this.e,Math.sin(rr)),Tr=qt*qt*qt/this.a/this.a*(1-this.es),Lr=Math.pow(Math.tan(rr),2),zr=Rt*this.a/qt,rn=zr*zr;nt=rr-qt*Math.tan(rr)/Tr*zr*zr*(.5-(1+3*Lr)*zr*zr/24),ft=zr*(1-rn*(Lr/3+(1+3*Lr)*Lr*rn/15))/Math.cos(rr)}return We.x=it(ft+this.long0),We.y=ei(nt),We},names:["Cassini","Cassini_Soldner","cass"]};function Ui(We,nt){var ft;return We>1e-7?(1-We*We)*(nt/(1-(ft=We*nt)*ft)-.5/We*Math.log((1-ft)/(1+ft))):2*nt}const la={init:function(){var We,nt=Math.abs(this.lat0);if(Math.abs(nt-T)<J?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(nt)<J?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0)switch(this.qp=Ui(this.e,1),this.mmf=.5/(1-this.es),this.apa=(function(ft){var Rt,Lt=[];return Lt[0]=.3333333333333333*ft,Rt=ft*ft,Lt[0]+=.17222222222222222*Rt,Lt[1]=.06388888888888888*Rt,Rt*=ft,Lt[0]+=.10257936507936508*Rt,Lt[1]+=.0664021164021164*Rt,Lt[2]=.016415012942191543*Rt,Lt})(this.es),this.mode){case this.N_POLE:case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),We=Math.sin(this.lat0),this.sinb1=Ui(this.e,We)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*We*We)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))},forward:function(We){var nt,ft,Rt,Lt,Ut,rr,qt,Tr,Lr,zr,rn=We.x,mn=We.y;if(rn=it(rn-this.long0),this.sphere){if(Ut=Math.sin(mn),zr=Math.cos(mn),Rt=Math.cos(rn),this.mode===this.OBLIQ||this.mode===this.EQUIT){if((ft=this.mode===this.EQUIT?1+zr*Rt:1+this.sinph0*Ut+this.cosph0*zr*Rt)<=J)return null;nt=(ft=Math.sqrt(2/ft))*zr*Math.sin(rn),ft*=this.mode===this.EQUIT?Ut:this.cosph0*Ut-this.sinph0*zr*Rt}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(Rt=-Rt),Math.abs(mn+this.lat0)<J)return null;ft=ue-.5*mn,nt=(ft=2*(this.mode===this.S_POLE?Math.cos(ft):Math.sin(ft)))*Math.sin(rn),ft*=Rt}}else{switch(qt=0,Tr=0,Lr=0,Rt=Math.cos(rn),Lt=Math.sin(rn),Ut=Math.sin(mn),rr=Ui(this.e,Ut),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(qt=rr/this.qp,Tr=Math.sqrt(1-qt*qt)),this.mode){case this.OBLIQ:Lr=1+this.sinb1*qt+this.cosb1*Tr*Rt;break;case this.EQUIT:Lr=1+Tr*Rt;break;case this.N_POLE:Lr=T+mn,rr=this.qp-rr;break;case this.S_POLE:Lr=mn-T,rr=this.qp+rr}if(Math.abs(Lr)<J)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:Lr=Math.sqrt(2/Lr),ft=this.mode===this.OBLIQ?this.ymf*Lr*(this.cosb1*qt-this.sinb1*Tr*Rt):(Lr=Math.sqrt(2/(1+Tr*Rt)))*qt*this.ymf,nt=this.xmf*Lr*Tr*Lt;break;case this.N_POLE:case this.S_POLE:rr>=0?(nt=(Lr=Math.sqrt(rr))*Lt,ft=Rt*(this.mode===this.S_POLE?Lr:-Lr)):nt=ft=0}}return We.x=this.a*nt+this.x0,We.y=this.a*ft+this.y0,We},inverse:function(We){We.x-=this.x0,We.y-=this.y0;var nt,ft,Rt,Lt,Ut,rr,qt,Tr,Lr,zr,rn=We.x/this.a,mn=We.y/this.a;if(this.sphere){var on,Cn=0,dn=0;if((ft=.5*(on=Math.sqrt(rn*rn+mn*mn)))>1)return null;switch(ft=2*Math.asin(ft),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(dn=Math.sin(ft),Cn=Math.cos(ft)),this.mode){case this.EQUIT:ft=Math.abs(on)<=J?0:Math.asin(mn*dn/on),rn*=dn,mn=Cn*on;break;case this.OBLIQ:ft=Math.abs(on)<=J?this.lat0:Math.asin(Cn*this.sinph0+mn*dn*this.cosph0/on),rn*=dn*this.cosph0,mn=(Cn-Math.sin(ft)*this.sinph0)*on;break;case this.N_POLE:mn=-mn,ft=T-ft;break;case this.S_POLE:ft-=T}nt=mn!==0||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(rn,mn):0}else{if(qt=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(rn/=this.dd,mn*=this.dd,(rr=Math.sqrt(rn*rn+mn*mn))<J)return We.x=this.long0,We.y=this.lat0,We;Lt=2*Math.asin(.5*rr/this.rq),Rt=Math.cos(Lt),rn*=Lt=Math.sin(Lt),this.mode===this.OBLIQ?(qt=Rt*this.sinb1+mn*Lt*this.cosb1/rr,Ut=this.qp*qt,mn=rr*this.cosb1*Rt-mn*this.sinb1*Lt):(qt=mn*Lt/rr,Ut=this.qp*qt,mn=rr*Rt)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(mn=-mn),!(Ut=rn*rn+mn*mn))return We.x=this.long0,We.y=this.lat0,We;qt=1-Ut/this.qp,this.mode===this.S_POLE&&(qt=-qt)}nt=Math.atan2(rn,mn),zr=(Tr=Math.asin(qt))+Tr,ft=Tr+(Lr=this.apa)[0]*Math.sin(zr)+Lr[1]*Math.sin(zr+zr)+Lr[2]*Math.sin(zr+zr+zr)}return We.x=it(this.long0+nt),We.y=ft,We},names:["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"],S_POLE:1,N_POLE:2,EQUIT:3,OBLIQ:4};function $i(We){return Math.abs(We)>1&&(We=We>1?1:-1),Math.asin(We)}const wa={init:function(){Math.abs(this.lat1+this.lat2)<J||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=Ve(this.e3,this.sin_po,this.cos_po),this.qs1=Ui(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=Ve(this.e3,this.sin_po,this.cos_po),this.qs2=Ui(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=Ui(this.e3,this.sin_po,this.cos_po),Math.abs(this.lat1-this.lat2)>J?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)},forward:function(We){var nt=We.x,ft=We.y;this.sin_phi=Math.sin(ft),this.cos_phi=Math.cos(ft);var Rt=Ui(this.e3,this.sin_phi,this.cos_phi),Lt=this.a*Math.sqrt(this.c-this.ns0*Rt)/this.ns0,Ut=this.ns0*it(nt-this.long0),rr=Lt*Math.sin(Ut)+this.x0,qt=this.rh-Lt*Math.cos(Ut)+this.y0;return We.x=rr,We.y=qt,We},inverse:function(We){var nt,ft,Rt,Lt,Ut,rr;return We.x-=this.x0,We.y=this.rh-We.y+this.y0,this.ns0>=0?(nt=Math.sqrt(We.x*We.x+We.y*We.y),Rt=1):(nt=-Math.sqrt(We.x*We.x+We.y*We.y),Rt=-1),Lt=0,nt!==0&&(Lt=Math.atan2(Rt*We.x,Rt*We.y)),Rt=nt*this.ns0/this.a,this.sphere?rr=Math.asin((this.c-Rt*Rt)/(2*this.ns0)):(ft=(this.c-Rt*Rt)/this.ns0,rr=this.phi1z(this.e3,ft)),Ut=it(Lt/this.ns0+this.long0),We.x=Ut,We.y=rr,We},names:["Albers_Conic_Equal_Area","Albers","aea"],phi1z:function(We,nt){var ft,Rt,Lt,Ut,rr=$i(.5*nt);if(We<J)return rr;for(var qt=We*We,Tr=1;Tr<=25;Tr++)if(rr+=Ut=.5*(Lt=1-(Rt=We*(ft=Math.sin(rr)))*Rt)*Lt/Math.cos(rr)*(nt/(1-qt)-ft/Lt+.5/We*Math.log((1-Rt)/(1+Rt))),Math.abs(Ut)<=1e-7)return rr;return null}},Ri={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1},forward:function(We){var nt,ft,Rt,Lt,Ut,rr,qt,Tr=We.x,Lr=We.y;return Rt=it(Tr-this.long0),nt=Math.sin(Lr),ft=Math.cos(Lr),Lt=Math.cos(Rt),(Ut=this.sin_p14*nt+this.cos_p14*ft*Lt)>0||Math.abs(Ut)<=J?(rr=this.x0+1*this.a*ft*Math.sin(Rt)/Ut,qt=this.y0+1*this.a*(this.cos_p14*nt-this.sin_p14*ft*Lt)/Ut):(rr=this.x0+this.infinity_dist*ft*Math.sin(Rt),qt=this.y0+this.infinity_dist*(this.cos_p14*nt-this.sin_p14*ft*Lt)),We.x=rr,We.y=qt,We},inverse:function(We){var nt,ft,Rt,Lt,Ut,rr;return We.x=(We.x-this.x0)/this.a,We.y=(We.y-this.y0)/this.a,We.x/=this.k0,We.y/=this.k0,(nt=Math.sqrt(We.x*We.x+We.y*We.y))?(Lt=Math.atan2(nt,this.rc),ft=Math.sin(Lt),rr=$i((Rt=Math.cos(Lt))*this.sin_p14+We.y*ft*this.cos_p14/nt),Ut=Math.atan2(We.x*ft,nt*this.cos_p14*Rt-We.y*this.sin_p14*ft),Ut=it(this.long0+Ut)):(rr=this.phic0,Ut=0),We.x=Ut,We.y=rr,We},names:["gnom"]},za={init:function(){this.sphere||(this.k0=Ve(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))},forward:function(We){var nt,ft,Rt=We.x,Lt=We.y,Ut=it(Rt-this.long0);if(this.sphere)nt=this.x0+this.a*Ut*Math.cos(this.lat_ts),ft=this.y0+this.a*Math.sin(Lt)/Math.cos(this.lat_ts);else{var rr=Ui(this.e,Math.sin(Lt));nt=this.x0+this.a*this.k0*Ut,ft=this.y0+this.a*rr*.5/this.k0}return We.x=nt,We.y=ft,We},inverse:function(We){var nt,ft;return We.x-=this.x0,We.y-=this.y0,this.sphere?(nt=it(this.long0+We.x/this.a/Math.cos(this.lat_ts)),ft=Math.asin(We.y/this.a*Math.cos(this.lat_ts))):(ft=(function(Rt,Lt){var Ut=1-(1-Rt*Rt)/(2*Rt)*Math.log((1-Rt)/(1+Rt));if(Math.abs(Math.abs(Lt)-Ut)<1e-6)return Lt<0?-1*T:T;for(var rr,qt,Tr,Lr,zr=Math.asin(.5*Lt),rn=0;rn<30;rn++)if(qt=Math.sin(zr),Tr=Math.cos(zr),Lr=Rt*qt,zr+=rr=Math.pow(1-Lr*Lr,2)/(2*Tr)*(Lt/(1-Rt*Rt)-qt/(1-Lr*Lr)+.5/Rt*Math.log((1-Lr)/(1+Lr))),Math.abs(rr)<=1e-10)return zr;return NaN})(this.e,2*We.y*this.k0/this.a),nt=it(this.long0+We.x/(this.a*this.k0))),We.x=nt,We.y=ft,We},names:["cea"]},ea={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)},forward:function(We){var nt=We.x,ft=We.y,Rt=it(nt-this.long0),Lt=ei(ft-this.lat0);return We.x=this.x0+this.a*Rt*this.rc,We.y=this.y0+this.a*Lt,We},inverse:function(We){var nt=We.x,ft=We.y;return We.x=it(this.long0+(nt-this.x0)/(this.a*this.rc)),We.y=ei(this.lat0+(ft-this.y0)/this.a),We},names:["Equirectangular","Equidistant_Cylindrical","eqc"]},Xa={init:function(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=kt(this.es),this.e1=$t(this.es),this.e2=Sr(this.es),this.e3=Ur(this.es),this.ml0=this.a*ct(this.e0,this.e1,this.e2,this.e3,this.lat0)},forward:function(We){var nt,ft,Rt,Lt=We.x,Ut=We.y,rr=it(Lt-this.long0);if(Rt=rr*Math.sin(Ut),this.sphere)Math.abs(Ut)<=J?(nt=this.a*rr,ft=-1*this.a*this.lat0):(nt=this.a*Math.sin(Rt)/Math.tan(Ut),ft=this.a*(ei(Ut-this.lat0)+(1-Math.cos(Rt))/Math.tan(Ut)));else if(Math.abs(Ut)<=J)nt=this.a*rr,ft=-1*this.ml0;else{var qt=Pr(this.a,this.e,Math.sin(Ut))/Math.tan(Ut);nt=qt*Math.sin(Rt),ft=this.a*ct(this.e0,this.e1,this.e2,this.e3,Ut)-this.ml0+qt*(1-Math.cos(Rt))}return We.x=nt+this.x0,We.y=ft+this.y0,We},inverse:function(We){var nt,ft,Rt,Lt,Ut,rr,qt,Tr,Lr;if(Rt=We.x-this.x0,Lt=We.y-this.y0,this.sphere)if(Math.abs(Lt+this.a*this.lat0)<=J)nt=it(Rt/this.a+this.long0),ft=0;else{var zr;for(rr=this.lat0+Lt/this.a,qt=Rt*Rt/this.a/this.a+rr*rr,Tr=rr,Ut=20;Ut;--Ut)if(Tr+=Lr=-1*(rr*(Tr*(zr=Math.tan(Tr))+1)-Tr-.5*(Tr*Tr+qt)*zr)/((Tr-rr)/zr-1),Math.abs(Lr)<=J){ft=Tr;break}nt=it(this.long0+Math.asin(Rt*Math.tan(Tr)/this.a)/Math.sin(ft))}else if(Math.abs(Lt+this.ml0)<=J)ft=0,nt=it(this.long0+Rt/this.a);else{var rn,mn,on,Cn,dn;for(rr=(this.ml0+Lt)/this.a,qt=Rt*Rt/this.a/this.a+rr*rr,Tr=rr,Ut=20;Ut;--Ut)if(dn=this.e*Math.sin(Tr),rn=Math.sqrt(1-dn*dn)*Math.tan(Tr),mn=this.a*ct(this.e0,this.e1,this.e2,this.e3,Tr),on=this.e0-2*this.e1*Math.cos(2*Tr)+4*this.e2*Math.cos(4*Tr)-6*this.e3*Math.cos(6*Tr),Tr-=Lr=(rr*(rn*(Cn=mn/this.a)+1)-Cn-.5*rn*(Cn*Cn+qt))/(this.es*Math.sin(2*Tr)*(Cn*Cn+qt-2*rr*Cn)/(4*rn)+(rr-Cn)*(rn*on-2/Math.sin(2*Tr))-on),Math.abs(Lr)<=J){ft=Tr;break}rn=Math.sqrt(1-this.es*Math.pow(Math.sin(ft),2))*Math.tan(ft),nt=it(this.long0+Math.asin(Rt*rn/this.a)/Math.sin(ft))}return We.x=nt,We.y=ft,We},names:["Polyconic","poly"]},Uo={init:function(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013},forward:function(We){var nt,ft=We.x,Rt=We.y-this.lat0,Lt=ft-this.long0,Ut=Rt/A*1e-5,rr=Lt,qt=1,Tr=0;for(nt=1;nt<=10;nt++)qt*=Ut,Tr+=this.A[nt]*qt;var Lr,zr=Tr,rn=rr,mn=1,on=0,Cn=0,dn=0;for(nt=1;nt<=6;nt++)Lr=on*zr+mn*rn,mn=mn*zr-on*rn,on=Lr,Cn=Cn+this.B_re[nt]*mn-this.B_im[nt]*on,dn=dn+this.B_im[nt]*mn+this.B_re[nt]*on;return We.x=dn*this.a+this.x0,We.y=Cn*this.a+this.y0,We},inverse:function(We){var nt,ft,Rt=We.x,Lt=We.y,Ut=Rt-this.x0,rr=(Lt-this.y0)/this.a,qt=Ut/this.a,Tr=1,Lr=0,zr=0,rn=0;for(nt=1;nt<=6;nt++)ft=Lr*rr+Tr*qt,Tr=Tr*rr-Lr*qt,Lr=ft,zr=zr+this.C_re[nt]*Tr-this.C_im[nt]*Lr,rn=rn+this.C_im[nt]*Tr+this.C_re[nt]*Lr;for(var mn=0;mn<this.iterations;mn++){var on,Cn=zr,dn=rn,$n=rr,Rn=qt;for(nt=2;nt<=6;nt++)on=dn*zr+Cn*rn,Cn=Cn*zr-dn*rn,dn=on,$n+=(nt-1)*(this.B_re[nt]*Cn-this.B_im[nt]*dn),Rn+=(nt-1)*(this.B_im[nt]*Cn+this.B_re[nt]*dn);Cn=1,dn=0;var ni=this.B_re[1],_i=this.B_im[1];for(nt=2;nt<=6;nt++)on=dn*zr+Cn*rn,Cn=Cn*zr-dn*rn,dn=on,ni+=nt*(this.B_re[nt]*Cn-this.B_im[nt]*dn),_i+=nt*(this.B_im[nt]*Cn+this.B_re[nt]*dn);var di=ni*ni+_i*_i;zr=($n*ni+Rn*_i)/di,rn=(Rn*ni-$n*_i)/di}var Pi=zr,Ki=rn,eo=1,La=0;for(nt=1;nt<=9;nt++)eo*=Pi,La+=this.D[nt]*eo;var Pa=this.lat0+La*A*1e5,Go=this.long0+Ki;return We.x=Go,We.y=Pa,We},names:["New_Zealand_Map_Grid","nzmg"]},ts={init:function(){},forward:function(We){var nt=We.x,ft=We.y,Rt=it(nt-this.long0),Lt=this.x0+this.a*Rt,Ut=this.y0+this.a*Math.log(Math.tan(Math.PI/4+ft/2.5))*1.25;return We.x=Lt,We.y=Ut,We},inverse:function(We){We.x-=this.x0,We.y-=this.y0;var nt=it(this.long0+We.x/this.a),ft=2.5*(Math.atan(Math.exp(.8*We.y/this.a))-Math.PI/4);return We.x=nt,We.y=ft,We},names:["Miller_Cylindrical","mill"]},Ns={init:function(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=_o(this.es)},forward:function(We){var nt,ft,Rt=We.x,Lt=We.y;if(Rt=it(Rt-this.long0),this.sphere){if(this.m)for(var Ut=this.n*Math.sin(Lt),rr=20;rr;--rr){var qt=(this.m*Lt+Math.sin(Lt)-Ut)/(this.m+Math.cos(Lt));if(Lt-=qt,Math.abs(qt)<J)break}else Lt=this.n!==1?Math.asin(this.n*Math.sin(Lt)):Lt;nt=this.a*this.C_x*Rt*(this.m+Math.cos(Lt)),ft=this.a*this.C_y*Lt}else{var Tr=Math.sin(Lt),Lr=Math.cos(Lt);ft=this.a*$o(Lt,Tr,Lr,this.en),nt=this.a*Rt*Lr/Math.sqrt(1-this.es*Tr*Tr)}return We.x=nt,We.y=ft,We},inverse:function(We){var nt,ft,Rt;return We.x-=this.x0,ft=We.x/this.a,We.y-=this.y0,nt=We.y/this.a,this.sphere?(nt/=this.C_y,ft/=this.C_x*(this.m+Math.cos(nt)),this.m?nt=$i((this.m*nt+Math.sin(nt))/this.n):this.n!==1&&(nt=$i(Math.sin(nt)/this.n)),ft=it(ft+this.long0),nt=ei(nt)):(nt=pa(We.y/this.a,this.es,this.en),(Rt=Math.abs(nt))<T?(Rt=Math.sin(nt),ft=it(this.long0+We.x*Math.sqrt(1-this.es*Rt*Rt)/(this.a*Math.cos(nt)))):Rt-J<T&&(ft=this.long0)),We.x=ft,We.y=nt,We},names:["Sinusoidal","sinu"]},Wa={init:function(){},forward:function(We){for(var nt=We.x,ft=We.y,Rt=it(nt-this.long0),Lt=ft,Ut=Math.PI*Math.sin(ft);;){var rr=-(Lt+Math.sin(Lt)-Ut)/(1+Math.cos(Lt));if(Lt+=rr,Math.abs(rr)<J)break}Lt/=2,Math.PI/2-Math.abs(ft)<J&&(Rt=0);var qt=.900316316158*this.a*Rt*Math.cos(Lt)+this.x0,Tr=1.4142135623731*this.a*Math.sin(Lt)+this.y0;return We.x=qt,We.y=Tr,We},inverse:function(We){var nt,ft;We.x-=this.x0,We.y-=this.y0,ft=We.y/(1.4142135623731*this.a),Math.abs(ft)>.999999999999&&(ft=.999999999999),nt=Math.asin(ft);var Rt=it(this.long0+We.x/(.900316316158*this.a*Math.cos(nt)));Rt<-Math.PI&&(Rt=-Math.PI),Rt>Math.PI&&(Rt=Math.PI),ft=(2*nt+Math.sin(2*nt))/Math.PI,Math.abs(ft)>1&&(ft=1);var Lt=Math.asin(ft);return We.x=Rt,We.y=Lt,We},names:["Mollweide","moll"]},Bo={init:function(){Math.abs(this.lat1+this.lat2)<J||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=kt(this.es),this.e1=$t(this.es),this.e2=Sr(this.es),this.e3=Ur(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=Ve(this.e,this.sinphi,this.cosphi),this.ml1=ct(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<J?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=Ve(this.e,this.sinphi,this.cosphi),this.ml2=ct(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=ct(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))},forward:function(We){var nt,ft=We.x,Rt=We.y;if(this.sphere)nt=this.a*(this.g-Rt);else{var Lt=ct(this.e0,this.e1,this.e2,this.e3,Rt);nt=this.a*(this.g-Lt)}var Ut=this.ns*it(ft-this.long0),rr=this.x0+nt*Math.sin(Ut),qt=this.y0+this.rh-nt*Math.cos(Ut);return We.x=rr,We.y=qt,We},inverse:function(We){var nt,ft,Rt,Lt;We.x-=this.x0,We.y=this.rh-We.y+this.y0,this.ns>=0?(ft=Math.sqrt(We.x*We.x+We.y*We.y),nt=1):(ft=-Math.sqrt(We.x*We.x+We.y*We.y),nt=-1);var Ut=0;return ft!==0&&(Ut=Math.atan2(nt*We.x,nt*We.y)),this.sphere?(Lt=it(this.long0+Ut/this.ns),Rt=ei(this.g-ft/this.a),We.x=Lt,We.y=Rt,We):(Rt=si(this.g-ft/this.a,this.e0,this.e1,this.e2,this.e3),Lt=it(this.long0+Ut/this.ns),We.x=Lt,We.y=Rt,We)},names:["Equidistant_Conic","eqdc"]},Zo={init:function(){this.R=this.a},forward:function(We){var nt,ft,Rt=We.x,Lt=We.y,Ut=it(Rt-this.long0);Math.abs(Lt)<=J&&(nt=this.x0+this.R*Ut,ft=this.y0);var rr=$i(2*Math.abs(Lt/Math.PI));(Math.abs(Ut)<=J||Math.abs(Math.abs(Lt)-T)<=J)&&(nt=this.x0,ft=Lt>=0?this.y0+Math.PI*this.R*Math.tan(.5*rr):this.y0+Math.PI*this.R*-Math.tan(.5*rr));var qt=.5*Math.abs(Math.PI/Ut-Ut/Math.PI),Tr=qt*qt,Lr=Math.sin(rr),zr=Math.cos(rr),rn=zr/(Lr+zr-1),mn=rn*rn,on=rn*(2/Lr-1),Cn=on*on,dn=Math.PI*this.R*(qt*(rn-Cn)+Math.sqrt(Tr*(rn-Cn)*(rn-Cn)-(Cn+Tr)*(mn-Cn)))/(Cn+Tr);Ut<0&&(dn=-dn),nt=this.x0+dn;var $n=Tr+rn;return dn=Math.PI*this.R*(on*$n-qt*Math.sqrt((Cn+Tr)*(Tr+1)-$n*$n))/(Cn+Tr),ft=Lt>=0?this.y0+dn:this.y0-dn,We.x=nt,We.y=ft,We},inverse:function(We){var nt,ft,Rt,Lt,Ut,rr,qt,Tr,Lr,zr,rn,mn;return We.x-=this.x0,We.y-=this.y0,rn=Math.PI*this.R,Ut=(Rt=We.x/rn)*Rt+(Lt=We.y/rn)*Lt,rn=3*(Lt*Lt/(Tr=-2*(rr=-Math.abs(Lt)*(1+Ut))+1+2*Lt*Lt+Ut*Ut)+(2*(qt=rr-2*Lt*Lt+Rt*Rt)*qt*qt/Tr/Tr/Tr-9*rr*qt/Tr/Tr)/27)/(Lr=(rr-qt*qt/3/Tr)/Tr)/(zr=2*Math.sqrt(-Lr/3)),Math.abs(rn)>1&&(rn=rn>=0?1:-1),mn=Math.acos(rn)/3,ft=We.y>=0?(-zr*Math.cos(mn+Math.PI/3)-qt/3/Tr)*Math.PI:-(-zr*Math.cos(mn+Math.PI/3)-qt/3/Tr)*Math.PI,nt=Math.abs(Rt)<J?this.long0:it(this.long0+Math.PI*(Ut-1+Math.sqrt(1+2*(Rt*Rt-Lt*Lt)+Ut*Ut))/2/Rt),We.x=nt,We.y=ft,We},names:["Van_der_Grinten_I","VanDerGrinten","vandg"]},Yo={init:function(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)},forward:function(We){var nt,ft,Rt,Lt,Ut,rr,qt,Tr,Lr,zr,rn,mn,on,Cn,dn,$n,Rn,ni,_i,di,Pi,Ki,eo=We.x,La=We.y,Pa=Math.sin(We.y),Go=Math.cos(We.y),Qi=it(eo-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=J?(We.x=this.x0+this.a*(T-La)*Math.sin(Qi),We.y=this.y0-this.a*(T-La)*Math.cos(Qi),We):Math.abs(this.sin_p12+1)<=J?(We.x=this.x0+this.a*(T+La)*Math.sin(Qi),We.y=this.y0+this.a*(T+La)*Math.cos(Qi),We):(ni=this.sin_p12*Pa+this.cos_p12*Go*Math.cos(Qi),Rn=($n=Math.acos(ni))?$n/Math.sin($n):1,We.x=this.x0+this.a*Rn*Go*Math.sin(Qi),We.y=this.y0+this.a*Rn*(this.cos_p12*Pa-this.sin_p12*Go*Math.cos(Qi)),We):(nt=kt(this.es),ft=$t(this.es),Rt=Sr(this.es),Lt=Ur(this.es),Math.abs(this.sin_p12-1)<=J?(Ut=this.a*ct(nt,ft,Rt,Lt,T),rr=this.a*ct(nt,ft,Rt,Lt,La),We.x=this.x0+(Ut-rr)*Math.sin(Qi),We.y=this.y0-(Ut-rr)*Math.cos(Qi),We):Math.abs(this.sin_p12+1)<=J?(Ut=this.a*ct(nt,ft,Rt,Lt,T),rr=this.a*ct(nt,ft,Rt,Lt,La),We.x=this.x0+(Ut+rr)*Math.sin(Qi),We.y=this.y0+(Ut+rr)*Math.cos(Qi),We):(qt=Pa/Go,Tr=Pr(this.a,this.e,this.sin_p12),Lr=Pr(this.a,this.e,Pa),zr=Math.atan((1-this.es)*qt+this.es*Tr*this.sin_p12/(Lr*Go)),_i=(rn=Math.atan2(Math.sin(Qi),this.cos_p12*Math.tan(zr)-this.sin_p12*Math.cos(Qi)))===0?Math.asin(this.cos_p12*Math.sin(zr)-this.sin_p12*Math.cos(zr)):Math.abs(Math.abs(rn)-Math.PI)<=J?-Math.asin(this.cos_p12*Math.sin(zr)-this.sin_p12*Math.cos(zr)):Math.asin(Math.sin(Qi)*Math.cos(zr)/Math.sin(rn)),mn=this.e*this.sin_p12/Math.sqrt(1-this.es),$n=Tr*_i*(1-(di=_i*_i)*(dn=(on=this.e*this.cos_p12*Math.cos(rn)/Math.sqrt(1-this.es))*on)*(1-dn)/6+(Pi=di*_i)/8*(Cn=mn*on)*(1-2*dn)+(Ki=Pi*_i)/120*(dn*(4-7*dn)-3*mn*mn*(1-7*dn))-Ki*_i/48*Cn),We.x=this.x0+$n*Math.sin(rn),We.y=this.y0+$n*Math.cos(rn),We))},inverse:function(We){var nt,ft,Rt,Lt,Ut,rr,qt,Tr,Lr,zr,rn,mn,on,Cn,dn,$n,Rn,ni,_i,di,Pi,Ki,eo;return We.x-=this.x0,We.y-=this.y0,this.sphere?(nt=Math.sqrt(We.x*We.x+We.y*We.y))>2*T*this.a?void 0:(ft=nt/this.a,Rt=Math.sin(ft),Lt=Math.cos(ft),Ut=this.long0,Math.abs(nt)<=J?rr=this.lat0:(rr=$i(Lt*this.sin_p12+We.y*Rt*this.cos_p12/nt),qt=Math.abs(this.lat0)-T,Ut=Math.abs(qt)<=J?this.lat0>=0?it(this.long0+Math.atan2(We.x,-We.y)):it(this.long0-Math.atan2(-We.x,We.y)):it(this.long0+Math.atan2(We.x*Rt,nt*this.cos_p12*Lt-We.y*this.sin_p12*Rt))),We.x=Ut,We.y=rr,We):(Tr=kt(this.es),Lr=$t(this.es),zr=Sr(this.es),rn=Ur(this.es),Math.abs(this.sin_p12-1)<=J?(rr=si(((mn=this.a*ct(Tr,Lr,zr,rn,T))-(nt=Math.sqrt(We.x*We.x+We.y*We.y)))/this.a,Tr,Lr,zr,rn),Ut=it(this.long0+Math.atan2(We.x,-1*We.y)),We.x=Ut,We.y=rr,We):Math.abs(this.sin_p12+1)<=J?(mn=this.a*ct(Tr,Lr,zr,rn,T),rr=si(((nt=Math.sqrt(We.x*We.x+We.y*We.y))-mn)/this.a,Tr,Lr,zr,rn),Ut=it(this.long0+Math.atan2(We.x,We.y)),We.x=Ut,We.y=rr,We):(nt=Math.sqrt(We.x*We.x+We.y*We.y),dn=Math.atan2(We.x,We.y),on=Pr(this.a,this.e,this.sin_p12),$n=Math.cos(dn),ni=-(Rn=this.e*this.cos_p12*$n)*Rn/(1-this.es),_i=3*this.es*(1-ni)*this.sin_p12*this.cos_p12*$n/(1-this.es),Ki=1-ni*(Pi=(di=nt/on)-ni*(1+ni)*Math.pow(di,3)/6-_i*(1+3*ni)*Math.pow(di,4)/24)*Pi/2-di*Pi*Pi*Pi/6,Cn=Math.asin(this.sin_p12*Math.cos(Pi)+this.cos_p12*Math.sin(Pi)*$n),Ut=it(this.long0+Math.asin(Math.sin(dn)*Math.sin(Pi)/Math.cos(Cn))),eo=Math.sin(Cn),rr=Math.atan2((eo-this.es*Ki*this.sin_p12)*Math.tan(Cn),eo*(1-this.es)),We.x=Ut,We.y=rr,We))},names:["Azimuthal_Equidistant","aeqd"]},Vi={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)},forward:function(We){var nt,ft,Rt,Lt,Ut,rr,qt,Tr=We.x,Lr=We.y;return Rt=it(Tr-this.long0),nt=Math.sin(Lr),ft=Math.cos(Lr),Lt=Math.cos(Rt),((Ut=this.sin_p14*nt+this.cos_p14*ft*Lt)>0||Math.abs(Ut)<=J)&&(rr=1*this.a*ft*Math.sin(Rt),qt=this.y0+1*this.a*(this.cos_p14*nt-this.sin_p14*ft*Lt)),We.x=rr,We.y=qt,We},inverse:function(We){var nt,ft,Rt,Lt,Ut,rr,qt;return We.x-=this.x0,We.y-=this.y0,ft=$i((nt=Math.sqrt(We.x*We.x+We.y*We.y))/this.a),Rt=Math.sin(ft),Lt=Math.cos(ft),rr=this.long0,Math.abs(nt)<=J?(qt=this.lat0,We.x=rr,We.y=qt,We):(qt=$i(Lt*this.sin_p14+We.y*Rt*this.cos_p14/nt),Ut=Math.abs(this.lat0)-T,Math.abs(Ut)<=J?(rr=this.lat0>=0?it(this.long0+Math.atan2(We.x,-We.y)):it(this.long0-Math.atan2(-We.x,We.y)),We.x=rr,We.y=qt,We):(rr=it(this.long0+Math.atan2(We.x*Rt,nt*this.cos_p14*Lt-We.y*this.sin_p14*Rt)),We.x=rr,We.y=qt,We))},names:["ortho"]};var Yr=1,gi=2,so=3,yo=4,ms=5,jo=6,qi={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function Po(We,nt,ft,Rt){var Lt;return We<J?(Rt.value=qi.AREA_0,Lt=0):(Lt=Math.atan2(nt,ft),Math.abs(Lt)<=ue?Rt.value=qi.AREA_0:Lt>ue&&Lt<=T+ue?(Rt.value=qi.AREA_1,Lt-=T):Lt>T+ue||Lt<=-(T+ue)?(Rt.value=qi.AREA_2,Lt=Lt>=0?Lt-Le:Lt+Le):(Rt.value=qi.AREA_3,Lt+=T)),Lt}function vo(We,nt){var ft=We+nt;return ft<-Le?ft+=fe:ft>+Le&&(ft-=fe),ft}const $a={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=T-ue/2?this.face=ms:this.lat0<=-(T-ue/2)?this.face=jo:Math.abs(this.long0)<=ue?this.face=Yr:Math.abs(this.long0)<=T+ue?this.face=this.long0>0?gi:yo:this.face=so,this.es!==0&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)},forward:function(We){var nt,ft,Rt,Lt,Ut,rr,qt={x:0,y:0},Tr={value:0};if(We.x-=this.long0,nt=this.es!==0?Math.atan(this.one_minus_f_squared*Math.tan(We.y)):We.y,ft=We.x,this.face===ms)Lt=T-nt,ft>=ue&&ft<=T+ue?(Tr.value=qi.AREA_0,Rt=ft-T):ft>T+ue||ft<=-(T+ue)?(Tr.value=qi.AREA_1,Rt=ft>0?ft-Le:ft+Le):ft>-(T+ue)&&ft<=-ue?(Tr.value=qi.AREA_2,Rt=ft+T):(Tr.value=qi.AREA_3,Rt=ft);else if(this.face===jo)Lt=T+nt,ft>=ue&&ft<=T+ue?(Tr.value=qi.AREA_0,Rt=-ft+T):ft<ue&&ft>=-ue?(Tr.value=qi.AREA_1,Rt=-ft):ft<-ue&&ft>=-(T+ue)?(Tr.value=qi.AREA_2,Rt=-ft-T):(Tr.value=qi.AREA_3,Rt=ft>0?-ft+Le:-ft-Le);else{var Lr,zr,rn,mn,on,Cn;this.face===gi?ft=vo(ft,+T):this.face===so?ft=vo(ft,+Le):this.face===yo&&(ft=vo(ft,-T)),mn=Math.sin(nt),on=Math.cos(nt),Cn=Math.sin(ft),Lr=on*Math.cos(ft),zr=on*Cn,rn=mn,this.face===Yr?Rt=Po(Lt=Math.acos(Lr),rn,zr,Tr):this.face===gi?Rt=Po(Lt=Math.acos(zr),rn,-Lr,Tr):this.face===so?Rt=Po(Lt=Math.acos(-Lr),rn,-zr,Tr):this.face===yo?Rt=Po(Lt=Math.acos(-zr),rn,Lr,Tr):(Lt=Rt=0,Tr.value=qi.AREA_0)}return rr=Math.atan(12/Le*(Rt+Math.acos(Math.sin(Rt)*Math.cos(ue))-T)),Ut=Math.sqrt((1-Math.cos(Lt))/(Math.cos(rr)*Math.cos(rr))/(1-Math.cos(Math.atan(1/Math.cos(Rt))))),Tr.value===qi.AREA_1?rr+=T:Tr.value===qi.AREA_2?rr+=Le:Tr.value===qi.AREA_3&&(rr+=1.5*Le),qt.x=Ut*Math.cos(rr),qt.y=Ut*Math.sin(rr),qt.x=qt.x*this.a+this.x0,qt.y=qt.y*this.a+this.y0,We.x=qt.x,We.y=qt.y,We},inverse:function(We){var nt,ft,Rt,Lt,Ut,rr,qt,Tr,Lr,zr,rn,mn,on={lam:0,phi:0},Cn={value:0};if(We.x=(We.x-this.x0)/this.a,We.y=(We.y-this.y0)/this.a,ft=Math.atan(Math.sqrt(We.x*We.x+We.y*We.y)),nt=Math.atan2(We.y,We.x),We.x>=0&&We.x>=Math.abs(We.y)?Cn.value=qi.AREA_0:We.y>=0&&We.y>=Math.abs(We.x)?(Cn.value=qi.AREA_1,nt-=T):We.x<0&&-We.x>=Math.abs(We.y)?(Cn.value=qi.AREA_2,nt=nt<0?nt+Le:nt-Le):(Cn.value=qi.AREA_3,nt+=T),Lr=Le/12*Math.tan(nt),Ut=Math.sin(Lr)/(Math.cos(Lr)-1/Math.sqrt(2)),rr=Math.atan(Ut),(qt=1-(Rt=Math.cos(nt))*Rt*(Lt=Math.tan(ft))*Lt*(1-Math.cos(Math.atan(1/Math.cos(rr)))))<-1?qt=-1:qt>1&&(qt=1),this.face===ms)Tr=Math.acos(qt),on.phi=T-Tr,Cn.value===qi.AREA_0?on.lam=rr+T:Cn.value===qi.AREA_1?on.lam=rr<0?rr+Le:rr-Le:Cn.value===qi.AREA_2?on.lam=rr-T:on.lam=rr;else if(this.face===jo)Tr=Math.acos(qt),on.phi=Tr-T,Cn.value===qi.AREA_0?on.lam=-rr+T:Cn.value===qi.AREA_1?on.lam=-rr:Cn.value===qi.AREA_2?on.lam=-rr-T:on.lam=rr<0?-rr-Le:-rr+Le;else{var dn,$n,Rn;Lr=(dn=qt)*dn,$n=(Lr+=(Rn=Lr>=1?0:Math.sqrt(1-Lr)*Math.sin(rr))*Rn)>=1?0:Math.sqrt(1-Lr),Cn.value===qi.AREA_1?(Lr=$n,$n=-Rn,Rn=Lr):Cn.value===qi.AREA_2?($n=-$n,Rn=-Rn):Cn.value===qi.AREA_3&&(Lr=$n,$n=Rn,Rn=-Lr),this.face===gi?(Lr=dn,dn=-$n,$n=Lr):this.face===so?(dn=-dn,$n=-$n):this.face===yo&&(Lr=dn,dn=$n,$n=-Lr),on.phi=Math.acos(-Rn)-T,on.lam=Math.atan2($n,dn),this.face===gi?on.lam=vo(on.lam,-T):this.face===so?on.lam=vo(on.lam,-Le):this.face===yo&&(on.lam=vo(on.lam,+T))}return this.es!==0&&(zr=on.phi<0?1:0,rn=Math.tan(on.phi),mn=this.b/Math.sqrt(rn*rn+this.one_minus_f_squared),on.phi=Math.atan(Math.sqrt(this.a*this.a-mn*mn)/(this.one_minus_f*mn)),zr&&(on.phi=-on.phi)),on.lam+=this.long0,We.x=on.lam,We.y=on.phi,We},names:["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"]};var ga=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-986701e-12],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,18736e-12],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,934959e-12],[.7986,-.00755338,-500009e-10,935324e-12],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],Da=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-126793e-14,422642e-15],[.124,.0124,507171e-14,-160604e-14],[.186,.0123999,-190189e-13,600152e-14],[.248,.0124002,710039e-13,-224e-10],[.31,.0123992,-264997e-12,835986e-13],[.372,.0124029,988983e-12,-311994e-12],[.434,.0123893,-369093e-11,-435621e-12],[.4958,.0123198,-102252e-10,-345523e-12],[.5571,.0121916,-154081e-10,-582288e-12],[.6176,.0119938,-241424e-10,-525327e-12],[.6769,.011713,-320223e-10,-516405e-12],[.7346,.0113541,-397684e-10,-609052e-12],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-140374e-14],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],Za=.8487,Ne=1.3523,at=oe/5,mt=1/at,At=18,Qt=function(We,nt){return We[0]+nt*(We[1]+nt*(We[2]+nt*We[3]))};const br={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"},forward:function(We){var nt=it(We.x-this.long0),ft=Math.abs(We.y),Rt=Math.floor(ft*at);Rt<0?Rt=0:Rt>=At&&(Rt=17);var Lt={x:Qt(ga[Rt],ft=oe*(ft-mt*Rt))*nt,y:Qt(Da[Rt],ft)};return We.y<0&&(Lt.y=-Lt.y),Lt.x=Lt.x*this.a*Za+this.x0,Lt.y=Lt.y*this.a*Ne+this.y0,Lt},inverse:function(We){var nt={x:(We.x-this.x0)/(this.a*Za),y:Math.abs(We.y-this.y0)/(this.a*Ne)};if(nt.y>=1)nt.x/=ga[18][0],nt.y=We.y<0?-T:T;else{var ft=Math.floor(nt.y*At);for(ft<0?ft=0:ft>=At&&(ft=17);;)if(Da[ft][0]>nt.y)--ft;else{if(!(Da[ft+1][0]<=nt.y))break;++ft}var Rt=Da[ft],Lt=5*(nt.y-Rt[0])/(Da[ft+1][0]-Rt[0]);Lt=(function(Ut,rr,qt,Tr){for(var Lr=rr;Tr;--Tr){var zr=Ut(Lr);if(Lr-=zr,Math.abs(zr)<qt)break}return Lr})((function(Ut){return(Qt(Rt,Ut)-nt.y)/(function(rr,qt){return rr[1]+qt*(2*rr[2]+3*qt*rr[3])})(Rt,Ut)}),Lt,J,100),nt.x/=Qt(ga[ft],Lt),nt.y=(5*ft+Lt)*te,We.y<0&&(nt.y=-nt.y)}return nt.x=it(nt.x+this.long0),nt},names:["Robinson","robin"]},or={init:function(){this.name="geocent"},forward:function(We){return Ei(We,this.es,this.a)},inverse:function(We){return fa(We,this.es,this.a,this.b)},names:["Geocentric","geocentric","geocent","Geocent"]};var vr=0,Hr=1,Fr=2,Nn=3,Wn={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}};const ui={init:function(){if(Object.keys(Wn).forEach((function(ft){if(this[ft]===void 0)this[ft]=Wn[ft].def;else{if(Wn[ft].num&&isNaN(this[ft]))throw new Error("Invalid parameter value, must be numeric "+ft+" = "+this[ft]);Wn[ft].num&&(this[ft]=parseFloat(this[ft]))}Wn[ft].degrees&&(this[ft]=this[ft]*te)}).bind(this)),Math.abs(Math.abs(this.lat0)-T)<J?this.mode=this.lat0<0?Hr:vr:Math.abs(this.lat0)<J?this.mode=Fr:(this.mode=Nn,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var We=this.tilt,nt=this.azi;this.cg=Math.cos(nt),this.sg=Math.sin(nt),this.cw=Math.cos(We),this.sw=Math.sin(We)},forward:function(We){We.x-=this.long0;var nt,ft,Rt,Lt,Ut=Math.sin(We.y),rr=Math.cos(We.y),qt=Math.cos(We.x);switch(this.mode){case Nn:ft=this.sinph0*Ut+this.cosph0*rr*qt;break;case Fr:ft=rr*qt;break;case Hr:ft=-Ut;break;case vr:ft=Ut}switch(nt=(ft=this.pn1/(this.p-ft))*rr*Math.sin(We.x),this.mode){case Nn:ft*=this.cosph0*Ut-this.sinph0*rr*qt;break;case Fr:ft*=Ut;break;case vr:ft*=-rr*qt;break;case Hr:ft*=rr*qt}return Lt=1/((Rt=ft*this.cg+nt*this.sg)*this.sw*this.h1+this.cw),nt=(nt*this.cg-ft*this.sg)*this.cw*Lt,ft=Rt*Lt,We.x=nt*this.a,We.y=ft*this.a,We},inverse:function(We){We.x/=this.a,We.y/=this.a;var nt,ft,Rt,Lt={x:We.x,y:We.y};Rt=1/(this.pn1-We.y*this.sw),nt=this.pn1*We.x*Rt,ft=this.pn1*We.y*this.cw*Rt,We.x=nt*this.cg+ft*this.sg,We.y=ft*this.cg-nt*this.sg;var Ut=Zi(We.x,We.y);if(Math.abs(Ut)<J)Lt.x=0,Lt.y=We.y;else{var rr,qt;switch(qt=1-Ut*Ut*this.pfact,qt=(this.p-Math.sqrt(qt))/(this.pn1/Ut+Ut/this.pn1),rr=Math.sqrt(1-qt*qt),this.mode){case Nn:Lt.y=Math.asin(rr*this.sinph0+We.y*qt*this.cosph0/Ut),We.y=(rr-this.sinph0*Math.sin(Lt.y))*Ut,We.x*=qt*this.cosph0;break;case Fr:Lt.y=Math.asin(We.y*qt/Ut),We.y=rr*Ut,We.x*=qt;break;case vr:Lt.y=Math.asin(rr),We.y=-We.y;break;case Hr:Lt.y=-Math.asin(rr)}Lt.x=Math.atan2(We.x,We.y)}return We.x=Lt.x+this.long0,We.y=Lt.y,We},names:["Tilted_Perspective","tpers"]},pi={init:function(){if(this.flip_axis=this.sweep==="x"?1:0,this.h=Number(this.h),this.radius_g_1=this.h/this.a,this.radius_g_1<=0||this.radius_g_1>1e10)throw new Error;if(this.radius_g=1+this.radius_g_1,this.C=this.radius_g*this.radius_g-1,this.es!==0){var We=1-this.es,nt=1/We;this.radius_p=Math.sqrt(We),this.radius_p2=We,this.radius_p_inv2=nt,this.shape="ellipse"}else this.radius_p=1,this.radius_p2=1,this.radius_p_inv2=1,this.shape="sphere";this.title||(this.title="Geostationary Satellite View")},forward:function(We){var nt,ft,Rt,Lt,Ut=We.x,rr=We.y;if(Ut-=this.long0,this.shape==="ellipse"){rr=Math.atan(this.radius_p2*Math.tan(rr));var qt=this.radius_p/Zi(this.radius_p*Math.cos(rr),Math.sin(rr));if(ft=qt*Math.cos(Ut)*Math.cos(rr),Rt=qt*Math.sin(Ut)*Math.cos(rr),Lt=qt*Math.sin(rr),(this.radius_g-ft)*ft-Rt*Rt-Lt*Lt*this.radius_p_inv2<0)return We.x=Number.NaN,We.y=Number.NaN,We;nt=this.radius_g-ft,this.flip_axis?(We.x=this.radius_g_1*Math.atan(Rt/Zi(Lt,nt)),We.y=this.radius_g_1*Math.atan(Lt/nt)):(We.x=this.radius_g_1*Math.atan(Rt/nt),We.y=this.radius_g_1*Math.atan(Lt/Zi(Rt,nt)))}else this.shape==="sphere"&&(nt=Math.cos(rr),ft=Math.cos(Ut)*nt,Rt=Math.sin(Ut)*nt,Lt=Math.sin(rr),nt=this.radius_g-ft,this.flip_axis?(We.x=this.radius_g_1*Math.atan(Rt/Zi(Lt,nt)),We.y=this.radius_g_1*Math.atan(Lt/nt)):(We.x=this.radius_g_1*Math.atan(Rt/nt),We.y=this.radius_g_1*Math.atan(Lt/Zi(Rt,nt))));return We.x=We.x*this.a,We.y=We.y*this.a,We},inverse:function(We){var nt,ft,Rt,Lt,Ut=-1,rr=0,qt=0;if(We.x=We.x/this.a,We.y=We.y/this.a,this.shape==="ellipse"){this.flip_axis?(qt=Math.tan(We.y/this.radius_g_1),rr=Math.tan(We.x/this.radius_g_1)*Zi(1,qt)):(rr=Math.tan(We.x/this.radius_g_1),qt=Math.tan(We.y/this.radius_g_1)*Zi(1,rr));var Tr=qt/this.radius_p;if(nt=rr*rr+Tr*Tr+Ut*Ut,(Rt=(ft=2*this.radius_g*Ut)*ft-4*nt*this.C)<0)return We.x=Number.NaN,We.y=Number.NaN,We;Lt=(-ft-Math.sqrt(Rt))/(2*nt),Ut=this.radius_g+Lt*Ut,rr*=Lt,qt*=Lt,We.x=Math.atan2(rr,Ut),We.y=Math.atan(qt*Math.cos(We.x)/Ut),We.y=Math.atan(this.radius_p_inv2*Math.tan(We.y))}else if(this.shape==="sphere"){if(this.flip_axis?(qt=Math.tan(We.y/this.radius_g_1),rr=Math.tan(We.x/this.radius_g_1)*Math.sqrt(1+qt*qt)):(rr=Math.tan(We.x/this.radius_g_1),qt=Math.tan(We.y/this.radius_g_1)*Math.sqrt(1+rr*rr)),nt=rr*rr+qt*qt+Ut*Ut,(Rt=(ft=2*this.radius_g*Ut)*ft-4*nt*this.C)<0)return We.x=Number.NaN,We.y=Number.NaN,We;Lt=(-ft-Math.sqrt(Rt))/(2*nt),Ut=this.radius_g+Lt*Ut,rr*=Lt,qt*=Lt,We.x=Math.atan2(rr,Ut),We.y=Math.atan(qt*Math.cos(We.x)/Ut)}return We.x=We.x+this.long0,We},names:["Geostationary Satellite View","Geostationary_Satellite","geos"]};var Kn;hn.defaultDatum="WGS84",hn.Proj=zi,hn.WGS84=new hn.Proj("WGS84"),hn.Point=fi,hn.toPoint=nr,hn.defs=Dt,hn.nadgrid=function(We,nt){var ft=new DataView(nt),Rt=(function(qt){var Tr=qt.getInt32(8,!1);return Tr!==11&&((Tr=qt.getInt32(8,!0))!==11&&Fn.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian"),!0)})(ft),Lt=(function(qt,Tr){return{nFields:qt.getInt32(8,Tr),nSubgridFields:qt.getInt32(24,Tr),nSubgrids:qt.getInt32(40,Tr),shiftType:wi(qt,56,64).trim(),fromSemiMajorAxis:qt.getFloat64(120,Tr),fromSemiMinorAxis:qt.getFloat64(136,Tr),toSemiMajorAxis:qt.getFloat64(152,Tr),toSemiMinorAxis:qt.getFloat64(168,Tr)}})(ft,Rt);Lt.nSubgrids>1&&Fn.log("Only single NTv2 subgrids are currently supported, subsequent sub grids are ignored");var Ut=(function(qt,Tr,Lr){for(var zr=[],rn=0;rn<Tr.nSubgrids;rn++){var mn=Si(qt,176,Lr),on=Gi(qt,176,mn,Lr),Cn=Math.round(1+(mn.upperLongitude-mn.lowerLongitude)/mn.longitudeInterval),dn=Math.round(1+(mn.upperLatitude-mn.lowerLatitude)/mn.latitudeInterval);zr.push({ll:[vi(mn.lowerLongitude),vi(mn.lowerLatitude)],del:[vi(mn.longitudeInterval),vi(mn.latitudeInterval)],lim:[Cn,dn],count:mn.gridNodeCount,cvs:oi(on)})}return zr})(ft,Lt,Rt),rr={header:Lt,subgrids:Ut};return ti[We]=rr,rr},hn.transform=Nr,hn.mgrs=Ar,hn.version="__VERSION__",(Kn=hn).Proj.projections.add(Va),Kn.Proj.projections.add(Ca),Kn.Proj.projections.add(ua),Kn.Proj.projections.add(Sa),Kn.Proj.projections.add(po),Kn.Proj.projections.add(Ja),Kn.Proj.projections.add(oo),Kn.Proj.projections.add(go),Kn.Proj.projections.add(as),Kn.Proj.projections.add(Ni),Kn.Proj.projections.add(la),Kn.Proj.projections.add(wa),Kn.Proj.projections.add(Ri),Kn.Proj.projections.add(za),Kn.Proj.projections.add(ea),Kn.Proj.projections.add(Xa),Kn.Proj.projections.add(Uo),Kn.Proj.projections.add(ts),Kn.Proj.projections.add(Ns),Kn.Proj.projections.add(Wa),Kn.Proj.projections.add(Bo),Kn.Proj.projections.add(Zo),Kn.Proj.projections.add(Yo),Kn.Proj.projections.add(Vi),Kn.Proj.projections.add($a),Kn.Proj.projections.add(br),Kn.Proj.projections.add(or),Kn.Proj.projections.add(ui),Kn.Proj.projections.add(pi);const Li=hn},2587:y=>{function x(r,b){return Object.prototype.hasOwnProperty.call(r,b)}y.exports=function(r,b,M,z){b=b||"&",M=M||"=";var B={};if(typeof r!="string"||r.length===0)return B;var R=/\+/g;r=r.split(b);var I=1e3;z&&typeof z.maxKeys=="number"&&(I=z.maxKeys);var O=r.length;I>0&&O>I&&(O=I);for(var A=0;A<O;++A){var T,U,q,K,J=r[A].replace(R,"%20"),te=J.indexOf(M);te>=0?(T=J.substr(0,te),U=J.substr(te+1)):(T=J,U=""),q=decodeURIComponent(T),K=decodeURIComponent(U),x(B,q)?Array.isArray(B[q])?B[q].push(K):B[q]=[B[q],K]:B[q]=K}return B}},2361:y=>{var x=function(r){switch(typeof r){case"string":return r;case"boolean":return r?"true":"false";case"number":return isFinite(r)?r:"";default:return""}};y.exports=function(r,b,M,z){return b=b||"&",M=M||"=",r===null&&(r=void 0),typeof r=="object"?Object.keys(r).map((function(B){var R=encodeURIComponent(x(B))+M;return Array.isArray(r[B])?r[B].map((function(I){return R+encodeURIComponent(x(I))})).join(b):R+encodeURIComponent(x(r[B]))})).join(b):z?encodeURIComponent(x(z))+M+encodeURIComponent(x(r)):""}},7673:(y,x,r)=>{x.decode=x.parse=r(2587),x.encode=x.stringify=r(2361)},9189:(y,x,r)=>{var b=r(5717),M=r(7187).EventEmitter;function z(O){if(!(this instanceof z))return new z(O);M.call(this),O=O||{},this.concurrency=O.concurrency||1/0,this.timeout=O.timeout||0,this.autostart=O.autostart||!1,this.results=O.results||null,this.pending=0,this.session=0,this.running=!1,this.jobs=[],this.timers={}}function B(){for(var O in this.timers){var A=this.timers[O];delete this.timers[O],clearTimeout(A)}}function R(O){var A=this;function T(U){A.end(U)}this.on("error",T),this.on("end",(function U(q){A.removeListener("error",T),A.removeListener("end",U),O(q,this.results)}))}function I(O){this.session++,this.running=!1,this.emit("end",O)}y.exports=z,y.exports.default=z,b(z,M),["pop","shift","indexOf","lastIndexOf"].forEach((function(O){z.prototype[O]=function(){return Array.prototype[O].apply(this.jobs,arguments)}})),z.prototype.slice=function(O,A){return this.jobs=this.jobs.slice(O,A),this},z.prototype.reverse=function(){return this.jobs.reverse(),this},["push","unshift","splice"].forEach((function(O){z.prototype[O]=function(){var A=Array.prototype[O].apply(this.jobs,arguments);return this.autostart&&this.start(),A}})),Object.defineProperty(z.prototype,"length",{get:function(){return this.pending+this.jobs.length}}),z.prototype.start=function(O){if(O&&R.call(this,O),this.running=!0,!(this.pending>=this.concurrency))if(this.jobs.length!==0){var A=this,T=this.jobs.shift(),U=!0,q=this.session,K=null,J=!1,te=null,oe=T.timeout||this.timeout;oe&&(K=setTimeout((function(){J=!0,A.listeners("timeout").length>0?A.emit("timeout",fe,T):fe()}),oe),this.timers[K]=K),this.results&&(te=this.results.length,this.results[te]=null),this.pending++,A.emit("start",T);var ue=T(fe);ue&&ue.then&&typeof ue.then=="function"&&ue.then((function(Le){return fe(null,Le)})).catch((function(Le){return fe(Le||!0)})),this.running&&this.jobs.length>0&&this.start()}else this.pending===0&&I.call(this);function fe(Le,Ge){U&&A.session===q&&(U=!1,A.pending--,K!==null&&(delete A.timers[K],clearTimeout(K)),Le?A.emit("error",Le,T):J===!1&&(te!==null&&(A.results[te]=Array.prototype.slice.call(arguments,1)),A.emit("success",Ge,T)),A.session===q&&(A.pending===0&&A.jobs.length===0?I.call(A):A.running&&A.start()))}},z.prototype.stop=function(){this.running=!1},z.prototype.end=function(O){B.call(this),this.jobs.length=0,this.pending=0,I.call(this,O)}},2582:function(y){y.exports=(function(){function x(oe,ue,fe,Le,Ge){(function ze(je,Be,_e,He,tt){for(;He>_e;){if(He-_e>600){var Ke=He-_e+1,Ze=Be-_e+1,Qe=Math.log(Ke),vt=.5*Math.exp(2*Qe/3),pt=.5*Math.sqrt(Qe*vt*(Ke-vt)/Ke)*(Ze-Ke/2<0?-1:1);ze(je,Be,Math.max(_e,Math.floor(Be-Ze*vt/Ke+pt)),Math.min(He,Math.floor(Be+(Ke-Ze)*vt/Ke+pt)),tt)}var ut=je[Be],Mt=_e,bt=He;for(r(je,_e,Be),tt(je[He],ut)>0&&r(je,_e,He);Mt<bt;){for(r(je,Mt,bt),Mt++,bt--;tt(je[Mt],ut)<0;)Mt++;for(;tt(je[bt],ut)>0;)bt--}tt(je[_e],ut)===0?r(je,_e,bt):r(je,++bt,He),bt<=Be&&(_e=bt+1),Be<=bt&&(He=bt-1)}})(oe,ue,fe||0,Le||oe.length-1,Ge||b)}function r(oe,ue,fe){var Le=oe[ue];oe[ue]=oe[fe],oe[fe]=Le}function b(oe,ue){return oe<ue?-1:oe>ue?1:0}var M=function(oe){oe===void 0&&(oe=9),this._maxEntries=Math.max(4,oe),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function z(oe,ue,fe){if(!fe)return ue.indexOf(oe);for(var Le=0;Le<ue.length;Le++)if(fe(oe,ue[Le]))return Le;return-1}function B(oe,ue){R(oe,0,oe.children.length,ue,oe)}function R(oe,ue,fe,Le,Ge){Ge||(Ge=J(null)),Ge.minX=1/0,Ge.minY=1/0,Ge.maxX=-1/0,Ge.maxY=-1/0;for(var ze=ue;ze<fe;ze++){var je=oe.children[ze];I(Ge,oe.leaf?Le(je):je)}return Ge}function I(oe,ue){return oe.minX=Math.min(oe.minX,ue.minX),oe.minY=Math.min(oe.minY,ue.minY),oe.maxX=Math.max(oe.maxX,ue.maxX),oe.maxY=Math.max(oe.maxY,ue.maxY),oe}function O(oe,ue){return oe.minX-ue.minX}function A(oe,ue){return oe.minY-ue.minY}function T(oe){return(oe.maxX-oe.minX)*(oe.maxY-oe.minY)}function U(oe){return oe.maxX-oe.minX+(oe.maxY-oe.minY)}function q(oe,ue){return oe.minX<=ue.minX&&oe.minY<=ue.minY&&ue.maxX<=oe.maxX&&ue.maxY<=oe.maxY}function K(oe,ue){return ue.minX<=oe.maxX&&ue.minY<=oe.maxY&&ue.maxX>=oe.minX&&ue.maxY>=oe.minY}function J(oe){return{children:oe,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function te(oe,ue,fe,Le,Ge){for(var ze=[ue,fe];ze.length;)if(!((fe=ze.pop())-(ue=ze.pop())<=Le)){var je=ue+Math.ceil((fe-ue)/Le/2)*Le;x(oe,je,ue,fe,Ge),ze.push(ue,je,je,fe)}}return M.prototype.all=function(){return this._all(this.data,[])},M.prototype.search=function(oe){var ue=this.data,fe=[];if(!K(oe,ue))return fe;for(var Le=this.toBBox,Ge=[];ue;){for(var ze=0;ze<ue.children.length;ze++){var je=ue.children[ze],Be=ue.leaf?Le(je):je;K(oe,Be)&&(ue.leaf?fe.push(je):q(oe,Be)?this._all(je,fe):Ge.push(je))}ue=Ge.pop()}return fe},M.prototype.collides=function(oe){var ue=this.data;if(!K(oe,ue))return!1;for(var fe=[];ue;){for(var Le=0;Le<ue.children.length;Le++){var Ge=ue.children[Le],ze=ue.leaf?this.toBBox(Ge):Ge;if(K(oe,ze)){if(ue.leaf||q(oe,ze))return!0;fe.push(Ge)}}ue=fe.pop()}return!1},M.prototype.load=function(oe){if(!oe||!oe.length)return this;if(oe.length<this._minEntries){for(var ue=0;ue<oe.length;ue++)this.insert(oe[ue]);return this}var fe=this._build(oe.slice(),0,oe.length-1,0);if(this.data.children.length)if(this.data.height===fe.height)this._splitRoot(this.data,fe);else{if(this.data.height<fe.height){var Le=this.data;this.data=fe,fe=Le}this._insert(fe,this.data.height-fe.height-1,!0)}else this.data=fe;return this},M.prototype.insert=function(oe){return oe&&this._insert(oe,this.data.height-1),this},M.prototype.clear=function(){return this.data=J([]),this},M.prototype.remove=function(oe,ue){if(!oe)return this;for(var fe,Le,Ge,ze=this.data,je=this.toBBox(oe),Be=[],_e=[];ze||Be.length;){if(ze||(ze=Be.pop(),Le=Be[Be.length-1],fe=_e.pop(),Ge=!0),ze.leaf){var He=z(oe,ze.children,ue);if(He!==-1)return ze.children.splice(He,1),Be.push(ze),this._condense(Be),this}Ge||ze.leaf||!q(ze,je)?Le?(fe++,ze=Le.children[fe],Ge=!1):ze=null:(Be.push(ze),_e.push(fe),fe=0,Le=ze,ze=ze.children[0])}return this},M.prototype.toBBox=function(oe){return oe},M.prototype.compareMinX=function(oe,ue){return oe.minX-ue.minX},M.prototype.compareMinY=function(oe,ue){return oe.minY-ue.minY},M.prototype.toJSON=function(){return this.data},M.prototype.fromJSON=function(oe){return this.data=oe,this},M.prototype._all=function(oe,ue){for(var fe=[];oe;)oe.leaf?ue.push.apply(ue,oe.children):fe.push.apply(fe,oe.children),oe=fe.pop();return ue},M.prototype._build=function(oe,ue,fe,Le){var Ge,ze=fe-ue+1,je=this._maxEntries;if(ze<=je)return B(Ge=J(oe.slice(ue,fe+1)),this.toBBox),Ge;Le||(Le=Math.ceil(Math.log(ze)/Math.log(je)),je=Math.ceil(ze/Math.pow(je,Le-1))),(Ge=J([])).leaf=!1,Ge.height=Le;var Be=Math.ceil(ze/je),_e=Be*Math.ceil(Math.sqrt(je));te(oe,ue,fe,_e,this.compareMinX);for(var He=ue;He<=fe;He+=_e){var tt=Math.min(He+_e-1,fe);te(oe,He,tt,Be,this.compareMinY);for(var Ke=He;Ke<=tt;Ke+=Be){var Ze=Math.min(Ke+Be-1,tt);Ge.children.push(this._build(oe,Ke,Ze,Le-1))}}return B(Ge,this.toBBox),Ge},M.prototype._chooseSubtree=function(oe,ue,fe,Le){for(;Le.push(ue),!ue.leaf&&Le.length-1!==fe;){for(var Ge=1/0,ze=1/0,je=void 0,Be=0;Be<ue.children.length;Be++){var _e=ue.children[Be],He=T(_e),tt=(Ke=oe,Ze=_e,(Math.max(Ze.maxX,Ke.maxX)-Math.min(Ze.minX,Ke.minX))*(Math.max(Ze.maxY,Ke.maxY)-Math.min(Ze.minY,Ke.minY))-He);tt<ze?(ze=tt,Ge=He<Ge?He:Ge,je=_e):tt===ze&&He<Ge&&(Ge=He,je=_e)}ue=je||ue.children[0]}var Ke,Ze;return ue},M.prototype._insert=function(oe,ue,fe){var Le=fe?oe:this.toBBox(oe),Ge=[],ze=this._chooseSubtree(Le,this.data,ue,Ge);for(ze.children.push(oe),I(ze,Le);ue>=0&&Ge[ue].children.length>this._maxEntries;)this._split(Ge,ue),ue--;this._adjustParentBBoxes(Le,Ge,ue)},M.prototype._split=function(oe,ue){var fe=oe[ue],Le=fe.children.length,Ge=this._minEntries;this._chooseSplitAxis(fe,Ge,Le);var ze=this._chooseSplitIndex(fe,Ge,Le),je=J(fe.children.splice(ze,fe.children.length-ze));je.height=fe.height,je.leaf=fe.leaf,B(fe,this.toBBox),B(je,this.toBBox),ue?oe[ue-1].children.push(je):this._splitRoot(fe,je)},M.prototype._splitRoot=function(oe,ue){this.data=J([oe,ue]),this.data.height=oe.height+1,this.data.leaf=!1,B(this.data,this.toBBox)},M.prototype._chooseSplitIndex=function(oe,ue,fe){for(var Le,Ge,ze,je,Be,_e,He,tt=1/0,Ke=1/0,Ze=ue;Ze<=fe-ue;Ze++){var Qe=R(oe,0,Ze,this.toBBox),vt=R(oe,Ze,fe,this.toBBox),pt=(Ge=Qe,ze=vt,je=Math.max(Ge.minX,ze.minX),Be=Math.max(Ge.minY,ze.minY),_e=Math.min(Ge.maxX,ze.maxX),He=Math.min(Ge.maxY,ze.maxY),Math.max(0,_e-je)*Math.max(0,He-Be)),ut=T(Qe)+T(vt);pt<tt?(tt=pt,Le=Ze,Ke=ut<Ke?ut:Ke):pt===tt&&ut<Ke&&(Ke=ut,Le=Ze)}return Le||fe-ue},M.prototype._chooseSplitAxis=function(oe,ue,fe){var Le=oe.leaf?this.compareMinX:O,Ge=oe.leaf?this.compareMinY:A;this._allDistMargin(oe,ue,fe,Le)<this._allDistMargin(oe,ue,fe,Ge)&&oe.children.sort(Le)},M.prototype._allDistMargin=function(oe,ue,fe,Le){oe.children.sort(Le);for(var Ge=this.toBBox,ze=R(oe,0,ue,Ge),je=R(oe,fe-ue,fe,Ge),Be=U(ze)+U(je),_e=ue;_e<fe-ue;_e++){var He=oe.children[_e];I(ze,oe.leaf?Ge(He):He),Be+=U(ze)}for(var tt=fe-ue-1;tt>=ue;tt--){var Ke=oe.children[tt];I(je,oe.leaf?Ge(Ke):Ke),Be+=U(je)}return Be},M.prototype._adjustParentBBoxes=function(oe,ue,fe){for(var Le=fe;Le>=0;Le--)I(ue[Le],oe)},M.prototype._condense=function(oe){for(var ue=oe.length-1,fe=void 0;ue>=0;ue--)oe[ue].children.length===0?ue>0?(fe=oe[ue-1].children).splice(fe.indexOf(oe[ue]),1):this.clear():B(oe[ue],this.toBBox)},M})()},6102:(y,x,r)=>{var b=r(4472).hasOwnProperty("default")?r(4472).default:r(4472);function M(O,A){return(T=O).length>=2&&typeof T[0]=="number"&&typeof T[1]=="number"?A(O):O.map((function(U){return M(U,A)}));var T}function z(O,A,T){if(T==null)return T;var U=(function(K){if(K==null||typeof K!="object")return K;var J=K.constructor();for(var te in K)K.hasOwnProperty(te)&&(J[te]=K[te]);return J})(T),q=z.bind(this,O,A);switch(T.type){case"Feature":U.geometry=q(T.geometry);break;case"FeatureCollection":U.features=U.features.map(q);break;case"GeometryCollection":U.geometries=U.geometries.map(q);break;default:O(U)}return A&&A(U),U}function B(O,A){var T,U=O.crs;if(U===void 0)throw new Error('Unable to detect CRS, GeoJSON has no "crs" property.');if(U.type==="name"?T=A[U.properties.name]:U.type==="EPSG"&&(T=A["EPSG:"+U.properties.code]),!T)throw new Error("CRS defined in crs section could not be identified: "+JSON.stringify(U));return T}function R(O,A){return typeof O=="string"||O instanceof String?A[O]||b.Proj(O):O}function I(O,A,T,U){U=U||{},A=A?R(A,U):B(O,U),T=R(T,U);var q=b(A,T).forward.bind(q);function K(J){var te=q(J);return J.length===3&&J[2]!==void 0&&te[2]===void 0&&(te[2]=J[2]),te}return z((function(J){J.crs&&delete J.crs,J.coordinates=M(J.coordinates,K)}),(function(J){J.bbox&&(J.bbox=(function(te){var oe=[Number.MAX_VALUE,Number.MAX_VALUE],ue=[-Number.MAX_VALUE,-Number.MAX_VALUE];return z((function(fe){M(fe.coordinates,(function(Le){oe[0]=Math.min(oe[0],Le[0]),oe[1]=Math.min(oe[1],Le[1]),ue[0]=Math.max(ue[0],Le[0]),ue[1]=Math.max(ue[1],Le[1])}))}),null,te),[oe[0],oe[1],ue[0],ue[1]]})(J))}),O)}y.exports={detectCrs:B,reproject:I,reverse:function(O){return z((function(A){A.coordinates=M(A.coordinates,(function(T){return[T[1],T[0]]}))}),null,O)},toWgs84:function(O,A,T){return I(O,A,b.WGS84,T)}}},3686:function(y,x){var r=void 0,b=function(M){return r||(r=new Promise((function(z,B){var R,I=M!==void 0?M:{},O=I.onAbort;I.onAbort=function(ct){B(new Error(ct)),O&&O(ct)},I.postRun=I.postRun||[],I.postRun.push((function(){z(I)})),y=void 0,R||(R=I!==void 0?I:{}),R.onRuntimeInitialized=function(){function ct(or,vr){this.Ka=or,this.db=vr,this.Ia=1,this.cb=[]}function kt(or,vr){if(this.db=vr,vr=lr(or)+1,this.Xa=Qa(vr),this.Xa===null)throw Error("Unable to allocate memory for the SQL string");It(or,bt,this.Xa,vr),this.bb=this.Xa,this.Ta=this.hb=null}function $t(or){if(this.filename="dbfile_"+(4294967295*Math.random()>>>0),or!=null){var vr=this.filename,Hr="/",Fr=vr;if(Hr&&(Hr=typeof Hr=="string"?Hr:Vr(Hr),Fr=vr?In(Hr+"/"+vr):Hr),vr=Bi(!0,!0),Fr=cn(Fr,4095&(vr!==void 0?vr:438)|32768,0),or){if(typeof or=="string"){Hr=Array(or.length);for(var Nn=0,Wn=or.length;Nn<Wn;++Nn)Hr[Nn]=or.charCodeAt(Nn);or=Hr}fi(Fr,146|vr),Hr=Wi(Fr,577),No(Hr,or,0,or.length,0,void 0),_a(Hr),fi(Fr,vr)}}this.handleError(Pr(this.filename,Sr)),this.db=Ze(Sr,"i32"),br(this.db),this.Ya={},this.Qa={}}var Sr=go(4),Ur=R.cwrap,Pr=Ur("sqlite3_open","number",["string","number"]),ei=Ur("sqlite3_close_v2","number",["number"]),si=Ur("sqlite3_exec","number",["number","string","number","number","number"]),Ni=Ur("sqlite3_changes","number",["number"]),Ui=Ur("sqlite3_prepare_v2","number",["number","string","number","number","number"]),la=Ur("sqlite3_sql","string",["number"]),$i=Ur("sqlite3_normalized_sql","string",["number"]),wa=Ur("sqlite3_prepare_v2","number",["number","number","number","number","number"]),Ri=Ur("sqlite3_bind_text","number",["number","number","number","number","number"]),za=Ur("sqlite3_bind_blob","number",["number","number","number","number","number"]),ea=Ur("sqlite3_bind_double","number",["number","number","number"]),Xa=Ur("sqlite3_bind_int","number",["number","number","number"]),Uo=Ur("sqlite3_bind_parameter_index","number",["number","string"]),ts=Ur("sqlite3_step","number",["number"]),Ns=Ur("sqlite3_errmsg","string",["number"]),Wa=Ur("sqlite3_column_count","number",["number"]),Bo=Ur("sqlite3_data_count","number",["number"]),Zo=Ur("sqlite3_column_double","number",["number","number"]),Yo=Ur("sqlite3_column_text","string",["number","number"]),Vi=Ur("sqlite3_column_blob","number",["number","number"]),Yr=Ur("sqlite3_column_bytes","number",["number","number"]),gi=Ur("sqlite3_column_type","number",["number","number"]),so=Ur("sqlite3_column_name","string",["number","number"]),yo=Ur("sqlite3_reset","number",["number"]),ms=Ur("sqlite3_clear_bindings","number",["number"]),jo=Ur("sqlite3_finalize","number",["number"]),qi=Ur("sqlite3_create_function_v2","number","number string number number number number number number number".split(" ")),Po=Ur("sqlite3_value_type","number",["number"]),vo=Ur("sqlite3_value_bytes","number",["number"]),$a=Ur("sqlite3_value_text","string",["number"]),ga=Ur("sqlite3_value_blob","number",["number"]),Da=Ur("sqlite3_value_double","number",["number"]),Za=Ur("sqlite3_result_double","",["number","number"]),Ne=Ur("sqlite3_result_null","",["number"]),at=Ur("sqlite3_result_text","",["number","string","number","number"]),mt=Ur("sqlite3_result_blob","",["number","number","number","number"]),At=Ur("sqlite3_result_int","",["number","number"]),Qt=Ur("sqlite3_result_error","",["number","string","number"]),br=Ur("RegisterExtensionFunctions","number",["number"]);ct.prototype.bind=function(or){if(!this.Ka)throw"Statement closed";return this.reset(),Array.isArray(or)?this.wb(or):or==null||typeof or!="object"||this.xb(or)},ct.prototype.step=function(){if(!this.Ka)throw"Statement closed";this.Ia=1;var or=ts(this.Ka);switch(or){case 100:return!0;case 101:return!1;default:throw this.db.handleError(or)}},ct.prototype.rb=function(or){return or==null&&(or=this.Ia,this.Ia+=1),Zo(this.Ka,or)},ct.prototype.Bb=function(or){if(or==null&&(or=this.Ia,this.Ia+=1),or=Yo(this.Ka,or),typeof BigInt!="function")throw Error("BigInt is not supported");return BigInt(or)},ct.prototype.Cb=function(or){return or==null&&(or=this.Ia,this.Ia+=1),Yo(this.Ka,or)},ct.prototype.getBlob=function(or){or==null&&(or=this.Ia,this.Ia+=1);var vr=Yr(this.Ka,or);or=Vi(this.Ka,or);for(var Hr=new Uint8Array(vr),Fr=0;Fr<vr;Fr+=1)Hr[Fr]=Mt[or+Fr];return Hr},ct.prototype.get=function(or,vr){vr=vr||{},or!=null&&this.bind(or)&&this.step(),or=[];for(var Hr=Bo(this.Ka),Fr=0;Fr<Hr;Fr+=1)switch(gi(this.Ka,Fr)){case 1:var Nn=vr.useBigInt?this.Bb(Fr):this.rb(Fr);or.push(Nn);break;case 2:or.push(this.rb(Fr));break;case 3:or.push(this.Cb(Fr));break;case 4:or.push(this.getBlob(Fr));break;default:or.push(null)}return or},ct.prototype.getColumnNames=function(){for(var or=[],vr=Wa(this.Ka),Hr=0;Hr<vr;Hr+=1)or.push(so(this.Ka,Hr));return or},ct.prototype.getAsObject=function(or,vr){or=this.get(or,vr),vr=this.getColumnNames();for(var Hr={},Fr=0;Fr<vr.length;Fr+=1)Hr[vr[Fr]]=or[Fr];return Hr},ct.prototype.getSQL=function(){return la(this.Ka)},ct.prototype.getNormalizedSQL=function(){return $i(this.Ka)},ct.prototype.run=function(or){return or!=null&&this.bind(or),this.step(),this.reset()},ct.prototype.mb=function(or,vr){vr==null&&(vr=this.Ia,this.Ia+=1);var Hr=pt(or=Ca(or));this.cb.push(Hr),this.db.handleError(Ri(this.Ka,vr,Hr,or.length-1,0))},ct.prototype.vb=function(or,vr){vr==null&&(vr=this.Ia,this.Ia+=1);var Hr=pt(or);this.cb.push(Hr),this.db.handleError(za(this.Ka,vr,Hr,or.length,0))},ct.prototype.lb=function(or,vr){vr==null&&(vr=this.Ia,this.Ia+=1),this.db.handleError((or===(0|or)?Xa:ea)(this.Ka,vr,or))},ct.prototype.yb=function(or){or==null&&(or=this.Ia,this.Ia+=1),za(this.Ka,or,0,0,0)},ct.prototype.nb=function(or,vr){switch(vr==null&&(vr=this.Ia,this.Ia+=1),typeof or){case"string":return void this.mb(or,vr);case"number":return void this.lb(or,vr);case"bigint":return void this.mb(or.toString(),vr);case"boolean":return void this.lb(or+0,vr);case"object":if(or===null)return void this.yb(vr);if(or.length!=null)return void this.vb(or,vr)}throw"Wrong API use : tried to bind a value of an unknown type ("+or+")."},ct.prototype.xb=function(or){var vr=this;return Object.keys(or).forEach((function(Hr){var Fr=Uo(vr.Ka,Hr);Fr!==0&&vr.nb(or[Hr],Fr)})),!0},ct.prototype.wb=function(or){for(var vr=0;vr<or.length;vr+=1)this.nb(or[vr],vr+1);return!0},ct.prototype.reset=function(){return this.freemem(),ms(this.Ka)===0&&yo(this.Ka)===0},ct.prototype.freemem=function(){for(var or;(or=this.cb.pop())!==void 0;)Sa(or)},ct.prototype.free=function(){this.freemem();var or=jo(this.Ka)===0;return delete this.db.Ya[this.Ka],this.Ka=0,or},kt.prototype.next=function(){if(this.Xa===null)return{done:!0};if(this.Ta!==null&&(this.Ta.free(),this.Ta=null),!this.db.db)throw this.fb(),Error("Database closed");var or=Ga(),vr=go(4);Ke(Sr),Ke(vr);try{this.db.handleError(wa(this.db.db,this.bb,-1,Sr,vr)),this.bb=Ze(vr,"i32");var Hr=Ze(Sr,"i32");return Hr===0?(this.fb(),{done:!0}):(this.Ta=new ct(Hr,this.db),this.db.Ya[Hr]=this.Ta,{value:this.Ta,done:!1})}catch(Fr){throw this.hb=Ct(this.bb),this.fb(),Fr}finally{oo(or)}},kt.prototype.fb=function(){Sa(this.Xa),this.Xa=null},kt.prototype.getRemainingSQL=function(){return this.hb!==null?this.hb:Ct(this.bb)},typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"&&(kt.prototype[Symbol.iterator]=function(){return this}),$t.prototype.run=function(or,vr){if(!this.db)throw"Database closed";if(vr){or=this.prepare(or,vr);try{or.step()}finally{or.free()}}else this.handleError(si(this.db,or,0,0,Sr));return this},$t.prototype.exec=function(or,vr,Hr){if(!this.db)throw"Database closed";var Fr=Ga(),Nn=null;try{var Wn=lr(or)+1,ui=go(Wn);It(or,Mt,ui,Wn);var pi=ui,Kn=go(4);for(or=[];Ze(pi,"i8")!==0;){Ke(Sr),Ke(Kn),this.handleError(wa(this.db,pi,-1,Sr,Kn));var Li=Ze(Sr,"i32");if(pi=Ze(Kn,"i32"),Li!==0){for(Wn=null,Nn=new ct(Li,this),vr!=null&&Nn.bind(vr);Nn.step();)Wn===null&&(Wn={columns:Nn.getColumnNames(),values:[]},or.push(Wn)),Wn.values.push(Nn.get(null,Hr));Nn.free()}}return or}catch(We){throw Nn&&Nn.free(),We}finally{oo(Fr)}},$t.prototype.each=function(or,vr,Hr,Fr,Nn){typeof vr=="function"&&(Fr=Hr,Hr=vr,vr=void 0),or=this.prepare(or,vr);try{for(;or.step();)Hr(or.getAsObject(null,Nn))}finally{or.free()}if(typeof Fr=="function")return Fr()},$t.prototype.prepare=function(or,vr){if(Ke(Sr),this.handleError(Ui(this.db,or,-1,Sr,0)),(or=Ze(Sr,"i32"))===0)throw"Nothing to prepare";var Hr=new ct(or,this);return vr!=null&&Hr.bind(vr),this.Ya[or]=Hr},$t.prototype.iterateStatements=function(or){return new kt(or,this)},$t.prototype.export=function(){Object.values(this.Ya).forEach((function(vr){vr.free()})),Object.values(this.Qa).forEach(tt),this.Qa={},this.handleError(ei(this.db));var or=So(this.filename);return this.handleError(Pr(this.filename,Sr)),this.db=Ze(Sr,"i32"),or},$t.prototype.close=function(){this.db!==null&&(Object.values(this.Ya).forEach((function(or){or.free()})),Object.values(this.Qa).forEach(tt),this.Qa={},this.handleError(ei(this.db)),zn("/"+this.filename),this.db=null)},$t.prototype.handleError=function(or){if(or===0)return null;throw or=Ns(this.db),Error(or)},$t.prototype.getRowsModified=function(){return Ni(this.db)},$t.prototype.create_function=function(or,vr){Object.prototype.hasOwnProperty.call(this.Qa,or)&&(tt(this.Qa[or]),delete this.Qa[or]);var Hr=(function(Fr){if(!Be){Be=new WeakMap;for(var Nn=st.length,Wn=0;Wn<0+Nn;Wn++){var ui=st.get(Wn);ui&&Be.set(ui,Wn)}}if(Be.has(Fr))return Be.get(Fr);if(He.length)Nn=He.pop();else{try{st.grow(1)}catch(Kn){throw Kn instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":Kn}Nn=st.length-1}try{st.set(Nn,Fr)}catch(Kn){if(!(Kn instanceof TypeError))throw Kn;if(typeof WebAssembly.Function=="function"){ui={i:"i32",j:"i64",f:"f32",d:"f64"};var pi={parameters:[],results:[]};for(Wn=1;4>Wn;++Wn)pi.parameters.push(ui["viii"[Wn]]);Wn=new WebAssembly.Function(pi,Fr)}else{for(pi={i:127,j:126,f:125,d:124},(ui=[1,0,1,96]).push(3),Wn=0;3>Wn;++Wn)ui.push(pi["iii"[Wn]]);ui.push(0),ui[1]=ui.length-2,Wn=new Uint8Array([0,97,115,109,1,0,0,0].concat(ui,[2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0])),Wn=new WebAssembly.Module(Wn),Wn=new WebAssembly.Instance(Wn,{e:{f:Fr}}).exports.f}st.set(Nn,Wn)}return Be.set(Fr,Nn),Nn})((function(Fr,Nn,Wn){for(var ui,pi=[],Kn=0;Kn<Nn;Kn+=1){var Li=Ze(Wn+4*Kn,"i32"),We=Po(Li);if(We===1||We===2)Li=Da(Li);else if(We===3)Li=$a(Li);else if(We===4){Li=vo(We=Li),We=ga(We);for(var nt=new Uint8Array(Li),ft=0;ft<Li;ft+=1)nt[ft]=Mt[We+ft];Li=nt}else Li=null;pi.push(Li)}try{ui=vr.apply(null,pi)}catch(Rt){return void Qt(Fr,Rt,-1)}switch(typeof ui){case"boolean":At(Fr,ui?1:0);break;case"number":Za(Fr,ui);break;case"string":at(Fr,ui,-1,-1);break;case"object":ui===null?Ne(Fr):ui.length!=null?(Nn=pt(ui),mt(Fr,Nn,ui.length,-1),Sa(Nn)):Qt(Fr,"Wrong API use : tried to return a value of an unknown type ("+ui+").",-1);break;default:Ne(Fr)}}));return this.Qa[or]=Hr,this.handleError(qi(this.db,or,vr.length,1,0,Hr,0,0,0)),this},R.Database=$t};var A,T,U,q,K,J,te=Object.assign({},R),oe="./this.program",ue=typeof window=="object",fe=typeof importScripts=="function",Le=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",Ge="";Le?(Ge=fe?require$$3.dirname(Ge)+"/":__dirname+"/",J=()=>{K||(q=require$$3,K=require$$3)},A=function(ct,kt){return J(),ct=K.normalize(ct),q.readFileSync(ct,kt?void 0:"utf8")},U=ct=>((ct=A(ct,!0)).buffer||(ct=new Uint8Array(ct)),ct),T=(ct,kt,$t)=>{J(),ct=K.normalize(ct),q.readFile(ct,(function(Sr,Ur){Sr?$t(Sr):kt(Ur.buffer)}))},1<process.argv.length&&(oe=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),y!==void 0&&(y.exports=R),R.inspect=function(){return"[Emscripten Module object]"}):(ue||fe)&&(fe?Ge=self.location.href:typeof document<"u"&&document.currentScript&&(Ge=document.currentScript.src),Ge=Ge.indexOf("blob:")!==0?Ge.substr(0,Ge.replace(/[?#].*/,"").lastIndexOf("/")+1):"",A=ct=>{var kt=new XMLHttpRequest;return kt.open("GET",ct,!1),kt.send(null),kt.responseText},fe&&(U=ct=>{var kt=new XMLHttpRequest;return kt.open("GET",ct,!1),kt.responseType="arraybuffer",kt.send(null),new Uint8Array(kt.response)}),T=(ct,kt,$t)=>{var Sr=new XMLHttpRequest;Sr.open("GET",ct,!0),Sr.responseType="arraybuffer",Sr.onload=()=>{Sr.status==200||Sr.status==0&&Sr.response?kt(Sr.response):$t()},Sr.onerror=$t,Sr.send(null)});var ze=R.print||console.log.bind(console),je=R.printErr||console.warn.bind(console);Object.assign(R,te),te=null,R.thisProgram&&(oe=R.thisProgram);var Be,_e,He=[];function tt(ct){Be.delete(st.get(ct)),He.push(ct)}function Ke(ct){var kt="i32";switch(kt.charAt(kt.length-1)==="*"&&(kt="i32"),kt){case"i1":case"i8":Mt[ct>>0]=0;break;case"i16":ar[ct>>1]=0;break;case"i32":dt[ct>>2]=0;break;case"i64":Jt=[0,(Ft=0,1<=+Math.abs(Ft)?0<Ft?(0|Math.min(+Math.floor(Ft/4294967296),4294967295))>>>0:~~+Math.ceil((Ft-+(~~Ft>>>0))/4294967296)>>>0:0)],dt[ct>>2]=Jt[0],dt[ct+4>>2]=Jt[1];break;case"float":yt[ct>>2]=0;break;case"double":Gt[ct>>3]=0;break;default:Et("invalid type for setValue: "+kt)}}function Ze(ct,kt="i8"){switch(kt.charAt(kt.length-1)==="*"&&(kt="i32"),kt){case"i1":case"i8":return Mt[ct>>0];case"i16":return ar[ct>>1];case"i32":case"i64":return dt[ct>>2];case"float":return yt[ct>>2];case"double":return Number(Gt[ct>>3]);default:Et("invalid type for getValue: "+kt)}return null}R.wasmBinary&&(_e=R.wasmBinary),R.noExitRuntime,typeof WebAssembly!="object"&&Et("no native wasm support detected");var Qe,vt=!1;function pt(ct){var kt=Qa(ct.length);return ct.subarray||ct.slice||(ct=new Uint8Array(ct)),bt.set(ct,kt),kt}var ut,Mt,bt,ar,dt,yt,Gt,Bt=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function Dt(ct,kt,$t){var Sr=kt+$t;for($t=kt;ct[$t]&&!($t>=Sr);)++$t;if(16<$t-kt&&ct.buffer&&Bt)return Bt.decode(ct.subarray(kt,$t));for(Sr="";kt<$t;){var Ur=ct[kt++];if(128&Ur){var Pr=63&ct[kt++];if((224&Ur)==192)Sr+=String.fromCharCode((31&Ur)<<6|Pr);else{var ei=63&ct[kt++];65536>(Ur=(240&Ur)==224?(15&Ur)<<12|Pr<<6|ei:(7&Ur)<<18|Pr<<12|ei<<6|63&ct[kt++])?Sr+=String.fromCharCode(Ur):(Ur-=65536,Sr+=String.fromCharCode(55296|Ur>>10,56320|1023&Ur))}}else Sr+=String.fromCharCode(Ur)}return Sr}function Ct(ct,kt){return ct?Dt(bt,ct,kt):""}function It(ct,kt,$t,Sr){if(!(0<Sr))return 0;var Ur=$t;Sr=$t+Sr-1;for(var Pr=0;Pr<ct.length;++Pr){var ei=ct.charCodeAt(Pr);if(55296<=ei&&57343>=ei&&(ei=65536+((1023&ei)<<10)|1023&ct.charCodeAt(++Pr)),127>=ei){if($t>=Sr)break;kt[$t++]=ei}else{if(2047>=ei){if($t+1>=Sr)break;kt[$t++]=192|ei>>6}else{if(65535>=ei){if($t+2>=Sr)break;kt[$t++]=224|ei>>12}else{if($t+3>=Sr)break;kt[$t++]=240|ei>>18,kt[$t++]=128|ei>>12&63}kt[$t++]=128|ei>>6&63}kt[$t++]=128|63&ei}}return kt[$t]=0,$t-Ur}function lr(ct){for(var kt=0,$t=0;$t<ct.length;++$t){var Sr=ct.charCodeAt($t);55296<=Sr&&57343>=Sr&&(Sr=65536+((1023&Sr)<<10)|1023&ct.charCodeAt(++$t)),127>=Sr?++kt:kt=2047>=Sr?kt+2:65535>=Sr?kt+3:kt+4}return kt}function Je(ct){var kt=lr(ct)+1,$t=Qa(kt);return $t&&It(ct,Mt,$t,kt),$t}function Ve(){var ct=Qe.buffer;ut=ct,R.HEAP8=Mt=new Int8Array(ct),R.HEAP16=ar=new Int16Array(ct),R.HEAP32=dt=new Int32Array(ct),R.HEAPU8=bt=new Uint8Array(ct),R.HEAPU16=new Uint16Array(ct),R.HEAPU32=new Uint32Array(ct),R.HEAPF32=yt=new Float32Array(ct),R.HEAPF64=Gt=new Float64Array(ct)}var st,it=[],Wt=[],rt=[];function ur(){var ct=R.preRun.shift();it.unshift(ct)}var tr,Ft,Jt,et=0,gt=null;function Et(ct){throw R.onAbort&&R.onAbort(ct),je(ct="Aborted("+ct+")"),vt=!0,new WebAssembly.RuntimeError(ct+". Build with -s ASSERTIONS=1 for more info.")}function Xt(){return tr.startsWith("data:application/octet-stream;base64,")}if(R.preloadedImages={},R.preloadedAudios={},tr="sql-wasm.wasm",!Xt()){var mr=tr;tr=R.locateFile?R.locateFile(mr,Ge):Ge+mr}function Cr(){var ct=tr;try{if(ct==tr&&_e)return new Uint8Array(_e);if(U)return U(ct);throw"both async and sync fetching of the wasm failed"}catch(kt){Et(kt)}}function Dr(ct){for(;0<ct.length;){var kt=ct.shift();if(typeof kt=="function")kt(R);else{var $t=kt.Ib;typeof $t=="number"?kt.eb===void 0?st.get($t)():st.get($t)(kt.eb):$t(kt.eb===void 0?null:kt.eb)}}}function _n(ct,kt){for(var $t=0,Sr=ct.length-1;0<=Sr;Sr--){var Ur=ct[Sr];Ur==="."?ct.splice(Sr,1):Ur===".."?(ct.splice(Sr,1),$t++):$t&&(ct.splice(Sr,1),$t--)}if(kt)for(;$t;$t--)ct.unshift("..");return ct}function In(ct){var kt=ct.charAt(0)==="/",$t=ct.substr(-1)==="/";return(ct=_n(ct.split("/").filter((function(Sr){return!!Sr})),!kt).join("/"))||kt||(ct="."),ct&&$t&&(ct+="/"),(kt?"/":"")+ct}function Fn(ct){var kt=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(ct).slice(1);return ct=kt[0],kt=kt[1],ct||kt?(kt&&(kt=kt.substr(0,kt.length-1)),ct+kt):"."}function ti(ct){if(ct==="/")return"/";var kt=(ct=(ct=In(ct)).replace(/\/$/,"")).lastIndexOf("/");return kt===-1?ct:ct.substr(kt+1)}function Qn(){for(var ct="",kt=!1,$t=arguments.length-1;-1<=$t&&!kt;$t--){if(typeof(kt=0<=$t?arguments[$t]:"/")!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!kt)return"";ct=kt+"/"+ct,kt=kt.charAt(0)==="/"}return(kt?"/":"")+(ct=_n(ct.split("/").filter((function(Sr){return!!Sr})),!kt).join("/"))||"."}var vi=[];function wi(ct,kt){vi[ct]={input:[],output:[],Wa:kt},Ar(ct,zi)}var oi,Si,Gi,ai,zi={open:function(ct){var kt=vi[ct.node.rdev];if(!kt)throw new Yt(43);ct.tty=kt,ct.seekable=!1},close:function(ct){ct.tty.Wa.flush(ct.tty)},flush:function(ct){ct.tty.Wa.flush(ct.tty)},read:function(ct,kt,$t,Sr){if(!ct.tty||!ct.tty.Wa.sb)throw new Yt(60);for(var Ur=0,Pr=0;Pr<Sr;Pr++){try{var ei=ct.tty.Wa.sb(ct.tty)}catch{throw new Yt(29)}if(ei===void 0&&Ur===0)throw new Yt(6);if(ei==null)break;Ur++,kt[$t+Pr]=ei}return Ur&&(ct.node.timestamp=Date.now()),Ur},write:function(ct,kt,$t,Sr){if(!ct.tty||!ct.tty.Wa.ib)throw new Yt(60);try{for(var Ur=0;Ur<Sr;Ur++)ct.tty.Wa.ib(ct.tty,kt[$t+Ur])}catch{throw new Yt(29)}return Sr&&(ct.node.timestamp=Date.now()),Ur}},Ei={sb:function(ct){if(!ct.input.length){var kt=null;if(Le){var $t=Buffer.alloc(256),Sr=0;try{Sr=q.readSync(process.stdin.fd,$t,0,256,-1)}catch(Ur){if(!Ur.toString().includes("EOF"))throw Ur;Sr=0}kt=0<Sr?$t.slice(0,Sr).toString("utf-8"):null}else typeof window<"u"&&typeof window.prompt=="function"?(kt=window.prompt("Input: "))!==null&&(kt+=`
`):typeof readline=="function"&&(kt=readline())!==null&&(kt+=`
`);if(!kt)return null;ct.input=Ca(kt,!0)}return ct.input.shift()},ib:function(ct,kt){kt===null||kt===10?(ze(Dt(ct.output,0)),ct.output=[]):kt!=0&&ct.output.push(kt)},flush:function(ct){ct.output&&0<ct.output.length&&(ze(Dt(ct.output,0)),ct.output=[])}},fa={ib:function(ct,kt){kt===null||kt===10?(je(Dt(ct.output,0)),ct.output=[]):kt!=0&&ct.output.push(kt)},flush:function(ct){ct.output&&0<ct.output.length&&(je(Dt(ct.output,0)),ct.output=[])}},Vn={Oa:null,Pa:function(){return Vn.createNode(null,"/",16895,0)},createNode:function(ct,kt,$t,Sr){if((61440&$t)==24576||(61440&$t)==4096)throw new Yt(63);return Vn.Oa||(Vn.Oa={dir:{node:{Na:Vn.Fa.Na,Ma:Vn.Fa.Ma,lookup:Vn.Fa.lookup,Za:Vn.Fa.Za,rename:Vn.Fa.rename,unlink:Vn.Fa.unlink,rmdir:Vn.Fa.rmdir,readdir:Vn.Fa.readdir,symlink:Vn.Fa.symlink},stream:{Sa:Vn.Ga.Sa}},file:{node:{Na:Vn.Fa.Na,Ma:Vn.Fa.Ma},stream:{Sa:Vn.Ga.Sa,read:Vn.Ga.read,write:Vn.Ga.write,kb:Vn.Ga.kb,$a:Vn.Ga.$a,ab:Vn.Ga.ab}},link:{node:{Na:Vn.Fa.Na,Ma:Vn.Fa.Ma,readlink:Vn.Fa.readlink},stream:{}},ob:{node:{Na:Vn.Fa.Na,Ma:Vn.Fa.Ma},stream:gr}}),(61440&($t=Dn(ct,kt,$t,Sr)).mode)==16384?($t.Fa=Vn.Oa.dir.node,$t.Ga=Vn.Oa.dir.stream,$t.Ha={}):(61440&$t.mode)==32768?($t.Fa=Vn.Oa.file.node,$t.Ga=Vn.Oa.file.stream,$t.La=0,$t.Ha=null):(61440&$t.mode)==40960?($t.Fa=Vn.Oa.link.node,$t.Ga=Vn.Oa.link.stream):(61440&$t.mode)==8192&&($t.Fa=Vn.Oa.ob.node,$t.Ga=Vn.Oa.ob.stream),$t.timestamp=Date.now(),ct&&(ct.Ha[kt]=$t,ct.timestamp=$t.timestamp),$t},Jb:function(ct){return ct.Ha?ct.Ha.subarray?ct.Ha.subarray(0,ct.La):new Uint8Array(ct.Ha):new Uint8Array(0)},pb:function(ct,kt){var $t=ct.Ha?ct.Ha.length:0;$t>=kt||(kt=Math.max(kt,$t*(1048576>$t?2:1.125)>>>0),$t!=0&&(kt=Math.max(kt,256)),$t=ct.Ha,ct.Ha=new Uint8Array(kt),0<ct.La&&ct.Ha.set($t.subarray(0,ct.La),0))},Fb:function(ct,kt){if(ct.La!=kt)if(kt==0)ct.Ha=null,ct.La=0;else{var $t=ct.Ha;ct.Ha=new Uint8Array(kt),$t&&ct.Ha.set($t.subarray(0,Math.min(kt,ct.La))),ct.La=kt}},Fa:{Na:function(ct){var kt={};return kt.dev=(61440&ct.mode)==8192?ct.id:1,kt.ino=ct.id,kt.mode=ct.mode,kt.nlink=1,kt.uid=0,kt.gid=0,kt.rdev=ct.rdev,(61440&ct.mode)==16384?kt.size=4096:(61440&ct.mode)==32768?kt.size=ct.La:(61440&ct.mode)==40960?kt.size=ct.link.length:kt.size=0,kt.atime=new Date(ct.timestamp),kt.mtime=new Date(ct.timestamp),kt.ctime=new Date(ct.timestamp),kt.zb=4096,kt.blocks=Math.ceil(kt.size/kt.zb),kt},Ma:function(ct,kt){kt.mode!==void 0&&(ct.mode=kt.mode),kt.timestamp!==void 0&&(ct.timestamp=kt.timestamp),kt.size!==void 0&&Vn.Fb(ct,kt.size)},lookup:function(){throw Nr[44]},Za:function(ct,kt,$t,Sr){return Vn.createNode(ct,kt,$t,Sr)},rename:function(ct,kt,$t){if((61440&ct.mode)==16384){try{var Sr=vn(kt,$t)}catch{}if(Sr)for(var Ur in Sr.Ha)throw new Yt(55)}delete ct.parent.Ha[ct.name],ct.parent.timestamp=Date.now(),ct.name=$t,kt.Ha[$t]=ct,kt.timestamp=ct.parent.timestamp,ct.parent=kt},unlink:function(ct,kt){delete ct.Ha[kt],ct.timestamp=Date.now()},rmdir:function(ct,kt){var $t,Sr=vn(ct,kt);for($t in Sr.Ha)throw new Yt(55);delete ct.Ha[kt],ct.timestamp=Date.now()},readdir:function(ct){var kt,$t=[".",".."];for(kt in ct.Ha)ct.Ha.hasOwnProperty(kt)&&$t.push(kt);return $t},symlink:function(ct,kt,$t){return(ct=Vn.createNode(ct,kt,41471,0)).link=$t,ct},readlink:function(ct){if((61440&ct.mode)!=40960)throw new Yt(28);return ct.link}},Ga:{read:function(ct,kt,$t,Sr,Ur){var Pr=ct.node.Ha;if(Ur>=ct.node.La)return 0;if(8<(ct=Math.min(ct.node.La-Ur,Sr))&&Pr.subarray)kt.set(Pr.subarray(Ur,Ur+ct),$t);else for(Sr=0;Sr<ct;Sr++)kt[$t+Sr]=Pr[Ur+Sr];return ct},write:function(ct,kt,$t,Sr,Ur,Pr){if(kt.buffer===Mt.buffer&&(Pr=!1),!Sr)return 0;if((ct=ct.node).timestamp=Date.now(),kt.subarray&&(!ct.Ha||ct.Ha.subarray)){if(Pr)return ct.Ha=kt.subarray($t,$t+Sr),ct.La=Sr;if(ct.La===0&&Ur===0)return ct.Ha=kt.slice($t,$t+Sr),ct.La=Sr;if(Ur+Sr<=ct.La)return ct.Ha.set(kt.subarray($t,$t+Sr),Ur),Sr}if(Vn.pb(ct,Ur+Sr),ct.Ha.subarray&&kt.subarray)ct.Ha.set(kt.subarray($t,$t+Sr),Ur);else for(Pr=0;Pr<Sr;Pr++)ct.Ha[Ur+Pr]=kt[$t+Pr];return ct.La=Math.max(ct.La,Ur+Sr),Sr},Sa:function(ct,kt,$t){if($t===1?kt+=ct.position:$t===2&&(61440&ct.node.mode)==32768&&(kt+=ct.node.La),0>kt)throw new Yt(28);return kt},kb:function(ct,kt,$t){Vn.pb(ct.node,kt+$t),ct.node.La=Math.max(ct.node.La,kt+$t)},$a:function(ct,kt,$t,Sr,Ur,Pr){if(kt!==0)throw new Yt(28);if((61440&ct.node.mode)!=32768)throw new Yt(43);if(ct=ct.node.Ha,2&Pr||ct.buffer!==ut){if((0<Sr||Sr+$t<ct.length)&&(ct=ct.subarray?ct.subarray(Sr,Sr+$t):Array.prototype.slice.call(ct,Sr,Sr+$t)),Sr=!0,$t=65536*Math.ceil($t/65536),(Pr=Ja(65536,$t))?(bt.fill(0,Pr,Pr+$t),$t=Pr):$t=0,!$t)throw new Yt(48);Mt.set(ct,$t)}else Sr=!1,$t=ct.byteOffset;return{Eb:$t,ub:Sr}},ab:function(ct,kt,$t,Sr,Ur){if((61440&ct.node.mode)!=32768)throw new Yt(43);return 2&Ur||Vn.Ga.write(ct,kt,0,Sr,$t,!1),0}}},ha=null,Na={},wt=[],_t=1,jt=null,nr=!0,Yt=null,Nr={},Gr=(ct,kt={})=>{if(!(ct=Qn("/",ct)))return{path:"",node:null};if(8<(kt=Object.assign({qb:!0,jb:0},kt)).jb)throw new Yt(32);ct=_n(ct.split("/").filter((ei=>!!ei)),!1);for(var $t=ha,Sr="/",Ur=0;Ur<ct.length;Ur++){var Pr=Ur===ct.length-1;if(Pr&&kt.parent)break;if($t=vn($t,ct[Ur]),Sr=In(Sr+"/"+ct[Ur]),$t.Ua&&(!Pr||Pr&&kt.qb)&&($t=$t.Ua.root),!Pr||kt.Ra){for(Pr=0;(61440&$t.mode)==40960;)if($t=ri(Sr),Sr=Qn(Fn(Sr),$t),$t=Gr(Sr,{jb:kt.jb+1}).node,40<Pr++)throw new Yt(32)}}return{path:Sr,node:$t}},Vr=ct=>{for(var kt;;){if(ct===ct.parent)return ct=ct.Pa.tb,kt?ct[ct.length-1]!=="/"?ct+"/"+kt:ct+kt:ct;kt=kt?ct.name+"/"+kt:ct.name,ct=ct.parent}},Mn=(ct,kt)=>{for(var $t=0,Sr=0;Sr<kt.length;Sr++)$t=($t<<5)-$t+kt.charCodeAt(Sr)|0;return(ct+$t>>>0)%jt.length},hn=ct=>{var kt=Mn(ct.parent.id,ct.name);if(jt[kt]===ct)jt[kt]=ct.Va;else for(kt=jt[kt];kt;){if(kt.Va===ct){kt.Va=ct.Va;break}kt=kt.Va}},vn=(ct,kt)=>{var $t;if($t=($t=_r(ct,"x"))?$t:ct.Fa.lookup?0:2)throw new Yt($t,ct);for($t=jt[Mn(ct.id,kt)];$t;$t=$t.Va){var Sr=$t.name;if($t.parent.id===ct.id&&Sr===kt)return $t}return ct.Fa.lookup(ct,kt)},Dn=(ct,kt,$t,Sr)=>(ct=new Ro(ct,kt,$t,Sr),kt=Mn(ct.parent.id,ct.name),ct.Va=jt[kt],jt[kt]=ct),kn={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},Zt=ct=>{var kt=["r","w","rw"][3&ct];return 512&ct&&(kt+="w"),kt},_r=(ct,kt)=>nr?0:!kt.includes("r")||292&ct.mode?kt.includes("w")&&!(146&ct.mode)||kt.includes("x")&&!(73&ct.mode)?2:0:2,fr=(ct,kt)=>{try{return vn(ct,kt),20}catch{}return _r(ct,"wx")},pr=(ct,kt,$t)=>{try{var Sr=vn(ct,kt)}catch(Ur){return Ur.Ja}if(ct=_r(ct,"wx"))return ct;if($t){if((61440&Sr.mode)!=16384)return 54;if(Sr===Sr.parent||Vr(Sr)==="/")return 10}else if((61440&Sr.mode)==16384)return 31;return 0},gr={open:ct=>{ct.Ga=Na[ct.node.rdev].Ga,ct.Ga.open&&ct.Ga.open(ct)},Sa:()=>{throw new Yt(70)}},Ar=(ct,kt)=>{Na[ct]={Ga:kt}},Xr=(ct,kt)=>{var $t=kt==="/",Sr=!kt;if($t&&ha)throw new Yt(10);if(!$t&&!Sr){var Ur=Gr(kt,{qb:!1});if(kt=Ur.path,(Ur=Ur.node).Ua)throw new Yt(10);if((61440&Ur.mode)!=16384)throw new Yt(54)}kt={type:ct,Kb:{},tb:kt,Db:[]},(ct=ct.Pa(kt)).Pa=kt,kt.root=ct,$t?ha=ct:Ur&&(Ur.Ua=kt,Ur.Pa&&Ur.Pa.Db.push(kt))},cn=(ct,kt,$t)=>{var Sr=Gr(ct,{parent:!0}).node;if(!(ct=ti(ct))||ct==="."||ct==="..")throw new Yt(28);var Ur=fr(Sr,ct);if(Ur)throw new Yt(Ur);if(!Sr.Fa.Za)throw new Yt(63);return Sr.Fa.Za(Sr,ct,kt,$t)},nn=(ct,kt)=>cn(ct,1023&(kt!==void 0?kt:511)|16384,0),tn=(ct,kt,$t)=>{$t===void 0&&($t=kt,kt=438),cn(ct,8192|kt,$t)},$r=(ct,kt)=>{if(!Qn(ct))throw new Yt(44);var $t=Gr(kt,{parent:!0}).node;if(!$t)throw new Yt(44);kt=ti(kt);var Sr=fr($t,kt);if(Sr)throw new Yt(Sr);if(!$t.Fa.symlink)throw new Yt(63);$t.Fa.symlink($t,kt,ct)},Bn=ct=>{var kt=Gr(ct,{parent:!0}).node;ct=ti(ct);var $t=vn(kt,ct),Sr=pr(kt,ct,!0);if(Sr)throw new Yt(Sr);if(!kt.Fa.rmdir)throw new Yt(63);if($t.Ua)throw new Yt(10);kt.Fa.rmdir(kt,ct),hn($t)},zn=ct=>{var kt=Gr(ct,{parent:!0}).node;if(!kt)throw new Yt(44);ct=ti(ct);var $t=vn(kt,ct),Sr=pr(kt,ct,!1);if(Sr)throw new Yt(Sr);if(!kt.Fa.unlink)throw new Yt(63);if($t.Ua)throw new Yt(10);kt.Fa.unlink(kt,ct),hn($t)},ri=ct=>{if(!(ct=Gr(ct).node))throw new Yt(44);if(!ct.Fa.readlink)throw new Yt(28);return Qn(Vr(ct.parent),ct.Fa.readlink(ct))},qn=(ct,kt)=>{if(!(ct=Gr(ct,{Ra:!kt}).node))throw new Yt(44);if(!ct.Fa.Na)throw new Yt(63);return ct.Fa.Na(ct)},Yn=ct=>qn(ct,!0),fi=(ct,kt)=>{if(!(ct=typeof ct=="string"?Gr(ct,{Ra:!0}).node:ct).Fa.Ma)throw new Yt(63);ct.Fa.Ma(ct,{mode:4095&kt|-4096&ct.mode,timestamp:Date.now()})},Yi=(ct,kt)=>{if(0>kt)throw new Yt(28);if(!(ct=typeof ct=="string"?Gr(ct,{Ra:!0}).node:ct).Fa.Ma)throw new Yt(63);if((61440&ct.mode)==16384)throw new Yt(31);if((61440&ct.mode)!=32768)throw new Yt(28);var $t=_r(ct,"w");if($t)throw new Yt($t);ct.Fa.Ma(ct,{size:kt,timestamp:Date.now()})},Wi=(ct,kt,$t,Sr)=>{if(ct==="")throw new Yt(44);if(typeof kt=="string"){var Ur=kn[kt];if(Ur===void 0)throw Error("Unknown file open mode: "+kt);kt=Ur}if($t=64&kt?4095&($t===void 0?438:$t)|32768:0,typeof ct=="object")var Pr=ct;else{ct=In(ct);try{Pr=Gr(ct,{Ra:!(131072&kt)}).node}catch{}}if(Ur=!1,64&kt)if(Pr){if(128&kt)throw new Yt(20)}else Pr=cn(ct,$t,0),Ur=!0;if(!Pr)throw new Yt(44);if((61440&Pr.mode)==8192&&(kt&=-513),65536&kt&&(61440&Pr.mode)!=16384)throw new Yt(54);if(!Ur&&($t=Pr?(61440&Pr.mode)==40960?32:(61440&Pr.mode)==16384&&(Zt(kt)!=="r"||512&kt)?31:_r(Pr,Zt(kt)):44))throw new Yt($t);return 512&kt&&Yi(Pr,0),kt&=-131713,(Sr=((ei,si)=>(Gi||((Gi=function(){}).prototype={}),ei=Object.assign(new Gi,ei),si=((Ni=0,Ui=4096)=>{for(;Ni<=Ui;Ni++)if(!wt[Ni])return Ni;throw new Yt(33)})(si,void 0),ei.fd=si,wt[si]=ei))({node:Pr,path:Vr(Pr),flags:kt,seekable:!0,position:0,Ga:Pr.Ga,Hb:[],error:!1},Sr)).Ga.open&&Sr.Ga.open(Sr),!R.logReadFiles||1&kt||(ai||(ai={}),ct in ai||(ai[ct]=1)),Sr},_a=ct=>{if(ct.fd===null)throw new Yt(8);ct.gb&&(ct.gb=null);try{ct.Ga.close&&ct.Ga.close(ct)}catch(kt){throw kt}finally{wt[ct.fd]=null}ct.fd=null},ja=(ct,kt,$t)=>{if(ct.fd===null)throw new Yt(8);if(!ct.seekable||!ct.Ga.Sa)throw new Yt(70);if($t!=0&&$t!=1&&$t!=2)throw new Yt(28);ct.position=ct.Ga.Sa(ct,kt,$t),ct.Hb=[]},io=(ct,kt,$t,Sr,Ur)=>{if(0>Sr||0>Ur)throw new Yt(28);if(ct.fd===null)throw new Yt(8);if((2097155&ct.flags)==1)throw new Yt(8);if((61440&ct.node.mode)==16384)throw new Yt(31);if(!ct.Ga.read)throw new Yt(28);var Pr=Ur!==void 0;if(Pr){if(!ct.seekable)throw new Yt(70)}else Ur=ct.position;return kt=ct.Ga.read(ct,kt,$t,Sr,Ur),Pr||(ct.position+=kt),kt},No=(ct,kt,$t,Sr,Ur,Pr)=>{if(0>Sr||0>Ur)throw new Yt(28);if(ct.fd===null)throw new Yt(8);if((2097155&ct.flags)==0)throw new Yt(8);if((61440&ct.node.mode)==16384)throw new Yt(31);if(!ct.Ga.write)throw new Yt(28);ct.seekable&&1024&ct.flags&&ja(ct,0,2);var ei=Ur!==void 0;if(ei){if(!ct.seekable)throw new Yt(70)}else Ur=ct.position;return kt=ct.Ga.write(ct,kt,$t,Sr,Ur,Pr),ei||(ct.position+=kt),kt},So=ct=>{var kt,$t=Wi(ct,$t||0);ct=qn(ct).size;var Sr=new Uint8Array(ct);return io($t,Sr,0,ct,0),kt=Sr,_a($t),kt},co=()=>{Yt||((Yt=function(ct,kt){this.node=kt,this.Gb=function($t){this.Ja=$t},this.Gb(ct),this.message="FS error"}).prototype=Error(),Yt.prototype.constructor=Yt,[44].forEach((ct=>{Nr[ct]=new Yt(ct),Nr[ct].stack="<generic error, no stack>"})))},Bi=(ct,kt)=>{var $t=0;return ct&&($t|=365),kt&&($t|=146),$t},ra=(ct,kt,$t)=>{ct=In("/dev/"+ct);var Sr=Bi(!!kt,!!$t);Si||(Si=64);var Ur=Si++<<8|0;Ar(Ur,{open:Pr=>{Pr.seekable=!1},close:()=>{$t&&$t.buffer&&$t.buffer.length&&$t(10)},read:(Pr,ei,si,Ni)=>{for(var Ui=0,la=0;la<Ni;la++){try{var $i=kt()}catch{throw new Yt(29)}if($i===void 0&&Ui===0)throw new Yt(6);if($i==null)break;Ui++,ei[si+la]=$i}return Ui&&(Pr.node.timestamp=Date.now()),Ui},write:(Pr,ei,si,Ni)=>{for(var Ui=0;Ui<Ni;Ui++)try{$t(ei[si+Ui])}catch{throw new Yt(29)}return Ni&&(Pr.node.timestamp=Date.now()),Ui}}),tn(ct,Sr,Ur)},Hi={};function Ma(ct,kt,$t){if(kt[0]==="/")return kt;if(ct===-100)ct="/";else{if(!(ct=wt[ct]))throw new Yt(8);ct=ct.path}if(kt.length==0){if(!$t)throw new Yt(44);return ct}return In(ct+"/"+kt)}function _o(ct,kt,$t){try{var Sr=ct(kt)}catch(Ur){if(Ur&&Ur.node&&In(kt)!==In(Vr(Ur.node)))return-54;throw Ur}return dt[$t>>2]=Sr.dev,dt[$t+4>>2]=0,dt[$t+8>>2]=Sr.ino,dt[$t+12>>2]=Sr.mode,dt[$t+16>>2]=Sr.nlink,dt[$t+20>>2]=Sr.uid,dt[$t+24>>2]=Sr.gid,dt[$t+28>>2]=Sr.rdev,dt[$t+32>>2]=0,Jt=[Sr.size>>>0,(Ft=Sr.size,1<=+Math.abs(Ft)?0<Ft?(0|Math.min(+Math.floor(Ft/4294967296),4294967295))>>>0:~~+Math.ceil((Ft-+(~~Ft>>>0))/4294967296)>>>0:0)],dt[$t+40>>2]=Jt[0],dt[$t+44>>2]=Jt[1],dt[$t+48>>2]=4096,dt[$t+52>>2]=Sr.blocks,dt[$t+56>>2]=Sr.atime.getTime()/1e3|0,dt[$t+60>>2]=0,dt[$t+64>>2]=Sr.mtime.getTime()/1e3|0,dt[$t+68>>2]=0,dt[$t+72>>2]=Sr.ctime.getTime()/1e3|0,dt[$t+76>>2]=0,Jt=[Sr.ino>>>0,(Ft=Sr.ino,1<=+Math.abs(Ft)?0<Ft?(0|Math.min(+Math.floor(Ft/4294967296),4294967295))>>>0:~~+Math.ceil((Ft-+(~~Ft>>>0))/4294967296)>>>0:0)],dt[$t+80>>2]=Jt[0],dt[$t+84>>2]=Jt[1],0}var $o,Ii=void 0;function pa(){return dt[(Ii+=4)-4>>2]}function Va(ct){if(!(ct=wt[ct]))throw new Yt(8);return ct}$o=Le?()=>{var ct=process.hrtime();return 1e3*ct[0]+ct[1]/1e6}:()=>performance.now();var Do,Zi={};function es(){if(!Do){var ct,kt={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:oe||"./this.program"};for(ct in Zi)Zi[ct]===void 0?delete kt[ct]:kt[ct]=Zi[ct];var $t=[];for(ct in kt)$t.push(ct+"="+kt[ct]);Do=$t}return Do}function Ro(ct,kt,$t,Sr){ct||(ct=this),this.parent=ct,this.Pa=ct.Pa,this.Ua=null,this.id=_t++,this.name=kt,this.mode=$t,this.Fa={},this.Ga={},this.rdev=Sr}function Ca(ct,kt){var $t=Array(lr(ct)+1);return ct=It(ct,$t,0,$t.length),kt&&($t.length=ct),$t}Object.defineProperties(Ro.prototype,{read:{get:function(){return(365&this.mode)==365},set:function(ct){ct?this.mode|=365:this.mode&=-366}},write:{get:function(){return(146&this.mode)==146},set:function(ct){ct?this.mode|=146:this.mode&=-147}}}),co(),jt=Array(4096),Xr(Vn,"/"),nn("/tmp"),nn("/home"),nn("/home/web_user"),(()=>{nn("/dev"),Ar(259,{read:()=>0,write:(kt,$t,Sr,Ur)=>Ur}),tn("/dev/null",259),wi(1280,Ei),wi(1536,fa),tn("/dev/tty",1280),tn("/dev/tty1",1536);var ct=(function(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function"){var kt=new Uint8Array(1);return function(){return crypto.getRandomValues(kt),kt[0]}}if(Le)try{var $t=require$$3;return function(){return $t.randomBytes(1)[0]}}catch{}return function(){Et("randomDevice")}})();ra("random",ct),ra("urandom",ct),nn("/dev/shm"),nn("/dev/shm/tmp")})(),(()=>{nn("/proc");var ct=nn("/proc/self");nn("/proc/self/fd"),Xr({Pa:()=>{var kt=Dn(ct,"fd",16895,73);return kt.Fa={lookup:($t,Sr)=>{var Ur=wt[+Sr];if(!Ur)throw new Yt(8);return($t={parent:null,Pa:{tb:"fake"},Fa:{readlink:()=>Ur.path}}).parent=$t}},kt}},"/proc/self/fd")})();var ua={a:function(ct,kt,$t,Sr){Et("Assertion failed: "+Ct(ct)+", at: "+[kt?Ct(kt):"unknown filename",$t,Sr?Ct(Sr):"unknown function"])},h:function(ct,kt){try{return ct=Ct(ct),fi(ct,kt),0}catch($t){if(Hi===void 0||!($t instanceof Yt))throw $t;return-$t.Ja}},H:function(ct,kt,$t){try{if(kt=Ma(ct,kt=Ct(kt)),-8&$t)var Sr=-28;else{var Ur=Gr(kt,{Ra:!0}).node;Ur?(ct="",4&$t&&(ct+="r"),2&$t&&(ct+="w"),1&$t&&(ct+="x"),Sr=ct&&_r(Ur,ct)?-2:0):Sr=-44}return Sr}catch(Pr){if(Hi===void 0||!(Pr instanceof Yt))throw Pr;return-Pr.Ja}},i:function(ct,kt){try{var $t=wt[ct];if(!$t)throw new Yt(8);return fi($t.node,kt),0}catch(Sr){if(Hi===void 0||!(Sr instanceof Yt))throw Sr;return-Sr.Ja}},g:function(ct){try{var kt=wt[ct];if(!kt)throw new Yt(8);var $t=kt.node,Sr=typeof $t=="string"?Gr($t,{Ra:!0}).node:$t;if(!Sr.Fa.Ma)throw new Yt(63);return Sr.Fa.Ma(Sr,{timestamp:Date.now()}),0}catch(Ur){if(Hi===void 0||!(Ur instanceof Yt))throw Ur;return-Ur.Ja}},b:function(ct,kt,$t){Ii=$t;try{var Sr=Va(ct);switch(kt){case 0:var Ur=pa();return 0>Ur?-28:Wi(Sr.path,Sr.flags,0,Ur).fd;case 1:case 2:case 6:case 7:return 0;case 3:return Sr.flags;case 4:return Ur=pa(),Sr.flags|=Ur,0;case 5:return Ur=pa(),ar[Ur+0>>1]=2,0;case 16:case 8:default:return-28;case 9:return dt[ao()>>2]=28,-1}}catch(Pr){if(Hi===void 0||!(Pr instanceof Yt))throw Pr;return-Pr.Ja}},G:function(ct,kt){try{var $t=Va(ct);return _o(qn,$t.path,kt)}catch(Sr){if(Hi===void 0||!(Sr instanceof Yt))throw Sr;return-Sr.Ja}},B:function(ct,kt){try{var $t=wt[ct];if(!$t)throw new Yt(8);if((2097155&$t.flags)==0)throw new Yt(28);return Yi($t.node,kt),0}catch(Sr){if(Hi===void 0||!(Sr instanceof Yt))throw Sr;return-Sr.Ja}},A:function(ct,kt){try{return kt===0?-28:kt<lr("/")+1?-68:(It("/",bt,ct,kt),ct)}catch($t){if(Hi===void 0||!($t instanceof Yt))throw $t;return-$t.Ja}},E:function(ct,kt){try{return ct=Ct(ct),_o(Yn,ct,kt)}catch($t){if(Hi===void 0||!($t instanceof Yt))throw $t;return-$t.Ja}},x:function(ct,kt){try{return(ct=In(ct=Ct(ct)))[ct.length-1]==="/"&&(ct=ct.substr(0,ct.length-1)),nn(ct,kt),0}catch($t){if(Hi===void 0||!($t instanceof Yt))throw $t;return-$t.Ja}},D:function(ct,kt,$t,Sr){try{kt=Ct(kt);var Ur=256&Sr;return kt=Ma(ct,kt,4096&Sr),_o(Ur?Yn:qn,kt,$t)}catch(Pr){if(Hi===void 0||!(Pr instanceof Yt))throw Pr;return-Pr.Ja}},u:function(ct,kt,$t,Sr){Ii=Sr;try{kt=Ma(ct,kt=Ct(kt));var Ur=Sr?pa():0;return Wi(kt,$t,Ur).fd}catch(Pr){if(Hi===void 0||!(Pr instanceof Yt))throw Pr;return-Pr.Ja}},s:function(ct,kt,$t,Sr){try{if(kt=Ma(ct,kt=Ct(kt)),0>=Sr)var Ur=-28;else{var Pr=ri(kt),ei=Math.min(Sr,lr(Pr)),si=Mt[$t+ei];It(Pr,bt,$t,Sr+1),Mt[$t+ei]=si,Ur=ei}return Ur}catch(Ni){if(Hi===void 0||!(Ni instanceof Yt))throw Ni;return-Ni.Ja}},r:function(ct){try{return ct=Ct(ct),Bn(ct),0}catch(kt){if(Hi===void 0||!(kt instanceof Yt))throw kt;return-kt.Ja}},F:function(ct,kt){try{return ct=Ct(ct),_o(qn,ct,kt)}catch($t){if(Hi===void 0||!($t instanceof Yt))throw $t;return-$t.Ja}},o:function(ct,kt,$t){try{return kt=Ma(ct,kt=Ct(kt)),$t===0?zn(kt):$t===512?Bn(kt):Et("Invalid flags passed to unlinkat"),0}catch(Sr){if(Hi===void 0||!(Sr instanceof Yt))throw Sr;return-Sr.Ja}},m:function(ct,kt,$t){try{if(kt=Ma(ct,kt=Ct(kt),!0),$t){var Sr=dt[$t>>2],Ur=dt[$t+4>>2];Pr=1e3*Sr+Ur/1e6,ei=1e3*(Sr=dt[($t+=8)>>2])+(Ur=dt[$t+4>>2])/1e6}else var Pr=Date.now(),ei=Pr;ct=Pr;var si=Gr(kt,{Ra:!0}).node;return si.Fa.Ma(si,{timestamp:Math.max(ct,ei)}),0}catch(Ni){if(Hi===void 0||!(Ni instanceof Yt))throw Ni;return-Ni.Ja}},e:function(){return Date.now()},j:function(ct,kt){ct=new Date(1e3*dt[ct>>2]),dt[kt>>2]=ct.getSeconds(),dt[kt+4>>2]=ct.getMinutes(),dt[kt+8>>2]=ct.getHours(),dt[kt+12>>2]=ct.getDate(),dt[kt+16>>2]=ct.getMonth(),dt[kt+20>>2]=ct.getFullYear()-1900,dt[kt+24>>2]=ct.getDay();var $t=new Date(ct.getFullYear(),0,1);dt[kt+28>>2]=(ct.getTime()-$t.getTime())/864e5|0,dt[kt+36>>2]=-60*ct.getTimezoneOffset();var Sr=new Date(ct.getFullYear(),6,1).getTimezoneOffset();$t=$t.getTimezoneOffset(),dt[kt+32>>2]=0|(Sr!=$t&&ct.getTimezoneOffset()==Math.min($t,Sr))},v:function(ct,kt,$t,Sr,Ur,Pr,ei){try{var si=wt[Ur];if(!si)return-8;if((2&$t)!=0&&(2&Sr)==0&&(2097155&si.flags)!=2)throw new Yt(2);if((2097155&si.flags)==1)throw new Yt(2);if(!si.Ga.$a)throw new Yt(43);var Ni=si.Ga.$a(si,ct,kt,Pr,$t,Sr),Ui=Ni.Eb;return dt[ei>>2]=Ni.ub,Ui}catch(la){if(Hi===void 0||!(la instanceof Yt))throw la;return-la.Ja}},w:function(ct,kt,$t,Sr,Ur,Pr){try{var ei=wt[Ur];if(ei&&2&$t){var si=bt.slice(ct,ct+kt);ei&&ei.Ga.ab&&ei.Ga.ab(ei,si,Pr,kt,Sr)}}catch(Ni){if(Hi===void 0||!(Ni instanceof Yt))throw Ni;return-Ni.Ja}},n:function ct(kt,$t,Sr){ct.Ab||(ct.Ab=!0,(function(Ur,Pr,ei){function si(wa){return(wa=wa.toTimeString().match(/\(([A-Za-z ]+)\)$/))?wa[1]:"GMT"}var Ni=new Date().getFullYear(),Ui=new Date(Ni,0,1),la=new Date(Ni,6,1);Ni=Ui.getTimezoneOffset();var $i=la.getTimezoneOffset();dt[Ur>>2]=60*Math.max(Ni,$i),dt[Pr>>2]=+(Ni!=$i),Ur=si(Ui),Pr=si(la),Ur=Je(Ur),Pr=Je(Pr),$i<Ni?(dt[ei>>2]=Ur,dt[ei+4>>2]=Pr):(dt[ei>>2]=Pr,dt[ei+4>>2]=Ur)})(kt,$t,Sr))},p:function(){return 2147483648},d:$o,c:function(ct){var kt=bt.length;if(2147483648<(ct>>>=0))return!1;for(var $t=1;4>=$t;$t*=2){var Sr=kt*(1+.2/$t);Sr=Math.min(Sr,ct+100663296);var Ur=Math;Sr=Math.max(ct,Sr),Ur=Ur.min.call(Ur,2147483648,Sr+(65536-Sr%65536)%65536);e:{try{Qe.grow(Ur-ut.byteLength+65535>>>16),Ve();var Pr=1;break e}catch{}Pr=void 0}if(Pr)return!0}return!1},y:function(ct,kt){var $t=0;return es().forEach((function(Sr,Ur){var Pr=kt+$t;for(Ur=dt[ct+4*Ur>>2]=Pr,Pr=0;Pr<Sr.length;++Pr)Mt[Ur++>>0]=Sr.charCodeAt(Pr);Mt[Ur>>0]=0,$t+=Sr.length+1})),0},z:function(ct,kt){var $t=es();dt[ct>>2]=$t.length;var Sr=0;return $t.forEach((function(Ur){Sr+=Ur.length+1})),dt[kt>>2]=Sr,0},f:function(ct){try{var kt=Va(ct);return _a(kt),0}catch($t){if(Hi===void 0||!($t instanceof Yt))throw $t;return $t.Ja}},l:function(ct,kt){try{var $t=Va(ct);return Mt[kt>>0]=$t.tty?2:(61440&$t.mode)==16384?3:(61440&$t.mode)==40960?7:4,0}catch(Sr){if(Hi===void 0||!(Sr instanceof Yt))throw Sr;return Sr.Ja}},t:function(ct,kt,$t,Sr){try{e:{for(var Ur=Va(ct),Pr=ct=0;Pr<$t;Pr++){var ei=dt[kt+(8*Pr+4)>>2],si=io(Ur,Mt,dt[kt+8*Pr>>2],ei,void 0);if(0>si){var Ni=-1;break e}if(ct+=si,si<ei)break}Ni=ct}return dt[Sr>>2]=Ni,0}catch(Ui){if(Hi===void 0||!(Ui instanceof Yt))throw Ui;return Ui.Ja}},k:function(ct,kt,$t,Sr,Ur){try{var Pr=Va(ct);return-9007199254740992>=(ct=4294967296*$t+(kt>>>0))||9007199254740992<=ct?-61:(ja(Pr,ct,Sr),Jt=[Pr.position>>>0,(Ft=Pr.position,1<=+Math.abs(Ft)?0<Ft?(0|Math.min(+Math.floor(Ft/4294967296),4294967295))>>>0:~~+Math.ceil((Ft-+(~~Ft>>>0))/4294967296)>>>0:0)],dt[Ur>>2]=Jt[0],dt[Ur+4>>2]=Jt[1],Pr.gb&&ct===0&&Sr===0&&(Pr.gb=null),0)}catch(ei){if(Hi===void 0||!(ei instanceof Yt))throw ei;return ei.Ja}},C:function(ct){try{var kt=Va(ct);return kt.Ga&&kt.Ga.fsync?-kt.Ga.fsync(kt):0}catch($t){if(Hi===void 0||!($t instanceof Yt))throw $t;return $t.Ja}},q:function(ct,kt,$t,Sr){try{e:{for(var Ur=Va(ct),Pr=ct=0;Pr<$t;Pr++){var ei=No(Ur,Mt,dt[kt+8*Pr>>2],dt[kt+(8*Pr+4)>>2],void 0);if(0>ei){var si=-1;break e}ct+=ei}si=ct}return dt[Sr>>2]=si,0}catch(Ni){if(Hi===void 0||!(Ni instanceof Yt))throw Ni;return Ni.Ja}}};(function(){function ct(Ur){R.asm=Ur.exports,Qe=R.asm.I,Ve(),st=R.asm.za,Wt.unshift(R.asm.J),et--,R.monitorRunDependencies&&R.monitorRunDependencies(et),et==0&&gt&&(Ur=gt,gt=null,Ur())}function kt(Ur){ct(Ur.instance)}function $t(Ur){return(function(){if(!_e&&(ue||fe)){if(typeof fetch=="function"&&!tr.startsWith("file://"))return fetch(tr,{credentials:"same-origin"}).then((function(Pr){if(!Pr.ok)throw"failed to load wasm binary file at '"+tr+"'";return Pr.arrayBuffer()})).catch((function(){return Cr()}));if(T)return new Promise((function(Pr,ei){T(tr,(function(si){Pr(new Uint8Array(si))}),ei)}))}return Promise.resolve().then((function(){return Cr()}))})().then((function(Pr){return WebAssembly.instantiate(Pr,Sr)})).then((function(Pr){return Pr})).then(Ur,(function(Pr){je("failed to asynchronously prepare wasm: "+Pr),Et(Pr)}))}var Sr={a:ua};if(et++,R.monitorRunDependencies&&R.monitorRunDependencies(et),R.instantiateWasm)try{return R.instantiateWasm(Sr,ct)}catch(Ur){return je("Module.instantiateWasm callback failed with error: "+Ur),!1}_e||typeof WebAssembly.instantiateStreaming!="function"||Xt()||tr.startsWith("file://")||typeof fetch!="function"?$t(kt):fetch(tr,{credentials:"same-origin"}).then((function(Ur){return WebAssembly.instantiateStreaming(Ur,Sr).then(kt,(function(Pr){return je("wasm streaming compile failed: "+Pr),je("falling back to ArrayBuffer instantiation"),$t(kt)}))}))})(),R.___wasm_call_ctors=function(){return(R.___wasm_call_ctors=R.asm.J).apply(null,arguments)},R._sqlite3_free=function(){return(R._sqlite3_free=R.asm.K).apply(null,arguments)},R._sqlite3_value_double=function(){return(R._sqlite3_value_double=R.asm.L).apply(null,arguments)},R._sqlite3_value_text=function(){return(R._sqlite3_value_text=R.asm.M).apply(null,arguments)};var ao=R.___errno_location=function(){return(ao=R.___errno_location=R.asm.N).apply(null,arguments)};R._sqlite3_prepare_v2=function(){return(R._sqlite3_prepare_v2=R.asm.O).apply(null,arguments)},R._sqlite3_step=function(){return(R._sqlite3_step=R.asm.P).apply(null,arguments)},R._sqlite3_finalize=function(){return(R._sqlite3_finalize=R.asm.Q).apply(null,arguments)},R._sqlite3_reset=function(){return(R._sqlite3_reset=R.asm.R).apply(null,arguments)},R._sqlite3_value_int=function(){return(R._sqlite3_value_int=R.asm.S).apply(null,arguments)},R._sqlite3_clear_bindings=function(){return(R._sqlite3_clear_bindings=R.asm.T).apply(null,arguments)},R._sqlite3_value_blob=function(){return(R._sqlite3_value_blob=R.asm.U).apply(null,arguments)},R._sqlite3_value_bytes=function(){return(R._sqlite3_value_bytes=R.asm.V).apply(null,arguments)},R._sqlite3_value_type=function(){return(R._sqlite3_value_type=R.asm.W).apply(null,arguments)},R._sqlite3_result_blob=function(){return(R._sqlite3_result_blob=R.asm.X).apply(null,arguments)},R._sqlite3_result_double=function(){return(R._sqlite3_result_double=R.asm.Y).apply(null,arguments)},R._sqlite3_result_error=function(){return(R._sqlite3_result_error=R.asm.Z).apply(null,arguments)},R._sqlite3_result_int=function(){return(R._sqlite3_result_int=R.asm._).apply(null,arguments)},R._sqlite3_result_int64=function(){return(R._sqlite3_result_int64=R.asm.$).apply(null,arguments)},R._sqlite3_result_null=function(){return(R._sqlite3_result_null=R.asm.aa).apply(null,arguments)},R._sqlite3_result_text=function(){return(R._sqlite3_result_text=R.asm.ba).apply(null,arguments)},R._sqlite3_sql=function(){return(R._sqlite3_sql=R.asm.ca).apply(null,arguments)},R._sqlite3_column_count=function(){return(R._sqlite3_column_count=R.asm.da).apply(null,arguments)},R._sqlite3_data_count=function(){return(R._sqlite3_data_count=R.asm.ea).apply(null,arguments)},R._sqlite3_column_blob=function(){return(R._sqlite3_column_blob=R.asm.fa).apply(null,arguments)},R._sqlite3_column_bytes=function(){return(R._sqlite3_column_bytes=R.asm.ga).apply(null,arguments)},R._sqlite3_column_double=function(){return(R._sqlite3_column_double=R.asm.ha).apply(null,arguments)},R._sqlite3_column_text=function(){return(R._sqlite3_column_text=R.asm.ia).apply(null,arguments)},R._sqlite3_column_type=function(){return(R._sqlite3_column_type=R.asm.ja).apply(null,arguments)},R._sqlite3_column_name=function(){return(R._sqlite3_column_name=R.asm.ka).apply(null,arguments)},R._sqlite3_bind_blob=function(){return(R._sqlite3_bind_blob=R.asm.la).apply(null,arguments)},R._sqlite3_bind_double=function(){return(R._sqlite3_bind_double=R.asm.ma).apply(null,arguments)},R._sqlite3_bind_int=function(){return(R._sqlite3_bind_int=R.asm.na).apply(null,arguments)},R._sqlite3_bind_text=function(){return(R._sqlite3_bind_text=R.asm.oa).apply(null,arguments)},R._sqlite3_bind_parameter_index=function(){return(R._sqlite3_bind_parameter_index=R.asm.pa).apply(null,arguments)},R._sqlite3_normalized_sql=function(){return(R._sqlite3_normalized_sql=R.asm.qa).apply(null,arguments)},R._sqlite3_errmsg=function(){return(R._sqlite3_errmsg=R.asm.ra).apply(null,arguments)},R._sqlite3_exec=function(){return(R._sqlite3_exec=R.asm.sa).apply(null,arguments)},R._sqlite3_changes=function(){return(R._sqlite3_changes=R.asm.ta).apply(null,arguments)},R._sqlite3_close_v2=function(){return(R._sqlite3_close_v2=R.asm.ua).apply(null,arguments)},R._sqlite3_create_function_v2=function(){return(R._sqlite3_create_function_v2=R.asm.va).apply(null,arguments)},R._sqlite3_open=function(){return(R._sqlite3_open=R.asm.wa).apply(null,arguments)};var Qa=R._malloc=function(){return(Qa=R._malloc=R.asm.xa).apply(null,arguments)},Sa=R._free=function(){return(Sa=R._free=R.asm.ya).apply(null,arguments)};R._RegisterExtensionFunctions=function(){return(R._RegisterExtensionFunctions=R.asm.Aa).apply(null,arguments)};var po,Ja=R._emscripten_builtin_memalign=function(){return(Ja=R._emscripten_builtin_memalign=R.asm.Ba).apply(null,arguments)},Ga=R.stackSave=function(){return(Ga=R.stackSave=R.asm.Ca).apply(null,arguments)},oo=R.stackRestore=function(){return(oo=R.stackRestore=R.asm.Da).apply(null,arguments)},go=R.stackAlloc=function(){return(go=R.stackAlloc=R.asm.Ea).apply(null,arguments)};function as(){function ct(){if(!po&&(po=!0,R.calledRun=!0,!vt)){if(R.noFSInit||oi||(oi=!0,co(),R.stdin=R.stdin,R.stdout=R.stdout,R.stderr=R.stderr,R.stdin?ra("stdin",R.stdin):$r("/dev/tty","/dev/stdin"),R.stdout?ra("stdout",null,R.stdout):$r("/dev/tty","/dev/stdout"),R.stderr?ra("stderr",null,R.stderr):$r("/dev/tty1","/dev/stderr"),Wi("/dev/stdin",0),Wi("/dev/stdout",1),Wi("/dev/stderr",1)),nr=!1,Dr(Wt),R.onRuntimeInitialized&&R.onRuntimeInitialized(),R.postRun)for(typeof R.postRun=="function"&&(R.postRun=[R.postRun]);R.postRun.length;){var kt=R.postRun.shift();rt.unshift(kt)}Dr(rt)}}if(!(0<et)){if(R.preRun)for(typeof R.preRun=="function"&&(R.preRun=[R.preRun]);R.preRun.length;)ur();Dr(it),0<et||(R.setStatus?(R.setStatus("Running..."),setTimeout((function(){setTimeout((function(){R.setStatus("")}),1),ct()}),1)):ct())}}if(R.cwrap=function(ct,kt,$t,Sr){var Ur=($t=$t||[]).every((function(Pr){return Pr==="number"}));return kt!=="string"&&Ur&&!Sr?R["_"+ct]:function(){return(function(Pr,ei,si,Ni){var Ui={string:function(ea){var Xa=0;if(ea!=null&&ea!==0){var Uo=1+(ea.length<<2);Xa=go(Uo),It(ea,bt,Xa,Uo)}return Xa},array:function(ea){var Xa=go(ea.length);return Mt.set(ea,Xa),Xa}};Pr=R["_"+Pr];var la,$i=[],wa=0;if(Ni)for(var Ri=0;Ri<Ni.length;Ri++){var za=Ui[si[Ri]];za?(wa===0&&(wa=Ga()),$i[Ri]=za(Ni[Ri])):$i[Ri]=Ni[Ri]}return la=si=Pr.apply(null,$i),wa!==0&&oo(wa),ei==="string"?Ct(la):ei==="boolean"?!!la:la})(ct,kt,$t,arguments)}},R.UTF8ToString=Ct,R.stackSave=Ga,R.stackRestore=oo,R.stackAlloc=go,gt=function ct(){po||as(),po||(gt=ct)},R.run=as,R.preInit)for(typeof R.preInit=="function"&&(R.preInit=[R.preInit]);0<R.preInit.length;)R.preInit.pop()();return as(),I})),r)};typeof x=="object"&&typeof y=="object"?(y.exports=b,y.exports.default=b):typeof x=="object"&&(x.Module=b)},9509:(y,x,r)=>{var b=r(8764),M=b.Buffer;function z(R,I){for(var O in R)I[O]=R[O]}function B(R,I,O){return M(R,I,O)}M.from&&M.alloc&&M.allocUnsafe&&M.allocUnsafeSlow?y.exports=b:(z(b,x),x.Buffer=B),B.prototype=Object.create(M.prototype),z(M,B),B.from=function(R,I,O){if(typeof R=="number")throw new TypeError("Argument must not be a number");return M(R,I,O)},B.alloc=function(R,I,O){if(typeof R!="number")throw new TypeError("Argument must be a number");var A=M(R);return I!==void 0?typeof O=="string"?A.fill(I,O):A.fill(I):A.fill(0),A},B.allocUnsafe=function(R){if(typeof R!="number")throw new TypeError("Argument must be a number");return M(R)},B.allocUnsafeSlow=function(R){if(typeof R!="number")throw new TypeError("Argument must be a number");return b.SlowBuffer(R)}},6479:(y,x,r)=>{var b;(function(){function M(I,O,A){var T=O.x,U=O.y,q=A.x-T,K=A.y-U;if(q!==0||K!==0){var J=((I.x-T)*q+(I.y-U)*K)/(q*q+K*K);J>1?(T=A.x,U=A.y):J>0&&(T+=q*J,U+=K*J)}return(q=I.x-T)*q+(K=I.y-U)*K}function z(I,O,A,T,U){for(var q,K=T,J=O+1;J<A;J++){var te=M(I[J],I[O],I[A]);te>K&&(q=J,K=te)}K>T&&(q-O>1&&z(I,O,q,T,U),U.push(I[q]),A-q>1&&z(I,q,A,T,U))}function B(I,O){var A=I.length-1,T=[I[0]];return z(I,0,A,O,T),T.push(I[A]),T}function R(I,O,A){if(I.length<=2)return I;var T=O!==void 0?O*O:1;return I=A?I:(function(U,q){for(var K,J,te,oe,ue,fe=U[0],Le=[fe],Ge=1,ze=U.length;Ge<ze;Ge++)te=fe,(oe=(J=K=U[Ge]).x-te.x)*oe+(ue=J.y-te.y)*ue>q&&(Le.push(K),fe=K);return fe!==K&&Le.push(K),Le})(I,T),B(I,T)}(b=(function(){return R}).call(x,r,x,y))===void 0||(y.exports=b)})()},8501:(y,x,r)=>{var b=r(3570),M=r(5676),z=r(7529),B=r(584),R=r(8575),I=x;I.request=function(O,A){O=typeof O=="string"?R.parse(O):z(O);var T=r.g.location.protocol.search(/^https?:$/)===-1?"http:":"",U=O.protocol||T,q=O.hostname||O.host,K=O.port,J=O.path||"/";q&&q.indexOf(":")!==-1&&(q="["+q+"]"),O.url=(q?U+"//"+q:"")+(K?":"+K:"")+J,O.method=(O.method||"GET").toUpperCase(),O.headers=O.headers||{};var te=new b(O);return A&&te.on("response",A),te},I.get=function(O,A){var T=I.request(O,A);return T.end(),T},I.ClientRequest=b,I.IncomingMessage=M.IncomingMessage,I.Agent=function(){},I.Agent.defaultMaxSockets=4,I.globalAgent=new I.Agent,I.STATUS_CODES=B,I.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]},8725:(y,x,r)=>{var b;function M(){if(b!==void 0)return b;if(r.g.XMLHttpRequest){b=new r.g.XMLHttpRequest;try{b.open("GET",r.g.XDomainRequest?"/":"https://example.com")}catch{b=null}}else b=null;return b}function z(R){var I=M();if(!I)return!1;try{return I.responseType=R,I.responseType===R}catch{}return!1}function B(R){return typeof R=="function"}x.fetch=B(r.g.fetch)&&B(r.g.ReadableStream),x.writableStream=B(r.g.WritableStream),x.abortController=B(r.g.AbortController),x.arraybuffer=x.fetch||z("arraybuffer"),x.msstream=!x.fetch&&z("ms-stream"),x.mozchunkedarraybuffer=!x.fetch&&z("moz-chunked-arraybuffer"),x.overrideMimeType=x.fetch||!!M()&&B(M().overrideMimeType),b=null},3570:(y,x,r)=>{var b=r(3085).lW,M=r(4155),z=r(8725),B=r(5717),R=r(5676),I=r(925),O=R.IncomingMessage,A=R.readyStates,T=y.exports=function(q){var K,J=this;I.Writable.call(J),J._opts=q,J._body=[],J._headers={},q.auth&&J.setHeader("Authorization","Basic "+b.from(q.auth).toString("base64")),Object.keys(q.headers).forEach((function(oe){J.setHeader(oe,q.headers[oe])}));var te=!0;if(q.mode==="disable-fetch"||"requestTimeout"in q&&!z.abortController)te=!1,K=!0;else if(q.mode==="prefer-streaming")K=!1;else if(q.mode==="allow-wrong-content-type")K=!z.overrideMimeType;else{if(q.mode&&q.mode!=="default"&&q.mode!=="prefer-fast")throw new Error("Invalid value for opts.mode");K=!0}J._mode=(function(oe,ue){return z.fetch&&ue?"fetch":z.mozchunkedarraybuffer?"moz-chunked-arraybuffer":z.msstream?"ms-stream":z.arraybuffer&&oe?"arraybuffer":"text"})(K,te),J._fetchTimer=null,J._socketTimeout=null,J._socketTimer=null,J.on("finish",(function(){J._onFinish()}))};B(T,I.Writable),T.prototype.setHeader=function(q,K){var J=q.toLowerCase();U.indexOf(J)===-1&&(this._headers[J]={name:q,value:K})},T.prototype.getHeader=function(q){var K=this._headers[q.toLowerCase()];return K?K.value:null},T.prototype.removeHeader=function(q){delete this._headers[q.toLowerCase()]},T.prototype._onFinish=function(){var q=this;if(!q._destroyed){var K=q._opts;"timeout"in K&&K.timeout!==0&&q.setTimeout(K.timeout);var J=q._headers,te=null;K.method!=="GET"&&K.method!=="HEAD"&&(te=new Blob(q._body,{type:(J["content-type"]||{}).value||""}));var oe=[];if(Object.keys(J).forEach((function(Ge){var ze=J[Ge].name,je=J[Ge].value;Array.isArray(je)?je.forEach((function(Be){oe.push([ze,Be])})):oe.push([ze,je])})),q._mode==="fetch"){var ue=null;if(z.abortController){var fe=new AbortController;ue=fe.signal,q._fetchAbortController=fe,"requestTimeout"in K&&K.requestTimeout!==0&&(q._fetchTimer=r.g.setTimeout((function(){q.emit("requestTimeout"),q._fetchAbortController&&q._fetchAbortController.abort()}),K.requestTimeout))}r.g.fetch(q._opts.url,{method:q._opts.method,headers:oe,body:te||void 0,mode:"cors",credentials:K.withCredentials?"include":"same-origin",signal:ue}).then((function(Ge){q._fetchResponse=Ge,q._resetTimers(!1),q._connect()}),(function(Ge){q._resetTimers(!0),q._destroyed||q.emit("error",Ge)}))}else{var Le=q._xhr=new r.g.XMLHttpRequest;try{Le.open(q._opts.method,q._opts.url,!0)}catch(Ge){return void M.nextTick((function(){q.emit("error",Ge)}))}"responseType"in Le&&(Le.responseType=q._mode),"withCredentials"in Le&&(Le.withCredentials=!!K.withCredentials),q._mode==="text"&&"overrideMimeType"in Le&&Le.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in K&&(Le.timeout=K.requestTimeout,Le.ontimeout=function(){q.emit("requestTimeout")}),oe.forEach((function(Ge){Le.setRequestHeader(Ge[0],Ge[1])})),q._response=null,Le.onreadystatechange=function(){switch(Le.readyState){case A.LOADING:case A.DONE:q._onXHRProgress()}},q._mode==="moz-chunked-arraybuffer"&&(Le.onprogress=function(){q._onXHRProgress()}),Le.onerror=function(){q._destroyed||(q._resetTimers(!0),q.emit("error",new Error("XHR error")))};try{Le.send(te)}catch(Ge){return void M.nextTick((function(){q.emit("error",Ge)}))}}}},T.prototype._onXHRProgress=function(){var q=this;q._resetTimers(!1),(function(K){try{var J=K.status;return J!==null&&J!==0}catch{return!1}})(q._xhr)&&!q._destroyed&&(q._response||q._connect(),q._response._onXHRProgress(q._resetTimers.bind(q)))},T.prototype._connect=function(){var q=this;q._destroyed||(q._response=new O(q._xhr,q._fetchResponse,q._mode,q._resetTimers.bind(q)),q._response.on("error",(function(K){q.emit("error",K)})),q.emit("response",q._response))},T.prototype._write=function(q,K,J){this._body.push(q),J()},T.prototype._resetTimers=function(q){var K=this;r.g.clearTimeout(K._socketTimer),K._socketTimer=null,q?(r.g.clearTimeout(K._fetchTimer),K._fetchTimer=null):K._socketTimeout&&(K._socketTimer=r.g.setTimeout((function(){K.emit("timeout")}),K._socketTimeout))},T.prototype.abort=T.prototype.destroy=function(q){var K=this;K._destroyed=!0,K._resetTimers(!0),K._response&&(K._response._destroyed=!0),K._xhr?K._xhr.abort():K._fetchAbortController&&K._fetchAbortController.abort(),q&&K.emit("error",q)},T.prototype.end=function(q,K,J){typeof q=="function"&&(J=q,q=void 0),I.Writable.prototype.end.call(this,q,K,J)},T.prototype.setTimeout=function(q,K){var J=this;K&&J.once("timeout",K),J._socketTimeout=q,J._resetTimers(!1)},T.prototype.flushHeaders=function(){},T.prototype.setNoDelay=function(){},T.prototype.setSocketKeepAlive=function(){};var U=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]},5676:(y,x,r)=>{var b=r(4155),M=r(3085).lW,z=r(8725),B=r(5717),R=r(925),I=x.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},O=x.IncomingMessage=function(A,T,U,q){var K=this;if(R.Readable.call(K),K._mode=U,K.headers={},K.rawHeaders=[],K.trailers={},K.rawTrailers=[],K.on("end",(function(){b.nextTick((function(){K.emit("close")}))})),U==="fetch"){if(K._fetchResponse=T,K.url=T.url,K.statusCode=T.status,K.statusMessage=T.statusText,T.headers.forEach((function(fe,Le){K.headers[Le.toLowerCase()]=fe,K.rawHeaders.push(Le,fe)})),z.writableStream){var J=new WritableStream({write:function(fe){return q(!1),new Promise((function(Le,Ge){K._destroyed?Ge():K.push(M.from(fe))?Le():K._resumeFetch=Le}))},close:function(){q(!0),K._destroyed||K.push(null)},abort:function(fe){q(!0),K._destroyed||K.emit("error",fe)}});try{return void T.body.pipeTo(J).catch((function(fe){q(!0),K._destroyed||K.emit("error",fe)}))}catch{}}var te=T.body.getReader();(function fe(){te.read().then((function(Le){K._destroyed||(q(Le.done),Le.done?K.push(null):(K.push(M.from(Le.value)),fe()))})).catch((function(Le){q(!0),K._destroyed||K.emit("error",Le)}))})()}else if(K._xhr=A,K._pos=0,K.url=A.responseURL,K.statusCode=A.status,K.statusMessage=A.statusText,A.getAllResponseHeaders().split(/\r?\n/).forEach((function(fe){var Le=fe.match(/^([^:]+):\s*(.*)/);if(Le){var Ge=Le[1].toLowerCase();Ge==="set-cookie"?(K.headers[Ge]===void 0&&(K.headers[Ge]=[]),K.headers[Ge].push(Le[2])):K.headers[Ge]!==void 0?K.headers[Ge]+=", "+Le[2]:K.headers[Ge]=Le[2],K.rawHeaders.push(Le[1],Le[2])}})),K._charset="x-user-defined",!z.overrideMimeType){var oe=K.rawHeaders["mime-type"];if(oe){var ue=oe.match(/;\s*charset=([^;])(;|$)/);ue&&(K._charset=ue[1].toLowerCase())}K._charset||(K._charset="utf-8")}};B(O,R.Readable),O.prototype._read=function(){var A=this._resumeFetch;A&&(this._resumeFetch=null,A())},O.prototype._onXHRProgress=function(A){var T=this,U=T._xhr,q=null;switch(T._mode){case"text":if((q=U.responseText).length>T._pos){var K=q.substr(T._pos);if(T._charset==="x-user-defined"){for(var J=M.alloc(K.length),te=0;te<K.length;te++)J[te]=255&K.charCodeAt(te);T.push(J)}else T.push(K,T._charset);T._pos=q.length}break;case"arraybuffer":if(U.readyState!==I.DONE||!U.response)break;q=U.response,T.push(M.from(new Uint8Array(q)));break;case"moz-chunked-arraybuffer":if(q=U.response,U.readyState!==I.LOADING||!q)break;T.push(M.from(new Uint8Array(q)));break;case"ms-stream":if(q=U.response,U.readyState!==I.LOADING)break;var oe=new r.g.MSStreamReader;oe.onprogress=function(){oe.result.byteLength>T._pos&&(T.push(M.from(new Uint8Array(oe.result.slice(T._pos)))),T._pos=oe.result.byteLength)},oe.onload=function(){A(!0),T.push(null)},oe.readAsArrayBuffer(q)}T._xhr.readyState===I.DONE&&T._mode!=="ms-stream"&&(A(!0),T.push(null))}},7303:y=>{var x={};function r(M,z,B){B||(B=Error);var R=(function(I){var O,A;function T(U,q,K){return I.call(this,(function(J,te,oe){return typeof z=="string"?z:z(J,te,oe)})(U,q,K))||this}return A=I,(O=T).prototype=Object.create(A.prototype),O.prototype.constructor=O,O.__proto__=A,T})(B);R.prototype.name=B.name,R.prototype.code=M,x[M]=R}function b(M,z){if(Array.isArray(M)){var B=M.length;return M=M.map((function(R){return String(R)})),B>2?"one of ".concat(z," ").concat(M.slice(0,B-1).join(", "),", or ")+M[B-1]:B===2?"one of ".concat(z," ").concat(M[0]," or ").concat(M[1]):"of ".concat(z," ").concat(M[0])}return"of ".concat(z," ").concat(String(M))}r("ERR_INVALID_OPT_VALUE",(function(M,z){return'The value "'+z+'" is invalid for option "'+M+'"'}),TypeError),r("ERR_INVALID_ARG_TYPE",(function(M,z,B){var R,I,O,A,T;if(typeof z=="string"&&(I="not ",z.substr(0,I.length)===I)?(R="must not be",z=z.replace(/^not /,"")):R="must be",(function(q,K,J){return(J===void 0||J>q.length)&&(J=q.length),q.substring(J-K.length,J)===K})(M," argument"))O="The ".concat(M," ").concat(R," ").concat(b(z,"type"));else{var U=(typeof T!="number"&&(T=0),T+1>(A=M).length||A.indexOf(".",T)===-1?"argument":"property");O='The "'.concat(M,'" ').concat(U," ").concat(R," ").concat(b(z,"type"))}return O+". Received type ".concat(typeof B)}),TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",(function(M){return"The "+M+" method is not implemented"})),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",(function(M){return"Cannot call "+M+" after a stream was destroyed"})),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",(function(M){return"Unknown encoding: "+M}),TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),y.exports.q=x},9560:(y,x,r)=>{var b=r(4155),M=Object.keys||function(T){var U=[];for(var q in T)U.push(q);return U};y.exports=I;const z=r(4002),B=r(3313);r(5717)(I,z);{const T=M(B.prototype);for(var R=0;R<T.length;R++){const U=T[R];I.prototype[U]||(I.prototype[U]=B.prototype[U])}}function I(T){if(!(this instanceof I))return new I(T);z.call(this,T),B.call(this,T),this.allowHalfOpen=!0,T&&(T.readable===!1&&(this.readable=!1),T.writable===!1&&(this.writable=!1),T.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",O)))}function O(){this._writableState.ended||b.nextTick(A,this)}function A(T){T.end()}Object.defineProperty(I.prototype,"writableHighWaterMark",{enumerable:!1,get(){return this._writableState.highWaterMark}}),Object.defineProperty(I.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(I.prototype,"writableLength",{enumerable:!1,get(){return this._writableState.length}}),Object.defineProperty(I.prototype,"destroyed",{enumerable:!1,get(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set(T){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=T,this._writableState.destroyed=T)}})},4842:(y,x,r)=>{y.exports=M;const b=r(1846);function M(z){if(!(this instanceof M))return new M(z);b.call(this,z)}r(5717)(M,b),M.prototype._transform=function(z,B,R){R(null,z)}},4002:(y,x,r)=>{var b,M=r(4155);y.exports=_e,_e.ReadableState=Be,r(7187).EventEmitter;var z=function(Ct,It){return Ct.listeners(It).length},B=r(1463);const R=r(8764).Buffer,I=(r.g!==void 0?r.g:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},O=r(3646);let A;A=O&&O.debuglog?O.debuglog("stream"):function(){};const T=r(6641),U=r(4910),q=r(7855).getHighWaterMark,K=r(7303).q,J=K.ERR_INVALID_ARG_TYPE,te=K.ERR_STREAM_PUSH_AFTER_EOF,oe=K.ERR_METHOD_NOT_IMPLEMENTED,ue=K.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;let fe,Le,Ge;r(5717)(_e,B);const ze=U.errorOrDestroy,je=["error","close","destroy","pause","resume"];function Be(Ct,It,lr){b=b||r(9560),Ct=Ct||{},typeof lr!="boolean"&&(lr=It instanceof b),this.objectMode=!!Ct.objectMode,lr&&(this.objectMode=this.objectMode||!!Ct.readableObjectMode),this.highWaterMark=q(this,Ct,"readableHighWaterMark",lr),this.buffer=new T,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=Ct.emitClose!==!1,this.autoDestroy=!!Ct.autoDestroy,this.destroyed=!1,this.defaultEncoding=Ct.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Ct.encoding&&(fe||(fe=r(2553).s),this.decoder=new fe(Ct.encoding),this.encoding=Ct.encoding)}function _e(Ct){if(b=b||r(9560),!(this instanceof _e))return new _e(Ct);const It=this instanceof b;this._readableState=new Be(Ct,this,It),this.readable=!0,Ct&&(typeof Ct.read=="function"&&(this._read=Ct.read),typeof Ct.destroy=="function"&&(this._destroy=Ct.destroy)),B.call(this)}function He(Ct,It,lr,Je,Ve){A("readableAddChunk",It);var st,it=Ct._readableState;if(It===null)it.reading=!1,(function(Wt,rt){if(A("onEofChunk"),!rt.ended){if(rt.decoder){var ur=rt.decoder.end();ur&&ur.length&&(rt.buffer.push(ur),rt.length+=rt.objectMode?1:ur.length)}rt.ended=!0,rt.sync?Qe(Wt):(rt.needReadable=!1,rt.emittedReadable||(rt.emittedReadable=!0,vt(Wt)))}})(Ct,it);else if(Ve||(st=(function(Wt,rt){var ur,tr;return tr=rt,R.isBuffer(tr)||tr instanceof I||typeof rt=="string"||rt===void 0||Wt.objectMode||(ur=new J("chunk",["string","Buffer","Uint8Array"],rt)),ur})(it,It)),st)ze(Ct,st);else if(it.objectMode||It&&It.length>0)if(typeof It=="string"||it.objectMode||Object.getPrototypeOf(It)===R.prototype||(It=(function(Wt){return R.from(Wt)})(It)),Je)it.endEmitted?ze(Ct,new ue):tt(Ct,it,It,!0);else if(it.ended)ze(Ct,new te);else{if(it.destroyed)return!1;it.reading=!1,it.decoder&&!lr?(It=it.decoder.write(It),it.objectMode||It.length!==0?tt(Ct,it,It,!1):pt(Ct,it)):tt(Ct,it,It,!1)}else Je||(it.reading=!1,pt(Ct,it));return!it.ended&&(it.length<it.highWaterMark||it.length===0)}function tt(Ct,It,lr,Je){It.flowing&&It.length===0&&!It.sync?(It.awaitDrain=0,Ct.emit("data",lr)):(It.length+=It.objectMode?1:lr.length,Je?It.buffer.unshift(lr):It.buffer.push(lr),It.needReadable&&Qe(Ct)),pt(Ct,It)}Object.defineProperty(_e.prototype,"destroyed",{enumerable:!1,get(){return this._readableState!==void 0&&this._readableState.destroyed},set(Ct){this._readableState&&(this._readableState.destroyed=Ct)}}),_e.prototype.destroy=U.destroy,_e.prototype._undestroy=U.undestroy,_e.prototype._destroy=function(Ct,It){It(Ct)},_e.prototype.push=function(Ct,It){var lr,Je=this._readableState;return Je.objectMode?lr=!0:typeof Ct=="string"&&((It=It||Je.defaultEncoding)!==Je.encoding&&(Ct=R.from(Ct,It),It=""),lr=!0),He(this,Ct,It,!1,lr)},_e.prototype.unshift=function(Ct){return He(this,Ct,null,!0,!1)},_e.prototype.isPaused=function(){return this._readableState.flowing===!1},_e.prototype.setEncoding=function(Ct){fe||(fe=r(2553).s);const It=new fe(Ct);this._readableState.decoder=It,this._readableState.encoding=this._readableState.decoder.encoding;let lr=this._readableState.buffer.head,Je="";for(;lr!==null;)Je+=It.write(lr.data),lr=lr.next;return this._readableState.buffer.clear(),Je!==""&&this._readableState.buffer.push(Je),this._readableState.length=Je.length,this};const Ke=1073741824;function Ze(Ct,It){return Ct<=0||It.length===0&&It.ended?0:It.objectMode?1:Ct!=Ct?It.flowing&&It.length?It.buffer.head.data.length:It.length:(Ct>It.highWaterMark&&(It.highWaterMark=(function(lr){return lr>=Ke?lr=Ke:(lr--,lr|=lr>>>1,lr|=lr>>>2,lr|=lr>>>4,lr|=lr>>>8,lr|=lr>>>16,lr++),lr})(Ct)),Ct<=It.length?Ct:It.ended?It.length:(It.needReadable=!0,0))}function Qe(Ct){var It=Ct._readableState;A("emitReadable",It.needReadable,It.emittedReadable),It.needReadable=!1,It.emittedReadable||(A("emitReadable",It.flowing),It.emittedReadable=!0,M.nextTick(vt,Ct))}function vt(Ct){var It=Ct._readableState;A("emitReadable_",It.destroyed,It.length,It.ended),It.destroyed||!It.length&&!It.ended||(Ct.emit("readable"),It.emittedReadable=!1),It.needReadable=!It.flowing&&!It.ended&&It.length<=It.highWaterMark,dt(Ct)}function pt(Ct,It){It.readingMore||(It.readingMore=!0,M.nextTick(ut,Ct,It))}function ut(Ct,It){for(;!It.reading&&!It.ended&&(It.length<It.highWaterMark||It.flowing&&It.length===0);){const lr=It.length;if(A("maybeReadMore read 0"),Ct.read(0),lr===It.length)break}It.readingMore=!1}function Mt(Ct){const It=Ct._readableState;It.readableListening=Ct.listenerCount("readable")>0,It.resumeScheduled&&!It.paused?It.flowing=!0:Ct.listenerCount("data")>0&&Ct.resume()}function bt(Ct){A("readable nexttick read 0"),Ct.read(0)}function ar(Ct,It){A("resume",It.reading),It.reading||Ct.read(0),It.resumeScheduled=!1,Ct.emit("resume"),dt(Ct),It.flowing&&!It.reading&&Ct.read(0)}function dt(Ct){const It=Ct._readableState;for(A("flow",It.flowing);It.flowing&&Ct.read()!==null;);}function yt(Ct,It){return It.length===0?null:(It.objectMode?lr=It.buffer.shift():!Ct||Ct>=It.length?(lr=It.decoder?It.buffer.join(""):It.buffer.length===1?It.buffer.first():It.buffer.concat(It.length),It.buffer.clear()):lr=It.buffer.consume(Ct,It.decoder),lr);var lr}function Gt(Ct){var It=Ct._readableState;A("endReadable",It.endEmitted),It.endEmitted||(It.ended=!0,M.nextTick(Bt,It,Ct))}function Bt(Ct,It){if(A("endReadableNT",Ct.endEmitted,Ct.length),!Ct.endEmitted&&Ct.length===0&&(Ct.endEmitted=!0,It.readable=!1,It.emit("end"),Ct.autoDestroy)){const lr=It._writableState;(!lr||lr.autoDestroy&&lr.finished)&&It.destroy()}}function Dt(Ct,It){for(var lr=0,Je=Ct.length;lr<Je;lr++)if(Ct[lr]===It)return lr;return-1}_e.prototype.read=function(Ct){A("read",Ct),Ct=parseInt(Ct,10);var It=this._readableState,lr=Ct;if(Ct!==0&&(It.emittedReadable=!1),Ct===0&&It.needReadable&&((It.highWaterMark!==0?It.length>=It.highWaterMark:It.length>0)||It.ended))return A("read: emitReadable",It.length,It.ended),It.length===0&&It.ended?Gt(this):Qe(this),null;if((Ct=Ze(Ct,It))===0&&It.ended)return It.length===0&&Gt(this),null;var Je,Ve=It.needReadable;return A("need readable",Ve),(It.length===0||It.length-Ct<It.highWaterMark)&&A("length less than watermark",Ve=!0),It.ended||It.reading?A("reading or ended",Ve=!1):Ve&&(A("do read"),It.reading=!0,It.sync=!0,It.length===0&&(It.needReadable=!0),this._read(It.highWaterMark),It.sync=!1,It.reading||(Ct=Ze(lr,It))),(Je=Ct>0?yt(Ct,It):null)===null?(It.needReadable=It.length<=It.highWaterMark,Ct=0):(It.length-=Ct,It.awaitDrain=0),It.length===0&&(It.ended||(It.needReadable=!0),lr!==Ct&&It.ended&&Gt(this)),Je!==null&&this.emit("data",Je),Je},_e.prototype._read=function(Ct){ze(this,new oe("_read()"))},_e.prototype.pipe=function(Ct,It){var lr=this,Je=this._readableState;switch(Je.pipesCount){case 0:Je.pipes=Ct;break;case 1:Je.pipes=[Je.pipes,Ct];break;default:Je.pipes.push(Ct)}Je.pipesCount+=1,A("pipe count=%d opts=%j",Je.pipesCount,It);var Ve=It&&It.end===!1||Ct===M.stdout||Ct===M.stderr?Jt:st;function st(){A("onend"),Ct.end()}Je.endEmitted?M.nextTick(Ve):lr.once("end",Ve),Ct.on("unpipe",(function et(gt,Et){A("onunpipe"),gt===lr&&Et&&Et.hasUnpiped===!1&&(Et.hasUnpiped=!0,A("cleanup"),Ct.removeListener("close",tr),Ct.removeListener("finish",Ft),Ct.removeListener("drain",it),Ct.removeListener("error",ur),Ct.removeListener("unpipe",et),lr.removeListener("end",st),lr.removeListener("end",Jt),lr.removeListener("data",rt),Wt=!0,!Je.awaitDrain||Ct._writableState&&!Ct._writableState.needDrain||it())}));var it=(function(et){return function(){var gt=et._readableState;A("pipeOnDrain",gt.awaitDrain),gt.awaitDrain&&gt.awaitDrain--,gt.awaitDrain===0&&z(et,"data")&&(gt.flowing=!0,dt(et))}})(lr);Ct.on("drain",it);var Wt=!1;function rt(et){A("ondata");var gt=Ct.write(et);A("dest.write",gt),gt===!1&&((Je.pipesCount===1&&Je.pipes===Ct||Je.pipesCount>1&&Dt(Je.pipes,Ct)!==-1)&&!Wt&&(A("false write response, pause",Je.awaitDrain),Je.awaitDrain++),lr.pause())}function ur(et){A("onerror",et),Jt(),Ct.removeListener("error",ur),z(Ct,"error")===0&&ze(Ct,et)}function tr(){Ct.removeListener("finish",Ft),Jt()}function Ft(){A("onfinish"),Ct.removeListener("close",tr),Jt()}function Jt(){A("unpipe"),lr.unpipe(Ct)}return lr.on("data",rt),(function(et,gt,Et){if(typeof et.prependListener=="function")return et.prependListener(gt,Et);et._events&&et._events[gt]?Array.isArray(et._events[gt])?et._events[gt].unshift(Et):et._events[gt]=[Et,et._events[gt]]:et.on(gt,Et)})(Ct,"error",ur),Ct.once("close",tr),Ct.once("finish",Ft),Ct.emit("pipe",lr),Je.flowing||(A("pipe resume"),lr.resume()),Ct},_e.prototype.unpipe=function(Ct){var It=this._readableState,lr={hasUnpiped:!1};if(It.pipesCount===0)return this;if(It.pipesCount===1)return Ct&&Ct!==It.pipes||(Ct||(Ct=It.pipes),It.pipes=null,It.pipesCount=0,It.flowing=!1,Ct&&Ct.emit("unpipe",this,lr)),this;if(!Ct){var Je=It.pipes,Ve=It.pipesCount;It.pipes=null,It.pipesCount=0,It.flowing=!1;for(var st=0;st<Ve;st++)Je[st].emit("unpipe",this,{hasUnpiped:!1});return this}var it=Dt(It.pipes,Ct);return it===-1||(It.pipes.splice(it,1),It.pipesCount-=1,It.pipesCount===1&&(It.pipes=It.pipes[0]),Ct.emit("unpipe",this,lr)),this},_e.prototype.on=function(Ct,It){const lr=B.prototype.on.call(this,Ct,It),Je=this._readableState;return Ct==="data"?(Je.readableListening=this.listenerCount("readable")>0,Je.flowing!==!1&&this.resume()):Ct==="readable"&&(Je.endEmitted||Je.readableListening||(Je.readableListening=Je.needReadable=!0,Je.flowing=!1,Je.emittedReadable=!1,A("on readable",Je.length,Je.reading),Je.length?Qe(this):Je.reading||M.nextTick(bt,this))),lr},_e.prototype.addListener=_e.prototype.on,_e.prototype.removeListener=function(Ct,It){const lr=B.prototype.removeListener.call(this,Ct,It);return Ct==="readable"&&M.nextTick(Mt,this),lr},_e.prototype.removeAllListeners=function(Ct){const It=B.prototype.removeAllListeners.apply(this,arguments);return Ct!=="readable"&&Ct!==void 0||M.nextTick(Mt,this),It},_e.prototype.resume=function(){var Ct=this._readableState;return Ct.flowing||(A("resume"),Ct.flowing=!Ct.readableListening,(function(It,lr){lr.resumeScheduled||(lr.resumeScheduled=!0,M.nextTick(ar,It,lr))})(this,Ct)),Ct.paused=!1,this},_e.prototype.pause=function(){return A("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(A("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},_e.prototype.wrap=function(Ct){var It=this._readableState,lr=!1;for(var Je in Ct.on("end",(()=>{if(A("wrapped end"),It.decoder&&!It.ended){var st=It.decoder.end();st&&st.length&&this.push(st)}this.push(null)})),Ct.on("data",(st=>{A("wrapped data"),It.decoder&&(st=It.decoder.write(st)),It.objectMode&&st==null||(It.objectMode||st&&st.length)&&(this.push(st)||(lr=!0,Ct.pause()))})),Ct)this[Je]===void 0&&typeof Ct[Je]=="function"&&(this[Je]=(function(st){return function(){return Ct[st].apply(Ct,arguments)}})(Je));for(var Ve=0;Ve<je.length;Ve++)Ct.on(je[Ve],this.emit.bind(this,je[Ve]));return this._read=st=>{A("wrapped _read",st),lr&&(lr=!1,Ct.resume())},this},typeof Symbol=="function"&&(_e.prototype[Symbol.asyncIterator]=function(){return Le===void 0&&(Le=r(6819)),Le(this)}),Object.defineProperty(_e.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(_e.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(_e.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(Ct){this._readableState&&(this._readableState.flowing=Ct)}}),_e._fromList=yt,Object.defineProperty(_e.prototype,"readableLength",{enumerable:!1,get(){return this._readableState.length}}),typeof Symbol=="function"&&(_e.from=function(Ct,It){return Ge===void 0&&(Ge=r(8869)),Ge(_e,Ct,It)})},1846:(y,x,r)=>{y.exports=A;const b=r(7303).q,M=b.ERR_METHOD_NOT_IMPLEMENTED,z=b.ERR_MULTIPLE_CALLBACK,B=b.ERR_TRANSFORM_ALREADY_TRANSFORMING,R=b.ERR_TRANSFORM_WITH_LENGTH_0,I=r(9560);function O(q,K){var J=this._transformState;J.transforming=!1;var te=J.writecb;if(te===null)return this.emit("error",new z);J.writechunk=null,J.writecb=null,K!=null&&this.push(K),te(q);var oe=this._readableState;oe.reading=!1,(oe.needReadable||oe.length<oe.highWaterMark)&&this._read(oe.highWaterMark)}function A(q){if(!(this instanceof A))return new A(q);I.call(this,q),this._transformState={afterTransform:O.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,q&&(typeof q.transform=="function"&&(this._transform=q.transform),typeof q.flush=="function"&&(this._flush=q.flush)),this.on("prefinish",T)}function T(){typeof this._flush!="function"||this._readableState.destroyed?U(this,null,null):this._flush(((q,K)=>{U(this,q,K)}))}function U(q,K,J){if(K)return q.emit("error",K);if(J!=null&&q.push(J),q._writableState.length)throw new R;if(q._transformState.transforming)throw new B;return q.push(null)}r(5717)(A,I),A.prototype.push=function(q,K){return this._transformState.needTransform=!1,I.prototype.push.call(this,q,K)},A.prototype._transform=function(q,K,J){J(new M("_transform()"))},A.prototype._write=function(q,K,J){var te=this._transformState;if(te.writecb=J,te.writechunk=q,te.writeencoding=K,!te.transforming){var oe=this._readableState;(te.needTransform||oe.needReadable||oe.length<oe.highWaterMark)&&this._read(oe.highWaterMark)}},A.prototype._read=function(q){var K=this._transformState;K.writechunk===null||K.transforming?K.needTransform=!0:(K.transforming=!0,this._transform(K.writechunk,K.writeencoding,K.afterTransform))},A.prototype._destroy=function(q,K){I.prototype._destroy.call(this,q,(J=>{K(J)}))}},3313:(y,x,r)=>{var b,M=r(4155);function z(pt){this.next=null,this.entry=null,this.finish=()=>{(function(ut,Mt,bt){var ar=ut.entry;for(ut.entry=null;ar;){var dt=ar.callback;Mt.pendingcb--,dt(void 0),ar=ar.next}Mt.corkedRequestsFree.next=ut})(this,pt)}}y.exports=_e,_e.WritableState=je;const B={deprecate:r(4927)};var R=r(1463);const I=r(8764).Buffer,O=(r.g!==void 0?r.g:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},A=r(4910),T=r(7855).getHighWaterMark,U=r(7303).q,q=U.ERR_INVALID_ARG_TYPE,K=U.ERR_METHOD_NOT_IMPLEMENTED,J=U.ERR_MULTIPLE_CALLBACK,te=U.ERR_STREAM_CANNOT_PIPE,oe=U.ERR_STREAM_DESTROYED,ue=U.ERR_STREAM_NULL_VALUES,fe=U.ERR_STREAM_WRITE_AFTER_END,Le=U.ERR_UNKNOWN_ENCODING,Ge=A.errorOrDestroy;function ze(){}function je(pt,ut,Mt){b=b||r(9560),pt=pt||{},typeof Mt!="boolean"&&(Mt=ut instanceof b),this.objectMode=!!pt.objectMode,Mt&&(this.objectMode=this.objectMode||!!pt.writableObjectMode),this.highWaterMark=T(this,pt,"writableHighWaterMark",Mt),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var bt=pt.decodeStrings===!1;this.decodeStrings=!bt,this.defaultEncoding=pt.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ar){(function(dt,yt){var Gt=dt._writableState,Bt=Gt.sync,Dt=Gt.writecb;if(typeof Dt!="function")throw new J;if((function(It){It.writing=!1,It.writecb=null,It.length-=It.writelen,It.writelen=0})(Gt),yt)(function(It,lr,Je,Ve,st){--lr.pendingcb,Je?(M.nextTick(st,Ve),M.nextTick(vt,It,lr),It._writableState.errorEmitted=!0,Ge(It,Ve)):(st(Ve),It._writableState.errorEmitted=!0,Ge(It,Ve),vt(It,lr))})(dt,Gt,Bt,yt,Dt);else{var Ct=Ze(Gt)||dt.destroyed;Ct||Gt.corked||Gt.bufferProcessing||!Gt.bufferedRequest||Ke(dt,Gt),Bt?M.nextTick(tt,dt,Gt,Ct,Dt):tt(dt,Gt,Ct,Dt)}})(ut,ar)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=pt.emitClose!==!1,this.autoDestroy=!!pt.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new z(this)}var Be;function _e(pt){const ut=this instanceof(b=b||r(9560));if(!ut&&!Be.call(_e,this))return new _e(pt);this._writableState=new je(pt,this,ut),this.writable=!0,pt&&(typeof pt.write=="function"&&(this._write=pt.write),typeof pt.writev=="function"&&(this._writev=pt.writev),typeof pt.destroy=="function"&&(this._destroy=pt.destroy),typeof pt.final=="function"&&(this._final=pt.final)),R.call(this)}function He(pt,ut,Mt,bt,ar,dt,yt){ut.writelen=bt,ut.writecb=yt,ut.writing=!0,ut.sync=!0,ut.destroyed?ut.onwrite(new oe("write")):Mt?pt._writev(ar,ut.onwrite):pt._write(ar,dt,ut.onwrite),ut.sync=!1}function tt(pt,ut,Mt,bt){Mt||(function(ar,dt){dt.length===0&&dt.needDrain&&(dt.needDrain=!1,ar.emit("drain"))})(pt,ut),ut.pendingcb--,bt(),vt(pt,ut)}function Ke(pt,ut){ut.bufferProcessing=!0;var Mt=ut.bufferedRequest;if(pt._writev&&Mt&&Mt.next){var bt=ut.bufferedRequestCount,ar=new Array(bt),dt=ut.corkedRequestsFree;dt.entry=Mt;for(var yt=0,Gt=!0;Mt;)ar[yt]=Mt,Mt.isBuf||(Gt=!1),Mt=Mt.next,yt+=1;ar.allBuffers=Gt,He(pt,ut,!0,ut.length,ar,"",dt.finish),ut.pendingcb++,ut.lastBufferedRequest=null,dt.next?(ut.corkedRequestsFree=dt.next,dt.next=null):ut.corkedRequestsFree=new z(ut),ut.bufferedRequestCount=0}else{for(;Mt;){var Bt=Mt.chunk,Dt=Mt.encoding,Ct=Mt.callback;if(He(pt,ut,!1,ut.objectMode?1:Bt.length,Bt,Dt,Ct),Mt=Mt.next,ut.bufferedRequestCount--,ut.writing)break}Mt===null&&(ut.lastBufferedRequest=null)}ut.bufferedRequest=Mt,ut.bufferProcessing=!1}function Ze(pt){return pt.ending&&pt.length===0&&pt.bufferedRequest===null&&!pt.finished&&!pt.writing}function Qe(pt,ut){pt._final((Mt=>{ut.pendingcb--,Mt&&Ge(pt,Mt),ut.prefinished=!0,pt.emit("prefinish"),vt(pt,ut)}))}function vt(pt,ut){var Mt=Ze(ut);if(Mt&&((function(bt,ar){ar.prefinished||ar.finalCalled||(typeof bt._final!="function"||ar.destroyed?(ar.prefinished=!0,bt.emit("prefinish")):(ar.pendingcb++,ar.finalCalled=!0,M.nextTick(Qe,bt,ar)))})(pt,ut),ut.pendingcb===0&&(ut.finished=!0,pt.emit("finish"),ut.autoDestroy))){const bt=pt._readableState;(!bt||bt.autoDestroy&&bt.endEmitted)&&pt.destroy()}return Mt}r(5717)(_e,R),je.prototype.getBuffer=function(){for(var pt=this.bufferedRequest,ut=[];pt;)ut.push(pt),pt=pt.next;return ut},(function(){try{Object.defineProperty(je.prototype,"buffer",{get:B.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Be=Function.prototype[Symbol.hasInstance],Object.defineProperty(_e,Symbol.hasInstance,{value:function(pt){return!!Be.call(this,pt)||this===_e&&pt&&pt._writableState instanceof je}})):Be=function(pt){return pt instanceof this},_e.prototype.pipe=function(){Ge(this,new te)},_e.prototype.write=function(pt,ut,Mt){var bt,ar=this._writableState,dt=!1,yt=!ar.objectMode&&(bt=pt,I.isBuffer(bt)||bt instanceof O);return yt&&!I.isBuffer(pt)&&(pt=(function(Gt){return I.from(Gt)})(pt)),typeof ut=="function"&&(Mt=ut,ut=null),yt?ut="buffer":ut||(ut=ar.defaultEncoding),typeof Mt!="function"&&(Mt=ze),ar.ending?(function(Gt,Bt){var Dt=new fe;Ge(Gt,Dt),M.nextTick(Bt,Dt)})(this,Mt):(yt||(function(Gt,Bt,Dt,Ct){var It;return Dt===null?It=new ue:typeof Dt=="string"||Bt.objectMode||(It=new q("chunk",["string","Buffer"],Dt)),!It||(Ge(Gt,It),M.nextTick(Ct,It),!1)})(this,ar,pt,Mt))&&(ar.pendingcb++,dt=(function(Gt,Bt,Dt,Ct,It,lr){if(!Dt){var Je=(function(Wt,rt,ur){return Wt.objectMode||Wt.decodeStrings===!1||typeof rt!="string"||(rt=I.from(rt,ur)),rt})(Bt,Ct,It);Ct!==Je&&(Dt=!0,It="buffer",Ct=Je)}var Ve=Bt.objectMode?1:Ct.length;Bt.length+=Ve;var st=Bt.length<Bt.highWaterMark;if(st||(Bt.needDrain=!0),Bt.writing||Bt.corked){var it=Bt.lastBufferedRequest;Bt.lastBufferedRequest={chunk:Ct,encoding:It,isBuf:Dt,callback:lr,next:null},it?it.next=Bt.lastBufferedRequest:Bt.bufferedRequest=Bt.lastBufferedRequest,Bt.bufferedRequestCount+=1}else He(Gt,Bt,!1,Ve,Ct,It,lr);return st})(this,ar,yt,pt,ut,Mt)),dt},_e.prototype.cork=function(){this._writableState.corked++},_e.prototype.uncork=function(){var pt=this._writableState;pt.corked&&(pt.corked--,pt.writing||pt.corked||pt.bufferProcessing||!pt.bufferedRequest||Ke(this,pt))},_e.prototype.setDefaultEncoding=function(pt){if(typeof pt=="string"&&(pt=pt.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((pt+"").toLowerCase())>-1))throw new Le(pt);return this._writableState.defaultEncoding=pt,this},Object.defineProperty(_e.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(_e.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),_e.prototype._write=function(pt,ut,Mt){Mt(new K("_write()"))},_e.prototype._writev=null,_e.prototype.end=function(pt,ut,Mt){var bt=this._writableState;return typeof pt=="function"?(Mt=pt,pt=null,ut=null):typeof ut=="function"&&(Mt=ut,ut=null),pt!=null&&this.write(pt,ut),bt.corked&&(bt.corked=1,this.uncork()),bt.ending||(function(ar,dt,yt){dt.ending=!0,vt(ar,dt),yt&&(dt.finished?M.nextTick(yt):ar.once("finish",yt)),dt.ended=!0,ar.writable=!1})(this,bt,Mt),this},Object.defineProperty(_e.prototype,"writableLength",{enumerable:!1,get(){return this._writableState.length}}),Object.defineProperty(_e.prototype,"destroyed",{enumerable:!1,get(){return this._writableState!==void 0&&this._writableState.destroyed},set(pt){this._writableState&&(this._writableState.destroyed=pt)}}),_e.prototype.destroy=A.destroy,_e.prototype._undestroy=A.undestroy,_e.prototype._destroy=function(pt,ut){ut(pt)}},6819:(y,x,r)=>{var b=r(4155);const M=r(5467),z=Symbol("lastResolve"),B=Symbol("lastReject"),R=Symbol("error"),I=Symbol("ended"),O=Symbol("lastPromise"),A=Symbol("handlePromise"),T=Symbol("stream");function U(oe,ue){return{value:oe,done:ue}}function q(oe){const ue=oe[z];if(ue!==null){const fe=oe[T].read();fe!==null&&(oe[O]=null,oe[z]=null,oe[B]=null,ue(U(fe,!1)))}}function K(oe){b.nextTick(q,oe)}const J=Object.getPrototypeOf((function(){})),te=Object.setPrototypeOf({get stream(){return this[T]},next(){const oe=this[R];if(oe!==null)return Promise.reject(oe);if(this[I])return Promise.resolve(U(void 0,!0));if(this[T].destroyed)return new Promise(((Le,Ge)=>{b.nextTick((()=>{this[R]?Ge(this[R]):Le(U(void 0,!0))}))}));const ue=this[O];let fe;if(ue)fe=new Promise((function(Le,Ge){return(ze,je)=>{Le.then((()=>{Ge[I]?ze(U(void 0,!0)):Ge[A](ze,je)}),je)}})(ue,this));else{const Le=this[T].read();if(Le!==null)return Promise.resolve(U(Le,!1));fe=new Promise(this[A])}return this[O]=fe,fe},[Symbol.asyncIterator](){return this},return(){return new Promise(((oe,ue)=>{this[T].destroy(null,(fe=>{fe?ue(fe):oe(U(void 0,!0))}))}))}},J);y.exports=oe=>{const ue=Object.create(te,{[T]:{value:oe,writable:!0},[z]:{value:null,writable:!0},[B]:{value:null,writable:!0},[R]:{value:null,writable:!0},[I]:{value:oe._readableState.endEmitted,writable:!0},[A]:{value:(fe,Le)=>{const Ge=ue[T].read();Ge?(ue[O]=null,ue[z]=null,ue[B]=null,fe(U(Ge,!1))):(ue[z]=fe,ue[B]=Le)},writable:!0}});return ue[O]=null,M(oe,(fe=>{if(fe&&fe.code!=="ERR_STREAM_PREMATURE_CLOSE"){const Ge=ue[B];return Ge!==null&&(ue[O]=null,ue[z]=null,ue[B]=null,Ge(fe)),void(ue[R]=fe)}const Le=ue[z];Le!==null&&(ue[O]=null,ue[z]=null,ue[B]=null,Le(U(void 0,!0))),ue[I]=!0})),oe.on("readable",K.bind(null,ue)),ue}},6641:(y,x,r)=>{function b(O,A){var T=Object.keys(O);if(Object.getOwnPropertySymbols){var U=Object.getOwnPropertySymbols(O);A&&(U=U.filter((function(q){return Object.getOwnPropertyDescriptor(O,q).enumerable}))),T.push.apply(T,U)}return T}function M(O){for(var A=1;A<arguments.length;A++){var T=arguments[A]!=null?arguments[A]:{};A%2?b(Object(T),!0).forEach((function(U){z(O,U,T[U])})):Object.getOwnPropertyDescriptors?Object.defineProperties(O,Object.getOwnPropertyDescriptors(T)):b(Object(T)).forEach((function(U){Object.defineProperty(O,U,Object.getOwnPropertyDescriptor(T,U))}))}return O}function z(O,A,T){return(A=(function(U){var q=(function(K,J){if(typeof K!="object"||K===null)return K;var te=K[Symbol.toPrimitive];if(te!==void 0){var oe=te.call(K,"string");if(typeof oe!="object")return oe;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(K)})(U);return typeof q=="symbol"?q:String(q)})(A))in O?Object.defineProperty(O,A,{value:T,enumerable:!0,configurable:!0,writable:!0}):O[A]=T,O}const B=r(8764).Buffer,R=r(1408).inspect,I=R&&R.custom||"inspect";y.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(O){const A={data:O,next:null};this.length>0?this.tail.next=A:this.head=A,this.tail=A,++this.length}unshift(O){const A={data:O,next:this.head};this.length===0&&(this.tail=A),this.head=A,++this.length}shift(){if(this.length===0)return;const O=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,O}clear(){this.head=this.tail=null,this.length=0}join(O){if(this.length===0)return"";for(var A=this.head,T=""+A.data;A=A.next;)T+=O+A.data;return T}concat(O){if(this.length===0)return B.alloc(0);const A=B.allocUnsafe(O>>>0);for(var T,U,q,K=this.head,J=0;K;)T=K.data,U=A,q=J,B.prototype.copy.call(T,U,q),J+=K.data.length,K=K.next;return A}consume(O,A){var T;return O<this.head.data.length?(T=this.head.data.slice(0,O),this.head.data=this.head.data.slice(O)):T=O===this.head.data.length?this.shift():A?this._getString(O):this._getBuffer(O),T}first(){return this.head.data}_getString(O){var A=this.head,T=1,U=A.data;for(O-=U.length;A=A.next;){const q=A.data,K=O>q.length?q.length:O;if(K===q.length?U+=q:U+=q.slice(0,O),(O-=K)==0){K===q.length?(++T,A.next?this.head=A.next:this.head=this.tail=null):(this.head=A,A.data=q.slice(K));break}++T}return this.length-=T,U}_getBuffer(O){const A=B.allocUnsafe(O);var T=this.head,U=1;for(T.data.copy(A),O-=T.data.length;T=T.next;){const q=T.data,K=O>q.length?q.length:O;if(q.copy(A,A.length-O,0,K),(O-=K)==0){K===q.length?(++U,T.next?this.head=T.next:this.head=this.tail=null):(this.head=T,T.data=q.slice(K));break}++U}return this.length-=U,A}[I](O,A){return R(this,M(M({},A),{},{depth:0,customInspect:!1}))}}},4910:(y,x,r)=>{var b=r(4155);function M(R,I){B(R,I),z(R)}function z(R){R._writableState&&!R._writableState.emitClose||R._readableState&&!R._readableState.emitClose||R.emit("close")}function B(R,I){R.emit("error",I)}y.exports={destroy:function(R,I){const O=this._readableState&&this._readableState.destroyed,A=this._writableState&&this._writableState.destroyed;return O||A?(I?I(R):R&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,b.nextTick(B,this,R)):b.nextTick(B,this,R)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(R||null,(T=>{!I&&T?this._writableState?this._writableState.errorEmitted?b.nextTick(z,this):(this._writableState.errorEmitted=!0,b.nextTick(M,this,T)):b.nextTick(M,this,T):I?(b.nextTick(z,this),I(T)):b.nextTick(z,this)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(R,I){const O=R._readableState,A=R._writableState;O&&O.autoDestroy||A&&A.autoDestroy?R.destroy(I):R.emit("error",I)}}},5467:(y,x,r)=>{const b=r(7303).q.ERR_STREAM_PREMATURE_CLOSE;function M(){}y.exports=function z(B,R,I){if(typeof R=="function")return z(B,null,R);R||(R={}),I=(function(fe){let Le=!1;return function(){if(!Le){Le=!0;for(var Ge=arguments.length,ze=new Array(Ge),je=0;je<Ge;je++)ze[je]=arguments[je];fe.apply(this,ze)}}})(I||M);let O=R.readable||R.readable!==!1&&B.readable,A=R.writable||R.writable!==!1&&B.writable;const T=()=>{B.writable||q()};var U=B._writableState&&B._writableState.finished;const q=()=>{A=!1,U=!0,O||I.call(B)};var K=B._readableState&&B._readableState.endEmitted;const J=()=>{O=!1,K=!0,A||I.call(B)},te=fe=>{I.call(B,fe)},oe=()=>{let fe;return O&&!K?(B._readableState&&B._readableState.ended||(fe=new b),I.call(B,fe)):A&&!U?(B._writableState&&B._writableState.ended||(fe=new b),I.call(B,fe)):void 0},ue=()=>{B.req.on("finish",q)};return(function(fe){return fe.setHeader&&typeof fe.abort=="function"})(B)?(B.on("complete",q),B.on("abort",oe),B.req?ue():B.on("request",ue)):A&&!B._writableState&&(B.on("end",T),B.on("close",T)),B.on("end",J),B.on("finish",q),R.error!==!1&&B.on("error",te),B.on("close",oe),function(){B.removeListener("complete",q),B.removeListener("abort",oe),B.removeListener("request",ue),B.req&&B.req.removeListener("finish",q),B.removeListener("end",T),B.removeListener("close",T),B.removeListener("finish",q),B.removeListener("end",J),B.removeListener("error",te),B.removeListener("close",oe)}}},8869:y=>{y.exports=function(){throw new Error("Readable.from is not available in the browser")}},9689:(y,x,r)=>{let b;const M=r(7303).q,z=M.ERR_MISSING_ARGS,B=M.ERR_STREAM_DESTROYED;function R(A){if(A)throw A}function I(A){A()}function O(A,T){return A.pipe(T)}y.exports=function(){for(var A=arguments.length,T=new Array(A),U=0;U<A;U++)T[U]=arguments[U];const q=(function(te){return te.length?typeof te[te.length-1]!="function"?R:te.pop():R})(T);if(Array.isArray(T[0])&&(T=T[0]),T.length<2)throw new z("streams");let K;const J=T.map((function(te,oe){const ue=oe<T.length-1;return(function(fe,Le,Ge,ze){ze=(function(_e){let He=!1;return function(){He||(He=!0,_e(...arguments))}})(ze);let je=!1;fe.on("close",(()=>{je=!0})),b===void 0&&(b=r(5467)),b(fe,{readable:Le,writable:Ge},(_e=>{if(_e)return ze(_e);je=!0,ze()}));let Be=!1;return _e=>{if(!je&&!Be)return Be=!0,(function(He){return He.setHeader&&typeof He.abort=="function"})(fe)?fe.abort():typeof fe.destroy=="function"?fe.destroy():void ze(_e||new B("pipe"))}})(te,ue,oe>0,(function(fe){K||(K=fe),fe&&J.forEach(I),ue||(J.forEach(I),q(K))}))}));return T.reduce(O)}},7855:(y,x,r)=>{const b=r(7303).q.ERR_INVALID_OPT_VALUE;y.exports={getHighWaterMark:function(M,z,B,R){const I=(function(O,A,T){return O.highWaterMark!=null?O.highWaterMark:A?O[T]:null})(z,R,B);if(I!=null){if(!isFinite(I)||Math.floor(I)!==I||I<0)throw new b(R?B:"highWaterMark",I);return Math.floor(I)}return M.objectMode?16:16384}}},1463:(y,x,r)=>{y.exports=r(7187).EventEmitter},925:(y,x,r)=>{(x=y.exports=r(4002)).Stream=x,x.Readable=x,x.Writable=r(3313),x.Duplex=r(9560),x.Transform=r(1846),x.PassThrough=r(4842),x.finished=r(5467),x.pipeline=r(9689)},2553:(y,x,r)=>{var b=r(9509).Buffer,M=b.isEncoding||function(K){switch((K=""+K)&&K.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function z(K){var J;switch(this.encoding=(function(te){var oe=(function(ue){if(!ue)return"utf8";for(var fe;;)switch(ue){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return ue;default:if(fe)return;ue=(""+ue).toLowerCase(),fe=!0}})(te);if(typeof oe!="string"&&(b.isEncoding===M||!M(te)))throw new Error("Unknown encoding: "+te);return oe||te})(K),this.encoding){case"utf16le":this.text=I,this.end=O,J=4;break;case"utf8":this.fillLast=R,J=4;break;case"base64":this.text=A,this.end=T,J=3;break;default:return this.write=U,void(this.end=q)}this.lastNeed=0,this.lastTotal=0,this.lastChar=b.allocUnsafe(J)}function B(K){return K<=127?0:K>>5==6?2:K>>4==14?3:K>>3==30?4:K>>6==2?-1:-2}function R(K){var J=this.lastTotal-this.lastNeed,te=(function(oe,ue,fe){if((192&ue[0])!=128)return oe.lastNeed=0,"";if(oe.lastNeed>1&&ue.length>1){if((192&ue[1])!=128)return oe.lastNeed=1,"";if(oe.lastNeed>2&&ue.length>2&&(192&ue[2])!=128)return oe.lastNeed=2,""}})(this,K);return te!==void 0?te:this.lastNeed<=K.length?(K.copy(this.lastChar,J,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(K.copy(this.lastChar,J,0,K.length),void(this.lastNeed-=K.length))}function I(K,J){if((K.length-J)%2==0){var te=K.toString("utf16le",J);if(te){var oe=te.charCodeAt(te.length-1);if(oe>=55296&&oe<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=K[K.length-2],this.lastChar[1]=K[K.length-1],te.slice(0,-1)}return te}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=K[K.length-1],K.toString("utf16le",J,K.length-1)}function O(K){var J=K&&K.length?this.write(K):"";if(this.lastNeed){var te=this.lastTotal-this.lastNeed;return J+this.lastChar.toString("utf16le",0,te)}return J}function A(K,J){var te=(K.length-J)%3;return te===0?K.toString("base64",J):(this.lastNeed=3-te,this.lastTotal=3,te===1?this.lastChar[0]=K[K.length-1]:(this.lastChar[0]=K[K.length-2],this.lastChar[1]=K[K.length-1]),K.toString("base64",J,K.length-te))}function T(K){var J=K&&K.length?this.write(K):"";return this.lastNeed?J+this.lastChar.toString("base64",0,3-this.lastNeed):J}function U(K){return K.toString(this.encoding)}function q(K){return K&&K.length?this.write(K):""}x.s=z,z.prototype.write=function(K){if(K.length===0)return"";var J,te;if(this.lastNeed){if((J=this.fillLast(K))===void 0)return"";te=this.lastNeed,this.lastNeed=0}else te=0;return te<K.length?J?J+this.text(K,te):this.text(K,te):J||""},z.prototype.end=function(K){var J=K&&K.length?this.write(K):"";return this.lastNeed?J+"":J},z.prototype.text=function(K,J){var te=(function(ue,fe,Le){var Ge=fe.length-1;if(Ge<Le)return 0;var ze=B(fe[Ge]);return ze>=0?(ze>0&&(ue.lastNeed=ze-1),ze):--Ge<Le||ze===-2?0:(ze=B(fe[Ge]))>=0?(ze>0&&(ue.lastNeed=ze-2),ze):--Ge<Le||ze===-2?0:(ze=B(fe[Ge]))>=0?(ze>0&&(ze===2?ze=0:ue.lastNeed=ze-3),ze):0})(this,K,J);if(!this.lastNeed)return K.toString("utf8",J);this.lastTotal=te;var oe=K.length-(te-this.lastNeed);return K.copy(this.lastChar,0,oe),K.toString("utf8",J,oe)},z.prototype.fillLast=function(K){if(this.lastNeed<=K.length)return K.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);K.copy(this.lastChar,this.lastTotal-this.lastNeed,0,K.length),this.lastNeed-=K.length}},842:(y,x,r)=>{var b=r(3085).lW;Object.defineProperty(x,"__esModule",{value:!0}),x.AbstractTokenizer=void 0;const M=r(5167);x.AbstractTokenizer=class{constructor(z){this.position=0,this.numBuffer=new Uint8Array(8),this.fileInfo=z||{}}async readToken(z,B=this.position){const R=b.alloc(z.len);if(await this.readBuffer(R,{position:B})<z.len)throw new M.EndOfStreamError;return z.get(R,0)}async peekToken(z,B=this.position){const R=b.alloc(z.len);if(await this.peekBuffer(R,{position:B})<z.len)throw new M.EndOfStreamError;return z.get(R,0)}async readNumber(z){if(await this.readBuffer(this.numBuffer,{length:z.len})<z.len)throw new M.EndOfStreamError;return z.get(this.numBuffer,0)}async peekNumber(z){if(await this.peekBuffer(this.numBuffer,{length:z.len})<z.len)throw new M.EndOfStreamError;return z.get(this.numBuffer,0)}async ignore(z){if(this.fileInfo.size!==void 0){const B=this.fileInfo.size-this.position;if(z>B)return this.position+=B,B}return this.position+=z,z}async close(){}normalizeOptions(z,B){if(B&&B.position!==void 0&&B.position<this.position)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");return B?{mayBeLess:B.mayBeLess===!0,offset:B.offset?B.offset:0,length:B.length?B.length:z.length-(B.offset?B.offset:0),position:B.position?B.position:this.position}:{mayBeLess:!1,offset:0,length:z.length,position:this.position}}}},778:(y,x,r)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.BufferTokenizer=void 0;const b=r(5167),M=r(842);class z extends M.AbstractTokenizer{constructor(R,I){super(I),this.uint8Array=R,this.fileInfo.size=this.fileInfo.size?this.fileInfo.size:R.length}async readBuffer(R,I){if(I&&I.position){if(I.position<this.position)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");this.position=I.position}const O=await this.peekBuffer(R,I);return this.position+=O,O}async peekBuffer(R,I){const O=this.normalizeOptions(R,I),A=Math.min(this.uint8Array.length-O.position,O.length);if(!O.mayBeLess&&A<O.length)throw new b.EndOfStreamError;return R.set(this.uint8Array.subarray(O.position,O.position+A),O.offset),A}async close(){}}x.BufferTokenizer=z},7859:(y,x,r)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.fromFile=x.FileTokenizer=void 0;const b=r(842),M=r(5167),z=r(7209);class B extends b.AbstractTokenizer{constructor(I,O){super(O),this.fd=I}async readBuffer(I,O){const A=this.normalizeOptions(I,O);this.position=A.position;const T=await z.read(this.fd,I,A.offset,A.length,A.position);if(this.position+=T.bytesRead,T.bytesRead<A.length&&(!O||!O.mayBeLess))throw new M.EndOfStreamError;return T.bytesRead}async peekBuffer(I,O){const A=this.normalizeOptions(I,O),T=await z.read(this.fd,I,A.offset,A.length,A.position);if(!A.mayBeLess&&T.bytesRead<A.length)throw new M.EndOfStreamError;return T.bytesRead}async close(){return z.close(this.fd)}}x.FileTokenizer=B,x.fromFile=async function(R){const I=await z.stat(R);if(!I.isFile)throw new Error(`File not a file: ${R}`);const O=await z.open(R,"r");return new B(O,{path:R,size:I.size})}},7209:(y,x,r)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.readFile=x.writeFileSync=x.writeFile=x.read=x.open=x.close=x.stat=x.createReadStream=x.pathExists=void 0;const b=r(4059);x.pathExists=b.existsSync,x.createReadStream=b.createReadStream,x.stat=async function(M){return new Promise(((z,B)=>{b.stat(M,((R,I)=>{R?B(R):z(I)}))}))},x.close=async function(M){return new Promise(((z,B)=>{b.close(M,(R=>{R?B(R):z()}))}))},x.open=async function(M,z){return new Promise(((B,R)=>{b.open(M,z,((I,O)=>{I?R(I):B(O)}))}))},x.read=async function(M,z,B,R,I){return new Promise(((O,A)=>{b.read(M,z,B,R,I,((T,U,q)=>{T?A(T):O({bytesRead:U,buffer:q})}))}))},x.writeFile=async function(M,z){return new Promise(((B,R)=>{b.writeFile(M,z,(I=>{I?R(I):B()}))}))},x.writeFileSync=function(M,z){b.writeFileSync(M,z)},x.readFile=async function(M){return new Promise(((z,B)=>{b.readFile(M,((R,I)=>{R?B(R):z(I)}))}))}},599:(y,x,r)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.ReadStreamTokenizer=void 0;const b=r(842),M=r(5167);class z extends b.AbstractTokenizer{constructor(R,I){super(I),this.streamReader=new M.StreamReader(R)}async getFileInfo(){return this.fileInfo}async readBuffer(R,I){const O=this.normalizeOptions(R,I),A=O.position-this.position;if(A>0)return await this.ignore(A),this.readBuffer(R,I);if(A<0)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");if(O.length===0)return 0;const T=await this.streamReader.read(R,O.offset,O.length);if(this.position+=T,(!I||!I.mayBeLess)&&T<O.length)throw new M.EndOfStreamError;return T}async peekBuffer(R,I){const O=this.normalizeOptions(R,I);let A=0;if(O.position){const T=O.position-this.position;if(T>0){const U=new Uint8Array(O.length+T);return A=await this.peekBuffer(U,{mayBeLess:O.mayBeLess}),R.set(U.subarray(T),O.offset),A-T}if(T<0)throw new Error("Cannot peek from a negative offset in a stream")}if(O.length>0){try{A=await this.streamReader.peek(R,O.offset,O.length)}catch(T){if(I&&I.mayBeLess&&T instanceof M.EndOfStreamError)return 0;throw T}if(!O.mayBeLess&&A<O.length)throw new M.EndOfStreamError}return A}async ignore(R){const I=Math.min(256e3,R),O=new Uint8Array(I);let A=0;for(;A<R;){const T=R-A,U=await this.readBuffer(O,{length:Math.min(I,T)});if(U<0)return U;A+=U}return A}}x.ReadStreamTokenizer=z},5849:(y,x,r)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.fromBuffer=x.fromStream=x.EndOfStreamError=void 0;const b=r(599),M=r(778);var z=r(5167);Object.defineProperty(x,"EndOfStreamError",{enumerable:!0,get:function(){return z.EndOfStreamError}}),x.fromStream=function(B,R){return R=R||{},new b.ReadStreamTokenizer(B,R)},x.fromBuffer=function(B,R){return new M.BufferTokenizer(B,R)}},6597:(y,x,r)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.fromStream=x.fromBuffer=x.EndOfStreamError=x.fromFile=void 0;const b=r(7209),M=r(5849);var z=r(7859);Object.defineProperty(x,"fromFile",{enumerable:!0,get:function(){return z.fromFile}});var B=r(5849);Object.defineProperty(x,"EndOfStreamError",{enumerable:!0,get:function(){return B.EndOfStreamError}}),Object.defineProperty(x,"fromBuffer",{enumerable:!0,get:function(){return B.fromBuffer}}),x.fromStream=async function(R,I){if(I=I||{},R.path){const O=await b.stat(R.path);I.path=R.path,I.size=O.size}return M.fromStream(R,I)}},3416:(y,x,r)=>{var b=r(3085).lW;Object.defineProperty(x,"__esModule",{value:!0}),x.AnsiStringType=x.StringType=x.BufferType=x.Uint8ArrayType=x.IgnoreType=x.Float80_LE=x.Float80_BE=x.Float64_LE=x.Float64_BE=x.Float32_LE=x.Float32_BE=x.Float16_LE=x.Float16_BE=x.INT64_BE=x.UINT64_BE=x.INT64_LE=x.UINT64_LE=x.INT32_LE=x.INT32_BE=x.INT24_BE=x.INT24_LE=x.INT16_LE=x.INT16_BE=x.INT8=x.UINT32_BE=x.UINT32_LE=x.UINT24_BE=x.UINT24_LE=x.UINT16_BE=x.UINT16_LE=x.UINT8=void 0;const M=r(645);function z(R){return new DataView(R.buffer,R.byteOffset)}x.UINT8={len:1,get:(R,I)=>z(R).getUint8(I),put:(R,I,O)=>(z(R).setUint8(I,O),I+1)},x.UINT16_LE={len:2,get:(R,I)=>z(R).getUint16(I,!0),put:(R,I,O)=>(z(R).setUint16(I,O,!0),I+2)},x.UINT16_BE={len:2,get:(R,I)=>z(R).getUint16(I),put:(R,I,O)=>(z(R).setUint16(I,O),I+2)},x.UINT24_LE={len:3,get(R,I){const O=z(R);return O.getUint8(I)+(O.getUint16(I+1,!0)<<8)},put(R,I,O){const A=z(R);return A.setUint8(I,255&O),A.setUint16(I+1,O>>8,!0),I+3}},x.UINT24_BE={len:3,get(R,I){const O=z(R);return(O.getUint16(I)<<8)+O.getUint8(I+2)},put(R,I,O){const A=z(R);return A.setUint16(I,O>>8),A.setUint8(I+2,255&O),I+3}},x.UINT32_LE={len:4,get:(R,I)=>z(R).getUint32(I,!0),put:(R,I,O)=>(z(R).setUint32(I,O,!0),I+4)},x.UINT32_BE={len:4,get:(R,I)=>z(R).getUint32(I),put:(R,I,O)=>(z(R).setUint32(I,O),I+4)},x.INT8={len:1,get:(R,I)=>z(R).getInt8(I),put:(R,I,O)=>(z(R).setInt8(I,O),I+1)},x.INT16_BE={len:2,get:(R,I)=>z(R).getInt16(I),put:(R,I,O)=>(z(R).setInt16(I,O),I+2)},x.INT16_LE={len:2,get:(R,I)=>z(R).getInt16(I,!0),put:(R,I,O)=>(z(R).setInt16(I,O,!0),I+2)},x.INT24_LE={len:3,get(R,I){const O=x.UINT24_LE.get(R,I);return O>8388607?O-16777216:O},put(R,I,O){const A=z(R);return A.setUint8(I,255&O),A.setUint16(I+1,O>>8,!0),I+3}},x.INT24_BE={len:3,get(R,I){const O=x.UINT24_BE.get(R,I);return O>8388607?O-16777216:O},put(R,I,O){const A=z(R);return A.setUint16(I,O>>8),A.setUint8(I+2,255&O),I+3}},x.INT32_BE={len:4,get:(R,I)=>z(R).getInt32(I),put:(R,I,O)=>(z(R).setInt32(I,O),I+4)},x.INT32_LE={len:4,get:(R,I)=>z(R).getInt32(I,!0),put:(R,I,O)=>(z(R).setInt32(I,O,!0),I+4)},x.UINT64_LE={len:8,get:(R,I)=>z(R).getBigUint64(I,!0),put:(R,I,O)=>(z(R).setBigUint64(I,O,!0),I+8)},x.INT64_LE={len:8,get:(R,I)=>z(R).getBigInt64(I,!0),put:(R,I,O)=>(z(R).setBigInt64(I,O,!0),I+8)},x.UINT64_BE={len:8,get:(R,I)=>z(R).getBigUint64(I),put:(R,I,O)=>(z(R).setBigUint64(I,O),I+8)},x.INT64_BE={len:8,get:(R,I)=>z(R).getBigInt64(I),put:(R,I,O)=>(z(R).setBigInt64(I,O),I+8)},x.Float16_BE={len:2,get(R,I){return M.read(R,I,!1,10,this.len)},put(R,I,O){return M.write(R,O,I,!1,10,this.len),I+this.len}},x.Float16_LE={len:2,get(R,I){return M.read(R,I,!0,10,this.len)},put(R,I,O){return M.write(R,O,I,!0,10,this.len),I+this.len}},x.Float32_BE={len:4,get:(R,I)=>z(R).getFloat32(I),put:(R,I,O)=>(z(R).setFloat32(I,O),I+4)},x.Float32_LE={len:4,get:(R,I)=>z(R).getFloat32(I,!0),put:(R,I,O)=>(z(R).setFloat32(I,O,!0),I+4)},x.Float64_BE={len:8,get:(R,I)=>z(R).getFloat64(I),put:(R,I,O)=>(z(R).setFloat64(I,O),I+8)},x.Float64_LE={len:8,get:(R,I)=>z(R).getFloat64(I,!0),put:(R,I,O)=>(z(R).setFloat64(I,O,!0),I+8)},x.Float80_BE={len:10,get(R,I){return M.read(R,I,!1,63,this.len)},put(R,I,O){return M.write(R,O,I,!1,63,this.len),I+this.len}},x.Float80_LE={len:10,get(R,I){return M.read(R,I,!0,63,this.len)},put(R,I,O){return M.write(R,O,I,!0,63,this.len),I+this.len}},x.IgnoreType=class{constructor(R){this.len=R}get(R,I){}},x.Uint8ArrayType=class{constructor(R){this.len=R}get(R,I){return R.subarray(I,I+this.len)}},x.BufferType=class{constructor(R){this.len=R}get(R,I){return b.from(R.subarray(I,I+this.len))}},x.StringType=class{constructor(R,I){this.len=R,this.encoding=I}get(R,I){return b.from(R).toString(this.encoding,I,I+this.len)}};class B{constructor(I){this.len=I}static decode(I,O,A){let T="";for(let U=O;U<A;++U)T+=B.codePointToString(B.singleByteDecoder(I[U]));return T}static inRange(I,O,A){return O<=I&&I<=A}static codePointToString(I){return I<=65535?String.fromCharCode(I):(I-=65536,String.fromCharCode(55296+(I>>10),56320+(1023&I)))}static singleByteDecoder(I){if(B.inRange(I,0,127))return I;const O=B.windows1252[I-128];if(O===null)throw Error("invaliding encoding");return O}get(I,O=0){return B.decode(I,O,O+this.len)}}x.AnsiStringType=B,B.windows1252=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255]},1191:function(y,x,r){var b=r(4155),M=this&&this.__awaiter||function(K,J,te,oe){return new(te||(te=Promise))((function(ue,fe){function Le(je){try{ze(oe.next(je))}catch(Be){fe(Be)}}function Ge(je){try{ze(oe.throw(je))}catch(Be){fe(Be)}}function ze(je){var Be;je.done?ue(je.value):(Be=je.value,Be instanceof te?Be:new te((function(_e){_e(Be)}))).then(Le,Ge)}ze((oe=oe.apply(K,J||[])).next())}))},z=this&&this.__generator||function(K,J){var te,oe,ue,fe,Le={label:0,sent:function(){if(1&ue[0])throw ue[1];return ue[1]},trys:[],ops:[]};return fe={next:Ge(0),throw:Ge(1),return:Ge(2)},typeof Symbol=="function"&&(fe[Symbol.iterator]=function(){return this}),fe;function Ge(ze){return function(je){return(function(Be){if(te)throw new TypeError("Generator is already executing.");for(;fe&&(fe=0,Be[0]&&(Le=0)),Le;)try{if(te=1,oe&&(ue=2&Be[0]?oe.return:Be[0]?oe.throw||((ue=oe.return)&&ue.call(oe),0):oe.next)&&!(ue=ue.call(oe,Be[1])).done)return ue;switch(oe=0,ue&&(Be=[2&Be[0],ue.value]),Be[0]){case 0:case 1:ue=Be;break;case 4:return Le.label++,{value:Be[1],done:!1};case 5:Le.label++,oe=Be[1],Be=[0];continue;case 7:Be=Le.ops.pop(),Le.trys.pop();continue;default:if(!((ue=(ue=Le.trys).length>0&&ue[ue.length-1])||Be[0]!==6&&Be[0]!==2)){Le=0;continue}if(Be[0]===3&&(!ue||Be[1]>ue[0]&&Be[1]<ue[3])){Le.label=Be[1];break}if(Be[0]===6&&Le.label<ue[1]){Le.label=ue[1],ue=Be;break}if(ue&&Le.label<ue[2]){Le.label=ue[2],Le.ops.push(Be);break}ue[2]&&Le.ops.pop(),Le.trys.pop();continue}Be=J.call(K,Le)}catch(_e){Be=[6,_e],oe=0}finally{te=ue=0}if(5&Be[0])throw Be[1];return{value:Be[0]?Be[1]:void 0,done:!0}})([ze,je])}}},B=this&&this.__importDefault||function(K){return K&&K.__esModule?K:{default:K}};Object.defineProperty(x,"__esModule",{value:!0}),x.GeoPackageAPI=void 0;var R=r(4325),I=r(5116),O=r(4275),A=r(3437),T=B(r(3935)),U=B(r(2203)),q=(function(){function K(){}return K.open=function(J){return M(this,void 0,void 0,(function(){var te,oe;return z(this,(function(ue){switch(ue.label){case 0:if(typeof J=="string"&&(typeof J!="string"||J.indexOf("http")!==0&&O.GeoPackageValidate.validateGeoPackageExtension(J)))throw new Error("Invalid GeoPackage - Invalid GeoPackage Extension");ue.label=1;case 1:return ue.trys.push([1,3,,4]),[4,A.Canvas.initializeAdapter()];case 2:return ue.sent(),[3,4];case 3:throw ue.sent(),new Error("Unable to initialize canvas.");case 4:return ue.trys.push([4,6,,7]),[4,I.GeoPackageConnection.connect(J)];case 5:return oe=ue.sent(),te=J&&typeof J=="string"?new R.GeoPackage(T.default.basename(J),J,oe):new R.GeoPackage("geopackage",void 0,oe),[3,7];case 6:throw ue.sent(),new Error("Unable to open GeoPackage.");case 7:return[2,te]}}))}))},K.create=function(J){return M(this,void 0,void 0,(function(){var te,oe;return z(this,(function(ue){switch(ue.label){case 0:if(typeof J=="string"&&(typeof J!="string"||O.GeoPackageValidate.validateGeoPackageExtension(J)))throw new Error("Invalid GeoPackage");if(b!==void 0&&b.version&&J)try{U.default.mkdirSync(T.default.dirname(J))}catch{}ue.label=1;case 1:return ue.trys.push([1,3,,4]),[4,A.Canvas.initializeAdapter()];case 2:return ue.sent(),[3,4];case 3:throw ue.sent(),new Error("Unable to initialize canvas.");case 4:return ue.trys.push([4,7,,8]),[4,I.GeoPackageConnection.connect(J)];case 5:return(oe=ue.sent()).setApplicationId(),[4,(te=J?new R.GeoPackage(T.default.basename(J),J,oe):new R.GeoPackage("geopackage",void 0,oe)).createRequiredTables()];case 6:return ue.sent(),te.createSupportedExtensions(),[3,8];case 7:throw ue.sent(),new Error("Unable to create GeoPackage.");case 8:return[2,te]}}))}))},K.version="3.0.0",K})();x.GeoPackageAPI=q},8375:function(y,x,r){var b,M=this&&this.__extends||(b=function(O,A){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,U){T.__proto__=U}||function(T,U){for(var q in U)Object.prototype.hasOwnProperty.call(U,q)&&(T[q]=U[q])},b(O,A)},function(O,A){if(typeof A!="function"&&A!==null)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");function T(){this.constructor=O}b(O,A),O.prototype=A===null?Object.create(A):(T.prototype=A.prototype,new T)});Object.defineProperty(x,"__esModule",{value:!0}),x.AttributesColumn=void 0;var z=r(5865),B=r(7319),R=r(5071),I=(function(O){function A(T,U,q,K,J,te,oe,ue){var fe=O.call(this,T,U,q,K,J,te,oe,ue)||this;if(q===null)throw new Error("Data type is required to create column: "+U);return fe}return M(A,O),A.createColumn=function(T,U,q,K,J,te,oe){return K===void 0&&(K=!1),new A(T,U,q,te,K,J,!1,oe)},A.createPrimaryKeyColumn=function(T,U,q){return q===void 0&&(q=R.UserTableDefaults.DEFAULT_AUTOINCREMENT),new A(T,U,B.GeoPackageDataType.INTEGER,void 0,void 0,void 0,!0,q)},A.prototype.copy=function(){return new A(this.index,this.name,this.dataType,this.max,this.notNull,this.defaultValue,this.primaryKey,this.autoincrement)},A})(z.UserColumn);x.AttributesColumn=I},6863:function(y,x,r){var b,M=this&&this.__extends||(b=function(B,R){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,O){I.__proto__=O}||function(I,O){for(var A in O)Object.prototype.hasOwnProperty.call(O,A)&&(I[A]=O[A])},b(B,R)},function(B,R){if(typeof R!="function"&&R!==null)throw new TypeError("Class extends value "+String(R)+" is not a constructor or null");function I(){this.constructor=B}b(B,R),B.prototype=R===null?Object.create(R):(I.prototype=R.prototype,new I)});Object.defineProperty(x,"__esModule",{value:!0}),x.AttributesColumns=void 0;var z=(function(B){function R(I,O,A){var T=B.call(this,I,O,A)||this;return T.updateColumns(),T}return M(R,B),R.prototype.copy=function(){return new R(this.getTableName(),this.getColumns(),this.isCustom())},R})(r(2114).UserColumns);x.AttributesColumns=z},8008:function(y,x,r){var b,M=this&&this.__extends||(b=function(I,O){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,T){A.__proto__=T}||function(A,T){for(var U in T)Object.prototype.hasOwnProperty.call(T,U)&&(A[U]=T[U])},b(I,O)},function(I,O){if(typeof O!="function"&&O!==null)throw new TypeError("Class extends value "+String(O)+" is not a constructor or null");function A(){this.constructor=I}b(I,O),I.prototype=O===null?Object.create(O):(A.prototype=O.prototype,new A)});Object.defineProperty(x,"__esModule",{value:!0}),x.AttributesDao=void 0;var z=r(4668),B=r(6861),R=(function(I){function O(A,T){var U=I.call(this,A,T)||this;if(!T.contents)throw new Error("Attributes table has null Contents");return U.contents=T.contents,U}return M(O,I),Object.defineProperty(O.prototype,"table",{get:function(){return this._table},enumerable:!1,configurable:!0}),O.prototype.newRow=function(A,T){return new B.AttributesRow(this.table,A,T)},O.readTable=function(A,T){return A.getAttributeDao(T)},O})(z.UserDao);x.AttributesDao=R},6861:function(y,x,r){var b,M=this&&this.__extends||(b=function(B,R){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,O){I.__proto__=O}||function(I,O){for(var A in O)Object.prototype.hasOwnProperty.call(O,A)&&(I[A]=O[A])},b(B,R)},function(B,R){if(typeof R!="function"&&R!==null)throw new TypeError("Class extends value "+String(R)+" is not a constructor or null");function I(){this.constructor=B}b(B,R),B.prototype=R===null?Object.create(R):(I.prototype=R.prototype,new I)});Object.defineProperty(x,"__esModule",{value:!0}),x.AttributesRow=void 0;var z=(function(B){function R(I,O,A){return B.call(this,I,O,A)||this}return M(R,B),R})(r(2224).UserRow);x.AttributesRow=z},3931:function(y,x,r){var b,M=this&&this.__extends||(b=function(O,A){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,U){T.__proto__=U}||function(T,U){for(var q in U)Object.prototype.hasOwnProperty.call(U,q)&&(T[q]=U[q])},b(O,A)},function(O,A){if(typeof A!="function"&&A!==null)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");function T(){this.constructor=O}b(O,A),O.prototype=A===null?Object.create(A):(T.prototype=A.prototype,new T)});Object.defineProperty(x,"__esModule",{value:!0}),x.AttributesTable=void 0;var z=r(8018),B=r(6863),R=r(9971),I=(function(O){function A(T,U){return O.call(this,new B.AttributesColumns(T,U,!1))||this}return M(A,O),A.prototype.setContents=function(T){if(this.contents=T,T.data_type!==R.ContentsDataType.ATTRIBUTES)throw new Error("The Contents of an Attributes Table must have a data type of ".concat(R.ContentsDataType.ATTRIBUTES));return!0},A})(z.UserTable);x.AttributesTable=I},464:function(y,x,r){var b,M=this&&this.__extends||(b=function(O,A){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,U){T.__proto__=U}||function(T,U){for(var q in U)Object.prototype.hasOwnProperty.call(U,q)&&(T[q]=U[q])},b(O,A)},function(O,A){if(typeof A!="function"&&A!==null)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");function T(){this.constructor=O}b(O,A),O.prototype=A===null?Object.create(A):(T.prototype=A.prototype,new T)});Object.defineProperty(x,"__esModule",{value:!0}),x.AttributesTableReader=void 0;var z=r(4880),B=r(3931),R=r(8375),I=(function(O){function A(T){return O.call(this,T)||this}return M(A,O),A.prototype.readAttributeTable=function(T){return this.readTable(T.database)},A.prototype.createTable=function(T,U){return new B.AttributesTable(T,U)},A.prototype.createColumn=function(T){return new R.AttributesColumn(T.index,T.name,T.dataType,T.max,T.notNull,T.defaultValue,T.primaryKey,T.autoincrement)},A})(z.UserTableReader);x.AttributesTableReader=I},2527:(y,x,r)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.BoundingBox=void 0;var b=r(5604),M=r(1375),z=(function(){function B(R,I,O,A){R instanceof B?(this.minLongitude=R.minLongitude,this.maxLongitude=R.maxLongitude,this.minLatitude=R.minLatitude,this.maxLatitude=R.maxLatitude):(this.minLongitude=R,this.maxLongitude=I,this.minLatitude=O,this.maxLatitude=A)}return Object.defineProperty(B.prototype,"minLongitude",{get:function(){return this._minLongitude},set:function(R){this._minLongitude=R,this.width=this.maxLongitude-this.minLongitude},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"maxLongitude",{get:function(){return this._maxLongitude},set:function(R){this._maxLongitude=R,this.width=this.maxLongitude-this.minLongitude},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"minLatitude",{get:function(){return this._minLatitude},set:function(R){this._minLatitude=R,this.height=this.maxLatitude-this.minLatitude},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"maxLatitude",{get:function(){return this._maxLatitude},set:function(R){this._maxLatitude=R,this.height=this.maxLatitude-this.minLatitude},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"width",{get:function(){return this._width},set:function(R){this._width=R},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"height",{get:function(){return this._height},set:function(R){this._height=R},enumerable:!1,configurable:!0}),B.prototype.buildEnvelope=function(){return{minY:this.minLatitude,minX:this.minLongitude,maxY:this.maxLatitude,maxX:this.maxLongitude}},B.prototype.toGeoJSON=function(){return{type:"Feature",properties:{},geometry:{type:"Polygon",coordinates:[[[this.minLongitude,this.minLatitude],[this.maxLongitude,this.minLatitude],[this.maxLongitude,this.maxLatitude],[this.minLongitude,this.maxLatitude],[this.minLongitude,this.minLatitude]]]}}},B.prototype.equals=function(R){return!!R&&(this===R||this.maxLatitude===R.maxLatitude&&this.minLatitude===R.minLatitude&&this.maxLongitude===R.maxLongitude&&this.maxLatitude===R.maxLatitude)},B.prototype.projectBoundingBox=function(R,I){var O=this.minLatitude,A=this.maxLatitude,T=this.minLongitude,U=this.maxLongitude;if(R&&R!=="undefined"&&I&&I!=="undefined"){b.Projection.isWebMercator(I)&&b.Projection.isWGS84(R)&&(A=Math.min(A,M.ProjectionConstants.WEB_MERCATOR_MAX_LAT_RANGE),O=Math.max(O,M.ProjectionConstants.WEB_MERCATOR_MIN_LAT_RANGE),U=Math.min(U,M.ProjectionConstants.WEB_MERCATOR_MAX_LON_RANGE),T=Math.max(T,M.ProjectionConstants.WEB_MERCATOR_MIN_LON_RANGE));var q=void 0;q=b.Projection.isConverter(I)?I:b.Projection.getConverter(I);var K=void 0;if(K=b.Projection.isConverter(R)?R:b.Projection.getConverter(R),b.Projection.convertersMatch(q,K))return new B(T,U,O,A);var J=q.forward(K.inverse([T,O])),te=q.forward(K.inverse([U,A])),oe=q.forward(K.inverse([U,O])),ue=q.forward(K.inverse([T,A]));return new B(Math.min(J[0],ue[0]),Math.max(te[0],oe[0]),Math.min(J[1],oe[1]),Math.max(te[1],oe[1]))}return this},B})();x.BoundingBox=z},3437:function(y,x){var r=this&&this.__awaiter||function(z,B,R,I){return new(R||(R=Promise))((function(O,A){function T(K){try{q(I.next(K))}catch(J){A(J)}}function U(K){try{q(I.throw(K))}catch(J){A(J)}}function q(K){var J;K.done?O(K.value):(J=K.value,J instanceof R?J:new R((function(te){te(J)}))).then(T,U)}q((I=I.apply(z,B||[])).next())}))},b=this&&this.__generator||function(z,B){var R,I,O,A,T={label:0,sent:function(){if(1&O[0])throw O[1];return O[1]},trys:[],ops:[]};return A={next:U(0),throw:U(1),return:U(2)},typeof Symbol=="function"&&(A[Symbol.iterator]=function(){return this}),A;function U(q){return function(K){return(function(J){if(R)throw new TypeError("Generator is already executing.");for(;A&&(A=0,J[0]&&(T=0)),T;)try{if(R=1,I&&(O=2&J[0]?I.return:J[0]?I.throw||((O=I.return)&&O.call(I),0):I.next)&&!(O=O.call(I,J[1])).done)return O;switch(I=0,O&&(J=[2&J[0],O.value]),J[0]){case 0:case 1:O=J;break;case 4:return T.label++,{value:J[1],done:!1};case 5:T.label++,I=J[1],J=[0];continue;case 7:J=T.ops.pop(),T.trys.pop();continue;default:if(!((O=(O=T.trys).length>0&&O[O.length-1])||J[0]!==6&&J[0]!==2)){T=0;continue}if(J[0]===3&&(!O||J[1]>O[0]&&J[1]<O[3])){T.label=J[1];break}if(J[0]===6&&T.label<O[1]){T.label=O[1],O=J;break}if(O&&T.label<O[2]){T.label=O[2],T.ops.push(J);break}O[2]&&T.ops.pop(),T.trys.pop();continue}J=B.call(z,T)}catch(te){J=[6,te],I=0}finally{R=O=0}if(5&J[0])throw J[1];return{value:J[0]?J[1]:void 0,done:!0}})([q,K])}}};Object.defineProperty(x,"__esModule",{value:!0}),x.Canvas=void 0;var M=(function(){function z(){}return z.registerCanvasAdapter=function(B){z.adapter=new B},z.adapterInitialized=function(){return z.adapter!=null&&z.adapter.isInitialized()},z.initializeAdapter=function(){return r(this,void 0,void 0,(function(){var B;return b(this,(function(R){switch(R.label){case 0:if(z.adapter.isInitialized())return[2];R.label=1;case 1:return R.trys.push([1,3,,4]),[4,z.adapter.initialize()];case 2:return R.sent(),[3,4];case 3:throw(B=R.sent())instanceof Error?B:new Error("error intializing canvas adapter: "+String(B));case 4:return[2]}}))}))},z.checkCanvasAdapter=function(){if(!z.adapter)throw new Error("Canvas adapter not registered.");if(!z.adapter.isInitialized())throw new Error("Canvas adapter not initialized.")},z.create=function(B,R){return z.checkCanvasAdapter(),z.adapter.create(B,R)},z.createImage=function(B,R){return R===void 0&&(R="image/png"),r(this,void 0,void 0,(function(){return b(this,(function(I){return z.checkCanvasAdapter(),[2,z.adapter.createImage(B,R)]}))}))},z.createImageData=function(B,R){return z.checkCanvasAdapter(),z.adapter.createImageData(B,R)},z.disposeCanvas=function(B){z.checkCanvasAdapter(),z.adapter.disposeCanvas(B)},z.measureText=function(B,R,I,O){return z.checkCanvasAdapter(),z.adapter.measureText(B,R,I,O)},z.drawText=function(B,R,I,O,A,T){return z.checkCanvasAdapter(),z.adapter.drawText(B,R,I,O,A,T)},z.scaleImage=function(B,R){return z.checkCanvasAdapter(),z.adapter.scaleImage(B,R)},z.scaleImageToDimensions=function(B,R,I){return z.checkCanvasAdapter(),z.adapter.scaleImageToDimensions(B,R,I)},z.toDataURL=function(B,R){return R===void 0&&(R="image/png"),r(this,void 0,void 0,(function(){return b(this,(function(I){return z.checkCanvasAdapter(),[2,z.adapter.toDataURL(B,R)]}))}))},z.disposeImage=function(B){z.checkCanvasAdapter(),z.adapter.disposeImage(B)},z.adapter=void 0,z})();x.Canvas=M},8038:function(y,x,r){var b=r(5108),M=r(3085).lW,z=this&&this.__awaiter||function(K,J,te,oe){return new(te||(te=Promise))((function(ue,fe){function Le(je){try{ze(oe.next(je))}catch(Be){fe(Be)}}function Ge(je){try{ze(oe.throw(je))}catch(Be){fe(Be)}}function ze(je){var Be;je.done?ue(je.value):(Be=je.value,Be instanceof te?Be:new te((function(_e){_e(Be)}))).then(Le,Ge)}ze((oe=oe.apply(K,J||[])).next())}))},B=this&&this.__generator||function(K,J){var te,oe,ue,fe,Le={label:0,sent:function(){if(1&ue[0])throw ue[1];return ue[1]},trys:[],ops:[]};return fe={next:Ge(0),throw:Ge(1),return:Ge(2)},typeof Symbol=="function"&&(fe[Symbol.iterator]=function(){return this}),fe;function Ge(ze){return function(je){return(function(Be){if(te)throw new TypeError("Generator is already executing.");for(;fe&&(fe=0,Be[0]&&(Le=0)),Le;)try{if(te=1,oe&&(ue=2&Be[0]?oe.return:Be[0]?oe.throw||((ue=oe.return)&&ue.call(oe),0):oe.next)&&!(ue=ue.call(oe,Be[1])).done)return ue;switch(oe=0,ue&&(Be=[2&Be[0],ue.value]),Be[0]){case 0:case 1:ue=Be;break;case 4:return Le.label++,{value:Be[1],done:!1};case 5:Le.label++,oe=Be[1],Be=[0];continue;case 7:Be=Le.ops.pop(),Le.trys.pop();continue;default:if(!((ue=(ue=Le.trys).length>0&&ue[ue.length-1])||Be[0]!==6&&Be[0]!==2)){Le=0;continue}if(Be[0]===3&&(!ue||Be[1]>ue[0]&&Be[1]<ue[3])){Le.label=Be[1];break}if(Be[0]===6&&Le.label<ue[1]){Le.label=ue[1],ue=Be;break}if(ue&&Le.label<ue[2]){Le.label=ue[2],Le.ops.push(Be);break}ue[2]&&Le.ops.pop(),Le.trys.pop();continue}Be=J.call(K,Le)}catch(_e){Be=[6,_e],oe=0}finally{te=ue=0}if(5&Be[0])throw Be[1];return{value:Be[0]?Be[1]:void 0,done:!0}})([ze,je])}}},R=this&&this.__importDefault||function(K){return K&&K.__esModule?K:{default:K}};Object.defineProperty(x,"__esModule",{value:!0}),x.CanvasKitCanvasAdapter=void 0;var I=R(r(3935)),O=R(r(4919)),A=R(r(8501)),T=R(r(8927)),U=r(1048),q=(function(){function K(){}return K.setCanvasKitWasmLocateFile=function(J){K.canvasKitWasmLocateFile=J},K.setCanvasKit=function(J){K.CanvasKit=J,K.initialized=!0},K.prototype.initialize=function(){return new Promise((function(J,te){try{(0,T.default)({locateFile:K.canvasKitWasmLocateFile}).then((function(oe){K.CanvasKit=oe,K.initialized=!0,J()})).catch((function(oe){if(b.error("error initializing CanvasKit:",oe),oe instanceof Error)return te(oe);te("Failed to load the CanvasKit WebAssembly file at "+K.canvasKitWasmLocateFile("canvaskit.wasm")+`.
Update file locator function using NodeCanvasAdapter.setCanvasKitWasmLocateFile.`)}))}catch{te("Failed to load the CanvasKit WebAssembly file at "+K.canvasKitWasmLocateFile("canvaskit.wasm")+`.
Update file locator function using NodeCanvasAdapter.setCanvasKitWasmLocateFile.`)}}))},K.prototype.isInitialized=function(){return K.initialized},K.prototype.create=function(J,te){return K.CanvasKit.MakeCanvas(J,te)},K.prototype.createImage=function(J,te){return z(this,void 0,void 0,(function(){var oe,ue,fe,Le;return B(this,(function(Ge){switch(Ge.label){case 0:oe=J,Ge.label=1;case 1:return Ge.trys.push([1,7,,8]),typeof J!="string"?[3,6]:/^\s*data:/.test(J)?(oe=U.CanvasUtils.base64toUInt8Array(J.split(",")[1]),[3,6]):[3,2];case 2:return/^\s*https?:\/\//.test(J)?[4,new Promise((function(ze,je){A.default.get(J,(function(Be){var _e=[];Be.statusCode===200?Be.on("data",(function(He){_e.push(He)})).on("end",(function(){ze(M.concat(_e).buffer)})).on("error",(function(He){je(He)})):je("Code: "+Be.statusCode)}))}))]:[3,4];case 3:return oe=Ge.sent(),[3,6];case 4:return[4,new Promise((function(ze,je){O.default.readFile(J,(function(Be,_e){Be?je(Be):ze(_e)}))}))];case 5:oe=Ge.sent(),Ge.label=6;case 6:return(ue=K.CanvasKit.MakeImageFromEncoded(oe))!=null&&(fe=ue.width(),Le=ue.height()),[3,8];case 7:throw Ge.sent(),new Error("Failed to create image.");case 8:if(ue==null)throw new Error("Failed to create image.");return[2,{image:ue,width:fe,height:Le}]}}))}))},K.prototype.createImageData=function(J,te){return new K.CanvasKit.ImageData(J,te)},K.prototype.disposeCanvas=function(J){J!=null&&(J.dispose(),J=null)},K.prototype.measureText=function(J,te,oe,ue){var fe=new K.CanvasKit.Font(null,oe),Le=fe.getGlyphIDs(ue),Ge=new K.CanvasKit.Paint;Ge.setStyle(K.CanvasKit.PaintStyle.Fill);var ze=fe.getGlyphWidths(Le,Ge).reduce((function(je,Be){return je+Be}),0);return Ge.delete(),ze},K.prototype.drawText=function(J,te,oe,ue,fe,Le){J.save(),J.fillStyle=Le,J.font=fe+"px '"+ue+"'",J.textBaseline="middle";var Ge=this.measureText(J,ue,fe,te);J.fillText(te,oe[0]-Ge/2,oe[1]+fe/4),J.restore()},K.prototype.toDataURL=function(J,te){return te===void 0&&(te="image/png"),Promise.resolve(J.toDataURL(te))},K.prototype.scaleImage=function(J,te){return z(this,void 0,void 0,(function(){var oe,ue;return B(this,(function(fe){return oe=Math.round(te*J.width),ue=Math.round(te*J.height),[2,this.scaleImageToDimensions(J,oe,ue)]}))}))},K.prototype.scaleImageToDimensions=function(J,te,oe){return z(this,void 0,void 0,(function(){var ue,fe,Le;return B(this,(function(Ge){switch(Ge.label){case 0:return(ue=this.create(te,oe)).getContext("2d").drawImage(J.image,0,0,te,oe),Le=this.createImage,[4,this.toDataURL(ue,"image/png")];case 1:return[4,Le.apply(this,[Ge.sent(),"image/png"])];case 2:return fe=Ge.sent(),this.disposeCanvas(ue),[2,fe]}}))}))},K.prototype.disposeImage=function(J){J!=null&&J.image&&J.image.delete&&(J.image.delete(),J.image=null)},K.initialized=!1,K.canvasKitWasmLocateFile=function(J){return I.default.join("/","..","..","canvaskit",J)},K})();x.CanvasKitCanvasAdapter=q},1048:(y,x,r)=>{var b=r(3085).lW;Object.defineProperty(x,"__esModule",{value:!0}),x.CanvasUtils=void 0;var M=(function(){function z(){}return z.base64toUInt8Array=function(B){for(var R=b.from(B,"base64").toString("binary"),I=R.length,O=new Uint8Array(I);I--;)O[I]=R.charCodeAt(I);return O},z})();x.CanvasUtils=M},2807:function(y,x,r){var b=r(3085).lW,M=this&&this.__awaiter||function(R,I,O,A){return new(O||(O=Promise))((function(T,U){function q(te){try{J(A.next(te))}catch(oe){U(oe)}}function K(te){try{J(A.throw(te))}catch(oe){U(oe)}}function J(te){var oe;te.done?T(te.value):(oe=te.value,oe instanceof O?oe:new O((function(ue){ue(oe)}))).then(q,K)}J((A=A.apply(R,I||[])).next())}))},z=this&&this.__generator||function(R,I){var O,A,T,U,q={label:0,sent:function(){if(1&T[0])throw T[1];return T[1]},trys:[],ops:[]};return U={next:K(0),throw:K(1),return:K(2)},typeof Symbol=="function"&&(U[Symbol.iterator]=function(){return this}),U;function K(J){return function(te){return(function(oe){if(O)throw new TypeError("Generator is already executing.");for(;U&&(U=0,oe[0]&&(q=0)),q;)try{if(O=1,A&&(T=2&oe[0]?A.return:oe[0]?A.throw||((T=A.return)&&T.call(A),0):A.next)&&!(T=T.call(A,oe[1])).done)return T;switch(A=0,T&&(oe=[2&oe[0],T.value]),oe[0]){case 0:case 1:T=oe;break;case 4:return q.label++,{value:oe[1],done:!1};case 5:q.label++,A=oe[1],oe=[0];continue;case 7:oe=q.ops.pop(),q.trys.pop();continue;default:if(!((T=(T=q.trys).length>0&&T[T.length-1])||oe[0]!==6&&oe[0]!==2)){q=0;continue}if(oe[0]===3&&(!T||oe[1]>T[0]&&oe[1]<T[3])){q.label=oe[1];break}if(oe[0]===6&&q.label<T[1]){q.label=T[1],T=oe;break}if(T&&q.label<T[2]){q.label=T[2],q.ops.push(oe);break}T[2]&&q.ops.pop(),q.trys.pop();continue}oe=I.call(R,q)}catch(ue){oe=[6,ue],A=0}finally{O=T=0}if(5&oe[0])throw oe[1];return{value:oe[0]?oe[1]:void 0,done:!0}})([J,te])}}};Object.defineProperty(x,"__esModule",{value:!0}),x.HtmlCanvasAdapter=void 0;var B=(function(){function R(){}return R.prototype.initialize=function(){return new Promise((function(I){R.initialized=!0,I()}))},R.prototype.isInitialized=function(){return R.initialized},R.prototype.create=function(I,O){var A=document.createElement("canvas");return A.width=I,A.height=O,A},R.prototype.createImage=function(I,O){return new Promise((function(A,T){var U=I;(I instanceof b||Object.prototype.toString.call(I)==="[object Uint8Array]")&&(U=URL.createObjectURL(new Blob([I],{type:O})));var q=new Image;q.onload=function(){var K={image:q,width:q.width,height:q.height};A(K)},q.onerror=function(K){T(K)},q.crossOrigin="Anonymous",q.src=U}))},R.prototype.createImageData=function(I,O){return new ImageData(I,O)},R.prototype.disposeCanvas=function(I){},R.prototype.measureText=function(I,O,A,T){I.save(),I.font=A+"px"+(O!=null?" '"+O+"'":""),I.textBaseline="middle",I.textAlign="center";var U=I.measureText(T).width;return I.restore(),U},R.prototype.drawText=function(I,O,A,T,U,q){I.save(),I.font=U+"px"+(T!=null?" '"+T+"'":""),I.fillStyle=q,I.textBaseline="middle",I.textAlign="center",I.fillText(O,A[0],A[1]),I.restore()},R.prototype.scaleImage=function(I,O){return M(this,void 0,void 0,(function(){var A,T;return z(this,(function(U){return O===1?[2,I]:(A=Math.round(O*I.width),T=Math.round(O*I.height),[2,this.scaleImageToDimensions(I,A,T)])}))}))},R.prototype.scaleImageToDimensions=function(I,O,A){return M(this,void 0,void 0,(function(){var T,U,q;return z(this,(function(K){switch(K.label){case 0:return(T=this.create(O,A)).getContext("2d").drawImage(I.image,0,0,O,A),q=this.createImage,[4,this.toDataURL(T,"image/png")];case 1:return[4,q.apply(this,[K.sent(),"image/png"])];case 2:return U=K.sent(),this.disposeCanvas(T),[2,U]}}))}))},R.prototype.toDataURL=function(I,O){return O===void 0&&(O="image/png"),Promise.resolve(I.toDataURL(O))},R.prototype.disposeImage=function(I){},R.initialized=!1,R})();x.HtmlCanvasAdapter=B},342:function(y,x,r){var b=r(3085).lW,M=this&&this.__awaiter||function(I,O,A,T){return new(A||(A=Promise))((function(U,q){function K(oe){try{te(T.next(oe))}catch(ue){q(ue)}}function J(oe){try{te(T.throw(oe))}catch(ue){q(ue)}}function te(oe){var ue;oe.done?U(oe.value):(ue=oe.value,ue instanceof A?ue:new A((function(fe){fe(ue)}))).then(K,J)}te((T=T.apply(I,O||[])).next())}))},z=this&&this.__generator||function(I,O){var A,T,U,q,K={label:0,sent:function(){if(1&U[0])throw U[1];return U[1]},trys:[],ops:[]};return q={next:J(0),throw:J(1),return:J(2)},typeof Symbol=="function"&&(q[Symbol.iterator]=function(){return this}),q;function J(te){return function(oe){return(function(ue){if(A)throw new TypeError("Generator is already executing.");for(;q&&(q=0,ue[0]&&(K=0)),K;)try{if(A=1,T&&(U=2&ue[0]?T.return:ue[0]?T.throw||((U=T.return)&&U.call(T),0):T.next)&&!(U=U.call(T,ue[1])).done)return U;switch(T=0,U&&(ue=[2&ue[0],U.value]),ue[0]){case 0:case 1:U=ue;break;case 4:return K.label++,{value:ue[1],done:!1};case 5:K.label++,T=ue[1],ue=[0];continue;case 7:ue=K.ops.pop(),K.trys.pop();continue;default:if(!((U=(U=K.trys).length>0&&U[U.length-1])||ue[0]!==6&&ue[0]!==2)){K=0;continue}if(ue[0]===3&&(!U||ue[1]>U[0]&&ue[1]<U[3])){K.label=ue[1];break}if(ue[0]===6&&K.label<U[1]){K.label=U[1],U=ue;break}if(U&&K.label<U[2]){K.label=U[2],K.ops.push(ue);break}U[2]&&K.ops.pop(),K.trys.pop();continue}ue=O.call(I,K)}catch(fe){ue=[6,fe],T=0}finally{A=U=0}if(5&ue[0])throw ue[1];return{value:ue[0]?ue[1]:void 0,done:!0}})([te,oe])}}};Object.defineProperty(x,"__esModule",{value:!0}),x.OffscreenCanvasAdapter=void 0;var B=r(1048),R=(function(){function I(){}return I.prototype.initialize=function(){return new Promise((function(O){I.initialized=!0,O()}))},I.prototype.isInitialized=function(){return I.initialized},I.prototype.create=function(O,A){return new OffscreenCanvas(O,A)},I.prototype.createImage=function(O,A){return A===void 0&&(A="image/png"),new Promise((function(T,U){var q=O;O instanceof b||Object.prototype.toString.call(O)==="[object Uint8Array]"?q=new Blob([O],{type:A}):typeof O=="string"&&(q=new Blob([B.CanvasUtils.base64toUInt8Array(O.split(",")[1])],{type:A})),createImageBitmap(q).then((function(K){T({image:K,width:K.width,height:K.height})})).catch((function(K){U(K)}))}))},I.prototype.createImageData=function(O,A){return new ImageData(O,A)},I.prototype.disposeCanvas=function(O){},I.prototype.measureText=function(O,A,T,U){O.save(),O.font=T+"px"+(A!=null?" '"+A+"'":""),O.textBaseline="middle",O.textAlign="center";var q=O.measureText(U).width;return O.restore(),q},I.prototype.drawText=function(O,A,T,U,q,K){O.save(),O.font=q+"px"+(U!=null?" '"+U+"'":""),O.fillStyle=K,O.textBaseline="middle",O.textAlign="center",O.fillText(A,T[0],T[1]),O.restore()},I.prototype.scaleImage=function(O,A){return M(this,void 0,void 0,(function(){var T,U;return z(this,(function(q){return A===1?[2,O]:(T=Math.round(A*O.width),U=Math.round(A*O.height),[2,this.scaleImageToDimensions(O,T,U)])}))}))},I.prototype.scaleImageToDimensions=function(O,A,T){return M(this,void 0,void 0,(function(){var U,q;return z(this,(function(K){return(U=this.create(A,T)).getContext("2d").drawImage(O.image,0,0,A,T),q={image:U.transferToImageBitmap(),width:A,height:T},this.disposeCanvas(U),[2,q]}))}))},I.prototype.toDataURL=function(O,A){return A===void 0&&(A="image/png"),new Promise((function(T){O.convertToBlob({type:A}).then((function(U){var q=new FileReader;q.addEventListener("load",(function(){var K=q.result;T(K)})),q.readAsDataURL(U)}))}))},I.prototype.disposeImage=function(O){},I.initialized=!1,I})();x.OffscreenCanvasAdapter=R},1150:function(y,x,r){var b=r(5108),M=r(4155),z=this&&this.__awaiter||function(J,te,oe,ue){return new(oe||(oe=Promise))((function(fe,Le){function Ge(Be){try{je(ue.next(Be))}catch(_e){Le(_e)}}function ze(Be){try{je(ue.throw(Be))}catch(_e){Le(_e)}}function je(Be){var _e;Be.done?fe(Be.value):(_e=Be.value,_e instanceof oe?_e:new oe((function(He){He(_e)}))).then(Ge,ze)}je((ue=ue.apply(J,te||[])).next())}))},B=this&&this.__generator||function(J,te){var oe,ue,fe,Le,Ge={label:0,sent:function(){if(1&fe[0])throw fe[1];return fe[1]},trys:[],ops:[]};return Le={next:ze(0),throw:ze(1),return:ze(2)},typeof Symbol=="function"&&(Le[Symbol.iterator]=function(){return this}),Le;function ze(je){return function(Be){return(function(_e){if(oe)throw new TypeError("Generator is already executing.");for(;Le&&(Le=0,_e[0]&&(Ge=0)),Ge;)try{if(oe=1,ue&&(fe=2&_e[0]?ue.return:_e[0]?ue.throw||((fe=ue.return)&&fe.call(ue),0):ue.next)&&!(fe=fe.call(ue,_e[1])).done)return fe;switch(ue=0,fe&&(_e=[2&_e[0],fe.value]),_e[0]){case 0:case 1:fe=_e;break;case 4:return Ge.label++,{value:_e[1],done:!1};case 5:Ge.label++,ue=_e[1],_e=[0];continue;case 7:_e=Ge.ops.pop(),Ge.trys.pop();continue;default:if(!((fe=(fe=Ge.trys).length>0&&fe[fe.length-1])||_e[0]!==6&&_e[0]!==2)){Ge=0;continue}if(_e[0]===3&&(!fe||_e[1]>fe[0]&&_e[1]<fe[3])){Ge.label=_e[1];break}if(_e[0]===6&&Ge.label<fe[1]){Ge.label=fe[1],fe=_e;break}if(fe&&Ge.label<fe[2]){Ge.label=fe[2],Ge.ops.push(_e);break}fe[2]&&Ge.ops.pop(),Ge.trys.pop();continue}_e=te.call(J,Ge)}catch(He){_e=[6,He],ue=0}finally{oe=fe=0}if(5&_e[0])throw _e[1];return{value:_e[0]?_e[1]:void 0,done:!0}})([je,Be])}}};Object.defineProperty(x,"__esModule",{value:!0}),x.Context=void 0;var R=r(4777),I=r(922),O=r(6328),A=r(3437),T=r(8038),U=r(2807),q=r(342),K=(function(){function J(){}return J.initializeContext=function(){return z(this,void 0,void 0,(function(){return B(this,(function(te){switch(te.label){case 0:return[4,A.Canvas.initializeAdapter()];case 1:return te.sent(),[2]}}))}))},J.registerSqliteAdapter=function(){try{r(1498),R.Db.registerDbAdapter(I.SqliteAdapter)}catch(te){b.error("Unable to register SqliteAdapter. The better-sqlite3 module was not found. Falling back to SqljsAdapter.",te),R.Db.registerDbAdapter(O.SqljsAdapter)}},J.setupNodeContext=function(){J.registerSqliteAdapter(),A.Canvas.registerCanvasAdapter(T.CanvasKitCanvasAdapter)},J.setupBrowserContext=function(){R.Db.registerDbAdapter(O.SqljsAdapter),A.Canvas.registerCanvasAdapter(U.HtmlCanvasAdapter)},J.setupWebWorkerContext=function(){R.Db.registerDbAdapter(O.SqljsAdapter),A.Canvas.registerCanvasAdapter(q.OffscreenCanvasAdapter)},J.setupCustomContext=function(te,oe){R.Db.registerDbAdapter(te),A.Canvas.registerCanvasAdapter(oe)},J.setupDefaultContext=function(){J.isNode?J.setupNodeContext():J.isBrowser?J.setupBrowserContext():J.isWebWorker&&J.setupWebWorkerContext()},J.isNode=M!==void 0&&M.versions!=null&&M.versions.node!=null,J.isBrowser=typeof window<"u"&&window.document!==void 0,J.isWebWorker=typeof importScripts<"u",J})();x.Context=K},5897:(y,x)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.Contents=void 0;var r=(function(){function b(){}return b.prototype.copy=function(){var M=new b;return M.table_name=this.table_name,M.data_type=this.data_type,M.identifier=this.identifier,M.description=this.description,M.min_x=this.min_x,M.max_x=this.max_x,M.min_y=this.min_y,M.max_y=this.max_y,M.srs_id=this.srs_id,M},b.prototype.getTableName=function(){return this.table_name},b})();x.Contents=r},6638:function(y,x,r){var b,M=this&&this.__extends||(b=function(te,oe){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ue,fe){ue.__proto__=fe}||function(ue,fe){for(var Le in fe)Object.prototype.hasOwnProperty.call(fe,Le)&&(ue[Le]=fe[Le])},b(te,oe)},function(te,oe){if(typeof oe!="function"&&oe!==null)throw new TypeError("Class extends value "+String(oe)+" is not a constructor or null");function ue(){this.constructor=te}b(te,oe),te.prototype=oe===null?Object.create(oe):(ue.prototype=oe.prototype,new ue)}),z=this&&this.__values||function(te){var oe=typeof Symbol=="function"&&Symbol.iterator,ue=oe&&te[oe],fe=0;if(ue)return ue.call(te);if(te&&typeof te.length=="number")return{next:function(){return te&&fe>=te.length&&(te=void 0),{value:te&&te[fe++],done:!te}}};throw new TypeError(oe?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(x,"__esModule",{value:!0}),x.ContentsDao=void 0;var B=r(4115),R=r(3506),I=r(5925),O=r(1968),A=r(5897),T=r(8572),U=r(2527),q=r(9971),K=r(1375),J=(function(te){function oe(){var ue=te!==null&&te.apply(this,arguments)||this;return ue.gpkgTableName=oe.TABLE_NAME,ue.idColumns=[oe.COLUMN_PK],ue}return M(oe,te),oe.prototype.createObject=function(ue){var fe=new A.Contents;return ue&&(fe.table_name=ue.table_name,fe.data_type=ue.data_type,fe.identifier=ue.identifier,fe.description=ue.description,fe.last_change=ue.last_change,fe.min_y=ue.min_y,fe.max_y=ue.max_y,fe.min_x=ue.min_x,fe.max_x=ue.max_x,fe.srs_id=ue.srs_id),fe},oe.prototype.getTables=function(ue){var fe;if(ue){var Le=new T.ColumnValues;Le.addColumn(oe.COLUMN_DATA_TYPE,ue),fe=this.queryForColumns("table_name",Le)}else fe=this.queryForColumns("table_name");for(var Ge=[],ze=0;ze<fe.length;ze++)Ge.push(fe[ze].table_name);return Ge},oe.prototype.getContentsForTableType=function(ue,fe){var Le,Ge;fe===void 0&&(fe=!1);var ze=[];if(ue){var je=new T.ColumnValues;je.addColumn(oe.COLUMN_DATA_TYPE,ue);try{for(var Be=z(this.queryForFieldValues(je)),_e=Be.next();!_e.done;_e=Be.next()){var He=_e.value;if(fe){var tt=new U.BoundingBox(He.min_x,He.max_x,He.min_y,He.max_y).projectBoundingBox(this.getProjection(He),K.ProjectionConstants.EPSG_4326);He.min_x=tt.minLongitude,He.max_x=tt.maxLongitude,He.min_y=tt.minLatitude,He.max_y=tt.maxLatitude}ze.push(He)}}catch(Ke){Le={error:Ke}}finally{try{_e&&!_e.done&&(Ge=Be.return)&&Ge.call(Be)}finally{if(Le)throw Le.error}}}return ze},oe.prototype.getProjection=function(ue){var fe=this.getSrs(ue);return this.geoPackage.spatialReferenceSystemDao.getProjection(fe)},oe.prototype.getSrs=function(ue){return this.geoPackage.spatialReferenceSystemDao.queryForId(ue.srs_id)},oe.prototype.getGeometryColumns=function(ue){var fe=this.geoPackage.geometryColumnsDao,Le=fe.queryForAllEq(O.GeometryColumnsDao.COLUMN_TABLE_NAME,ue.table_name);if(Le?.length)return fe.createObject(Le[0])},oe.prototype.getTileMatrixSet=function(ue){var fe=this.geoPackage.tileMatrixSetDao,Le=fe.queryForAllEq(I.TileMatrixSetDao.COLUMN_TABLE_NAME,ue.table_name);if(Le?.length)return fe.createObject(Le[0])},oe.prototype.getTileMatrix=function(ue){var fe=this.geoPackage.tileMatrixDao,Le=fe.queryForAllEq(R.TileMatrixDao.COLUMN_TABLE_NAME,ue.table_name);if(Le&&Le.length){for(var Ge=[],ze=0;ze<Le.length;ze++){var je=fe.createObject(Le[ze]);Ge.push(je)}return Ge}},oe.prototype.deleteCascadeContents=function(ue){var fe=0;if(ue!=null){var Le=q.ContentsDataType.fromName(ue.data_type);if(Le!=null)switch(Le){case q.ContentsDataType.FEATURES:var Ge=this.geoPackage.geometryColumnsDao;if(Ge.isTableExists()){var ze=this.getGeometryColumns(ue);ze!=null&&Ge.deleteByMultiId([ze.table_name,ze.column_name])}break;case q.ContentsDataType.TILES:var je=this.geoPackage.tileMatrixDao;if(je.isTableExists()){var Be=this.getTileMatrix(ue);Be!=null&&Be.length>0&&Be.forEach((function(tt){je.deleteByMultiId([tt.table_name,tt.zoom_level])}))}var _e=this.geoPackage.tileMatrixSetDao;if(_e.isTableExists()){var He=this.getTileMatrixSet(ue);He!=null&&_e.deleteById(He.table_name)}break;case q.ContentsDataType.ATTRIBUTES:this.dropTableWithTableName(ue.table_name)}else this.dropTableWithTableName(ue.table_name);fe=this.delete(ue)}return fe},oe.prototype.deleteCascade=function(ue,fe){var Le=this.deleteCascadeContents(ue);return fe&&this.dropTableWithTableName(ue.table_name),Le},oe.prototype.deleteByIdCascade=function(ue,fe){var Le=0;if(ue!=null){var Ge=this.queryForId(ue);Ge!=null?Le=this.deleteCascade(Ge,fe):fe&&this.dropTableWithTableName(ue)}return Le},oe.prototype.deleteTable=function(ue){try{this.deleteByIdCascade(ue,!0)}catch{throw new Error("Failed to delete table: "+ue)}},oe.TABLE_NAME="gpkg_contents",oe.COLUMN_PK="table_name",oe.COLUMN_TABLE_NAME="table_name",oe.COLUMN_DATA_TYPE="data_type",oe.COLUMN_IDENTIFIER="identifier",oe.COLUMN_DESCRIPTION="description",oe.COLUMN_LAST_CHANGE="last_change",oe.COLUMN_MIN_X="min_x",oe.COLUMN_MIN_Y="min_y",oe.COLUMN_MAX_X="max_x",oe.COLUMN_MAX_Y="max_y",oe.COLUMN_SRS_ID="srs_id",oe})(B.Dao);x.ContentsDao=J},9971:(y,x)=>{var r;Object.defineProperty(x,"__esModule",{value:!0}),x.ContentsDataType=void 0,(r=x.ContentsDataType||(x.ContentsDataType={})).FEATURES="features",r.TILES="tiles",r.ATTRIBUTES="attributes",(function(b){b.nameFromType=function(M){return b[M]},b.fromName=function(M){var z=null;if(M!=null)switch(M.toLowerCase()){case b.FEATURES:z=b.FEATURES;break;case b.TILES:z=b.TILES;break;case b.ATTRIBUTES:z=b.ATTRIBUTES}return z}})(x.ContentsDataType||(x.ContentsDataType={}))},341:(y,x,r)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.SpatialReferenceSystem=void 0;var b=r(5604),M=r(1375),z=(function(){function B(){}return Object.defineProperty(B.prototype,"projection",{get:function(){return this.organization==="NONE"?null:!this.organization||this.organization.toUpperCase()!==M.ProjectionConstants.EPSG||this.organization_coordsys_id!==M.ProjectionConstants.EPSG_CODE_4326&&this.organization_coordsys_id!==M.ProjectionConstants.EPSG_CODE_3857?this.definition_12_063&&this.definition_12_063!==""&&this.definition_12_063!=="undefined"?b.Projection.getConverter(this.definition_12_063):this.definition&&this.definition!==""&&this.definition!=="undefined"?b.Projection.getConverter(this.definition):null:b.Projection.getEPSGConverter(this.organization_coordsys_id)},enumerable:!1,configurable:!0}),B.TABLE_NAME="gpkg_spatial_ref_sys",B})();x.SpatialReferenceSystem=z},5965:function(y,x,r){var b,M=this&&this.__extends||(b=function(A,T){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(U,q){U.__proto__=q}||function(U,q){for(var K in q)Object.prototype.hasOwnProperty.call(q,K)&&(U[K]=q[K])},b(A,T)},function(A,T){if(typeof T!="function"&&T!==null)throw new TypeError("Class extends value "+String(T)+" is not a constructor or null");function U(){this.constructor=A}b(A,T),A.prototype=T===null?Object.create(T):(U.prototype=T.prototype,new U)});Object.defineProperty(x,"__esModule",{value:!0}),x.SpatialReferenceSystemDao=void 0;var z=r(4115),B=r(341),R=r(8572),I=r(1375),O=(function(A){function T(){var U=A!==null&&A.apply(this,arguments)||this;return U.idColumns=[T.COLUMN_SRS_ID],U.gpkgTableName=T.TABLE_NAME,U}return M(T,A),T.prototype.createObject=function(U){var q=new B.SpatialReferenceSystem;return U&&(q.srs_name=U.srs_name,q.srs_id=U.srs_id,q.organization=U.organization,q.organization_coordsys_id=U.organization_coordsys_id,q.definition=U.definition,q.definition_12_063=U.definition,q.description=U.description),q},T.prototype.getAllSpatialReferenceSystems=function(){var U=[];if(this.connection!=null&&this.isTableExists()){var q=this.queryForAll();if(q&&q.length)for(var K=0;K<q.length;K++)U.push(this.createObject(q[K]))}return U},T.prototype.getByOrganizationAndCoordSysId=function(U,q){var K=new R.ColumnValues;K.addColumn("organization",U),K.addColumn("organization_coordsys_id",q);var J=this.queryForAll(this.buildWhere(K),this.buildWhereArgs(K));if(J&&J.length)return this.createObject(J[0])},T.prototype.getBySrsId=function(U){return this.queryForId(U)},T.prototype.getProjection=function(U){return U.projection},T.prototype.createWgs84=function(){var U=this.getBySrsId(I.ProjectionConstants.EPSG_CODE_4326);return U?U.srs_id:((U=new B.SpatialReferenceSystem).srs_name="WGS 84 geodetic",U.srs_id=I.ProjectionConstants.EPSG_CODE_4326,U.organization="EPSG",U.organization_coordsys_id=I.ProjectionConstants.EPSG_CODE_4326,U.definition='GEOGCS["WGS 84",DATUM["WGS_1984",SPHEROID["WGS 84",6378137,298.257223563,AUTHORITY["EPSG","7030"]],AUTHORITY["EPSG","6326"]],PRIMEM["Greenwich",0,AUTHORITY["EPSG","8901"]],UNIT["degree",0.01745329251994328,AUTHORITY["EPSG","9122"]],AUTHORITY["EPSG","4326"]]',U.description="longitude/latitude coordinates in decimal degrees on the WGS 84 spheroid",this.connection.columnAndTableExists("gpkg_spatial_ref_sys","definition_12_063")&&(U.definition_12_063='GEOGCS["WGS 84",DATUM["WGS_1984",SPHEROID["WGS 84",6378137,298.257223563,AUTHORITY["EPSG","7030"]],AUTHORITY["EPSG","6326"]],PRIMEM["Greenwich",0,AUTHORITY["EPSG","8901"]],UNIT["degree",0.01745329251994328,AUTHORITY["EPSG","9122"]],AUTHORITY["EPSG","4326"]]'),this.create(U))},T.prototype.createUndefinedCartesian=function(){var U=this.getBySrsId(-1);return U?U.srs_id:((U=new B.SpatialReferenceSystem).srs_name="Undefined cartesian SRS",U.srs_id=-1,U.organization="NONE",U.organization_coordsys_id=-1,U.definition="undefined",U.description="undefined cartesian coordinate reference system",this.connection.columnAndTableExists("gpkg_spatial_ref_sys","definition_12_063")&&(U.definition_12_063="undefined"),this.create(U))},T.prototype.createUndefinedGeographic=function(){var U=this.getBySrsId(0);return U?U.srs_id:((U=new B.SpatialReferenceSystem).srs_name="Undefined geographic SRS",U.srs_id=0,U.organization="NONE",U.organization_coordsys_id=0,U.definition="undefined",U.description="undefined geographic coordinate reference system",this.connection.columnAndTableExists("gpkg_spatial_ref_sys","definition_12_063")&&(U.definition_12_063="undefined"),this.create(U))},T.prototype.createWebMercator=function(){var U=this.getByOrganizationAndCoordSysId(I.ProjectionConstants.EPSG,I.ProjectionConstants.EPSG_CODE_3857);return U?U.srs_id:((U=new B.SpatialReferenceSystem).srs_name="WGS 84 / Pseudo-Mercator",U.srs_id=I.ProjectionConstants.EPSG_CODE_3857,U.organization="EPSG",U.organization_coordsys_id=I.ProjectionConstants.EPSG_CODE_3857,U.definition='PROJCS["WGS 84 / Pseudo-Mercator",GEOGCS["WGS 84",DATUM["WGS_1984",SPHEROID["WGS 84",6378137,298.257223563,AUTHORITY["EPSG","7030"]],AUTHORITY["EPSG","6326"]],PRIMEM["Greenwich",0,AUTHORITY["EPSG","8901"]],UNIT["degree",0.0174532925199433,AUTHORITY["EPSG","9122"]],AUTHORITY["EPSG","4326"]],PROJECTION["Mercator_1SP"],PARAMETER["central_meridian",0],PARAMETER["scale_factor",1],PARAMETER["false_easting",0],PARAMETER["false_northing",0],UNIT["metre",1,AUTHORITY["EPSG","9001"]],AXIS["X",EAST],AXIS["Y",NORTH],EXTENSION["PROJ4","+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +wktext  +no_defs"],AUTHORITY["EPSG","3857"]]',U.description="Spherical Mercator projection coordinate system",this.connection.columnAndTableExists("gpkg_spatial_ref_sys","definition_12_063")&&(U.definition_12_063='PROJCS["WGS 84 / Pseudo-Mercator",GEOGCS["WGS 84",DATUM["WGS_1984",SPHEROID["WGS 84",6378137,298.257223563,AUTHORITY["EPSG","7030"]],AUTHORITY["EPSG","6326"]],PRIMEM["Greenwich",0,AUTHORITY["EPSG","8901"]],UNIT["degree",0.0174532925199433,AUTHORITY["EPSG","9122"]],AUTHORITY["EPSG","4326"]],PROJECTION["Mercator_1SP"],PARAMETER["central_meridian",0],PARAMETER["scale_factor",1],PARAMETER["false_easting",0],PARAMETER["false_northing",0],UNIT["metre",1,AUTHORITY["EPSG","9001"]],AXIS["X",EAST],AXIS["Y",NORTH],EXTENSION["PROJ4","+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +wktext  +no_defs"],AUTHORITY["EPSG","3857"]]'),this.create(U))},T.TABLE_NAME="gpkg_spatial_ref_sys",T.COLUMN_SRS_NAME="srs_name",T.COLUMN_SRS_ID="srs_id",T.COLUMN_ID=T.COLUMN_SRS_ID,T.COLUMN_ORGANIZATION="organization",T.COLUMN_ORGANIZATION_COORDSYS_ID="organization_coordsys_id",T.COLUMN_DEFINITION="definition",T.COLUMN_DESCRIPTION="description",T})(z.Dao);x.SpatialReferenceSystemDao=O},8572:(y,x)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.ColumnValues=void 0;var r=(function(){function b(){this.values={},this.columns=[]}return b.prototype.addColumn=function(M,z){this.columns.push(M),this.values[M]=z},b.prototype.getValue=function(M){return this.values[M]},b})();x.ColumnValues=r},4115:(y,x,r)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.Dao=void 0;var b=r(8572),M=r(8877),z=r(5042),B=(function(){function R(I){this.geoPackage=I,this.connection=I.database}return R.prototype.isTableExists=function(){return this.connection.isTableExists(this.gpkgTableName)},R.prototype.refresh=function(I){return this.queryForSameId(I)},R.prototype.queryForId=function(I){var O=this.buildPkWhere(I),A=this.buildPkWhereArgs(I),T=M.SqliteQueryBuilder.buildQuery(!1,"'"+this.gpkgTableName+"'",void 0,O),U=this.connection.get(T,A);if(U)return this.createObject(U)},R.prototype.queryForSameId=function(I){var O=this.getMultiId(I);return this.queryForMultiId(O)},R.prototype.getMultiId=function(I){for(var O=[],A=0;A<this.idColumns.length;A++){var T=I.values?I.values[this.idColumns[A]]:I[this.idColumns[A]];T!==void 0&&O.push(T)}return O},R.prototype.queryForMultiId=function(I){var O=this.buildPkWhere(I),A=this.buildPkWhereArgs(I),T=M.SqliteQueryBuilder.buildQuery(!1,"'"+this.gpkgTableName+"'",void 0,O),U=this.connection.get(T,A);if(U)return this.createObject(U)},R.prototype.queryForAll=function(I,O){var A=M.SqliteQueryBuilder.buildQuery(!1,"'"+this.gpkgTableName+"'",void 0,I);return this.connection.all(A,O)},R.prototype.queryForLike=function(I,O){var A=new b.ColumnValues;A.addColumn(I,O);var T=this.buildWhereLike(A),U=this.buildWhereArgs(O),q=M.SqliteQueryBuilder.buildQuery(!1,"'"+this.gpkgTableName+"'",void 0,T);return this.connection.all(q,U)},R.prototype.queryForColumns=function(I,O){var A=void 0,T=null;O&&(A=this.buildWhere(O),T=this.buildWhereArgs(O));var U=M.SqliteQueryBuilder.buildQuery(!1,"'"+this.gpkgTableName+"'",[I],A);return this.connection.all(U,T)},R.prototype.queryForChunk=function(I,O){var A=M.SqliteQueryBuilder.buildQuery(!1,"'"+this.gpkgTableName+"'",void 0,void 0,void 0,void 0,void 0,this.idColumns[0],I,O*I);return this.connection.all(A)},R.prototype.queryForEach=function(I,O,A,T,U,q){if(I){var K=this.buildWhereWithFieldAndValue(I,O),J=this.buildWhereArgs(O);return te=M.SqliteQueryBuilder.buildQuery(!1,"'"+this.gpkgTableName+"'",void 0,K,void 0,A,T,U),this.connection.each(te,J)}var te=M.SqliteQueryBuilder.buildQuery(!1,"'"+this.gpkgTableName+"'",q,void 0,void 0,A,T,U);return this.connection.each(te)},R.prototype.queryForFieldValues=function(I){var O=this.buildWhere(I),A=this.buildWhereArgs(I),T=M.SqliteQueryBuilder.buildQuery(!1,"'"+this.gpkgTableName+"'",void 0,O);return this.connection.each(T,A)},R.prototype.queryJoinWhereWithArgs=function(I,O,A,T){var U=M.SqliteQueryBuilder.buildQuery(!1,"'"+this.gpkgTableName+"'",T,O,I);return this.connection.each(U,A)},R.prototype.countJoinWhereWithArgs=function(I,O,A){var T="select COUNT(*) as count from '"+this.gpkgTableName+"' "+I+" where "+O,U=this.connection.get(T,A);return U?.count},R.prototype.queryWhereWithArgsDistinct=function(I,O){var A=M.SqliteQueryBuilder.buildQuery(!0,"'"+this.gpkgTableName+"'",void 0,I);return this.connection.each(A,O)},R.prototype.queryWhere=function(I,O,A,T,U,q){var K=M.SqliteQueryBuilder.buildQuery(!1,"'"+this.gpkgTableName+"'",void 0,I,void 0,A,T,U,q);return this.connection.each(K,O)},R.prototype.buildPkWhere=function(I){if(Array.isArray(I)){for(var O=I,A=new b.ColumnValues,T=0;T<O.length;T++)A.addColumn(this.idColumns[T],O[T]);return this.buildWhere(A)}return this.buildWhereWithFieldAndValue(this.idColumns[0],I)},R.prototype.buildPkWhereArgs=function(I){if(Array.isArray(I)){for(var O=I,A=[],T=0;T<O.length;T++)A=A.concat(this.buildWhereArgs(O[T]));return A}return this.buildWhereArgs(I)},R.prototype.buildWhereLike=function(I,O){for(var A="",T=0;T<I.columns.length;T++){var U=I.columns[T];T&&(A+=" "+O+" "),A+=this.buildWhereWithFieldAndValue(U,I.getValue(U),"like")}return A},R.prototype.buildWhere=function(I,O){O===void 0&&(O="and");for(var A="",T=0;T<I.columns.length;T++){var U=I.columns[T];T&&(A+=" "+O+" "),A+=this.buildWhereWithFieldAndValue(U,I.getValue(U))}return A},R.prototype.buildWhereArgs=function(I){var O=[];return Array.isArray(I)?O=this._buildWhereArgsWithArray(I):I instanceof b.ColumnValues?O=this._buildWhereArgsWithColumnValues(I):I!=null&&O.push(I),O.length?O:null},R.prototype._buildWhereArgsWithArray=function(I){for(var O=[],A=0;A<I.length;A++){var T=I[A];T!=null&&O.push(T)}return O},R.prototype._buildWhereArgsWithColumnValues=function(I){for(var O=[],A=0;A<I.columns.length;A++){var T=I.columns[A],U=I.getValue(T);U!=null&&O.push(U)}return O},R.prototype.buildWhereWithFieldAndValue=function(I,O,A){return A===void 0&&(A="="),I+" "+(O==null?"is null":A+" ?")},R.prototype.queryForAllEq=function(I,O,A,T,U){var q=this.buildWhereWithFieldAndValue(I,O),K=this.buildWhereArgs(O),J=M.SqliteQueryBuilder.buildQuery(!1,"'"+this.gpkgTableName+"'",void 0,q,void 0,A,T,U);return this.connection.all(J,K)},R.prototype.count=function(I,O){if(!I)return this.connection.count(this.gpkgTableName);var A,T,U;if(I instanceof b.ColumnValues)A=this.buildWhere(I,"and"),T=this.buildWhereArgs(I),U=M.SqliteQueryBuilder.buildCount("'"+this.gpkgTableName+"'",A);else{var q=this.buildWhereWithFieldAndValue(I,O);T=this.buildWhereArgs(O),U=M.SqliteQueryBuilder.buildCount("'"+this.gpkgTableName+"'",q)}var K=this.connection.get(U,T);return K?.count},R.prototype.countWhere=function(I,O){var A=M.SqliteQueryBuilder.buildCount("'"+this.gpkgTableName+"'",I),T=this.connection.get(A,O);return T?.count},R.prototype.minOfColumn=function(I,O,A){return this.connection.minOfColumn("'"+this.gpkgTableName+"'",I,O,A)},R.prototype.maxOfColumn=function(I,O,A){return this.connection.maxOfColumn("'"+this.gpkgTableName+"'",I,O,A)},R.prototype.delete=function(I){return typeof I.getId=="function"?this.deleteById(I.getId()):this.deleteByMultiId(this.getMultiId(I))},R.prototype.deleteById=function(I){var O=this.buildPkWhere(I),A=this.buildPkWhereArgs(I);return this.connection.delete("'"+this.gpkgTableName+"'",O,A)},R.prototype.deleteByMultiId=function(I){var O=this.buildPkWhere(I),A=this.buildPkWhereArgs(I);return this.connection.delete("'"+this.gpkgTableName+"'",O,A)},R.prototype.deleteWhere=function(I,O){return this.connection.delete("'"+this.gpkgTableName+"'",I,O)},R.prototype.deleteAll=function(){return this.connection.delete("'"+this.gpkgTableName+"'","",[])},R.prototype.create=function(I){var O=M.SqliteQueryBuilder.buildInsert("'"+this.gpkgTableName+"'",I),A=M.SqliteQueryBuilder.buildUpdateOrInsertObject(I);return this.connection.insert(O,A)},R.prototype.updateWithValues=function(I,O,A){var T=M.SqliteQueryBuilder.buildUpdate("'"+this.gpkgTableName+"'",I,O,A);return this.connection.run(T.sql,T.args)},R.prototype.update=function(I){var O=M.SqliteQueryBuilder.buildUpdateOrInsertObject(I),A=M.SqliteQueryBuilder.buildObjectUpdate("'"+this.gpkgTableName+"'",I),T=this.getMultiId(I);if(T.length){for(var U=" where ",q=0;q<T.length;q++)U+='"'+this.idColumns[q]+'" = $'+M.SqliteQueryBuilder.fixColumnName(this.idColumns[q]),O[M.SqliteQueryBuilder.fixColumnName(this.idColumns[q])]=T[q];A+=U}return this.connection.run(A,O)},R.prototype.createOrUpdate=function(I){return this.queryForSameId(I)?this.update(I).changes:this.create(I)},R.prototype.dropTable=function(){return this.connection.dropTable(this.gpkgTableName)},R.prototype.dropTableWithTableName=function(I){z.CoreSQLUtils.dropTable(this.geoPackage.connection,I)},R.prototype.rename=function(I){this.connection.run("ALTER TABLE '"+this.gpkgTableName+"' RENAME TO '"+I+"'"),this.gpkgTableName=I},R})();x.Dao=B},8590:(y,x)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.DataColumnConstraints=void 0,x.DataColumnConstraints=function(){}},7175:function(y,x,r){var b,M=this&&this.__extends||(b=function(I,O){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,T){A.__proto__=T}||function(A,T){for(var U in T)Object.prototype.hasOwnProperty.call(T,U)&&(A[U]=T[U])},b(I,O)},function(I,O){if(typeof O!="function"&&O!==null)throw new TypeError("Class extends value "+String(O)+" is not a constructor or null");function A(){this.constructor=I}b(I,O),I.prototype=O===null?Object.create(O):(A.prototype=O.prototype,new A)});Object.defineProperty(x,"__esModule",{value:!0}),x.DataColumnConstraintsDao=void 0;var z=r(4115),B=r(8590),R=(function(I){function O(){var A=I!==null&&I.apply(this,arguments)||this;return A.gpkgTableName=O.TABLE_NAME,A.idColumns=[O.COLUMN_CONSTRAINT_NAME,O.COLUMN_CONSTRAINT_TYPE,O.COLUMN_VALUE],A}return M(O,I),O.prototype.createObject=function(A){var T=new B.DataColumnConstraints;return A&&(T.constraint_name=A.constraint_name,T.constraint_type=A.constraint_type,T.value=A.value,T.min=A.min,T.max=A.max,T.min_is_inclusive=A.min_is_inclusive,T.max_is_inclusive=A.max_is_inclusive,T.description=A.description),T},O.prototype.queryByConstraintName=function(A){return this.queryForEach(O.COLUMN_CONSTRAINT_NAME,A)},O.prototype.queryUnique=function(A,T,U){var q=new B.DataColumnConstraints;return q.constraint_name=A,q.constraint_type=T,q.value=U,this.queryForSameId(q)},O.TABLE_NAME="gpkg_data_column_constraints",O.COLUMN_CONSTRAINT_NAME="constraint_name",O.COLUMN_CONSTRAINT_TYPE="constraint_type",O.COLUMN_VALUE="value",O.COLUMN_MIN="min",O.COLUMN_MIN_IS_INCLUSIVE="min_is_inclusive",O.COLUMN_MAX="max",O.COLUMN_MAX_IS_INCLUSIVE="max_is_inclusive",O.COLUMN_DESCRIPTION="description",O.ENUM_TYPE="enum",O.GLOB_TYPE="glob",O.RANGE_TYPE="range",O})(z.Dao);x.DataColumnConstraintsDao=R},8133:(y,x)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.DataColumns=void 0,x.DataColumns=function(r){r=r||{},this.table_name=r.table_name,this.column_name=r.column_name,this.name=r.name,this.title=r.title,this.description=r.description,this.mime_type=r.mime_type,this.constraint_name=r.constraint_name}},4941:function(y,x,r){var b,M=this&&this.__extends||(b=function(A,T){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(U,q){U.__proto__=q}||function(U,q){for(var K in q)Object.prototype.hasOwnProperty.call(q,K)&&(U[K]=q[K])},b(A,T)},function(A,T){if(typeof T!="function"&&T!==null)throw new TypeError("Class extends value "+String(T)+" is not a constructor or null");function U(){this.constructor=A}b(A,T),A.prototype=T===null?Object.create(T):(U.prototype=T.prototype,new U)}),z=this&&this.__values||function(A){var T=typeof Symbol=="function"&&Symbol.iterator,U=T&&A[T],q=0;if(U)return U.call(A);if(A&&typeof A.length=="number")return{next:function(){return A&&q>=A.length&&(A=void 0),{value:A&&A[q++],done:!A}}};throw new TypeError(T?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(x,"__esModule",{value:!0}),x.DataColumnsDao=void 0;var B=r(4115),R=r(6638),I=r(8133),O=(function(A){function T(){var U=A!==null&&A.apply(this,arguments)||this;return U.gpkgTableName=T.TABLE_NAME,U.idColumns=[T.COLUMN_PK1,T.COLUMN_PK2],U}return M(T,A),T.prototype.createObject=function(U){var q=new I.DataColumns;return U&&(q.table_name=U.table_name,q.column_name=U.column_name,q.name=U.name,q.title=U.title,q.description=U.description,q.mime_type=U.mime_type,q.constraint_name=U.constraint_name),q},T.prototype.getContents=function(U){return new R.ContentsDao(this.geoPackage).queryForId(U.table_name)},T.prototype.queryByConstraintName=function(U){return this.queryForEach(T.COLUMN_CONSTRAINT_NAME,U)},T.prototype.getDataColumns=function(U,q){var K,J;if(this.isTableExists()){var te,oe=this.buildWhereWithFieldAndValue(T.COLUMN_TABLE_NAME,U)+" and "+this.buildWhereWithFieldAndValue(T.COLUMN_COLUMN_NAME,q),ue=[U,q];try{for(var fe=z(this.queryWhere(oe,ue)),Le=fe.next();!Le.done;Le=fe.next()){var Ge=Le.value;te=this.createObject(Ge)}}catch(ze){K={error:ze}}finally{try{Le&&!Le.done&&(J=fe.return)&&J.call(fe)}finally{if(K)throw K.error}}return te}},T.prototype.deleteByTableName=function(U){var q="";q+=this.buildWhereWithFieldAndValue(T.COLUMN_TABLE_NAME,U);var K=this.buildWhereArgs(U);return this.deleteWhere(q,K)},T.TABLE_NAME="gpkg_data_columns",T.COLUMN_PK1="table_name",T.COLUMN_PK2="column_name",T.COLUMN_TABLE_NAME="table_name",T.COLUMN_COLUMN_NAME="column_name",T.COLUMN_NAME="name",T.COLUMN_TITLE="title",T.COLUMN_DESCRIPTION="description",T.COLUMN_MIME_TYPE="mime_type",T.COLUMN_CONSTRAINT_NAME="constraint_name",T})(B.Dao);x.DataColumnsDao=O},8314:(y,x,r)=>{var b=r(5108);Object.defineProperty(x,"__esModule",{value:!0}),x.AlterTable=void 0;var M=r(362),z=r(5042),B=r(5329),R=r(2431),I=r(2841),O=r(1133),A=r(7043),T=r(175),U=r(8934),q=r(1078),K=r(735),J=(function(){function te(){}return te.alterTableSQL=function(oe){return"ALTER TABLE "+B.StringUtils.quoteWrap(oe)},te.renameTable=function(oe,ue,fe){var Le=te.renameTableSQL(ue,fe);oe.run(Le)},te.renameTableSQL=function(oe,ue){return te.alterTableSQL(oe)+" RENAME TO "+B.StringUtils.quoteWrap(ue)},te.renameColumn=function(oe,ue,fe,Le){var Ge=te.renameColumnSQL(ue,fe,Le);oe.run(Ge)},te.renameColumnSQL=function(oe,ue,fe){return te.alterTableSQL(oe)+" RENAME COLUMN "+B.StringUtils.quoteWrap(ue)+" TO "+B.StringUtils.quoteWrap(fe)},te.addColumn=function(oe,ue,fe,Le){var Ge=te.addColumnSQL(ue,fe,Le);oe.run(Ge)},te.addColumnSQL=function(oe,ue,fe){return te.alterTableSQL(oe)+" ADD COLUMN "+B.StringUtils.quoteWrap(ue)+" "+fe},te.dropColumnForUserTable=function(oe,ue,fe){te.dropColumnsForUserTable(oe,ue,[fe])},te.dropColumnsForUserTable=function(oe,ue,fe){var Le=ue.copy();fe.forEach((function(ze){Le.dropColumnWithName(ze)}));var Ge=new R.TableMapping(Le.getTableName(),Le.getTableName(),Le.getUserColumns().getColumns());fe.forEach((function(ze){Ge.addDroppedColumn(ze)})),te.alterTableWithTableMapping(oe,Le,Ge),fe.forEach((function(ze){ue.dropColumnWithName(ze)}))},te.dropColumn=function(oe,ue,fe){te.dropColumns(oe,ue,[fe])},te.dropColumns=function(oe,ue,fe){var Le=new M.UserCustomTableReader(ue).readTable(oe);te.dropColumnsForUserTable(oe,Le,fe)},te.alterColumnForTable=function(oe,ue,fe){te.alterColumnsForTable(oe,ue,[fe])},te.alterColumnsForTable=function(oe,ue,fe){var Le=ue.copy();fe.forEach((function(Ge){Le.alterColumn(Ge)})),te.alterTable(oe,Le),fe.forEach((function(Ge){ue.alterColumn(Ge)}))},te.alterColumn=function(oe,ue,fe){te.alterColumns(oe,ue,[fe])},te.alterColumns=function(oe,ue,fe){var Le=new M.UserCustomTableReader(ue).readTable(oe);te.alterColumnsForTable(oe,Le,fe)},te.copyTable=function(oe,ue,fe,Le){Le===void 0&&(Le=!0);var Ge=new R.TableMapping(ue.getTableName(),fe,ue.getUserColumns().getColumns());Ge.transferContent=Le,te.alterTableWithTableMapping(oe,ue,Ge)},te.copyTableWithName=function(oe,ue,fe,Le){Le===void 0&&(Le=!0);var Ge=new M.UserCustomTableReader(ue).readTable(oe);te.copyTable(oe,Ge,fe,Le)},te.alterTable=function(oe,ue){var fe=new R.TableMapping(ue.getTableName(),ue.getTableName(),ue.getUserColumns().getColumns());te.alterTableWithTableMapping(oe,ue,fe)},te.alterTableWithTableMapping=function(oe,ue,fe){ue.getUserColumns().getColumns().forEach((function(Ge){Ge.clearConstraints().forEach((function(ze){var je=z.CoreSQLUtils.modifySQL(null,ze.name,ze.buildSql(),fe);je!=null&&Ge.addConstraint(new I.RawConstraint(ze.type,O.ConstraintParser.getName(je),je))}))})),ue.clearConstraints().forEach((function(Ge){var ze=z.CoreSQLUtils.modifySQL(null,Ge.name,Ge.buildSql(),fe);ze!=null&&ue.addConstraint(new I.RawConstraint(Ge.type,Ge.name,ze))}));var Le=z.CoreSQLUtils.createTableSQL(ue);te.alterTableWithSQLAndTableMapping(oe,Le,fe)},te.alterTableWithSQLAndTableMapping=function(oe,ue,fe){var Le=fe.fromTable,Ge=fe.isNewTable(),ze=z.CoreSQLUtils.setForeignKeys(oe,!1);oe.transaction((function(){try{var je=A.SQLiteMaster.queryViewsOnTable(oe,[T.SQLiteMasterColumn.NAME,T.SQLiteMasterColumn.SQL],Le);if(!Ge)for(var Be=0;Be<je.count();Be++){var _e=je.getName(Be);try{z.CoreSQLUtils.dropView(oe,_e)}catch(vt){b.warn("Failed to drop view: "+_e+", table: "+Le,vt)}}var He=A.SQLiteMaster.query(oe,[T.SQLiteMasterColumn.NAME,T.SQLiteMasterColumn.TYPE,T.SQLiteMasterColumn.SQL],[U.SQLiteMasterType.INDEX,U.SQLiteMasterType.TRIGGER],q.SQLiteMasterQuery.createForColumnValue(T.SQLiteMasterColumn.TBL_NAME,Le)),tt=void 0;for(Ge?tt=fe.toTable:(tt=z.CoreSQLUtils.tempTableName(oe,"new",Le),fe.toTable=tt),ue=ue.replace('"'+Le+'"','"'+tt+'"'),oe.run(ue),fe.isTransferContent()&&z.CoreSQLUtils.transferTableContentForTableMapping(oe,fe),Ge||(z.CoreSQLUtils.dropTable(oe,Le),te.renameTable(oe,tt,Le),fe.toTable=Le),Be=0;Be<He.count();Be++){var Ke=!Ge;if(Ke||(Ke=He.getType(Be)!=U.SQLiteMasterType.TRIGGER||!He.getName(Be).startsWith(K.RTreeIndexDao.PREFIX)),Ke){var Ze=He.getSql(Be);if(Ze!=null&&(Ze=z.CoreSQLUtils.modifySQL(oe,He.getName(Be),Ze,fe))!=null)try{oe.run(Ze)}catch(vt){b.warn("Failed to recreate "+He.getType(Be)+" after table alteration. table: "+fe.toTable+", sql: "+Ze,vt)}}}for(Be=0;Be<je.count();Be++){var Qe=je.getSql(Be);if(Qe!=null&&(Qe=z.CoreSQLUtils.modifySQL(oe,je.getName(Be),Qe,fe))!=null)try{oe.run(Qe)}catch(vt){b.warn("Failed to recreate view: "+je.getName(Be)+", table: "+fe.toTable+", sql: "+Qe,vt)}}ze&&te.foreignKeyCheck(oe)}catch{}})),ze&&z.CoreSQLUtils.setForeignKeys(oe,!0)},te.foreignKeyCheck=function(oe){var ue=z.CoreSQLUtils.foreignKeyCheck(oe);if(ue.length>0){for(var fe=[],Le=0;Le<ue.length;Le++){Le>0&&(fe=fe.concat(" ")),fe=fe.concat(Le+1).concat(": ");for(var Ge=ue[Le],ze=0;ze<Ge.length;ze++)ze>0&&(fe=fe.concat(", ")),fe=fe.concat(Ge.get(ze))}throw new Error("Foreign Key Check Violations: "+fe)}},te})();x.AlterTable=J},5042:(y,x,r)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.CoreSQLUtils=void 0;var b=r(5329),M=r(2431),z=r(5045),B=r(7043),R=r(1078),I=r(175),O=(function(){function A(){}return A.createTableSQL=function(T){var U="";U=U.concat("CREATE TABLE ").concat(b.StringUtils.quoteWrap(T.getTableName())).concat(" (");for(var q=T.getUserColumns().getColumns(),K=0;K<q.length;K++){var J=q[K];K>0&&(U=U.concat(",")),U=(U=U.concat(`
  `)).concat(A.columnSQL(J))}return T.getConstraints().all().forEach((function(te){U=(U=U.concat(`,
  `)).concat(te.buildSql())})),U=U.concat(`
);`)},A.columnSQL=function(T){return b.StringUtils.quoteWrap(T.getName())+" "+A.columnDefinition(T)},A.columnDefinition=function(T){var U="";return U=U.concat(T.getType()),T.hasMax()&&(U=U.concat("(").concat(T.getMax().toString()).concat(")")),T.getConstraints().all().forEach((function(q){U=(U=U.concat(" ")).concat(T.buildConstraintSql(q))})),U.toString()},A.foreignKeys=function(T){var U=T.get("PRAGMA foreign_keys",null)[0];return U!=null&&U},A.setForeignKeys=function(T,U){var q=A.foreignKeys(T);if(q!==U){var K=A.foreignKeysSQL(U);T.run(K)}return q},A.foreignKeysSQL=function(T){return"PRAGMA foreign_keys = "+T},A.foreignKeyCheck=function(T){var U=A.foreignKeyCheckSQL(null);return T.all(U,null)},A.foreignKeyCheckForTable=function(T,U){var q=A.foreignKeyCheckSQL(U);return T.all(q,null)},A.foreignKeyCheckSQL=function(T){return"PRAGMA foreign_key_check"+(T!=null?"("+b.StringUtils.quoteWrap(T)+")":"")},A.integrityCheckSQL=function(){return"PRAGMA integrity_check"},A.quickCheckSQL=function(){return"PRAGMA quick_check"},A.dropTable=function(T,U){var q=A.dropTableSQL(U);T.run(q)},A.dropTableSQL=function(T){return"DROP TABLE IF EXISTS "+b.StringUtils.quoteWrap(T)},A.dropView=function(T,U){var q=A.dropViewSQL(U);T.run(q)},A.dropViewSQL=function(T){return"DROP VIEW IF EXISTS "+b.StringUtils.quoteWrap(T)},A.transferTableContentForTableMapping=function(T,U){var q=A.transferTableContentSQL(U);T.run(q)},A.transferTableContentSQL=function(T){var U="INSERT INTO ";U=(U=U.concat(b.StringUtils.quoteWrap(T.toTable))).concat(" (");var q="",K="";T.hasWhere()&&(K=K.concat(T.where));var J=T.getColumns();return T.getColumnNames().forEach((function(te){var oe=te,ue=J[te];q.length>0&&(U=U.concat(", "),q=q.concat(", ")),U=U.concat(b.StringUtils.quoteWrap(oe)),ue.hasConstantValue()?q=q.concat(ue.getConstantValueAsString()):(ue.hasDefaultValue()&&(q=q.concat("ifnull(")),q=q.concat(b.StringUtils.quoteWrap(ue.fromColumn)),ue.hasDefaultValue()&&(q=(q=(q=q.concat(",")).concat(ue.getDefaultValueAsString())).concat(")"))),ue.hasWhereValue()&&(K.length>0&&(K=K.concat(" AND ")),K=(K=(K=(K=(K=K.concat(b.StringUtils.quoteWrap(ue.fromColumn))).concat(" ")).concat(ue.whereOperator)).concat(" ")).concat(ue.getWhereValueAsString()))})),U=(U=(U=(U=U.concat(") SELECT ")).concat(q)).concat(" FROM ")).concat(b.StringUtils.quoteWrap(T.fromTable)),K.length>0&&(U=(U=U.concat(" WHERE ")).concat(K)),U.toString()},A.transferTableContent=function(T,U,q,K,J,te){var oe=z.TableInfo.info(T,U),ue=M.TableMapping.fromTableInfo(oe);te!=null&&ue.removeColumn(te);var fe=ue.getColumn(q);fe.constantValue=K,fe.whereValue=J,A.transferTableContentForTableMapping(T,ue)},A.tempTableName=function(T,U,q){for(var K=U+"_"+q,J=0;T.tableExists(K);)K=U+ ++J+"_"+q;return K},A.modifySQL=function(T,U,q,K){var J=q;if(U!=null&&K.isNewTable()){var te=A.createName(T,U,K.fromTable,K.toTable),oe=A.replaceName(J,U,te);oe!=null&&(J=oe);var ue=A.replaceName(J,K.fromTable,K.toTable);ue!=null&&(J=ue)}return A.modifySQLWithTableMapping(J,K)},A.modifySQLWithTableMapping=function(T,U){for(var q=T,K=Array.from(U.droppedColumns),J=0;J<K.length;J++){var te=K[J];if(A.replaceName(q,te," ")!=null){q=null;break}}return q!=null&&U.getMappedColumns().forEach((function(oe){if(oe.hasNewName()){var ue=A.replaceName(q,oe.fromColumn,oe.toColumn);ue!=null&&(q=ue)}})),q},A.replaceName=function(T,U,q){var K=null;if(T.indexOf(U)>=0){for(var J=!1,te="",oe=T.split(U),ue=0;ue<=oe.length;ue++){if(ue>0){var fe="_",Le=oe[ue-1];Le.length===0?ue==1&&(fe=" "):fe=Le.substring(Le.length-1);var Ge="_";if(ue<oe.length){var ze=oe[ue];ze.length!==0&&(Ge=ze.substring(0,1))}else{if(!T.endsWith(U))break;Ge=" "}fe.match("\\W").length>0&&Ge.match("\\W").length>0?(te=te.concat(q),J=!0):te=te.concat(U)}ue<oe.length&&(te=te.concat(oe[ue]))}J&&(K=te.toString())}return K},A.createName=function(T,U,q,K){var J=U.replace(new RegExp(q),K);if(J===U){var te=J,oe=1,ue=te.lastIndexOf("_");if(ue>=0&&ue+1<te.length){var fe=te.substring(ue+1);fe.match(A.NUMBER_PATTERN).length>0&&(te=te.substring(0,ue),oe=parseInt(fe))}if(J=te+"_"+ ++oe,T!=null)for(;B.SQLiteMaster.count(T,null,R.SQLiteMasterQuery.createForColumnValue(I.SQLiteMasterColumn.NAME,J))>0;)J=te+"_"+ ++oe}return J},A.vacuum=function(T){T.run("VACUUM")},A.NUMBER_PATTERN="\\d+",A})();x.CoreSQLUtils=O},4777:(y,x)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.Db=void 0;var r=(function(){function b(){}return b.registerDbAdapter=function(M){b.adapterCreator=M},b.create=function(M){return new b.adapterCreator(M)},b.adapterCreator=void 0,b})();x.Db=r},5116:function(y,x,r){var b=r(5108),M=r(3085).lW,z=this&&this.__awaiter||function(A,T,U,q){return new(U||(U=Promise))((function(K,J){function te(fe){try{ue(q.next(fe))}catch(Le){J(Le)}}function oe(fe){try{ue(q.throw(fe))}catch(Le){J(Le)}}function ue(fe){var Le;fe.done?K(fe.value):(Le=fe.value,Le instanceof U?Le:new U((function(Ge){Ge(Le)}))).then(te,oe)}ue((q=q.apply(A,T||[])).next())}))},B=this&&this.__generator||function(A,T){var U,q,K,J,te={label:0,sent:function(){if(1&K[0])throw K[1];return K[1]},trys:[],ops:[]};return J={next:oe(0),throw:oe(1),return:oe(2)},typeof Symbol=="function"&&(J[Symbol.iterator]=function(){return this}),J;function oe(ue){return function(fe){return(function(Le){if(U)throw new TypeError("Generator is already executing.");for(;J&&(J=0,Le[0]&&(te=0)),te;)try{if(U=1,q&&(K=2&Le[0]?q.return:Le[0]?q.throw||((K=q.return)&&K.call(q),0):q.next)&&!(K=K.call(q,Le[1])).done)return K;switch(q=0,K&&(Le=[2&Le[0],K.value]),Le[0]){case 0:case 1:K=Le;break;case 4:return te.label++,{value:Le[1],done:!1};case 5:te.label++,q=Le[1],Le=[0];continue;case 7:Le=te.ops.pop(),te.trys.pop();continue;default:if(!((K=(K=te.trys).length>0&&K[K.length-1])||Le[0]!==6&&Le[0]!==2)){te=0;continue}if(Le[0]===3&&(!K||Le[1]>K[0]&&Le[1]<K[3])){te.label=Le[1];break}if(Le[0]===6&&te.label<K[1]){te.label=K[1],K=Le;break}if(K&&te.label<K[2]){te.label=K[2],te.ops.push(Le);break}K[2]&&te.ops.pop(),te.trys.pop();continue}Le=T.call(A,te)}catch(Ge){Le=[6,Ge],q=0}finally{U=K=0}if(5&Le[0])throw Le[1];return{value:Le[0]?Le[1]:void 0,done:!0}})([ue,fe])}}};Object.defineProperty(x,"__esModule",{value:!0}),x.GeoPackageConnection=void 0;var R=r(4777),I=r(1506),O=(function(){function A(T){this.filePath=T,this.registeredFunctions=[]}return A.prototype.init=function(){return z(this,void 0,void 0,(function(){var T;return B(this,(function(U){switch(U.label){case 0:return U.trys.push([0,2,,3]),this.adapter=R.Db.create(this.filePath),[4,this.adapter.initialize()];case 1:return U.sent(),[3,3];case 2:throw T=U.sent(),b.log("Failed to create adapter",T),T;case 3:return[2,this]}}))}))},A.prototype.transaction=function(T){this.adapter.transaction(T)},A.prototype.close=function(){this.adapter.close()},A.prototype.export=function(){return z(this,void 0,void 0,(function(){return B(this,(function(T){return[2,this.adapter.export()]}))}))},A.prototype.getDBConnection=function(){return this.adapter.db},A.prototype.setDBConnection=function(T){this.adapter=R.Db.create(),this.adapter.db=T},A.prototype.registerFunction=function(T,U){return this.registeredFunctions.indexOf(T)===-1&&(this.registeredFunctions.push(T),this.adapter.registerFunction(T,U)),this.adapter},A.prototype.get=function(T,U){return this.adapter.get(T,U)},A.prototype.isTableExists=function(T){return this.adapter.isTableExists(T)},A.prototype.run=function(T,U){return this.adapter.run(T,U)},A.prototype.all=function(T,U){return this.adapter.all(T,U)},A.prototype.each=function(T,U){return this.adapter.each(T,U)},A.prototype.minOfColumn=function(T,U,q,K){var J="select min("+U+") as min from "+T;return q&&(J+=" ",q.indexOf("where")&&(q="where "+q),J+=q),this.adapter.get(J,K).min},A.prototype.maxOfColumn=function(T,U,q,K){var J="select max("+U+") as max from "+T;return q&&(J+=" ",q.indexOf("where")&&(q="where "+q),J+=q),this.adapter.get(J,K).max},A.prototype.count=function(T,U,q){return this.adapter.count(T,U,q)},A.prototype.insert=function(T,U){return this.adapter.insert(T,U)},A.prototype.delete=function(T,U,q){var K="DELETE FROM "+T;return U&&(K+=" WHERE "+U),this.adapter.delete(K,q)},A.prototype.dropTable=function(T){return this.adapter.dropTable(T)},A.prototype.tableExists=function(T){return this.adapter.isTableExists(T)},A.prototype.columnAndTableExists=function(T,U){for(var q=this.adapter.all("PRAGMA table_info('"+T+"')"),K=0;K<q.length;K++)if(q[K].name===U)return!0;return!1},A.prototype.setApplicationId=function(){var T=M.from(I.GeoPackageConstants.APPLICATION_ID).readUInt32BE(0);this.adapter.run("PRAGMA application_id = "+T),this.adapter.run("PRAGMA user_version = "+I.GeoPackageConstants.USER_VERSION)},A.prototype.getApplicationId=function(){return this.adapter.get("PRAGMA application_id").application_id},A.connect=function(T){return new A(T).init()},A.connectWithDatabase=function(T){return z(this,void 0,void 0,(function(){var U;return B(this,(function(q){switch(q.label){case 0:return[4,new A(void 0).init()];case 1:return(U=q.sent()).setDBConnection(T),[2,U]}}))}))},A})();x.GeoPackageConnection=O},7319:(y,x)=>{var r;Object.defineProperty(x,"__esModule",{value:!0}),x.GeoPackageDataType=void 0,(r=x.GeoPackageDataType||(x.GeoPackageDataType={}))[r.BOOLEAN=0]="BOOLEAN",r[r.TINYINT=1]="TINYINT",r[r.SMALLINT=2]="SMALLINT",r[r.MEDIUMINT=3]="MEDIUMINT",r[r.INT=4]="INT",r[r.INTEGER=5]="INTEGER",r[r.FLOAT=6]="FLOAT",r[r.DOUBLE=7]="DOUBLE",r[r.REAL=8]="REAL",r[r.TEXT=9]="TEXT",r[r.BLOB=10]="BLOB",r[r.DATE=11]="DATE",r[r.DATETIME=12]="DATETIME",(function(b){b.nameFromType=function(M){return b[M]},b.fromName=function(M){return b[M]},b.columnDefaultValue=function(M,z){var B=null;if(M!=null){if(z!=null)switch(z){case b.BOOLEAN:var R=null;if(typeof M=="boolean")R=M;else if(typeof M=="string")switch(M){case"0":case"false":R=!1;break;case"1":case"true":R=!0}R!=null&&(B=R?"1":"0");break;case b.TEXT:(B=M.toString()).startsWith("'")&&B.endsWith("'")||(B="'"+B+"'")}B==null&&(B=M.toString())}return B}})(x.GeoPackageDataType||(x.GeoPackageDataType={}))},1790:function(y,x,r){var b=this&&this.__importDefault||function(I){return I&&I.__esModule?I:{default:I}};Object.defineProperty(x,"__esModule",{value:!0}),x.MappedColumn=void 0;var M=r(7319),z=b(r(4293)),B=b(r(8446)),R=(function(){function I(O,A,T,U){this._toColumn=O,this._fromColumn=A,this._defaultValue=T,this._dataType=U}return Object.defineProperty(I.prototype,"toColumn",{get:function(){return this._toColumn},set:function(O){this._toColumn=O},enumerable:!1,configurable:!0}),I.prototype.hasNewName=function(){return!(0,z.default)(this._fromColumn)&&!(0,B.default)(this._fromColumn,this._toColumn)},Object.defineProperty(I.prototype,"fromColumn",{get:function(){return this._fromColumn},set:function(O){this._fromColumn=O},enumerable:!1,configurable:!0}),I.prototype.hasDefaultValue=function(){return!(0,z.default)(this._defaultValue)},Object.defineProperty(I.prototype,"defaultValue",{get:function(){return this._defaultValue},set:function(O){this._defaultValue=O},enumerable:!1,configurable:!0}),I.prototype.getDefaultValueAsString=function(){return M.GeoPackageDataType.columnDefaultValue(this._defaultValue,this._dataType)},Object.defineProperty(I.prototype,"dataType",{get:function(){return this._dataType},set:function(O){this._dataType=O},enumerable:!1,configurable:!0}),I.prototype.hasConstantValue=function(){return!(0,z.default)(this._constantValue)},Object.defineProperty(I.prototype,"constantValue",{get:function(){return this._constantValue},set:function(O){this._constantValue=O},enumerable:!1,configurable:!0}),I.prototype.getConstantValueAsString=function(){return M.GeoPackageDataType.columnDefaultValue(this._constantValue,this._dataType)},I.prototype.hasWhereValue=function(){return!(0,z.default)(this._whereValue)},Object.defineProperty(I.prototype,"whereValue",{get:function(){return this._whereValue},set:function(O){this._whereValue=O},enumerable:!1,configurable:!0}),I.prototype.getWhereValueAsString=function(){return M.GeoPackageDataType.columnDefaultValue(this._whereValue,this._dataType)},I.prototype.setWhereValueAndOperator=function(O,A){this._whereValue=O,this.whereOperator=A},Object.defineProperty(I.prototype,"whereOperator",{get:function(){return(0,z.default)(this._whereOperator)?"=":this._whereOperator},set:function(O){this._whereOperator=O},enumerable:!1,configurable:!0}),I})();x.MappedColumn=R},7043:function(y,x,r){var b=this&&this.__read||function(T,U){var q=typeof Symbol=="function"&&T[Symbol.iterator];if(!q)return T;var K,J,te=q.call(T),oe=[];try{for(;(U===void 0||U-- >0)&&!(K=te.next()).done;)oe.push(K.value)}catch(ue){J={error:ue}}finally{try{K&&!K.done&&(q=te.return)&&q.call(te)}finally{if(J)throw J.error}}return oe},M=this&&this.__spreadArray||function(T,U,q){if(q||arguments.length===2)for(var K,J=0,te=U.length;J<te;J++)!K&&J in U||(K||(K=Array.prototype.slice.call(U,0,J)),K[J]=U[J]);return T.concat(K||Array.prototype.slice.call(U))};Object.defineProperty(x,"__esModule",{value:!0}),x.SQLiteMaster=void 0;var z=r(175),B=r(8934),R=r(4980),I=r(1133),O=r(1078),A=(function(){function T(U,q){if(this._columns={},q!=null&&q.length>0){this._results=U,this._count=U.length;for(var K=0;K<q.length;K++)this._columns[z.SQLiteMasterColumn.nameFromType(q[K])]=K}else this._results=[],this._count=U[0].cnt}return T.prototype.count=function(){return this._count},T.prototype.columns=function(){return Object.keys(this._columns).map((function(U){return z.SQLiteMasterColumn.fromName(U)}))},T.prototype.getType=function(U){return B.SQLiteMasterType.fromName(this.getTypeString(U).toUpperCase())},T.prototype.getTypeString=function(U){return this.getValueForRowAndColumn(U,z.SQLiteMasterColumn.TYPE)},T.prototype.getName=function(U){return this.getValueForRowAndColumn(U,z.SQLiteMasterColumn.NAME)},T.prototype.getTableName=function(U){return this.getValueForRowAndColumn(U,z.SQLiteMasterColumn.TBL_NAME)},T.prototype.getRootpage=function(U){return this.getValueForRowAndColumn(U,z.SQLiteMasterColumn.ROOTPAGE)},T.prototype.getSql=function(U){return this.getValueForRowAndColumn(U,z.SQLiteMasterColumn.SQL)},T.prototype.getValueForRowAndColumn=function(U,q){return T.getValue(this.getRow(U),q)},T.prototype.getRow=function(U){if(U<0||U>=this._results.length){var q;throw q=this._results.length===0?"Results are empty":"Row index: "+U+", not within range 0 to "+(this._results.length-1),new Error(q)}return this._results[U]},T.getValue=function(U,q){return U[z.SQLiteMasterColumn.nameFromType(q).toLowerCase()]},T.prototype.getConstraints=function(U){var q=new R.TableConstraints;if(this.getType(U)===B.SQLiteMasterType.TABLE){var K=this.getSql(U);K!=null&&(q=I.ConstraintParser.getConstraints(K))}return q},T.count=function(U,q,K){return T.query(U,null,q,K).count()},T.query=function(U,q,K,J){var te="SELECT ",oe=[];if(q!=null&&q.length>0)for(var ue=0;ue<q.length;ue++)ue>0&&(te=te.concat(", ")),te=te.concat(z.SQLiteMasterColumn.nameFromType(q[ue]).toLowerCase());else te=te.concat("count(*) as cnt");te=(te=te.concat(" FROM ")).concat(T.TABLE_NAME);var fe=J!=null&&J.has(),Le=K!=null&&K.length>0;if((fe||Le)&&(te=te.concat(" WHERE "),fe&&(te=te.concat(J.buildSQL()),oe.push.apply(oe,M([],b(J.getArguments()),!1))),Le)){for(fe&&(te=te.concat(" AND")),te=te.concat(" type IN ("),ue=0;ue<K.length;ue++)ue>0&&(te=te.concat(", ")),te=te.concat("?"),oe.push(B.SQLiteMasterType.nameFromType(K[ue]).toLowerCase());te=te.concat(")")}return new T(U.all(te,oe),q)},T.queryViewsOnTable=function(U,q,K){return T.query(U,q,[B.SQLiteMasterType.VIEW],O.SQLiteMasterQuery.createTableViewQuery(K))},T.countViewsOnTable=function(U,q){return T.count(U,[B.SQLiteMasterType.VIEW],O.SQLiteMasterQuery.createTableViewQuery(q))},T.queryForConstraints=function(U,q){for(var K=new R.TableConstraints,J=T.query(U,[z.SQLiteMasterColumn.TYPE,z.SQLiteMasterColumn.NAME,z.SQLiteMasterColumn.TBL_NAME,z.SQLiteMasterColumn.ROOTPAGE,z.SQLiteMasterColumn.SQL],[B.SQLiteMasterType.TABLE],O.SQLiteMasterQuery.createForColumnValue(z.SQLiteMasterColumn.TBL_NAME,q)),te=0;te<J.count();te++)K.addTableConstraints(J.getConstraints(te).constraints);return K},T.TABLE_NAME="sqlite_master",T})();x.SQLiteMaster=A},175:(y,x)=>{var r;Object.defineProperty(x,"__esModule",{value:!0}),x.SQLiteMasterColumn=void 0,(r=x.SQLiteMasterColumn||(x.SQLiteMasterColumn={}))[r.TYPE=0]="TYPE",r[r.NAME=1]="NAME",r[r.TBL_NAME=2]="TBL_NAME",r[r.ROOTPAGE=3]="ROOTPAGE",r[r.SQL=4]="SQL",(function(b){b.nameFromType=function(M){return b[M]},b.fromName=function(M){return b[M]},b.asArray=function(){return[b.TYPE,b.NAME,b.TBL_NAME,b.ROOTPAGE,b.SQL]}})(x.SQLiteMasterColumn||(x.SQLiteMasterColumn={}))},1078:(y,x,r)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.SQLiteMasterQuery=void 0;var b=r(175),M=r(5329),z=(function(){function B(R){this.queries=[],this.arguments=[],this.combineOperation=R}return B.prototype.add=function(R,I,O){this.validateAdd(),this.queries.push("LOWER("+M.StringUtils.quoteWrap(b.SQLiteMasterColumn.nameFromType(R).toLowerCase())+") "+I+" LOWER(?)"),this.arguments.push(O)},B.prototype.addIsNull=function(R){this.validateAdd(),this.queries.push(M.StringUtils.quoteWrap(b.SQLiteMasterColumn.nameFromType(R).toLowerCase())+" IS NULL")},B.prototype.addIsNotNull=function(R){this.validateAdd(),this.queries.push(M.StringUtils.quoteWrap(b.SQLiteMasterColumn.nameFromType(R).toLowerCase())+" IS NOT NULL")},B.prototype.validateAdd=function(){if((this.combineOperation===null||this.combineOperation===void 0)&&this.queries.length!==0)throw new Error("Query without a combination operation supports only a single query")},B.prototype.has=function(){return this.queries.length!==0},B.prototype.buildSQL=function(){var R="";this.queries.length>1&&(R=R.concat("( "));for(var I=0;I<this.queries.length;I++)I>0&&(R=(R=(R=R.concat(" ")).concat(this.combineOperation)).concat(" ")),R=R.concat(this.queries[I]);return this.queries.length>1&&(R=R.concat(" )")),R},B.prototype.getArguments=function(){return this.arguments},B.create=function(){return new B(null)},B.createOr=function(){return new B("OR")},B.createAnd=function(){return new B("AND")},B.createForColumnValue=function(R,I){var O=this.create();return O.add(R,"=",I),O},B.createForOperationAndColumnValue=function(R,I,O){var A=this.create();return A.add(R,I,O),A},B.createOrForColumnValue=function(R,I){var O=this.createOr();return I.forEach((function(A){O.add(R,"=",A)})),O},B.createOrForOperationAndColumnValue=function(R,I,O){var A=this.createOr();return O.forEach((function(T){A.add(R,I,T)})),A},B.createAndForColumnValue=function(R,I){var O=this.createAnd();return I.forEach((function(A){O.add(R,"=",A)})),O},B.createAndForOperationAndColumnValue=function(R,I,O){var A=this.createAnd();return O.forEach((function(T){A.add(R,I,T)})),A},B.createTableViewQuery=function(R){var I=[];return I.push('%"'+R+'"%'),I.push("% "+R+" %"),I.push("%,"+R+" %"),I.push("% "+R+",%"),I.push("%,"+R+",%"),I.push("% "+R),I.push("%,"+R),B.createOrForOperationAndColumnValue(b.SQLiteMasterColumn.SQL,"LIKE",I)},B})();x.SQLiteMasterQuery=z},8934:(y,x)=>{var r;Object.defineProperty(x,"__esModule",{value:!0}),x.SQLiteMasterType=void 0,(r=x.SQLiteMasterType||(x.SQLiteMasterType={}))[r.TABLE=0]="TABLE",r[r.INDEX=1]="INDEX",r[r.VIEW=2]="VIEW",r[r.TRIGGER=3]="TRIGGER",(function(b){b.nameFromType=function(M){return b[M]},b.fromName=function(M){return b[M]}})(x.SQLiteMasterType||(x.SQLiteMasterType={}))},922:function(y,x,r){var b=r(5108),M=this&&this.__awaiter||function(U,q,K,J){return new(K||(K=Promise))((function(te,oe){function ue(Ge){try{Le(J.next(Ge))}catch(ze){oe(ze)}}function fe(Ge){try{Le(J.throw(Ge))}catch(ze){oe(ze)}}function Le(Ge){var ze;Ge.done?te(Ge.value):(ze=Ge.value,ze instanceof K?ze:new K((function(je){je(ze)}))).then(ue,fe)}Le((J=J.apply(U,q||[])).next())}))},z=this&&this.__generator||function(U,q){var K,J,te,oe,ue={label:0,sent:function(){if(1&te[0])throw te[1];return te[1]},trys:[],ops:[]};return oe={next:fe(0),throw:fe(1),return:fe(2)},typeof Symbol=="function"&&(oe[Symbol.iterator]=function(){return this}),oe;function fe(Le){return function(Ge){return(function(ze){if(K)throw new TypeError("Generator is already executing.");for(;oe&&(oe=0,ze[0]&&(ue=0)),ue;)try{if(K=1,J&&(te=2&ze[0]?J.return:ze[0]?J.throw||((te=J.return)&&te.call(J),0):J.next)&&!(te=te.call(J,ze[1])).done)return te;switch(J=0,te&&(ze=[2&ze[0],te.value]),ze[0]){case 0:case 1:te=ze;break;case 4:return ue.label++,{value:ze[1],done:!1};case 5:ue.label++,J=ze[1],ze=[0];continue;case 7:ze=ue.ops.pop(),ue.trys.pop();continue;default:if(!((te=(te=ue.trys).length>0&&te[te.length-1])||ze[0]!==6&&ze[0]!==2)){ue=0;continue}if(ze[0]===3&&(!te||ze[1]>te[0]&&ze[1]<te[3])){ue.label=ze[1];break}if(ze[0]===6&&ue.label<te[1]){ue.label=te[1],te=ze;break}if(te&&ue.label<te[2]){ue.label=te[2],ue.ops.push(ze);break}te[2]&&ue.ops.pop(),ue.trys.pop();continue}ze=q.call(U,ue)}catch(je){ze=[6,je],J=0}finally{K=te=0}if(5&ze[0])throw ze[1];return{value:ze[0]?ze[1]:void 0,done:!0}})([Le,Ge])}}},B=this&&this.__importDefault||function(U){return U&&U.__esModule?U:{default:U}};Object.defineProperty(x,"__esModule",{value:!0}),x.SqliteAdapter=void 0;var R=B(r(1929)),I=B(r(3935)),O=B(r(8501)),A=B(r(7435)),T=(function(){function U(q){this.filePath=q}return U.prototype.initialize=function(){return M(this,void 0,void 0,(function(){var q,K,J,te,oe=this;return z(this,(function(ue){try{return q=r(1498),this.filePath&&typeof this.filePath=="string"?this.filePath.indexOf("http")===0?(K=this.filePath,[2,new Promise((function(fe,Le){O.default.get(K,(function(Ge){Ge.statusCode!==200&&Le(new Error("Unable to reach url: "+oe.filePath));var ze=I.default.join(A.default.tmpdir(),Date.now()+Math.floor(100*Math.random())+".gpkg"),je=R.default.createWriteStream(ze);Ge.pipe(je),je.on("close",(function(){try{oe.db=new q(ze),oe.db.pragma("journal_mode = WAL"),oe.filePath=ze,fe(oe)}catch(Be){b.log("error",Be),Le(Be)}}))})).on("error",(function(Ge){Le(Ge)}))}))]):(this.db=new q(this.filePath),[2,this]):this.filePath?(J=this.filePath,te=I.default.join(A.default.tmpdir(),Date.now()+".gpkg"),[2,new Promise((function(fe,Le){R.default.writeFile(te,J,(function(){oe.db=new q(te);try{oe.db.pragma("journal_mode = WAL")}catch(Ge){b.log("error",Ge),Le(Ge)}oe.filePath=te,fe(oe)}))}))]):(b.log("create in memory"),this.db=new q(":memory:"),[2,this])}catch(fe){throw b.log("Error opening database",fe),fe}return[2]}))}))},U.prototype.close=function(){this.db.pragma("wal_autocheckpoint=0"),this.db.pragma("wal_checkpoint(RESTART)"),this.db.close()},U.prototype.getDBConnection=function(){return this.db},U.prototype.getFunctionList=function(){return this.db.pragma("function_list")},U.prototype.export=function(){return M(this,void 0,void 0,(function(){var q=this;return z(this,(function(K){return[2,new Promise((function(J){return R.default.readFile(q.filePath,(function(te,oe){J(oe)}))}))]}))}))},U.prototype.registerFunction=function(q,K){return this.db.function(q,K),this},U.prototype.get=function(q,K){var J=this.db.prepare(q);return K?J.get(K):J.get()},U.prototype.isTableExists=function(q){return!!this.db.prepare("SELECT name FROM sqlite_master WHERE type='table' AND name=:name").get({name:q})},U.prototype.all=function(q,K){var J=this.db.prepare(q);return K?J.all(K):J.all()},U.prototype.each=function(q,K){var J=this.db.prepare(q);return K?J.iterate(K):J.iterate()},U.prototype.run=function(q,K){var J=this.db.prepare(q);return K?J.run(K):J.run()},U.prototype.insert=function(q,K){return this.db.prepare(q).run(K).lastInsertRowid},U.prototype.prepareStatement=function(q){return this.db.prepare(q)},U.prototype.bindAndInsert=function(q,K){return q.run(K).lastInsertRowid},U.prototype.closeStatement=function(q){},U.prototype.delete=function(q,K){return this.db.prepare(q).run(K).changes},U.prototype.dropTable=function(q){try{var K=this.db.prepare('DROP TABLE IF EXISTS "'+q+'"').run();return this.db.prepare("VACUUM").run(),K.changes===0}catch(J){return b.log("Drop Table Error",J),!1}},U.prototype.count=function(q,K,J){var te='SELECT COUNT(*) as count FROM "'+q+'"';K&&(te+=" where "+K);var oe=this.db.prepare(te);return J?oe.get(J).count:oe.get().count},U.prototype.transaction=function(q){this.db.transaction(q)()},U})();x.SqliteAdapter=T},8877:(y,x)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.SqliteQueryBuilder=void 0;var r=(function(){function b(){}return b.fixColumnName=function(M){return M.replace(/\W+/g,"_")},b.buildQuery=function(M,z,B,R,I,O,A,T,U,q){var K="";if(b.isEmpty(O)&&!b.isEmpty(A))throw new Error("Illegal Arguments: having clauses require a groupBy clause");return K+="select ",M&&(K+="distinct "),B&&B.length?K=b.appendColumnsToString(B,K):K+="* ",K+="from "+z,I&&(K+=" "+I),K=b.appendClauseToString(K," where ",R),K=b.appendClauseToString(K," group by ",O),K=b.appendClauseToString(K," having ",A),K=b.appendClauseToString(K," order by ",T),K=b.appendClauseToString(K," limit ",U),b.appendClauseToString(K," offset ",q)},b.buildCount=function(M,z){var B="select count(*) as count from "+M;return b.appendClauseToString(B," where ",z)},b.buildInsert=function(M,z){if(z.columnNames)return b.buildInsertFromColumnNames(M,z);var B="insert into "+M+" (",R="",I="",O=!0;for(var A in z)Object.prototype.hasOwnProperty.call(z,A)&&z[A]!==void 0&&(O||(R+=",",I+=","),O=!1,R+=A,I+="$"+b.fixColumnName(A));return B+(R+") values (")+I+")"},b.buildInsertFromColumnNames=function(M,z){for(var B="insert into "+M+" (",R="",I="",O=!0,A=z.columnNames,T=0;T<A.length;T++){var U=A[T];O||(R+=",",I+=","),O=!1,R+='"'+U+'"',I+="$"+b.fixColumnName(U)}return B+(R+") values (")+I+")"},b.buildUpdateOrInsertObject=function(M){var z={};if(M.columnNames)for(var B=M.columnNames,R=0;R<B.length;R++)z[b.fixColumnName(B[R])]=M.toDatabaseValue(B[R]);else for(var I in M)Object.prototype.hasOwnProperty.call(M,I)&&M[I]!==void 0&&(M.toDatabaseValue?z[b.fixColumnName(I)]=M.toDatabaseValue(I):typeof M[I]=="boolean"?z[b.fixColumnName(I)]=M[I]?1:0:M[I]instanceof Date?z[b.fixColumnName(I)]=new Date(M[I]).toISOString():z[b.fixColumnName(I)]=M[I]);return z},b.buildUpdate=function(M,z,B,R){var I=[],O="update "+M+" set ",A=!0;for(var T in z)A||(O+=", "),A=!1,O+='"'+T+'"',I.push(z[T]),O+="=?";if(R)if(R instanceof Array)for(var U=0;U<R.length;U++)I.push(R[U]);else I.push(R);return B&&(O+=" where ",O+=B),{sql:O,args:I}},b.buildObjectUpdate=function(M,z){var B="update "+M+" set ",R=!0;if(z.columnNames)for(var I=z.columnNames,O=0;O<I.length;O++){var A=I[O];R||(B+=", "),R=!1,B+='"'+A+'"=',B+="$"+b.fixColumnName(A)}else for(var T in z)Object.prototype.hasOwnProperty.call(z,T)&&(R||(B+=", "),R=!1,B+='"'+T+'"=',B+="$"+b.fixColumnName(T));return B},b.appendClauseToString=function(M,z,B){return B&&(M+=z+B),M},b.appendColumnsToString=function(M,z){if(!M||!M.length)return z;z+=b.columnToAppend(M[0]);for(var B=1;B<M.length;B++)z+=", "+b.columnToAppend(M[B]);return z+" "},b.columnToAppend=function(M){return M.indexOf("*")!==-1?M:'"'+M+'"'},b.isEmpty=function(M){return!M||M.length===0},b})();x.SqliteQueryBuilder=r},6328:function(y,x,r){var b=r(4155),M=r(3085).lW,z=this&&this.__awaiter||function(T,U,q,K){return new(q||(q=Promise))((function(J,te){function oe(Le){try{fe(K.next(Le))}catch(Ge){te(Ge)}}function ue(Le){try{fe(K.throw(Le))}catch(Ge){te(Ge)}}function fe(Le){var Ge;Le.done?J(Le.value):(Ge=Le.value,Ge instanceof q?Ge:new q((function(ze){ze(Ge)}))).then(oe,ue)}fe((K=K.apply(T,U||[])).next())}))},B=this&&this.__generator||function(T,U){var q,K,J,te,oe={label:0,sent:function(){if(1&J[0])throw J[1];return J[1]},trys:[],ops:[]};return te={next:ue(0),throw:ue(1),return:ue(2)},typeof Symbol=="function"&&(te[Symbol.iterator]=function(){return this}),te;function ue(fe){return function(Le){return(function(Ge){if(q)throw new TypeError("Generator is already executing.");for(;te&&(te=0,Ge[0]&&(oe=0)),oe;)try{if(q=1,K&&(J=2&Ge[0]?K.return:Ge[0]?K.throw||((J=K.return)&&J.call(K),0):K.next)&&!(J=J.call(K,Ge[1])).done)return J;switch(K=0,J&&(Ge=[2&Ge[0],J.value]),Ge[0]){case 0:case 1:J=Ge;break;case 4:return oe.label++,{value:Ge[1],done:!1};case 5:oe.label++,K=Ge[1],Ge=[0];continue;case 7:Ge=oe.ops.pop(),oe.trys.pop();continue;default:if(!((J=(J=oe.trys).length>0&&J[J.length-1])||Ge[0]!==6&&Ge[0]!==2)){oe=0;continue}if(Ge[0]===3&&(!J||Ge[1]>J[0]&&Ge[1]<J[3])){oe.label=Ge[1];break}if(Ge[0]===6&&oe.label<J[1]){oe.label=J[1],J=Ge;break}if(J&&oe.label<J[2]){oe.label=J[2],oe.ops.push(Ge);break}J[2]&&oe.ops.pop(),oe.trys.pop();continue}Ge=U.call(T,oe)}catch(ze){Ge=[6,ze],K=0}finally{q=J=0}if(5&Ge[0])throw Ge[1];return{value:Ge[0]?Ge[1]:void 0,done:!0}})([fe,Le])}}},R=this&&this.__values||function(T){var U=typeof Symbol=="function"&&Symbol.iterator,q=U&&T[U],K=0;if(q)return q.call(T);if(T&&typeof T.length=="number")return{next:function(){return T&&K>=T.length&&(T=void 0),{value:T&&T[K++],done:!T}}};throw new TypeError(U?"Object is not iterable.":"Symbol.iterator is not defined.")},I=this&&this.__importDefault||function(T){return T&&T.__esModule?T:{default:T}};Object.defineProperty(x,"__esModule",{value:!0}),x.SqljsAdapter=void 0;var O=I(r(3686)),A=(function(){function T(U){this.filePath=U}return T.setSqljsWasmLocateFile=function(U){T.sqljsWasmLocateFile=U},T.prototype.initialize=function(){var U=this;return new Promise((function(q,K){new Promise((function(J){T.SQL==null?(0,O.default)({locateFile:T.sqljsWasmLocateFile}).then((function(te){T.SQL=te,J(te)})).catch((function(te){K(te)})):J(T.SQL)})).then((function(J){if(!U.filePath||typeof U.filePath!="string"){if(U.filePath){var te=U.filePath;return U.db=new J.Database(te),q(U)}return U.db=new J.Database,q(U)}if(b!==void 0&&b.version){var oe=r(1929);if(U.filePath.indexOf("http")!==0){try{oe.statSync(U.filePath)}catch{return U.db=new J.Database,q(U)}var ue=oe.readFileSync(U.filePath),fe=new Uint8Array(ue);return U.db=new J.Database(fe),q(U)}r(8501).get(U.filePath,(function(Ge){if(Ge.statusCode!==200)return K(new Error("Unable to reach url: "+U.filePath));var ze=[];Ge.on("data",(function(je){return ze.push(je)})),Ge.on("end",(function(){var je=new Uint8Array(M.concat(ze));U.db=new J.Database(je),q(U)}))})).on("error",(function(Ge){return K(Ge)}))}else{var Le=new XMLHttpRequest;Le.open("GET",U.filePath,!0),Le.responseType="arraybuffer",Le.onload=function(){if(Le.status!==200)return K(new Error("Unable to reach url: "+U.filePath));var Ge=new Uint8Array(Le.response);return U.db=new J.Database(Ge),q(U)},Le.onerror=function(){return K(new Error("Error reaching url: "+U.filePath))},Le.send()}})).catch((function(J){K(J)}))}))},T.prototype.close=function(){this.db.close()},T.prototype.getDBConnection=function(){return this.db},T.prototype.export=function(){return z(this,void 0,void 0,(function(){return B(this,(function(U){return[2,this.db.export()]}))}))},T.prototype.registerFunction=function(U,q){return this.db.create_function(U,q),this},T.prototype.get=function(U,q){q=q||[];var K,J=this.db.prepare(U);return J.bind(q),J.step()&&(K=J.getAsObject()),J.free(),K},T.prototype.isTableExists=function(U){var q,K=this.db.prepare("SELECT name FROM sqlite_master WHERE type='table' AND name=:name");return K.bind([U]),K.step()&&(q=K.getAsObject()),K.free(),!!q},T.prototype.all=function(U,q){var K,J,te=[],oe=this.each(U,q);try{for(var ue=R(oe),fe=ue.next();!fe.done;fe=ue.next()){var Le=fe.value;te.push(Le)}}catch(Ge){K={error:Ge}}finally{try{fe&&!fe.done&&(J=ue.return)&&J.call(ue)}finally{if(K)throw K.error}}return te},T.prototype.each=function(U,q){var K,J=this.db.prepare(U);return J.bind(q),(K={})[Symbol.iterator]=function(){return this},K.next=function(){return J.step()?{value:J.getAsObject(),done:!1}:(J.free(),{value:void 0,done:!0})},K},T.prototype.run=function(U,q){if(q&&!(q instanceof Array))for(var K in q)q["$"+K]=q[K];this.db.run(U,q);var J,te=this.db.exec("select last_insert_rowid();");return te&&(J=te[0].values[0][0]),{lastInsertRowid:J,changes:this.db.getRowsModified()}},T.prototype.insert=function(U,q){if(q&&!(q instanceof Array))for(var K in q)q["$"+K]=q[K];var J=this.db.prepare(U,q);J.step(),J.free();var te=this.db.exec("select last_insert_rowid();");return te?te[0].values[0][0]:void 0},T.prototype.prepareStatement=function(U){return this.db.prepare(U)},T.prototype.bindAndInsert=function(U,q){if(q&&!(q instanceof Array))for(var K in q)q["$"+K]=q[K]===void 0?null:q[K];return U.run(q).lastInsertRowid},T.prototype.closeStatement=function(U){U.free()},T.prototype.delete=function(U,q){var K,J=this.db.prepare(U,q);return J.step(),K=this.db.getRowsModified(),J.free(),K},T.prototype.dropTable=function(U){var q=this.db.exec('DROP TABLE IF EXISTS "'+U+'"');return this.db.exec("VACUUM"),!!q},T.prototype.count=function(U,q,K){var J='SELECT COUNT(*) as count FROM "'+U+'"';return q&&(J+=" where "+q),this.get(J,K).count},T.prototype.transaction=function(U){this.db.exec("BEGIN TRANSACTION");try{U(),this.db.exec("COMMIT TRANSACTION")}catch(q){throw this.db.exec("ROLLBACK TRANSACTION"),q}},T.sqljsWasmLocateFile=function(U){return U},T})();x.SqljsAdapter=A},5329:(y,x)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.StringUtils=void 0;var r=(function(){function b(){}return b.quoteWrap=function(M){var z=null;return M!==null&&(z=M.startsWith('"')&&M.endsWith('"')?M:'"'+M+'"'),z},b.quoteUnwrap=function(M){var z=null;return M!=null&&(z=M.startsWith('"')&&M.endsWith('"')?M.substring(1,M.length-1):M),z},b})();x.StringUtils=r},3765:(y,x,r)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.ColumnConstraints=void 0;var b=r(7686),M=(function(){function z(B){this.name=B,this.constraints=new b.Constraints}return z.prototype.addConstraint=function(B){this.constraints.add(B)},z.prototype.addConstraints=function(B){this.constraints.addConstraints(B)},z.prototype.getConstraints=function(){return this.constraints},z.prototype.getConstraint=function(B){return B>=this.constraints.size()?null:this.constraints.get(B)},z.prototype.numConstraints=function(){return this.constraints.size()},z.prototype.addColumnConstraints=function(B){B!=null&&this.addConstraints(B.getConstraints())},z.prototype.hasConstraints=function(){return this.constraints.has()},z})();x.ColumnConstraints=M},8007:(y,x,r)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.Constraint=void 0;var b=r(5329),M=(function(){function z(B,R,I){I===void 0&&(I=Number.MAX_SAFE_INTEGER),this.type=B,this.name=R,this.order=I}return z.prototype.buildNameSql=function(){var B="";return this.name!==null&&this.name!==void 0&&(B=z.CONSTRAINT+" "+b.StringUtils.quoteWrap(this.name)+" "),B},z.prototype.buildSql=function(){return""},z.prototype.copy=function(){return new z(this.type,this.name)},z.prototype.getName=function(){return this.name},z.prototype.getType=function(){return this.type},z.prototype.compareTo=function(B){return this.getOrder(this.order)-this.getOrder(B.order)<=0?-1:1},z.prototype.getOrder=function(B){return B??Number.MAX_VALUE},z.CONSTRAINT="CONSTRAINT",z})();x.Constraint=M},1133:(y,x,r)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.ConstraintParser=void 0;var b=r(4980),M=r(3765),z=r(8007),B=r(91),R=r(2841),I=r(5329),O=(function(){function A(){}return A.getConstraints=function(T){var U=new b.TableConstraints,q=-1,K=-1;if(T!=null&&(q=T.indexOf("("),K=T.lastIndexOf(")")),q>=0&&K>=0){for(var J=T.substring(q+1,K).trim(),te=0,oe=0,ue=0;ue<J.length;ue++){var fe=J.charAt(ue);if(fe==="(")te++;else if(fe===")")te--;else if(fe===","&&te===0){var Le=J.substring(oe,ue);A.addConstraints(U,Le),oe=ue+1}}oe<J.length&&(Le=J.substring(oe,J.length),A.addConstraints(U,Le))}return U},A.addConstraints=function(T,U){var q=A.getTableConstraint(U);if(q!=null)T.addTableConstraint(q);else{var K=A.getColumnConstraints(U);K.hasConstraints()&&T.addColumnConstraints(K)}},A.getColumnConstraints=function(T){for(var U=T.trim().split(/\s+/),q=I.StringUtils.quoteUnwrap(U[0]),K=new M.ColumnConstraints(q),J=-1,te=null,oe=1;oe<U.length;oe++){var ue=U[oe];if(z.Constraint.CONSTRAINT===ue.toUpperCase())te!=null&&(K.addConstraint(A.createConstraint(U,J,oe,te)),te=null),J=oe;else{var fe=B.ConstraintType.getColumnType(ue);fe!=null&&(te!=null&&(K.addConstraint(A.createConstraint(U,J,oe,te)),J=-1),J<0&&(J=oe),te=fe)}}return te!=null&&K.addConstraint(A.createConstraint(U,J,U.length,te)),K},A.createConstraint=function(T,U,q,K){for(var J="",te=U;te<q;te++)J.length>0&&(J=J.concat(" ")),J=J.concat(T[te]);var oe=A.getName(J);return new R.RawConstraint(K,oe,J)},A.getConstraint=function(T,U){var q=null,K=A.getNameAndDefinition(T),J=K[1];if(J!=null){var te,oe=J.split(/\s+/)[0];(te=U?B.ConstraintType.getTableType(oe):B.ConstraintType.getColumnType(oe))!=null&&(q=new R.RawConstraint(te,K[0],T.trim()))}return q},A.getTableConstraint=function(T){return A.getConstraint(T,!0)},A.isTableConstraint=function(T){return A.getTableConstraint(T)!==null},A.getTableType=function(T){var U=null,q=A.getTableConstraint(T);return q!=null&&(U=q.type),U},A.isTableType=function(T,U){var q=!1,K=A.getTableType(U);return K!=null&&(q=T===K),q},A.getColumnConstraint=function(T){return A.getConstraint(T,!1)},A.isColumnConstraint=function(T){return A.getColumnConstraint(T)!=null},A.getColumnType=function(T){var U=null,q=A.getColumnConstraint(T);return q!=null&&(U=q.type),U},A.isColumnType=function(T,U){var q=!1,K=A.getColumnType(U);return K!=null&&(q=T==K),q},A.getTableOrColumnConstraint=function(T){var U=A.getTableConstraint(T);return U==null&&(U=A.getColumnConstraint(T)),U},A.isConstraint=function(T){return A.getTableOrColumnConstraint(T)!==null},A.getType=function(T){var U=null,q=A.getTableOrColumnConstraint(T);return q!=null&&(U=q.getType()),U},A.isType=function(T,U){var q=!1,K=A.getType(U);return K!=null&&(q=T===K),q},A.getName=function(T){var U=null,q=A.NAME_PATTERN(T);return q!==null&&q.length>A.NAME_PATTERN_NAME_GROUP&&(U=I.StringUtils.quoteUnwrap(q[A.NAME_PATTERN_NAME_GROUP])),U},A.getNameAndDefinition=function(T){var U=[null,T],q=A.CONSTRAINT_PATTERN(T.trim());if(q!==null&&q.length>A.CONSTRAINT_PATTERN_DEFINITION_GROUP){var K=I.StringUtils.quoteUnwrap(q[A.CONSTRAINT_PATTERN_NAME_GROUP]);K!=null&&(K=K.trim());var J=q[A.CONSTRAINT_PATTERN_DEFINITION_GROUP];J!=null&&(J=J.trim()),U=[K,J]}return U},A.NAME_PATTERN=function(T){return T.match(/CONSTRAINT\s+("[\s\S]+"|\S+)\s/i)},A.NAME_PATTERN_NAME_GROUP=1,A.CONSTRAINT_PATTERN=function(T){return T.match(/(CONSTRAINT\s+("[\s\S]+"|\S+)\s)?([\s\S]*)/i)},A.CONSTRAINT_PATTERN_NAME_GROUP=2,A.CONSTRAINT_PATTERN_DEFINITION_GROUP=3,A})();x.ConstraintParser=O},91:(y,x)=>{var r;Object.defineProperty(x,"__esModule",{value:!0}),x.ConstraintType=void 0,(r=x.ConstraintType||(x.ConstraintType={}))[r.PRIMARY_KEY=0]="PRIMARY_KEY",r[r.UNIQUE=1]="UNIQUE",r[r.CHECK=2]="CHECK",r[r.FOREIGN_KEY=3]="FOREIGN_KEY",r[r.NOT_NULL=4]="NOT_NULL",r[r.DEFAULT=5]="DEFAULT",r[r.COLLATE=6]="COLLATE",r[r.AUTOINCREMENT=7]="AUTOINCREMENT",(function(b){b.nameFromType=function(O){return b[O]},b.fromName=function(O){return b[O]},b.TABLE_CONSTRAINTS=new Set([b.PRIMARY_KEY,b.UNIQUE,b.CHECK,b.FOREIGN_KEY]),b.COLUMN_CONSTRAINTS=new Set([b.PRIMARY_KEY,b.NOT_NULL,b.UNIQUE,b.CHECK,b.DEFAULT,b.COLLATE,b.FOREIGN_KEY,b.AUTOINCREMENT]);var M=new Map;Array.from(b.TABLE_CONSTRAINTS).forEach((function(O){B(M,O)}));var z=new Map;function B(O,A){var T=b.nameFromType(A),U=T.split("_");O.set(U[0],A),U.length>0&&O.set(T.replace("_"," "),A)}function R(O){return M.get(O.toUpperCase())}function I(O){return z.get(O.toUpperCase())}Array.from(b.COLUMN_CONSTRAINTS).forEach((function(O){B(z,O)})),b.getTableType=R,b.getColumnType=I,b.getType=function(O){var A=R(O);return A==null&&(A=I(O)),A}})(x.ConstraintType||(x.ConstraintType={}))},7686:function(y,x,r){var b=this&&this.__importDefault||function(B){return B&&B.__esModule?B:{default:B}};Object.defineProperty(x,"__esModule",{value:!0}),x.Constraints=void 0;var M=b(r(1159)),z=(function(){function B(){this.constraints=[],this.typedConstraints={}}return B.prototype.add=function(R){var I=this.constraints.map((function(A){return A.order})).lastIndexOf(R.order),O=I+1;I===-1&&(O=(0,M.default)(this.constraints.map((function(A){return A.order})),R.order)),O===this.constraints.length?this.constraints.push(R):this.constraints.splice(O,0,R),this.typedConstraints[R.getType()]!==null&&this.typedConstraints[R.getType()]!==void 0||(this.typedConstraints[R.getType()]=[]),this.typedConstraints[R.getType()].push(R)},B.prototype.addConstraintArray=function(R){for(var I=0;I<R.length;I++)this.add(R[I])},B.prototype.addConstraints=function(R){this.addConstraintArray(R.all())},B.prototype.has=function(){return this.constraints.length>0},B.prototype.hasType=function(R){return this.getConstraintsForType(R).length!==0},B.prototype.all=function(){return this.constraints},B.prototype.get=function(R){return this.constraints[R]},B.prototype.getConstraintsForType=function(R){var I=this.typedConstraints[R];return I==null&&(I=[]),I},B.prototype.clear=function(){var R=this.constraints.slice();return this.constraints=[],this.typedConstraints={},R},B.prototype.clearConstraintsByType=function(R){var I=this.typedConstraints[R];return delete this.typedConstraints[R],I===null?I=[]:I.length===0&&(this.constraints=this.constraints.filter((function(O){return O.getType()!==R}))),I},B.prototype.copy=function(){var R=new B;return R.addConstraints(this),R},B.prototype.size=function(){return this.constraints.length},B})();x.Constraints=z},2841:function(y,x,r){var b,M=this&&this.__extends||(b=function(R,I){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,A){O.__proto__=A}||function(O,A){for(var T in A)Object.prototype.hasOwnProperty.call(A,T)&&(O[T]=A[T])},b(R,I)},function(R,I){if(typeof I!="function"&&I!==null)throw new TypeError("Class extends value "+String(I)+" is not a constructor or null");function O(){this.constructor=R}b(R,I),R.prototype=I===null?Object.create(I):(O.prototype=I.prototype,new O)});Object.defineProperty(x,"__esModule",{value:!0}),x.RawConstraint=void 0;var z=r(8007),B=(function(R){function I(O,A,T,U){U===void 0&&(U=null);var q=R.call(this,O,A,U)||this;return q.sql=T,q}return M(I,R),I.prototype.buildSql=function(){var O=this.sql;return O.toUpperCase().startsWith(z.Constraint.CONSTRAINT)||(O=this.buildNameSql()+O),O},I})(z.Constraint);x.RawConstraint=B},4033:(y,x)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.TableColumn=void 0;var r=(function(){function b(M,z,B,R,I,O,A,T,U,q){this.index=M,this.name=z,this.type=B,this.dataType=R,this.max=I,this.notNull=O,this.defaultValueString=A,this.defaultValue=T,this.primaryKey=U,this.autoincrement=q}return b.prototype.getIndex=function(){return this.index},b.prototype.getName=function(){return this.name},b.prototype.getType=function(){return this.type},b.prototype.getDataType=function(){return this.dataType},b.prototype.isDataType=function(M){return this.dataType===M},b.prototype.getMax=function(){return this.max},b.prototype.isNotNull=function(){return this.notNull},b.prototype.getDefaultValueString=function(){return this.defaultValueString},b.prototype.getDefaultValue=function(){return this.defaultValue},b.prototype.isPrimaryKey=function(){return this.primaryKey},b.prototype.isAutoIncrement=function(){return this.autoincrement},b})();x.TableColumn=r},4980:(y,x,r)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.TableConstraints=void 0;var b=r(3765),M=r(7686),z=(function(){function B(){this.constraints=new M.Constraints,this.columnConstraints={}}return B.prototype.addTableConstraint=function(R){this.constraints.add(R)},B.prototype.addTableConstraints=function(R){this.constraints.addConstraints(R)},B.prototype.getTableConstraints=function(){return this.constraints},B.prototype.getTableConstraint=function(R){return R>=this.constraints.size()?null:this.constraints.get(R)},B.prototype.numTableConstraints=function(){return this.constraints.size()},B.prototype.addColumnConstraint=function(R,I){this.getOrCreateColumnConstraints(R).addConstraint(I)},B.prototype.addConstraints=function(R,I){this.getOrCreateColumnConstraints(R).addConstraints(I)},B.prototype.addColumnConstraints=function(R){this.getOrCreateColumnConstraints(R.name).addColumnConstraints(R)},B.prototype.getOrCreateColumnConstraints=function(R){var I=this.columnConstraints[R];return I==null&&(I=new b.ColumnConstraints(R),this.columnConstraints[R]=I),I},B.prototype.addColumnConstraintsMap=function(R){var I=this;R.forEach((function(O){I.addColumnConstraints(O)}))},B.prototype.getColumnConstraintsMap=function(){return this.columnConstraints},B.prototype.getColumnsWithConstraints=function(){return Array.from(Object.keys(this.columnConstraints))},B.prototype.getColumnConstraints=function(R){return this.columnConstraints[R]},B.prototype.getColumnConstraint=function(R,I){var O=null,A=this.getColumnConstraints(R);return A!=null&&(O=A.getConstraint(I)),O},B.prototype.numColumnConstraints=function(R){var I=0,O=this.getColumnConstraints(R);return O!=null&&(I=O.numConstraints()),I},B.prototype.addAllConstraints=function(R){R!=null&&(this.addTableConstraints(R.getTableConstraints()),this.addColumnConstraintsMap(R.getColumnConstraintsMap()))},B.prototype.hasConstraints=function(){return this.hasTableConstraints()||this.hasColumnConstraints()},B.prototype.hasTableConstraints=function(){return this.constraints.has()},B.prototype.hasColumnConstraints=function(){return Object.keys(this.columnConstraints).length>0},B.prototype.hasColumnConstraintsForColumn=function(R){return this.numColumnConstraints(R)>0},B})();x.TableConstraints=z},5045:(y,x,r)=>{var b=r(5108);Object.defineProperty(x,"__esModule",{value:!0}),x.TableInfo=void 0;var M=r(4033),z=r(7319),B=r(9211),R=r(7043),I=r(175),O=r(5329),A=(function(){function T(U,q){var K=this;this.namesToColumns=new Map,this.primaryKeys=[],this.tableName=U,this.columns=q,q.forEach((function(J){K.namesToColumns.set(J.getName(),J),J.isPrimaryKey()&&K.primaryKeys.push(J)}))}return T.prototype.getTableName=function(){return this.tableName},T.prototype.numColumns=function(){return this.columns.length},T.prototype.getColumns=function(){return this.columns.slice()},T.prototype.getColumnAtIndex=function(U){if(U<0||U>=this.columns.length)throw new Error("Column index: "+U+", not within range 0 to "+(this.columns.length-1));return this.columns[U]},T.prototype.hasColumn=function(U){return this.getColumn(U)!==null&&this.getColumn(U)!==void 0},T.prototype.getColumn=function(U){return this.namesToColumns.get(U)},T.prototype.hasPrimaryKey=function(){return this.primaryKeys.length!==0},T.prototype.getPrimaryKeys=function(){return this.primaryKeys.slice()},T.prototype.getPrimaryKey=function(){var U=null;return this.hasPrimaryKey()&&(U=this.primaryKeys[0]),U},T.info=function(U,q){var K="PRAGMA table_info("+O.StringUtils.quoteWrap(q)+")",J=U.all(K,null),te=[];J.forEach((function(ue){var fe=ue.cid,Le=ue.name,Ge=ue.type,ze=ue.notnull===1,je=ue.dflt_value,Be=ue.pk===1,_e=!1;Be&&(_e=U.all("SELECT tbl_name FROM "+R.SQLiteMaster.TABLE_NAME+" WHERE "+I.SQLiteMasterColumn.nameFromType(I.SQLiteMasterColumn.TBL_NAME)+"=? AND "+I.SQLiteMasterColumn.nameFromType(I.SQLiteMasterColumn.SQL)+" LIKE ?",[q,"%AUTOINCREMENT%"]).length===1);var He=null;if(Ge!=null&&Ge.endsWith(")")){var tt=Ge.indexOf("(");if(tt>-1){var Ke=Ge.substring(tt+1,Ge.length-1);if(Ke.length!==0)try{He=parseInt(Ke),Ge=Ge.substring(0,tt)}catch(pt){b.error(pt)}}}var Ze=T.getDataType(Ge),Qe=void 0;ue.dflt_value&&(Qe=ue.dflt_value.replace(/\\'/g,""));var vt=new M.TableColumn(fe,Le,Ge,Ze,He,ze,je,Qe,Be,_e);te.push(vt)}));var oe=null;return te.length!==0&&(oe=new T(q,te)),oe},T.getDataType=function(U){var q=z.GeoPackageDataType.fromName(U);return q==null&&B.GeometryType.fromName(U)!=null&&(q=z.GeoPackageDataType.BLOB),q},T.CID="cid",T.NAME="name",T.TYPE="type",T.NOT_NULL="notnull",T.DFLT_VALUE="dflt_value",T.PK="pk",T.DEFAULT_NULL="NULL",T})();x.TableInfo=A},1648:function(y,x,r){var b,M=this&&this.__extends||(b=function(O,A){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,U){T.__proto__=U}||function(T,U){for(var q in U)Object.prototype.hasOwnProperty.call(U,q)&&(T[q]=U[q])},b(O,A)},function(O,A){if(typeof A!="function"&&A!==null)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");function T(){this.constructor=O}b(O,A),O.prototype=A===null?Object.create(A):(T.prototype=A.prototype,new T)}),z=this&&this.__read||function(O,A){var T=typeof Symbol=="function"&&O[Symbol.iterator];if(!T)return O;var U,q,K=T.call(O),J=[];try{for(;(A===void 0||A-- >0)&&!(U=K.next()).done;)J.push(U.value)}catch(te){q={error:te}}finally{try{U&&!U.done&&(T=K.return)&&T.call(K)}finally{if(q)throw q.error}}return J},B=this&&this.__spreadArray||function(O,A,T){if(T||arguments.length===2)for(var U,q=0,K=A.length;q<K;q++)!U&&q in A||(U||(U=Array.prototype.slice.call(A,0,q)),U[q]=A[q]);return O.concat(U||Array.prototype.slice.call(A))};Object.defineProperty(x,"__esModule",{value:!0}),x.UniqueConstraint=void 0;var R=r(91),I=(function(O){function A(T){for(var U=[],q=1;q<arguments.length;q++)U[q-1]=arguments[q];var K=O.call(this,R.ConstraintType.UNIQUE,T)||this;return K.columns=[],K.add.apply(K,B([],z(U),!1)),K}return M(A,O),A.prototype.buildSql=function(){var T="";T=(T=(T=T.concat(this.buildNameSql())).concat(A.UNIQUE)).concat(" (");for(var U=0;U<this.columns.length;U++){var q=this.columns[U];U>0&&(T=T.concat(", ")),T=T.concat(q.getName())}return T.concat(")")},A.prototype.copy=function(){return new(A.bind.apply(A,B([void 0,this.name],z(this.columns),!1)))},A.prototype.add=function(){for(var T=this,U=[],q=0;q<arguments.length;q++)U[q]=arguments[q];U.forEach((function(K){T.columns.push(K)}))},A.prototype.getColumns=function(){return this.columns},A.UNIQUE="UNIQUE",A})(r(8007).Constraint);x.UniqueConstraint=I},1459:(y,x,r)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.TableCreator=void 0;var b=r(5965),M=r(5042),z=(function(){function B(R){this.geopackage=R,this.connection=R.database}return B.prototype.createRequired=function(){var R=new b.SpatialReferenceSystemDao(this.geopackage);return this.createSpatialReferenceSystem(),this.createContents(),R.createUndefinedGeographic(),R.createWgs84(),R.createUndefinedCartesian(),R.createWebMercator(),!0},B.prototype.createSpatialReferenceSystem=function(){return this.createTable("spatial_reference_system")},B.prototype.createContents=function(){return this.createTable("contents")},B.prototype.createGeometryColumns=function(){return this.createTable("geometry_columns")},B.prototype.createTileMatrixSet=function(){return this.createTable("tile_matrix_set")},B.prototype.createTileMatrix=function(){return this.createTable("tile_matrix")},B.prototype.createDataColumns=function(){return this.createTable("data_columns")},B.prototype.createDataColumnConstraints=function(){return this.createTable("data_column_constraints")},B.prototype.createMetadata=function(){return this.createTable("metadata")},B.prototype.createMetadataReference=function(){return this.createTable("metadata_reference")},B.prototype.createExtensions=function(){return this.createTable("extensions")},B.prototype.createTableIndex=function(){return this.createTable("table_index")},B.prototype.createGeometryIndex=function(){return this.createTable("geometry_index")},B.prototype.createFeatureTileLink=function(){return this.createTable("feature_tile_link")},B.prototype.createExtendedRelations=function(){return this.createTable("extended_relations")},B.prototype.createContentsId=function(){return this.createTable("contents_id")},B.prototype.createTileScaling=function(){return this.createTable("tile_scaling")},B.prototype.createTable=function(R){for(var I=!0,O=B.tableCreationScripts[R],A=0;A<O.length;A++){var T=O[A];try{I=I&&!!this.connection.run(T)}catch(U){if(U.message.indexOf("already exists")===-1)throw U}}return I},B.prototype.createUserTable=function(R){var I=this.connection;if(I.tableExists(R.getTableName()))throw new Error("Table already exists and cannot be created: "+R.getTableName());var O=M.CoreSQLUtils.createTableSQL(R);return I.run(O)},B.prototype.dropTable=function(R){M.CoreSQLUtils.dropTable(this.connection,R)},B.tableCreationScripts={spatial_reference_system:['CREATE TABLE gpkg_spatial_ref_sys (  srs_name TEXT NOT NULL,  srs_id INTEGER NOT NULL PRIMARY KEY,  organization TEXT NOT NULL,  organization_coordsys_id INTEGER NOT NULL,  definition  TEXT NOT NULL,  description TEXT,  definition_12_063 TEXT NOT NULL DEFAULT "undefined")',"CREATE VIEW st_spatial_ref_sys AS SELECT   srs_name,   srs_id,   organization,   organization_coordsys_id,   definition,   description FROM gpkg_spatial_ref_sys","CREATE VIEW spatial_ref_sys AS SELECT   srs_id AS srid,   organization AS auth_name,   organization_coordsys_id AS auth_srid,   definition AS srtext FROM gpkg_spatial_ref_sys"],contents:["CREATE TABLE gpkg_contents ( table_name TEXT NOT NULL PRIMARY KEY, data_type TEXT NOT NULL, identifier TEXT UNIQUE, description TEXT DEFAULT '', last_change DATETIME NOT NULL DEFAULT (strftime('%Y-%m-%dT%H:%M:%fZ','now')), min_x DOUBLE, min_y DOUBLE, max_x DOUBLE, max_y DOUBLE, srs_id INTEGER, CONSTRAINT fk_gc_r_srs_id FOREIGN KEY (srs_id) REFERENCES gpkg_spatial_ref_sys(srs_id))"],geometry_columns:["CREATE TABLE gpkg_geometry_columns (  table_name TEXT NOT NULL,  column_name TEXT NOT NULL,  geometry_type_name TEXT NOT NULL,  srs_id INTEGER NOT NULL,  z TINYINT NOT NULL,  m TINYINT NOT NULL,  CONSTRAINT pk_geom_cols PRIMARY KEY (table_name, column_name),  CONSTRAINT uk_gc_table_name UNIQUE (table_name),  CONSTRAINT fk_gc_tn FOREIGN KEY (table_name) REFERENCES gpkg_contents(table_name),  CONSTRAINT fk_gc_srs FOREIGN KEY (srs_id) REFERENCES gpkg_spatial_ref_sys (srs_id))","CREATE VIEW st_geometry_columns AS  SELECT    table_name,    column_name,    'ST_' || geometry_type_name AS geometry_type_name,    g.srs_id,    srs_name  FROM gpkg_geometry_columns as g JOIN gpkg_spatial_ref_sys AS s  WHERE g.srs_id = s.srs_id","CREATE VIEW geometry_columns AS  SELECT    table_name AS f_table_name,    column_name AS f_geometry_column,    (CASE geometry_type_name       WHEN 'GEOMETRY' THEN 0       WHEN 'POINT' THEN 1       WHEN 'LINESTRING' THEN 2       WHEN 'POLYGON' THEN 3       WHEN 'MULTIPOINT' THEN 4       WHEN 'MULTILINESTRING' THEN 5       WHEN 'MULTIPOLYGON' THEN 6       WHEN 'GEOMETRYCOLLECTION' THEN 7       WHEN 'CIRCULARSTRING' THEN 8       WHEN 'COMPOUNDCURVE' THEN 9       WHEN 'CURVEPOLYGON' THEN 10       WHEN 'MULTICURVE' THEN 11       WHEN 'MULTISURFACE' THEN 12       WHEN 'CURVE' THEN 13       WHEN 'SURFACE' THEN 14       WHEN 'POLYHEDRALSURFACE' THEN 15       WHEN 'TIN' THEN 16       WHEN 'TRIANGLE' THEN 17       ELSE 0 END) AS geometry_type,    2 + (CASE z WHEN 1 THEN 1 WHEN 2 THEN 1 ELSE 0 END) + (CASE m WHEN 1 THEN 1 WHEN 2 THEN 1 ELSE 0 END) AS coord_dimension,    srs_id AS srid  FROM gpkg_geometry_columns"],tile_matrix_set:["CREATE TABLE gpkg_tile_matrix_set (  table_name TEXT NOT NULL PRIMARY KEY,  srs_id INTEGER NOT NULL,  min_x DOUBLE NOT NULL,  min_y DOUBLE NOT NULL,  max_x DOUBLE NOT NULL,  max_y DOUBLE NOT NULL,  CONSTRAINT fk_gtms_table_name FOREIGN KEY (table_name) REFERENCES gpkg_contents(table_name),  CONSTRAINT fk_gtms_srs FOREIGN KEY (srs_id) REFERENCES gpkg_spatial_ref_sys (srs_id))"],tile_matrix:["CREATE TABLE gpkg_tile_matrix (  table_name TEXT NOT NULL,  zoom_level INTEGER NOT NULL,  matrix_width INTEGER NOT NULL,  matrix_height INTEGER NOT NULL,  tile_width INTEGER NOT NULL,  tile_height INTEGER NOT NULL,  pixel_x_size DOUBLE NOT NULL,  pixel_y_size DOUBLE NOT NULL,  CONSTRAINT pk_ttm PRIMARY KEY (table_name, zoom_level),  CONSTRAINT fk_tmm_table_name FOREIGN KEY (table_name) REFERENCES gpkg_contents(table_name))","CREATE TRIGGER 'gpkg_tile_matrix_zoom_level_insert'BEFORE INSERT ON 'gpkg_tile_matrix'FOR EACH ROW BEGIN SELECT RAISE(ABORT, 'insert on table ''gpkg_tile_matrix'' violates constraint: zoom_level cannot be less than 0')WHERE (NEW.zoom_level < 0);END","CREATE TRIGGER 'gpkg_tile_matrix_zoom_level_update'BEFORE UPDATE of zoom_level ON 'gpkg_tile_matrix'FOR EACH ROW BEGIN SELECT RAISE(ABORT, 'update on table ''gpkg_tile_matrix'' violates constraint: zoom_level cannot be less than 0')WHERE (NEW.zoom_level < 0);END","CREATE TRIGGER 'gpkg_tile_matrix_matrix_width_insert'BEFORE INSERT ON 'gpkg_tile_matrix'FOR EACH ROW BEGIN SELECT RAISE(ABORT, 'insert on table ''gpkg_tile_matrix'' violates constraint: matrix_width cannot be less than 1')WHERE (NEW.matrix_width < 1);END","CREATE TRIGGER 'gpkg_tile_matrix_matrix_width_update'BEFORE UPDATE OF matrix_width ON 'gpkg_tile_matrix'FOR EACH ROW BEGIN SELECT RAISE(ABORT, 'update on table ''gpkg_tile_matrix'' violates constraint: matrix_width cannot be less than 1')WHERE (NEW.matrix_width < 1);END","CREATE TRIGGER 'gpkg_tile_matrix_matrix_height_insert'BEFORE INSERT ON 'gpkg_tile_matrix'FOR EACH ROW BEGIN SELECT RAISE(ABORT, 'insert on table ''gpkg_tile_matrix'' violates constraint: matrix_height cannot be less than 1')WHERE (NEW.matrix_height < 1);END","CREATE TRIGGER 'gpkg_tile_matrix_matrix_height_update'BEFORE UPDATE OF matrix_height ON 'gpkg_tile_matrix'FOR EACH ROW BEGIN SELECT RAISE(ABORT, 'update on table ''gpkg_tile_matrix'' violates constraint: matrix_height cannot be less than 1')WHERE (NEW.matrix_height < 1);END","CREATE TRIGGER 'gpkg_tile_matrix_pixel_x_size_insert'BEFORE INSERT ON 'gpkg_tile_matrix'FOR EACH ROW BEGIN SELECT RAISE(ABORT, 'insert on table ''gpkg_tile_matrix'' violates constraint: pixel_x_size must be greater than 0')WHERE NOT (NEW.pixel_x_size > 0);END","CREATE TRIGGER 'gpkg_tile_matrix_pixel_x_size_update'BEFORE UPDATE OF pixel_x_size ON 'gpkg_tile_matrix'FOR EACH ROW BEGIN SELECT RAISE(ABORT, 'update on table ''gpkg_tile_matrix'' violates constraint: pixel_x_size must be greater than 0')WHERE NOT (NEW.pixel_x_size > 0);END","CREATE TRIGGER 'gpkg_tile_matrix_pixel_y_size_insert'BEFORE INSERT ON 'gpkg_tile_matrix'FOR EACH ROW BEGIN SELECT RAISE(ABORT, 'insert on table ''gpkg_tile_matrix'' violates constraint: pixel_y_size must be greater than 0')WHERE NOT (NEW.pixel_y_size > 0);END","CREATE TRIGGER 'gpkg_tile_matrix_pixel_y_size_update'BEFORE UPDATE OF pixel_y_size ON 'gpkg_tile_matrix'FOR EACH ROW BEGIN SELECT RAISE(ABORT, 'update on table ''gpkg_tile_matrix'' violates constraint: pixel_y_size must be greater than 0')WHERE NOT (NEW.pixel_y_size > 0);END"],data_columns:["CREATE TABLE gpkg_data_columns (  table_name TEXT NOT NULL,  column_name TEXT NOT NULL,  name TEXT,  title TEXT,  description TEXT,  mime_type TEXT,  constraint_name TEXT,  CONSTRAINT pk_gdc PRIMARY KEY (table_name, column_name),  CONSTRAINT gdc_tn UNIQUE (table_name, name))"],data_column_constraints:['CREATE TABLE gpkg_data_column_constraints (  constraint_name TEXT NOT NULL,  constraint_type TEXT NOT NULL, /* "range" | "enum" | "glob" */  value TEXT,  min NUMERIC,  min_is_inclusive BOOLEAN, /* 0 = false, 1 = true */  max NUMERIC,  max_is_inclusive BOOLEAN, /* 0 = false, 1 = true */  description TEXT,  CONSTRAINT gdcc_ntv UNIQUE (constraint_name, constraint_type, value))'],metadata:['CREATE TABLE gpkg_metadata (  id INTEGER CONSTRAINT m_pk PRIMARY KEY ASC NOT NULL,  md_scope TEXT NOT NULL DEFAULT "dataset",  md_standard_uri TEXT NOT NULL,  mime_type TEXT NOT NULL DEFAULT "text/xml",  metadata TEXT NOT NULL)',"CREATE TRIGGER 'gpkg_metadata_md_scope_insert' BEFORE INSERT ON 'gpkg_metadata' FOR EACH ROW BEGIN SELECT RAISE(ABORT, 'insert on table gpkg_metadata violates constraint: md_scope must be one of undefined | fieldSession | collectionSession | series | dataset | featureType | feature | attributeType | attribute | tile | model | catalogue | schema | taxonomy software | service | collectionHardware | nonGeographicDataset | dimensionGroup') WHERE NOT(NEW.md_scope IN ('undefined','fieldSession','collectionSession','series','dataset', 'featureType','feature','attributeType','attribute','tile','model', 'catalogue','schema','taxonomy','software','service', 'collectionHardware','nonGeographicDataset','dimensionGroup')); END","CREATE TRIGGER 'gpkg_metadata_md_scope_update' BEFORE UPDATE OF 'md_scope' ON 'gpkg_metadata' FOR EACH ROW BEGIN SELECT RAISE(ABORT, 'update on table gpkg_metadata violates constraint: md_scope must be one of undefined | fieldSession | collectionSession | series | dataset | featureType | feature | attributeType | attribute | tile | model | catalogue | schema | taxonomy software | service | collectionHardware | nonGeographicDataset | dimensionGroup') WHERE NOT(NEW.md_scope IN ('undefined','fieldSession','collectionSession','series','dataset', 'featureType','feature','attributeType','attribute','tile','model', 'catalogue','schema','taxonomy','software','service', 'collectionHardware','nonGeographicDataset','dimensionGroup')); END"],metadata_reference:["CREATE TABLE gpkg_metadata_reference (  reference_scope TEXT NOT NULL,  table_name TEXT,  column_name TEXT,  row_id_value INTEGER,  timestamp DATETIME NOT NULL DEFAULT (strftime('%Y-%m-%dT%H:%M:%fZ','now')),  md_file_id INTEGER NOT NULL,  md_parent_id INTEGER,  CONSTRAINT crmr_mfi_fk FOREIGN KEY (md_file_id) REFERENCES gpkg_metadata(id),  CONSTRAINT crmr_mpi_fk FOREIGN KEY (md_parent_id) REFERENCES gpkg_metadata(id))",`CREATE TRIGGER 'gpkg_metadata_reference_reference_scope_insert' BEFORE INSERT ON 'gpkg_metadata_reference' FOR EACH ROW BEGIN SELECT RAISE(ABORT, 'insert on table gpkg_metadata_reference violates constraint: reference_scope must be one of "geopackage", table", "column", "row", "row/col"') WHERE NOT NEW.reference_scope IN ('geopackage','table','column','row','row/col'); END`,`CREATE TRIGGER 'gpkg_metadata_reference_reference_scope_update' BEFORE UPDATE OF 'reference_scope' ON 'gpkg_metadata_reference' FOR EACH ROW BEGIN SELECT RAISE(ABORT, 'update on table gpkg_metadata_reference violates constraint: referrence_scope must be one of "geopackage", "table", "column", "row", "row/col"') WHERE NOT NEW.reference_scope IN ('geopackage','table','column','row','row/col'); END`,`CREATE TRIGGER 'gpkg_metadata_reference_column_name_insert' BEFORE INSERT ON 'gpkg_metadata_reference' FOR EACH ROW BEGIN SELECT RAISE(ABORT, 'insert on table gpkg_metadata_reference violates constraint: column name must be NULL when reference_scope is "geopackage", "table" or "row"') WHERE (NEW.reference_scope IN ('geopackage','table','row') AND NEW.column_name IS NOT NULL); SELECT RAISE(ABORT, 'insert on table gpkg_metadata_reference violates constraint: column name must be defined for the specified table when reference_scope is "column" or "row/col"') WHERE (NEW.reference_scope IN ('column','row/col') AND NOT NEW.table_name IN ( SELECT name FROM SQLITE_MASTER WHERE type = 'table' AND name = NEW.table_name AND sql LIKE ('%' || NEW.column_name || '%'))); END`,`CREATE TRIGGER 'gpkg_metadata_reference_column_name_update' BEFORE UPDATE OF column_name ON 'gpkg_metadata_reference' FOR EACH ROW BEGIN SELECT RAISE(ABORT, 'update on table gpkg_metadata_reference violates constraint: column name must be NULL when reference_scope is "geopackage", "table" or "row"') WHERE (NEW.reference_scope IN ('geopackage','table','row') AND NEW.column_nameIS NOT NULL); SELECT RAISE(ABORT, 'update on table gpkg_metadata_reference violates constraint: column name must be defined for the specified table when reference_scope is "column" or "row/col"') WHERE (NEW.reference_scope IN ('column','row/col') AND NOT NEW.table_name IN ( SELECT name FROM SQLITE_MASTER WHERE type = 'table' AND name = NEW.table_name AND sql LIKE ('%' || NEW.column_name || '%'))); END`,`CREATE TRIGGER 'gpkg_metadata_reference_row_id_value_insert' BEFORE INSERT ON 'gpkg_metadata_reference' FOR EACH ROW BEGIN SELECT RAISE(ABORT, 'insert on table gpkg_metadata_reference violates constraint: row_id_value must be NULL when reference_scope is "geopackage", "table" or "column"') WHERE NEW.reference_scope IN ('geopackage','table','column') AND NEW.row_id_value IS NOT NULL; END `,`CREATE TRIGGER 'gpkg_metadata_reference_row_id_value_update' BEFORE UPDATE OF 'row_id_value' ON 'gpkg_metadata_reference' FOR EACH ROW BEGIN SELECT RAISE(ABORT, 'update on table gpkg_metadata_reference violates constraint: row_id_value must be NULL when reference_scope is "geopackage", "table" or "column"') WHERE NEW.reference_scope IN ('geopackage','table','column') AND NEW.row_id_value IS NOT NULL; END`,`CREATE TRIGGER 'gpkg_metadata_reference_timestamp_insert' BEFORE INSERT ON 'gpkg_metadata_reference' FOR EACH ROW BEGIN SELECT RAISE(ABORT, 'insert on table gpkg_metadata_reference violates constraint: timestamp must be a valid time in ISO 8601 "yyyy-mm-ddThh:mm:ss.cccZ" form') WHERE NOT (NEW.timestamp GLOB '[1-2][0-9][0-9][0-9]-[0-1][0-9]-[0-3][0-9]T[0-2][0-9]:[0-5][0-9]:[0-5][0-9].[0-9][0-9][0-9]Z' AND strftime('%s',NEW.timestamp) NOT NULL); END`,`CREATE TRIGGER 'gpkg_metadata_reference_timestamp_update' BEFORE UPDATE OF 'timestamp' ON 'gpkg_metadata_reference' FOR EACH ROW BEGIN SELECT RAISE(ABORT, 'update on table gpkg_metadata_reference violates constraint: timestamp must be a valid time in ISO 8601 "yyyy-mm-ddThh:mm:ss.cccZ" form') WHERE NOT (NEW.timestamp GLOB '[1-2][0-9][0-9][0-9]-[0-1][0-9]-[0-3][0-9]T[0-2][0-9]:[0-5][0-9]:[0-5][0-9].[0-9][0-9][0-9]Z' AND strftime('%s',NEW.timestamp) NOT NULL); END `],extensions:["CREATE TABLE gpkg_extensions (  table_name TEXT,  column_name TEXT,  extension_name TEXT NOT NULL,  definition TEXT NOT NULL,  scope TEXT NOT NULL,  CONSTRAINT ge_tce UNIQUE (table_name, column_name, extension_name))"],table_index:["CREATE TABLE nga_table_index (  table_name TEXT NOT NULL PRIMARY KEY,  last_indexed DATETIME)"],geometry_index:["CREATE TABLE nga_geometry_index (  table_name TEXT NOT NULL,  geom_id INTEGER NOT NULL,  min_x DOUBLE NOT NULL,  max_x DOUBLE NOT NULL,  min_y DOUBLE NOT NULL,  max_y DOUBLE NOT NULL,  min_z DOUBLE,  max_z DOUBLE,  min_m DOUBLE,  max_m DOUBLE,  CONSTRAINT pk_ngi PRIMARY KEY (table_name, geom_id),  CONSTRAINT fk_ngi_nti_tn FOREIGN KEY (table_name) REFERENCES nga_table_index(table_name))"],feature_tile_link:["CREATE TABLE nga_feature_tile_link (  feature_table_name TEXT NOT NULL,  tile_table_name TEXT NOT NULL,  CONSTRAINT pk_nftl PRIMARY KEY (feature_table_name, tile_table_name))"],extended_relations:["CREATE TABLE gpkgext_relations (  id INTEGER PRIMARY KEY AUTOINCREMENT,  base_table_name TEXT NOT NULL,  base_primary_column TEXT NOT NULL DEFAULT 'id',  related_table_name TEXT NOT NULL,  related_primary_column TEXT NOT NULL DEFAULT 'id',  relation_name TEXT NOT NULL,  mapping_table_name TEXT NOT NULL UNIQUE)"],contents_id:["CREATE TABLE nga_contents_id (  id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL,  table_name TEXT NOT NULL,  CONSTRAINT uk_nci_table_name UNIQUE (table_name),  CONSTRAINT fk_nci_gc_tn FOREIGN KEY (table_name) REFERENCES gpkg_contents(table_name))"],tile_scaling:["CREATE TABLE nga_tile_scaling (  table_name TEXT PRIMARY KEY NOT NULL,  scaling_type TEXT NOT NULL,  zoom_in INTEGER,  zoom_out INTEGER,  CONSTRAINT fk_nts_gtms_tn FOREIGN KEY (table_name)   REFERENCES gpkg_tile_matrix_set (table_name),  CHECK (scaling_type in ('in','out','in_out','out_in','closest_in_out','closest_out_in')))"]},B})();x.TableCreator=z},2431:function(y,x,r){var b=this&&this.__importDefault||function(A){return A&&A.__esModule?A:{default:A}};Object.defineProperty(x,"__esModule",{value:!0}),x.TableMapping=void 0;var M=b(r(4293)),z=b(r(8446)),B=b(r(3674)),R=b(r(2628)),I=r(1790),O=(function(){function A(T,U,q){var K=this;this._transferContent=!0,this._columns={},this._droppedColumns=new Set,this._fromTable=T,this._toTable=U,q.forEach((function(J){K.addMappedColumn(new I.MappedColumn(J.name,J.name,J.defaultValue,J.dataType))}))}return A.fromTableInfo=function(T){var U=new A(T.getTableName(),T.getTableName(),[]);return T.getColumns().forEach((function(q){U.addMappedColumn(new I.MappedColumn(q.getName(),q.getName(),q.getDefaultValue(),q.getDataType()))})),U},Object.defineProperty(A.prototype,"fromTable",{get:function(){return this._fromTable},set:function(T){this._fromTable=T},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"toTable",{get:function(){return this._toTable},set:function(T){this._toTable=T},enumerable:!1,configurable:!0}),A.prototype.isNewTable=function(){return!(0,M.default)(this._toTable)&&!(0,z.default)(this._toTable,this._fromTable)},A.prototype.isTransferContent=function(){return this._transferContent},Object.defineProperty(A.prototype,"transferContent",{set:function(T){this._transferContent=T},enumerable:!1,configurable:!0}),A.prototype.addMappedColumn=function(T){this._columns[T.toColumn]=T},A.prototype.addColumnWithName=function(T){this._columns[T]=new I.MappedColumn(T,null,null,null)},A.prototype.removeColumn=function(T){var U=this._columns[T];return delete this._columns[T],U},A.prototype.getColumnNames=function(){return(0,B.default)(this._columns)},A.prototype.getColumns=function(){return this._columns},A.prototype.getMappedColumns=function(){return(0,R.default)(this._columns)},A.prototype.getColumn=function(T){return this._columns[T]},A.prototype.addDroppedColumn=function(T){this._droppedColumns.add(T)},A.prototype.removeDroppedColumn=function(T){return this._droppedColumns.delete(T)},Object.defineProperty(A.prototype,"droppedColumns",{get:function(){return this._droppedColumns},enumerable:!1,configurable:!0}),A.prototype.isDroppedColumn=function(T){return this._droppedColumns.has(T)},A.prototype.hasWhere=function(){return!(0,M.default)(this._where)},Object.defineProperty(A.prototype,"where",{get:function(){return this._where},set:function(T){this._where=T},enumerable:!1,configurable:!0}),A})();x.TableMapping=O},8140:(y,x,r)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.BaseExtension=void 0;var b=r(624),M=(function(){function z(B){this.geoPackage=B,this.connection=B.connection,this.extensionsDao=B.extensionDao}return z.prototype.getOrCreate=function(B,R,I,O,A){var T=this.getExtension(B,R,I);return T.length?T[0]:(this.extensionsDao.createTable(),this.createExtension(B,R,I,O,A),this.getExtension(B,R,I)[0])},z.prototype.getExtension=function(B,R,I){return this.extensionsDao.isTableExists()?this.extensionsDao.queryByExtensionAndTableNameAndColumnName(B,R,I):[]},z.prototype.hasExtension=function(B,R,I){return!!this.getExtension(B,R,I).length},z.prototype.hasExtensions=function(B){return this.extensionsDao.queryAllByExtension(B).length!==0},z.prototype.createExtension=function(B,R,I,O,A){var T=new b.Extension;return T.table_name=R,T.column_name=I,T.extension_name=B,T.definition=O,T.scope=A,this.extensionsDao.create(T)},z})();x.BaseExtension=M},4650:(y,x)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.ContentsId=void 0,x.ContentsId=function(){}},7092:function(y,x,r){var b,M=this&&this.__extends||(b=function(I,O){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,T){A.__proto__=T}||function(A,T){for(var U in T)Object.prototype.hasOwnProperty.call(T,U)&&(A[U]=T[U])},b(I,O)},function(I,O){if(typeof O!="function"&&O!==null)throw new TypeError("Class extends value "+String(O)+" is not a constructor or null");function A(){this.constructor=I}b(I,O),I.prototype=O===null?Object.create(O):(A.prototype=O.prototype,new A)});Object.defineProperty(x,"__esModule",{value:!0}),x.ContentsIdDao=void 0;var z=r(4115),B=r(4650),R=(function(I){function O(){var A=I!==null&&I.apply(this,arguments)||this;return A.gpkgTableName=O.TABLE_NAME,A.idColumns=["id"],A}return M(O,I),O.prototype.createObject=function(A){var T=new B.ContentsId;return A&&(T.id=A.id,T.table_name=A.table_name),T},O.prototype.createTable=function(){return this.geoPackage.getTableCreator().createContentsId()},O.prototype.getTableNames=function(){for(var A=[],T=this.queryForColumns("table_name"),U=0;U<T.length;U++)A.push(T[U].table_name);return A},O.prototype.queryForTableName=function(A){var T=this.queryForAll(this.buildWhereWithFieldAndValue(O.COLUMN_TABLE_NAME,A),this.buildWhereArgs(A));return T.length>0?T[0]:null},O.prototype.deleteByTableName=function(A){return this.deleteWhere(this.buildWhereWithFieldAndValue(O.COLUMN_TABLE_NAME,A),this.buildWhereArgs(A))},O.TABLE_NAME="nga_contents_id",O.COLUMN_ID="id",O.COLUMN_TABLE_NAME="table_name",O})(z.Dao);x.ContentsIdDao=R},1314:function(y,x,r){var b,M=this&&this.__extends||(b=function(A,T){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(U,q){U.__proto__=q}||function(U,q){for(var K in q)Object.prototype.hasOwnProperty.call(q,K)&&(U[K]=q[K])},b(A,T)},function(A,T){if(typeof T!="function"&&T!==null)throw new TypeError("Class extends value "+String(T)+" is not a constructor or null");function U(){this.constructor=A}b(A,T),A.prototype=T===null?Object.create(T):(U.prototype=T.prototype,new U)});Object.defineProperty(x,"__esModule",{value:!0}),x.ContentsIdExtension=void 0;var z=r(8140),B=r(624),R=r(7092),I=r(6638),O=(function(A){function T(U){var q=A.call(this,U)||this;return q.contentsIdDao=U.contentsIdDao,q}return M(T,A),T.prototype.getOrCreateExtension=function(){var U=this.getOrCreate(T.EXTENSION_NAME,null,null,T.EXTENSION_DEFINITION,B.Extension.READ_WRITE);return this.contentsIdDao.createTable(),U},Object.defineProperty(T.prototype,"dao",{get:function(){return this.contentsIdDao},enumerable:!1,configurable:!0}),T.prototype.has=function(){return this.hasExtension(T.EXTENSION_NAME,null,null)&&this.contentsIdDao.isTableExists()},T.prototype.get=function(U){var q=null;return U&&U.table_name&&(q=this.getByTableName(U.table_name)),q},T.prototype.getByTableName=function(U){var q=null;return this.contentsIdDao.isTableExists()&&(q=this.contentsIdDao.queryForTableName(U)),q},T.prototype.getId=function(U){var q=null;return U&&U.table_name&&(q=this.getIdByTableName(U.table_name)),q},T.prototype.getIdByTableName=function(U){var q=null;if(this.contentsIdDao.isTableExists()){var K=this.contentsIdDao.queryForTableName(U);K&&(q=K.id)}return q},T.prototype.create=function(U){var q=null;return U&&U.table_name&&(q=this.createWithTableName(U.table_name)),q},T.prototype.createWithTableName=function(U){var q=this.contentsIdDao.createObject();return q.table_name=U,q.id=this.contentsIdDao.create(q),q},T.prototype.createId=function(U){var q=null;return U&&U.table_name&&(q=this.createIdWithTableName(U.table_name)),q},T.prototype.createIdWithTableName=function(U){return this.createWithTableName(U)},T.prototype.getOrCreateId=function(U){var q=null;return U&&U.table_name&&(q=this.getOrCreateIdByTableName(U.table_name)),q},T.prototype.getOrCreateIdByTableName=function(U){var q=this.getByTableName(U);return q==null&&(q=this.createWithTableName(U)),q},T.prototype.deleteId=function(U){var q=0;return U&&U.table_name&&(q=this.deleteIdByTableName(U.table_name)),q},T.prototype.deleteIdByTableName=function(U){return this.contentsIdDao.deleteByTableName(U)},T.prototype.count=function(){var U=0;return this.has()&&(U=this.contentsIdDao.count()),U},T.prototype.createIds=function(U){U===void 0&&(U="");for(var q=this.getMissing(U),K=0;K<q.length;K++)this.getOrCreateIdByTableName(q[K].table_name);return q.length},T.prototype.deleteIds=function(U){U===void 0&&(U="");var q=0;if(this.has())if(U.length===0)q=this.contentsIdDao.deleteAll();else for(var K=this.getIdsByType(U),J=0;J<K.length;J++)q+=this.contentsIdDao.deleteById(K[J].id);return q},T.prototype.getIdsByType=function(U){U===void 0&&(U="");var q=[];if(this.has()){var K="SELECT ";K+=R.ContentsIdDao.COLUMN_ID,K+=", ",K+=R.ContentsIdDao.COLUMN_TABLE_NAME,K+=" FROM "+R.ContentsIdDao.TABLE_NAME,K+=" WHERE ",K+=R.ContentsIdDao.COLUMN_TABLE_NAME,K+=" IN (SELECT ",K+=I.ContentsDao.COLUMN_TABLE_NAME,K+=" FROM ",K+=I.ContentsDao.TABLE_NAME;var J="",te=[];U!=null&&U.length>0&&(J+=I.ContentsDao.COLUMN_DATA_TYPE,J+=" = ?",te.push(U)),J.length>0&&(K+=" WHERE "+J),K+=")",q=this.connection.all(K,te)}return q},T.prototype.getMissing=function(U){U===void 0&&(U="");var q="SELECT "+I.ContentsDao.COLUMN_TABLE_NAME+" FROM "+I.ContentsDao.TABLE_NAME,K="",J=[];return U!=null&&U.length>0&&(K+=I.ContentsDao.COLUMN_DATA_TYPE,K+=" = ?",J.push(U)),this.has()&&(K.length>0&&(K+=" AND "),K+=I.ContentsDao.COLUMN_TABLE_NAME,K+=" NOT IN (SELECT ",K+=R.ContentsIdDao.COLUMN_TABLE_NAME,K+=" FROM ",K+=R.ContentsIdDao.TABLE_NAME,K+=")"),K.length>0&&(q+=" WHERE "+K),this.connection.all(q,J)},T.prototype.removeExtension=function(){this.contentsIdDao.isTableExists()&&this.geoPackage.deleteTable(R.ContentsIdDao.TABLE_NAME),this.extensionsDao.isTableExists()&&this.extensionsDao.deleteByExtension(T.EXTENSION_NAME)},T.EXTENSION_NAME="nga_contents_id",T.EXTENSION_AUTHOR="nga",T.EXTENSION_NAME_NO_AUTHOR="contents_id",T.EXTENSION_DEFINITION="http://ngageoint.github.io/GeoPackage/docs/extensions/contents-id.html",T})(z.BaseExtension);x.ContentsIdExtension=O},5306:function(y,x,r){var b,M=this&&this.__extends||(b=function(R,I){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,A){O.__proto__=A}||function(O,A){for(var T in A)Object.prototype.hasOwnProperty.call(A,T)&&(O[T]=A[T])},b(R,I)},function(R,I){if(typeof I!="function"&&I!==null)throw new TypeError("Class extends value "+String(I)+" is not a constructor or null");function O(){this.constructor=R}b(R,I),R.prototype=I===null?Object.create(I):(O.prototype=I.prototype,new O)});Object.defineProperty(x,"__esModule",{value:!0}),x.CrsWktExtension=void 0;var z=r(624),B=(function(R){function I(O){var A=R.call(this,O)||this;return A.extensionName=I.EXTENSION_NAME,A.extensionDefinition=I.EXTENSION_CRS_WKT_DEFINITION,A}return M(I,R),I.prototype.getOrCreateExtension=function(){return this.getOrCreate(this.extensionName,null,null,this.extensionDefinition,z.Extension.READ_WRITE)},I.prototype.has=function(){return this.hasExtension(I.EXTENSION_NAME,null,null)},I.prototype.removeExtension=function(){try{this.extensionsDao.isTableExists()&&this.extensionsDao.deleteByExtension(I.EXTENSION_NAME)}catch{throw new Error("Failed to delete CrsWkt extension. GeoPackage: "+this.geoPackage.name)}},I.EXTENSION_NAME="gpkg_crs_wkt",I.EXTENSION_CRS_WKT_AUTHOR="gpkg",I.EXTENSION_CRS_WKT_NAME_NO_AUTHOR="crs_wkt",I.EXTENSION_CRS_WKT_DEFINITION="http://www.geopackage.org/spec/#extension_crs_wkt",I})(r(8140).BaseExtension);x.CrsWktExtension=B},624:(y,x)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.Extension=void 0;var r=(function(){function b(){}return b.prototype.setExtensionName=function(M,z){this.extension_name=b.buildExtensionName(M,z)},Object.defineProperty(b.prototype,"author",{get:function(){return b.getAuthorWithExtensionName(this.extension_name)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"extensionNameNoAuthor",{get:function(){return b.getExtensionNameNoAuthor(this.extension_name)},enumerable:!1,configurable:!0}),b.buildExtensionName=function(M,z){return M+b.EXTENSION_NAME_DIVIDER+z},b.getAuthorWithExtensionName=function(M){return M.split(b.EXTENSION_NAME_DIVIDER)[0]},b.getExtensionNameNoAuthor=function(M){return M.slice(M.indexOf(b.EXTENSION_NAME_DIVIDER)+1)},b.prototype.getTableName=function(){return this.table_name},b.prototype.setTableName=function(M){this.table_name=M,M==null&&(this.column_name=null)},b.EXTENSION_NAME_DIVIDER="_",b.READ_WRITE="read-write",b.WRITE_ONLY="write-only",b})();x.Extension=r},5698:function(y,x,r){var b,M=this&&this.__extends||(b=function(T,U){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(q,K){q.__proto__=K}||function(q,K){for(var J in K)Object.prototype.hasOwnProperty.call(K,J)&&(q[J]=K[J])},b(T,U)},function(T,U){if(typeof U!="function"&&U!==null)throw new TypeError("Class extends value "+String(U)+" is not a constructor or null");function q(){this.constructor=T}b(T,U),T.prototype=U===null?Object.create(U):(q.prototype=U.prototype,new q)}),z=this&&this.__values||function(T){var U=typeof Symbol=="function"&&Symbol.iterator,q=U&&T[U],K=0;if(q)return q.call(T);if(T&&typeof T.length=="number")return{next:function(){return T&&K>=T.length&&(T=void 0),{value:T&&T[K++],done:!T}}};throw new TypeError(U?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(x,"__esModule",{value:!0}),x.ExtensionDao=void 0;var B=r(624),R=r(4115),I=r(8572),O=r(1459),A=(function(T){function U(){var q=T!==null&&T.apply(this,arguments)||this;return q.gpkgTableName=U.TABLE_NAME,q.idColumns=[U.COLUMN_TABLE_NAME,U.COLUMN_COLUMN_NAME,U.COLUMN_EXTENSION_NAME],q}return M(U,T),U.prototype.createObject=function(q){var K=new B.Extension;return K.table_name=q.table_name,K.column_name=q.column_name,K.extension_name=q.extension_name,K.definition=q.definition,K.scope=q.scope,K},U.prototype.queryByExtension=function(q){var K=this.queryForAllEq(U.COLUMN_EXTENSION_NAME,q);if(K[0])return this.createObject(K[0])},U.prototype.queryAllByExtension=function(q){var K,J,te=[];try{for(var oe=z(this.queryForAllEq(U.COLUMN_EXTENSION_NAME,q)),ue=oe.next();!ue.done;ue=oe.next()){var fe=ue.value,Le=this.createObject(fe);te.push(Le)}}catch(Ge){K={error:Ge}}finally{try{ue&&!ue.done&&(J=oe.return)&&J.call(oe)}finally{if(K)throw K.error}}return te},U.prototype.queryByExtensionAndTableName=function(q,K){var J,te,oe=new I.ColumnValues;oe.addColumn(U.COLUMN_EXTENSION_NAME,q),oe.addColumn(U.COLUMN_TABLE_NAME,K);var ue=[];try{for(var fe=z(this.queryForFieldValues(oe)),Le=fe.next();!Le.done;Le=fe.next()){var Ge=Le.value;ue.push(this.createObject(Ge))}}catch(ze){J={error:ze}}finally{try{Le&&!Le.done&&(te=fe.return)&&te.call(fe)}finally{if(J)throw J.error}}return ue},U.prototype.queryByExtensionAndTableNameAndColumnName=function(q,K,J){var te,oe,ue=new I.ColumnValues;ue.addColumn(U.COLUMN_EXTENSION_NAME,q),K!=null&&ue.addColumn(U.COLUMN_TABLE_NAME,K),J!=null&&ue.addColumn(U.COLUMN_COLUMN_NAME,J);var fe=[];try{for(var Le=z(this.queryForFieldValues(ue)),Ge=Le.next();!Ge.done;Ge=Le.next()){var ze=Ge.value,je=this.createObject(ze);fe.push(je)}}catch(Be){te={error:Be}}finally{try{Ge&&!Ge.done&&(oe=Le.return)&&oe.call(Le)}finally{if(te)throw te.error}}return fe},U.prototype.createTable=function(){return new O.TableCreator(this.geoPackage).createExtensions()},U.prototype.deleteByExtension=function(q){var K=new I.ColumnValues;return K.addColumn(U.COLUMN_EXTENSION_NAME,q),this.deleteWhere(this.buildWhere(K,"="),this.buildWhereArgs(K))},U.prototype.deleteByExtensionAndTableName=function(q,K){var J=new I.ColumnValues;return J.addColumn(U.COLUMN_EXTENSION_NAME,q),J.addColumn(U.COLUMN_TABLE_NAME,K),this.deleteWhere(this.buildWhere(J,"and"),this.buildWhereArgs(J))},U.prototype.deleteByExtensionAndTableNameAndColumnName=function(q,K,J){var te=new I.ColumnValues;return te.addColumn(U.COLUMN_EXTENSION_NAME,q),te.addColumn(U.COLUMN_TABLE_NAME,K),te.addColumn(U.COLUMN_COLUMN_NAME,J),this.deleteWhere(this.buildWhere(te,"and"),this.buildWhereArgs(te))},U.TABLE_NAME="gpkg_extensions",U.COLUMN_TABLE_NAME="table_name",U.COLUMN_COLUMN_NAME="column_name",U.COLUMN_EXTENSION_NAME="extension_name",U.COLUMN_DEFINITION="definition",U.COLUMN_SCOPE="scope",U})(R.Dao);x.ExtensionDao=A},9406:(y,x,r)=>{var b=r(5108);Object.defineProperty(x,"__esModule",{value:!0}),x.GeoPackageExtensions=void 0;var M=r(6131),z=r(5859),B=r(1832),R=r(5045),I=r(5042),O=r(362),A=r(8314),T=r(2431),U=r(8904),q=r(8116),K=r(4941),J=r(1459),te=r(1133),oe=r(3501),ue=r(2056),fe=r(5306),Le=(function(){function Ge(){}return Ge.deleteTableExtensions=function(ze,je){M.NGAExtensions.deleteTableExtensions(ze,je),Ge.deleteRTreeSpatialIndex(ze,je),Ge.deleteRelatedTables(ze,je),Ge.deleteSchema(ze,je),Ge.deleteMetadata(ze,je),Ge.deleteExtensionForTable(ze,je)},Ge.deleteExtensions=function(ze){M.NGAExtensions.deleteExtensions(ze),this.deleteRTreeSpatialIndexExtension(ze),this.deleteRelatedTablesExtension(ze),this.deleteSchemaExtension(ze),this.deleteMetadataExtension(ze),this.deleteCrsWktExtension(ze),this.delete(ze)},Ge.copyTableExtensions=function(ze,je,Be){try{Ge.copyRTreeSpatialIndex(ze,je,Be),Ge.copyRelatedTables(ze,je,Be),Ge.copySchema(ze,je,Be),Ge.copyMetadata(ze,je,Be),M.NGAExtensions.copyTableExtensions(ze,je,Be)}catch(_e){b.warn("Failed to copy extensions for table: "+Be+", copied from table: "+je,_e)}},Ge.deleteExtensionForTable=function(ze,je){var Be=ze.extensionDao;try{Be.isTableExists()&&Be.deleteByExtension(je)}catch{throw new Error("Failed to delete Table extensions. GeoPackage: "+ze.name+", Table: "+je)}},Ge.delete=function(ze){var je=ze.extensionDao;try{je.isTableExists()&&ze.dropTable(je.gpkgTableName)}catch{throw new Error("Failed to delete all extensions. GeoPackage: "+ze.name)}},Ge.deleteRTreeSpatialIndex=function(ze,je){var Be=Ge.getRTreeIndexExtension(ze);Be.has(je)&&Be.deleteTable(je)},Ge.deleteRTreeSpatialIndexExtension=function(ze){var je=Ge.getRTreeIndexExtension(ze);je.has()&&je.deleteAll()},Ge.copyRTreeSpatialIndex=function(ze,je,Be){try{var _e=Ge.getRTreeIndexExtension(ze);if(_e.has(je)){var He=ze.geometryColumnsDao.queryForTableName(Be);if(He!=null){var tt=R.TableInfo.info(ze.connection,Be);if(tt!=null){var Ke=tt.getPrimaryKey().getName();_e.createWithParameters(Be,He.column_name,Ke)}}}}catch(Ze){b.warn("Failed to create RTree for table: "+Be+", copied from table: "+je,Ze)}},Ge.getRTreeIndexExtension=function(ze){return new z.RTreeIndex(ze,null)},Ge.deleteRelatedTables=function(ze,je){var Be=Ge.getRelatedTableExtension(ze);Be.has()&&Be.removeRelationships(je)},Ge.deleteRelatedTablesExtension=function(ze){var je=Ge.getRelatedTableExtension(ze);je.has()&&je.removeExtension()},Ge.copyRelatedTables=function(ze,je,Be){try{var _e=Ge.getRelatedTableExtension(ze);if(_e.has()){var He=_e.extendedRelationDao,tt=ze.extensionDao;He.getBaseTableRelations(je).forEach((function(Ke){var Ze=Ke.mapping_table_name,Qe=tt.queryByExtensionAndTableName(B.RelatedTablesExtension.EXTENSION_NAME,Ze).concat(tt.queryByExtensionAndTableName(B.RelatedTablesExtension.EXTENSION_RELATED_TABLES_NAME_NO_AUTHOR,Ze));if(Qe.length>0){var vt=I.CoreSQLUtils.createName(ze.connection,Ze,je,Be),pt=new O.UserCustomTableReader(Ze).readTable(ze.connection);A.AlterTable.copyTable(ze.connection,pt,vt);var ut=Qe[0];ut.setTableName(vt),tt.create(ut);var Mt=T.TableMapping.fromTableInfo(R.TableInfo.info(ze.connection,U.ExtendedRelationDao.TABLE_NAME));Mt.removeColumn(U.ExtendedRelationDao.ID);var bt=Mt.getColumn(U.ExtendedRelationDao.BASE_TABLE_NAME);bt.constantValue=Be,bt.whereValue=je;var ar=Mt.getColumn(U.ExtendedRelationDao.MAPPING_TABLE_NAME);ar.constantValue=vt,ar.whereValue=Ze,I.CoreSQLUtils.transferTableContentForTableMapping(ze.connection,Mt)}}))}}catch(Ke){b.warn("Failed to create Related Tables for table: "+Be+", copied from table: "+je,Ke)}},Ge.getRelatedTableExtension=function(ze){return new B.RelatedTablesExtension(ze)},Ge.deleteSchema=function(ze,je){var Be=ze.dataColumnsDao;try{Be.isTableExists()&&Be.deleteByTableName(je)}catch{throw new Error("Failed to delete Schema extension. GeoPackage: "+ze.name+", Table: "+je)}},Ge.deleteSchemaExtension=function(ze){var je=new q.SchemaExtension(ze);je.has()&&je.removeExtension()},Ge.copySchema=function(ze,je,Be){try{if(ze.isTable(K.DataColumnsDao.TABLE_NAME)){var _e=new O.UserCustomTableReader(K.DataColumnsDao.TABLE_NAME).readUserCustomTable(ze),He=_e.getColumnWithColumnName(K.DataColumnsDao.COLUMN_NAME);if(He.hasConstraints()){if(He.clearConstraints(),_e.hasConstraints()){_e.clearConstraints();var tt=J.TableCreator.tableCreationScripts.data_columns[0],Ke=te.ConstraintParser.getConstraints(tt);_e.addConstraints(Ke.getTableConstraints())}A.AlterTable.alterColumnForTable(ze.connection,_e,He)}I.CoreSQLUtils.transferTableContent(ze.connection,K.DataColumnsDao.TABLE_NAME,K.DataColumnsDao.COLUMN_TABLE_NAME,Be,je)}}catch(Ze){b.warn("Failed to create Schema for table: "+Be+", copied from table: "+je,Ze)}},Ge.deleteMetadata=function(ze,je){var Be=ze.metadataReferenceDao;try{Be.isTableExists()&&Be.deleteByTableName(je)}catch{throw new Error("Failed to delete Metadata extension. GeoPackage: "+ze.name+", Table: "+je)}},Ge.deleteMetadataExtension=function(ze){var je=new oe.MetadataExtension(ze);je.has()&&je.removeExtension()},Ge.copyMetadata=function(ze,je,Be){try{ze.isTable(ue.MetadataReferenceDao.TABLE_NAME)&&I.CoreSQLUtils.transferTableContent(ze.connection,ue.MetadataReferenceDao.TABLE_NAME,ue.MetadataReferenceDao.COLUMN_TABLE_NAME,Be,je)}catch(_e){b.warn("Failed to create Metadata for table: "+Be+", copied from table: "+je,_e)}},Ge.deleteCrsWktExtension=function(ze){var je=new fe.CrsWktExtension(ze);je.has()&&je.removeExtension()},Ge})();x.GeoPackageExtensions=Le},5626:function(y,x,r){var b,M=this&&this.__extends||(b=function(J,te){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(oe,ue){oe.__proto__=ue}||function(oe,ue){for(var fe in ue)Object.prototype.hasOwnProperty.call(ue,fe)&&(oe[fe]=ue[fe])},b(J,te)},function(J,te){if(typeof te!="function"&&te!==null)throw new TypeError("Class extends value "+String(te)+" is not a constructor or null");function oe(){this.constructor=J}b(J,te),J.prototype=te===null?Object.create(te):(oe.prototype=te.prototype,new oe)}),z=this&&this.__awaiter||function(J,te,oe,ue){return new(oe||(oe=Promise))((function(fe,Le){function Ge(Be){try{je(ue.next(Be))}catch(_e){Le(_e)}}function ze(Be){try{je(ue.throw(Be))}catch(_e){Le(_e)}}function je(Be){var _e;Be.done?fe(Be.value):(_e=Be.value,_e instanceof oe?_e:new oe((function(He){He(_e)}))).then(Ge,ze)}je((ue=ue.apply(J,te||[])).next())}))},B=this&&this.__generator||function(J,te){var oe,ue,fe,Le,Ge={label:0,sent:function(){if(1&fe[0])throw fe[1];return fe[1]},trys:[],ops:[]};return Le={next:ze(0),throw:ze(1),return:ze(2)},typeof Symbol=="function"&&(Le[Symbol.iterator]=function(){return this}),Le;function ze(je){return function(Be){return(function(_e){if(oe)throw new TypeError("Generator is already executing.");for(;Le&&(Le=0,_e[0]&&(Ge=0)),Ge;)try{if(oe=1,ue&&(fe=2&_e[0]?ue.return:_e[0]?ue.throw||((fe=ue.return)&&fe.call(ue),0):ue.next)&&!(fe=fe.call(ue,_e[1])).done)return fe;switch(ue=0,fe&&(_e=[2&_e[0],fe.value]),_e[0]){case 0:case 1:fe=_e;break;case 4:return Ge.label++,{value:_e[1],done:!1};case 5:Ge.label++,ue=_e[1],_e=[0];continue;case 7:_e=Ge.ops.pop(),Ge.trys.pop();continue;default:if(!((fe=(fe=Ge.trys).length>0&&fe[fe.length-1])||_e[0]!==6&&_e[0]!==2)){Ge=0;continue}if(_e[0]===3&&(!fe||_e[1]>fe[0]&&_e[1]<fe[3])){Ge.label=_e[1];break}if(_e[0]===6&&Ge.label<fe[1]){Ge.label=fe[1],fe=_e;break}if(fe&&Ge.label<fe[2]){Ge.label=fe[2],Ge.ops.push(_e);break}fe[2]&&Ge.ops.pop(),Ge.trys.pop();continue}_e=te.call(J,Ge)}catch(He){_e=[6,He],ue=0}finally{oe=fe=0}if(5&_e[0])throw _e[1];return{value:_e[0]?_e[1]:void 0,done:!0}})([je,Be])}}};Object.defineProperty(x,"__esModule",{value:!0}),x.FeatureTableIndex=void 0;var R=r(5859),I=r(8140),O=r(624),A=r(7049),T=r(9095),U=r(735),q=r(1895),K=(function(J){function te(oe,ue){var fe=J.call(this,oe)||this;return fe.featureDao=ue,fe.extensionName=te.EXTENSION_NAME,fe.extensionDefinition=te.EXTENSION_GEOMETRY_INDEX_DEFINITION,fe.tableName=ue.table_name,fe.columnName=ue.getGeometryColumnName(),fe.tableIndexDao=oe.tableIndexDao,fe.geometryIndexDao=oe.getGeometryIndexDao(ue),fe.rtreeIndexDao=new U.RTreeIndexDao(oe,ue),fe.rtreeIndexDao.gpkgTableName="rtree_"+fe.tableName+"_"+fe.columnName,fe.rtreeIndex=new R.RTreeIndex(oe,ue),fe.rtreeIndexed=fe.hasExtension("gpkg_rtree_index",fe.tableName,fe.columnName),fe}return M(te,J),te.prototype.index=function(oe){return z(this,void 0,void 0,(function(){return B(this,(function(ue){return[2,this.indexWithForce(!1,oe)]}))}))},te.prototype.indexWithForce=function(oe,ue){return z(this,void 0,void 0,(function(){var fe,Le,Ge;return B(this,(function(ze){return ue=ue||function(){},this.progress=function(je){setTimeout(ue,0,je)},(fe=this.isIndexed())&&!oe||((Le=new R.RTreeIndex(this.geoPackage,this.featureDao)).create(),this.rtreeIndexed=Le.hasExtension(Le.extensionName,Le.tableName,Le.columnName),fe=this.isIndexed()),fe?[2,fe]:(this.getOrCreateExtension(),Ge=this.getOrCreateTableIndex(),this.createOrClearGeometryIndicies(),[2,this.indexTable(Ge)])}))}))},te.prototype.ngaIndexWithForce=function(oe,ue){return z(this,void 0,void 0,(function(){var fe,Le;return B(this,(function(Ge){switch(Ge.label){case 0:return ue=ue||function(){},this.progress=function(ze){setTimeout(ue,0,ze)},(fe=this.isIndexed(!0))&&!oe?[3,2]:[4,new R.RTreeIndex(this.geoPackage,this.featureDao).create()];case 1:Ge.sent(),Ge.label=2;case 2:return fe&&!oe?[3,5]:(this.getOrCreateExtension(),[4,this.getOrCreateTableIndex()]);case 3:return Le=Ge.sent(),[4,this.createOrClearGeometryIndicies()];case 4:return Ge.sent(),[2,this.indexTable(Le)];case 5:return[2,fe]}}))}))},te.prototype.isIndexed=function(oe){if(oe===void 0&&(oe=!1),!oe){var ue=new R.RTreeIndex(this.geoPackage,this.featureDao);if(this.rtreeIndexed=ue.hasExtension(ue.extensionName,ue.tableName,ue.columnName),this.rtreeIndexed)return!0}try{if(this.getFeatureTableIndexExtension()){var fe=this.geoPackage.contentsDao.queryForId(this.tableName);if(!fe)return!1;var Le=new Date(fe.last_change),Ge=this.tableIndexDao.queryForId(this.tableName);return!(!Ge||!Ge.last_indexed)&&new Date(Ge.last_indexed)>=Le}return!1}catch{return!1}},te.prototype.getFeatureTableIndexExtension=function(){return this.getExtension(this.extensionName,this.tableName,this.columnName)[0]},te.prototype.getOrCreateExtension=function(){return this.getOrCreate(this.extensionName,this.tableName,this.columnName,this.extensionDefinition,O.Extension.READ_WRITE)},te.prototype.getOrCreateTableIndex=function(){return this.tableIndex||(this.tableIndexDao.createTable(),this.createTableIndex(),this.tableIndex)},te.prototype.createTableIndex=function(){var oe=new A.TableIndex;return oe.table_name=this.tableName,oe.last_indexed=new Date,this.tableIndexDao.create(oe)},Object.defineProperty(te.prototype,"tableIndex",{get:function(){return this.tableIndexDao.isTableExists()?this.tableIndexDao.queryForId(this.tableName):void 0},enumerable:!1,configurable:!0}),te.prototype.createOrClearGeometryIndicies=function(){return this.geometryIndexDao.createTable(),this.clearGeometryIndicies()},te.prototype.clearGeometryIndicies=function(){var oe=this.geometryIndexDao.buildWhereWithFieldAndValue(T.GeometryIndexDao.COLUMN_TABLE_NAME,this.tableName),ue=this.geometryIndexDao.buildWhereArgs(this.tableName);return this.geometryIndexDao.deleteWhere(oe,ue)},te.prototype.indexTable=function(oe){return z(this,void 0,void 0,(function(){var ue=this;return B(this,(function(fe){return[2,new Promise((function(Le,Ge){setTimeout((function(){ue.indexChunk(0,oe,Le,Ge)}))})).then((function(){return ue.updateLastIndexed(oe)===1}))]}))}))},te.prototype.indexChunk=function(oe,ue,fe,Le){var Ge=this,ze=this.featureDao.queryForChunk(100,oe);ze.length?(this.progress("Indexing "+100*oe+" to "+100*(oe+1)),ze.forEach((function(je){var Be=Ge.featureDao.getRow(je);Ge.indexRow(ue,Be.id,Be.geometry)})),setTimeout((function(){Ge.indexChunk(++oe,ue,fe,Le)}))):fe()},te.prototype.indexRow=function(oe,ue,fe){if(!fe)return!1;var Le=fe.envelope;if(!Le){var Ge=fe.geometry;Ge&&(Le=q.EnvelopeBuilder.buildEnvelopeWithGeometry(Ge))}if(Le){var ze=this.geometryIndexDao.populate(oe,ue,Le);return this.geometryIndexDao.createOrUpdate(ze)===1}return!1},te.prototype.updateLastIndexed=function(oe){return oe||((oe=new A.TableIndex).table_name=this.tableName),oe.last_indexed=new Date().toISOString(),this.tableIndexDao.createOrUpdate(oe)},te.prototype.queryWithBoundingBox=function(oe,ue){var fe=oe.projectBoundingBox(ue,this.featureDao.projection).buildEnvelope();return this.queryWithGeometryEnvelope(fe)},te.prototype.queryWithGeometryEnvelope=function(oe){return this.rtreeIndexed?this.rtreeIndexDao.queryWithGeometryEnvelope(oe):this.geometryIndexDao.queryWithGeometryEnvelope(oe)},te.prototype.countWithBoundingBox=function(oe,ue){var fe=oe.projectBoundingBox(ue,this.featureDao.projection).buildEnvelope();return this.countWithGeometryEnvelope(fe)},te.prototype.countWithGeometryEnvelope=function(oe){return this.rtreeIndexed?this.rtreeIndexDao.countWithGeometryEnvelope(oe):this.geometryIndexDao.countWithGeometryEnvelope(oe)},te.EXTENSION_GEOMETRY_INDEX_AUTHOR="nga",te.EXTENSION_GEOMETRY_INDEX_NAME_NO_AUTHOR="geometry_index",te.EXTENSION_NAME=O.Extension.buildExtensionName(te.EXTENSION_GEOMETRY_INDEX_AUTHOR,te.EXTENSION_GEOMETRY_INDEX_NAME_NO_AUTHOR),te.EXTENSION_GEOMETRY_INDEX_DEFINITION="http://ngageoint.github.io/GeoPackage/docs/extensions/geometry-index.html",te})(I.BaseExtension);x.FeatureTableIndex=K},8021:(y,x)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.GeometryIndex=void 0;var r=(function(){function b(){}return Object.defineProperty(b.prototype,"tableIndex",{set:function(M){this.table_name=M.table_name},enumerable:!1,configurable:!0}),b})();x.GeometryIndex=r},9095:function(y,x,r){var b,M=this&&this.__extends||(b=function(O,A){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,U){T.__proto__=U}||function(T,U){for(var q in U)Object.prototype.hasOwnProperty.call(U,q)&&(T[q]=U[q])},b(O,A)},function(O,A){if(typeof A!="function"&&A!==null)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");function T(){this.constructor=O}b(O,A),O.prototype=A===null?Object.create(A):(T.prototype=A.prototype,new T)});Object.defineProperty(x,"__esModule",{value:!0}),x.GeometryIndexDao=void 0;var z=r(4115),B=r(8021),R=r(1459),I=(function(O){function A(T,U){var q=O.call(this,T)||this;return q.gpkgTableName=A.TABLE_NAME,q.idColumns=["table_name","geom_id"],q.featureDao=U,q}return M(A,O),A.prototype.createObject=function(T){var U=new B.GeometryIndex;return T&&(U.table_name=T.table_name,U.geom_id=T.geom_id,U.min_x=T.min_x,U.max_x=T.max_x,U.min_y=T.min_y,U.max_y=T.max_y,U.min_z=T.min_z,U.max_z=T.max_z,U.min_m=T.min_m,U.max_m=T.max_m),U},A.prototype.getTableIndex=function(T){return this.geoPackage.tableIndexDao.queryForId(T.table_name)},A.prototype.queryForTableName=function(T){return this.queryForEach(A.COLUMN_TABLE_NAME,T)},A.prototype.countByTableName=function(T){return this.count(A.COLUMN_TABLE_NAME,T)},A.prototype.populate=function(T,U,q){var K=new B.GeometryIndex;return K.tableIndex=T,K.geom_id=U,K.min_x=q.minX,K.min_y=q.minY,K.max_x=q.maxX,K.max_y=q.maxY,q.hasZ&&(K.min_z=q.minZ,K.max_z=q.maxZ),q.hasM&&(K.min_m=q.minM,K.max_m=q.maxM),K},A.prototype.createTable=function(){return!!this.isTableExists()||new R.TableCreator(this.geoPackage).createGeometryIndex()},A.prototype._generateGeometryEnvelopeQuery=function(T){var U=this.featureDao.gpkgTableName,q="";q+=this.buildWhereWithFieldAndValue(A.COLUMN_TABLE_NAME,U),q+=" and ";var K=T.minX<T.maxX;K?(q+=this.buildWhereWithFieldAndValue(A.COLUMN_MIN_X,T.maxX,"<="),q+=" and ",q+=this.buildWhereWithFieldAndValue(A.COLUMN_MAX_X,T.minX,">=")):(q+="(",q+=this.buildWhereWithFieldAndValue(A.COLUMN_MIN_X,T.maxX,"<="),q+=" or ",q+=this.buildWhereWithFieldAndValue(A.COLUMN_MAX_X,T.minX,">="),q+=" or ",q+=this.buildWhereWithFieldAndValue(A.COLUMN_MIN_X,T.minX,">="),q+=" or ",q+=this.buildWhereWithFieldAndValue(A.COLUMN_MAX_X,T.maxX,"<="),q+=")"),q+=" and ",q+=this.buildWhereWithFieldAndValue(A.COLUMN_MIN_Y,T.maxY,"<="),q+=" and ",q+=this.buildWhereWithFieldAndValue(A.COLUMN_MAX_Y,T.minY,">=");var J=[U,T.maxX,T.minX];return K||J.push(T.minX,T.maxX),J.push(T.maxY,T.minY),T.hasZ&&(q+=" and ",q+=this.buildWhereWithFieldAndValue(A.COLUMN_MIN_Z,T.minZ,"<="),q+=" and ",q+=this.buildWhereWithFieldAndValue(A.COLUMN_MAX_Z,T.maxZ,">="),J.push(T.maxZ,T.minZ)),T.hasM&&(q+=" and ",q+=this.buildWhereWithFieldAndValue(A.COLUMN_MIN_M,T.minM,"<="),q+=" and ",q+=this.buildWhereWithFieldAndValue(A.COLUMN_MAX_M,T.maxM,">="),J.push(T.maxM,T.minM)),{join:'inner join "'+U+'" on "'+U+'".'+this.featureDao.idColumns[0]+" = "+A.COLUMN_GEOM_ID,where:q,whereArgs:J,tableNameArr:['"'+U+'".*']}},A.prototype.queryWithGeometryEnvelope=function(T){var U=this._generateGeometryEnvelopeQuery(T);return this.queryJoinWhereWithArgs(U.join,U.where,U.whereArgs,U.tableNameArr)},A.prototype.countWithGeometryEnvelope=function(T){var U=this._generateGeometryEnvelopeQuery(T);return this.countJoinWhereWithArgs(U.join,U.where,U.whereArgs)},A.TABLE_NAME="nga_geometry_index",A.COLUMN_TABLE_NAME=A.TABLE_NAME+".table_name",A.COLUMN_TABLE_NAME_FIELD="table_name",A.COLUMN_GEOM_ID=A.TABLE_NAME+".geom_id",A.COLUMN_MIN_X=A.TABLE_NAME+".min_x",A.COLUMN_MAX_X=A.TABLE_NAME+".max_x",A.COLUMN_MIN_Y=A.TABLE_NAME+".min_y",A.COLUMN_MAX_Y=A.TABLE_NAME+".max_y",A.COLUMN_MIN_Z=A.TABLE_NAME+".min_z",A.COLUMN_MAX_Z=A.TABLE_NAME+".max_z",A.COLUMN_MIN_M=A.TABLE_NAME+".min_m",A.COLUMN_MAX_M=A.TABLE_NAME+".max_m",A})(z.Dao);x.GeometryIndexDao=I},7049:(y,x)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.TableIndex=void 0,x.TableIndex=function(){}},9581:function(y,x,r){var b,M=this&&this.__extends||(b=function(O,A){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,U){T.__proto__=U}||function(T,U){for(var q in U)Object.prototype.hasOwnProperty.call(U,q)&&(T[q]=U[q])},b(O,A)},function(O,A){if(typeof A!="function"&&A!==null)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");function T(){this.constructor=O}b(O,A),O.prototype=A===null?Object.create(A):(T.prototype=A.prototype,new T)});Object.defineProperty(x,"__esModule",{value:!0}),x.TableIndexDao=void 0;var z=r(4115),B=r(1459),R=r(7049),I=(function(O){function A(){var T=O!==null&&O.apply(this,arguments)||this;return T.gpkgTableName=A.TABLE_NAME,T.idColumns=[A.COLUMN_TABLE_NAME],T}return M(A,O),A.prototype.createObject=function(T){var U=new R.TableIndex;return T&&(U.table_name=T.table_name,U.last_indexed=T.last_indexed),U},A.prototype.createTable=function(){return new B.TableCreator(this.geoPackage).createTableIndex()},A.TABLE_NAME="nga_table_index",A.COLUMN_TABLE_NAME="table_name",A.COLUMN_LAST_INDEXED="last_indexed",A})(z.Dao);x.TableIndexDao=I},3501:function(y,x,r){var b,M=this&&this.__extends||(b=function(A,T){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(U,q){U.__proto__=q}||function(U,q){for(var K in q)Object.prototype.hasOwnProperty.call(q,K)&&(U[K]=q[K])},b(A,T)},function(A,T){if(typeof T!="function"&&T!==null)throw new TypeError("Class extends value "+String(T)+" is not a constructor or null");function U(){this.constructor=A}b(A,T),A.prototype=T===null?Object.create(T):(U.prototype=T.prototype,new U)});Object.defineProperty(x,"__esModule",{value:!0}),x.MetadataExtension=void 0;var z=r(8140),B=r(624),R=r(2056),I=r(663),O=(function(A){function T(U){var q=A.call(this,U)||this;return q.extensionName=T.EXTENSION_NAME,q.extensionDefinition=T.EXTENSION_Metadata_DEFINITION,q}return M(T,A),T.prototype.getOrCreateExtension=function(){return this.getOrCreate(this.extensionName,null,null,this.extensionDefinition,B.Extension.READ_WRITE)},T.prototype.has=function(){return this.hasExtension(T.EXTENSION_NAME,null,null)},T.prototype.removeExtension=function(){this.geoPackage.isTable(R.MetadataReferenceDao.TABLE_NAME)&&this.geoPackage.dropTable(R.MetadataReferenceDao.TABLE_NAME),this.geoPackage.isTable(I.MetadataDao.TABLE_NAME)&&this.geoPackage.dropTable(I.MetadataDao.TABLE_NAME);try{this.extensionsDao.isTableExists()&&this.extensionsDao.deleteByExtension(T.EXTENSION_NAME)}catch{throw new Error("Failed to delete Schema extension. GeoPackage: "+this.geoPackage.name)}},T.EXTENSION_NAME="gpkg_metadata",T.EXTENSION_Metadata_AUTHOR="gpkg",T.EXTENSION_Metadata_NAME_NO_AUTHOR="metadata",T.EXTENSION_Metadata_DEFINITION="http://www.geopackage.org/spec/#extension_metadata",T})(z.BaseExtension);x.MetadataExtension=O},6131:(y,x,r)=>{var b=r(5108);Object.defineProperty(x,"__esModule",{value:!0}),x.NGAExtensions=void 0;var M=r(5626),z=r(9095),B=r(9581),R=r(5042),I=r(7960),O=r(7523),A=r(8479),T=r(1832),U=r(1314),q=r(362),K=r(8314),J=r(2431),te=r(233),oe=r(8904),ue=r(5045),fe=r(7092),Le=(function(){function Ge(){}return Ge.deleteTableExtensions=function(ze,je){Ge.deleteGeometryIndex(ze,je),Ge.deleteTileScaling(ze,je),Ge.deleteFeatureStyle(ze,je),Ge.deleteContentsId(ze,je)},Ge.deleteExtensions=function(ze){Ge.deleteGeometryIndexExtension(ze),Ge.deleteTileScalingExtension(ze),Ge.deleteFeatureStyleExtension(ze),Ge.deleteContentsIdExtension(ze)},Ge.copyTableExtensions=function(ze,je,Be){try{Ge.copyContentsId(ze,je,Be),Ge.copyFeatureStyle(ze,je,Be),Ge.copyTileScaling(ze,je,Be),Ge.copyGeometryIndex(ze,je,Be)}catch(_e){b.warn("Failed to copy extensions for table: "+Be+", copied from table: "+je,_e)}},Ge.deleteGeometryIndex=function(ze,je){var Be=ze.getGeometryIndexDao(null),_e=ze.tableIndexDao,He=ze.extensionDao;try{Be.isTableExists()&&Be.deleteWhere(Be.buildWhereWithFieldAndValue(z.GeometryIndexDao.COLUMN_TABLE_NAME_FIELD,je),Be.buildWhereArgs(je)),_e.isTableExists()&&_e.deleteWhere(_e.buildWhereWithFieldAndValue(B.TableIndexDao.COLUMN_TABLE_NAME,je),_e.buildWhereArgs(je)),He.isTableExists()&&He.deleteByExtensionAndTableName(M.FeatureTableIndex.EXTENSION_NAME,je)}catch{throw new Error("Failed to delete Table Index. GeoPackage: "+ze.name+", Table: "+je)}},Ge.deleteGeometryIndexExtension=function(ze){var je=ze.getGeometryIndexDao(null),Be=ze.tableIndexDao,_e=ze.extensionDao;try{je.isTableExists()&&ze.dropTable(z.GeometryIndexDao.TABLE_NAME),Be.isTableExists()&&ze.dropTable(B.TableIndexDao.TABLE_NAME),_e.isTableExists()&&_e.deleteByExtension(M.FeatureTableIndex.EXTENSION_NAME)}catch{throw new Error("Failed to delete Table Index extension and tables. GeoPackage: "+ze.name)}},Ge.copyGeometryIndex=function(ze,je,Be){try{var _e=ze.extensionDao;if(_e.isTableExists()){var He=_e.queryByExtensionAndTableName(M.FeatureTableIndex.EXTENSION_NAME,je);if(He.length>0){var tt=He[0];tt.table_name=Be,_e.create(tt);var Ke=ze.tableIndexDao;if(Ke.isTableExists()){var Ze=Ke.queryForId(je);Ze!=null&&(Ze.table_name=Be,Ke.create(Ze),ze.isTable(z.GeometryIndexDao.TABLE_NAME)&&R.CoreSQLUtils.transferTableContent(ze.connection,z.GeometryIndexDao.TABLE_NAME,z.GeometryIndexDao.COLUMN_TABLE_NAME_FIELD,Be,je))}}}}catch(Qe){b.warn("Failed to create Geometry Index for table: "+Be+", copied from table: "+je,Qe)}},Ge.deleteTileScaling=function(ze,je){var Be=ze.tileScalingDao,_e=ze.extensionDao;try{Be.isTableExists()&&Be.deleteByTableName(je),_e.isTableExists()&&_e.deleteByExtensionAndTableName(O.TileScalingExtension.EXTENSION_NAME,je)}catch{throw new Error("Failed to delete Tile Scaling. GeoPackage: "+ze.name+", Table: "+je)}},Ge.deleteTileScalingExtension=function(ze){var je=ze.tileScalingDao,Be=ze.extensionDao;try{je.isTableExists()&&ze.dropTable(je.gpkgTableName),Be.isTableExists()&&Be.deleteByExtension(O.TileScalingExtension.EXTENSION_NAME)}catch{throw new Error("Failed to delete Tile Scaling extension and table. GeoPackage: "+ze.name)}},Ge.copyTileScaling=function(ze,je,Be){try{var _e=new O.TileScalingExtension(ze,je);if(_e.has()){var He=_e.getOrCreateExtension();He!=null&&(He.setTableName(Be),_e.extensionsDao.create(He),ze.isTable(I.TileScalingDao.TABLE_NAME)&&R.CoreSQLUtils.transferTableContent(ze.connection,I.TileScalingDao.TABLE_NAME,I.TileScalingDao.COLUMN_TABLE_NAME,Be,je))}}catch(tt){b.warn("Failed to create Tile Scaling for table: "+Be+", copied from table: "+je,tt)}},Ge.deleteFeatureStyle=function(ze,je){var Be=Ge.getFeatureStyleExtension(ze);Be.has(je)&&Be.deleteRelationships(je)},Ge.deleteFeatureStyleExtension=function(ze){var je=Ge.getFeatureStyleExtension(ze);je.has(null)&&je.removeExtension()},Ge.copyFeatureStyle=function(ze,je,Be){try{var _e=Ge.getFeatureStyleExtension(ze);if(_e.hasRelationship(je)){var He=_e.getOrCreateExtension(je);if(He!=null){He.setTableName(Be),_e.extensionsDao.create(He);var tt=_e.getContentsId(),Ke=tt.getIdByTableName(je),Ze=tt.getIdByTableName(Be);Ke!=null&&Ze!=null&&(_e.hasTableStyleRelationship(je)&&Ge.copyFeatureTableStyle(_e,A.FeatureStyleExtension.TABLE_MAPPING_TABLE_STYLE,je,Be,Ke,Ze),_e.hasTableIconRelationship(je)&&Ge.copyFeatureTableStyle(_e,A.FeatureStyleExtension.TABLE_MAPPING_TABLE_ICON,je,Be,Ke,Ze))}}}catch(Qe){b.warn("Failed to create Feature Style for table: "+Be+", copied from table: "+je,Qe)}},Ge.copyFeatureTableStyle=function(ze,je,Be,_e,He,tt){var Ke=ze.geoPackage,Ze=ze.getMappingTableName(je,Be),Qe=Ke.extensionDao,vt=Qe.queryByExtensionAndTableName(T.RelatedTablesExtension.EXTENSION_NAME,Ze).concat(Qe.queryByExtensionAndTableName(T.RelatedTablesExtension.EXTENSION_RELATED_TABLES_NAME_NO_AUTHOR,Ze));if(vt.length>0){var pt=ze.getMappingTableName(je,_e),ut=new q.UserCustomTableReader(Ze).readTable(Ke.connection);K.AlterTable.copyTable(Ke.connection,ut,pt,!1);var Mt=new J.TableMapping(ut.getTableName(),pt,ut.getUserColumns().getColumns()),bt=Mt.getColumn(te.UserMappingTable.COLUMN_BASE_ID);bt.constantValue=tt,bt.whereValue=He,R.CoreSQLUtils.transferTableContentForTableMapping(Ke.connection,Mt);var ar=vt[0];ar.setTableName(pt),Qe.create(ar);var dt=J.TableMapping.fromTableInfo(ue.TableInfo.info(Ke.connection,oe.ExtendedRelationDao.TABLE_NAME));dt.removeColumn(oe.ExtendedRelationDao.ID),dt.getColumn(oe.ExtendedRelationDao.BASE_TABLE_NAME).whereValue=fe.ContentsIdDao.TABLE_NAME;var yt=dt.getColumn(oe.ExtendedRelationDao.MAPPING_TABLE_NAME);yt.constantValue=pt,yt.whereValue=Ze,R.CoreSQLUtils.transferTableContentForTableMapping(Ke.connection,dt)}},Ge.getFeatureStyleExtension=function(ze){return new A.FeatureStyleExtension(ze)},Ge.deleteContentsId=function(ze,je){var Be=new U.ContentsIdExtension(ze);Be.has()&&Be.deleteIdByTableName(je)},Ge.deleteContentsIdExtension=function(ze){var je=new U.ContentsIdExtension(ze);je.has()&&je.removeExtension()},Ge.copyContentsId=function(ze,je,Be){try{var _e=new U.ContentsIdExtension(ze);_e.has()&&_e.getByTableName(je)!=null&&_e.createWithTableName(Be)}catch(He){b.warn("Failed to create Contents Id for table: "+Be+", copied from table: "+je,He)}},Ge})();x.NGAExtensions=Le},3096:(y,x,r)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.DublinCoreMetadata=void 0;var b=r(2224),M=(function(){function z(){}return z.hasColumn=function(B,R){var I,O=(I=B instanceof b.UserRow?B.table:B).hasColumn(R.name);if(!I.hasColumn(R.name)){var A=R.synonyms;if(A)for(var T=0;T<A.length&&!(O=I.hasColumn(A[T]));T++);}return O},z.getColumn=function(B,R){var I,O,A=(I=B instanceof b.UserRow?B.table:B).hasColumn(R.name);if(A)O=I.getColumnWithColumnName(R.name);else{var T=R.synonyms;if(T){for(var U=0;U<T.length;U++)if(A=I.hasColumn(T[U])){O=I.getColumnWithColumnName(T[U]);break}}}return O},z.getValue=function(B,R){var I=z.getColumn(B,R).name;return B.getValueWithColumnName(I)},z.setValue=function(B,R,I){var O=z.getColumn(B,R);B.setValueWithColumnName(O.name,I)},z})();x.DublinCoreMetadata=M},1485:(y,x)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.DublinCoreType=void 0;var r=(function(){function b(M,z){this.name=M,this.synonyms=z}return b.fromName=function(M){for(var z in b)if((B=b[z]).name===M)return B;for(var z in b){var B;if((B=b[z]).synonyms){for(var R=0;R<B.synonyms.length;R++)if(B.synonyms[R]===M)return B}}},b.DATE=new b("date"),b.DESCRIPTION=new b("description"),b.FORMAT=new b("format",["content_type"]),b.IDENTIFIER=new b("identifier",["id"]),b.SOURCE=new b("source"),b.TITLE=new b("title"),b})();x.DublinCoreType=r},7817:(y,x)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.ExtendedRelation=void 0,x.ExtendedRelation=function(){}},8904:function(y,x,r){var b,M=this&&this.__extends||(b=function(A,T){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(U,q){U.__proto__=q}||function(U,q){for(var K in q)Object.prototype.hasOwnProperty.call(q,K)&&(U[K]=q[K])},b(A,T)},function(A,T){if(typeof T!="function"&&T!==null)throw new TypeError("Class extends value "+String(T)+" is not a constructor or null");function U(){this.constructor=A}b(A,T),A.prototype=T===null?Object.create(T):(U.prototype=T.prototype,new U)}),z=this&&this.__values||function(A){var T=typeof Symbol=="function"&&Symbol.iterator,U=T&&A[T],q=0;if(U)return U.call(A);if(A&&typeof A.length=="number")return{next:function(){return A&&q>=A.length&&(A=void 0),{value:A&&A[q++],done:!A}}};throw new TypeError(T?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(x,"__esModule",{value:!0}),x.ExtendedRelationDao=void 0;var B=r(4115),R=r(8572),I=r(7817),O=(function(A){function T(){var U=A!==null&&A.apply(this,arguments)||this;return U.gpkgTableName=T.TABLE_NAME,U.idColumns=["id"],U}return M(T,A),T.prototype.createObject=function(U){var q=new I.ExtendedRelation;return U&&(q.base_table_name=U.base_table_name,q.base_primary_column=U.base_primary_column,q.related_table_name=U.base_primary_column,q.related_table_name=U.related_table_name,q.relation_name=U.relation_name,q.mapping_table_name=U.mapping_table_name,q.related_primary_column=U.related_primary_column,q.id=U.id),q},T.prototype.createTable=function(){return this.geoPackage.getTableCreator().createExtendedRelations()},T.prototype.getBaseTables=function(){for(var U=[],q=this.queryForColumns("base_table_name"),K=0;K<q.length;K++)U.push(q[K].base_table_name);return U},T.prototype.getRelatedTables=function(){for(var U=[],q=this.queryForColumns("related_table_name"),K=0;K<q.length;K++)U.push(q[K].related_table_name);return U},T.prototype.getBaseTableRelations=function(U){var q,K,J=[];try{for(var te=z(this.queryForAllEq(T.COLUMN_BASE_TABLE_NAME,U)),oe=te.next();!oe.done;oe=te.next()){var ue=oe.value;J.push(this.createObject(ue))}}catch(fe){q={error:fe}}finally{try{oe&&!oe.done&&(K=te.return)&&K.call(te)}finally{if(q)throw q.error}}return J},T.prototype.getRelatedTableRelations=function(U){var q,K,J=[];try{for(var te=z(this.queryForAllEq(T.COLUMN_RELATED_TABLE_NAME,U)),oe=te.next();!oe.done;oe=te.next()){var ue=oe.value;J.push(this.createObject(ue))}}catch(fe){q={error:fe}}finally{try{oe&&!oe.done&&(K=te.return)&&K.call(te)}finally{if(q)throw q.error}}return J},T.prototype.getBaseTableRelationsWithName=function(U,q){var K,J,te=new R.ColumnValues;te.addColumn(T.COLUMN_BASE_TABLE_NAME,U),te.addColumn(T.COLUMN_RELATION_NAME,q);var oe=this.buildWhere(te,"and"),ue=this.buildWhereArgs(te),fe=[];try{for(var Le=z(this.queryForAll(oe,ue)),Ge=Le.next();!Ge.done;Ge=Le.next()){var ze=Ge.value;fe.push(this.createObject(ze))}}catch(je){K={error:je}}finally{try{Ge&&!Ge.done&&(J=Le.return)&&J.call(Le)}finally{if(K)throw K.error}}return fe},T.prototype.getTableRelations=function(U){var q,K,J=new R.ColumnValues;J.addColumn(T.COLUMN_BASE_TABLE_NAME,U),J.addColumn(T.COLUMN_RELATED_TABLE_NAME,U);var te=this.buildWhere(J,"or"),oe=this.buildWhereArgs(J),ue=[];try{for(var fe=z(this.queryForAll(te,oe)),Le=fe.next();!Le.done;Le=fe.next()){var Ge=Le.value;ue.push(this.createObject(Ge))}}catch(ze){q={error:ze}}finally{try{Le&&!Le.done&&(K=fe.return)&&K.call(fe)}finally{if(q)throw q.error}}return ue},T.prototype.getRelations=function(U,q,K){var J,te,oe=new R.ColumnValues;oe.addColumn(T.COLUMN_BASE_TABLE_NAME,U),oe.addColumn(T.COLUMN_RELATED_TABLE_NAME,q),oe.addColumn(T.COLUMN_MAPPING_TABLE_NAME,K);var ue=this.buildWhereLike(oe,"and"),fe=this.buildWhereArgs(oe),Le=[];try{for(var Ge=z(this.queryForAll(ue,fe)),ze=Ge.next();!ze.done;ze=Ge.next()){var je=ze.value;Le.push(this.createObject(je))}}catch(Be){J={error:Be}}finally{try{ze&&!ze.done&&(te=Ge.return)&&te.call(Ge)}finally{if(J)throw J.error}}return Le},T.prototype.queryByMappingTableName=function(U){var q,K,J=new R.ColumnValues;J.addColumn(T.COLUMN_MAPPING_TABLE_NAME,U);var te=this.buildWhere(J,"and"),oe=this.buildWhereArgs(J),ue=[];try{for(var fe=z(this.queryForAll(te,oe)),Le=fe.next();!Le.done;Le=fe.next()){var Ge=Le.value;ue.push(this.createObject(Ge))}}catch(ze){q={error:ze}}finally{try{Le&&!Le.done&&(K=fe.return)&&K.call(fe)}finally{if(q)throw q.error}}return ue},T.TABLE_NAME="gpkgext_relations",T.ID="id",T.COLUMN_ID=T.TABLE_NAME+"."+T.ID,T.BASE_TABLE_NAME="base_table_name",T.COLUMN_BASE_TABLE_NAME=T.TABLE_NAME+"."+T.BASE_TABLE_NAME,T.BASE_PRIMARY_COLUMN="base_primary_column",T.COLUMN_BASE_PRIMARY_COLUMN=T.TABLE_NAME+"."+T.BASE_PRIMARY_COLUMN,T.RELATED_TABLE_NAME="related_table_name",T.COLUMN_RELATED_TABLE_NAME=T.TABLE_NAME+"."+T.RELATED_TABLE_NAME,T.RELATED_PRIMARY_COLUMN="related_primary_column",T.COLUMN_RELATED_PRIMARY_COLUMN=T.TABLE_NAME+"."+T.RELATED_PRIMARY_COLUMN,T.RELATION_NAME="relation_name",T.COLUMN_RELATION_NAME=T.TABLE_NAME+"."+T.RELATION_NAME,T.MAPPING_TABLE_NAME="mapping_table_name",T.COLUMN_MAPPING_TABLE_NAME=T.TABLE_NAME+"."+T.MAPPING_TABLE_NAME,T})(B.Dao);x.ExtendedRelationDao=O},1832:function(y,x,r){var b,M=r(5108),z=this&&this.__extends||(b=function(tt,Ke){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ze,Qe){Ze.__proto__=Qe}||function(Ze,Qe){for(var vt in Qe)Object.prototype.hasOwnProperty.call(Qe,vt)&&(Ze[vt]=Qe[vt])},b(tt,Ke)},function(tt,Ke){if(typeof Ke!="function"&&Ke!==null)throw new TypeError("Class extends value "+String(Ke)+" is not a constructor or null");function Ze(){this.constructor=tt}b(tt,Ke),tt.prototype=Ke===null?Object.create(Ke):(Ze.prototype=Ke.prototype,new Ze)}),B=this&&this.__values||function(tt){var Ke=typeof Symbol=="function"&&Symbol.iterator,Ze=Ke&&tt[Ke],Qe=0;if(Ze)return Ze.call(tt);if(tt&&typeof tt.length=="number")return{next:function(){return tt&&Qe>=tt.length&&(tt=void 0),{value:tt&&tt[Qe++],done:!tt}}};throw new TypeError(Ke?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(x,"__esModule",{value:!0}),x.RelatedTablesExtension=void 0;var R=r(8140),I=r(624),O=r(7502),A=r(6366),T=r(2702),U=r(4599),q=r(233),K=r(6302),J=r(1447),te=r(8904),oe=r(8483),ue=r(5897),fe=r(8572),Le=r(7817),Ge=r(7403),ze=r(362),je=r(8008),Be=r(2071),_e=r(1394),He=(function(tt){function Ke(Ze){var Qe=tt.call(this,Ze)||this;return Qe.extendedRelationDao=Ze.extendedRelationDao,Qe}return z(Ke,tt),Ke.prototype.getOrCreateExtension=function(){var Ze=this.getOrCreate(Ke.EXTENSION_NAME,"gpkgext_relations",void 0,Ke.EXTENSION_RELATED_TABLES_DEFINITION,I.Extension.READ_WRITE);return this.extendedRelationDao.createTable(),Ze},Ke.prototype.getOrCreateMappingTable=function(Ze){return this.getOrCreateExtension(),this.getOrCreate(Ke.EXTENSION_NAME,Ze,void 0,Ke.EXTENSION_RELATED_TABLES_DEFINITION,I.Extension.READ_WRITE)},Ke.prototype.setContents=function(Ze){var Qe=this.geoPackage.contentsDao.queryForId(Ze.getTableName());return Ze.setContents(Qe)},Ke.prototype.getUserDao=function(Ze){return J.UserCustomDao.readTable(this.geoPackage,Ze)},Ke.prototype.getMappingDao=function(Ze){var Qe;return Qe=Ze instanceof Le.ExtendedRelation?Ze.mapping_table_name:Ze,new K.UserMappingDao(this.getUserDao(Qe),this.geoPackage)},Ke.prototype.getRelationships=function(Ze){return this.extendedRelationDao.isTableExists()?Ze?this.geoPackage.extendedRelationDao.getBaseTableRelations(Ze):this.extendedRelationDao.queryForAll():[]},Ke.prototype.hasRelations=function(Ze,Qe,vt){var pt=[];return this.extendedRelationDao.isTableExists()&&(pt=this.extendedRelationDao.getRelations(Ze,Qe,vt)),!!pt.length},Ke.prototype.getRelatedRows=function(Ze,Qe){for(var vt=this.getRelationships(Ze),pt=0;pt<vt.length;pt++){var ut=vt[pt],Mt=this.getMappingRowsForBase(ut.mapping_table_name,Qe);ut.mappingRows=Mt;var bt=void 0;switch(ut.relation_name){case oe.RelationType.MEDIA.name:bt=O.MediaDao.readTable(this.geoPackage,ut.related_table_name);break;case oe.RelationType.ATTRIBUTES.name:bt=je.AttributesDao.readTable(this.geoPackage,ut.related_table_name);break;case oe.RelationType.FEATURES.name:bt=Be.FeatureDao.readTable(this.geoPackage,ut.related_table_name);break;case oe.RelationType.TILES.name:bt=_e.TileDao.readTable(this.geoPackage,ut.related_table_name);break;case oe.RelationType.SIMPLE_ATTRIBUTES.name:bt=T.SimpleAttributesDao.readTable(this.geoPackage,ut.related_table_name);break;default:throw new Error("Relationship Unknown")}for(var ar=0;ar<Mt.length;ar++){var dt=Mt[ar];dt.row=bt.queryForId(dt.relatedId)}}return vt},Ke.prototype.getRelationshipBuilder=function(){return Ke.RelationshipBuilder()},Ke.prototype.addRelationship=function(Ze){var Qe,vt=this.extendedRelationDao.createObject();if(Ze instanceof Le.ExtendedRelation?(vt=Ze,Qe=q.UserMappingTable.create(vt.mapping_table_name)):(Qe=Ze.userMappingTable,Ze.relationType&&(Ze.relationName=Ze.relationType.name),Ze.relationAuthor&&(Ze.relationName=this.buildRelationName(Ze.relationAuthor,Ze.relationName)),Ze.mappingTableName&&(Qe=q.UserMappingTable.create(Ze.mappingTableName)),Ze.relatedTable&&(this.createRelatedTable(Ze.relatedTable),Ze.relatedTableName=Ze.relatedTable.getTableName(),Ze.relationName=Ze.relatedTable.relation_name),vt.base_table_name=Ze.baseTableName,vt.base_primary_column=this.getPrimaryKeyColumnName(Ze.baseTableName),vt.related_table_name=Ze.relatedTableName,vt.related_primary_column=this.getPrimaryKeyColumnName(Ze.relatedTableName),vt.mapping_table_name=Qe.getTableName(),vt.relation_name=Ze.relationName),this.validateRelationship(vt.base_table_name,vt.related_table_name,vt.relation_name)){this.createUserMappingTable(Qe);var pt=this.extendedRelationDao.queryByMappingTableName(vt.mapping_table_name);return pt.length?pt[0]:(this.extendedRelationDao.create(vt),vt)}},Ke.prototype.getPrimaryKeyColumnName=function(Ze){return new ze.UserCustomTableReader(Ze).readTable(this.geoPackage.database).getPkColumn().getName()},Ke.prototype.addFeaturesRelationship=function(Ze){return Ze instanceof Le.ExtendedRelation?Ze.relation_name=Ze.relation_name||oe.RelationType.FEATURES.name:Ze.relationType=oe.RelationType.FEATURES,this.addRelationship(Ze)},Ke.prototype.addTilesRelationship=function(Ze){return Ze instanceof Le.ExtendedRelation?Ze.relation_name=Ze.relation_name||oe.RelationType.TILES.name:Ze.relationType=oe.RelationType.TILES,this.addRelationship(Ze)},Ke.prototype.addAttributesRelationship=function(Ze){return Ze instanceof Le.ExtendedRelation?Ze.relation_name=Ze.relation_name||oe.RelationType.ATTRIBUTES.name:Ze.relationType=oe.RelationType.ATTRIBUTES,this.addRelationship(Ze)},Ke.prototype.addSimpleAttributesRelationship=function(Ze){return Ze instanceof Le.ExtendedRelation?Ze.relation_name=Ze.relation_name||oe.RelationType.SIMPLE_ATTRIBUTES.name:Ze.relationType=oe.RelationType.SIMPLE_ATTRIBUTES,this.addRelationship(Ze)},Ke.prototype.addMediaRelationship=function(Ze){return Ze instanceof Le.ExtendedRelation?Ze.relation_name=Ze.relation_name||oe.RelationType.MEDIA.name:Ze.relationType=oe.RelationType.MEDIA,this.addRelationship(Ze)},Ke.prototype.removeRelationship=function(Ze){var Qe,vt,pt,ut,Mt,bt,ar,dt,yt=this;if(Ze instanceof Le.ExtendedRelation?(Mt=Ze.relation_name,bt=Ze.related_table_name,ar=Ze.base_table_name,dt=Ze.mapping_table_name):(Mt=Ze.relationName,bt=Ze.relatedTableName,ar=Ze.baseTableName,dt=Ze.userMappingTable,Ze.relationType&&(Mt=Ze.relationType.name),Ze.relationAuthor&&(Mt=this.buildRelationName(Ze.relationAuthor,Mt))),this.extendedRelationDao.isTableExists()){var Gt=new fe.ColumnValues;Gt.addColumn(te.ExtendedRelationDao.COLUMN_BASE_TABLE_NAME,ar),Gt.addColumn(te.ExtendedRelationDao.COLUMN_RELATED_TABLE_NAME,bt),Gt.addColumn(te.ExtendedRelationDao.COLUMN_RELATION_NAME,Mt),Gt.addColumn(te.ExtendedRelationDao.COLUMN_MAPPING_TABLE_NAME,dt);var Bt=this.extendedRelationDao.queryForFieldValues(Gt),Dt=[],Ct=[];try{for(var It=B(Bt),lr=It.next();!lr.done;lr=It.next()){var Je=lr.value;Dt.push(Je.mapping_table_name),Ct.push(Je)}}catch(it){Qe={error:it}}finally{try{lr&&!lr.done&&(vt=It.return)&&vt.call(It)}finally{if(Qe)throw Qe.error}}Dt.forEach((function(it){yt.geoPackage.deleteTable(it)})),this.extensionsDao.deleteByExtensionAndTableName(Ke.EXTENSION_NAME,dt);try{for(var Ve=B(Ct),st=Ve.next();!st.done;st=Ve.next())Je=st.value,this.extendedRelationDao.delete(Je)}catch(it){pt={error:it}}finally{try{st&&!st.done&&(ut=Ve.return)&&ut.call(Ve)}finally{if(pt)throw pt.error}}return Dt.length}return 0},Ke.prototype.createUserMappingTable=function(Ze){var Qe;return Qe=Ze instanceof q.UserMappingTable?Ze:q.UserMappingTable.create(Ze),this.getOrCreateMappingTable(Qe.getTableName()),!!this.geoPackage.isTable(Qe.getTableName())||!!this.geoPackage.tableCreator.createUserTable(Qe)},Ke.prototype.createRelatedTable=function(Ze){if(!this.geoPackage.isTable(Ze.getTableName())){this.geoPackage.tableCreator.createUserTable(Ze);var Qe=new ue.Contents;Qe.table_name=Ze.getTableName(),Qe.data_type=Ze.data_type,Qe.identifier=Ze.getTableName(),this.geoPackage.contentsDao.create(Qe);var vt=this.geoPackage.contentsDao.refresh(Qe);Ze.setContents(vt)}return!0},Ke.prototype.validateRelationship=function(Ze,Qe,vt){if(!this.geoPackage.isTable(Ze))return M.log("Base relationship table does not exist: "+Ze+", Relation: "+vt),!1;if(!this.geoPackage.isTable(Qe))return M.log("Related relationship table does not exist: "+Qe+", Relation: "+vt),!1;var pt=oe.RelationType.fromName(vt);return!pt||!!this.geoPackage.isTableType(pt.dataType,Qe)||(M.log("The related table must be a "+pt.dataType+" table.  Related Table: "+Qe+", Type: "+this.geoPackage.getTableType(Qe)),!1)},Ke.prototype.getMappingsForBase=function(Ze,Qe){for(var vt=this.getMappingDao(Ze),pt=vt.queryByBaseId(Qe),ut=[],Mt=0;Mt<pt.length;Mt++){var bt=vt.getUserMappingRow(pt[Mt]);ut.push(bt.relatedId)}return ut},Ke.prototype.getMappingRowsForBase=function(Ze,Qe){var vt=this.getMappingDao(Ze),pt=[];return vt.queryByBaseId(Qe).forEach((function(ut){pt.push(vt.getUserMappingRow(ut))})),pt},Ke.prototype.getMappingsForRelated=function(Ze,Qe){for(var vt=this.getMappingDao(Ze),pt=vt.queryByRelatedId(Qe),ut=[],Mt=0;Mt<pt.length;Mt++){var bt=vt.getUserMappingRow(pt[Mt]);ut.push(bt.baseId)}return ut},Ke.prototype.getMediaDao=function(Ze){var Qe;Ze instanceof A.MediaTable?Qe=Ze.getTableName():Ze instanceof Le.ExtendedRelation?Qe=Ze.related_table_name:typeof Ze=="string"&&(Qe=Ze);var vt=new ze.UserCustomTableReader(Qe).readTable(this.geoPackage.database);return(Qe=new A.MediaTable(vt.getTableName(),vt.getUserColumns().getColumns(),A.MediaTable.requiredColumns())).setContents(this.geoPackage.contentsDao.queryForId(vt.getTableName())),new O.MediaDao(this.geoPackage,Qe)},Ke.prototype.getSimpleAttributesDao=function(Ze){var Qe;if(Ze instanceof U.SimpleAttributesTable&&Ze.TABLE_TYPE==="simple_attributes")Qe=Ze;else{Ze instanceof Le.ExtendedRelation&&(Qe=Ze.related_table_name);var vt=new ze.UserCustomTableReader(Qe).readTable(this.geoPackage.database);(Qe=new U.SimpleAttributesTable(vt.getTableName(),vt.getUserColumns().getColumns(),U.SimpleAttributesTable.requiredColumns())).setContents(this.geoPackage.contentsDao.queryForId(Qe.getTableName()))}return new T.SimpleAttributesDao(this.geoPackage,Qe)},Ke.prototype.buildRelationName=function(Ze,Qe){return"x-"+Ze+"_"+Qe},Ke.prototype.removeExtension=function(){this.extendedRelationDao.isTableExists()&&(this.extendedRelationDao.queryForAll().forEach((function(Ze){return this.geoPackage.deleteTable(Ze.mapping_table_name)}).bind(this)),this.geoPackage.deleteTable(te.ExtendedRelationDao.TABLE_NAME)),this.extensionsDao.isTableExists()&&this.extensionsDao.deleteByExtension(Ke.EXTENSION_NAME)},Ke.prototype.has=function(Ze){return Ze?this.hasExtension(Ke.EXTENSION_NAME,te.ExtendedRelationDao.TABLE_NAME,null)&&this.hasExtension(Ke.EXTENSION_NAME,Ze,null)||this.hasExtension(Ke.EXTENSION_RELATED_TABLES_NAME_NO_AUTHOR,te.ExtendedRelationDao.TABLE_NAME,null)&&this.hasExtension(Ke.EXTENSION_RELATED_TABLES_NAME_NO_AUTHOR,Ze,null):this.hasExtension(Ke.EXTENSION_NAME,te.ExtendedRelationDao.TABLE_NAME,null)||this.hasExtension(Ke.EXTENSION_RELATED_TABLES_NAME_NO_AUTHOR,te.ExtendedRelationDao.TABLE_NAME,null)},Ke.RelationshipBuilder=function(){return Ge.OptionBuilder.build(["baseTableName","relatedTableName","userMappingTable","mappingTableName","relationName","relationAuthor","relationType","relatedTable"])},Ke.prototype.removeRelationships=function(Ze){var Qe=this;try{this.extendedRelationDao.isTableExists()&&this.extendedRelationDao.getTableRelations(Ze).forEach((function(vt){Qe.removeRelationship(vt)}))}catch{throw new Error("Failed to remove relationships for table: "+Ze)}},Ke.prototype.removeRelationshipsWithMappingTable=function(Ze){var Qe=this;try{this.extendedRelationDao.isTableExists()&&this.extendedRelationDao.queryByMappingTableName(Ze).forEach((function(vt){Qe.removeRelationship(vt)}))}catch{throw new Error("Failed to remove relationships for mapping table: "+Ze)}},Ke.EXTENSION_NAME="gpkg_related_tables",Ke.EXTENSION_RELATED_TABLES_AUTHOR="gpkg",Ke.EXTENSION_RELATED_TABLES_NAME_NO_AUTHOR="related_tables",Ke.EXTENSION_RELATED_TABLES_DEFINITION="TBD",Ke})(R.BaseExtension);x.RelatedTablesExtension=He},7502:function(y,x,r){var b,M=this&&this.__extends||(b=function(O,A){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,U){T.__proto__=U}||function(T,U){for(var q in U)Object.prototype.hasOwnProperty.call(U,q)&&(T[q]=U[q])},b(O,A)},function(O,A){if(typeof A!="function"&&A!==null)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");function T(){this.constructor=O}b(O,A),O.prototype=A===null?Object.create(A):(T.prototype=A.prototype,new T)});Object.defineProperty(x,"__esModule",{value:!0}),x.MediaDao=void 0;var z=r(4668),B=r(6119),R=r(362),I=(function(O){function A(T,U){return O.call(this,T,U)||this}return M(A,O),A.prototype.newRow=function(T,U){return new B.MediaRow(this.table,T,U)},Object.defineProperty(A.prototype,"table",{get:function(){return this._table},enumerable:!1,configurable:!0}),A.readTable=function(T,U){return new A(T,new R.UserCustomTableReader(U).readTable(T.database))},A})(z.UserDao);x.MediaDao=I},6119:function(y,x,r){var b,M=this&&this.__extends||(b=function(I,O){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,T){A.__proto__=T}||function(A,T){for(var U in T)Object.prototype.hasOwnProperty.call(T,U)&&(A[U]=T[U])},b(I,O)},function(I,O){if(typeof O!="function"&&O!==null)throw new TypeError("Class extends value "+String(O)+" is not a constructor or null");function A(){this.constructor=I}b(I,O),I.prototype=O===null?Object.create(O):(A.prototype=O.prototype,new A)});Object.defineProperty(x,"__esModule",{value:!0}),x.MediaRow=void 0;var z=r(2224),B=r(9325),R=(function(I){function O(A,T,U){var q=I.call(this,A,T,U)||this;return q.mediaTable=A,q}return M(O,I),Object.defineProperty(O.prototype,"dataColumn",{get:function(){return this.mediaTable.dataColumn},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"data",{get:function(){return this.getValueWithColumnName(this.dataColumn.name)},set:function(A){this.setValueWithColumnName(this.dataColumn.name,A)},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"dataImage",{get:function(){return B.ImageUtils.getImage(this.data,this.contentType)},enumerable:!1,configurable:!0}),O.prototype.getScaledDataImage=function(A){return B.ImageUtils.getScaledImage(this.data,A)},Object.defineProperty(O.prototype,"contentTypeColumn",{get:function(){return this.mediaTable.contentTypeColumn},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"contentType",{get:function(){return this.getValueWithColumnName(this.contentTypeColumn.name)},set:function(A){this.setValueWithColumnName(this.contentTypeColumn.name,A)},enumerable:!1,configurable:!0}),O})(z.UserRow);x.MediaRow=R},6366:function(y,x,r){var b,M=this&&this.__extends||(b=function(A,T){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(U,q){U.__proto__=q}||function(U,q){for(var K in q)Object.prototype.hasOwnProperty.call(q,K)&&(U[K]=q[K])},b(A,T)},function(A,T){if(typeof T!="function"&&T!==null)throw new TypeError("Class extends value "+String(T)+" is not a constructor or null");function U(){this.constructor=A}b(A,T),A.prototype=T===null?Object.create(T):(U.prototype=T.prototype,new U)});Object.defineProperty(x,"__esModule",{value:!0}),x.MediaTable=void 0;var z=r(8840),B=r(8483),R=r(5865),I=r(7319),O=(function(A){function T(U,q,K){var J=A.call(this,U,T.RELATION_TYPE.name,T.RELATION_TYPE.dataType,q,K)||this;return J.TABLE_TYPE="media",J}return M(T,A),Object.defineProperty(T.prototype,"tableType",{get:function(){return this.TABLE_TYPE},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"dataColumn",{get:function(){return this.getColumnWithColumnName(T.COLUMN_DATA)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"contentTypeColumn",{get:function(){return this.getColumnWithColumnName(T.COLUMN_CONTENT_TYPE)},enumerable:!1,configurable:!0}),T.create=function(U,q){var K=T.createRequiredColumns();return q&&(K=K.concat(q)),new T(U,K,T.requiredColumns())},T.requiredColumns=function(U){U===void 0&&(U=T.COLUMN_ID);var q=[];return q.push(U),q.push(T.COLUMN_DATA),q.push(T.COLUMN_CONTENT_TYPE),q},T.numRequiredColumns=function(){return T.requiredColumns().length},T.createRequiredColumns=function(U,q){return U===void 0&&(U=0),q===void 0&&(q=T.COLUMN_ID),[T.createIdColumn(U++,q),T.createDataColumn(U++),T.createContentTypeColumn(U++)]},T.createIdColumn=function(U,q){return R.UserColumn.createPrimaryKeyColumn(U,q)},T.createDataColumn=function(U){return R.UserColumn.createColumn(U,T.COLUMN_DATA,I.GeoPackageDataType.BLOB,!0)},T.createContentTypeColumn=function(U){return R.UserColumn.createColumn(U,T.COLUMN_CONTENT_TYPE,I.GeoPackageDataType.TEXT,!0)},T.RELATION_TYPE=B.RelationType.MEDIA,T.COLUMN_ID="id",T.COLUMN_DATA="data",T.COLUMN_CONTENT_TYPE="content_type",T})(z.UserRelatedTable);x.MediaTable=O},8483:(y,x,r)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.RelationType=void 0;var b=r(9971),M=(function(){function z(B,R){this.name=B,this.dataType=R}return z.fromName=function(B){return z[B.toUpperCase()]},z.FEATURES=new z("features",b.ContentsDataType.FEATURES),z.SIMPLE_ATTRIBUTES=new z("simple_attributes",b.ContentsDataType.ATTRIBUTES),z.MEDIA=new z("media",b.ContentsDataType.ATTRIBUTES),z.ATTRIBUTES=new z("attributes",b.ContentsDataType.ATTRIBUTES),z.TILES=new z("tiles",b.ContentsDataType.TILES),z})();x.RelationType=M},2702:function(y,x,r){var b,M=this&&this.__extends||(b=function(I,O){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,T){A.__proto__=T}||function(A,T){for(var U in T)Object.prototype.hasOwnProperty.call(T,U)&&(A[U]=T[U])},b(I,O)},function(I,O){if(typeof O!="function"&&O!==null)throw new TypeError("Class extends value "+String(O)+" is not a constructor or null");function A(){this.constructor=I}b(I,O),I.prototype=O===null?Object.create(O):(A.prototype=O.prototype,new A)});Object.defineProperty(x,"__esModule",{value:!0}),x.SimpleAttributesDao=void 0;var z=r(4668),B=r(7374),R=(function(I){function O(A,T){return I.call(this,A,T)||this}return M(O,I),O.prototype.newRow=function(A,T){return new B.SimpleAttributesRow(this.table,A,T)},Object.defineProperty(O.prototype,"table",{get:function(){return this._table},enumerable:!1,configurable:!0}),O.prototype.getRows=function(A){for(var T=[],U=0;U<A.length;U++){var q=this.queryForId(A[U]);q&&T.push(q)}return T},O.readTable=function(A,T){return A.relatedTablesExtension.getSimpleAttributesDao(T)},O})(z.UserDao);x.SimpleAttributesDao=R},7374:function(y,x,r){var b,M=this&&this.__extends||(b=function(B,R){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,O){I.__proto__=O}||function(I,O){for(var A in O)Object.prototype.hasOwnProperty.call(O,A)&&(I[A]=O[A])},b(B,R)},function(B,R){if(typeof R!="function"&&R!==null)throw new TypeError("Class extends value "+String(R)+" is not a constructor or null");function I(){this.constructor=B}b(B,R),B.prototype=R===null?Object.create(R):(I.prototype=R.prototype,new I)});Object.defineProperty(x,"__esModule",{value:!0}),x.SimpleAttributesRow=void 0;var z=(function(B){function R(I,O,A){var T=B.call(this,I,O,A)||this;return T.simpleAttributesTable=I,T}return M(R,B),R})(r(2224).UserRow);x.SimpleAttributesRow=z},4599:function(y,x,r){var b,M=this&&this.__extends||(b=function(A,T){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(U,q){U.__proto__=q}||function(U,q){for(var K in q)Object.prototype.hasOwnProperty.call(q,K)&&(U[K]=q[K])},b(A,T)},function(A,T){if(typeof T!="function"&&T!==null)throw new TypeError("Class extends value "+String(T)+" is not a constructor or null");function U(){this.constructor=A}b(A,T),A.prototype=T===null?Object.create(T):(U.prototype=T.prototype,new U)});Object.defineProperty(x,"__esModule",{value:!0}),x.SimpleAttributesTable=void 0;var z=r(8840),B=r(8483),R=r(5865),I=r(7319),O=(function(A){function T(U,q,K){var J=A.call(this,U,T.RELATION_TYPE.name,T.RELATION_TYPE.dataType,q,K)||this;return J.TABLE_TYPE="simple_attributes",J.validateColumns(),J}return M(T,A),T.prototype.validateColumns=function(){var U=this.columns;if(U.getColumns().length<2)throw new Error("Simple Attributes Tables require at least one non id column");for(var q=0;q<U.getColumns().length;q++){var K=U.getColumns()[q];if(!T.isSimple(K))throw new Error("Simple Attributes Tables only support simple data types. Column: "+K.name+", Non Simple Data Type: "+K.dataType)}return!0},T.create=function(U,q){var K=T.createRequiredColumns(0);return q&&(K=K.concat(q)),new T(U,K,T.requiredColumns())},T.requiredColumns=function(U){U===void 0&&(U=T.COLUMN_ID);var q=[];return q.push(U),q},T.numRequiredColumns=function(){return T.requiredColumns().length},T.createRequiredColumns=function(U,q){return U===void 0&&(U=0),q===void 0&&(q="id"),[T.createIdColumn(U++,q||T.COLUMN_ID)]},T.createIdColumn=function(U,q){return R.UserColumn.createPrimaryKeyColumn(U,q)},T.isSimple=function(U){return U.notNull&&T.isSimpleDataType(U.dataType)},T.isSimpleDataType=function(U){return U!==I.GeoPackageDataType.BLOB},T.RELATION_TYPE=B.RelationType.SIMPLE_ATTRIBUTES,T.COLUMN_ID="id",T})(z.UserRelatedTable);x.SimpleAttributesTable=O},6302:function(y,x,r){var b,M=this&&this.__extends||(b=function(A,T){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(U,q){U.__proto__=q}||function(U,q){for(var K in q)Object.prototype.hasOwnProperty.call(q,K)&&(U[K]=q[K])},b(A,T)},function(A,T){if(typeof T!="function"&&T!==null)throw new TypeError("Class extends value "+String(T)+" is not a constructor or null");function U(){this.constructor=A}b(A,T),A.prototype=T===null?Object.create(T):(U.prototype=T.prototype,new U)});Object.defineProperty(x,"__esModule",{value:!0}),x.UserMappingDao=void 0;var z=r(1447),B=r(233),R=r(8029),I=r(8572),O=(function(A){function T(U,q,K){return A.call(this,q,K||T.createMappingTable(U))||this}return M(T,A),T.createMappingTable=function(U){return new B.UserMappingTable(U.table.getTableName(),U.table.getUserColumns().getColumns(),B.UserMappingTable.requiredColumns())},Object.defineProperty(T.prototype,"table",{get:function(){return this._table},enumerable:!1,configurable:!0}),T.prototype.newRow=function(U,q){return new R.UserMappingRow(this.table,U,q)},T.prototype.getUserMappingRow=function(U){return this.getRow(U)},T.prototype.queryByBaseId=function(U){return this.queryForAllEq(B.UserMappingTable.COLUMN_BASE_ID,U instanceof R.UserMappingRow?U.baseId:U)},T.prototype.queryByRelatedId=function(U){return this.queryForAllEq(B.UserMappingTable.COLUMN_RELATED_ID,U instanceof R.UserMappingRow?U.relatedId:U)},T.prototype.queryByIds=function(U,q){var K=new I.ColumnValues;return K.addColumn(B.UserMappingTable.COLUMN_BASE_ID,U instanceof R.UserMappingRow?U.baseId:U),q!==void 0&&K.addColumn(B.UserMappingTable.COLUMN_RELATED_ID,q instanceof R.UserMappingRow?q.relatedId:q),this.queryForFieldValues(K)},T.prototype.uniqueRelatedIds=function(){var U="SELECT DISTINCT ";return U+=B.UserMappingTable.COLUMN_RELATED_ID,U+=" FROM ",U+="'"+this.gpkgTableName+"'",this.connection.all(U)},T.prototype.countByIds=function(U,q){var K=new I.ColumnValues;return K.addColumn(B.UserMappingTable.COLUMN_BASE_ID,U instanceof R.UserMappingRow?U.baseId:U),q!==void 0&&K.addColumn(B.UserMappingTable.COLUMN_RELATED_ID,q instanceof R.UserMappingRow?q.relatedId:q),this.count(K)},T.prototype.deleteByBaseId=function(U){var q="";q+=this.buildWhereWithFieldAndValue(B.UserMappingTable.COLUMN_BASE_ID,U instanceof R.UserMappingRow?U.baseId:U);var K=this.buildWhereArgs([U instanceof R.UserMappingRow?U.baseId:U]);return this.deleteWhere(q,K)},T.prototype.deleteByRelatedId=function(U){var q="";q+=this.buildWhereWithFieldAndValue(B.UserMappingTable.COLUMN_RELATED_ID,U instanceof R.UserMappingRow?U.relatedId:U);var K=this.buildWhereArgs([U instanceof R.UserMappingRow?U.relatedId:U]);return this.deleteWhere(q,K)},T.prototype.deleteByIds=function(U,q){var K="",J=[U instanceof R.UserMappingRow?U.baseId:U];K+=this.buildWhereWithFieldAndValue(B.UserMappingTable.COLUMN_BASE_ID,U instanceof R.UserMappingRow?U.baseId:U),q!==void 0&&(K+=" and ",K+=this.buildWhereWithFieldAndValue(B.UserMappingTable.COLUMN_RELATED_ID,q instanceof R.UserMappingRow?q.relatedId:q),J.push(q instanceof R.UserMappingRow?q.relatedId:q));var te=this.buildWhereArgs(J);return this.deleteWhere(K,te)},T})(z.UserCustomDao);x.UserMappingDao=O},8029:function(y,x,r){var b,M=this&&this.__extends||(b=function(B,R){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,O){I.__proto__=O}||function(I,O){for(var A in O)Object.prototype.hasOwnProperty.call(O,A)&&(I[A]=O[A])},b(B,R)},function(B,R){if(typeof R!="function"&&R!==null)throw new TypeError("Class extends value "+String(R)+" is not a constructor or null");function I(){this.constructor=B}b(B,R),B.prototype=R===null?Object.create(R):(I.prototype=R.prototype,new I)});Object.defineProperty(x,"__esModule",{value:!0}),x.UserMappingRow=void 0;var z=(function(B){function R(I,O,A){var T=B.call(this,I,O,A)||this;return T.table=I,T}return M(R,B),Object.defineProperty(R.prototype,"baseIdColumn",{get:function(){return this.table.baseIdColumn},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"baseId",{get:function(){return this.getValueWithColumnName(this.baseIdColumn.name)},set:function(I){this.setValueWithColumnName(this.baseIdColumn.name,I)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"relatedIdColumn",{get:function(){return this.table.relatedIdColumn},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"relatedId",{get:function(){return this.getValueWithColumnName(this.relatedIdColumn.name)},set:function(I){this.setValueWithColumnName(this.relatedIdColumn.name,I)},enumerable:!1,configurable:!0}),R})(r(2224).UserRow);x.UserMappingRow=z},233:function(y,x,r){var b,M=this&&this.__extends||(b=function(I,O){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,T){A.__proto__=T}||function(A,T){for(var U in T)Object.prototype.hasOwnProperty.call(T,U)&&(A[U]=T[U])},b(I,O)},function(I,O){if(typeof O!="function"&&O!==null)throw new TypeError("Class extends value "+String(O)+" is not a constructor or null");function A(){this.constructor=I}b(I,O),I.prototype=O===null?Object.create(O):(A.prototype=O.prototype,new A)});Object.defineProperty(x,"__esModule",{value:!0}),x.UserMappingTable=void 0;var z=r(5865),B=r(7319),R=(function(I){function O(){return I!==null&&I.apply(this,arguments)||this}return M(O,I),Object.defineProperty(O.prototype,"tableType",{get:function(){return"userMappingTable"},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"baseIdColumn",{get:function(){return this.getColumnWithColumnName(O.COLUMN_BASE_ID)},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"relatedIdColumn",{get:function(){return this.getColumnWithColumnName(O.COLUMN_RELATED_ID)},enumerable:!1,configurable:!0}),O.create=function(A,T){var U=O.createRequiredColumns(0);return T&&(U=U.concat(T)),new O(A,U,O.requiredColumns())},O.numRequiredColumns=function(){return O.createRequiredColumns(0).length},O.createRequiredColumns=function(A){return A===void 0&&(A=0),[O.createBaseIdColumn(A++),O.createRelatedIdColumn(A)]},O.createBaseIdColumn=function(A){return z.UserColumn.createColumn(A,O.COLUMN_BASE_ID,B.GeoPackageDataType.INTEGER,!0)},O.createRelatedIdColumn=function(A){return z.UserColumn.createColumn(A,O.COLUMN_RELATED_ID,B.GeoPackageDataType.INTEGER,!0)},O.requiredColumns=function(){return[O.COLUMN_BASE_ID,O.COLUMN_RELATED_ID]},O.COLUMN_BASE_ID="base_id",O.COLUMN_RELATED_ID="related_id",O})(r(2378).UserCustomTable);x.UserMappingTable=R},8840:function(y,x,r){var b,M=this&&this.__extends||(b=function(B,R){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,O){I.__proto__=O}||function(I,O){for(var A in O)Object.prototype.hasOwnProperty.call(O,A)&&(I[A]=O[A])},b(B,R)},function(B,R){if(typeof R!="function"&&R!==null)throw new TypeError("Class extends value "+String(R)+" is not a constructor or null");function I(){this.constructor=B}b(B,R),B.prototype=R===null?Object.create(R):(I.prototype=R.prototype,new I)});Object.defineProperty(x,"__esModule",{value:!0}),x.UserRelatedTable=void 0;var z=(function(B){function R(I,O,A,T,U){var q=B.call(this,I,T,U)||this;return q.relation_name=O,q.data_type=A,q}return M(R,B),Object.defineProperty(R.prototype,"tableType",{get:function(){return"userRelatedTable"},enumerable:!1,configurable:!0}),R.prototype.setContents=function(I){if(!I.data_type||I.data_type!==this.data_type)throw new Error("The contents of this related table must have a data type of "+this.data_type);return this.contents=I,!0},R})(r(2378).UserCustomTable);x.UserRelatedTable=z},5859:function(y,x,r){var b,M=r(5108),z=this&&this.__extends||(b=function(U,q){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(K,J){K.__proto__=J}||function(K,J){for(var te in J)Object.prototype.hasOwnProperty.call(J,te)&&(K[te]=J[te])},b(U,q)},function(U,q){if(typeof q!="function"&&q!==null)throw new TypeError("Class extends value "+String(q)+" is not a constructor or null");function K(){this.constructor=U}b(U,q),U.prototype=q===null?Object.create(q):(K.prototype=q.prototype,new K)});Object.defineProperty(x,"__esModule",{value:!0}),x.RTreeIndex=void 0;var B=r(8140),R=r(624),I=r(735),O=r(1895),A=r(857),T=(function(U){function q(K,J){var te=U.call(this,K)||this;return te.extensionName=R.Extension.buildExtensionName(I.RTreeIndexDao.EXTENSION_RTREE_INDEX_AUTHOR,I.RTreeIndexDao.EXTENSION_RTREE_INDEX_NAME_NO_AUTHOR),te.extensionDefinition=I.RTreeIndexDao.EXTENSION_RTREE_INDEX_DEFINITION,J!=null&&(te.tableName=J.table_name,te.primaryKeyColumn=J.idColumns[0],te.columnName=J.getGeometryColumnName()),te.rtreeIndexDao=new I.RTreeIndexDao(K,J),te.extensionExists=te.hasExtension(te.extensionName,te.tableName,te.columnName),te.createAllFunctions(),te}return z(q,U),q.prototype.getRTreeIndexExtension=function(){return this.getExtension(this.extensionName,this.tableName,this.columnName)},q.prototype.getOrCreateExtension=function(){return this.getOrCreate(this.extensionName,this.tableName,this.columnName,this.extensionDefinition,R.Extension.WRITE_ONLY)},q.prototype.createWithParameters=function(K,J,te){return this.hasExtension(this.extensionName,K,J)||(this.getOrCreate(this.extensionName,K,J,I.RTreeIndexDao.EXTENSION_RTREE_INDEX_DEFINITION,R.Extension.WRITE_ONLY),this.createRTreeIndex(K,J),this.loadRTreeIndex(K,J,te),this.createAllTriggers(K,J,te)),this.getRTreeIndexExtension()},q.prototype.create=function(K){var J=K||function(){};if(this.extensionExists)return this.getRTreeIndexExtension();this.getOrCreate(this.extensionName,this.tableName,this.columnName,I.RTreeIndexDao.EXTENSION_RTREE_INDEX_DEFINITION,R.Extension.WRITE_ONLY),this.createAllFunctions(),this.createRTreeIndex(this.tableName,this.columnName),J({description:"Creating Feature Index",count:0,totalCount:this.connection.count(this.tableName),layer:this.tableName});try{this.loadRTreeIndex(this.tableName,this.columnName,this.primaryKeyColumn)}catch(te){M.log("ERROR CREATING RTREE INDEX",te)}return this.createAllTriggers(this.tableName,this.columnName,this.primaryKeyColumn),this.getRTreeIndexExtension()},q.prototype.createAllTriggers=function(K,J,te){var oe='CREATE TRIGGER "rtree_'+K+"_"+J+'_insert" AFTER INSERT ON "'+K+'" WHEN (new.'+J+" NOT NULL AND NOT ST_IsEmpty(NEW."+J+')) BEGIN   INSERT OR REPLACE INTO "rtree_'+K+"_"+J+'" VALUES (    NEW.'+te+",    ST_MinX(NEW."+J+"), ST_MaxX(NEW."+J+"),     ST_MinY(NEW."+J+"), ST_MaxY(NEW."+J+")   ); END;",ue='CREATE TRIGGER "rtree_'+K+"_"+J+'_update1" AFTER UPDATE OF '+J+' ON "'+K+'" WHEN OLD.'+te+" = NEW."+te+" AND      (NEW."+J+" NOTNULL AND NOT ST_IsEmpty(NEW."+J+')) BEGIN   INSERT OR REPLACE INTO "rtree_'+K+"_"+J+'" VALUES (    NEW.'+te+",    ST_MinX(NEW."+J+"), ST_MaxX(NEW."+J+"),     ST_MinY(NEW."+J+"), ST_MaxY(NEW."+J+")   ); END;",fe='CREATE TRIGGER "rtree_'+K+"_"+J+'_update2" AFTER UPDATE OF '+J+' ON "'+K+'" WHEN OLD.'+te+" = NEW."+te+" AND        (NEW."+J+" ISNULL OR ST_IsEmpty(NEW."+J+')) BEGIN   DELETE FROM "rtree_'+K+"_"+J+'" WHERE id = OLD.'+te+"; END;",Le='CREATE TRIGGER "rtree_'+K+"_"+J+'_update3" AFTER UPDATE OF '+J+' ON "'+K+'" WHEN OLD.'+te+" != NEW."+te+" AND        (NEW."+J+" NOTNULL AND NOT ST_IsEmpty(NEW."+J+')) BEGIN   DELETE FROM "rtree_'+K+"_"+J+'" WHERE id = OLD.'+te+';   INSERT OR REPLACE INTO "rtree_'+K+"_"+J+'" VALUES (    NEW.'+te+",     ST_MinX(NEW."+J+"), ST_MaxX(NEW."+J+"),     ST_MinY(NEW."+J+"), ST_MaxY(NEW."+J+")  ); END;",Ge='CREATE TRIGGER "rtree_'+K+"_"+J+'_update4" AFTER UPDATE ON "'+K+'"  WHEN OLD.'+te+" != NEW."+te+" AND        (NEW."+J+" ISNULL OR ST_IsEmpty(NEW."+J+')) BEGIN   DELETE FROM "rtree_'+K+"_"+J+'" WHERE id IN (OLD.'+te+", NEW."+te+"); END;",ze='CREATE TRIGGER "rtree_'+K+"_"+J+'_delete" AFTER DELETE ON "'+K+'" WHEN old.'+J+' NOT NULL BEGIN  DELETE FROM "rtree_'+K+"_"+J+'" WHERE id = OLD.'+te+"; END;",je=0;return je+=this.connection.run(oe).changes,je+=this.connection.run(ue).changes,je+=this.connection.run(fe).changes,je+=this.connection.run(Le).changes,(je+=this.connection.run(Ge).changes)+this.connection.run(ze).changes===6},q.prototype.loadRTreeIndex=function(K,J,te){return this.connection.run('INSERT OR REPLACE INTO "rtree_'+K+"_"+J+'" SELECT '+te+", st_minx("+J+"), st_maxx("+J+"), st_miny("+J+"), st_maxy("+J+') FROM "'+K+'"').changes===1},q.prototype.createRTreeIndex=function(K,J){return this.connection.run('CREATE VIRTUAL TABLE "rtree_'+K+"_"+J+'" USING rtree(id, minx, maxx, miny, maxy)').changes===1},q.prototype.createAllFunctions=function(){this.createMinXFunction(),this.createMaxXFunction(),this.createMinYFunction(),this.createMaxYFunction(),this.createIsEmptyFunction()},q.prototype.createMinXFunction=function(){this.connection.registerFunction("ST_MinX",(function(K){var J=new A.GeometryData(K);if(!J.geometry)return null;var te=J.envelope;return te||(te=O.EnvelopeBuilder.buildEnvelopeWithGeometry(J.geometry)),te.minX===1/0?null:te.minX}))},q.prototype.createMinYFunction=function(){this.connection.registerFunction("ST_MinY",(function(K){var J=new A.GeometryData(K);if(!J.geometry)return null;var te=J.envelope;return te||(te=O.EnvelopeBuilder.buildEnvelopeWithGeometry(J.geometry)),te.minY===1/0?null:te.minY}))},q.prototype.createMaxXFunction=function(){this.connection.registerFunction("ST_MaxX",(function(K){var J=new A.GeometryData(K);if(!J.geometry)return null;var te=J.envelope;return te||(te=O.EnvelopeBuilder.buildEnvelopeWithGeometry(J.geometry)),te.maxX===-1/0?null:te.maxX}))},q.prototype.createMaxYFunction=function(){this.connection.registerFunction("ST_MaxY",(function(K){var J=new A.GeometryData(K);if(!J.geometry)return null;var te=J.envelope;return te||(te=O.EnvelopeBuilder.buildEnvelopeWithGeometry(J.geometry)),te.maxY===-1/0?null:te.maxY}))},q.prototype.createIsEmptyFunction=function(){this.connection.registerFunction("ST_IsEmpty",(function(K){var J=new A.GeometryData(K);return J&&!J.empty&&J.geometry?0:1}))},q.prototype.has=function(K,J){return this.hasExtension(this.extensionName,K,J)},q.prototype.deleteTable=function(K){var J=this;try{this.extensionsDao.isTableExists()&&this.extensionsDao.queryByExtensionAndTableName(this.extensionName,K).forEach((function(te){J.deleteTableAndColumn(te.getTableName(),te.column_name)}))}catch{throw new Error("Failed to delete RTree Index extensions for table. GeoPackage: "+this.geoPackage.name+", Table: "+K)}},q.prototype.deleteTableAndColumn=function(K,J){if(this.has(K,J)){this.dropTableAndColumn(K,J);try{this.extensionsDao.deleteByExtensionAndTableNameAndColumnName(this.extensionName,K,J)}catch{throw new Error("Failed to delete RTree Index extension. GeoPackage: "+this.geoPackage.name+", Table: "+K+", Geometry Column: "+J)}}},q.prototype.deleteAll=function(){var K=this;try{this.extensionsDao.isTableExists()&&this.extensionsDao.queryByExtensionAndTableName(this.extensionName,this.tableName).forEach((function(J){K.deleteTableAndColumn(J.getTableName(),J.column_name)}))}catch{throw new Error("Failed to delete RTree Index extensions for table. GeoPackage: "+this.geoPackage.name+", Table: "+this.tableName)}},q.prototype.dropByFeatureTable=function(K){this.dropTableAndColumn(K.getTableName(),K.getGeometryColumnName())},q.prototype.dropTableAndColumn=function(K,J){this.dropAllTriggers(K,J),this.dropRTreeIndex(K,J)},q.prototype.dropRTreeIndexByFeatureTable=function(K){this.dropRTreeIndex(K.getTableName(),K.getGeometryColumnName())},q.prototype.dropRTreeIndex=function(K,J){try{this.geoPackage.connection.run('DROP TABLE "rtree_'+K+"_"+J+'"')}catch(te){if(!(te.getMessage().indexOf("no such module: rtree")>-1))throw te;this.geoPackage.connection.run('DROP TABLE IF EXISTS "rtree_'+K+"_"+J+'_node"'),this.geoPackage.connection.run('DROP TABLE IF EXISTS "rtree_'+K+"_"+J+'_parent"'),this.geoPackage.connection.run('DROP TABLE IF EXISTS "rtree_'+K+"_"+J+'_rowid"'),this.geoPackage.connection.run("PRAGMA writable_schema = ON"),this.geoPackage.connection.run('DELETE FROM sqlite_master WHERE type = "table" AND name = "rtree_'+K+"_"+J+'"'),this.geoPackage.connection.run("PRAGMA writable_schema = OFF")}},q.prototype.dropTriggersByFeatureTable=function(K){this.dropTriggers(K.getTableName(),K.getGeometryColumnName())},q.prototype.dropTriggers=function(K,J){var te=this.has(K,J);return te&&this.dropAllTriggers(K,J),te},q.prototype.dropAllTriggersByFeatureTable=function(K){this.dropAllTriggers(K.getTableName(),K.getGeometryColumnName())},q.prototype.dropAllTriggers=function(K,J){this.dropInsertTrigger(K,J),this.dropUpdate1Trigger(K,J),this.dropUpdate2Trigger(K,J),this.dropUpdate3Trigger(K,J),this.dropUpdate4Trigger(K,J),this.dropDeleteTrigger(K,J)},q.prototype.dropInsertTrigger=function(K,J){this.dropTrigger(K,J,q.TRIGGER_INSERT_NAME)},q.prototype.dropUpdate1Trigger=function(K,J){this.dropTrigger(K,J,q.TRIGGER_UPDATE1_NAME)},q.prototype.dropUpdate2Trigger=function(K,J){this.dropTrigger(K,J,q.TRIGGER_UPDATE2_NAME)},q.prototype.dropUpdate3Trigger=function(K,J){this.dropTrigger(K,J,q.TRIGGER_UPDATE3_NAME)},q.prototype.dropUpdate4Trigger=function(K,J){this.dropTrigger(K,J,q.TRIGGER_UPDATE4_NAME)},q.prototype.dropDeleteTrigger=function(K,J){this.dropTrigger(K,J,q.TRIGGER_DELETE_NAME)},q.prototype.dropTrigger=function(K,J,te){this.geoPackage.connection.run('DROP TRIGGER IF EXISTS "rtree_'+K+"_"+J+"_"+te+'"')},q.TRIGGER_INSERT_NAME="insert",q.TRIGGER_UPDATE1_NAME="update1",q.TRIGGER_UPDATE2_NAME="update2",q.TRIGGER_UPDATE3_NAME="update3",q.TRIGGER_UPDATE4_NAME="update4",q.TRIGGER_DELETE_NAME="delete",q})(B.BaseExtension);x.RTreeIndex=T},735:function(y,x,r){var b,M=this&&this.__extends||(b=function(O,A){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,U){T.__proto__=U}||function(T,U){for(var q in U)Object.prototype.hasOwnProperty.call(U,q)&&(T[q]=U[q])},b(O,A)},function(O,A){if(typeof A!="function"&&A!==null)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");function T(){this.constructor=O}b(O,A),O.prototype=A===null?Object.create(A):(T.prototype=A.prototype,new T)});Object.defineProperty(x,"__esModule",{value:!0}),x.RTreeIndexDao=void 0;var z=r(4115),B=r(5859),R=r(8877),I=(function(O){function A(T,U){var q=O.call(this,T)||this;return q.gpkgTableName=A.TABLE_NAME,q.featureDao=U,q}return M(A,O),A.prototype.createObject=function(T){return new B.RTreeIndex(this.geoPackage,this.featureDao)},A.prototype._generateGeometryEnvelopeQuery=function(T){var U=this.featureDao.gpkgTableName,q="",K=T.minX<T.maxX;K?(q+=this.buildWhereWithFieldAndValue("minx",T.maxX,"<="),q+=" and ",q+=this.buildWhereWithFieldAndValue("maxx",T.minX,">=")):(q+="(",q+=this.buildWhereWithFieldAndValue("minx",T.maxX,"<="),q+=" or ",q+=this.buildWhereWithFieldAndValue("maxx",T.minX,">="),q+=" or ",q+=this.buildWhereWithFieldAndValue("minx",T.minX,">="),q+=" or ",q+=this.buildWhereWithFieldAndValue("maxx",T.maxX,"<="),q+=")"),q+=" and ",q+=this.buildWhereWithFieldAndValue("miny",T.maxY,"<="),q+=" and ",q+=this.buildWhereWithFieldAndValue("maxy",T.minY,">=");var J=[];return J.push(T.maxX,T.minX),K||J.push(T.minX,T.maxX),J.push(T.maxY,T.minY),{join:'inner join "'+U+'" on "'+U+'".'+this.featureDao.idColumns[0]+' = "'+this.gpkgTableName+'".id',where:q,whereArgs:J,tableNameArr:['"'+U+'".*']}},A.prototype.queryWithGeometryEnvelope=function(T){var U=this._generateGeometryEnvelopeQuery(T);return this.queryJoinWhereWithArgs(U.join,U.where,U.whereArgs,U.tableNameArr)},A.prototype.countWithGeometryEnvelope=function(T){var U=this._generateGeometryEnvelopeQuery(T);return this.connection.get(R.SqliteQueryBuilder.buildCount("'"+this.gpkgTableName+"'",U.where),U.whereArgs).count},A.TABLE_NAME="rtree",A.PREFIX="rtree_",A.COLUMN_TABLE_NAME=A.TABLE_NAME+".table_name",A.COLUMN_GEOM_ID=A.TABLE_NAME+".geom_id",A.COLUMN_MIN_X=A.TABLE_NAME+".minx",A.COLUMN_MAX_X=A.TABLE_NAME+".maxx",A.COLUMN_MIN_Y=A.TABLE_NAME+".miny",A.COLUMN_MAX_Y=A.TABLE_NAME+".maxy",A.COLUMN_MIN_Z=A.TABLE_NAME+".minz",A.COLUMN_MAX_Z=A.TABLE_NAME+".maxz",A.COLUMN_MIN_M=A.TABLE_NAME+".minm",A.COLUMN_MAX_M=A.TABLE_NAME+".maxm",A.EXTENSION_NAME="gpkg_rtree_index",A.EXTENSION_RTREE_INDEX_AUTHOR="gpkg",A.EXTENSION_RTREE_INDEX_NAME_NO_AUTHOR="rtree_index",A.EXTENSION_RTREE_INDEX_DEFINITION="http://www.geopackage.org/spec/#extension_rtree",A})(z.Dao);x.RTreeIndexDao=I},7523:function(y,x,r){var b,M=this&&this.__extends||(b=function(O,A){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,U){T.__proto__=U}||function(T,U){for(var q in U)Object.prototype.hasOwnProperty.call(U,q)&&(T[q]=U[q])},b(O,A)},function(O,A){if(typeof A!="function"&&A!==null)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");function T(){this.constructor=O}b(O,A),O.prototype=A===null?Object.create(A):(T.prototype=A.prototype,new T)});Object.defineProperty(x,"__esModule",{value:!0}),x.TileScalingExtension=void 0;var z=r(8140),B=r(624),R=r(7960),I=(function(O){function A(T,U){var q=O.call(this,T)||this;return q.tableName=U,q.tileScalingDao=T.tileScalingDao,q}return M(A,O),A.prototype.getOrCreateExtension=function(){var T=this.getOrCreate(A.EXTENSION_NAME,this.tableName,null,A.EXTENSION_DEFINITION,B.Extension.READ_WRITE);return this.tileScalingDao.createTable(),T},A.prototype.createOrUpdate=function(T){return T.table_name=this.tableName,this.tileScalingDao.createOrUpdate(T)},Object.defineProperty(A.prototype,"dao",{get:function(){return this.tileScalingDao},enumerable:!1,configurable:!0}),A.prototype.has=function(){return this.hasExtension(A.EXTENSION_NAME,this.tableName,null)&&this.tileScalingDao.isTableExists()},A.prototype.removeExtension=function(){this.tileScalingDao.isTableExists()&&this.geoPackage.deleteTable(R.TileScalingDao.TABLE_NAME),this.extensionsDao.isTableExists()&&this.extensionsDao.deleteByExtension(A.EXTENSION_NAME)},A.EXTENSION_NAME="nga_tile_scaling",A.EXTENSION_AUTHOR="nga",A.EXTENSION_NAME_NO_AUTHOR="tile_scaling",A.EXTENSION_DEFINITION="http://ngageoint.github.io/GeoPackage/docs/extensions/tile-scaling.html",A})(z.BaseExtension);x.TileScalingExtension=I},4301:(y,x,r)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.TileScaling=void 0;var b=r(2777),M=(function(){function z(){}return z.prototype.isZoomIn=function(){return(this.zoom_in==null||this.zoom_in>0)&&this.scaling_type!=null&&this.scaling_type!=b.TileScalingType.OUT},z.prototype.isZoomOut=function(){return(this.zoom_out==null||this.zoom_out>0)&&this.scaling_type!=null&&this.scaling_type!=b.TileScalingType.IN},z})();x.TileScaling=M},7960:function(y,x,r){var b,M=this&&this.__extends||(b=function(I,O){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,T){A.__proto__=T}||function(A,T){for(var U in T)Object.prototype.hasOwnProperty.call(T,U)&&(A[U]=T[U])},b(I,O)},function(I,O){if(typeof O!="function"&&O!==null)throw new TypeError("Class extends value "+String(O)+" is not a constructor or null");function A(){this.constructor=I}b(I,O),I.prototype=O===null?Object.create(O):(A.prototype=O.prototype,new A)});Object.defineProperty(x,"__esModule",{value:!0}),x.TileScalingDao=void 0;var z=r(4115),B=r(4301),R=(function(I){function O(){var A=I!==null&&I.apply(this,arguments)||this;return A.gpkgTableName=O.TABLE_NAME,A.idColumns=[O.COLUMN_TABLE_NAME],A}return M(O,I),O.prototype.createObject=function(A){var T=new B.TileScaling;return A&&(T.table_name=A.table_name,T.scaling_type=A.scaling_type,T.zoom_in=A.zoom_in,T.zoom_out=A.zoom_out),T},O.prototype.createTable=function(){return this.geoPackage.getTableCreator().createTileScaling()},O.prototype.queryForTableName=function(A){var T=this.queryForAll(this.buildWhereWithFieldAndValue(O.COLUMN_TABLE_NAME,A),this.buildWhereArgs(A));return T.length>0?this.createObject(T[0]):null},O.prototype.deleteByTableName=function(A){return this.deleteWhere(this.buildWhereWithFieldAndValue(O.COLUMN_TABLE_NAME,A),this.buildWhereArgs(A))},O.TABLE_NAME="nga_tile_scaling",O.COLUMN_TABLE_NAME="table_name",O.COLUMN_SCALING_TYPE="scaling_type",O.COLUMN_ZOOM_IN="zoom_in",O.COLUMN_ZOOM_OUT="zoom_out",O})(z.Dao);x.TileScalingDao=R},2777:(y,x)=>{var r;Object.defineProperty(x,"__esModule",{value:!0}),x.TileScalingType=void 0,(r=x.TileScalingType||(x.TileScalingType={})).IN="in",r.OUT="out",r.IN_OUT="in_out",r.OUT_IN="out_in",r.CLOSEST_IN_OUT="closest_in_out",r.CLOSEST_OUT_IN="closest_out_in"},8116:function(y,x,r){var b,M=this&&this.__extends||(b=function(A,T){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(U,q){U.__proto__=q}||function(U,q){for(var K in q)Object.prototype.hasOwnProperty.call(q,K)&&(U[K]=q[K])},b(A,T)},function(A,T){if(typeof T!="function"&&T!==null)throw new TypeError("Class extends value "+String(T)+" is not a constructor or null");function U(){this.constructor=A}b(A,T),A.prototype=T===null?Object.create(T):(U.prototype=T.prototype,new U)});Object.defineProperty(x,"__esModule",{value:!0}),x.SchemaExtension=void 0;var z=r(8140),B=r(624),R=r(4941),I=r(7175),O=(function(A){function T(U){return A.call(this,U)||this}return M(T,A),T.prototype.getOrCreateExtension=function(){var U=[];return U.push(this.getOrCreate(T.EXTENSION_NAME,R.DataColumnsDao.TABLE_NAME,null,T.EXTENSION_SCHEMA_DEFINITION,B.Extension.READ_WRITE)),U.push(this.getOrCreate(T.EXTENSION_NAME,I.DataColumnConstraintsDao.TABLE_NAME,null,T.EXTENSION_SCHEMA_DEFINITION,B.Extension.READ_WRITE)),U},T.prototype.has=function(){return this.hasExtensions(T.EXTENSION_NAME)},T.prototype.removeExtension=function(){this.geoPackage.isTable(R.DataColumnsDao.TABLE_NAME)&&this.geoPackage.dropTable(R.DataColumnsDao.TABLE_NAME),this.geoPackage.isTable(I.DataColumnConstraintsDao.TABLE_NAME)&&this.geoPackage.dropTable(I.DataColumnConstraintsDao.TABLE_NAME),this.extensionsDao.isTableExists()&&this.extensionsDao.deleteByExtension(T.EXTENSION_NAME)},T.EXTENSION_SCHEMA_AUTHOR="gpkg",T.EXTENSION_SCHEMA_NAME_NO_AUTHOR="schema",T.EXTENSION_NAME=T.EXTENSION_SCHEMA_AUTHOR+"_"+T.EXTENSION_SCHEMA_NAME_NO_AUTHOR,T.EXTENSION_SCHEMA_DEFINITION="http://www.geopackage.org/spec/#extension_schema",T})(z.BaseExtension);x.SchemaExtension=O},612:(y,x)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.FeatureStyle=void 0;var r=(function(){function b(M,z){this.styleRow=M,this.iconRow=z}return Object.defineProperty(b.prototype,"style",{get:function(){return this.styleRow},set:function(M){this.styleRow=M},enumerable:!1,configurable:!0}),b.prototype.hasStyle=function(){return!!this.styleRow},Object.defineProperty(b.prototype,"icon",{get:function(){return this.iconRow},set:function(M){this.iconRow=M},enumerable:!1,configurable:!0}),b.prototype.hasIcon=function(){return!!this.iconRow},b.prototype.useIcon=function(){return this.hasIcon()&&(!this.iconRow.isTableIcon()||!this.hasStyle()||this.styleRow.isTableStyle())},b})();x.FeatureStyle=r},2752:(y,x)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.FeatureStyles=void 0,x.FeatureStyles=function(r,b){r===void 0&&(r=null),b===void 0&&(b=null),this.styles=r,this.icons=b}},6536:(y,x,r)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.FeatureTableStyles=void 0;var b=r(2752),M=r(612),z=r(7924),B=r(4725),R=r(8412),I=r(9211),O=(function(){function A(T,U){this.geoPackage=T,U instanceof R.FeatureTable?this.tableName=U.getTableName():this.tableName=U,this.featureStyleExtension=T.featureStyleExtension,this.cachedTableFeatureStyles=new b.FeatureStyles}return A.prototype.getFeatureStyleExtension=function(){return this.featureStyleExtension},A.prototype.getTableName=function(){return this.tableName},A.prototype.has=function(){return this.featureStyleExtension.has(this.tableName)},A.prototype.createRelationships=function(){return this.featureStyleExtension.createRelationships(this.tableName)},A.prototype.hasRelationship=function(){return this.featureStyleExtension.hasRelationship(this.tableName)},A.prototype.createStyleRelationship=function(){return this.featureStyleExtension.createStyleRelationship(this.tableName)},A.prototype.hasStyleRelationship=function(){return this.featureStyleExtension.hasStyleRelationship(this.tableName)},A.prototype.createTableStyleRelationship=function(){return this.featureStyleExtension.createTableStyleRelationship(this.tableName)},A.prototype.hasTableStyleRelationship=function(){return this.featureStyleExtension.hasTableStyleRelationship(this.tableName)},A.prototype.createIconRelationship=function(){return this.featureStyleExtension.createIconRelationship(this.tableName)},A.prototype.hasIconRelationship=function(){return this.featureStyleExtension.hasIconRelationship(this.tableName)},A.prototype.createTableIconRelationship=function(){return this.featureStyleExtension.createTableIconRelationship(this.tableName)},A.prototype.hasTableIconRelationship=function(){return this.featureStyleExtension.hasTableIconRelationship(this.tableName)},A.prototype.deleteRelationships=function(){return this.featureStyleExtension.deleteRelationships(this.tableName)},A.prototype.deleteStyleRelationship=function(){return this.featureStyleExtension.deleteStyleRelationship(this.tableName)},A.prototype.deleteTableStyleRelationship=function(){return this.featureStyleExtension.deleteTableStyleRelationship(this.tableName)},A.prototype.deleteIconRelationship=function(){return this.featureStyleExtension.deleteIconRelationship(this.tableName)},A.prototype.deleteTableIconRelationship=function(){return this.featureStyleExtension.deleteTableIconRelationship(this.tableName)},A.prototype.getStyleMappingDao=function(){return this.featureStyleExtension.getStyleMappingDao(this.tableName)},A.prototype.getTableStyleMappingDao=function(){return this.featureStyleExtension.getTableStyleMappingDao(this.tableName)},A.prototype.getIconMappingDao=function(){return this.featureStyleExtension.getIconMappingDao(this.tableName)},A.prototype.getTableIconMappingDao=function(){return this.featureStyleExtension.getTableIconMappingDao(this.tableName)},A.prototype.getStyleDao=function(){return this.featureStyleExtension.getStyleDao()},A.prototype.getIconDao=function(){return this.featureStyleExtension.getIconDao()},A.prototype.getTableFeatureStyles=function(){return this.featureStyleExtension.getTableFeatureStyles(this.tableName)},A.prototype.getTableStyles=function(){return this.featureStyleExtension.getTableStyles(this.tableName)},A.prototype.getCachedTableStyles=function(){var T=this.cachedTableFeatureStyles.styles;return T===null&&((T=this.getTableStyles())===null&&(T=new z.Styles(!0)),this.cachedTableFeatureStyles.styles=T),T.isEmpty()&&(T=null),T},A.prototype.getTableStyle=function(T){return this.featureStyleExtension.getTableStyle(this.tableName,T)},A.prototype.getTableStyleDefault=function(){return this.featureStyleExtension.getTableStyleDefault(this.tableName)},A.prototype.getTableIcons=function(){return this.featureStyleExtension.getTableIcons(this.tableName)},A.prototype.getCachedTableIcons=function(){var T=this.cachedTableFeatureStyles.icons;return T===null&&((T=this.getTableIcons())===null&&(T=new B.Icons(!0)),this.cachedTableFeatureStyles.icons=T),T.isEmpty()&&(T=null),T},A.prototype.getTableIcon=function(T){return this.featureStyleExtension.getTableIcon(this.tableName,T)},A.prototype.getTableIconDefault=function(){return this.featureStyleExtension.getTableIconDefault(this.tableName)},A.prototype.getFeatureStylesForFeatureRow=function(T){return this.featureStyleExtension.getFeatureStylesForFeatureRow(T)},A.prototype.getFeatureStyles=function(T){return this.featureStyleExtension.getFeatureStyles(this.tableName,T)},A.prototype.getFeatureStyleForFeatureRow=function(T){return this.getFeatureStyleForFeatureRowAndGeometryType(T,I.GeometryType.fromName(T.geometryType.toUpperCase()))},A.prototype.getFeatureStyleForFeatureRowAndGeometryType=function(T,U){return this.getFeatureStyle(T.id,U)},A.prototype.getFeatureStyleDefaultForFeatureRow=function(T){return this.getFeatureStyle(T.id,null)},A.prototype.getFeatureStyle=function(T,U){var q=null,K=this.getStyle(T,U),J=this.getIcon(T,U);return K==null&&J==null||(q=new M.FeatureStyle(K,J)),q},A.prototype.getFeatureStyleDefault=function(T){return this.getFeatureStyle(T,null)},A.prototype.getStylesForFeatureRow=function(T){return this.featureStyleExtension.getStylesForFeatureRow(T)},A.prototype.getStylesForFeatureId=function(T){return this.featureStyleExtension.getStylesForFeatureId(this.tableName,T)},A.prototype.getStyleForFeatureRow=function(T){return this.getStyleForFeatureRowAndGeometryType(T,I.GeometryType.fromName(T.geometryType.toUpperCase()))},A.prototype.getStyleForFeatureRowAndGeometryType=function(T,U){return this.getStyle(T.id,U)},A.prototype.getStyleDefaultForFeatureRow=function(T){return this.getStyle(T.id,null)},A.prototype.getStyle=function(T,U){var q=this.featureStyleExtension.getStyle(this.tableName,T,U,!1);if(q===null){var K=this.getCachedTableStyles();K!==null&&(q=K.getStyle(U))}return q},A.prototype.getStyleDefault=function(T){return this.getStyle(T,null)},A.prototype.getIconsForFeatureRow=function(T){return this.featureStyleExtension.getIconsForFeatureRow(T)},A.prototype.getIconsForFeatureId=function(T){return this.featureStyleExtension.getIconsForFeatureId(this.tableName,T)},A.prototype.getIconForFeatureRow=function(T){return this.getIconForFeatureRowAndGeometryType(T,I.GeometryType.fromName(T.geometryType.toUpperCase()))},A.prototype.getIconForFeatureRowAndGeometryType=function(T,U){return this.getIcon(T.id,U)},A.prototype.getIconDefaultForFeatureRow=function(T){return this.getIcon(T.id,null)},A.prototype.getIcon=function(T,U){var q=this.featureStyleExtension.getIcon(this.tableName,T,U,!1);if(q===null){var K=this.getCachedTableIcons();K!==null&&(q=K.getIcon(U))}return q},A.prototype.getIconDefault=function(T){return this.getIcon(T,null)},A.prototype.setTableFeatureStyles=function(T){var U=this.featureStyleExtension.setTableFeatureStyles(this.tableName,T);return this.clearCachedTableFeatureStyles(),U},A.prototype.setTableStyles=function(T){var U=this.featureStyleExtension.setTableStyles(this.tableName,T);return this.clearCachedTableStyles(),U},A.prototype.setTableStyleDefault=function(T){var U=this.featureStyleExtension.setTableStyleDefault(this.tableName,T);return this.clearCachedTableStyles(),U},A.prototype.setTableStyle=function(T,U){var q=this.featureStyleExtension.setTableStyle(this.tableName,T,U);return this.clearCachedTableStyles(),q},A.prototype.setTableIcons=function(T){var U=this.featureStyleExtension.setTableIcons(this.tableName,T);return this.clearCachedTableIcons(),U},A.prototype.setTableIconDefault=function(T){var U=this.featureStyleExtension.setTableIconDefault(this.tableName,T);return this.clearCachedTableIcons(),U},A.prototype.setTableIcon=function(T,U){var q=this.featureStyleExtension.setTableIcon(this.tableName,T,U);return this.clearCachedTableIcons(),q},A.prototype.setFeatureStylesForFeatureRow=function(T,U){return this.featureStyleExtension.setFeatureStylesForFeatureRow(T,U)},A.prototype.setFeatureStyles=function(T,U){return this.featureStyleExtension.setFeatureStyles(this.tableName,T,U)},A.prototype.setFeatureStyleForFeatureRow=function(T,U){return this.featureStyleExtension.setFeatureStyleForFeatureRow(T,U)},A.prototype.setFeatureStyleForFeatureRowAndGeometryType=function(T,U,q){return this.featureStyleExtension.setFeatureStyleForFeatureRowAndGeometryType(T,U,q)},A.prototype.setFeatureStyleDefaultForFeatureRow=function(T,U){return this.featureStyleExtension.setFeatureStyleDefaultForFeatureRow(T,U)},A.prototype.setFeatureStyle=function(T,U,q){return this.featureStyleExtension.setFeatureStyle(this.tableName,T,U,q)},A.prototype.setFeatureStyleDefault=function(T,U){return this.featureStyleExtension.setFeatureStyleDefault(this.tableName,T,U)},A.prototype.setStylesForFeatureRow=function(T,U){return this.featureStyleExtension.setStylesForFeatureRow(T,U)},A.prototype.setStyles=function(T,U){return this.featureStyleExtension.setStyles(this.tableName,T,U)},A.prototype.setStyleForFeatureRow=function(T,U){return this.featureStyleExtension.setStyleForFeatureRow(T,U)},A.prototype.setStyleForFeatureRowAndGeometryType=function(T,U,q){return this.featureStyleExtension.setStyleForFeatureRowAndGeometryType(T,U,q)},A.prototype.setStyleDefaultForFeatureRow=function(T,U){return this.featureStyleExtension.setStyleDefaultForFeatureRow(T,U)},A.prototype.setStyle=function(T,U,q){return this.featureStyleExtension.setStyle(this.tableName,T,U,q)},A.prototype.setStyleDefault=function(T,U){return this.featureStyleExtension.setStyleDefault(this.tableName,T,U)},A.prototype.setIconsForFeatureRow=function(T,U){return this.featureStyleExtension.setIconsForFeatureRow(T,U)},A.prototype.setIcons=function(T,U){return this.featureStyleExtension.setIcons(this.tableName,T,U)},A.prototype.setIconForFeatureRow=function(T,U){return this.featureStyleExtension.setIconForFeatureRow(T,U)},A.prototype.setIconForFeatureRowAndGeometryType=function(T,U,q){return this.featureStyleExtension.setIconForFeatureRowAndGeometryType(T,U,q)},A.prototype.setIconDefaultForFeatureRow=function(T,U){return this.featureStyleExtension.setIconDefaultForFeatureRow(T,U)},A.prototype.setIcon=function(T,U,q){return this.featureStyleExtension.setIcon(this.tableName,T,U,q)},A.prototype.setIconDefault=function(T,U){return this.featureStyleExtension.setIconDefault(this.tableName,T,U)},A.prototype.deleteAllFeatureStyles=function(){var T=this.featureStyleExtension.deleteAllFeatureStyles(this.tableName);return this.clearCachedTableFeatureStyles(),T},A.prototype.deleteAllStyles=function(){var T=this.featureStyleExtension.deleteAllStyles(this.tableName);return this.clearCachedTableStyles(),T},A.prototype.deleteAllIcons=function(){var T=this.featureStyleExtension.deleteAllIcons(this.tableName);return this.clearCachedTableIcons(),T},A.prototype.deleteTableFeatureStyles=function(){var T=this.featureStyleExtension.deleteTableFeatureStyles(this.tableName);return this.clearCachedTableFeatureStyles(),T},A.prototype.deleteTableStyles=function(){var T=this.featureStyleExtension.deleteTableStyles(this.tableName);return this.clearCachedTableStyles(),T},A.prototype.deleteTableStyleDefault=function(){var T=this.featureStyleExtension.deleteTableStyleDefault(this.tableName);return this.clearCachedTableStyles(),T},A.prototype.deleteTableStyle=function(T){var U=this.featureStyleExtension.deleteTableStyle(this.tableName,T);return this.clearCachedTableStyles(),U},A.prototype.deleteTableIcons=function(){var T=this.featureStyleExtension.deleteTableIcons(this.tableName);return this.clearCachedTableIcons(),T},A.prototype.deleteTableIconDefault=function(){var T=this.featureStyleExtension.deleteTableIconDefault(this.tableName);return this.clearCachedTableIcons(),T},A.prototype.deleteTableIcon=function(T){var U=this.featureStyleExtension.deleteTableIcon(this.tableName,T);return this.clearCachedTableIcons(),U},A.prototype.clearCachedTableFeatureStyles=function(){this.cachedTableFeatureStyles.styles=null,this.cachedTableFeatureStyles.icons=null},A.prototype.clearCachedTableStyles=function(){this.cachedTableFeatureStyles.styles=null},A.prototype.clearCachedTableIcons=function(){this.cachedTableFeatureStyles.icons=null},A.prototype.deleteFeatureStyles=function(){return this.featureStyleExtension.deleteFeatureStyles(this.tableName)},A.prototype.deleteStyles=function(){return this.featureStyleExtension.deleteStyles(this.tableName)},A.prototype.deleteStylesForFeatureRow=function(T){return this.featureStyleExtension.deleteStylesForFeatureRow(T)},A.prototype.deleteStylesForFeatureId=function(T){return this.featureStyleExtension.deleteStylesForFeatureId(this.tableName,T)},A.prototype.deleteStyleDefaultForFeatureRow=function(T){return this.featureStyleExtension.deleteStyleDefaultForFeatureRow(T)},A.prototype.deleteStyleDefault=function(T){return this.featureStyleExtension.deleteStyleDefault(this.tableName,T)},A.prototype.deleteStyleForFeatureRow=function(T){return this.featureStyleExtension.deleteStyleForFeatureRow(T)},A.prototype.deleteStyleForFeatureRowAndGeometryType=function(T,U){return this.featureStyleExtension.deleteStyleForFeatureRowAndGeometryType(T,U)},A.prototype.deleteStyle=function(T,U){return this.featureStyleExtension.deleteStyle(this.tableName,T,U)},A.prototype.deleteStyleAndMappingsByStyleRow=function(T){return this.featureStyleExtension.deleteStyleAndMappingsByStyleRow(this.tableName,T)},A.prototype.deleteStyleAndMappingsByStyleRowId=function(T){return this.featureStyleExtension.deleteStyleAndMappingsByStyleRowId(this.tableName,T)},A.prototype.deleteIcons=function(){return this.featureStyleExtension.deleteIcons(this.tableName)},A.prototype.deleteIconsForFeatureRow=function(T){return this.featureStyleExtension.deleteIconsForFeatureRow(T)},A.prototype.deleteIconsForFeatureId=function(T){return this.featureStyleExtension.deleteIconsForFeatureId(this.tableName,T)},A.prototype.deleteIconDefaultForFeatureRow=function(T){return this.featureStyleExtension.deleteIconDefaultForFeatureRow(T)},A.prototype.deleteIconDefault=function(T){return this.featureStyleExtension.deleteIconDefault(this.tableName,T)},A.prototype.deleteIconForFeatureRow=function(T){return this.featureStyleExtension.deleteIconForFeatureRow(T)},A.prototype.deleteIconForFeatureRowAndGeometryType=function(T,U){return this.featureStyleExtension.deleteIconForFeatureRowAndGeometryType(T,U)},A.prototype.deleteIcon=function(T,U){return this.featureStyleExtension.deleteIcon(this.tableName,T,U)},A.prototype.deleteIconAndMappingsByIconRow=function(T){return this.featureStyleExtension.deleteIconAndMappingsByIconRow(this.tableName,T)},A.prototype.deleteIconAndMappingsByIconRowId=function(T){return this.featureStyleExtension.deleteIconAndMappingsByIconRowId(this.tableName,T)},A.prototype.getAllTableStyleIds=function(){return this.featureStyleExtension.getAllTableStyleIds(this.tableName)},A.prototype.getAllTableIconIds=function(){return this.featureStyleExtension.getAllTableIconIds(this.tableName)},A.prototype.getAllStyleIds=function(){return this.featureStyleExtension.getAllStyleIds(this.tableName)},A.prototype.getAllIconIds=function(){return this.featureStyleExtension.getAllIconIds(this.tableName)},A})();x.FeatureTableStyles=O},8600:function(y,x,r){var b=this&&this.__awaiter||function(I,O,A,T){return new(A||(A=Promise))((function(U,q){function K(oe){try{te(T.next(oe))}catch(ue){q(ue)}}function J(oe){try{te(T.throw(oe))}catch(ue){q(ue)}}function te(oe){var ue;oe.done?U(oe.value):(ue=oe.value,ue instanceof A?ue:new A((function(fe){fe(ue)}))).then(K,J)}te((T=T.apply(I,O||[])).next())}))},M=this&&this.__generator||function(I,O){var A,T,U,q,K={label:0,sent:function(){if(1&U[0])throw U[1];return U[1]},trys:[],ops:[]};return q={next:J(0),throw:J(1),return:J(2)},typeof Symbol=="function"&&(q[Symbol.iterator]=function(){return this}),q;function J(te){return function(oe){return(function(ue){if(A)throw new TypeError("Generator is already executing.");for(;q&&(q=0,ue[0]&&(K=0)),K;)try{if(A=1,T&&(U=2&ue[0]?T.return:ue[0]?T.throw||((U=T.return)&&U.call(T),0):T.next)&&!(U=U.call(T,ue[1])).done)return U;switch(T=0,U&&(ue=[2&ue[0],U.value]),ue[0]){case 0:case 1:U=ue;break;case 4:return K.label++,{value:ue[1],done:!1};case 5:K.label++,T=ue[1],ue=[0];continue;case 7:ue=K.ops.pop(),K.trys.pop();continue;default:if(!((U=(U=K.trys).length>0&&U[U.length-1])||ue[0]!==6&&ue[0]!==2)){K=0;continue}if(ue[0]===3&&(!U||ue[1]>U[0]&&ue[1]<U[3])){K.label=ue[1];break}if(ue[0]===6&&K.label<U[1]){K.label=U[1],U=ue;break}if(U&&K.label<U[2]){K.label=U[2],K.ops.push(ue);break}U[2]&&K.ops.pop(),K.trys.pop();continue}ue=O.call(I,K)}catch(fe){ue=[6,fe],T=0}finally{A=U=0}if(5&ue[0])throw ue[1];return{value:ue[0]?ue[1]:void 0,done:!0}})([te,oe])}}};Object.defineProperty(x,"__esModule",{value:!0}),x.IconCache=void 0;var z=r(3437),B=r(9325),R=(function(){function I(O){O===void 0&&(O=I.DEFAULT_CACHE_SIZE),this.cacheSize=O,this.iconCache={},this.accessHistory=[]}return I.prototype.getIconForIconRow=function(O){return this.get(O.id)},I.prototype.get=function(O){var A=this.iconCache[O];if(A){var T=this.accessHistory.indexOf(O);T>-1&&this.accessHistory.splice(T,1),this.accessHistory.push(O)}return A},I.prototype.putIconForIconRow=function(O,A){return this.put(O.id,A)},I.prototype.put=function(O,A){var T=this.iconCache[O];if(this.iconCache[O]=A,T){var U=this.accessHistory.indexOf(O);U>-1&&this.accessHistory.splice(U,1)}if(this.accessHistory.push(O),Object.keys(this.iconCache).length>this.cacheSize){var q=this.accessHistory.shift();if(q){var K=this.iconCache[q];K&&z.Canvas.disposeImage(K),delete this.iconCache[q]}}return T},I.prototype.removeIconForIconRow=function(O){return this.remove(O.id)},I.prototype.remove=function(O){var A=this.iconCache[O];if(delete this.iconCache[O],A){var T=this.accessHistory.indexOf(O);T>-1&&this.accessHistory.splice(T,1)}return A},I.prototype.clear=function(){var O=this;Object.keys(this.iconCache).forEach((function(A){var T=O.iconCache[A];z.Canvas.disposeImage(T)})),this.iconCache={},this.accessHistory=[]},I.prototype.resize=function(O){this.cacheSize=O;var A=Object.keys(this.iconCache);if(A.length>O)for(var T=A.length-O,U=0;U<T;U++){var q=this.accessHistory.shift(),K=this.iconCache[q];z.Canvas.disposeImage(K),delete this.iconCache[q]}},I.prototype.createIcon=function(O){return b(this,void 0,void 0,(function(){return M(this,(function(A){return[2,this.createAndCacheIcon(O,this)]}))}))},I.prototype.createScaledIcon=function(O,A){return b(this,void 0,void 0,(function(){return M(this,(function(T){return[2,this.createAndCacheScaledIcon(O,A,this)]}))}))},I.prototype.createIconNoCache=function(O){return b(this,void 0,void 0,(function(){return M(this,(function(A){return[2,this.createScaledIconNoCache(O,1)]}))}))},I.prototype.createScaledIconNoCache=function(O,A){return b(this,void 0,void 0,(function(){return M(this,(function(T){return[2,this.createAndCacheScaledIcon(O,A,null)]}))}))},I.prototype.createAndCacheIcon=function(O,A){return b(this,void 0,void 0,(function(){return M(this,(function(T){return[2,this.createAndCacheScaledIcon(O,1,A)]}))}))},I.prototype.createAndCacheScaledIcon=function(O,A,T){return b(this,void 0,void 0,(function(){var U,q,K,J,te,oe,ue,fe,Le;return M(this,(function(Ge){switch(Ge.label){case 0:if(U=null,O==null)return[3,7];if(q=O.id,T!=null&&(U=T.get(q)),U!=null)return[3,7];Ge.label=1;case 1:return Ge.trys.push([1,3,,4]),[4,B.ImageUtils.getImage(O.data)];case 2:return U=Ge.sent(),[3,4];case 3:throw Ge.sent(),new Error("Failed to get the Icon Row image. Id: "+q+", Name: "+O.name);case 4:return K=U.width,J=U.height,te=O.width,oe=O.height,(ue=te!=null||oe!=null)||A==1||(te=K,oe=J,ue=!0),ue?(te==null?te=K*(oe/J):oe==null&&(oe=J*(te/K)),fe=Math.round(A*te),Le=Math.round(A*oe),fe==K&&Le==J?[3,6]:[4,B.ImageUtils.scaleImage(U,fe,Le)]):[3,6];case 5:U=Ge.sent(),Ge.label=6;case 6:T?.putIconForIconRow(O,U),Ge.label=7;case 7:return[2,U]}}))}))},I.DEFAULT_CACHE_SIZE=100,I})();x.IconCache=R},9529:function(y,x,r){var b,M=this&&this.__extends||(b=function(I,O){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,T){A.__proto__=T}||function(A,T){for(var U in T)Object.prototype.hasOwnProperty.call(T,U)&&(A[U]=T[U])},b(I,O)},function(I,O){if(typeof O!="function"&&O!==null)throw new TypeError("Class extends value "+String(O)+" is not a constructor or null");function A(){this.constructor=I}b(I,O),I.prototype=O===null?Object.create(O):(A.prototype=O.prototype,new A)});Object.defineProperty(x,"__esModule",{value:!0}),x.IconDao=void 0;var z=r(7502),B=r(9087),R=(function(I){function O(A,T){return I.call(this,A,T)||this}return M(O,I),O.prototype.newRow=function(A,T){return new B.IconRow(this.table,A,T)},O})(z.MediaDao);x.IconDao=R},9087:function(y,x,r){var b,M=this&&this.__extends||(b=function(I,O){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,T){A.__proto__=T}||function(A,T){for(var U in T)Object.prototype.hasOwnProperty.call(T,U)&&(A[U]=T[U])},b(I,O)},function(I,O){if(typeof O!="function"&&O!==null)throw new TypeError("Class extends value "+String(O)+" is not a constructor or null");function A(){this.constructor=I}b(I,O),I.prototype=O===null?Object.create(O):(A.prototype=O.prototype,new A)});Object.defineProperty(x,"__esModule",{value:!0}),x.IconRow=void 0;var z=r(6119),B=r(9325),R=(function(I){function O(A,T,U){var q=I.call(this,A,T,U)||this;return q.tableIcon=!1,q.iconTable=A,q}return M(O,I),Object.defineProperty(O.prototype,"nameColumn",{get:function(){return this.iconTable.getNameColumn()},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"name",{get:function(){return this.getValueWithColumnName(this.nameColumn.name)},set:function(A){this.setValueWithColumnName(this.nameColumn.name,A)},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"descriptionColumn",{get:function(){return this.iconTable.getDescriptionColumn()},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"description",{get:function(){return this.getValueWithColumnName(this.descriptionColumn.name)},set:function(A){this.setValueWithColumnName(this.descriptionColumn.name,A)},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"widthColumn",{get:function(){return this.iconTable.getWidthColumn()},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"width",{get:function(){return this.getValueWithColumnName(this.widthColumn.name)},set:function(A){this.setValueWithColumnName(this.widthColumn.name,A)},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"derivedWidth",{get:function(){var A=this.width;return A==null&&(A=this.derivedDimensions[0]),A},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"heightColumn",{get:function(){return this.iconTable.getHeightColumn()},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"height",{get:function(){return this.getValueWithColumnName(this.heightColumn.name)},set:function(A){this.setValueWithColumnName(this.heightColumn.name,A)},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"derivedHeight",{get:function(){var A=this.height;return A==null&&(A=this.derivedDimensions[1]),A},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"derivedDimensions",{get:function(){var A=this.width,T=this.height;if(A==null||T==null){var U=B.ImageUtils.getImageSize(this.data),q=U.width,K=U.height;A==null&&(A=q,T!=null&&(A*=T/K)),T==null&&(T=K,A!=null&&(T*=A/q))}return[A,T]},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"anchorUColumn",{get:function(){return this.iconTable.getAnchorUColumn()},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"anchorU",{get:function(){return this.getValueWithColumnName(this.anchorUColumn.name)},set:function(A){this.validateAnchor(A),this.setValueWithColumnName(this.anchorUColumn.name,A)},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"anchorUOrDefault",{get:function(){var A=this.anchorU;return A==null&&(A=.5),A},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"anchorVColumn",{get:function(){return this.iconTable.getAnchorVColumn()},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"anchorV",{get:function(){return this.getValueWithColumnName(this.anchorVColumn.name)},set:function(A){this.validateAnchor(A),this.setValueWithColumnName(this.anchorVColumn.name,A)},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"anchorVOrDefault",{get:function(){var A=this.anchorV;return A==null&&(A=1),A},enumerable:!1,configurable:!0}),O.prototype.validateAnchor=function(A){if(A!=null&&(A<0||A>1))throw new Error("Anchor must be set inclusively between 0.0 and 1.0, invalid value: "+A);return!0},O.prototype.isTableIcon=function(){return this.tableIcon},O.prototype.setTableIcon=function(A){this.tableIcon=A},O})(z.MediaRow);x.IconRow=R},2015:function(y,x,r){var b,M=this&&this.__extends||(b=function(O,A){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,U){T.__proto__=U}||function(T,U){for(var q in U)Object.prototype.hasOwnProperty.call(U,q)&&(T[q]=U[q])},b(O,A)},function(O,A){if(typeof A!="function"&&A!==null)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");function T(){this.constructor=O}b(O,A),O.prototype=A===null?Object.create(A):(T.prototype=A.prototype,new T)});Object.defineProperty(x,"__esModule",{value:!0}),x.IconTable=void 0;var z=r(6366),B=r(7319),R=r(5865),I=(function(O){function A(){var T=O!==null&&O.apply(this,arguments)||this;return T.TABLE_TYPE="media",T}return M(A,O),A.prototype.getNameColumnIndex=function(){return this.getColumnIndex(A.COLUMN_NAME)},A.prototype.getNameColumn=function(){return this.getColumnWithColumnName(A.COLUMN_NAME)},A.prototype.getDescriptionColumnIndex=function(){return this.getColumnIndex(A.COLUMN_DESCRIPTION)},A.prototype.getDescriptionColumn=function(){return this.getColumnWithColumnName(A.COLUMN_DESCRIPTION)},A.prototype.getWidthColumnIndex=function(){return this.getColumnIndex(A.COLUMN_WIDTH)},A.prototype.getWidthColumn=function(){return this.getColumnWithColumnName(A.COLUMN_WIDTH)},A.prototype.getHeightColumnIndex=function(){return this.getColumnIndex(A.COLUMN_HEIGHT)},A.prototype.getHeightColumn=function(){return this.getColumnWithColumnName(A.COLUMN_HEIGHT)},A.prototype.getAnchorUColumnIndex=function(){return this.getColumnIndex(A.COLUMN_ANCHOR_U)},A.prototype.getAnchorUColumn=function(){return this.getColumnWithColumnName(A.COLUMN_ANCHOR_U)},A.prototype.getAnchorVColumnIndex=function(){return this.getColumnIndex(A.COLUMN_ANCHOR_V)},A.prototype.getAnchorVColumn=function(){return this.getColumnWithColumnName(A.COLUMN_ANCHOR_V)},A.create=function(){return new A(A.TABLE_NAME,A.createColumns(),A.requiredColumns())},A.createRequiredColumns=function(){return z.MediaTable.createRequiredColumns()},A.requiredColumns=function(){return z.MediaTable.requiredColumns()},A.createColumns=function(){var T=A.createRequiredColumns(),U=T.length;return T.push(R.UserColumn.createColumn(U++,A.COLUMN_NAME,B.GeoPackageDataType.TEXT,!1)),T.push(R.UserColumn.createColumn(U++,A.COLUMN_DESCRIPTION,B.GeoPackageDataType.TEXT,!1)),T.push(R.UserColumn.createColumn(U++,A.COLUMN_WIDTH,B.GeoPackageDataType.REAL,!1)),T.push(R.UserColumn.createColumn(U++,A.COLUMN_HEIGHT,B.GeoPackageDataType.REAL,!1)),T.push(R.UserColumn.createColumn(U++,A.COLUMN_ANCHOR_U,B.GeoPackageDataType.REAL,!1)),T.push(R.UserColumn.createColumn(U,A.COLUMN_ANCHOR_V,B.GeoPackageDataType.REAL,!1)),T},A.TABLE_NAME="nga_icon",A.COLUMN_NAME="name",A.COLUMN_DESCRIPTION="description",A.COLUMN_WIDTH="width",A.COLUMN_HEIGHT="height",A.COLUMN_ANCHOR_U="anchor_u",A.COLUMN_ANCHOR_V="anchor_v",A})(z.MediaTable);x.IconTable=I},4725:(y,x)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.Icons=void 0;var r=(function(){function b(M){M===void 0&&(M=!1),this.defaultIcon=null,this.icons=new Map,this.tableIcons=M}return b.prototype.setDefault=function(M){M?.setTableIcon(this.tableIcons),this.defaultIcon=M},b.prototype.getDefault=function(){return this.defaultIcon},b.prototype.setIcon=function(M,z){z===void 0&&(z=null),z!==null?M!=null?(M.setTableIcon(this.tableIcons),this.icons.set(z,M)):this.icons.delete(z):this.setDefault(M)},b.prototype.getIcon=function(M){M===void 0&&(M=null);var z=null;return M!==null&&this.icons.has(M)&&(z=this.icons.get(M)),z!=null&&M!==null||(z=this.getDefault()),z},b.prototype.isEmpty=function(){return this.icons.size===0&&this.defaultIcon===null},b.prototype.getGeometryTypes=function(){return Array.from(this.icons.keys())},b})();x.Icons=r},8479:function(y,x,r){var b,M=this&&this.__extends||(b=function(je,Be){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_e,He){_e.__proto__=He}||function(_e,He){for(var tt in He)Object.prototype.hasOwnProperty.call(He,tt)&&(_e[tt]=He[tt])},b(je,Be)},function(je,Be){if(typeof Be!="function"&&Be!==null)throw new TypeError("Class extends value "+String(Be)+" is not a constructor or null");function _e(){this.constructor=je}b(je,Be),je.prototype=Be===null?Object.create(Be):(_e.prototype=Be.prototype,new _e)});Object.defineProperty(x,"__esModule",{value:!0}),x.FeatureStyleExtension=void 0;var z=r(8140),B=r(624),R=r(7092),I=r(2015),O=r(9529),A=r(3934),T=r(3237),U=r(8138),q=r(3410),K=r(1553),J=r(8412),te=r(2752),oe=r(612),ue=r(7924),fe=r(4725),Le=r(362),Ge=r(9211),ze=(function(je){function Be(_e){var He=je.call(this,_e)||this;return He.relatedTablesExtension=_e.relatedTablesExtension,He.contentsIdExtension=_e.contentsIdExtension,He}return M(Be,je),Be.prototype.getOrCreateExtension=function(_e){return this.getOrCreate(Be.EXTENSION_NAME,this.getFeatureTableName(_e),null,Be.EXTENSION_DEFINITION,B.Extension.READ_WRITE)},Be.prototype.has=function(_e){return this.hasExtension(Be.EXTENSION_NAME,this.getFeatureTableName(_e),null)},Be.prototype.getTables=function(){var _e=[];if(this.extensionsDao.isTableExists())for(var He=this.extensionsDao.queryAllByExtension(Be.EXTENSION_NAME),tt=0;tt<He.length;tt++)_e.push(He[tt].table_name);return _e},Be.prototype.getRelatedTables=function(){return this.relatedTablesExtension},Be.prototype.getContentsId=function(){return this.contentsIdExtension},Be.prototype.createRelationships=function(_e){return{styleRelationship:this.createStyleRelationship(_e),tableStyleRelationship:this.createTableStyleRelationship(_e),iconRelationship:this.createIconRelationship(_e),tableIconRelationship:this.createTableIconRelationship(_e)}},Be.prototype.hasRelationship=function(_e){return this.hasStyleRelationship(_e)||this.hasTableStyleRelationship(_e)||this.hasIconRelationship(_e)||this.hasTableIconRelationship(_e)},Be.prototype.createStyleRelationship=function(_e){return this._createStyleRelationship(this.getMappingTableName(Be.TABLE_MAPPING_STYLE,_e),this.getFeatureTableName(_e),this.getFeatureTableName(_e),A.StyleTable.TABLE_NAME)},Be.prototype.hasStyleRelationship=function(_e){return this._hasStyleRelationship(this.getMappingTableName(Be.TABLE_MAPPING_STYLE,_e),this.getFeatureTableName(_e),A.StyleTable.TABLE_NAME)},Be.prototype.createTableStyleRelationship=function(_e){return this._createStyleRelationship(this.getMappingTableName(Be.TABLE_MAPPING_TABLE_STYLE,_e),this.getFeatureTableName(_e),R.ContentsIdDao.TABLE_NAME,A.StyleTable.TABLE_NAME)},Be.prototype.hasTableStyleRelationship=function(_e){return this._hasStyleRelationship(this.getMappingTableName(Be.TABLE_MAPPING_TABLE_STYLE,_e),R.ContentsIdDao.TABLE_NAME,A.StyleTable.TABLE_NAME)},Be.prototype.createIconRelationship=function(_e){return this._createStyleRelationship(this.getMappingTableName(Be.TABLE_MAPPING_ICON,_e),this.getFeatureTableName(_e),this.getFeatureTableName(_e),I.IconTable.TABLE_NAME)},Be.prototype.hasIconRelationship=function(_e){return this._hasStyleRelationship(this.getMappingTableName(Be.TABLE_MAPPING_ICON,_e),this.getFeatureTableName(_e),I.IconTable.TABLE_NAME)},Be.prototype.createTableIconRelationship=function(_e){return this._createStyleRelationship(this.getMappingTableName(Be.TABLE_MAPPING_TABLE_ICON,_e),this.getFeatureTableName(_e),R.ContentsIdDao.TABLE_NAME,I.IconTable.TABLE_NAME)},Be.prototype.hasTableIconRelationship=function(_e){return this._hasStyleRelationship(this.getMappingTableName(Be.TABLE_MAPPING_TABLE_ICON,_e),R.ContentsIdDao.TABLE_NAME,I.IconTable.TABLE_NAME)},Be.prototype.getMappingTableName=function(_e,He){return _e+this.getFeatureTableName(He)},Be.prototype._hasStyleRelationship=function(_e,He,tt){return this.relatedTablesExtension.hasRelations(He,tt,_e)},Be.prototype._createStyleRelationship=function(_e,He,tt,Ke){return this._hasStyleRelationship(_e,tt,Ke)?this.geoPackage.extendedRelationDao.getRelations(tt,Ke,_e)[0]:(this.getOrCreateExtension(He),tt!==R.ContentsIdDao.TABLE_NAME||this.contentsIdExtension.has()||this.contentsIdExtension.getOrCreateExtension(),this._handleCreateStyleRelationship(_e,tt,Ke))},Be.prototype._handleCreateStyleRelationship=function(_e,He,tt){return tt===A.StyleTable.TABLE_NAME?this.relatedTablesExtension.addAttributesRelationship(this.geoPackage.relatedTablesExtension.getRelationshipBuilder().setBaseTableName(He).setUserMappingTable(U.StyleMappingTable.create(_e)).setRelatedTable(A.StyleTable.create())):this.relatedTablesExtension.addMediaRelationship(this.geoPackage.relatedTablesExtension.getRelationshipBuilder().setBaseTableName(He).setUserMappingTable(U.StyleMappingTable.create(_e)).setRelatedTable(I.IconTable.create()))},Be.prototype.deleteAllRelationships=function(){for(var _e={styleRelationships:0,tableStyleRelationships:0,iconRelationship:0,tableIconRelationship:0},He=this.getTables(),tt=0;tt<He.length;tt++){var Ke=this.deleteRelationships(He[tt]),Ze=Ke.styleRelationships,Qe=Ke.tableStyleRelationships,vt=Ke.iconRelationship,pt=Ke.tableIconRelationship;_e.styleRelationships+=Ze,_e.tableStyleRelationships+=Qe,_e.iconRelationship+=vt,_e.tableIconRelationship+=pt}return _e},Be.prototype.deleteRelationships=function(_e){return{styleRelationships:this.deleteStyleRelationship(_e),tableStyleRelationships:this.deleteTableStyleRelationship(_e),iconRelationship:this.deleteIconRelationship(_e),tableIconRelationship:this.deleteTableIconRelationship(_e)}},Be.prototype.deleteStyleRelationship=function(_e){return this._deleteStyleRelationship(this.getMappingTableName(Be.TABLE_MAPPING_STYLE,_e),_e)},Be.prototype.deleteTableStyleRelationship=function(_e){return this._deleteStyleRelationship(this.getMappingTableName(Be.TABLE_MAPPING_TABLE_STYLE,_e),_e)},Be.prototype.deleteIconRelationship=function(_e){return this._deleteStyleRelationship(this.getMappingTableName(Be.TABLE_MAPPING_ICON,_e),_e)},Be.prototype.deleteTableIconRelationship=function(_e){return this._deleteStyleRelationship(this.getMappingTableName(Be.TABLE_MAPPING_TABLE_ICON,_e),_e)},Be.prototype._deleteStyleRelationship=function(_e,He){return this.relatedTablesExtension.removeRelationshipsWithMappingTable(_e),this.hasRelationship(He)||this.extensionsDao.isTableExists()&&this.extensionsDao.deleteByExtensionAndTableName(Be.EXTENSION_NAME,this.getFeatureTableName(He)),0},Be.prototype.getStyleMappingDao=function(_e){return this._getMappingDao(Be.TABLE_MAPPING_STYLE,_e)},Be.prototype.getTableStyleMappingDao=function(_e){return this._getMappingDao(Be.TABLE_MAPPING_TABLE_STYLE,_e)},Be.prototype.getIconMappingDao=function(_e){return this._getMappingDao(Be.TABLE_MAPPING_ICON,_e)},Be.prototype.getTableIconMappingDao=function(_e){return this._getMappingDao(Be.TABLE_MAPPING_TABLE_ICON,_e)},Be.prototype._getMappingDao=function(_e,He){var tt=_e+this.getFeatureTableName(He),Ke=null;return this.geoPackage.isTable(tt)&&(Ke=new q.StyleMappingDao(this.relatedTablesExtension.getUserDao(tt),this.geoPackage)),Ke},Be.prototype.getStyleDao=function(){var _e=null;if(this.geoPackage.isTable(A.StyleTable.TABLE_NAME)){var He=this.geoPackage.contentsDao.queryForId(A.StyleTable.TABLE_NAME);if(He){var tt=new K.StyleTableReader(He.table_name).readTable(this.geoPackage.connection);tt.setContents(He),_e=new T.StyleDao(this.geoPackage,tt)}}return _e},Be.prototype.getIconDao=function(){var _e=null;if(this.geoPackage.isTable(I.IconTable.TABLE_NAME)){var He=new Le.UserCustomTableReader(I.IconTable.TABLE_NAME).readTable(this.geoPackage.database),tt=new I.IconTable(He.getTableName(),He.getUserColumns().getColumns(),I.IconTable.requiredColumns());tt.setContents(this.geoPackage.contentsDao.queryForId(I.IconTable.TABLE_NAME)),_e=new O.IconDao(this.geoPackage,tt)}return _e},Be.prototype.getTableFeatureStyles=function(_e){var He=null;if(this.contentsIdExtension.getIdByTableName(this.getFeatureTableName(_e))!==null){var tt=this.getTableStyles(_e),Ke=this.getTableIcons(_e);tt===null&&Ke===null||(He=new te.FeatureStyles(tt,Ke))}return He},Be.prototype.getTableStyleDefault=function(_e){return this.getTableStyle(_e,null)},Be.prototype.getTableStyle=function(_e,He){var tt=null,Ke=this.getTableStyles(_e);return Ke!==null&&(tt=He===null?Ke.getDefault():Ke.getStyle(He)),tt},Be.prototype.getTableStyles=function(_e){var He=null,tt=this.contentsIdExtension.getIdByTableName(this.getFeatureTableName(_e));return tt!==null&&(He=this.getStyles(tt,this.getTableStyleMappingDao(_e),!0)),He},Be.prototype.getTableIconDefault=function(_e){return this.getTableIcon(_e,null)},Be.prototype.getTableIcon=function(_e,He){var tt=null,Ke=this.getTableIcons(_e);return Ke!==null&&(tt=He===null?Ke.getDefault():Ke.getIcon(He)),tt},Be.prototype.getTableIcons=function(_e){var He=null,tt=this.contentsIdExtension.getIdByTableName(this.getFeatureTableName(_e));return tt!==null&&(He=this.getIcons(tt,this.getTableIconMappingDao(_e),!0)),He},Be.prototype.getIcons=function(_e,He,tt){tt===void 0&&(tt=!1);var Ke=new fe.Icons(tt);if(He!==null)for(var Ze=this.getIconDao(),Qe=He.queryByBaseId(_e),vt=0;vt<Qe.length;vt++){var pt=He.createObject(Qe[vt]),ut=Ze.queryForId(pt.relatedId);pt.getGeometryTypeName()===null?Ke.setDefault(ut):Ke.setIcon(ut,Ge.GeometryType.fromName(pt.getGeometryTypeName().toUpperCase()))}return Ke.isEmpty()&&(Ke=null),Ke},Be.prototype.getStyles=function(_e,He,tt){tt===void 0&&(tt=!1);var Ke=new ue.Styles(tt);if(He!==null)for(var Ze=this.getStyleDao(),Qe=He.queryByBaseId(_e),vt=0;vt<Qe.length;vt++){var pt=He.createObject(Qe[vt]),ut=Ze.queryForId(pt.relatedId);pt.getGeometryTypeName()===null?Ke.setDefault(ut):Ke.setStyle(ut,Ge.GeometryType.fromName(pt.getGeometryTypeName().toUpperCase()))}return Ke.isEmpty()&&(Ke=null),Ke},Be.prototype.getFeatureStylesForFeatureRow=function(_e){return this.getFeatureStyles(_e.featureTable,_e.id)},Be.prototype.getFeatureStyles=function(_e,He){var tt=this.getStyles(He,this.getStyleMappingDao(_e)),Ke=this.getIcons(He,this.getIconMappingDao(_e)),Ze=null;return tt===null&&Ke===null||(Ze=new te.FeatureStyles(tt,Ke)),Ze},Be.prototype.getStylesForFeatureRow=function(_e){return this.getStyles(_e.id,this.getStyleMappingDao(_e.featureTable.getTableName()))},Be.prototype.getStylesForFeatureId=function(_e,He){return this.getStyles(He,this.getStyleMappingDao(_e))},Be.prototype.getIconsForFeatureRow=function(_e){return this.getIcons(_e.id,this.getIconMappingDao(_e.featureTable.getTableName()))},Be.prototype.getIconsForFeatureId=function(_e,He){return this.getIcons(He,this.getIconMappingDao(_e))},Be.prototype.getFeatureStyleForFeatureRow=function(_e){return new oe.FeatureStyle(this.getStyle(_e.featureTable.getTableName(),_e.id,Ge.GeometryType.fromName(_e.geometryType.toUpperCase()),!0),this.getIcon(_e.featureTable.getTableName(),_e.id,Ge.GeometryType.fromName(_e.geometryType.toUpperCase()),!0))},Be.prototype.getFeatureStyleDefault=function(_e){return new oe.FeatureStyle(this.getStyle(_e.featureTable.getTableName(),_e.id,null,!0),this.getIcon(_e.featureTable.getTableName(),_e.id,null,!0))},Be.prototype.getIcon=function(_e,He,tt,Ke){var Ze=null,Qe=this.getIcons(He,this.getIconMappingDao(_e));return Qe!==null&&(Ze=Qe.getIcon(tt)),Ze===null&&Ke&&(Ze=this.getTableIcon(_e,tt)),Ze},Be.prototype.getStyle=function(_e,He,tt,Ke){var Ze=null,Qe=this.getStyles(He,this.getStyleMappingDao(_e));return Qe!==null&&(Ze=Qe.getStyle(tt)),Ze===null&&Ke&&(Ze=this.getTableStyle(_e,tt)),Ze},Be.prototype.setTableFeatureStyles=function(_e,He){return He!==null?{tableStyles:this.setTableStyles(_e,He.styles),tableIcons:this.setTableIcons(_e,He.icons)}:{deleted:this.deleteTableFeatureStyles(_e),tableStyles:void 0,tableIcons:void 0}},Be.prototype.setTableStyles=function(_e,He){var tt=this.deleteTableStyles(_e);if(He!==null){var Ke=[],Ze=void 0;He.getDefault()!==null&&(Ze=this.setTableStyleDefault(_e,He.getDefault()));for(var Qe=He.getGeometryTypes(),vt=0;vt<Qe.length;vt++){var pt=Qe[vt],ut=He.getStyle(pt);Ke.push(this.setTableStyle(_e,pt,ut))}return{styleDefault:Ze,styles:Ke,deleted:tt}}},Be.prototype.setTableStyleDefault=function(_e,He){return this.setTableStyle(_e,null,He)},Be.prototype.setTableStyle=function(_e,He,tt){if(this.deleteTableStyle(_e,He),tt!==null){this.createTableStyleRelationship(_e);var Ke=this.contentsIdExtension.getOrCreateIdByTableName(this.getFeatureTableName(_e)),Ze=this.getOrInsertStyle(tt),Qe=this.getTableStyleMappingDao(_e);return this.insertStyleMapping(Qe,Ke.id,Ze,He)}},Be.prototype.setTableIcons=function(_e,He){var tt=this.deleteTableIcons(_e);if(He!==null){var Ke=void 0,Ze=[];He.getDefault()!==null&&(Ke=this.setTableIconDefault(_e,He.getDefault()));for(var Qe=He.getGeometryTypes(),vt=0;vt<Qe.length;vt++){var pt=Qe[vt],ut=He.getIcon(pt);Ze.push(this.setTableIcon(_e,pt,ut))}return{iconDefault:Ke,icons:Ze,deleted:tt}}},Be.prototype.setTableIconDefault=function(_e,He){return this.setTableIcon(_e,null,He)},Be.prototype.setTableIcon=function(_e,He,tt){if(this.deleteTableIcon(_e,He),tt!==null){this.createTableIconRelationship(_e);var Ke=this.contentsIdExtension.getOrCreateIdByTableName(this.getFeatureTableName(_e)),Ze=this.getOrInsertIcon(tt),Qe=this.getTableIconMappingDao(_e);return this.insertStyleMapping(Qe,Ke.id,Ze,He)}},Be.prototype.setFeatureStylesForFeatureRow=function(_e,He){return this.setFeatureStyles(_e.featureTable.getTableName(),_e.id,He)},Be.prototype.setFeatureStyles=function(_e,He,tt){return tt!==null?{styles:this.setStyles(_e,He,tt.styles),icons:this.setIcons(_e,He,tt.icons)}:{styles:void 0,icons:void 0,deleted:{deletedStyles:this.deleteStyles(_e),deletedIcons:this.deleteIcons(_e)}}},Be.prototype.setFeatureStyleForFeatureRow=function(_e,He){return this.setFeatureStyleForFeatureRowAndGeometryType(_e,Ge.GeometryType.fromName(_e.geometryType.toUpperCase()),He)},Be.prototype.setFeatureStyleForFeatureRowAndGeometryType=function(_e,He,tt){return this.setFeatureStyle(_e.featureTable.getTableName(),_e.id,He,tt)},Be.prototype.setFeatureStyleDefaultForFeatureRow=function(_e,He){return this.setFeatureStyle(_e.featureTable.getTableName(),_e.id,null,He)},Be.prototype.setFeatureStyle=function(_e,He,tt,Ke){return Ke!==null?{style:this.setStyle(_e,He,tt,Ke.style),icon:this.setIcon(_e,He,tt,Ke.icon)}:{style:void 0,icon:void 0,deleted:{style:this.deleteStyle(_e,He,tt),icon:this.deleteIcon(_e,He,tt)}}},Be.prototype.setFeatureStyleDefault=function(_e,He,tt){return this.setFeatureStyle(_e,He,null,tt)},Be.prototype.setStylesForFeatureRow=function(_e,He){return this.setStyles(_e.featureTable.getTableName(),_e.id,He)},Be.prototype.setStyles=function(_e,He,tt){var Ke=this.deleteStylesForFeatureId(_e,He);if(tt!==null){var Ze=[],Qe=void 0;tt.getDefault()!==null&&(Qe=this.setStyleDefault(_e,He,tt.getDefault()));for(var vt=tt.getGeometryTypes(),pt=0;pt<vt.length;pt++)Ze.push(this.setStyle(_e,He,vt[pt],tt.getStyle(vt[pt])));return{styleDefault:Qe,styles:Ze,deleted:Ke}}return{styleDefault:void 0,styles:void 0,deleted:Ke}},Be.prototype.setStyleForFeatureRow=function(_e,He){return this.setStyleForFeatureRowAndGeometryType(_e,Ge.GeometryType.fromName(_e.geometryType.toUpperCase()),He)},Be.prototype.setStyleForFeatureRowAndGeometryType=function(_e,He,tt){return this.setStyle(_e.featureTable.getTableName(),_e.id,He,tt)},Be.prototype.setStyleDefaultForFeatureRow=function(_e,He){return this.setStyle(_e.featureTable.getTableName(),_e.id,null,He)},Be.prototype.setStyle=function(_e,He,tt,Ke){if(this.deleteStyle(_e,He,tt),Ke!==null){this.createStyleRelationship(_e);var Ze=this.getOrInsertStyle(Ke),Qe=this.getStyleMappingDao(_e);return this.insertStyleMapping(Qe,He,Ze,tt)}},Be.prototype.setStyleDefault=function(_e,He,tt){return this.setStyle(_e,He,null,tt)},Be.prototype.setIconsForFeatureRow=function(_e,He){return this.setIcons(_e.featureTable.getTableName(),_e.id,He)},Be.prototype.setIcons=function(_e,He,tt){var Ke=this.deleteIconsForFeatureId(_e,He);if(tt!==null){tt.getDefault()!==null&&this.setIconDefault(_e,He,tt.getDefault());for(var Ze=tt.getGeometryTypes(),Qe=0;Qe<Ze.length;Qe++)this.setIcon(_e,He,Ze[Qe],tt.getIcon(Ze[Qe]));return{iconDefault:void 0,icons:void 0,deleted:Ke}}return{iconDefault:void 0,icons:void 0,deleted:Ke}},Be.prototype.setIconForFeatureRow=function(_e,He){return this.setIconForFeatureRowAndGeometryType(_e,Ge.GeometryType.fromName(_e.geometryType.toUpperCase()),He)},Be.prototype.setIconForFeatureRowAndGeometryType=function(_e,He,tt){return this.setIcon(_e.featureTable.getTableName(),_e.id,He,tt)},Be.prototype.setIconDefaultForFeatureRow=function(_e,He){return this.setIcon(_e.featureTable.getTableName(),_e.id,null,He)},Be.prototype.setIcon=function(_e,He,tt,Ke){if(this.deleteIcon(_e,He,tt),Ke!==null){this.createIconRelationship(_e);var Ze=this.getOrInsertIcon(Ke),Qe=this.getIconMappingDao(_e);return this.insertStyleMapping(Qe,He,Ze,tt)}},Be.prototype.setIconDefault=function(_e,He,tt){return this.setIcon(_e,He,null,tt)},Be.prototype.getOrInsertStyle=function(_e){var He;if(_e.hasId())He=_e.id;else{var tt=this.getStyleDao();tt!==null&&(He=tt.create(_e),_e.id=He)}return He},Be.prototype.getOrInsertIcon=function(_e){var He;if(_e.hasId())He=_e.id;else{var tt=this.getIconDao();tt!=null&&(He=tt.create(_e),_e.id=He)}return He},Be.prototype.insertStyleMapping=function(_e,He,tt,Ke){Ke===void 0&&(Ke=null);var Ze=_e.newRow();return Ze.baseId=He,Ze.relatedId=tt,Ze.setGeometryTypeName(Ge.GeometryType.nameFromType(Ke)),_e.create(Ze)},Be.prototype.deleteAllFeatureStyles=function(_e){return{tableStyles:this.deleteTableFeatureStyles(_e),styles:this.deleteFeatureStyles(_e)}},Be.prototype.deleteAllStyles=function(_e){return{tableStyles:this.deleteTableStyles(_e),styles:this.deleteStyles(_e)}},Be.prototype.deleteAllIcons=function(_e){return{tableIcons:this.deleteTableIcons(_e),icons:this.deleteIcons(_e)}},Be.prototype.deleteTableFeatureStyles=function(_e){return{styles:this.deleteTableStyles(_e),icons:this.deleteTableIcons(_e)}},Be.prototype.deleteTableStyles=function(_e){return this.deleteTableMappings(this.getTableStyleMappingDao(_e),_e)},Be.prototype.deleteTableStyleDefault=function(_e){return this.deleteTableStyle(_e,null)},Be.prototype.deleteTableStyle=function(_e,He){return this.deleteTableMapping(this.getTableStyleMappingDao(_e),_e,He)},Be.prototype.deleteTableIcons=function(_e){return this.deleteTableMappings(this.getTableIconMappingDao(_e),_e)},Be.prototype.deleteTableIconDefault=function(_e){return this.deleteTableIcon(_e,null)},Be.prototype.deleteTableIcon=function(_e,He){return this.deleteTableMapping(this.getTableIconMappingDao(_e),_e,He)},Be.prototype.deleteTableMappings=function(_e,He){if(_e!==null){var tt=this.contentsIdExtension.getIdByTableName(this.getFeatureTableName(He));if(tt!==null)return _e.deleteByBaseId(tt)}return 0},Be.prototype.deleteTableMapping=function(_e,He,tt){if(_e!==null){var Ke=this.contentsIdExtension.getIdByTableName(this.getFeatureTableName(He));if(Ke!==null)return _e.deleteByBaseIdAndGeometryType(Ke,tt)}return 0},Be.prototype.deleteFeatureStyles=function(_e){return{styles:this.deleteStyles(_e),icons:this.deleteIcons(_e)}},Be.prototype.deleteStyles=function(_e){return this.deleteMappings(this.getStyleMappingDao(_e))},Be.prototype.deleteStylesForFeatureRow=function(_e){return this.deleteStylesForFeatureId(_e.featureTable.getTableName(),_e.id)},Be.prototype.deleteStylesForFeatureId=function(_e,He){return this.deleteMappingsForFeatureId(this.getStyleMappingDao(_e),He)},Be.prototype.deleteStyleDefaultForFeatureRow=function(_e){return this.deleteStyleForFeatureRowAndGeometryType(_e,null)},Be.prototype.deleteStyleDefault=function(_e,He){return this.deleteStyle(_e,He,null)},Be.prototype.deleteStyleForFeatureRow=function(_e){return this.deleteStyleForFeatureRowAndGeometryType(_e,Ge.GeometryType.fromName(_e.geometryType.toUpperCase()))},Be.prototype.deleteStyleForFeatureRowAndGeometryType=function(_e,He){return this.deleteStyle(_e.featureTable,_e.id,He)},Be.prototype.deleteStyle=function(_e,He,tt){return this.deleteMapping(this.getStyleMappingDao(_e),He,tt)},Be.prototype.deleteStyleAndMappingsByStyleRow=function(_e,He){return this.deleteStyleAndMappingsByStyleRowId(_e,He.id)},Be.prototype.deleteStyleAndMappingsByStyleRowId=function(_e,He){var tt=0,Ke=this.getStyleDao();Ke!=null&&(tt+=Ke.deleteById(He));var Ze=this.getStyleMappingDao(_e);Ze!=null&&(tt+=Ze.deleteByRelatedId(He));var Qe=this.getTableStyleMappingDao(_e);return Qe!=null&&(tt+=Qe.deleteByRelatedId(He)),tt},Be.prototype.deleteIcons=function(_e){return this.deleteMappings(this.getIconMappingDao(_e))},Be.prototype.deleteIconsForFeatureRow=function(_e){return this.deleteIconsForFeatureId(_e.featureTable.getTableName(),_e.id)},Be.prototype.deleteIconsForFeatureId=function(_e,He){return this.deleteMappingsForFeatureId(this.getIconMappingDao(_e),He)},Be.prototype.deleteIconDefaultForFeatureRow=function(_e){return this.deleteIconDefault(_e.featureTable.getTableName(),_e.id)},Be.prototype.deleteIconDefault=function(_e,He){return this.deleteIcon(_e,He,null)},Be.prototype.deleteIconForFeatureRow=function(_e){return this.deleteIconForFeatureRowAndGeometryType(_e,Ge.GeometryType.fromName(_e.geometryType.toUpperCase()))},Be.prototype.deleteIconForFeatureRowAndGeometryType=function(_e,He){return this.deleteIcon(_e.featureTable,_e.id,He)},Be.prototype.deleteIcon=function(_e,He,tt){return this.deleteMapping(this.getIconMappingDao(_e),He,tt)},Be.prototype.deleteIconAndMappingsByIconRow=function(_e,He){return this.deleteIconAndMappingsByIconRowId(_e,He.id)},Be.prototype.deleteIconAndMappingsByIconRowId=function(_e,He){var tt=0,Ke=this.getIconDao();Ke!=null&&(tt+=Ke.deleteById(He));var Ze=this.getIconMappingDao(_e);Ze!=null&&(tt+=Ze.deleteByRelatedId(He));var Qe=this.getTableIconMappingDao(_e);return Qe!=null&&(tt+=Qe.deleteByRelatedId(He)),tt},Be.prototype.deleteMappings=function(_e){return _e!==null?_e.deleteAll():0},Be.prototype.deleteMappingsForFeatureId=function(_e,He){return _e!==null&&He?_e.deleteByBaseId(He):0},Be.prototype.deleteMapping=function(_e,He,tt){return _e!==null?_e.deleteByBaseIdAndGeometryType(He,tt):0},Be.prototype.getAllTableStyleIds=function(_e){var He=null,tt=this.getTableStyleMappingDao(_e);return tt!==null&&(He=tt.uniqueRelatedIds().map((function(Ke){return Ke.related_id}))),He},Be.prototype.getAllTableIconIds=function(_e){var He=null,tt=this.getTableIconMappingDao(_e);return tt!==null&&(He=tt.uniqueRelatedIds().map((function(Ke){return Ke.related_id}))),He},Be.prototype.getAllStyleIds=function(_e){var He=null,tt=this.getStyleMappingDao(_e);return tt!==null&&(He=tt.uniqueRelatedIds().map((function(Ke){return Ke.related_id}))),He},Be.prototype.getAllIconIds=function(_e){var He=null,tt=this.getIconMappingDao(_e);return tt!==null&&(He=tt.uniqueRelatedIds().map((function(Ke){return Ke.related_id}))),He},Be.prototype.getFeatureTableName=function(_e){return _e instanceof J.FeatureTable?_e.getTableName():_e},Be.prototype.removeExtension=function(){return this.deleteAllRelationships(),this.geoPackage.deleteTable(A.StyleTable.TABLE_NAME),this.geoPackage.deleteTable(I.IconTable.TABLE_NAME),this.extensionsDao.isTableExists()?this.extensionsDao.deleteByExtension(Be.EXTENSION_NAME):0},Be.EXTENSION_NAME="nga_feature_style",Be.EXTENSION_AUTHOR="nga",Be.EXTENSION_NAME_NO_AUTHOR="feature_style",Be.EXTENSION_DEFINITION="http://ngageoint.github.io/GeoPackage/docs/extensions/feature-style.html",Be.TABLE_MAPPING_STYLE=Be.EXTENSION_AUTHOR+"_style_",Be.TABLE_MAPPING_TABLE_STYLE=Be.EXTENSION_AUTHOR+"_style_default_",Be.TABLE_MAPPING_ICON=Be.EXTENSION_AUTHOR+"_icon_",Be.TABLE_MAPPING_TABLE_ICON=Be.EXTENSION_AUTHOR+"_icon_default_",Be})(z.BaseExtension);x.FeatureStyleExtension=ze},3237:function(y,x,r){var b,M=this&&this.__extends||(b=function(I,O){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,T){A.__proto__=T}||function(A,T){for(var U in T)Object.prototype.hasOwnProperty.call(T,U)&&(A[U]=T[U])},b(I,O)},function(I,O){if(typeof O!="function"&&O!==null)throw new TypeError("Class extends value "+String(O)+" is not a constructor or null");function A(){this.constructor=I}b(I,O),I.prototype=O===null?Object.create(O):(A.prototype=O.prototype,new A)});Object.defineProperty(x,"__esModule",{value:!0}),x.StyleDao=void 0;var z=r(8008),B=r(7128),R=(function(I){function O(A,T){return I.call(this,A,T)||this}return M(O,I),O.prototype.createObject=function(A){return A===void 0&&(A=void 0),A?this.getRow(A):this.newRow()},Object.defineProperty(O.prototype,"table",{get:function(){return this._table},enumerable:!1,configurable:!0}),O.prototype.newRow=function(A,T){return new B.StyleRow(this.table,A,T)},O})(z.AttributesDao);x.StyleDao=R},3410:function(y,x,r){var b,M=this&&this.__extends||(b=function(T,U){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(q,K){q.__proto__=K}||function(q,K){for(var J in K)Object.prototype.hasOwnProperty.call(K,J)&&(q[J]=K[J])},b(T,U)},function(T,U){if(typeof U!="function"&&U!==null)throw new TypeError("Class extends value "+String(U)+" is not a constructor or null");function q(){this.constructor=T}b(T,U),T.prototype=U===null?Object.create(U):(q.prototype=U.prototype,new q)});Object.defineProperty(x,"__esModule",{value:!0}),x.StyleMappingDao=void 0;var z=r(6302),B=r(8138),R=r(233),I=r(9582),O=r(9211),A=(function(T){function U(q,K,J){return T.call(this,q,K,J||new B.StyleMappingTable(q.table.getTableName(),q.table.getUserColumns().getColumns(),null))||this}return M(U,T),Object.defineProperty(U.prototype,"table",{get:function(){return this._table},enumerable:!1,configurable:!0}),U.prototype.createMappingTable=function(q){return new B.StyleMappingTable(q.table.getTableName(),q.table.getUserColumns().getColumns(),null)},U.prototype.newRow=function(q,K){return new I.StyleMappingRow(this.table,q,K)},U.prototype.deleteByBaseIdAndGeometryType=function(q,K){var J="";J+=this.buildWhereWithFieldAndValue(R.UserMappingTable.COLUMN_BASE_ID,q),J+=" AND ",J+=this.buildWhereWithFieldAndValue(B.StyleMappingTable.COLUMN_GEOMETRY_TYPE_NAME,O.GeometryType.nameFromType(K));var te=this.buildWhereArgs([q,O.GeometryType.nameFromType(K)]);return this.deleteWhere(J,te)},U})(z.UserMappingDao);x.StyleMappingDao=A},9582:function(y,x,r){var b,M=this&&this.__extends||(b=function(B,R){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,O){I.__proto__=O}||function(I,O){for(var A in O)Object.prototype.hasOwnProperty.call(O,A)&&(I[A]=O[A])},b(B,R)},function(B,R){if(typeof R!="function"&&R!==null)throw new TypeError("Class extends value "+String(R)+" is not a constructor or null");function I(){this.constructor=B}b(B,R),B.prototype=R===null?Object.create(R):(I.prototype=R.prototype,new I)});Object.defineProperty(x,"__esModule",{value:!0}),x.StyleMappingRow=void 0;var z=(function(B){function R(I,O,A){var T=B.call(this,I,O,A)||this;return T.styleMappingTable=I,T}return M(R,B),R.prototype.getGeometryTypeNameColumn=function(){return this.styleMappingTable.getGeometryTypeNameColumn()},R.prototype.getGeometryTypeName=function(){return this.getValueWithColumnName(this.getGeometryTypeNameColumn().name)},R.prototype.setGeometryTypeName=function(I){this.setValueWithColumnName(this.getGeometryTypeNameColumn().name,I)},R})(r(8029).UserMappingRow);x.StyleMappingRow=z},8138:function(y,x,r){var b,M=this&&this.__extends||(b=function(O,A){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,U){T.__proto__=U}||function(T,U){for(var q in U)Object.prototype.hasOwnProperty.call(U,q)&&(T[q]=U[q])},b(O,A)},function(O,A){if(typeof A!="function"&&A!==null)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");function T(){this.constructor=O}b(O,A),O.prototype=A===null?Object.create(A):(T.prototype=A.prototype,new T)});Object.defineProperty(x,"__esModule",{value:!0}),x.StyleMappingTable=void 0;var z=r(233),B=r(7319),R=r(5865),I=(function(O){function A(){return O!==null&&O.apply(this,arguments)||this}return M(A,O),A.prototype.getGeometryTypeNameColumnIndex=function(){return this.getColumnIndex(A.COLUMN_GEOMETRY_TYPE_NAME)},A.prototype.getGeometryTypeNameColumn=function(){return this.getColumnWithColumnName(A.COLUMN_GEOMETRY_TYPE_NAME)},A.create=function(T){return new A(T,A.createColumns(),null)},A.createColumns=function(){var T=z.UserMappingTable.createRequiredColumns(),U=T.length;return T.push(R.UserColumn.createColumn(U,A.COLUMN_GEOMETRY_TYPE_NAME,B.GeoPackageDataType.TEXT,!1)),T},A.COLUMN_GEOMETRY_TYPE_NAME="geometry_type_name",A})(z.UserMappingTable);x.StyleMappingTable=I},7128:function(y,x,r){var b,M=this&&this.__extends||(b=function(B,R){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,O){I.__proto__=O}||function(I,O){for(var A in O)Object.prototype.hasOwnProperty.call(O,A)&&(I[A]=O[A])},b(B,R)},function(B,R){if(typeof R!="function"&&R!==null)throw new TypeError("Class extends value "+String(R)+" is not a constructor or null");function I(){this.constructor=B}b(B,R),B.prototype=R===null?Object.create(R):(I.prototype=R.prototype,new I)});Object.defineProperty(x,"__esModule",{value:!0}),x.StyleRow=void 0;var z=(function(B){function R(I,O,A){var T=B.call(this,I,O,A)||this;return T.tableStyle=!1,T.styleTable=I,T}return M(R,B),R.prototype.getNameColumn=function(){return this.styleTable.getNameColumn()},R.prototype.getName=function(){return this.getValueWithColumnName(this.getNameColumn().name)},R.prototype.setName=function(I){this.setValueWithColumnName(this.getNameColumn().name,I)},R.prototype.getDescriptionColumn=function(){return this.styleTable.getDescriptionColumn()},R.prototype.getDescription=function(){return this.getValueWithColumnName(this.getDescriptionColumn().name)},R.prototype.setDescription=function(I){this.setValueWithColumnName(this.getDescriptionColumn().name,I)},R.prototype.getColorColumn=function(){return this.styleTable.getColorColumn()},R.prototype.getColor=function(){return this.createColor(this.getHexColor(),this.getOpacity())},R.prototype.hasColor=function(){return this._hasColor(this.getHexColor(),this.getOpacity())},R.prototype.getHexColor=function(){return this.getValueWithColumnName(this.getColorColumn().name)},R.prototype.setColor=function(I,O){this.setHexColor(I),this.setOpacity(O)},R.prototype.setHexColor=function(I){var O=this.validateColor(I);this.setValueWithColumnName(this.getColorColumn().name,O)},R.prototype.getOpacityColumn=function(){return this.styleTable.getOpacityColumn()},R.prototype.getOpacity=function(){return this.getValueWithColumnName(this.getOpacityColumn().name)},R.prototype.getOpacityOrDefault=function(){var I=this.getOpacity();return I===null&&(I=1),I},R.prototype.setOpacity=function(I){this.validateOpacity(I),this.setValueWithColumnName(this.getOpacityColumn().name,I)},R.prototype.getWidthColumn=function(){return this.styleTable.getWidthColumn()},R.prototype.getWidth=function(){return this.getValueWithColumnName(this.getWidthColumn().name)},R.prototype.setWidth=function(I){if(I!==null&&I<0)throw new Error("Width must be greater than or equal to 0.0, invalid value: "+I);this.setValueWithColumnName(this.getWidthColumn().name,I)},R.prototype.getWidthOrDefault=function(){var I=this.getWidth();return I===null&&(I=1),I},R.prototype.getFillColorColumn=function(){return this.styleTable.getFillColorColumn()},R.prototype.getFillColor=function(){return this.createColor(this.getFillHexColor(),this.getFillOpacity())},R.prototype.hasFillColor=function(){return this._hasColor(this.getFillHexColor(),this.getFillOpacity())},R.prototype.getFillHexColor=function(){return this.getValueWithColumnName(this.getFillColorColumn().name)},R.prototype.setFillColor=function(I,O){this.setFillHexColor(I),this.setFillOpacity(O)},R.prototype.setFillHexColor=function(I){var O=this.validateColor(I);this.setValueWithColumnName(this.getFillColorColumn().name,O)},R.prototype.getFillOpacityColumn=function(){return this.styleTable.getFillOpacityColumn()},R.prototype.getFillOpacity=function(){return this.getValueWithColumnName(this.getFillOpacityColumn().name)},R.prototype.setFillOpacity=function(I){this.validateOpacity(I),this.setValueWithColumnName(this.getFillOpacityColumn().name,I)},R.prototype.getFillOpacityOrDefault=function(){var I=this.getFillOpacity();return I==null&&(I=1),I},R.prototype.validateColor=function(I){var O=I;if(I!=null){if(I.startsWith("#")||(O="#"+I),!R.colorPattern.test(O))throw new Error("Color must be in hex format #RRGGBB or #RGB, invalid value: "+I);O=O.toUpperCase()}return O},R.prototype.validateOpacity=function(I){if(I!=null&&(I<0||I>1))throw new Error("Opacity must be set inclusively between 0.0 and 1.0, invalid value: "+I);return!0},R.prototype.createColor=function(I,O){var A="#000000";if(I!==null&&(A=I),O!==null){var T=Math.round(255*O).toString(16);T.length===1&&(T="0"+T),A+=T}return A.toUpperCase()},R.prototype._hasColor=function(I,O){return I!==null||O!==null},R.prototype.isTableStyle=function(){return this.tableStyle},R.prototype.setTableStyle=function(I){this.tableStyle=I},R.colorPattern=/^#([0-9a-fA-F]{3}){1,2}$/,R})(r(6861).AttributesRow);x.StyleRow=z},3934:function(y,x,r){var b,M=this&&this.__extends||(b=function(A,T){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(U,q){U.__proto__=q}||function(U,q){for(var K in q)Object.prototype.hasOwnProperty.call(q,K)&&(U[K]=q[K])},b(A,T)},function(A,T){if(typeof T!="function"&&T!==null)throw new TypeError("Class extends value "+String(T)+" is not a constructor or null");function U(){this.constructor=A}b(A,T),A.prototype=T===null?Object.create(T):(U.prototype=T.prototype,new U)});Object.defineProperty(x,"__esModule",{value:!0}),x.StyleTable=void 0;var z=r(3931),B=r(8483),R=r(5865),I=r(7319),O=(function(A){function T(){var U=A!==null&&A.apply(this,arguments)||this;return U.TABLE_TYPE="media",U.data_type=B.RelationType.ATTRIBUTES.dataType,U.relation_name=B.RelationType.ATTRIBUTES.name,U}return M(T,A),T.prototype.getNameColumnIndex=function(){return this.getColumnIndex(T.COLUMN_NAME)},T.prototype.getNameColumn=function(){return this.getColumnWithColumnName(T.COLUMN_NAME)},T.prototype.getDescriptionColumnIndex=function(){return this.getColumnIndex(T.COLUMN_DESCRIPTION)},T.prototype.getDescriptionColumn=function(){return this.getColumnWithColumnName(T.COLUMN_DESCRIPTION)},T.prototype.getColorColumnIndex=function(){return this.getColumnIndex(T.COLUMN_COLOR)},T.prototype.getColorColumn=function(){return this.getColumnWithColumnName(T.COLUMN_COLOR)},T.prototype.getOpacityColumnIndex=function(){return this.getColumnIndex(T.COLUMN_OPACITY)},T.prototype.getOpacityColumn=function(){return this.getColumnWithColumnName(T.COLUMN_OPACITY)},T.prototype.getWidthColumnIndex=function(){return this.getColumnIndex(T.COLUMN_WIDTH)},T.prototype.getWidthColumn=function(){return this.getColumnWithColumnName(T.COLUMN_WIDTH)},T.prototype.getFillColorColumnIndex=function(){return this.getColumnIndex(T.COLUMN_FILL_COLOR)},T.prototype.getFillColorColumn=function(){return this.getColumnWithColumnName(T.COLUMN_FILL_COLOR)},T.prototype.getFillOpacityColumnIndex=function(){return this.getColumnIndex(T.COLUMN_FILL_OPACITY)},T.prototype.getFillOpacityColumn=function(){return this.getColumnWithColumnName(T.COLUMN_FILL_OPACITY)},T.create=function(){return new T(T.TABLE_NAME,T.createColumns())},T.createColumns=function(){var U=[],q=0;return U.push(R.UserColumn.createPrimaryKeyColumn(q++,T.COLUMN_ID)),U.push(R.UserColumn.createColumn(q++,T.COLUMN_NAME,I.GeoPackageDataType.TEXT,!1)),U.push(R.UserColumn.createColumn(q++,T.COLUMN_DESCRIPTION,I.GeoPackageDataType.TEXT,!1)),U.push(R.UserColumn.createColumn(q++,T.COLUMN_COLOR,I.GeoPackageDataType.TEXT,!1)),U.push(R.UserColumn.createColumn(q++,T.COLUMN_OPACITY,I.GeoPackageDataType.REAL,!1)),U.push(R.UserColumn.createColumn(q++,T.COLUMN_WIDTH,I.GeoPackageDataType.REAL,!1)),U.push(R.UserColumn.createColumn(q++,T.COLUMN_FILL_COLOR,I.GeoPackageDataType.TEXT,!1)),U.push(R.UserColumn.createColumn(7,T.COLUMN_FILL_OPACITY,I.GeoPackageDataType.REAL,!1)),U},T.TABLE_NAME="nga_style",T.COLUMN_ID="id",T.COLUMN_NAME="name",T.COLUMN_DESCRIPTION="description",T.COLUMN_COLOR="color",T.COLUMN_OPACITY="opacity",T.COLUMN_WIDTH="width",T.COLUMN_FILL_COLOR="fill_color",T.COLUMN_FILL_OPACITY="fill_opacity",T})(z.AttributesTable);x.StyleTable=O},1553:function(y,x,r){var b,M=this&&this.__extends||(b=function(I,O){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,T){A.__proto__=T}||function(A,T){for(var U in T)Object.prototype.hasOwnProperty.call(T,U)&&(A[U]=T[U])},b(I,O)},function(I,O){if(typeof O!="function"&&O!==null)throw new TypeError("Class extends value "+String(O)+" is not a constructor or null");function A(){this.constructor=I}b(I,O),I.prototype=O===null?Object.create(O):(A.prototype=O.prototype,new A)});Object.defineProperty(x,"__esModule",{value:!0}),x.StyleTableReader=void 0;var z=r(464),B=r(3934),R=(function(I){function O(){return I!==null&&I.apply(this,arguments)||this}return M(O,I),O.prototype.createTable=function(A,T){return new B.StyleTable(A,T)},O})(z.AttributesTableReader);x.StyleTableReader=R},7924:(y,x)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.Styles=void 0;var r=(function(){function b(M){M===void 0&&(M=!1),this.defaultStyle=null,this.styles=new Map,this.tableStyles=M}return b.prototype.setDefault=function(M){M?.setTableStyle(this.tableStyles),this.defaultStyle=M},b.prototype.getDefault=function(){return this.defaultStyle},b.prototype.setStyle=function(M,z){z===void 0&&(z=null),z!==null?M!=null?(M.setTableStyle(this.tableStyles),this.styles.set(z,M)):this.styles.delete(z):this.setDefault(M)},b.prototype.getStyle=function(M){M===void 0&&(M=null);var z=null;return M!==null&&(z=this.styles.get(M)),z!=null&&M!==null||(z=this.getDefault()),z},b.prototype.isEmpty=function(){return this.styles.size===0&&this.defaultStyle===null},b.prototype.getGeometryTypes=function(){return Array.from(this.styles.keys())},b})();x.Styles=r},7719:function(y,x,r){var b,M=this&&this.__extends||(b=function(I,O){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,T){A.__proto__=T}||function(A,T){for(var U in T)Object.prototype.hasOwnProperty.call(T,U)&&(A[U]=T[U])},b(I,O)},function(I,O){if(typeof O!="function"&&O!==null)throw new TypeError("Class extends value "+String(O)+" is not a constructor or null");function A(){this.constructor=I}b(I,O),I.prototype=O===null?Object.create(O):(A.prototype=O.prototype,new A)});Object.defineProperty(x,"__esModule",{value:!0}),x.WebPExtension=void 0;var z=r(8140),B=r(624),R=(function(I){function O(A,T){var U=I.call(this,A)||this;return U.tableName=T,U}return M(O,I),O.prototype.getOrCreateExtension=function(){return this.getOrCreate(O.EXTENSION_NAME,this.tableName,"tile_data",O.EXTENSION_WEBP_DEFINITION,B.Extension.READ_WRITE)},O.EXTENSION_NAME="gpkg_webp",O.EXTENSION_WEBP_AUTHOR="gpkg",O.EXTENSION_WEBP_NAME_NO_AUTHOR="webp",O.EXTENSION_WEBP_DEFINITION="http://www.geopackage.org/spec/#extension_webp",O})(z.BaseExtension);x.WebPExtension=R},812:(y,x,r)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.GeometryColumns=void 0;var b=r(9971),M=(function(){function z(){}return Object.defineProperty(z.prototype,"geometryType",{get:function(){return this.geometry_type_name},enumerable:!1,configurable:!0}),Object.defineProperty(z.prototype,"id",{get:function(){return"".concat(this.table_name," ").concat(this.column_name)},enumerable:!1,configurable:!0}),z.prototype.setContents=function(B){if(B!=null){var R=B.data_type;if(R==null||R!==b.ContentsDataType.FEATURES)throw new Error("The Contents of a GeometryColumns must have a data type of "+b.ContentsDataType.nameFromType(b.ContentsDataType.FEATURES));this.table_name=B.table_name}else this.table_name=null},z.TABLE_NAME="tableName",z.COLUMN_NAME="columnName",z.GEOMETRY_TYPE_NAME="geometryTypeName",z.SRS_ID="srsId",z.Z="z",z.M="m",z})();x.GeometryColumns=M},1968:function(y,x,r){var b,M=this&&this.__extends||(b=function(O,A){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,U){T.__proto__=U}||function(T,U){for(var q in U)Object.prototype.hasOwnProperty.call(U,q)&&(T[q]=U[q])},b(O,A)},function(O,A){if(typeof A!="function"&&A!==null)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");function T(){this.constructor=O}b(O,A),O.prototype=A===null?Object.create(A):(T.prototype=A.prototype,new T)}),z=this&&this.__values||function(O){var A=typeof Symbol=="function"&&Symbol.iterator,T=A&&O[A],U=0;if(T)return T.call(O);if(O&&typeof O.length=="number")return{next:function(){return O&&U>=O.length&&(O=void 0),{value:O&&O[U++],done:!O}}};throw new TypeError(A?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(x,"__esModule",{value:!0}),x.GeometryColumnsDao=void 0;var B=r(4115),R=r(812),I=(function(O){function A(){var T=O!==null&&O.apply(this,arguments)||this;return T.gpkgTableName="gpkg_geometry_columns",T.idColumns=[A.COLUMN_ID_1,A.COLUMN_ID_2],T.columns=[A.COLUMN_TABLE_NAME,A.COLUMN_COLUMN_NAME,A.COLUMN_GEOMETRY_TYPE_NAME,A.COLUMN_SRS_ID,A.COLUMN_Z,A.COLUMN_M],T}return M(A,O),A.prototype.createObject=function(T){var U=new R.GeometryColumns;return T&&(U.table_name=T.table_name,U.column_name=T.column_name,U.geometry_type_name=T.geometry_type_name,U.srs_id=T.srs_id,U.z=T.z,U.m=T.m),U},A.prototype.queryForTableName=function(T){var U=this.queryForAllEq(A.COLUMN_TABLE_NAME,T);if(U&&U.length)return this.createObject(U[0])},A.prototype.getFeatureTables=function(){var T,U,q=[];try{for(var K=z(this.connection.each("select "+A.COLUMN_TABLE_NAME+" from "+this.gpkgTableName)),J=K.next();!J.done;J=K.next()){var te=J.value;q.push(te[A.COLUMN_TABLE_NAME])}}catch(oe){T={error:oe}}finally{try{J&&!J.done&&(U=K.return)&&U.call(K)}finally{if(T)throw T.error}}return q},A.prototype.getSrs=function(T){return this.geoPackage.spatialReferenceSystemDao.queryForId(T.srs_id)},A.prototype.getContents=function(T){return this.geoPackage.contentsDao.queryForId(T.table_name)},A.prototype.getProjection=function(T){var U=this.getSrs(T);return this.geoPackage.spatialReferenceSystemDao.getProjection(U)},A.COLUMN_TABLE_NAME="table_name",A.COLUMN_COLUMN_NAME="column_name",A.COLUMN_ID_1=A.COLUMN_TABLE_NAME,A.COLUMN_ID_2=A.COLUMN_COLUMN_NAME,A.COLUMN_GEOMETRY_TYPE_NAME="geometry_type_name",A.COLUMN_SRS_ID="srs_id",A.COLUMN_Z="z",A.COLUMN_M="m",A})(B.Dao);x.GeometryColumnsDao=I},961:function(y,x,r){var b,M=this&&this.__extends||(b=function(A,T){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(U,q){U.__proto__=q}||function(U,q){for(var K in q)Object.prototype.hasOwnProperty.call(q,K)&&(U[K]=q[K])},b(A,T)},function(A,T){if(typeof T!="function"&&T!==null)throw new TypeError("Class extends value "+String(T)+" is not a constructor or null");function U(){this.constructor=A}b(A,T),A.prototype=T===null?Object.create(T):(U.prototype=T.prototype,new U)});Object.defineProperty(x,"__esModule",{value:!0}),x.FeatureColumn=void 0;var z=r(5865),B=r(7319),R=r(9211),I=r(5071),O=(function(A){function T(U,q,K,J,te,oe,ue,fe,Le){var Ge=A.call(this,U,q,K,J,te,oe,ue,Le)||this;return Ge.geometryType=fe,Ge.type=Ge.getTypeName(q,K,fe),Ge}return M(T,A),T.createPrimaryKeyColumn=function(U,q,K){return K===void 0&&(K=I.UserTableDefaults.DEFAULT_AUTOINCREMENT),new T(U,q,B.GeoPackageDataType.INTEGER,void 0,!0,void 0,!0,void 0,K)},T.createGeometryColumn=function(U,q,K,J,te){if(K==null)throw new Error("Geometry Type is required to create column: "+q);return new T(U,q,B.GeoPackageDataType.BLOB,void 0,J,te,!1,K,!1)},T.createColumn=function(U,q,K,J,te,oe,ue){return J===void 0&&(J=!1),new T(U,q,K,oe,J,te,!1,void 0,ue)},T.prototype.getTypeName=function(U,q,K){return K!=null?R.GeometryType.nameFromType(K):A.prototype.getTypeName.call(this,U,q)},T.getGeometryTypeFromTableColumn=function(U){var q=null;return U.isDataType(B.GeoPackageDataType.BLOB)&&(q=R.GeometryType.fromName(U.type)),q},T.prototype.copy=function(){return new T(this.index,this.name,this.dataType,this.max,this.notNull,this.defaultValue,this.primaryKey,this.geometryType,this.autoincrement)},T.prototype.isGeometry=function(){return this.geometryType!==null},T.prototype.getGeometryType=function(){return this.geometryType},T})(z.UserColumn);x.FeatureColumn=O},5053:function(y,x,r){var b,M=this&&this.__extends||(b=function(I,O){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,T){A.__proto__=T}||function(A,T){for(var U in T)Object.prototype.hasOwnProperty.call(T,U)&&(A[U]=T[U])},b(I,O)},function(I,O){if(typeof O!="function"&&O!==null)throw new TypeError("Class extends value "+String(O)+" is not a constructor or null");function A(){this.constructor=I}b(I,O),I.prototype=O===null?Object.create(O):(A.prototype=O.prototype,new A)});Object.defineProperty(x,"__esModule",{value:!0}),x.FeatureColumns=void 0;var z=r(2114),B=r(7319),R=(function(I){function O(A,T,U,q){var K=I.call(this,A,U,q)||this;return K.geometryIndex=-1,K.geometryColumn=T,K.updateColumns(),K}return M(O,I),O.prototype.copy=function(){return new O(this.getTableName(),this.getGeometryColumnName(),this.getColumns(),this.isCustom())},O.prototype.updateColumns=function(){I.prototype.updateColumns.call(this);var A=null;if(this.geometryColumn!==null&&this.geometryColumn!==void 0)A=this.getColumnIndex(this.geometryColumn,!1);else for(var T=0;T<this.getColumns().length;T++){var U=this.getColumns()[T];if(U.isGeometry()){A=U.getIndex(),this.geometryColumn=U.getName();break}}this.isCustom()||this.missingCheck(A,B.GeoPackageDataType.nameFromType(B.GeoPackageDataType.BLOB)),A!=null&&(this.geometryIndex=A)},O.prototype.getGeometryColumnName=function(){return this.geometryColumn},O.prototype.setGeometryColumnName=function(A){this.geometryColumn=A},O.prototype.getGeometryIndex=function(){return this.geometryIndex},O.prototype.setGeometryIndex=function(A){this.geometryIndex=A},O.prototype.hasGeometryColumn=function(){return this.geometryIndex>=0},O.prototype.getGeometryColumn=function(){var A=null;return this.hasGeometryColumn()&&(A=this.getColumnForIndex(this.geometryIndex)),A},O})(z.UserColumns);x.FeatureColumns=R},2071:function(y,x,r){var b,M=r(5108),z=this&&this.__extends||(b=function(ze,je){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Be,_e){Be.__proto__=_e}||function(Be,_e){for(var He in _e)Object.prototype.hasOwnProperty.call(_e,He)&&(Be[He]=_e[He])},b(ze,je)},function(ze,je){if(typeof je!="function"&&je!==null)throw new TypeError("Class extends value "+String(je)+" is not a constructor or null");function Be(){this.constructor=ze}b(ze,je),ze.prototype=je===null?Object.create(je):(Be.prototype=je.prototype,new Be)}),B=this&&this.__awaiter||function(ze,je,Be,_e){return new(Be||(Be=Promise))((function(He,tt){function Ke(vt){try{Qe(_e.next(vt))}catch(pt){tt(pt)}}function Ze(vt){try{Qe(_e.throw(vt))}catch(pt){tt(pt)}}function Qe(vt){var pt;vt.done?He(vt.value):(pt=vt.value,pt instanceof Be?pt:new Be((function(ut){ut(pt)}))).then(Ke,Ze)}Qe((_e=_e.apply(ze,je||[])).next())}))},R=this&&this.__generator||function(ze,je){var Be,_e,He,tt,Ke={label:0,sent:function(){if(1&He[0])throw He[1];return He[1]},trys:[],ops:[]};return tt={next:Ze(0),throw:Ze(1),return:Ze(2)},typeof Symbol=="function"&&(tt[Symbol.iterator]=function(){return this}),tt;function Ze(Qe){return function(vt){return(function(pt){if(Be)throw new TypeError("Generator is already executing.");for(;tt&&(tt=0,pt[0]&&(Ke=0)),Ke;)try{if(Be=1,_e&&(He=2&pt[0]?_e.return:pt[0]?_e.throw||((He=_e.return)&&He.call(_e),0):_e.next)&&!(He=He.call(_e,pt[1])).done)return He;switch(_e=0,He&&(pt=[2&pt[0],He.value]),pt[0]){case 0:case 1:He=pt;break;case 4:return Ke.label++,{value:pt[1],done:!1};case 5:Ke.label++,_e=pt[1],pt=[0];continue;case 7:pt=Ke.ops.pop(),Ke.trys.pop();continue;default:if(!((He=(He=Ke.trys).length>0&&He[He.length-1])||pt[0]!==6&&pt[0]!==2)){Ke=0;continue}if(pt[0]===3&&(!He||pt[1]>He[0]&&pt[1]<He[3])){Ke.label=pt[1];break}if(pt[0]===6&&Ke.label<He[1]){Ke.label=He[1],He=pt;break}if(He&&Ke.label<He[2]){Ke.label=He[2],Ke.ops.push(pt);break}He[2]&&Ke.ops.pop(),Ke.trys.pop();continue}pt=je.call(ze,Ke)}catch(ut){pt=[6,ut],_e=0}finally{Be=He=0}if(5&pt[0])throw pt[1];return{value:pt[0]?pt[1]:void 0,done:!0}})([Qe,vt])}}},I=this&&this.__importDefault||function(ze){return ze&&ze.__esModule?ze:{default:ze}};Object.defineProperty(x,"__esModule",{value:!0}),x.FeatureDao=void 0;var O=I(r(6102)),A=I(r(3663)),T=I(r(4170)),U=I(r(5184)),q=I(r(8147)),K=r(5626),J=r(4668),te=r(4941),oe=r(234),ue=r(7319),fe=r(2527),Le=r(1375),Ge=(function(ze){function je(Be,_e,He,tt){var Ke=ze.call(this,Be,_e)||this;Ke.geometryColumns=He,Ke.metadataDao=tt,Ke.dataColumnsDao=new te.DataColumnsDao(Be),Ke.featureTableIndex=new K.FeatureTableIndex(Be,Ke);var Ze=Be.geometryColumnsDao;if(!Ze.getContents(He))throw new Error("Geometry Columns "+He.id+" has null Contents");if(!Ze.getSrs(He))throw new Error("Geometry Columns "+He.id+" has null Spatial Reference System");return Ke.projection=Ze.getProjection(He),Ke}return z(je,ze),je.prototype.createObject=function(Be){return Be?this.getRow(Be):this.newRow()},je.prototype.getRow=function(Be){return ze.prototype.getRow.call(this,Be)},je.prototype.getContents=function(){return this.geoPackage.geometryColumnsDao.getContents(this.geometryColumns)},je.prototype.getFeatureTable=function(){return this.table},Object.defineProperty(je.prototype,"table",{get:function(){return this._table},enumerable:!1,configurable:!0}),je.prototype.newRow=function(Be,_e){return new oe.FeatureRow(this.getFeatureTable(),Be,_e)},je.prototype.getGeometryColumnName=function(){return this.geometryColumns.column_name},Object.defineProperty(je.prototype,"geometryType",{get:function(){return this.geometryColumns.geometryType},enumerable:!1,configurable:!0}),Object.defineProperty(je.prototype,"srs",{get:function(){return this.geoPackage.geometryColumnsDao.getSrs(this.geometryColumns)},enumerable:!1,configurable:!0}),je.prototype.isIndexed=function(){return this.featureTableIndex.isIndexed()},je.prototype.index=function(Be){return B(this,void 0,void 0,(function(){return R(this,(function(_e){return[2,this.featureTableIndex.index(Be)]}))}))},je.prototype.countWebMercatorBoundingBox=function(Be){return this.countInBoundingBox(Be,Le.ProjectionConstants.EPSG_3857)},je.prototype.countInBoundingBox=function(Be,_e){return this.featureTableIndex.countWithBoundingBox(Be,_e)},je.prototype.fastQueryWebMercatorBoundingBox=function(Be){var _e,He=this,tt=this.featureTableIndex.queryWithBoundingBox(Be,Le.ProjectionConstants.EPSG_3857);return(_e={})[Symbol.iterator]=function(){return this},_e.next=function(){var Ke=tt.next();return Ke.done?{value:void 0,done:!0}:{value:He.getRow(Ke.value),done:!1}},_e},je.prototype.queryIndexedFeaturesWithWebMercatorBoundingBox=function(Be){var _e,He=this.srs,tt=this.projection,Ke=this.featureTableIndex.queryWithBoundingBox(Be,Le.ProjectionConstants.EPSG_3857),Ze=this.getRow.bind(this),Qe=Be.projectBoundingBox(Le.ProjectionConstants.EPSG_3857,Le.ProjectionConstants.EPSG_4326);return(_e={})[Symbol.iterator]=function(){return this},_e.next=function(){var vt=Ke.next();if(!vt.done)for(var pt=void 0,ut=void 0;!vt.done&&!ut;){pt=Ze(vt.value);try{var Mt=je.reprojectFeature(pt,He,tt);ut=je.verifyFeature(Mt,Qe)}catch(bt){M.log("Error parsing Geometry",bt)}if(ut)return ut.properties=pt.values,{value:pt,done:!1};vt=Ke.next()}return{done:!0,value:void 0}},_e},je.prototype.fastQueryBoundingBox=function(Be,_e){var He,tt=this.featureTableIndex.queryWithBoundingBox(Be,_e),Ke=this.getRow.bind(this);return(He={})[Symbol.iterator]=function(){return this},He.next=function(){var Ze=tt.next();return Ze.done?{done:!0,value:void 0}:{value:Ke(Ze.value),done:!1}},He},je.prototype.queryIndexedFeaturesWithBoundingBox=function(Be){var _e,He=this.srs,tt=this.projection,Ke=this.featureTableIndex.queryWithBoundingBox(Be,tt),Ze=this.getRow.bind(this),Qe=Be.projectBoundingBox(tt,this.projection);return(_e={})[Symbol.iterator]=function(){return this},_e.next=function(){var vt=Ke.next();if(!vt.done)for(var pt=void 0,ut=void 0;!vt.done&&!ut;){pt=Ze(vt.value);try{var Mt=je.reprojectFeature(pt,He,tt);ut=je.verifyFeature(Mt,Qe)}catch(bt){M.log("Error parsing Geometry",bt)}if(ut)return ut.properties=pt.values,{value:pt,done:!1};vt=Ke.next()}return{done:!0,value:void 0}},_e},je.prototype.queryForGeoJSONIndexedFeaturesWithBoundingBox=function(Be,_e){var He,tt=this;_e===void 0&&(_e=!1);var Ke,Ze=[],Qe={},vt=this.srs,pt=this.projection;return this.table.getUserColumns().getColumns().forEach((function(ut){var Mt=tt.dataColumnsDao.getDataColumns(tt.table.getTableName(),ut.name);Ze.push({index:ut.index,name:ut.name,max:ut.max,min:ut.min,notNull:ut.notNull,primaryKey:ut.primaryKey,dataType:ut.dataType?ue.GeoPackageDataType.nameFromType(ut.dataType):"",displayName:Mt&&Mt.name?Mt.name:ut.name,dataColumn:Mt}),Qe[ut.name]=Ze[Ze.length-1]})),Ke=Be?this.featureTableIndex.queryWithBoundingBox(Be,Le.ProjectionConstants.EPSG_4326)[Symbol.iterator]():this.queryForEach(),(He={srs:vt,featureDao:this})[Symbol.iterator]=function(){return this},He.next=function(){var ut=Ke.next();if(!ut.done)for(var Mt=void 0,bt=void 0;!ut.done&&!bt;){Mt=tt.getRow(ut.value);try{bt=je.reprojectFeature(Mt,vt,pt),!_e&&Be&&(bt=je.verifyFeature(bt,Be))}catch(yt){M.log("Error parsing Geometry",yt)}if(bt){var ar={id:void 0,type:"Feature",properties:{},geometry:bt};for(var dt in Mt.values)Object.prototype.hasOwnProperty.call(Mt.values,dt)&&dt!==Mt.geometryColumn.name&&(dt.toLowerCase()==="_feature_id"?ar.id=Mt.values[dt]:dt.toLowerCase()==="id"?ar.properties[dt]=Mt.values[dt]:dt.toLowerCase()==="_properties_id"?ar.properties[dt.substring(12)]=Mt.values[dt]:ar.properties[Qe[dt].displayName]=Mt.values[dt]);return ar.id=ar.id||Mt.id,{value:ar,done:!1}}ut=Ke.next()}return{done:!0,value:void 0}},He},je.prototype.getBoundingBox=function(){var Be=this.getContents();return new fe.BoundingBox(Be.min_x,Be.max_x,Be.min_y,Be.max_y)},je.reprojectFeature=function(Be,_e,He){var tt=Be.geometry.toGeoJSON();return _e.organization===Le.ProjectionConstants.EPSG&&_e.organization_coordsys_id===Le.ProjectionConstants.EPSG_CODE_4326||(tt=O.default.reproject(tt,He,Le.ProjectionConstants.EPSG_4326)),tt},je.verifyFeature=function(Be,_e){try{return Be.type==="Point"?Be:Be.type==="LineString"?je.verifyLineString(Be,_e):Be.type==="Polygon"?je.verifyPolygon(Be,_e):Be.type==="MultiPoint"?je.verifyMultiPoint(Be,_e):Be.type==="MultiLineString"?je.verifyLineString(Be,_e):Be.type==="MultiPolygon"?je.verifyPolygon(Be,_e):Be.type==="GeometryCollection"?je.verifyGeometryCollection(Be,_e):void 0}catch{return}},je.verifyMultiPoint=function(Be,_e){return je.multiPointIntersects(Be,_e.toGeoJSON().geometry)||(0,U.default)(Be,_e.toGeoJSON().geometry)?Be:void 0},je.verifyLineString=function(Be,_e){return(0,A.default)(Be,_e.toGeoJSON().geometry).features.length||(0,U.default)(Be,_e.toGeoJSON().geometry)?Be:void 0},je.verifyPolygon=function(Be,_e){return(0,T.default)(Be,_e.toGeoJSON().geometry)||(0,U.default)(Be,_e.toGeoJSON().geometry)?Be:void 0},je.multiPointIntersects=function(Be,_e){for(var He=!1,tt=0;tt<Be.coordinates.length&&!He;tt++){var Ke=Be.coordinates[tt];He=(0,q.default)(Ke,_e)}return He},je.geometryCollectionIntersects=function(Be,_e){for(var He=!1,tt=0;tt<Be.geometries.length&&!He;tt++){var Ke=Be.geometries[tt];switch(Ke.type){case"Point":He=(0,q.default)(Ke,_e);break;case"LineString":case"MultiLineString":He=(0,A.default)(Ke,_e).features.length>0;break;case"Polygon":case"MultiPolygon":He=(0,T.default)(Ke,_e)!==null;break;case"MultiPoint":He=je.multiPointIntersects(Ke,_e);break;case"GeometryCollection":He=je.geometryCollectionIntersects(Ke,_e)}}return He},je.verifyGeometryCollection=function(Be,_e){return je.geometryCollectionIntersects(Be,_e.toGeoJSON().geometry)||(0,U.default)(Be,_e.toGeoJSON().geometry)?Be:void 0},je.readTable=function(Be,_e){return Be.getFeatureDao(_e)},je})(J.UserDao);x.FeatureDao=Ge},234:function(y,x,r){var b,M=r(3085).lW,z=this&&this.__extends||(b=function(A,T){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(U,q){U.__proto__=q}||function(U,q){for(var K in q)Object.prototype.hasOwnProperty.call(q,K)&&(U[K]=q[K])},b(A,T)},function(A,T){if(typeof T!="function"&&T!==null)throw new TypeError("Class extends value "+String(T)+" is not a constructor or null");function U(){this.constructor=A}b(A,T),A.prototype=T===null?Object.create(T):(U.prototype=T.prototype,new U)});Object.defineProperty(x,"__esModule",{value:!0}),x.FeatureRow=void 0;var B=r(2224),R=r(961),I=r(857),O=(function(A){function T(U,q,K){var J=A.call(this,U,q,K)||this;return J.featureTable=U,J}return z(T,A),Object.defineProperty(T.prototype,"geometryColumnIndex",{get:function(){return this.featureTable.getGeometryColumnIndex()},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"geometryColumn",{get:function(){return this.featureTable.getGeometryColumn()},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"geometry",{get:function(){return this.getValueWithIndex(this.featureTable.getGeometryColumnIndex())},set:function(U){this.setValueWithIndex(this.featureTable.getGeometryColumnIndex(),U)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"geometryType",{get:function(){var U=null,q=this.getValueWithIndex(this.featureTable.getGeometryColumnIndex());return q!==null&&(U=q.toGeoJSON().type),U},enumerable:!1,configurable:!0}),T.prototype.toObjectValue=function(U,q){var K=this.getColumnWithIndex(U);return K instanceof R.FeatureColumn&&K.isGeometry()&&q&&q instanceof M||q instanceof Uint8Array?new I.GeometryData(q):A.prototype.toObjectValue.call(this,U,q)},T.prototype.getValueWithColumnName=function(U){var q=this.values[U],K=this.getColumnWithColumnName(U);return q!=null&&K instanceof R.FeatureColumn&&K.isGeometry()&&q.toData?q.toData():A.prototype.getValueWithColumnName.call(this,U)},T})(B.UserRow);x.FeatureRow=O},8412:function(y,x,r){var b,M=this&&this.__extends||(b=function(O,A){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,U){T.__proto__=U}||function(T,U){for(var q in U)Object.prototype.hasOwnProperty.call(U,q)&&(T[q]=U[q])},b(O,A)},function(O,A){if(typeof A!="function"&&A!==null)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");function T(){this.constructor=O}b(O,A),O.prototype=A===null?Object.create(A):(T.prototype=A.prototype,new T)});Object.defineProperty(x,"__esModule",{value:!0}),x.FeatureTable=void 0;var z=r(8018),B=r(5053),R=r(9971),I=(function(O){function A(T,U,q){return O.call(this,new B.FeatureColumns(T,U,q,!1))||this}return M(A,O),A.prototype.copy=function(){return new A(this.getTableName(),this.getGeometryColumnName(),this.getUserColumns().getColumns())},A.prototype.getGeometryColumnIndex=function(){return this.getUserColumns().getGeometryIndex()},A.prototype.getUserColumns=function(){return O.prototype.getUserColumns.call(this)},A.prototype.getGeometryColumn=function(){return this.getUserColumns().getGeometryColumn()},A.prototype.getGeometryColumnName=function(){return this.getUserColumns().getGeometryColumnName()},A.prototype.getIdAndGeometryColumnNames=function(){return[this.getPkColumnName(),this.getGeometryColumnName()]},A.prototype.validateContents=function(T){var U=T.data_type;if(U==null||U!==R.ContentsDataType.FEATURES)throw new Error("The Contents of a FeatureTable must have a data type of "+R.ContentsDataType.FEATURES)},A})(z.UserTable);x.FeatureTable=I},4896:function(y,x,r){var b,M=this&&this.__extends||(b=function(T,U){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(q,K){q.__proto__=K}||function(q,K){for(var J in K)Object.prototype.hasOwnProperty.call(K,J)&&(q[J]=K[J])},b(T,U)},function(T,U){if(typeof U!="function"&&U!==null)throw new TypeError("Class extends value "+String(U)+" is not a constructor or null");function q(){this.constructor=T}b(T,U),T.prototype=U===null?Object.create(U):(q.prototype=U.prototype,new q)});Object.defineProperty(x,"__esModule",{value:!0}),x.FeatureTableReader=void 0;var z=r(1968),B=r(8412),R=r(4880),I=r(961),O=r(812),A=(function(T){function U(q){var K=T.call(this,q instanceof O.GeometryColumns?q.table_name:q)||this;return q instanceof O.GeometryColumns&&(K.columnName=q.column_name),K}return M(U,T),U.prototype.readFeatureTable=function(q){if(this.columnName===null||this.columnName===void 0){var K=new z.GeometryColumnsDao(q);this.columnName=K.queryForTableName(this.table_name).column_name}return this.readTable(q.database)},U.prototype.createTable=function(q,K){return new B.FeatureTable(q,this.columnName,K)},U.prototype.createColumn=function(q){return new I.FeatureColumn(q.index,q.name,q.dataType,q.max,q.notNull,q.defaultValue,q.primaryKey,I.FeatureColumn.getGeometryTypeFromTableColumn(q),q.autoincrement)},U})(R.UserTableReader);x.FeatureTableReader=A},9211:(y,x)=>{var r;Object.defineProperty(x,"__esModule",{value:!0}),x.GeometryType=void 0,(r=x.GeometryType||(x.GeometryType={}))[r.GEOMETRY=0]="GEOMETRY",r[r.POINT=1]="POINT",r[r.LINESTRING=2]="LINESTRING",r[r.POLYGON=3]="POLYGON",r[r.MULTIPOINT=4]="MULTIPOINT",r[r.MULTILINESTRING=5]="MULTILINESTRING",r[r.MULTIPOLYGON=6]="MULTIPOLYGON",r[r.GEOMETRYCOLLECTION=7]="GEOMETRYCOLLECTION",r[r.CIRCULARSTRING=8]="CIRCULARSTRING",r[r.COMPOUNDCURVE=9]="COMPOUNDCURVE",r[r.CURVEPOLYGON=10]="CURVEPOLYGON",r[r.MULTICURVE=11]="MULTICURVE",r[r.MULTISURFACE=12]="MULTISURFACE",r[r.CURVE=13]="CURVE",r[r.SURFACE=14]="SURFACE",r[r.POLYHEDRALSURFACE=15]="POLYHEDRALSURFACE",r[r.TIN=16]="TIN",r[r.TRIANGLE=17]="TRIANGLE",(function(b){b.nameFromType=function(M){var z=null;return M!=null&&(z=b[M]),z},b.fromName=function(M){return b[M]}})(x.GeometryType||(x.GeometryType={}))},4325:function(y,x,r){var b=this&&this.__createBinding||(Object.create?function(wt,_t,jt,nr){nr===void 0&&(nr=jt);var Yt=Object.getOwnPropertyDescriptor(_t,jt);Yt&&!("get"in Yt?!_t.__esModule:Yt.writable||Yt.configurable)||(Yt={enumerable:!0,get:function(){return _t[jt]}}),Object.defineProperty(wt,nr,Yt)}:function(wt,_t,jt,nr){nr===void 0&&(nr=jt),wt[nr]=_t[jt]}),M=this&&this.__setModuleDefault||(Object.create?function(wt,_t){Object.defineProperty(wt,"default",{enumerable:!0,value:_t})}:function(wt,_t){wt.default=_t}),z=this&&this.__importStar||function(wt){if(wt&&wt.__esModule)return wt;var _t={};if(wt!=null)for(var jt in wt)jt!=="default"&&Object.prototype.hasOwnProperty.call(wt,jt)&&b(_t,wt,jt);return M(_t,wt),_t},B=this&&this.__awaiter||function(wt,_t,jt,nr){return new(jt||(jt=Promise))((function(Yt,Nr){function Gr(hn){try{Mn(nr.next(hn))}catch(vn){Nr(vn)}}function Vr(hn){try{Mn(nr.throw(hn))}catch(vn){Nr(vn)}}function Mn(hn){var vn;hn.done?Yt(hn.value):(vn=hn.value,vn instanceof jt?vn:new jt((function(Dn){Dn(vn)}))).then(Gr,Vr)}Mn((nr=nr.apply(wt,_t||[])).next())}))},R=this&&this.__generator||function(wt,_t){var jt,nr,Yt,Nr,Gr={label:0,sent:function(){if(1&Yt[0])throw Yt[1];return Yt[1]},trys:[],ops:[]};return Nr={next:Vr(0),throw:Vr(1),return:Vr(2)},typeof Symbol=="function"&&(Nr[Symbol.iterator]=function(){return this}),Nr;function Vr(Mn){return function(hn){return(function(vn){if(jt)throw new TypeError("Generator is already executing.");for(;Nr&&(Nr=0,vn[0]&&(Gr=0)),Gr;)try{if(jt=1,nr&&(Yt=2&vn[0]?nr.return:vn[0]?nr.throw||((Yt=nr.return)&&Yt.call(nr),0):nr.next)&&!(Yt=Yt.call(nr,vn[1])).done)return Yt;switch(nr=0,Yt&&(vn=[2&vn[0],Yt.value]),vn[0]){case 0:case 1:Yt=vn;break;case 4:return Gr.label++,{value:vn[1],done:!1};case 5:Gr.label++,nr=vn[1],vn=[0];continue;case 7:vn=Gr.ops.pop(),Gr.trys.pop();continue;default:if(!((Yt=(Yt=Gr.trys).length>0&&Yt[Yt.length-1])||vn[0]!==6&&vn[0]!==2)){Gr=0;continue}if(vn[0]===3&&(!Yt||vn[1]>Yt[0]&&vn[1]<Yt[3])){Gr.label=vn[1];break}if(vn[0]===6&&Gr.label<Yt[1]){Gr.label=Yt[1],Yt=vn;break}if(Yt&&Gr.label<Yt[2]){Gr.label=Yt[2],Gr.ops.push(vn);break}Yt[2]&&Gr.ops.pop(),Gr.trys.pop();continue}vn=_t.call(wt,Gr)}catch(Dn){vn=[6,Dn],nr=0}finally{jt=Yt=0}if(5&vn[0])throw vn[1];return{value:vn[0]?vn[1]:void 0,done:!0}})([Mn,hn])}}},I=this&&this.__values||function(wt){var _t=typeof Symbol=="function"&&Symbol.iterator,jt=_t&&wt[_t],nr=0;if(jt)return jt.call(wt);if(wt&&typeof wt.length=="number")return{next:function(){return wt&&nr>=wt.length&&(wt=void 0),{value:wt&&wt[nr++],done:!wt}}};throw new TypeError(_t?"Object is not iterable.":"Symbol.iterator is not defined.")},O=this&&this.__importDefault||function(wt){return wt&&wt.__esModule?wt:{default:wt}};Object.defineProperty(x,"__esModule",{value:!0}),x.GeoPackage=void 0;var A=O(r(1011)),T=O(r(6102)),U=O(r(3892)),q=O(r(7383)),K=O(r(8147)),J=O(r(1013)),te=z(r(4102)),oe=O(r(4472)),ue=r(857),fe=r(5306),Le=r(1832),Ge=r(8479),ze=r(1314),je=r(7523),Be=r(5965),_e=r(1968),He=r(2071),tt=r(4896),Ke=r(6638),Ze=r(5925),Qe=r(3506),vt=r(4941),pt=r(7175),ut=r(663),Mt=r(2056),bt=r(5698),ar=r(9581),dt=r(9095),yt=r(8904),Gt=r(8008),Bt=r(1394),Dt=r(7092),Ct=r(7960),It=r(3931),lr=r(9631),Je=r(464),Ve=r(8412),st=r(8138),it=r(8704),Wt=r(5897),rt=r(7319),ur=r(8116),tr=r(812),Ft=r(1459),Jt=r(1938),et=r(3684),gt=r(2527),Et=r(5899),Xt=r(5865),mr=r(8133),Cr=r(4275),Dr=r(961),_n=r(6366),In=r(8483),Fn=r(4599),ti=r(297),Qn=r(731),vi=r(4301),wi=r(2777),oi=r(8375),Si=r(8314),Gi=r(9406),ai=r(9971),zi=r(9211),Ei=r(7686),fa=r(5604),Vn=r(1375),ha=r(8877),Na=(function(){function wt(_t,jt,nr){this.name=_t,this.path=jt,this.connection=nr,this.tableCreator=new Ft.TableCreator(this),this.loadSpatialReferenceSystemsIntoProj4()}return wt.prototype.close=function(){this.connection.close()},Object.defineProperty(wt.prototype,"database",{get:function(){return this.connection},enumerable:!1,configurable:!0}),wt.prototype.export=function(){return B(this,void 0,void 0,(function(){return R(this,(function(_t){return[2,this.connection.export()]}))}))},wt.prototype.loadSpatialReferenceSystemsIntoProj4=function(){this.spatialReferenceSystemDao.getAllSpatialReferenceSystems().forEach((function(_t){try{_t.srs_id>0&&(_t.organization!==Vn.ProjectionConstants.EPSG||_t.organization_coordsys_id!==Vn.ProjectionConstants.EPSG_CODE_4326&&_t.organization_coordsys_id!==Vn.ProjectionConstants.EPSG_CODE_3857)&&fa.Projection.loadProjection([_t.organization,_t.organization_coordsys_id].join(":"),_t.definition)}catch{}}))},wt.prototype.validate=function(){var _t=[];return _t.concat(Cr.GeoPackageValidate.validateMinimumTables(this))},Object.defineProperty(wt.prototype,"spatialReferenceSystemDao",{get:function(){return this._spatialReferenceSystemDao||(this._spatialReferenceSystemDao=new Be.SpatialReferenceSystemDao(this))},enumerable:!1,configurable:!0}),Object.defineProperty(wt.prototype,"contentsDao",{get:function(){return this._contentsDao||(this._contentsDao=new Ke.ContentsDao(this))},enumerable:!1,configurable:!0}),Object.defineProperty(wt.prototype,"tileMatrixSetDao",{get:function(){return this._tileMatrixSetDao||(this._tileMatrixSetDao=new Ze.TileMatrixSetDao(this))},enumerable:!1,configurable:!0}),Object.defineProperty(wt.prototype,"tileMatrixDao",{get:function(){return this._tileMatrixDao||(this._tileMatrixDao=new Qe.TileMatrixDao(this))},enumerable:!1,configurable:!0}),Object.defineProperty(wt.prototype,"dataColumnsDao",{get:function(){return this._dataColumnsDao||(this._dataColumnsDao=new vt.DataColumnsDao(this))},enumerable:!1,configurable:!0}),Object.defineProperty(wt.prototype,"extensionDao",{get:function(){return this._extensionDao||(this._extensionDao=new bt.ExtensionDao(this))},enumerable:!1,configurable:!0}),Object.defineProperty(wt.prototype,"tableIndexDao",{get:function(){return this._tableIndexDao||(this._tableIndexDao=new ar.TableIndexDao(this))},enumerable:!1,configurable:!0}),Object.defineProperty(wt.prototype,"geometryColumnsDao",{get:function(){return this._geometryColumnsDao||(this._geometryColumnsDao=new _e.GeometryColumnsDao(this))},enumerable:!1,configurable:!0}),Object.defineProperty(wt.prototype,"dataColumnConstraintsDao",{get:function(){return this._dataColumnConstraintsDao||(this._dataColumnConstraintsDao=new pt.DataColumnConstraintsDao(this))},enumerable:!1,configurable:!0}),Object.defineProperty(wt.prototype,"metadataReferenceDao",{get:function(){return this._metadataReferenceDao||(this._metadataReferenceDao=new Mt.MetadataReferenceDao(this))},enumerable:!1,configurable:!0}),Object.defineProperty(wt.prototype,"metadataDao",{get:function(){return this._metadataDao||(this._metadataDao=new ut.MetadataDao(this))},enumerable:!1,configurable:!0}),Object.defineProperty(wt.prototype,"extendedRelationDao",{get:function(){return this._extendedRelationDao||(this._extendedRelationDao=new yt.ExtendedRelationDao(this))},enumerable:!1,configurable:!0}),Object.defineProperty(wt.prototype,"contentsIdDao",{get:function(){return this._contentsIdDao||(this._contentsIdDao=new Dt.ContentsIdDao(this))},enumerable:!1,configurable:!0}),Object.defineProperty(wt.prototype,"tileScalingDao",{get:function(){return this._tileScalingDao||(this._tileScalingDao=new Ct.TileScalingDao(this))},enumerable:!1,configurable:!0}),Object.defineProperty(wt.prototype,"contentsIdExtension",{get:function(){return this._contentsIdExtension||(this._contentsIdExtension=new ze.ContentsIdExtension(this))},enumerable:!1,configurable:!0}),Object.defineProperty(wt.prototype,"featureStyleExtension",{get:function(){return this._featureStyleExtension||(this._featureStyleExtension=new Ge.FeatureStyleExtension(this))},enumerable:!1,configurable:!0}),wt.prototype.getTileScalingExtension=function(_t){return new je.TileScalingExtension(this,_t)},wt.prototype.getGeometryIndexDao=function(_t){return new dt.GeometryIndexDao(this,_t)},Object.defineProperty(wt.prototype,"relatedTablesExtension",{get:function(){return this._relatedTablesExtension||(this._relatedTablesExtension=new Le.RelatedTablesExtension(this))},enumerable:!1,configurable:!0}),wt.prototype.getSrs=function(_t){return this.spatialReferenceSystemDao.queryForId(_t)},wt.prototype.createRequiredTables=function(){return this.tableCreator.createRequired(),this},wt.prototype.createSupportedExtensions=function(){return new fe.CrsWktExtension(this).getOrCreateExtension(),new ur.SchemaExtension(this).getOrCreateExtension(),this},wt.prototype.getTileDao=function(_t){if(_t instanceof Wt.Contents)_t=this.contentsDao.getTileMatrixSet(_t);else if(!(_t instanceof Et.TileMatrixSet)){var jt=this.tileMatrixSetDao,nr=jt.queryForAllEq(Ze.TileMatrixSetDao.COLUMN_TABLE_NAME,_t);if(nr.length>1)throw new Error("Unexpected state. More than one Tile Matrix Set matched for table name: "+_t+", count: "+nr.length);if(nr.length===0)throw new Error("No Tile Matrix found for table name: "+_t);_t=jt.createObject(nr[0])}if(!_t)throw new Error("Non null TileMatrixSet is required to create Tile DAO");var Yt=[],Nr=this.tileMatrixDao;Nr.queryForAllEq(Qe.TileMatrixDao.COLUMN_TABLE_NAME,_t.table_name,null,null,Qe.TileMatrixDao.COLUMN_ZOOM_LEVEL+" ASC, "+Qe.TileMatrixDao.COLUMN_PIXEL_X_SIZE+" DESC, "+Qe.TileMatrixDao.COLUMN_PIXEL_Y_SIZE+" DESC").forEach((function(Vr){var Mn=Nr.createObject(Vr);Nr.hasTiles(Mn)&&Yt.push(Mn)}));var Gr=new lr.TileTableReader(_t).readTileTable(this);return new Bt.TileDao(this,Gr,_t,Yt)},wt.prototype.getTables=function(_t){return _t===void 0&&(_t=!1),_t?{features:this.contentsDao.getContentsForTableType(ai.ContentsDataType.FEATURES),tiles:this.contentsDao.getContentsForTableType(ai.ContentsDataType.TILES),attributes:this.contentsDao.getContentsForTableType(ai.ContentsDataType.ATTRIBUTES)}:{features:this.getFeatureTables(),tiles:this.getTileTables(),attributes:this.getAttributesTables()}},wt.prototype.getAttributesTables=function(){return this.contentsDao.getTables(ai.ContentsDataType.ATTRIBUTES)},wt.prototype.hasAttributeTable=function(_t){var jt=this.getAttributesTables();return jt&&jt.indexOf(_t)!=-1},wt.prototype.getTileTables=function(){var _t=this.contentsDao;return _t.isTableExists()?_t.getTables(ai.ContentsDataType.TILES):[]},wt.prototype.hasTileTable=function(_t){var jt=this.getTileTables();return jt&&jt.indexOf(_t)!==-1},wt.prototype.hasFeatureTable=function(_t){var jt=this.getFeatureTables();return jt&&jt.indexOf(_t)!=-1},wt.prototype.getFeatureTables=function(){var _t=this.contentsDao;return _t.isTableExists()?_t.getTables(ai.ContentsDataType.FEATURES):[]},wt.prototype.isTable=function(_t){return!!this.connection.tableExists(_t)},wt.prototype.isTableType=function(_t,jt){return _t===this.getTableType(jt)},wt.prototype.getTableType=function(_t){var jt=this.getTableContents(_t);if(jt)return jt.data_type},wt.prototype.getTableContents=function(_t){return this.contentsDao.queryForId(_t)},wt.prototype.dropTable=function(_t){return this.connection.dropTable(_t)},wt.prototype.deleteTable=function(_t){Gi.GeoPackageExtensions.deleteTableExtensions(this,_t),this.contentsDao.deleteTable(_t)},wt.prototype.deleteTableQuietly=function(_t){try{this.deleteTable(_t)}catch{}},wt.prototype.getTableCreator=function(){return this.tableCreator},wt.prototype.index=function(){return B(this,void 0,void 0,(function(){var _t,jt;return R(this,(function(nr){switch(nr.label){case 0:_t=this.getFeatureTables(),jt=0,nr.label=1;case 1:return jt<_t.length?[4,this.indexFeatureTable(_t[jt])]:[3,4];case 2:if(!nr.sent())throw new Error("Unable to index table "+_t[jt]);nr.label=3;case 3:return jt++,[3,1];case 4:return[2,!0]}}))}))},wt.prototype.indexFeatureTable=function(_t,jt){return B(this,void 0,void 0,(function(){var nr,Yt;return R(this,(function(Nr){switch(Nr.label){case 0:return nr=this.getFeatureDao(_t),(Yt=nr.featureTableIndex).isIndexed()?[2,!0]:[4,Yt.index(jt)];case 1:return[2,Nr.sent()]}}))}))},wt.prototype.getFeatureDao=function(_t){if(_t instanceof Wt.Contents?_t=this.contentsDao.getGeometryColumns(_t):_t instanceof tr.GeometryColumns||(_t=this.geometryColumnsDao.queryForTableName(_t)),!_t)throw new Error("Non null Geometry Columns is required to create Feature DAO");var jt=new tt.FeatureTableReader(_t).readFeatureTable(this);return new He.FeatureDao(this,jt,_t,this.metadataDao)},wt.prototype.queryForGeoJSONFeaturesInTable=function(_t,jt){var nr,Yt,Nr=[],Gr=this.getFeatureDao(_t).queryForGeoJSONIndexedFeaturesWithBoundingBox(jt);try{for(var Vr=I(Gr),Mn=Vr.next();!Mn.done;Mn=Vr.next()){var hn=Mn.value;Nr.push(hn)}}catch(vn){nr={error:vn}}finally{try{Mn&&!Mn.done&&(Yt=Vr.return)&&Yt.call(Vr)}finally{if(nr)throw nr.error}}return Nr},wt.prototype.createGeometryColumnsTable=function(){return!!this.geometryColumnsDao.isTableExists()||this.tableCreator.createGeometryColumns()},wt.prototype.getAttributeDao=function(_t){if(_t instanceof Wt.Contents||(_t=this.contentsDao.queryForId(_t)),!_t)throw new Error("Non null Contents is required to create an Attributes DAO");var jt=new Je.AttributesTableReader(_t.table_name).readTable(this.connection);return jt.setContents(_t),new Gt.AttributesDao(this,jt)},wt.prototype.createAttributesTableFromProperties=function(_t,jt){var nr=[],Yt=0,Nr=[];nr.push(Xt.UserColumn.createPrimaryKeyColumn(Yt++,"id"));for(var Gr=0;Gr<jt.length;Gr++){var Vr=jt[Gr];if(nr.push(Xt.UserColumn.createColumn(Yt++,Vr.name,rt.GeoPackageDataType.fromName(Vr.dataType))),Vr.dataColumn){var Mn=new mr.DataColumns;Mn.table_name=Vr.dataColumn.table_name,Mn.column_name=Vr.dataColumn.column_name,Mn.name=Vr.dataColumn.name,Mn.title=Vr.dataColumn.title,Mn.description=Vr.dataColumn.description,Mn.mime_type=Vr.dataColumn.mime_type,Mn.constraint_name=Vr.dataColumn.constraint_name,Nr.push(Mn)}}return this.createAttributesTable(_t,nr,new Ei.Constraints,Nr)},wt.prototype.createAttributesTable=function(_t,jt,nr,Yt){var Nr=[];jt.findIndex((function(hn){return hn.isPrimaryKey()}))===-1&&Nr.push(oi.AttributesColumn.createPrimaryKeyColumn(oi.AttributesColumn.NO_INDEX,"id")),jt.forEach((function(hn){Nr.push(hn.copy())}));var Gr=new It.AttributesTable(_t,Nr);nr!=null&&Gr.addConstraints(nr),this.tableCreator.createUserTable(Gr);try{var Vr=new Wt.Contents;if(Vr.table_name=_t,Vr.data_type=ai.ContentsDataType.ATTRIBUTES,Vr.identifier=_t,Vr.last_change=new Date().toISOString(),this.contentsDao.create(Vr),Gr.setContents(Vr),Yt&&Yt.length){this.createDataColumns();var Mn=this.dataColumnsDao;Yt.forEach((function(hn){Mn.create(hn)}))}}catch{throw this.deleteTableQuietly(_t),new Error("Failed to create table and metadata: "+_t)}return!0},wt.prototype.createMediaTable=function(_t,jt){var nr=this.relatedTablesExtension,Yt=[],Nr=_n.MediaTable.numRequiredColumns();if(jt)for(var Gr=0;Gr<jt.length;Gr++){var Vr=jt[Gr];Yt.push(Xt.UserColumn.createColumn(Nr++,Vr.name,rt.GeoPackageDataType.fromName(Vr.dataType),Vr.notNull,Vr.defaultValue,Vr.max))}var Mn=_n.MediaTable.create(_t,Yt);return nr.createRelatedTable(Mn),nr.getMediaDao(Mn)},wt.prototype.linkMedia=function(_t,jt,nr,Yt){return this.linkRelatedRows(_t,jt,nr,Yt,In.RelationType.MEDIA)},wt.prototype.linkRelatedRows=function(_t,jt,nr,Yt,Nr,Gr,Vr){var Mn,hn=this.relatedTablesExtension,vn=hn.getRelationshipBuilder().setBaseTableName(_t).setRelatedTableName(nr).setRelationType(Nr);Gr&&typeof Gr!="string"?(vn.setUserMappingTable(Gr),Mn=Gr.getTableName()):(Gr=Gr||_t+"_"+nr,vn.setMappingTableName(Gr),Mn=Gr),hn.addRelationship(vn);var Dn=hn.getMappingDao(Mn),kn=Dn.newRow();for(var Zt in kn.baseId=jt,kn.relatedId=Yt,Vr)kn.setValueWithColumnName(Zt,Vr[Zt]);return Dn.create(kn)},wt.prototype.getLinkedMedia=function(_t,jt){for(var nr=this.getRelatedRows(_t,jt),Yt=[],Nr=0;Nr<nr.length;Nr++){var Gr=nr[Nr];if(Gr.relation_name===In.RelationType.MEDIA.name)for(var Vr=0;Vr<Gr.mappingRows.length;Vr++){var Mn=Gr.mappingRows[Vr].row;Yt.push(Mn)}}return Yt},wt.prototype.addGeoJSONFeaturesToGeoPackage=function(_t,jt,nr,Yt,Nr){return nr===void 0&&(nr=!1),Yt===void 0&&(Yt=1e3),B(this,void 0,void 0,(function(){var Gr,Vr,Mn,hn,vn,Dn,kn,Zt,_r,fr,pr=this;return R(this,(function(gr){return Gr=0,Vr=this.getFeatureDao(jt),Mn=Vr.srs,vn=Vr.newRow(),Dn=A.default.Geometry.parse("POINT EMPTY"),kn=!(Mn.organization===Vn.ProjectionConstants.EPSG&&Mn.organization_coordsys_id===Vn.ProjectionConstants.EPSG_CODE_4326),Zt=function(Ar){setTimeout(Nr||function(){},0,Ar)},_r=ha.SqliteQueryBuilder.buildInsert("'"+Vr.gpkgTableName+"'",vn),fr=function(Ar,Xr,cn){return B(pr,void 0,void 0,(function(){return R(this,(function(nn){return Ar<Xr?(Vr.connection.transaction((function(){var tn,$r,Bn=Vr.connection.adapter.prepareStatement(_r);nr&&($r=(tn=Vr.featureTableIndex).tableIndex);for(var zn=Ar;zn<Xr;zn++){var ri=_t[zn];vn=Vr.newRow(),(hn=new ue.GeometryData).setSrsId(Mn.srs_id),kn&&(ri=T.default.reproject(ri,Vn.ProjectionConstants.EPSG_4326,Vr.projection));var qn=typeof ri.geometry=="string"?JSON.parse(ri.geometry):ri.geometry;for(var Yn in hn.setGeometry(qn?A.default.Geometry.parseGeoJSON(qn):Dn),vn.geometry=hn,ri.properties)Object.prototype.hasOwnProperty.call(ri.properties,Yn)&&vn.setValueWithColumnName(Yn,ri.properties[Yn]);var fi=Vr.connection.adapter.bindAndInsert(Bn,ha.SqliteQueryBuilder.buildUpdateOrInsertObject(vn));Gr++,$r!=null&&tn.indexRow($r,fi,hn)}$r!=null&&tn.updateLastIndexed($r),Vr.connection.adapter.closeStatement(Bn)})),Zt(Xr),setTimeout((function(){fr(Xr,Math.min(Xr+Yt,_t.length),cn)}))):cn(Gr),[2]}))}))},[2,new Promise((function(Ar){setTimeout((function(){fr(0,Math.min(Yt,_t.length),Ar)}))}))]}))}))},wt.prototype.addGeoJSONFeatureToGeoPackage=function(_t,jt,nr){nr===void 0&&(nr=!1);var Yt=this.getFeatureDao(jt);return this.addGeoJSONFeatureToGeoPackageWithFeatureDaoAndSrs(_t,Yt,Yt.srs,nr)},wt.prototype.addGeoJSONFeatureToGeoPackageWithFeatureDaoAndSrs=function(_t,jt,nr,Yt){Yt===void 0&&(Yt=!1);var Nr=jt.newRow(),Gr=new ue.GeometryData;Gr.setSrsId(nr.srs_id),nr.organization===Vn.ProjectionConstants.EPSG&&nr.organization_coordsys_id===Vn.ProjectionConstants.EPSG_CODE_4326||(_t=T.default.reproject(_t,Vn.ProjectionConstants.EPSG_4326,jt.projection));var Vr=typeof _t.geometry=="string"?JSON.parse(_t.geometry):_t.geometry;if(Vr!==null){var Mn=A.default.Geometry.parseGeoJSON(Vr);Gr.setGeometry(Mn)}else{var hn=A.default.Geometry.parse("POINT EMPTY");Gr.setGeometry(hn)}for(var vn in Nr.geometry=Gr,_t.properties)Object.prototype.hasOwnProperty.call(_t.properties,vn)&&Nr.setValueWithColumnName(vn,_t.properties[vn]);var Dn=jt.create(Nr);if(Yt){var kn=jt.featureTableIndex,Zt=kn.tableIndex;if(!Zt)return Dn;kn.indexRow(Zt,Dn,Gr),kn.updateLastIndexed(Zt)}return Dn},wt.prototype.addAttributeRow=function(_t,jt){var nr=this.getAttributeDao(_t),Yt=nr.getRow(jt);return nr.create(Yt)},wt.prototype.createSimpleAttributesTable=function(_t,jt){var nr=this.relatedTablesExtension,Yt=[],Nr=Fn.SimpleAttributesTable.numRequiredColumns();if(jt)for(var Gr=0;Gr<jt.length;Gr++){var Vr=jt[Gr];Yt.push(Xt.UserColumn.createColumn(Nr++,Vr.name,rt.GeoPackageDataType.fromName(Vr.dataType),!0))}var Mn=Fn.SimpleAttributesTable.create(_t,Yt);return nr.createRelatedTable(Mn),nr.getSimpleAttributesDao(Mn)},wt.prototype.addMedia=function(_t,jt,nr,Yt){var Nr=this.relatedTablesExtension.getMediaDao(_t),Gr=Nr.newRow();for(var Vr in Gr.contentType=nr,Gr.data=jt,Yt)Gr.setValueWithColumnName(Vr,Yt[Vr]);return Nr.create(Gr)},wt.prototype.getRelatedRows=function(_t,jt){return this.relatedTablesExtension.getRelatedRows(_t,jt)},wt.prototype.createUserFeatureTable=function(_t){return this.tableCreator.createUserTable(_t)},wt.prototype.createFeatureTableFromProperties=function(_t,jt){var nr=new tr.GeometryColumns;nr.table_name=_t,nr.column_name="geometry",nr.geometry_type_name="GEOMETRY",nr.z=0,nr.m=0;var Yt=[],Nr=0;Yt.push(Dr.FeatureColumn.createPrimaryKeyColumn(Nr++,"id")),Yt.push(Dr.FeatureColumn.createGeometryColumn(Nr++,nr.column_name,zi.GeometryType.GEOMETRY,!1,null));for(var Gr=0;jt&&Gr<jt.length;Gr++){var Vr=jt[Gr];Yt.push(Dr.FeatureColumn.createColumn(Nr++,Vr.name,rt.GeoPackageDataType.fromName(Vr.dataType)))}return this.createFeatureTable(_t,nr,Yt)},wt.prototype.createFeatureTable=function(_t,jt,nr,Yt,Nr,Gr){var Vr;if(Yt===void 0&&(Yt=new gt.BoundingBox(-180,180,-90,90)),Nr===void 0&&(Nr=Vn.ProjectionConstants.EPSG_CODE_4326),!this.spatialReferenceSystemDao.getBySrsId(Nr))throw new Error("Spatial reference system ("+Nr+") is not defined.");this.createGeometryColumnsTable(),jt?Vr=jt:((Vr=new tr.GeometryColumns).table_name=_t,Vr.column_name="geometry",Vr.geometry_type_name="GEOMETRY",Vr.z=0,Vr.m=0);var Mn=[];if(nr&&nr.length>0&&nr[0]instanceof Xt.UserColumn)Mn=nr;else{var hn=0;Mn.push(Dr.FeatureColumn.createPrimaryKeyColumn(hn++,"id")),Mn.push(Dr.FeatureColumn.createGeometryColumn(hn++,Vr.column_name,zi.GeometryType.GEOMETRY,!1,null));for(var vn=0;nr&&vn<nr.length;vn++){var Dn=nr[vn];Mn.push(Dr.FeatureColumn.createColumn(hn++,Dn.name,rt.GeoPackageDataType.fromName(Dn.dataType)))}}var kn=new Ve.FeatureTable(Vr.table_name,Vr.column_name,Mn);this.createUserFeatureTable(kn);var Zt=new Wt.Contents;if(Zt.table_name=Vr.table_name,Zt.data_type=ai.ContentsDataType.FEATURES,Zt.identifier=Vr.table_name,Zt.last_change=new Date().toISOString(),Zt.min_x=Yt.minLongitude,Zt.min_y=Yt.minLatitude,Zt.max_x=Yt.maxLongitude,Zt.max_y=Yt.maxLatitude,Zt.srs_id=Nr,this.contentsDao.create(Zt),Vr.srs_id=Nr,this.geometryColumnsDao.create(Vr),Gr){this.createDataColumns();var _r=this.dataColumnsDao;Gr.forEach((function(fr){_r.create(fr)}))}return!0},wt.prototype.createTileMatrixSetTable=function(){return!!this.tileMatrixSetDao.isTableExists()||this.tableCreator.createTileMatrixSet()},wt.prototype.createTileMatrixTable=function(){return!!this.tileMatrixDao.isTableExists()||this.tableCreator.createTileMatrix()},wt.prototype.createTileTable=function(_t){return this.tableCreator.createUserTable(_t)},wt.prototype.createSpatialReferenceSystem=function(_t){fa.Projection.loadProjection([_t.organization.toUpperCase(),_t.organization_coordsys_id].join(":"),_t.definition),this.spatialReferenceSystemDao.create(_t)},wt.prototype.createTileTableWithTableName=function(_t,jt,nr,Yt,Nr){var Gr=this.spatialReferenceSystemDao.getBySrsId(nr);if(!Gr)throw new Error("Spatial reference system ("+nr+") is not defined.");if(!(Gr=this.spatialReferenceSystemDao.getBySrsId(Nr)))throw new Error("Spatial reference system ("+Nr+") is not defined.");var Vr=it.TileTable.createRequiredColumns(0),Mn=new it.TileTable(_t,Vr),hn=new Wt.Contents;hn.table_name=_t,hn.data_type=ai.ContentsDataType.TILES,hn.identifier=_t,hn.last_change=new Date().toISOString(),hn.min_x=jt.minLongitude,hn.min_y=jt.minLatitude,hn.max_x=jt.maxLongitude,hn.max_y=jt.maxLatitude,hn.srs_id=nr;var vn=new Et.TileMatrixSet;return vn.contents=hn,vn.srs_id=Nr,vn.min_x=Yt.minLongitude,vn.min_y=Yt.minLatitude,vn.max_x=Yt.maxLongitude,vn.max_y=Yt.maxLatitude,this.createTileMatrixSetTable(),this.createTileMatrixTable(),this.createTileTable(Mn),this.contentsDao.create(hn),this.tileMatrixSetDao.create(vn),vn},wt.prototype.createStandardWGS84TileTable=function(_t,jt,nr,Yt,Nr,Gr,Vr,Mn){Mn===void 0&&(Mn=256);var hn=this.spatialReferenceSystemDao.getByOrganizationAndCoordSysId(Vn.ProjectionConstants.EPSG,Vn.ProjectionConstants.EPSG_CODE_4326);hn||(this.spatialReferenceSystemDao.createWebMercator(),hn=this.spatialReferenceSystemDao.getByOrganizationAndCoordSysId(Vn.ProjectionConstants.EPSG,Vn.ProjectionConstants.EPSG_CODE_4326));var vn=hn.srs_id,Dn=this.spatialReferenceSystemDao.getBySrsId(nr);if(!Dn)throw new Error("Spatial reference system ("+nr+") is not defined.");if(!(Dn=this.spatialReferenceSystemDao.getBySrsId(Nr)))throw new Error("Spatial reference system ("+Nr+") is not defined.");if(nr!==vn){var kn=new Be.SpatialReferenceSystemDao(this).getBySrsId(nr).projection;jt=jt.projectBoundingBox(kn,Vn.ProjectionConstants.EPSG_4326)}Nr!==vn&&(kn=new Be.SpatialReferenceSystemDao(this).getBySrsId(Nr).projection,Yt=Yt.projectBoundingBox(kn,Vn.ProjectionConstants.EPSG_4326));var Zt=this.createTileTableWithTableName(_t,jt,vn,Yt,vn);return this.createStandardWGS84TileMatrix(Yt,Zt,Gr,Vr,Mn),Zt},wt.prototype.createStandardWGS84TileMatrix=function(_t,jt,nr,Yt,Nr){Nr===void 0&&(Nr=256),Nr=Nr||256;for(var Gr=this.tileMatrixDao,Vr=nr;Vr<=Yt;Vr++)this.createWGS84TileMatrixRow(_t,jt,Gr,Vr,Nr);return this},wt.prototype.createStandardWebMercatorTileTable=function(_t,jt,nr,Yt,Nr,Gr,Vr,Mn){Mn===void 0&&(Mn=256);var hn=this.spatialReferenceSystemDao.getByOrganizationAndCoordSysId(Vn.ProjectionConstants.EPSG,Vn.ProjectionConstants.EPSG_CODE_3857);hn||(this.spatialReferenceSystemDao.createWebMercator(),hn=this.spatialReferenceSystemDao.getByOrganizationAndCoordSysId(Vn.ProjectionConstants.EPSG,Vn.ProjectionConstants.EPSG_CODE_3857));var vn=hn.srs_id,Dn=this.spatialReferenceSystemDao.getBySrsId(nr);if(!Dn)throw new Error("Spatial reference system ("+nr+") is not defined.");if(!(Dn=this.spatialReferenceSystemDao.getBySrsId(Nr)))throw new Error("Spatial reference system ("+Nr+") is not defined.");if(nr!==vn){var kn=new Be.SpatialReferenceSystemDao(this).getBySrsId(nr).projection;jt=jt.projectBoundingBox(kn,Vn.ProjectionConstants.EPSG_3857)}Nr!==vn&&(kn=new Be.SpatialReferenceSystemDao(this).getBySrsId(Nr).projection,Yt=Yt.projectBoundingBox(kn,Vn.ProjectionConstants.EPSG_3857));var Zt=this.createTileTableWithTableName(_t,jt,vn,Yt,vn);return this.createStandardWebMercatorTileMatrix(Yt,Zt,Gr,Vr,Mn),Zt},wt.prototype.createStandardWebMercatorTileTableWithZoomLevels=function(_t,jt,nr,Yt,Nr){return Nr===void 0&&(Nr=256),B(this,void 0,void 0,(function(){var Gr,Vr,Mn;return R(this,(function(hn){switch(hn.label){case 0:return(Gr=this.spatialReferenceSystemDao.getByOrganizationAndCoordSysId(Vn.ProjectionConstants.EPSG,Vn.ProjectionConstants.EPSG_CODE_3857))||(this.spatialReferenceSystemDao.createWebMercator(),Gr=this.spatialReferenceSystemDao.getByOrganizationAndCoordSysId(Vn.ProjectionConstants.EPSG,Vn.ProjectionConstants.EPSG_CODE_3857)),Vr=Gr.srs_id,[4,this.createTileTableWithTableName(_t,jt,Vr,nr,Vr)];case 1:return Mn=hn.sent(),this.createStandardWebMercatorTileMatrixWithZoomLevels(nr,Mn,Yt,Nr),[2,Mn]}}))}))},wt.prototype.createStandardWebMercatorTileMatrix=function(_t,jt,nr,Yt,Nr){Nr===void 0&&(Nr=256),Nr=Nr||256;for(var Gr=this.tileMatrixDao,Vr=nr;Vr<=Yt;Vr++)this.createTileMatrixRow(_t,jt,Gr,Vr,Nr);return this},wt.prototype.createStandardWebMercatorTileMatrixWithZoomLevels=function(_t,jt,nr,Yt){var Nr=this;Yt===void 0&&(Yt=256),Yt=Yt||256;var Gr=this.tileMatrixDao;return nr.forEach((function(Vr){Nr.createTileMatrixRow(_t,jt,Gr,Vr,Yt)})),this},wt.prototype.createWGS84TileMatrixRow=function(_t,jt,nr,Yt,Nr){Nr===void 0&&(Nr=256);var Gr=et.TileBoundingBoxUtils.wgs84TileBox(_t,Yt),Vr=Gr.maxLongitude-Gr.minLongitude+1,Mn=Gr.maxLatitude-Gr.minLatitude+1,hn=(_t.maxLongitude-_t.minLongitude)/Vr/Nr,vn=(_t.maxLatitude-_t.minLatitude)/Mn/Nr,Dn=new Jt.TileMatrix;return Dn.table_name=jt.table_name,Dn.zoom_level=Yt,Dn.matrix_width=Vr,Dn.matrix_height=Mn,Dn.tile_width=Nr,Dn.tile_height=Nr,Dn.pixel_x_size=hn,Dn.pixel_y_size=vn,nr.create(Dn)},wt.prototype.createTileMatrixRow=function(_t,jt,nr,Yt,Nr){Nr===void 0&&(Nr=256);var Gr=et.TileBoundingBoxUtils.webMercatorTileBox(_t,Yt),Vr=Gr.maxLongitude-Gr.minLongitude+1,Mn=Gr.maxLatitude-Gr.minLatitude+1,hn=(_t.maxLongitude-_t.minLongitude)/Vr/Nr,vn=(_t.maxLatitude-_t.minLatitude)/Mn/Nr,Dn=new Jt.TileMatrix;return Dn.table_name=jt.table_name,Dn.zoom_level=Yt,Dn.matrix_width=Vr,Dn.matrix_height=Mn,Dn.tile_width=Nr,Dn.tile_height=Nr,Dn.pixel_x_size=hn,Dn.pixel_y_size=vn,nr.create(Dn)},wt.prototype.addTile=function(_t,jt,nr,Yt,Nr){var Gr=this.getTileDao(jt),Vr=Gr.newRow();return Vr.zoomLevel=nr,Vr.tileColumn=Nr,Vr.tileRow=Yt,Vr.tileData=_t,Gr.create(Vr)},wt.prototype.getTileFromTable=function(_t,jt,nr,Yt){return this.getTileDao(_t).queryForTile(Yt,nr,jt)},wt.prototype.getTilesInBoundingBox=function(_t,jt,nr,Yt,Nr,Gr){var Vr,Mn,hn={columns:[],srs:void 0,tiles:[],west:void 0,east:void 0,south:void 0,north:void 0,zoom:void 0},vn=this.getTileDao(_t);if(!(jt<vn.minZoom||jt>vn.maxZoom)){for(var Dn=0;Dn<vn.table.getUserColumns().getColumns().length;Dn++){var kn=vn.table.getUserColumns().getColumns()[Dn];hn.columns.push({index:kn.index,name:kn.name,max:kn.max,min:kn.min,notNull:kn.notNull,primaryKey:kn.primaryKey})}var Zt=vn.srs;hn.srs=Zt,hn.tiles=[];var _r=vn.tileMatrixSet,fr=vn.getTileMatrixWithZoomLevel(jt);if(!fr)return hn;var pr=new gt.BoundingBox(Math.max(-180,nr),Math.min(Yt,180),Nr,Gr);hn.west=Math.max(-180,nr).toFixed(2),hn.east=Math.min(Yt,180).toFixed(2),hn.south=Nr.toFixed(2),hn.north=Gr.toFixed(2),hn.zoom=jt,pr=pr.projectBoundingBox(Vn.ProjectionConstants.EPSG_4326,vn.srs.organization.toUpperCase()+":"+vn.srs.organization_coordsys_id);var gr=et.TileBoundingBoxUtils.getTileGridWithTotalBoundingBox(_r.boundingBox,fr.matrix_width,fr.matrix_height,pr),Ar=vn.queryByTileGrid(gr,jt);try{for(var Xr=I(Ar),cn=Xr.next();!cn.done;cn=Xr.next()){var nn=cn.value,tn={};tn.tableName=_t,tn.id=nn.id;var $r=et.TileBoundingBoxUtils.getTileBoundingBox(_r.boundingBox,fr,nn.tileColumn,nn.row);for(tn.minLongitude=$r.minLongitude,tn.maxLongitude=$r.maxLongitude,tn.minLatitude=$r.minLatitude,tn.maxLatitude=$r.maxLatitude,tn.projection=vn.srs.organization.toUpperCase()+":"+vn.srs.organization_coordsys_id,tn.values=[],Dn=0;Dn<hn.columns.length;Dn++){var Bn=nn.values[hn.columns[Dn].name];hn.columns[Dn].name==="tile_data"?tn.values.push("data"):Bn===null||Bn==="null"?tn.values.push(""):(tn.values.push(Bn.toString()),tn[hn.columns[Dn].name]=Bn)}hn.tiles.push(tn)}}catch(zn){Vr={error:zn}}finally{try{cn&&!cn.done&&(Mn=Xr.return)&&Mn.call(Xr)}finally{if(Vr)throw Vr.error}}return hn}},wt.prototype.getTilesInBoundingBoxWebZoom=function(_t,jt,nr,Yt,Nr,Gr){var Vr,Mn,hn={columns:[],srs:void 0,tiles:[],west:void 0,east:void 0,south:void 0,north:void 0,zoom:void 0},vn=this.getTileDao(_t);if(!(jt<vn.minWebMapZoom||jt>vn.maxWebMapZoom)){hn.columns=[];for(var Dn=0;Dn<vn.table.getUserColumns().getColumns().length;Dn++){var kn=vn.table.getUserColumns().getColumns()[Dn];hn.columns.push({index:kn.index,name:kn.name,max:kn.max,min:kn.min,notNull:kn.notNull,primaryKey:kn.primaryKey})}var Zt=vn.srs;hn.srs=Zt,hn.tiles=[];var _r=vn.webZoomToGeoPackageZoom(jt),fr=vn.tileMatrixSet,pr=vn.getTileMatrixWithZoomLevel(_r);if(!pr)return hn;var gr=new gt.BoundingBox(Math.max(-180,nr),Math.min(Yt,180),Nr,Gr);hn.west=Math.max(-180,nr).toFixed(2),hn.east=Math.min(Yt,180).toFixed(2),hn.south=Nr.toFixed(2),hn.north=Gr.toFixed(2),hn.zoom=_r,gr=gr.projectBoundingBox(Vn.ProjectionConstants.EPSG_4326,vn.srs.organization.toUpperCase()+":"+vn.srs.organization_coordsys_id);var Ar=et.TileBoundingBoxUtils.getTileGridWithTotalBoundingBox(fr.boundingBox,pr.matrix_width,pr.matrix_height,gr),Xr=vn.queryByTileGrid(Ar,_r);try{for(var cn=I(Xr),nn=cn.next();!nn.done;nn=cn.next()){var tn=nn.value,$r={tableName:void 0,id:void 0,minLongitude:void 0,maxLongitude:void 0,minLatitude:void 0,maxLatitude:void 0,projection:void 0,values:[]};$r.tableName=_t,$r.id=tn.id;var Bn=et.TileBoundingBoxUtils.getTileBoundingBox(fr.boundingBox,pr,tn.tileColumn,tn.row);for($r.minLongitude=Bn.minLongitude,$r.maxLongitude=Bn.maxLongitude,$r.minLatitude=Bn.minLatitude,$r.maxLatitude=Bn.maxLatitude,$r.projection=vn.srs.organization.toUpperCase()+":"+vn.srs.organization_coordsys_id,$r.values=[],Dn=0;Dn<hn.columns.length;Dn++){var zn=tn.values[hn.columns[Dn].name];hn.columns[Dn].name==="tile_data"?$r.values.push("data"):zn===null||zn==="null"?$r.values.push(""):($r.values.push(zn.toString()),$r[hn.columns[Dn].name]=zn)}hn.tiles.push($r)}}catch(ri){Vr={error:ri}}finally{try{nn&&!nn.done&&(Mn=cn.return)&&Mn.call(cn)}finally{if(Vr)throw Vr.error}}return hn}},wt.prototype.getFeatureTileFromXYZ=function(_t,jt,nr,Yt,Nr,Gr){return B(this,void 0,void 0,(function(){var Vr;return R(this,(function(Mn){return jt=Number(jt),nr=Number(nr),Yt=Number(Yt),Nr=Number(Nr),Gr=Number(Gr),(Vr=this.getFeatureDao(_t))?[2,new ti.FeatureTiles(Vr,Nr,Gr).drawTile(jt,nr,Yt)]:[2]}))}))},wt.prototype.getClosestFeatureInXYZTile=function(_t,jt,nr,Yt,Nr,Gr){var Vr,Mn;jt=Number(jt),nr=Number(nr),Yt=Number(Yt);var hn=this.getFeatureDao(_t);if(hn){var vn=new ti.FeatureTiles(hn,256,256).getFeatureCountXYZ(jt,nr,Yt),Dn=et.TileBoundingBoxUtils.getWebMercatorBoundingBoxFromXYZ(jt,nr,Yt);if(Dn=Dn.projectBoundingBox(Vn.ProjectionConstants.EPSG_3857,Vn.ProjectionConstants.EPSG_4326),vn>1e4){var kn=Dn.toGeoJSON();return kn.feature_count=vn,kn.coverage=!0,kn.gp_table=_t,kn.gp_name=this.name,kn}var Zt=[Dn.maxLongitude,Dn.maxLatitude],_r=[Dn.minLongitude,Dn.minLatitude],fr=(Zt[0]-_r[0])/256*10;Dn.maxLongitude=Gr+fr,Dn.minLongitude=Gr-fr,Dn.maxLatitude=Nr+fr,Dn.minLatitude=Nr-fr;var pr,gr=hn.queryForGeoJSONIndexedFeaturesWithBoundingBox(Dn),Ar=[],Xr=1e11,cn=te.point([Gr,Nr]);try{for(var nn=I(gr),tn=nn.next();!tn.done;tn=nn.next()){var $r=tn.value;$r.type="Feature";var Bn=wt.determineDistance(cn.geometry,$r);(Bn<Xr||Bn===Xr&&pr!=null&&pr.geometry.type!=="Point")&&(pr=$r,Xr=Bn),Ar.push($r)}}catch(zn){Vr={error:zn}}finally{try{tn&&!tn.done&&(Mn=nn.return)&&Mn.call(nn)}finally{if(Vr)throw Vr.error}}return pr&&(pr.gp_table=_t,pr.gp_name=this.name,pr.distance=Xr),pr}},wt.determineDistance=function(_t,jt){if(jt.type!=="FeatureCollection"){var nr=jt.geometry;if(nr.type==="Point")return(0,J.default)(_t,nr);if(nr.type==="LineString")return this.determineDistanceFromLine(_t,nr);if(nr.type==="MultiLineString"){var Yt=Number.MAX_SAFE_INTEGER;return nr.coordinates.forEach((function(Nr){var Gr=te.lineString(Nr);Yt=Math.min(Yt,wt.determineDistance(_t,Gr))})),Yt}return nr.type==="Polygon"||nr.type==="MultiPolygon"?wt.determineDistanceFromPolygon(_t,nr):Number.MAX_SAFE_INTEGER}jt.features.forEach((function(Nr){wt.determineDistance(_t,Nr)}))},wt.determineDistanceFromLine=function(_t,jt){return(0,U.default)(_t,jt)},wt.determineDistanceFromPolygon=function(_t,jt){return(0,K.default)(_t,jt)?0:wt.determineDistance(_t,(0,q.default)(jt))},wt.prototype.createDataColumns=function(){return!!this.dataColumnsDao.isTableExists()||this.tableCreator.createDataColumns()},wt.prototype.createDataColumnConstraintsTable=function(){return!!this.dataColumnConstraintsDao.isTableExists()||this.tableCreator.createDataColumnConstraints()},wt.prototype.createMetadataTable=function(){return!!this.metadataDao.isTableExists()||this.tableCreator.createMetadata()},wt.prototype.createMetadataReferenceTable=function(){return!!this.metadataReferenceDao.isTableExists()||this.tableCreator.createMetadataReference()},wt.prototype.createExtensionTable=function(){return!!this.extensionDao.isTableExists()||this.tableCreator.createExtensions()},wt.prototype.createTableIndexTable=function(){return!!this.tableIndexDao.isTableExists()||this.tableCreator.createTableIndex()},wt.prototype.createGeometryIndexTable=function(){return!!this.getGeometryIndexDao(null).isTableExists()||this.tableCreator.createGeometryIndex()},wt.prototype.createStyleMappingTable=function(_t,jt,nr){var Yt=new st.StyleMappingTable(_t,jt,null);this.tableCreator.createUserTable(Yt);var Nr=new Wt.Contents;if(Nr.table_name=_t,Nr.data_type=ai.ContentsDataType.ATTRIBUTES,Nr.identifier=_t,Nr.last_change=new Date().toISOString(),this.contentsDao.create(Nr),nr){this.createDataColumns();var Gr=this.dataColumnsDao;nr.forEach((function(Vr){Gr.create(Vr)}))}return!0},wt.prototype.getApplicationId=function(){return this.database.getApplicationId()},wt.createDataColumnMap=function(_t){var jt={},nr=new vt.DataColumnsDao(_t.geoPackage);return _t.table.getUserColumns().getColumns().forEach((function(Yt){var Nr=nr.getDataColumns(_t.table.getTableName(),Yt.name);jt[Yt.name]={index:Yt.index,name:Yt.name,max:Yt.max,min:Yt.min,notNull:Yt.notNull,primaryKey:Yt.primaryKey,dataType:Yt.dataType?rt.GeoPackageDataType.nameFromType(Yt.dataType):"",displayName:Nr&&Nr.name?Nr.name:Yt.name,dataColumn:Nr}}).bind(this)),jt},wt.prototype.iterateGeoJSONFeatures=function(_t,jt){return this.getFeatureDao(_t).queryForGeoJSONIndexedFeaturesWithBoundingBox(jt)},wt.prototype.getFeature=function(_t,jt){var nr=this.getFeatureDao(_t),Yt=nr.srs,Nr=nr.queryForId(jt);if(!Nr){var Gr=nr.queryForAllEq("_feature_id",jt);(Gr.length||(Gr=nr.queryForAllEq("_properties_id",jt)).length)&&(Nr=nr.getRow(Gr[0]))}if(Nr)return wt.parseFeatureRowIntoGeoJSON(Nr,Yt)},wt.parseFeatureRowIntoGeoJSON=function(_t,jt,nr){var Yt={type:"Feature",properties:{},id:void 0,geometry:void 0},Nr=_t.geometry;if(Nr&&Nr.geometry){var Gr=Nr.geometry.toGeoJSON();jt.definition&&jt.definition!=="undefined"&&jt.organization.toUpperCase()+":"+jt.organization_coordsys_id!==Vn.ProjectionConstants.EPSG_4326&&(Gr=T.default.reproject(Gr,jt.projection,Vn.ProjectionConstants.EPSG_4326)),Yt.geometry=Gr}for(var Vr in _t.values)Object.prototype.hasOwnProperty.call(_t.values,Vr)&&Vr!==_t.geometryColumn.name&&Vr!=="id"?Vr.toLowerCase()==="_feature_id"?Yt.id=_t.values[Vr]:Vr.toLowerCase()==="_properties_id"?Yt.properties[Vr.substring(12)]=_t.values[Vr]:nr&&nr[Vr]?Yt.properties[nr[Vr].displayName]=_t.values[Vr]:Yt.properties[Vr]=_t.values[Vr]:_t.geometryColumn.name;return Yt.id=Yt.id||_t.id,Yt},wt.prototype.getGeoJSONFeaturesInTile=function(_t,jt,nr,Yt,Nr){return Nr===void 0&&(Nr=!1),B(this,void 0,void 0,(function(){var Gr,Vr,Mn,hn,vn,Dn,kn,Zt,_r,fr;return R(this,(function(pr){switch(pr.label){case 0:return Gr=et.TileBoundingBoxUtils.getWebMercatorBoundingBoxFromXYZ(jt,nr,Yt),Vr=Gr.projectBoundingBox(Vn.ProjectionConstants.EPSG_3857,Vn.ProjectionConstants.EPSG_4326),[4,this.indexFeatureTable(_t)];case 1:if(pr.sent(),!(Mn=this.getFeatureDao(_t)))return[2];hn=[],vn=Mn.queryForGeoJSONIndexedFeaturesWithBoundingBox(Vr,Nr);try{for(Dn=I(vn),kn=Dn.next();!kn.done;kn=Dn.next())Zt=kn.value,hn.push(Zt)}catch(gr){_r={error:gr}}finally{try{kn&&!kn.done&&(fr=Dn.return)&&fr.call(Dn)}finally{if(_r)throw _r.error}}return[2,hn]}}))}))},wt.prototype.getFeaturesInBoundingBox=function(_t,jt,nr,Yt,Nr){return B(this,void 0,void 0,(function(){var Gr,Vr;return R(this,(function(Mn){switch(Mn.label){case 0:return[4,this.indexFeatureTable(_t)];case 1:if(Mn.sent(),!(Gr=this.getFeatureDao(_t)))throw new Error("Unable to find table "+_t);return Vr=new gt.BoundingBox(jt,nr,Yt,Nr),[2,Gr.queryIndexedFeaturesWithBoundingBox(Vr)]}}))}))},wt.prototype.xyzTile=function(_t,jt,nr,Yt,Nr,Gr,Vr){return Nr===void 0&&(Nr=256),Gr===void 0&&(Gr=256),B(this,void 0,void 0,(function(){var Mn,hn,vn;return R(this,(function(Dn){return Nr=Number(Nr),Gr=Number(Gr),Mn=this.getTileDao(_t),hn=new Qn.GeoPackageTileRetriever(Mn,Nr,Gr),this.getTileScalingExtension(_t).has()&&(vn=this.getTileScalingExtension(_t).dao.queryForTableName(_t))&&hn.setScaling(vn),Vr?[2,hn.drawTileIn(jt,nr,Yt,Vr)]:[2,hn.getTile(jt,nr,Yt)]}))}))},wt.prototype.xyzTileScaled=function(_t,jt,nr,Yt,Nr,Gr,Vr,Mn,hn){return Nr===void 0&&(Nr=256),Gr===void 0&&(Gr=256),B(this,void 0,void 0,(function(){var vn,Dn,kn,Zt;return R(this,(function(_r){switch(_r.label){case 0:return Nr=Number(Nr),Gr=Number(Gr),vn=this.getTileDao(_t),Dn=new Qn.GeoPackageTileRetriever(vn,Nr,Gr),[4,this.getTileScalingExtension(_t).getOrCreateExtension()];case 1:return _r.sent(),(kn=this.getTileScalingExtension(_t).dao.queryForTableName(_t))?Dn.setScaling(kn):((Zt=new vi.TileScaling).zoom_in=Mn,Zt.zoom_out=hn,Zt.table_name=_t,Zt.scaling_type=wi.TileScalingType.CLOSEST_IN_OUT,this.getTileScalingExtension(_t).createOrUpdate(Zt),Dn.setScaling(Zt)),Vr?[2,Dn.drawTileIn(jt,nr,Yt,Vr)]:[2,Dn.getTile(jt,nr,Yt)]}}))}))},wt.prototype.projectedTile=function(_t,jt,nr,Yt,Nr,Gr,Vr,Mn,hn,vn){return Vr===void 0&&(Vr=Vn.ProjectionConstants.EPSG_4326),Mn===void 0&&(Mn=256),hn===void 0&&(hn=256),B(this,void 0,void 0,(function(){var Dn,kn,Zt;return R(this,(function(_r){return Dn=this.getTileDao(_t),kn=new Qn.GeoPackageTileRetriever(Dn,Mn,hn),Zt=new gt.BoundingBox(nr,Nr,jt,Yt),[2,kn.getTileWithWgs84BoundsInProjection(Zt,Gr,Vr,vn)]}))}))},wt.prototype.getInfoForTable=function(_t){var jt,nr={tableName:_t.table_name,tableType:_t.table.tableType,count:_t.getCount(),geometryColumns:void 0,minZoom:void 0,maxZoom:void 0,minWebMapZoom:void 0,maxWebMapZoom:void 0,zoomLevels:void 0,tileMatrixSet:void 0,contents:void 0,srs:void 0,columns:void 0,columnMap:void 0};_t instanceof He.FeatureDao&&(nr.geometryColumns={tableName:_t.geometryColumns.table_name,geometryColumn:_t.geometryColumns.column_name,geometryTypeName:_t.geometryColumns.geometry_type_name,z:_t.geometryColumns.z,m:_t.geometryColumns.m}),_t instanceof Bt.TileDao&&(nr.minZoom=_t.minZoom,nr.maxZoom=_t.maxZoom,nr.minWebMapZoom=_t.minWebMapZoom,nr.maxWebMapZoom=_t.maxWebMapZoom,nr.zoomLevels=_t.tileMatrices.length),_t instanceof He.FeatureDao?jt=this.geometryColumnsDao.getContents(_t.geometryColumns):_t instanceof Bt.TileDao&&(jt=this.tileMatrixSetDao.getContents(_t.tileMatrixSet),nr.tileMatrixSet={srsId:_t.tileMatrixSet.srs_id,minX:_t.tileMatrixSet.min_x,maxX:_t.tileMatrixSet.max_x,minY:_t.tileMatrixSet.min_y,maxY:_t.tileMatrixSet.max_y});var Yt=this.contentsDao.getSrs(jt);nr.contents={tableName:jt.table_name,dataType:jt.data_type,identifier:jt.identifier,description:jt.description,lastChange:jt.last_change,minX:jt.min_x,maxX:jt.max_x,minY:jt.min_y,maxY:jt.max_y,srs:{name:Yt.srs_name,id:Yt.srs_id,organization:Yt.organization,organization_coordsys_id:Yt.organization_coordsys_id,definition:Yt.definition,description:Yt.description}},nr.contents.srs={name:Yt.srs_name,id:Yt.srs_id,organization:Yt.organization,organization_coordsys_id:Yt.organization_coordsys_id,definition:Yt.definition,description:Yt.description};var Nr=_t.srs;nr.srs={name:Nr.srs_name,id:Nr.srs_id,organization:Nr.organization,organization_coordsys_id:Nr.organization_coordsys_id,definition:Nr.definition,description:Nr.description},nr.columns=[],nr.columnMap={};var Gr=this.dataColumnsDao;return _t.table.getUserColumns().getColumns().forEach((function(Vr){var Mn=Gr.getDataColumns(_t.table.getTableName(),Vr.name);nr.columns.push({index:Vr.index,name:Vr.name,max:Vr.max,min:Vr.min,notNull:Vr.notNull,primaryKey:Vr.primaryKey,dataType:Vr.dataType,displayName:Mn&&Mn.name?Mn.name:Vr.name,dataColumn:Mn}),nr.columnMap[Vr.name]=nr.columns[nr.columns.length-1]}).bind(this)),nr},wt.addProjection=function(_t,jt){if(!_t||!jt)throw new Error("Invalid projection name/definition");oe.default.defs(_t,jt)},wt.hasProjection=function(_t){return oe.default.defs(_t)},wt.prototype.renameTable=function(_t,jt){this.getTableDataType(_t)!=null?(this.copyTableAndExtensions(_t,jt),this.deleteTable(_t)):Si.AlterTable.renameTable(this.connection,_t,jt)},wt.prototype.copyTableAndExtensions=function(_t,jt){this.copyTable(_t,jt,!0,!0)},wt.prototype.copyTableNoExtensions=function(_t,jt){this.copyTable(_t,jt,!0,!1)},wt.prototype.copyTableAsEmpty=function(_t,jt){this.copyTable(_t,jt,!1,!1)},wt.prototype.getTableDataType=function(_t){var jt=null,nr=this.contentsDao.queryForId(_t);return nr!=null&&(jt=nr.data_type),jt},wt.prototype.copyTable=function(_t,jt,nr,Yt){var Nr=this.getTableDataType(_t);if(Nr!=null)switch(Nr){case ai.ContentsDataType.ATTRIBUTES:this.copyAttributeTable(_t,jt,nr);break;case ai.ContentsDataType.FEATURES:this.copyFeatureTable(_t,jt,nr);break;case ai.ContentsDataType.TILES:this.copyTileTable(_t,jt,nr);break;default:throw new Error("Unsupported data type: "+Nr)}else this.copyUserTable(_t,jt,nr,!1);Yt&&Gi.GeoPackageExtensions.copyTableExtensions(this,_t,jt)},wt.prototype.copyAttributeTable=function(_t,jt,nr){this.copyUserTable(_t,jt,nr)},wt.prototype.copyFeatureTable=function(_t,jt,nr){var Yt=this.geometryColumnsDao,Nr=null;try{Nr=Yt.queryForTableName(_t)}catch{throw new Error("Failed to retrieve table geometry columns: "+_t)}if(Nr==null)throw new Error("No geometry columns for table: "+_t);var Gr=this.copyUserTable(_t,jt,nr);Nr.setContents(Gr);try{Yt.create(Nr)}catch{throw new Error("Failed to create geometry columns for feature table: "+jt)}},wt.prototype.copyTileTable=function(_t,jt,nr){var Yt=this.tileMatrixSetDao,Nr=null;try{Nr=Yt.queryForId(_t)}catch{throw new Error("Failed to retrieve table tile matrix set: "+_t)}if(Nr==null)throw new Error("No tile matrix set for table: "+_t);var Gr=this.tileMatrixDao,Vr=null;try{Vr=Gr.queryForAllEq(Qe.TileMatrixDao.COLUMN_TABLE_NAME,_t).map((function(hn){return Gr.createObject(hn)}))}catch{throw new Error("Failed to retrieve table tile matrices: "+_t)}var Mn=this.copyUserTable(_t,jt,nr);Nr.contents=Mn;try{Yt.create(Nr)}catch{throw new Error("Failed to create tile matrix set for tile table: "+jt)}Vr.forEach((function(hn){hn.contents=Mn;try{Gr.create(hn)}catch{throw new Error("Failed to create tile matrix for tile table: "+jt)}}))},wt.prototype.copyUserTable=function(_t,jt,nr,Yt){Yt===void 0&&(Yt=!0),Si.AlterTable.copyTableWithName(this.database,_t,jt,nr);var Nr=this.copyContents(_t,jt);if(Nr==null&&Yt)throw new Error("No table contents found for table: "+_t);return Nr},wt.prototype.copyContents=function(_t,jt){var nr=this.getTableContents(_t);if(nr!=null){nr.table_name=jt,nr.identifier=jt;try{this.contentsDao.create(nr)}catch{throw new Error("Failed to create contents for table: "+jt+", copied from table: "+_t)}}return nr},wt})();x.GeoPackage=Na},1506:(y,x)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.GeoPackageConstants=void 0;var r=(function(){function b(){}return b.GEOPACKAGE_EXTENSION="gpkg",b.GEOPACKAGE_EXTENDED_EXTENSION="gpkx",b.APPLICATION_ID="GPKG",b.USER_VERSION="10200",b.GEOPACKAGE_EXTENSION_AUTHOR=b.GEOPACKAGE_EXTENSION,b.GEOMETRY_EXTENSION_PREFIX="geom",b.GEOPACKAGE_GEOMETRY_MAGIC_NUMBER="GP",b.GEOPACKAGE_GEOMETRY_VERSION_1=0,b.SQLITE_HEADER_PREFIX="SQLite format 3",b})();x.GeoPackageConstants=r},5095:(y,x)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.Envelope=void 0,x.Envelope=function(){}},1895:function(y,x,r){var b=this&&this.__importDefault||function(B){return B&&B.__esModule?B:{default:B}};Object.defineProperty(x,"__esModule",{value:!0}),x.EnvelopeBuilder=void 0;var M=b(r(9705)),z=(function(){function B(){}return B.buildEnvelopeWithGeometry=function(R){var I=R.toGeoJSON(),O=(0,M.default)(I);return{minX:O[0],minY:O[1],maxX:O[2],maxY:O[3]}},B})();x.EnvelopeBuilder=z},857:function(y,x,r){var b=r(3085).lW,M=r(5108),z=this&&this.__importDefault||function(A){return A&&A.__esModule?A:{default:A}};Object.defineProperty(x,"__esModule",{value:!0}),x.GeometryData=void 0;var B=z(r(1011)),R=r(1506),I=r(5095),O=(function(){function A(T){this.empty=!0,this.byteOrder=A.BIG_ENDIAN,T&&this.fromData(T)}return A.prototype.setSrsId=function(T){this.srsId=T},A.prototype.setGeometry=function(T){this.empty=!1,this.geometry=T},A.prototype.setEnvelope=function(T){this.envelope=T},A.prototype.toGeoJSON=function(){return this.geometry.toGeoJSON()},A.prototype.fromData=function(T){T instanceof Uint8Array?this.buffer=T=b.from(T):this.buffer=T;var U=this.buffer.toString("ascii",0,2);if(U!==R.GeoPackageConstants.GEOPACKAGE_GEOMETRY_MAGIC_NUMBER)throw new Error("Unexpected GeoPackage Geometry magic number: "+U+", Expected: "+R.GeoPackageConstants.GEOPACKAGE_GEOMETRY_MAGIC_NUMBER);var q=this.buffer.readUInt8(2);if(q!==R.GeoPackageConstants.GEOPACKAGE_GEOMETRY_VERSION_1)throw new Error("Unexpected GeoPackage Geometry version "+q+", Expected: "+R.GeoPackageConstants.GEOPACKAGE_GEOMETRY_VERSION_1);var K=this.buffer.readUInt8(3),J=this.readFlags(K);this.srsId=this.buffer[this.byteOrder?"readUInt32LE":"readUInt32BE"](4);var te=this.readEnvelope(J,this.buffer);this.envelope=te.envelope;var oe=te.offset,ue=this.buffer.slice(oe);try{this.geometry=B.default.Geometry.parse(ue),this.geometryError=void 0}catch(fe){this.geometryError=fe.message,M.log("Error parsing geometry")}},A.prototype.toData=function(){var T=b.alloc(8);T.write(R.GeoPackageConstants.GEOPACKAGE_GEOMETRY_MAGIC_NUMBER),T.writeUInt8(R.GeoPackageConstants.GEOPACKAGE_GEOMETRY_VERSION_1,2);var U=this.buildFlagsByte();T.writeUInt8(U,3),T[this.byteOrder?"writeUInt32LE":"writeUInt32BE"](this.srsId,4);var q=[T,this.writeEnvelope()];try{q.push(this.geometry.toWkb()),this.geometryError=void 0}catch(K){this.geometryError=K.message}return this.buffer=b.concat(q),this.buffer},A.prototype.writeEnvelope=function(){if(!this.envelope)return b.alloc(0);var T=32;this.envelope.hasZ&&(T+=16),this.envelope.hasM&&(T+=16);var U,q=b.alloc(T);(U=this.byteOrder?q.writeDoubleLE.bind(q):q.writeDoubleBE.bind(q))(this.envelope.minX,0),U(this.envelope.maxX,8),U(this.envelope.minY,16),U(this.envelope.maxY,24);var K=32;return this.envelope.hasZ&&(U(this.envelope.minZ,K),U(this.envelope.maxZ,K+8),K=48),this.envelope.hasM&&(U(this.envelope.minM,K),U(this.envelope.maxM,K+8)),q},A.prototype.buildFlagsByte=function(){var T=0;return T+=(this.extended?1:0)<<5,T+=(this.empty?1:0)<<4,(T+=(this.envelope?this.getIndicatorWithEnvelope(this.envelope):0)<<1)+(this.byteOrder===A.BIG_ENDIAN?0:1)},A.prototype.getIndicatorWithEnvelope=function(T){var U=1;return T.hasZ&&U++,T.hasM&&(U+=2),U},A.prototype.readFlags=function(T){var U=T>>7&1,q=T>>6&1;if(U!==0||q!==0)throw new Error("Unexpected GeoPackage Geometry flags. Flag bit 7 and 6 should both be 0, 7="+U+", 6="+q);var K=T>>5&1;this.extended=K===1;var J=T>>4&1;this.empty=J===1;var te=T>>1&7;if(te>4)throw new Error("Unexpected GeoPackage Geometry flags. Envelope contents indicator must be between 0 and 4. Actual: "+te);var oe=1&T;return this.byteOrder=oe,te},A.prototype.readEnvelope=function(T,U){var q;q=this.byteOrder?U.readDoubleLE.bind(U):U.readDoubleBE.bind(U);var K=0,J={envelope:void 0,offset:8};if(T<=0)return J;var te=new I.Envelope;return te.minX=q(8+8*K++),te.maxX=q(8+8*K++),te.minY=q(8+8*K++),te.maxY=q(8+8*K++),te.hasZ=!1,te.hasM=!1,T!==2&&T!==4||(te.hasZ=!0,te.minZ=q(8+8*K++),te.maxZ=q(8+8*K++)),T!==3&&T!==4||(te.hasM=!0,te.minM=q(8+8*K++),te.maxM=q(8+8*K++)),J.envelope=te,J.offset=8+8*K,J},A.BIG_ENDIAN=0,A.LITTLE_ENDIAN=1,A})();x.GeometryData=O},3026:(y,x)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.Metadata=void 0;var r=(function(){function b(){}return b.prototype.getScopeInformation=function(M){switch(M){case b.UNDEFINED:return{name:b.UNDEFINED,code:"NA",definition:"Metadata information scope is undefined"};case b.FIELD_SESSION:return{name:b.FIELD_SESSION,code:"012",definition:"Information applies to the field session"};case b.COLLECTION_SESSION:return{name:b.COLLECTION_SESSION,code:"004",definition:"Information applies to the collection session"};case b.SERIES:return{name:b.SERIES,code:"006",definition:"Information applies to the (dataset) series"};case b.DATASET:return{name:b.DATASET,code:"005",definition:"Information applies to the (geographic feature) dataset"};case b.FEATURE_TYPE:return{name:b.FEATURE_TYPE,code:"010",definition:"Information applies to a feature type (class)"};case b.FEATURE:return{name:b.FEATURE,code:"009",definition:"Information applies to a feature (instance)"};case b.ATTRIBUTE_TYPE:return{name:b.ATTRIBUTE_TYPE,code:"002",definition:"Information applies to the attribute class"};case b.ATTRIBUTE:return{name:b.ATTRIBUTE,code:"001",definition:"Information applies to the characteristic of a feature (instance)"};case b.TILE:return{name:b.TILE,code:"016",definition:"Information applies to a tile, a spatial subset of geographic data"};case b.MODEL:return{name:b.MODEL,code:"015",definition:"Information applies to a copy or imitation of an existing or hypothetical object"};case b.CATALOG:return{name:b.CATALOG,code:"NA",definition:"Metadata applies to a feature catalog"};case b.SCHEMA:return{name:b.SCHEMA,code:"NA",definition:"Metadata applies to an application schema"};case b.TAXONOMY:return{name:b.TAXONOMY,code:"NA",definition:"Metadata applies to a taxonomy or knowledge system"};case b.SOFTWARE:return{name:b.SOFTWARE,code:"013",definition:"Information applies to a computer program or routine"};case b.SERVICE:return{name:b.SERVICE,code:"014",definition:"Information applies to a capability which a service provider entity makes available to a service user entity through a set of interfaces that define a behaviour, such as a use case"};case b.COLLECTION_HARDWARE:return{name:b.COLLECTION_HARDWARE,code:"003",definition:"Information applies to the collection hardware class"};case b.NON_GEOGRAPHIC_DATASET:return{name:b.NON_GEOGRAPHIC_DATASET,code:"007",definition:"Information applies to non-geographic data"};case b.DIMENSION_GROUP:return{name:b.DIMENSION_GROUP,code:"008",definition:"Information applies to a dimension group"}}},b.UNDEFINED="undefined",b.FIELD_SESSION="fieldSession",b.COLLECTION_SESSION="collectionSession",b.SERIES="series",b.DATASET="dataset",b.FEATURE_TYPE="featureType",b.FEATURE="feature",b.ATTRIBUTE_TYPE="attributeType",b.ATTRIBUTE="attribute",b.TILE="tile",b.MODEL="model",b.CATALOG="catalog",b.SCHEMA="schema",b.TAXONOMY="taxonomy",b.SOFTWARE="software",b.SERVICE="service",b.COLLECTION_HARDWARE="collectionHardware",b.NON_GEOGRAPHIC_DATASET="nonGeographicDataset",b.DIMENSION_GROUP="dimensionGroup",b})();x.Metadata=r},663:function(y,x,r){var b,M=this&&this.__extends||(b=function(I,O){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,T){A.__proto__=T}||function(A,T){for(var U in T)Object.prototype.hasOwnProperty.call(T,U)&&(A[U]=T[U])},b(I,O)},function(I,O){if(typeof O!="function"&&O!==null)throw new TypeError("Class extends value "+String(O)+" is not a constructor or null");function A(){this.constructor=I}b(I,O),I.prototype=O===null?Object.create(O):(A.prototype=O.prototype,new A)});Object.defineProperty(x,"__esModule",{value:!0}),x.MetadataDao=void 0;var z=r(4115),B=r(3026),R=(function(I){function O(){var A=I!==null&&I.apply(this,arguments)||this;return A.gpkgTableName=O.TABLE_NAME,A.idColumns=[O.COLUMN_ID],A}return M(O,I),O.prototype.createObject=function(A){var T=new B.Metadata;return A&&(T.id=A.id,T.md_scope=A.md_scope,T.md_standard_uri=A.md_standard_uri,T.mime_type=A.mime_type,T.metadata=A.metadata),T},O.TABLE_NAME="gpkg_metadata",O.COLUMN_ID="id",O.COLUMN_MD_SCOPE="md_scope",O.COLUMN_MD_STANDARD_URI="md_standard_uri",O.COLUMN_MIME_TYPE="mime_type",O.COLUMN_METADATA="metadata",O})(z.Dao);x.MetadataDao=R},9173:(y,x)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.MetadataReference=void 0;var r=(function(){function b(){}return b.prototype.toDatabaseValue=function(M){return M==="timestamp"?this.timestamp.toISOString():this[M]},b.prototype.setMetadata=function(M){this.md_file_id=M?M.id:-1},b.prototype.setParentMetadata=function(M){this.md_parent_id=M?M.id:-1},b.prototype.setReferenceScopeType=function(M){switch(this.reference_scope=M,M){case b.GEOPACKAGE:this.table_name=void 0,this.column_name=void 0,this.row_id_value=void 0;break;case b.TABLE:this.column_name=void 0,this.row_id_value=void 0;break;case b.ROW:this.column_name=void 0;break;case b.COLUMN:this.row_id_value=void 0}},b.GEOPACKAGE="geopackage",b.TABLE="table",b.COLUMN="column",b.ROW="row",b.ROW_COL="row/col",b})();x.MetadataReference=r},2056:function(y,x,r){var b,M=this&&this.__extends||(b=function(O,A){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,U){T.__proto__=U}||function(T,U){for(var q in U)Object.prototype.hasOwnProperty.call(U,q)&&(T[q]=U[q])},b(O,A)},function(O,A){if(typeof A!="function"&&A!==null)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");function T(){this.constructor=O}b(O,A),O.prototype=A===null?Object.create(A):(T.prototype=A.prototype,new T)});Object.defineProperty(x,"__esModule",{value:!0}),x.MetadataReferenceDao=void 0;var z=r(4115),B=r(8572),R=r(9173),I=(function(O){function A(){var T=O!==null&&O.apply(this,arguments)||this;return T.gpkgTableName=A.TABLE_NAME,T.idColumns=[A.COLUMN_MD_FILE_ID,A.COLUMN_MD_PARENT_ID],T}return M(A,O),A.prototype.createObject=function(T){var U=new R.MetadataReference;return T&&(U.reference_scope=T.reference_scope,U.table_name=T.table_name,U.column_name=T.column_name,U.row_id_value=T.row_id_value,U.timestamp=new Date(T.timestamp),U.md_file_id=T.md_file_id,U.md_parent_id=T.md_parent_id),U},A.prototype.removeMetadataParent=function(T){var U={};U[A.COLUMN_MD_PARENT_ID]=null;var q=this.buildWhereWithFieldAndValue(A.COLUMN_MD_PARENT_ID,T),K=this.buildWhereArgs(T);return this.updateWithValues(U,q,K).changes},A.prototype.queryByMetadataAndParent=function(T,U){var q=new B.ColumnValues;return q.addColumn(A.COLUMN_MD_FILE_ID,T),q.addColumn(A.COLUMN_MD_PARENT_ID,U),this.queryForFieldValues(q)},A.prototype.queryByMetadata=function(T){var U=new B.ColumnValues;return U.addColumn(A.COLUMN_MD_FILE_ID,T),this.queryForFieldValues(U)},A.prototype.queryByMetadataParent=function(T){var U=new B.ColumnValues;return U.addColumn(A.COLUMN_MD_PARENT_ID,T),this.queryForFieldValues(U)},A.prototype.deleteByTableName=function(T){var U="";U+=this.buildWhereWithFieldAndValue(A.COLUMN_TABLE_NAME,T);var q=this.buildWhereArgs(T);return this.deleteWhere(U,q)},A.TABLE_NAME="gpkg_metadata_reference",A.COLUMN_REFERENCE_SCOPE="reference_scope",A.COLUMN_TABLE_NAME="table_name",A.COLUMN_COLUMN_NAME="column_name",A.COLUMN_ROW_ID="row_id_value",A.COLUMN_TIMESTAMP="timestamp",A.COLUMN_MD_FILE_ID="md_file_id",A.COLUMN_MD_PARENT_ID="md_parent_id",A})(z.Dao);x.MetadataReferenceDao=I},7403:(y,x)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.OptionBuilder=void 0;var r=(function(){function b(){}return b.build=function(M){var z={};return M.forEach((function(B){z["set"+B.slice(0,1).toUpperCase()+B.slice(1)]=function(R){return this[B]=R,this},z["get"+B.slice(0,1).toUpperCase()+B.slice(1)]=function(){return this[B]}})),z},b})();x.OptionBuilder=r},5604:function(y,x,r){var b=this&&this.__importDefault||function(I){return I&&I.__esModule?I:{default:I}};Object.defineProperty(x,"__esModule",{value:!0}),x.Projection=void 0;var M=b(r(4472)),z=b(r(8446)),B=r(1375),R=(function(){function I(){}return I.loadProjection=function(O,A){if(!O||!A)throw new Error("Invalid projection name/definition");M.default.defs(O)==null&&M.default.defs(O,A)},I.loadProjections=function(O){if(!O)throw new Error("Invalid array of projections");for(var A=0;A<O.length;A++){if(!O[A]||!O[A].name||!O[A].definition)throw new Error("Invalid projection in array. Valid projection {name: string, definition: string}.");I.loadProjection(O[A].name,O[A].definition)}},I.isConverter=function(O){return O.forward!==void 0},I.hasProjection=function(O){return M.default.defs(O)},I.getConverter=function(O,A){if(O!=null&&(0,M.default)(O)==null)throw new Error("Projection "+O+" has not been defined.");if(A!=null&&(0,M.default)(A)==null)throw new Error("Projection "+A+" has not been defined.");return(0,M.default)(O,A)},I.convertCoordinates=function(O,A,T){if(O!=null&&(0,M.default)(O)==null)throw new Error("Projection "+O+" has not been defined.");if(A!=null&&(0,M.default)(A)==null)throw new Error("Projection "+A+" has not been defined.");return(0,M.default)(O,A,T)},I.getEPSGConverter=function(O){return(0,M.default)(B.ProjectionConstants.EPSG_PREFIX+O)},I.getWebMercatorToWGS84Converter=function(){return(0,M.default)(B.ProjectionConstants.EPSG_3857)},I.isWebMercator=function(O){return typeof O=="string"?O.toUpperCase()===B.ProjectionConstants.EPSG_3857:this.convertersMatch(this.getEPSGConverter(B.ProjectionConstants.EPSG_CODE_3857),O)},I.isWGS84=function(O){return typeof O=="string"?O.toUpperCase()===B.ProjectionConstants.EPSG_4326:this.convertersMatch(this.getEPSGConverter(B.ProjectionConstants.EPSG_CODE_4326),O)},I.convertersMatch=function(O,A){return(0,z.default)(O.oProj,A.oProj)},I.getConverterFromConverters=function(O,A){return(0,M.default)(O,A)},I})();x.Projection=R},1375:(y,x)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.ProjectionConstants=void 0;var r=(function(){function b(){}return b.EPSG="EPSG",b.EPSG_PREFIX="EPSG:",b.EPSG_CODE_3857=3857,b.EPSG_CODE_4326=4326,b.EPSG_CODE_900913=900913,b.EPSG_CODE_102113=102113,b.EPSG_3857=b.EPSG_PREFIX+b.EPSG_CODE_3857,b.EPSG_4326=b.EPSG_PREFIX+b.EPSG_CODE_4326,b.EPSG_900913=b.EPSG_PREFIX+b.EPSG_CODE_900913,b.EPSG_102113=b.EPSG_PREFIX+b.EPSG_CODE_102113,b.WEB_MERCATOR_MAX_LAT_RANGE=85.0511287798066,b.WEB_MERCATOR_MIN_LAT_RANGE=-85.05112877980659,b.WEB_MERCATOR_MAX_LON_RANGE=180,b.WEB_MERCATOR_MIN_LON_RANGE=-180,b.WEB_MERCATOR_HALF_WORLD_WIDTH=20037508342789244e-9,b.WGS84_HALF_WORLD_LON_WIDTH=180,b.WGS84_HALF_WORLD_LAT_HEIGHT=90,b})();x.ProjectionConstants=r},7977:function(y,x,r){var b=this&&this.__createBinding||(Object.create?function(fe,Le,Ge,ze){ze===void 0&&(ze=Ge);var je=Object.getOwnPropertyDescriptor(Le,Ge);je&&!("get"in je?!Le.__esModule:je.writable||je.configurable)||(je={enumerable:!0,get:function(){return Le[Ge]}}),Object.defineProperty(fe,ze,je)}:function(fe,Le,Ge,ze){ze===void 0&&(ze=Ge),fe[ze]=Le[Ge]}),M=this&&this.__setModuleDefault||(Object.create?function(fe,Le){Object.defineProperty(fe,"default",{enumerable:!0,value:Le})}:function(fe,Le){fe.default=Le}),z=this&&this.__importStar||function(fe){if(fe&&fe.__esModule)return fe;var Le={};if(fe!=null)for(var Ge in fe)Ge!=="default"&&Object.prototype.hasOwnProperty.call(fe,Ge)&&b(Le,fe,Ge);return M(Le,fe),Le},B=this&&this.__awaiter||function(fe,Le,Ge,ze){return new(Ge||(Ge=Promise))((function(je,Be){function _e(Ke){try{tt(ze.next(Ke))}catch(Ze){Be(Ze)}}function He(Ke){try{tt(ze.throw(Ke))}catch(Ze){Be(Ze)}}function tt(Ke){var Ze;Ke.done?je(Ke.value):(Ze=Ke.value,Ze instanceof Ge?Ze:new Ge((function(Qe){Qe(Ze)}))).then(_e,He)}tt((ze=ze.apply(fe,Le||[])).next())}))},R=this&&this.__generator||function(fe,Le){var Ge,ze,je,Be,_e={label:0,sent:function(){if(1&je[0])throw je[1];return je[1]},trys:[],ops:[]};return Be={next:He(0),throw:He(1),return:He(2)},typeof Symbol=="function"&&(Be[Symbol.iterator]=function(){return this}),Be;function He(tt){return function(Ke){return(function(Ze){if(Ge)throw new TypeError("Generator is already executing.");for(;Be&&(Be=0,Ze[0]&&(_e=0)),_e;)try{if(Ge=1,ze&&(je=2&Ze[0]?ze.return:Ze[0]?ze.throw||((je=ze.return)&&je.call(ze),0):ze.next)&&!(je=je.call(ze,Ze[1])).done)return je;switch(ze=0,je&&(Ze=[2&Ze[0],je.value]),Ze[0]){case 0:case 1:je=Ze;break;case 4:return _e.label++,{value:Ze[1],done:!1};case 5:_e.label++,ze=Ze[1],Ze=[0];continue;case 7:Ze=_e.ops.pop(),_e.trys.pop();continue;default:if(!((je=(je=_e.trys).length>0&&je[je.length-1])||Ze[0]!==6&&Ze[0]!==2)){_e=0;continue}if(Ze[0]===3&&(!je||Ze[1]>je[0]&&Ze[1]<je[3])){_e.label=Ze[1];break}if(Ze[0]===6&&_e.label<je[1]){_e.label=je[1],je=Ze;break}if(je&&_e.label<je[2]){_e.label=je[2],_e.ops.push(Ze);break}je[2]&&_e.ops.pop(),_e.trys.pop();continue}Ze=Le.call(fe,_e)}catch(Qe){Ze=[6,Qe],ze=0}finally{Ge=je=0}if(5&Ze[0])throw Ze[1];return{value:Ze[0]?Ze[1]:void 0,done:!0}})([tt,Ke])}}},I=this&&this.__importDefault||function(fe){return fe&&fe.__esModule?fe:{default:fe}};Object.defineProperty(x,"__esModule",{value:!0}),x.TileCreator=void 0;var O=z(r(7769)),A=I(r(4472)),T=I(r(2331)),U=r(3684),q=r(3437),K=r(9325),J=r(824),te=r(5604),oe=r(1375),ue=(function(){function fe(Le,Ge,ze,je,Be,_e,He,tt,Ke){this.dispose=!1,this.canvas=null,this.pixelsAdded=!1,this.width=Le,this.height=Ge,this.tileMatrix=ze,this.projectionFrom=_e.organization.toUpperCase()+":"+_e.organization_coordsys_id,this.projectionFromDefinition=_e.definition,this.projectionTo=He.toUpperCase(),this.projectionToDefinition=tt,this.tileBoundingBox=Be,this.tileMatrixSet=je,this.chunks=[],this.tileHeightUnitsPerPixel=Be.height/Ge,this.tileWidthUnitsPerPixel=Be.width/Le,this.sameProjection=this.projectionFrom===this.projectionTo||this.projectionTo===oe.ProjectionConstants.EPSG_3857&&(this.projectionFrom===oe.ProjectionConstants.EPSG_900913||this.projectionFrom===oe.ProjectionConstants.EPSG_102113),this.canvas=Ke}return fe.create=function(Le,Ge,ze,je,Be,_e,He,tt,Ke){return B(this,void 0,void 0,(function(){var Ze;return R(this,(function(Qe){switch(Qe.label){case 0:return[4,(Ze=new fe(Le,Ge,ze,je,Be,_e,He,tt,Ke)).initialize()];case 1:return Qe.sent(),[2,Ze]}}))}))},fe.prototype.initialize=function(){return B(this,void 0,void 0,(function(){return R(this,(function(Le){switch(Le.label){case 0:return[4,q.Canvas.initializeAdapter()];case 1:return Le.sent(),this.canvas==null&&(this.canvas=q.Canvas.create(this.width,this.height),this.dispose=!0),this.ctx=this.canvas.getContext("2d"),this.tileCanvas=q.Canvas.create(this.tileMatrix.tile_width,this.tileMatrix.tile_height),this.tileContext=this.tileCanvas.getContext("2d"),this.imageData=q.Canvas.createImageData(this.width,this.height),[2,this]}}))}))},fe.prototype.addPixel=function(Le,Ge,ze,je){var Be=this.tileContext.getImageData(ze,je,1,1);this.imageData.data.set(Be.data,Ge*this.width*4+4*Le),this.pixelsAdded=!0},fe.prototype.addTile=function(Le,Ge,ze){return B(this,void 0,void 0,(function(){var je,Be,_e,He;return R(this,(function(tt){switch(tt.label){case 0:return[4,typeof Le=="string"?O.fromFile(Le):O.fromBuffer(Le)];case 1:return je=tt.sent(),[4,K.ImageUtils.getImage(Le,je.mime)];case 2:return Be=tt.sent(),this.tileContext.clearRect(0,0,this.tileMatrix.tile_width,this.tileMatrix.tile_height),this.tileContext.drawImage(Be.image,0,0),this.chunks=[],[4,this.projectTile(Le,Ge,ze)];case 3:if(tt.sent(),this.pixelsAdded&&this.ctx.putImageData(this.imageData,0,0),this.chunks&&this.chunks.length)for(_e=0;_e<this.chunks.length;_e++)He=this.chunks[_e].position,this.ctx.drawImage(Be.image,He.sx,He.sy,He.sWidth,He.sHeight,He.dx,He.dy,He.dWidth,He.dHeight);return q.Canvas.disposeImage(Be),[2]}}))}))},fe.prototype.projectTile=function(Le,Ge,ze){return B(this,void 0,void 0,(function(){var je;return R(this,(function(Be){return je=U.TileBoundingBoxUtils.getTileBoundingBox(this.tileMatrixSet.boundingBox,this.tileMatrix,Ge,ze),this.sameProjection?[2,this.cutAndScale(Le,je)]:[2,this.reproject(Le,je)]}))}))},fe.prototype.cutAndScale=function(Le,Ge){var ze=U.TileBoundingBoxUtils.determinePositionAndScale(Ge,this.tileMatrix.tile_height,this.tileMatrix.tile_width,this.tileBoundingBox,this.height,this.width);ze.xPositionInFinalTileStart>=this.width||ze.yPositionInFinalTileStart>=this.height||this.addChunk(Le,ze)},fe.prototype.addChunk=function(Le,Ge){this.chunks.push({chunk:Le,position:Ge})},fe.prototype.reproject=function(Le,Ge){return B(this,void 0,void 0,(function(){var ze,je,Be,_e,He,tt,Ke,Ze,Qe,vt,pt,ut,Mt,bt=this;return R(this,(function(ar){if(typeof window<"u"&&window.Worker)return J.TileUtilities.getPiecePosition(Ge,this.tileBoundingBox,this.height,this.width,this.projectionTo,this.projectionToDefinition,this.projectionFrom,this.projectionFromDefinition,this.tileHeightUnitsPerPixel,this.tileWidthUnitsPerPixel,this.tileMatrix.pixel_x_size,this.tileMatrix.pixel_y_size),ze={sourceImageData:this.tileContext.getImageData(0,0,this.tileMatrix.tile_width,this.tileMatrix.tile_height).data.buffer,height:this.height,width:this.width,projectionTo:this.projectionTo,projectionToDefinition:this.projectionToDefinition,projectionFrom:this.projectionFrom,projectionFromDefinition:this.projectionFromDefinition,maxLatitude:this.tileBoundingBox.maxLatitude,minLongitude:this.tileBoundingBox.minLongitude,tileWidthUnitsPerPixel:this.tileWidthUnitsPerPixel,tileHeightUnitsPerPixel:this.tileHeightUnitsPerPixel,tilePieceBoundingBox:JSON.stringify(Ge),tileBoundingBox:JSON.stringify(this.tileBoundingBox),pixel_y_size:this.tileMatrix.pixel_y_size,pixel_x_size:this.tileMatrix.pixel_x_size,tile_width:this.tileMatrix.tile_width,tile_height:this.tileMatrix.tile_height},[2,new Promise((function(dt){try{(yt=r(8034)(r(7591))).onmessage=function(Bt){bt.canvas.getContext("2d").putImageData(new ImageData(new Uint8ClampedArray(Bt.data),bt.height,bt.width),0,0),dt()},yt.postMessage(ze,[bt.tileContext.getImageData(0,0,bt.tileMatrix.tile_width,bt.tileMatrix.tile_height).data.buffer])}catch{var yt,Gt=(yt=T.default)(ze);bt.canvas.getContext("2d").putImageData(new ImageData(new Uint8ClampedArray(Gt),bt.height,bt.width),0,0),dt()}}))];je=this.height,Be=this.width,_e=this.tileMatrix.tile_height,He=this.tileMatrix.tile_width,tt=void 0;try{te.Projection.hasProjection(this.projectionTo)==null&&te.Projection.loadProjection(this.projectionTo,this.projectionToDefinition),te.Projection.hasProjection(this.projectionFrom)==null&&te.Projection.loadProjection(this.projectionFrom,this.projectionFromDefinition),tt=(0,A.default)(this.projectionTo,this.projectionFrom)}catch{}for(Ke=void 0,Ze=0;Ze<je;Ze++)for(Ke=this.tileBoundingBox.maxLatitude-Ze*this.tileHeightUnitsPerPixel,Qe=0;Qe<Be;Qe++)vt=this.tileBoundingBox.minLongitude+Qe*this.tileWidthUnitsPerPixel,pt=tt.forward([vt,Ke]),ut=He-Math.round((Ge.maxLongitude-pt[0])/this.tileMatrix.pixel_x_size),Mt=Math.round((Ge.maxLatitude-pt[1])/this.tileMatrix.pixel_y_size),ut>=0&&ut<He&&Mt>=0&&Mt<_e&&this.addPixel(Qe,Ze,ut,Mt);return this.canvas.getContext("2d").putImageData(this.imageData,0,0),[2]}))}))},fe.prototype.getCompleteTile=function(Le){return B(this,void 0,void 0,(function(){return R(this,(function(Ge){return[2,q.Canvas.toDataURL(this.canvas,Le)]}))}))},fe.prototype.cleanup=function(){this.dispose&&q.Canvas.disposeCanvas(this.canvas),q.Canvas.disposeCanvas(this.tileCanvas)},fe})();x.TileCreator=ue},2544:(y,x)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.CustomFeaturesTile=void 0,x.CustomFeaturesTile=function(){this.compressFormat="png",this.tileBorderStrokeWidth=2,this.tileBorderColor="rgba(0, 0, 0, 1.0)",this.tileFillColor="rgba(0, 0, 0, 0.0625)",this.drawUnindexedTiles=!0}},3060:function(y,x,r){var b,M=this&&this.__extends||(b=function(O,A){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,U){T.__proto__=U}||function(T,U){for(var q in U)Object.prototype.hasOwnProperty.call(U,q)&&(T[q]=U[q])},b(O,A)},function(O,A){if(typeof A!="function"&&A!==null)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");function T(){this.constructor=O}b(O,A),O.prototype=A===null?Object.create(A):(T.prototype=A.prototype,new T)}),z=this&&this.__awaiter||function(O,A,T,U){return new(T||(T=Promise))((function(q,K){function J(ue){try{oe(U.next(ue))}catch(fe){K(fe)}}function te(ue){try{oe(U.throw(ue))}catch(fe){K(fe)}}function oe(ue){var fe;ue.done?q(ue.value):(fe=ue.value,fe instanceof T?fe:new T((function(Le){Le(fe)}))).then(J,te)}oe((U=U.apply(O,A||[])).next())}))},B=this&&this.__generator||function(O,A){var T,U,q,K,J={label:0,sent:function(){if(1&q[0])throw q[1];return q[1]},trys:[],ops:[]};return K={next:te(0),throw:te(1),return:te(2)},typeof Symbol=="function"&&(K[Symbol.iterator]=function(){return this}),K;function te(oe){return function(ue){return(function(fe){if(T)throw new TypeError("Generator is already executing.");for(;K&&(K=0,fe[0]&&(J=0)),J;)try{if(T=1,U&&(q=2&fe[0]?U.return:fe[0]?U.throw||((q=U.return)&&q.call(U),0):U.next)&&!(q=q.call(U,fe[1])).done)return q;switch(U=0,q&&(fe=[2&fe[0],q.value]),fe[0]){case 0:case 1:q=fe;break;case 4:return J.label++,{value:fe[1],done:!1};case 5:J.label++,U=fe[1],fe=[0];continue;case 7:fe=J.ops.pop(),J.trys.pop();continue;default:if(!((q=(q=J.trys).length>0&&q[q.length-1])||fe[0]!==6&&fe[0]!==2)){J=0;continue}if(fe[0]===3&&(!q||fe[1]>q[0]&&fe[1]<q[3])){J.label=fe[1];break}if(fe[0]===6&&J.label<q[1]){J.label=q[1],q=fe;break}if(q&&J.label<q[2]){J.label=q[2],J.ops.push(fe);break}q[2]&&J.ops.pop(),J.trys.pop();continue}fe=A.call(O,J)}catch(Le){fe=[6,Le],U=0}finally{T=q=0}if(5&fe[0])throw fe[1];return{value:fe[0]?fe[1]:void 0,done:!0}})([oe,ue])}}};Object.defineProperty(x,"__esModule",{value:!0}),x.NumberFeaturesTile=void 0;var R=r(3437),I=(function(O){function A(){var T=O.call(this)||this;return T.textSize=18,T.textFont="Noto Mono",T.textColor="rgba(255, 255, 255, 1.0)",T.circleStrokeWidth=3,T.circleBorderColor="rgba(0, 0, 0, 0.25)",T.circleFillColor="rgba(0, 0, 0, 1.0)",T.circlePaddingPercentage=.25,T.defaultFontRegistered=!1,T}return M(A,O),A.prototype.getTextSize=function(){return this.textSize},A.prototype.setTextSize=function(T){this.textSize=T},A.prototype.getTextColor=function(){return this.textColor},A.prototype.setTextColor=function(T){this.textColor=T},A.prototype.getCircleStrokeWidth=function(){return this.circleStrokeWidth},A.prototype.setCircleStrokeWidth=function(T){this.circleStrokeWidth=T},A.prototype.getCircleColor=function(){return this.circleBorderColor},A.prototype.setCircleColor=function(T){this.circleBorderColor=T},A.prototype.getCircleFillColor=function(){return this.circleFillColor},A.prototype.setCircleFillColor=function(T){this.circleFillColor=T},A.prototype.getCirclePaddingPercentage=function(){return this.circlePaddingPercentage},A.prototype.setCirclePaddingPercentage=function(T){if(T<0||T>1)throw new Error("Circle padding percentage must be between 0.0 and 1.0: "+T);this.circlePaddingPercentage=T},A.prototype.getTileBorderStrokeWidth=function(){return this.tileBorderStrokeWidth},A.prototype.setTileBorderStrokeWidth=function(T){this.tileBorderStrokeWidth=T},A.prototype.getTileBorderColor=function(){return this.tileBorderColor},A.prototype.setTileBorderColor=function(T){this.tileBorderColor=T},A.prototype.getTileFillColor=function(){return this.tileFillColor},A.prototype.setTileFillColor=function(T){this.tileFillColor=T},A.prototype.isDrawUnindexedTiles=function(){return this.drawUnindexedTiles},A.prototype.setDrawUnindexedTiles=function(T){this.drawUnindexedTiles=T},A.prototype.getCompressFormat=function(){return this.compressFormat},A.prototype.setCompressFormat=function(T){this.compressFormat=T},A.prototype.drawUnindexedTile=function(T,U,q){return q===void 0&&(q=null),z(this,void 0,void 0,(function(){var K;return B(this,(function(J){return K=null,this.drawUnindexedTiles&&(K=this.drawTile(T,U,"?",q)),[2,K]}))}))},A.prototype.drawTile=function(T,U,q,K){return z(this,void 0,void 0,(function(){var J=this;return B(this,(function(te){switch(te.label){case 0:return[4,R.Canvas.initializeAdapter()];case 1:return te.sent(),[2,new Promise((function(oe){var ue,fe=!1;K!=null?ue=K:(ue=R.Canvas.create(T,U),fe=!0);var Le=ue.getContext("2d");Le.clearRect(0,0,T,U),J.tileFillColor!==null&&(Le.fillStyle=J.tileFillColor,Le.fillRect(0,0,T,U)),J.tileBorderColor!==null&&(Le.strokeStyle=J.tileBorderColor,Le.lineWidth=J.tileBorderStrokeWidth,Le.strokeRect(0,0,T,U));var Ge=R.Canvas.measureText(Le,J.textFont,J.textSize,q),ze=J.textSize,je=Math.round(T/2),Be=Math.round(U/2);if(J.circleBorderColor!=null||J.circleFillColor!=null){var _e=Math.max(Ge,ze),He=Math.round(_e/2);He=Math.round(He+_e*J.circlePaddingPercentage),J.circleFillColor!=null&&(Le.fillStyle=J.circleFillColor,Le.beginPath(),Le.arc(je,Be,He,0,2*Math.PI,!0),Le.closePath(),Le.fill()),J.circleBorderColor!=null&&(Le.strokeStyle=J.circleBorderColor,Le.lineWidth=J.circleStrokeWidth,Le.beginPath(),Le.arc(je,Be,He,0,2*Math.PI,!0),Le.closePath(),Le.stroke())}R.Canvas.drawText(Le,q,[je,Be],J.textFont,J.textSize,J.textColor),R.Canvas.toDataURL(ue,"image/"+J.compressFormat).then((function(tt){fe&&R.Canvas.disposeCanvas(ue),oe(tt)}))}))]}}))}))},A})(r(2544).CustomFeaturesTile);x.NumberFeaturesTile=I},6667:function(y,x,r){var b,M=this&&this.__extends||(b=function(O,A){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,U){T.__proto__=U}||function(T,U){for(var q in U)Object.prototype.hasOwnProperty.call(U,q)&&(T[q]=U[q])},b(O,A)},function(O,A){if(typeof A!="function"&&A!==null)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");function T(){this.constructor=O}b(O,A),O.prototype=A===null?Object.create(A):(T.prototype=A.prototype,new T)}),z=this&&this.__awaiter||function(O,A,T,U){return new(T||(T=Promise))((function(q,K){function J(ue){try{oe(U.next(ue))}catch(fe){K(fe)}}function te(ue){try{oe(U.throw(ue))}catch(fe){K(fe)}}function oe(ue){var fe;ue.done?q(ue.value):(fe=ue.value,fe instanceof T?fe:new T((function(Le){Le(fe)}))).then(J,te)}oe((U=U.apply(O,A||[])).next())}))},B=this&&this.__generator||function(O,A){var T,U,q,K,J={label:0,sent:function(){if(1&q[0])throw q[1];return q[1]},trys:[],ops:[]};return K={next:te(0),throw:te(1),return:te(2)},typeof Symbol=="function"&&(K[Symbol.iterator]=function(){return this}),K;function te(oe){return function(ue){return(function(fe){if(T)throw new TypeError("Generator is already executing.");for(;K&&(K=0,fe[0]&&(J=0)),J;)try{if(T=1,U&&(q=2&fe[0]?U.return:fe[0]?U.throw||((q=U.return)&&q.call(U),0):U.next)&&!(q=q.call(U,fe[1])).done)return q;switch(U=0,q&&(fe=[2&fe[0],q.value]),fe[0]){case 0:case 1:q=fe;break;case 4:return J.label++,{value:fe[1],done:!1};case 5:J.label++,U=fe[1],fe=[0];continue;case 7:fe=J.ops.pop(),J.trys.pop();continue;default:if(!((q=(q=J.trys).length>0&&q[q.length-1])||fe[0]!==6&&fe[0]!==2)){J=0;continue}if(fe[0]===3&&(!q||fe[1]>q[0]&&fe[1]<q[3])){J.label=fe[1];break}if(fe[0]===6&&J.label<q[1]){J.label=q[1],q=fe;break}if(q&&J.label<q[2]){J.label=q[2],J.ops.push(fe);break}q[2]&&J.ops.pop(),J.trys.pop();continue}fe=A.call(O,J)}catch(Le){fe=[6,Le],U=0}finally{T=q=0}if(5&fe[0])throw fe[1];return{value:fe[0]?fe[1]:void 0,done:!0}})([oe,ue])}}};Object.defineProperty(x,"__esModule",{value:!0}),x.ShadedFeaturesTile=void 0;var R=r(3437),I=(function(O){function A(){return O.call(this)||this}return M(A,O),A.prototype.getTileBorderStrokeWidth=function(){return this.tileBorderStrokeWidth},A.prototype.setTileBorderStrokeWidth=function(T){this.tileBorderStrokeWidth=T},A.prototype.getTileBorderColor=function(){return this.tileBorderColor},A.prototype.setTileBorderColor=function(T){this.tileBorderColor=T},A.prototype.getTileFillColor=function(){return this.tileFillColor},A.prototype.setTileFillColor=function(T){this.tileFillColor=T},A.prototype.isDrawUnindexedTiles=function(){return this.drawUnindexedTiles},A.prototype.setDrawUnindexedTiles=function(T){this.drawUnindexedTiles=T},A.prototype.getCompressFormat=function(){return this.compressFormat},A.prototype.setCompressFormat=function(T){this.compressFormat=T},A.prototype.drawUnindexedTile=function(T,U,q){return q===void 0&&(q=null),z(this,void 0,void 0,(function(){var K;return B(this,(function(J){return K=null,this.drawUnindexedTiles&&(K=this.drawTile(T,U,"?",q)),[2,K]}))}))},A.prototype.drawTile=function(T,U,q,K){return z(this,void 0,void 0,(function(){var J=this;return B(this,(function(te){switch(te.label){case 0:return[4,R.Canvas.initializeAdapter()];case 1:return te.sent(),[2,new Promise((function(oe){var ue,fe=!1;K!=null?ue=K:(ue=R.Canvas.create(T,U),fe=!0);var Le=ue.getContext("2d");Le.clearRect(0,0,T,U),J.tileFillColor!==null&&(Le.fillStyle=J.tileFillColor,Le.fillRect(0,0,T,U)),J.tileBorderColor!==null&&(Le.strokeStyle=J.tileBorderColor,Le.lineWidth=J.tileBorderStrokeWidth,Le.strokeRect(0,0,T,U)),R.Canvas.toDataURL(ue,"image/"+J.compressFormat).then((function(Ge){fe&&R.Canvas.disposeCanvas(ue),oe(Ge)}))}))]}}))}))},A})(r(2544).CustomFeaturesTile);x.ShadedFeaturesTile=I},4538:(y,x)=>{var r;Object.defineProperty(x,"__esModule",{value:!0}),x.FeatureDrawType=void 0,(r=x.FeatureDrawType||(x.FeatureDrawType={})).CIRCLE="CIRCLE",r.STROKE="STROKE",r.FILL="FILL",(function(b){b.nameFromType=function(M){return b[M]},b.fromName=function(M){switch(M){case"CIRCLE":return b.CIRCLE;case"STROKE":return b.STROKE;case"FILL":return b.FILL}}})(x.FeatureDrawType||(x.FeatureDrawType={}))},6063:(y,x)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.FeaturePaint=void 0;var r=(function(){function b(){this.featurePaints={}}return b.prototype.getPaint=function(M){return this.featurePaints[M]},b.prototype.setPaint=function(M,z){this.featurePaints[M]=z},b})();x.FeaturePaint=r},9957:(y,x,r)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.FeaturePaintCache=void 0;var b=r(6063),M=(function(){function z(B){B===void 0&&(B=z.DEFAULT_STYLE_PAINT_CACHE_SIZE),this.cacheSize=B,this.paintCache={},this.accessHistory=[]}return z.prototype.getFeaturePaintForStyleRow=function(B){return this.getFeaturePaint(B.id)},z.prototype.getFeaturePaint=function(B){var R=this.paintCache[B];if(R){var I=this.accessHistory.indexOf(B);I>-1&&this.accessHistory.splice(I,1),this.accessHistory.push(B)}return R},z.prototype.getPaintForStyleRow=function(B,R){return this.getPaint(B.id,R)},z.prototype.getPaint=function(B,R){var I=null,O=this.getFeaturePaint(B);return O!=null&&(I=O.getPaint(R)),I},z.prototype.setPaintForStyleRow=function(B,R,I){this.setPaint(B.id,R,I)},z.prototype.setPaint=function(B,R,I){var O=this.paintCache[B];if(O){var A=this.accessHistory.indexOf(B);A>-1&&this.accessHistory.splice(A,1)}else O=new b.FeaturePaint;if(O.setPaint(R,I),this.paintCache[B]=O,this.accessHistory.push(B),Object.keys(this.paintCache).length>this.cacheSize){var T=this.accessHistory.shift();T&&delete this.paintCache[T]}},z.prototype.remove=function(B){var R=this.paintCache[B];if(delete this.paintCache[B],R){var I=this.accessHistory.indexOf(B);I>-1&&this.accessHistory.splice(I,1)}return R},z.prototype.clear=function(){this.paintCache={},this.accessHistory=[]},z.prototype.resize=function(B){this.cacheSize=B;var R=Object.keys(this.paintCache);if(R.length>B)for(var I=R.length-B,O=0;O<I;O++){var A=this.accessHistory.shift();A&&delete this.paintCache[A]}},z.DEFAULT_STYLE_PAINT_CACHE_SIZE=100,z})();x.FeaturePaintCache=M},943:(y,x)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.GeometryCache=void 0;var r=(function(){function b(M){M===void 0&&(M=b.DEFAULT_GEOMETRY_CACHE_SIZE),this.cacheSize=M,this.geometryCache={},this.accessHistory=[]}return b.prototype.getGeometryForFeatureRow=function(M){return this.getGeometry(M.id)},b.prototype.getGeometry=function(M){var z=this.geometryCache[M];if(z){var B=this.accessHistory.indexOf(M);B>-1&&this.accessHistory.splice(B,1),this.accessHistory.push(M)}return z},b.prototype.setGeometry=function(M,z){var B=this.accessHistory.indexOf(M);if(B>-1&&this.accessHistory.splice(B,1),this.geometryCache[M]=z,this.accessHistory.push(M),Object.keys(this.geometryCache).length>this.cacheSize){var R=this.accessHistory.shift();R&&delete this.geometryCache[R]}},b.prototype.remove=function(M){var z=this.geometryCache[M];if(delete this.geometryCache[M],z){var B=this.accessHistory.indexOf(M);B>-1&&this.accessHistory.splice(B,1)}return z},b.prototype.clear=function(){this.geometryCache={},this.accessHistory=[]},b.prototype.resize=function(M){this.cacheSize=M;var z=Object.keys(this.geometryCache);if(z.length>M)for(var B=z.length-M,R=0;R<B;R++){var I=this.accessHistory.shift();I&&delete this.geometryCache[I]}},b.DEFAULT_GEOMETRY_CACHE_SIZE=100,b})();x.GeometryCache=r},297:function(y,x,r){var b=r(5108),M=this&&this.__awaiter||function(je,Be,_e,He){return new(_e||(_e=Promise))((function(tt,Ke){function Ze(pt){try{vt(He.next(pt))}catch(ut){Ke(ut)}}function Qe(pt){try{vt(He.throw(pt))}catch(ut){Ke(ut)}}function vt(pt){var ut;pt.done?tt(pt.value):(ut=pt.value,ut instanceof _e?ut:new _e((function(Mt){Mt(ut)}))).then(Ze,Qe)}vt((He=He.apply(je,Be||[])).next())}))},z=this&&this.__generator||function(je,Be){var _e,He,tt,Ke,Ze={label:0,sent:function(){if(1&tt[0])throw tt[1];return tt[1]},trys:[],ops:[]};return Ke={next:Qe(0),throw:Qe(1),return:Qe(2)},typeof Symbol=="function"&&(Ke[Symbol.iterator]=function(){return this}),Ke;function Qe(vt){return function(pt){return(function(ut){if(_e)throw new TypeError("Generator is already executing.");for(;Ke&&(Ke=0,ut[0]&&(Ze=0)),Ze;)try{if(_e=1,He&&(tt=2&ut[0]?He.return:ut[0]?He.throw||((tt=He.return)&&tt.call(He),0):He.next)&&!(tt=tt.call(He,ut[1])).done)return tt;switch(He=0,tt&&(ut=[2&ut[0],tt.value]),ut[0]){case 0:case 1:tt=ut;break;case 4:return Ze.label++,{value:ut[1],done:!1};case 5:Ze.label++,He=ut[1],ut=[0];continue;case 7:ut=Ze.ops.pop(),Ze.trys.pop();continue;default:if(!((tt=(tt=Ze.trys).length>0&&tt[tt.length-1])||ut[0]!==6&&ut[0]!==2)){Ze=0;continue}if(ut[0]===3&&(!tt||ut[1]>tt[0]&&ut[1]<tt[3])){Ze.label=ut[1];break}if(ut[0]===6&&Ze.label<tt[1]){Ze.label=tt[1],tt=ut;break}if(tt&&Ze.label<tt[2]){Ze.label=tt[2],Ze.ops.push(ut);break}tt[2]&&Ze.ops.pop(),Ze.trys.pop();continue}ut=Be.call(je,Ze)}catch(Mt){ut=[6,Mt],He=0}finally{_e=tt=0}if(5&ut[0])throw ut[1];return{value:ut[0]?ut[1]:void 0,done:!0}})([vt,pt])}}},B=this&&this.__values||function(je){var Be=typeof Symbol=="function"&&Symbol.iterator,_e=Be&&je[Be],He=0;if(_e)return _e.call(je);if(je&&typeof je.length=="number")return{next:function(){return je&&He>=je.length&&(je=void 0),{value:je&&je[He++],done:!je}}};throw new TypeError(Be?"Object is not iterable.":"Symbol.iterator is not defined.")},R=this&&this.__importDefault||function(je){return je&&je.__esModule?je:{default:je}};Object.defineProperty(x,"__esModule",{value:!0}),x.FeatureTiles=void 0;var I=R(r(7383)),O=R(r(3809)),A=R(r(6479)),T=r(3684),U=r(2527),q=r(8600),K=r(943),J=r(4538),te=r(9957),oe=r(5211),ue=r(6536),fe=r(3437),Le=r(5604),Ge=r(1375),ze=(function(){function je(Be,_e,He){_e===void 0&&(_e=256),He===void 0&&(He=256),this.featureDao=Be,this.tileWidth=_e,this.tileHeight=He,this.projection=null,this.webMercatorProjection=null,this.simplifyGeometries=!0,this.simplifyToleranceInPixels=1,this.compressFormat="png",this.pointRadius=4,this.pointPaint=new oe.Paint,this.pointIcon=null,this.linePaint=new oe.Paint,this._lineStrokeWidth=2,this.polygonPaint=new oe.Paint,this._polygonStrokeWidth=2,this.fillPolygon=!0,this.polygonFillPaint=new oe.Paint,this.featurePaintCache=new te.FeaturePaintCache,this.geometryCache=new K.GeometryCache,this.cacheGeometries=!0,this.iconCache=new q.IconCache,this._scale=1,this.maxFeaturesPerTile=null,this.maxFeaturesTileDraw=null,this.projection=this.featureDao.projection,this.linePaint.strokeWidth=2,this.polygonPaint.strokeWidth=2,this.polygonFillPaint.color="#00000011",this.geoPackage=this.featureDao.geoPackage,this.geoPackage!=null&&(this.featureTableStyles=new ue.FeatureTableStyles(this.geoPackage,Be.table),this.featureTableStyles.has()||(this.featureTableStyles=null)),this.webMercatorProjection=Le.Projection.getWebMercatorToWGS84Converter(),this.calculateDrawOverlap()}return je.prototype.cleanup=function(){this.clearIconCache(),this.pointIcon&&(fe.Canvas.disposeImage(this.pointIcon.getIcon()),this.pointIcon=null)},Object.defineProperty(je.prototype,"drawOverlap",{set:function(Be){this.widthDrawOverlap=Be,this.heightDrawOverlap=Be},enumerable:!1,configurable:!0}),Object.defineProperty(je.prototype,"simplifyTolerance",{get:function(){return this.simplifyToleranceInPixels},set:function(Be){this.simplifyToleranceInPixels=Be},enumerable:!1,configurable:!0}),Object.defineProperty(je.prototype,"widthDrawOverlap",{get:function(){return this.widthOverlap},set:function(Be){this.widthOverlap=Be},enumerable:!1,configurable:!0}),Object.defineProperty(je.prototype,"heightDrawOverlap",{get:function(){return this.heightOverlap},set:function(Be){this.heightOverlap=Be},enumerable:!1,configurable:!0}),je.prototype.ignoreFeatureTableStyles=function(){this.featureTableStyles=null,this.calculateDrawOverlap()},je.prototype.clearCache=function(){this.clearStylePaintCache(),this.clearIconCache()},je.prototype.clearStylePaintCache=function(){this.featurePaintCache.clear()},Object.defineProperty(je.prototype,"stylePaintCacheSize",{set:function(Be){this.featurePaintCache.resize(Be)},enumerable:!1,configurable:!0}),je.prototype.clearIconCache=function(){this.iconCache.clear()},Object.defineProperty(je.prototype,"iconCacheSize",{set:function(Be){this.iconCache.resize(Be)},enumerable:!1,configurable:!0}),Object.defineProperty(je.prototype,"scale",{get:function(){return this._scale},set:function(Be){this._scale=Be,this.linePaint.strokeWidth=Be*this.lineStrokeWidth,this.polygonPaint.strokeWidth=Be*this.polygonStrokeWidth,this.featurePaintCache.clear()},enumerable:!1,configurable:!0}),Object.defineProperty(je.prototype,"geometryCacheMaxSize",{set:function(Be){this.geometryCache.resize(Be)},enumerable:!1,configurable:!0}),je.prototype.calculateDrawOverlap=function(){this.pointIcon?(this.heightOverlap=this.scale*this.pointIcon.getHeight(),this.widthOverlap=this.scale*this.pointIcon.getWidth()):(this.heightOverlap=this.scale*this.pointRadius,this.widthOverlap=this.scale*this.pointRadius);var Be=this.scale*this.lineStrokeWidth/2;this.heightOverlap=Math.max(this.heightOverlap,Be),this.widthOverlap=Math.max(this.widthOverlap,Be);var _e=this.scale*this.polygonStrokeWidth/2;if(this.heightOverlap=Math.max(this.heightOverlap,_e),this.widthOverlap=Math.max(this.widthOverlap,_e),this.featureTableStyles!=null&&this.featureTableStyles.has()){var He=[],tt=this.featureTableStyles.getAllTableStyleIds();tt!=null&&(He=He.concat(tt));var Ke=this.featureTableStyles.getAllStyleIds();Ke!=null&&(He=He.concat(Ke.filter((function(Ct){return He.indexOf(Ct)===-1}))));for(var Ze=this.featureTableStyles.getStyleDao(),Qe=0;Qe<He.length;Qe++){var vt=He[Qe],pt=Ze.queryForId(vt),ut=this.scale*(pt.getWidthOrDefault()/2);this.widthOverlap=Math.max(this.widthOverlap,ut),this.heightOverlap=Math.max(this.heightOverlap,ut)}var Mt=[],bt=this.featureTableStyles.getAllTableIconIds();bt!=null&&(Mt=Mt.concat(bt));var ar=this.featureTableStyles.getAllIconIds();ar!=null&&(Mt=Mt.concat(ar.filter((function(Ct){return Mt.indexOf(Ct)===-1}))));var dt=this.featureTableStyles.getIconDao();for(Qe=0;Qe<Mt.length;Qe++){var yt=Mt[Qe],Gt=dt.queryForId(yt).derivedDimensions,Bt=this.scale*Math.ceil(Gt[0]),Dt=this.scale*Math.ceil(Gt[1]);this.widthOverlap=Math.max(this.widthOverlap,Bt),this.heightOverlap=Math.max(this.heightOverlap,Dt)}}},Object.defineProperty(je.prototype,"drawOverlapsWithPixels",{set:function(Be){this.widthOverlap=Be,this.heightOverlap=Be},enumerable:!1,configurable:!0}),je.prototype.getFeatureStyle=function(Be){var _e=null;return this.featureTableStyles!=null&&(_e=this.featureTableStyles.getFeatureStyleForFeatureRow(Be)),_e},je.prototype.getPointPaint=function(Be){var _e=this.getFeatureStylePaint(Be,J.FeatureDrawType.CIRCLE);return _e==null&&(_e=this.pointPaint),_e},je.prototype.getLinePaint=function(Be){var _e=this.getFeatureStylePaint(Be,J.FeatureDrawType.STROKE);return _e==null&&(_e=this.linePaint),_e},je.prototype.getPolygonPaint=function(Be){var _e=this.getFeatureStylePaint(Be,J.FeatureDrawType.STROKE);return _e==null&&(_e=this.polygonPaint),_e},je.prototype.getPolygonFillPaint=function(Be){var _e=null,He=!1;if(Be!=null){var tt=Be.style;tt!=null&&(tt.hasFillColor()?_e=this.getStylePaint(tt,J.FeatureDrawType.FILL):He=tt.hasColor())}return _e===null&&!He&&this.fillPolygon&&(_e=this.polygonFillPaint),_e},je.prototype.getFeatureStylePaint=function(Be,_e){var He=null;if(Be!=null){var tt=Be.style;tt!=null&&tt.hasColor()&&(He=this.getStylePaint(tt,_e))}return He},je.prototype.getStylePaint=function(Be,_e){var He=this.featurePaintCache.getPaintForStyleRow(Be,_e);if(He==null){var tt=null,Ke=null;if(_e===J.FeatureDrawType.CIRCLE)tt=Be.getColor();else if(_e===J.FeatureDrawType.STROKE)tt=Be.getColor(),Ke=this.scale*Be.getWidthOrDefault();else{if(_e!==J.FeatureDrawType.FILL)throw new Error("Unsupported Draw Type: "+_e);tt=Be.getFillColor(),Ke=this.scale*Be.getWidthOrDefault()}var Ze=new oe.Paint;Ze.color=tt,Ke!=null&&(Ze.strokeWidth=Ke),(He=this.featurePaintCache.getPaintForStyleRow(Be,_e))==null&&(this.featurePaintCache.setPaintForStyleRow(Be,_e,Ze),He=Ze)}return He},Object.defineProperty(je.prototype,"pointColor",{get:function(){return this.pointPaint.color},set:function(Be){this.pointPaint.color=Be},enumerable:!1,configurable:!0}),Object.defineProperty(je.prototype,"lineStrokeWidth",{get:function(){return this._lineStrokeWidth},set:function(Be){this._lineStrokeWidth=Be,this.linePaint.strokeWidth=this.scale*this.lineStrokeWidth},enumerable:!1,configurable:!0}),Object.defineProperty(je.prototype,"lineColor",{get:function(){return this.linePaint.color},set:function(Be){this.linePaint.color=Be},enumerable:!1,configurable:!0}),Object.defineProperty(je.prototype,"polygonStrokeWidth",{get:function(){return this._polygonStrokeWidth},set:function(Be){this._polygonStrokeWidth=Be,this.polygonPaint.strokeWidth=this.scale*Be},enumerable:!1,configurable:!0}),Object.defineProperty(je.prototype,"polygonColor",{get:function(){return this.polygonPaint.color},set:function(Be){this.polygonPaint.color=Be},enumerable:!1,configurable:!0}),Object.defineProperty(je.prototype,"polygonFillColor",{get:function(){return this.polygonFillPaint.color},set:function(Be){this.polygonFillPaint.color=Be},enumerable:!1,configurable:!0}),je.prototype.getFeatureCountXYZ=function(Be,_e,He){var tt=T.TileBoundingBoxUtils.getWebMercatorBoundingBoxFromXYZ(Be,_e,He);return tt=this.expandBoundingBox(tt,Ge.ProjectionConstants.EPSG_3857),this.featureDao.countWebMercatorBoundingBox(tt)},je.prototype.drawTile=function(Be,_e,He,tt){return tt===void 0&&(tt=null),M(this,void 0,void 0,(function(){return z(this,(function(Ke){return[2,this.draw3857Tile(Be,_e,He,tt)]}))}))},je.prototype.draw3857Tile=function(Be,_e,He,tt){return tt===void 0&&(tt=null),M(this,void 0,void 0,(function(){return z(this,(function(Ke){return this.featureDao.isIndexed()?[2,this.drawTileQueryIndex(Be,_e,He,Ge.ProjectionConstants.EPSG_3857,tt)]:[2,this.drawTileQueryAll(Be,_e,He,Ge.ProjectionConstants.EPSG_3857,tt)]}))}))},je.prototype.draw4326Tile=function(Be,_e,He,tt){return tt===void 0&&(tt=null),M(this,void 0,void 0,(function(){return z(this,(function(Ke){return this.featureDao.isIndexed()?[2,this.drawTileQueryIndex(Be,_e,He,Ge.ProjectionConstants.EPSG_4326,tt)]:[2,this.drawTileQueryAll(Be,_e,He,Ge.ProjectionConstants.EPSG_4326,tt)]}))}))},je.prototype.drawTileQueryAll=function(Be,_e,He,tt,Ke){return M(this,void 0,void 0,(function(){var Ze,Qe;return z(this,(function(vt){return Ze=tt===Ge.ProjectionConstants.EPSG_3857?T.TileBoundingBoxUtils.getWebMercatorBoundingBoxFromXYZ(Be,_e,He):T.TileBoundingBoxUtils.getWGS84BoundingBoxFromXYZ(Be,_e,He),Qe=this.featureDao.getCount(),this.maxFeaturesPerTile===null||Qe<=this.maxFeaturesPerTile?[2,this.drawTileWithBoundingBox(Ze,He,tt,Ke)]:this.maxFeaturesTileDraw!=null?[2,this.maxFeaturesTileDraw.drawUnindexedTile(this.tileWidth,this.tileHeight,Ke)]:[2]}))}))},je.prototype.getTransformFunction=function(Be){var _e=this,He=Le.Projection.getConverter(Be);return Le.Projection.convertersMatch(He,this.projection)?function(tt){return tt}:Le.Projection.isWebMercator(He)&&Le.Projection.isWGS84(this.projection)?function(tt){return Le.Projection.getConverterFromConverters(_e.projection,Be).forward([Math.max(Ge.ProjectionConstants.WEB_MERCATOR_MIN_LON_RANGE,Math.min(Ge.ProjectionConstants.WEB_MERCATOR_MAX_LON_RANGE,tt[0])),Math.max(Ge.ProjectionConstants.WEB_MERCATOR_MIN_LAT_RANGE,Math.min(Ge.ProjectionConstants.WEB_MERCATOR_MAX_LAT_RANGE,tt[1]))])}:Le.Projection.getConverterFromConverters(this.projection,Be).forward},je.prototype.drawTileQueryIndex=function(Be,_e,He,tt,Ke){return M(this,void 0,void 0,(function(){var Ze,Qe,vt,pt,ut,Mt,bt,ar,dt,yt,Gt,Bt,Dt,Ct,It,lr,Je,Ve,st;return z(this,(function(it){switch(it.label){case 0:return vt=!1,ut=tt===Ge.ProjectionConstants.EPSG_3857?T.TileBoundingBoxUtils.getWebMercatorBoundingBoxFromXYZ(Be,_e,He):T.TileBoundingBoxUtils.getWGS84BoundingBoxFromXYZ(Be,_e,He),Mt=this.expandBoundingBox(ut,tt),bt=this.tileWidth,ar=this.tileHeight,[4,fe.Canvas.initializeAdapter()];case 1:if(it.sent(),Ke!=null?(Qe=(Ze=Ke).getContext("2d")).clearRect(0,0,bt,ar):(Ze=fe.Canvas.create(bt,ar),Qe=Ze.getContext("2d"),vt=!0),!((dt=this.featureDao.countInBoundingBox(Mt,tt))>0))return[3,16];if(!(this.maxFeaturesPerTile==null||dt<=this.maxFeaturesPerTile))return[3,13];yt=this.getTransformFunction(tt),Gt=this.featureDao.fastQueryBoundingBox(Mt,tt),it.label=2;case 2:it.trys.push([2,9,10,11]),Bt=B(Gt),Dt=Bt.next(),it.label=3;case 3:if(Dt.done)return[3,8];if((Ct=Dt.value).geometry==null)return[3,7];It=null,this.cacheGeometries&&(It=this.geometryCache.getGeometry(Ct.id)),It==null&&(It=Ct.geometry.geometry.toGeoJSON(),this.geometryCache.setGeometry(Ct.id,It)),lr=this.getFeatureStyle(Ct),it.label=4;case 4:return it.trys.push([4,6,,7]),[4,this.drawGeometry(It,Qe,ut,lr,yt)];case 5:return it.sent(),[3,7];case 6:return it.sent(),b.error("Failed to draw feature in tile. Id: "+Ct.id+", Table: "+this.featureDao.table_name),[3,7];case 7:return Dt=Bt.next(),[3,3];case 8:return[3,11];case 9:return Je=it.sent(),Ve={error:Je},[3,11];case 10:try{Dt&&!Dt.done&&(st=Bt.return)&&st.call(Bt)}finally{if(Ve)throw Ve.error}return[7];case 11:return[4,fe.Canvas.toDataURL(Ze,"image/"+this.compressFormat)];case 12:return pt=it.sent(),[3,15];case 13:return this.maxFeaturesTileDraw==null?[3,15]:[4,this.maxFeaturesTileDraw.drawTile(bt,ar,dt.toString(),Ze)];case 14:pt=it.sent(),it.label=15;case 15:return[3,18];case 16:return[4,fe.Canvas.toDataURL(Ze,"image/"+this.compressFormat)];case 17:pt=it.sent(),it.label=18;case 18:return vt&&fe.Canvas.disposeCanvas(Ze),[2,pt]}}))}))},je.prototype.drawTileWithBoundingBox=function(Be,_e,He,tt){return M(this,void 0,void 0,(function(){var Ke,Ze,Qe,vt,pt,ut,Mt,bt,ar,dt,yt,Gt,Bt,Dt,Ct,It,lr,Je;return z(this,(function(Ve){switch(Ve.label){case 0:return Ke=this.tileWidth,Ze=this.tileHeight,vt=!1,[4,fe.Canvas.initializeAdapter()];case 1:Ve.sent(),tt!=null?Qe=tt:(Qe=fe.Canvas.create(Ke,Ze),vt=!0),(pt=Qe.getContext("2d")).clearRect(0,0,Ke,Ze),ut=this.featureDao,Mt=ut.queryForEach(void 0,void 0,void 0,void 0,void 0,[ut.table.getIdColumn().getName(),ut.table.getGeometryColumn().getName()]),bt=this.getTransformFunction(He),Ve.label=2;case 2:Ve.trys.push([2,9,10,11]),ar=B(Mt),dt=ar.next(),Ve.label=3;case 3:if(dt.done)return[3,8];if(yt=dt.value,(Gt=ut.getRow(yt)).geometry==null)return[3,7];if(Bt=null,this.cacheGeometries&&(Bt=this.geometryCache.getGeometryForFeatureRow(Gt)),Bt==null&&(Bt=Gt.geometry.geometry.toGeoJSON(),this.geometryCache.setGeometry(Gt.id,Bt)),Bt==null)return[3,7];Dt=this.getFeatureStyle(Gt),Ve.label=4;case 4:return Ve.trys.push([4,6,,7]),[4,this.drawGeometry(Bt,pt,Be,Dt,bt)];case 5:return Ve.sent(),[3,7];case 6:return Ve.sent(),b.error("Failed to draw feature in tile. Id: "+Gt.id+", Table: "+this.featureDao.table_name),[3,7];case 7:return dt=ar.next(),[3,3];case 8:return[3,11];case 9:return Ct=Ve.sent(),lr={error:Ct},[3,11];case 10:try{dt&&!dt.done&&(Je=ar.return)&&Je.call(ar)}finally{if(lr)throw lr.error}return[7];case 11:return[4,fe.Canvas.toDataURL(Qe,"image/"+this.compressFormat)];case 12:return It=Ve.sent(),vt&&fe.Canvas.disposeCanvas(Qe),[2,It]}}))}))},je.prototype.drawPoint=function(Be,_e,He,tt,Ke){return M(this,void 0,void 0,(function(){var Ze,Qe,vt,pt,ut,Mt,bt,ar,dt,yt,Gt,Bt,Dt,Ct;return z(this,(function(It){switch(It.label){case 0:return ut=Ke(Be.coordinates),Mt=T.TileBoundingBoxUtils.getXPixel(this.tileWidth,He,ut[0]),bt=T.TileBoundingBoxUtils.getYPixel(this.tileHeight,He,ut[1]),tt!=null&&tt.useIcon()?(ar=tt.icon,[4,this.iconCache.createIcon(ar)]):[3,2];case 1:return dt=It.sent(),Ze=Math.round(this.scale*dt.width),Qe=Math.round(this.scale*dt.height),Mt>=0-Ze&&Mt<=this.tileWidth+Ze&&bt>=0-Qe&&bt<=this.tileHeight+Qe&&(vt=Math.round(Mt-ar.anchorUOrDefault*Ze),pt=Math.round(bt-ar.anchorVOrDefault*Qe),_e.drawImage(dt.image,vt,pt,Ze,Qe)),[3,3];case 2:if(this.pointIcon!=null){if(Ze=Math.round(this.scale*this.pointIcon.getWidth()),Qe=Math.round(this.scale*this.pointIcon.getHeight()),Mt>=0-Ze&&Mt<=this.tileWidth+Ze&&bt>=0-Qe&&bt<=this.tileHeight+Qe){vt=Math.round(Mt-this.scale*this.pointIcon.getXOffset()),pt=Math.round(bt-this.scale*this.pointIcon.getYOffset());try{_e.drawImage(this.pointIcon.getIcon().image,vt,pt,Ze,Qe)}catch{}}}else _e.save(),yt=null,tt!=null&&(Gt=tt.style)!=null&&(yt=this.scale*(Gt.getWidthOrDefault()/2)),yt==null&&(yt=this.scale*this.pointRadius),Bt=this.getPointPaint(tt),Mt>=0-yt&&Mt<=this.tileWidth+yt&&bt>=0-yt&&bt<=this.tileHeight+yt&&(Dt=Math.round(Mt),Ct=Math.round(bt),_e.beginPath(),_e.arc(Dt,Ct,yt,0,2*Math.PI,!0),_e.closePath(),_e.fillStyle=Bt.colorRGBA,_e.fill()),_e.restore();It.label=3;case 3:return[2]}}))}))},je.prototype.simplifyPoints=function(Be,_e){return(0,A.default)(Be.map((function(He){return{x:He[0],y:He[1]}})),this.simplifyToleranceInPixels,!1).map((function(He){return[He.x,He.y]}))},je.prototype.getPath=function(Be,_e,He,tt,Ke){var Ze=this;tt===void 0&&(tt=!1);var Qe=Be.coordinates.map((function(ut){var Mt=Ke(ut.slice());return[T.TileBoundingBoxUtils.getXPixel(Ze.tileWidth,He,Mt[0]),T.TileBoundingBoxUtils.getYPixel(Ze.tileHeight,He,Mt[1])]})),vt=this.simplifyGeometries?this.simplifyPoints(Qe,tt):Qe;if(vt.length>1){_e.moveTo(vt[0][0],vt[0][1]);for(var pt=1;pt<vt.length;pt++)_e.lineTo(vt[pt][0],vt[pt][1])}},je.prototype.drawLine=function(Be,_e,He,tt,Ke){_e.save(),_e.beginPath();var Ze=this.getLinePaint(He);_e.strokeStyle=Ze.colorRGBA,_e.lineWidth=Ze.strokeWidth,this.getPath(Be,_e,tt,!1,Ke),_e.stroke(),_e.closePath(),_e.restore()},je.prototype.drawPolygon=function(Be,_e,He,tt,Ke,Ze,Qe){Qe===void 0&&(Qe=!0),He.save(),He.beginPath(),(0,O.default)(Be.coordinates)||(Be.coordinates=Be.coordinates.reverse()),this.getPath(Be,He,Ke,!0,Ze),He.closePath();for(var vt=0;vt<_e.length;vt++)(0,O.default)(_e[vt].coordinates)&&(_e[vt].coordinates=_e[vt].coordinates.reverse()),this.getPath(_e[vt],He,Ke,!0,Ze),He.closePath();var pt=this.getPolygonFillPaint(tt);Qe&&pt!==void 0&&pt!=null&&(He.fillStyle=pt.colorRGBA,He.fill());var ut=this.getPolygonPaint(tt);He.strokeStyle=ut.colorRGBA,He.lineWidth=ut.strokeWidth,He.stroke(),He.restore()},je.prototype.drawGeometry=function(Be,_e,He,tt,Ke){return M(this,void 0,void 0,(function(){var Ze,Qe,vt,pt,ut=this;return z(this,(function(Mt){switch(Mt.label){case 0:return Be.type!=="Point"?[3,2]:[4,this.drawPoint(Be,_e,He,tt,Ke)];case 1:return Mt.sent(),[3,19];case 2:return Be.type!=="LineString"?[3,3]:(this.drawLine(Be,_e,tt,He,Ke),[3,19]);case 3:return Be.type!=="Polygon"?[3,4]:((Qe=(0,I.default)(Be)).type==="Feature"?Qe.geometry.type==="LineString"?this.drawPolygon(Qe.geometry,[],_e,tt,He,Ke):Qe.geometry.type==="MultiLineString"&&(vt={type:"LineString",coordinates:Qe.geometry.coordinates[0]},pt=Qe.geometry.coordinates.slice(1).map((function(bt){return{type:"LineString",coordinates:bt}})),this.drawPolygon(vt,pt,_e,tt,He,Ke)):Qe.features.forEach((function(bt){if(bt.geometry.type==="LineString")ut.drawPolygon(bt.geometry,[],_e,tt,He,Ke);else if(bt.geometry.type==="MultiLineString"){var ar={type:"LineString",coordinates:bt.geometry.coordinates[0]},dt=bt.geometry.coordinates.slice(1).map((function(yt){return{type:"LineString",coordinates:yt}}));ut.drawPolygon(ar,dt,_e,tt,He,Ke)}})),[3,19]);case 4:if(Be.type!=="MultiPoint")return[3,9];Ze=0,Mt.label=5;case 5:return Ze<Be.coordinates.length?[4,this.drawPoint({type:"Point",coordinates:Be.coordinates[Ze]},_e,He,tt,Ke)]:[3,8];case 6:Mt.sent(),Mt.label=7;case 7:return Ze++,[3,5];case 8:return[3,19];case 9:if(Be.type!=="MultiLineString")return[3,10];for(Ze=0;Ze<Be.coordinates.length;Ze++)this.drawLine({type:"LineString",coordinates:Be.coordinates[Ze]},_e,tt,He,Ke);return[3,19];case 10:if(Be.type!=="MultiPolygon")return[3,15];Ze=0,Mt.label=11;case 11:return Ze<Be.coordinates.length?[4,this.drawGeometry({type:"Polygon",coordinates:Be.coordinates[Ze]},_e,He,tt,Ke)]:[3,14];case 12:Mt.sent(),Mt.label=13;case 13:return Ze++,[3,11];case 14:return[3,19];case 15:if(Be.type!=="GeometryCollection")return[3,19];Ze=0,Mt.label=16;case 16:return Ze<Be.geometries.length?[4,this.drawGeometry(Be.geometries[Ze],_e,He,tt,Ke)]:[3,19];case 17:Mt.sent(),Mt.label=18;case 18:return Ze++,[3,16];case 19:return[2]}}))}))},je.prototype.expandBoundingBox=function(Be,_e){var He=T.TileBoundingBoxUtils.getLongitudeFromPixel(this.tileWidth,Be,Be,0-this.widthOverlap),tt=T.TileBoundingBoxUtils.getLongitudeFromPixel(this.tileWidth,Be,Be,this.tileWidth+this.widthOverlap),Ke=T.TileBoundingBoxUtils.getLatitudeFromPixel(this.tileHeight,Be,Be,0-this.heightOverlap),Ze=T.TileBoundingBoxUtils.getLatitudeFromPixel(this.tileHeight,Be,Be,this.tileHeight+this.heightOverlap);return He=Math.min(He,Be.minLongitude),tt=Math.max(tt,Be.maxLongitude),Ze=Math.min(Ze,Be.minLatitude),Ke=Math.max(Ke,Be.maxLatitude),_e===Ge.ProjectionConstants.EPSG_3857?(He=Math.max(He,-1*Ge.ProjectionConstants.WEB_MERCATOR_HALF_WORLD_WIDTH),tt=Math.min(tt,Ge.ProjectionConstants.WEB_MERCATOR_HALF_WORLD_WIDTH),Ze=Math.max(Ze,-1*Ge.ProjectionConstants.WEB_MERCATOR_HALF_WORLD_WIDTH),Ke=Math.min(Ke,Ge.ProjectionConstants.WEB_MERCATOR_HALF_WORLD_WIDTH)):(He=Math.max(He,-1*Ge.ProjectionConstants.WGS84_HALF_WORLD_LON_WIDTH),tt=Math.min(tt,Ge.ProjectionConstants.WGS84_HALF_WORLD_LON_WIDTH),Ze=Math.max(Ze,-1*Ge.ProjectionConstants.WGS84_HALF_WORLD_LAT_HEIGHT),Ke=Math.min(Ke,Ge.ProjectionConstants.WGS84_HALF_WORLD_LAT_HEIGHT)),new U.BoundingBox(He,tt,Ze,Ke)},je})();x.FeatureTiles=ze},5211:(y,x)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.Paint=void 0;var r=(function(){function b(){this._color="#000000FF",this._strokeWidth=1}return Object.defineProperty(b.prototype,"color",{get:function(){return this._color},set:function(M){this._color=M},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"colorRGBA",{get:function(){var M=parseInt(this.color.substr(1,2),16),z=parseInt(this.color.substr(3,2),16),B=parseInt(this.color.substr(5,2),16),R=1;return this.color.length>7&&(R=parseInt(this.color.substr(7,2),16)/255),"rgba("+M+","+z+","+B+","+R+")"},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"strokeWidth",{get:function(){return this._strokeWidth},set:function(M){this._strokeWidth=M},enumerable:!1,configurable:!0}),b})();x.Paint=r},9325:function(y,x,r){var b=r(5108),M=this&&this.__awaiter||function(A,T,U,q){return new(U||(U=Promise))((function(K,J){function te(fe){try{ue(q.next(fe))}catch(Le){J(Le)}}function oe(fe){try{ue(q.throw(fe))}catch(Le){J(Le)}}function ue(fe){var Le;fe.done?K(fe.value):(Le=fe.value,Le instanceof U?Le:new U((function(Ge){Ge(Le)}))).then(te,oe)}ue((q=q.apply(A,T||[])).next())}))},z=this&&this.__generator||function(A,T){var U,q,K,J,te={label:0,sent:function(){if(1&K[0])throw K[1];return K[1]},trys:[],ops:[]};return J={next:oe(0),throw:oe(1),return:oe(2)},typeof Symbol=="function"&&(J[Symbol.iterator]=function(){return this}),J;function oe(ue){return function(fe){return(function(Le){if(U)throw new TypeError("Generator is already executing.");for(;J&&(J=0,Le[0]&&(te=0)),te;)try{if(U=1,q&&(K=2&Le[0]?q.return:Le[0]?q.throw||((K=q.return)&&K.call(q),0):q.next)&&!(K=K.call(q,Le[1])).done)return K;switch(q=0,K&&(Le=[2&Le[0],K.value]),Le[0]){case 0:case 1:K=Le;break;case 4:return te.label++,{value:Le[1],done:!1};case 5:te.label++,q=Le[1],Le=[0];continue;case 7:Le=te.ops.pop(),te.trys.pop();continue;default:if(!((K=(K=te.trys).length>0&&K[K.length-1])||Le[0]!==6&&Le[0]!==2)){te=0;continue}if(Le[0]===3&&(!K||Le[1]>K[0]&&Le[1]<K[3])){te.label=Le[1];break}if(Le[0]===6&&te.label<K[1]){te.label=K[1],K=Le;break}if(K&&te.label<K[2]){te.label=K[2],te.ops.push(Le);break}K[2]&&te.ops.pop(),te.trys.pop();continue}Le=T.call(A,te)}catch(Ge){Le=[6,Ge],q=0}finally{U=K=0}if(5&Le[0])throw Le[1];return{value:Le[0]?Le[1]:void 0,done:!0}})([ue,fe])}}},B=this&&this.__importDefault||function(A){return A&&A.__esModule?A:{default:A}};Object.defineProperty(x,"__esModule",{value:!0}),x.ImageUtils=void 0;var R=B(r(7935)),I=r(3437),O=(function(){function A(){}return A.getImageSize=function(T){return R.default.imageSize(T)},A.getImage=function(T,U){return U===void 0&&(U="image/png"),M(this,void 0,void 0,(function(){return z(this,(function(q){return[2,new Promise((function(K){I.Canvas.initializeAdapter().then((function(){I.Canvas.createImage(T,U).then((function(J){K(J)})).catch((function(J){b.error(J),K(null)}))})).catch((function(J){b.error(J),K(null)}))}))]}))}))},A.getScaledImage=function(T,U){return M(this,void 0,void 0,(function(){return z(this,(function(q){return[2,new Promise((function(K){A.getImage(T).then((function(J){U===1?K(J):I.Canvas.scaleImage(J,U).then((function(te){I.Canvas.disposeImage(J),K(te)})).catch((function(te){I.Canvas.disposeImage(J),b.error(te),K(null)}))})).catch((function(J){b.error(J),K(null)}))}))]}))}))},A.scaleImage=function(T,U,q){return M(this,void 0,void 0,(function(){return z(this,(function(K){return[2,new Promise((function(J){I.Canvas.scaleImageToDimensions(T,U,q).then((function(te){I.Canvas.disposeImage(T),J(te)})).catch((function(te){I.Canvas.disposeImage(T),b.error(te),J(null)}))}))]}))}))},A})();x.ImageUtils=O},1938:(y,x)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.TileMatrix=void 0;var r=(function(){function b(){}return Object.defineProperty(b.prototype,"contents",{set:function(M){M&&M.data_type==="tiles"&&(this.table_name=M.table_name)},enumerable:!1,configurable:!0}),b.TABLE_NAME="tableName",b.ZOOM_LEVEL="zoomLevel",b.MATRIX_WIDTH="matrixWidth",b.MATRIX_HEIGHT="matrixHeight",b.TILE_WIDTH="tileWidth",b.TILE_HEIGHT="tileHeight",b.PIXEL_X_SIZE="pixelXSize",b.PIXEL_Y_SIZE="pixelYSize",b})();x.TileMatrix=r},3506:function(y,x,r){var b,M=this&&this.__extends||(b=function(A,T){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(U,q){U.__proto__=q}||function(U,q){for(var K in q)Object.prototype.hasOwnProperty.call(q,K)&&(U[K]=q[K])},b(A,T)},function(A,T){if(typeof T!="function"&&T!==null)throw new TypeError("Class extends value "+String(T)+" is not a constructor or null");function U(){this.constructor=A}b(A,T),A.prototype=T===null?Object.create(T):(U.prototype=T.prototype,new U)});Object.defineProperty(x,"__esModule",{value:!0}),x.TileMatrixDao=void 0;var z=r(4115),B=r(1938),R=r(8877),I=r(8334),O=(function(A){function T(){var U=A!==null&&A.apply(this,arguments)||this;return U.gpkgTableName="gpkg_tile_matrix",U.idColumns=[T.COLUMN_PK1,T.COLUMN_PK2],U.columns=[T.COLUMN_TABLE_NAME,T.COLUMN_ZOOM_LEVEL,T.COLUMN_MATRIX_WIDTH,T.COLUMN_MATRIX_HEIGHT,T.COLUMN_TILE_WIDTH,T.COLUMN_TILE_HEIGHT,T.COLUMN_PIXEL_X_SIZE,T.COLUMN_PIXEL_Y_SIZE],U}return M(T,A),T.prototype.createObject=function(U){var q=new B.TileMatrix;return U&&(q.table_name=U.table_name,q.zoom_level=U.zoom_level,q.matrix_width=U.matrix_width,q.matrix_height=U.matrix_height,q.tile_width=U.tile_width,q.tile_height=U.tile_height,q.pixel_x_size=U.pixel_x_size,q.pixel_y_size=U.pixel_y_size),q},T.prototype.getContents=function(U){return this.geoPackage.contentsDao.queryForId(U.table_name)},T.prototype.getTileMatrixSet=function(U){return this.geoPackage.tileMatrixSetDao.queryForId(U.table_name)},T.prototype.tileCount=function(U){var q=this.buildWhereWithFieldAndValue(I.TileColumn.COLUMN_ZOOM_LEVEL,U.zoom_level),K=this.buildWhereArgs([U.zoom_level]),J=R.SqliteQueryBuilder.buildCount("'"+U.table_name+"'",q),te=this.connection.get(J,K);return te?.count},T.prototype.hasTiles=function(U){var q=this.buildWhereWithFieldAndValue(I.TileColumn.COLUMN_ZOOM_LEVEL,U.zoom_level),K=this.buildWhereArgs([U.zoom_level]),J=R.SqliteQueryBuilder.buildQuery(!1,"'"+U.table_name+"'",void 0,q);return this.connection.get(J,K)!=null},T.TABLE_NAME="gpkg_tile_matrix",T.COLUMN_PK1="table_name",T.COLUMN_PK2="zoom_level",T.COLUMN_TABLE_NAME="table_name",T.COLUMN_ZOOM_LEVEL="zoom_level",T.COLUMN_MATRIX_WIDTH="matrix_width",T.COLUMN_MATRIX_HEIGHT="matrix_height",T.COLUMN_TILE_WIDTH="tile_width",T.COLUMN_TILE_HEIGHT="tile_height",T.COLUMN_PIXEL_X_SIZE="pixel_x_size",T.COLUMN_PIXEL_Y_SIZE="pixel_y_size",T})(z.Dao);x.TileMatrixDao=O},5899:(y,x,r)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.TileMatrixSet=void 0;var b=r(2527),M=(function(){function z(){}return Object.defineProperty(z.prototype,"boundingBox",{get:function(){return new b.BoundingBox(this.min_x,this.max_x,this.min_y,this.max_y)},set:function(B){this.min_x=B.minLongitude,this.max_x=B.maxLongitude,this.min_y=B.minLatitude,this.max_y=B.maxLatitude},enumerable:!1,configurable:!0}),Object.defineProperty(z.prototype,"contents",{set:function(B){B&&B.data_type==="tiles"&&(this.table_name=B.table_name)},enumerable:!1,configurable:!0}),z.TABLE_NAME="tableName",z.MIN_X="minX",z.MIN_Y="minY",z.MAX_X="maxX",z.MAX_Y="maxY",z.SRS_ID="srsId",z})();x.TileMatrixSet=M},5925:function(y,x,r){var b,M=this&&this.__extends||(b=function(O,A){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,U){T.__proto__=U}||function(T,U){for(var q in U)Object.prototype.hasOwnProperty.call(U,q)&&(T[q]=U[q])},b(O,A)},function(O,A){if(typeof A!="function"&&A!==null)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");function T(){this.constructor=O}b(O,A),O.prototype=A===null?Object.create(A):(T.prototype=A.prototype,new T)}),z=this&&this.__values||function(O){var A=typeof Symbol=="function"&&Symbol.iterator,T=A&&O[A],U=0;if(T)return T.call(O);if(O&&typeof O.length=="number")return{next:function(){return O&&U>=O.length&&(O=void 0),{value:O&&O[U++],done:!O}}};throw new TypeError(A?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(x,"__esModule",{value:!0}),x.TileMatrixSetDao=void 0;var B=r(4115),R=r(5899),I=(function(O){function A(T){var U=O.call(this,T)||this;return U.gpkgTableName="gpkg_tile_matrix_set",U.idColumns=[A.COLUMN_PK],U.columns=[A.COLUMN_TABLE_NAME,A.COLUMN_SRS_ID,A.COLUMN_MIN_X,A.COLUMN_MIN_Y,A.COLUMN_MAX_X,A.COLUMN_MAX_Y],U.columnToPropertyMap={},U.columnToPropertyMap[A.COLUMN_TABLE_NAME]=R.TileMatrixSet.TABLE_NAME,U.columnToPropertyMap[A.COLUMN_SRS_ID]=R.TileMatrixSet.SRS_ID,U.columnToPropertyMap[A.COLUMN_MIN_X]=R.TileMatrixSet.MIN_X,U.columnToPropertyMap[A.COLUMN_MIN_Y]=R.TileMatrixSet.MIN_Y,U.columnToPropertyMap[A.COLUMN_MAX_X]=R.TileMatrixSet.MAX_X,U.columnToPropertyMap[A.COLUMN_MAX_Y]=R.TileMatrixSet.MAX_Y,U}return M(A,O),A.prototype.createObject=function(T){var U=new R.TileMatrixSet;return T&&(U.table_name=T.table_name,U.srs_id=T.srs_id,U.min_y=T.min_y,U.min_x=T.min_x,U.max_y=T.max_y,U.max_x=T.max_x),U},A.prototype.getTileTables=function(){var T,U,q=[];try{for(var K=z(this.connection.each("select "+A.COLUMN_TABLE_NAME+" from "+A.TABLE_NAME)),J=K.next();!J.done;J=K.next()){var te=J.value;q.push(te[A.COLUMN_TABLE_NAME])}}catch(oe){T={error:oe}}finally{try{J&&!J.done&&(U=K.return)&&U.call(K)}finally{if(T)throw T.error}}return q},A.prototype.getProjection=function(T){var U=this.getSrs(T);if(U)return this.geoPackage.spatialReferenceSystemDao.getProjection(U)},A.prototype.getSrs=function(T){return this.geoPackage.spatialReferenceSystemDao.queryForId(T.srs_id)},A.prototype.getContents=function(T){return this.geoPackage.contentsDao.queryForId(T.table_name)},A.TABLE_NAME="gpkg_tile_matrix_set",A.COLUMN_PK="table_name",A.COLUMN_TABLE_NAME="table_name",A.COLUMN_SRS_ID="srs_id",A.COLUMN_MIN_X="min_x",A.COLUMN_MIN_Y="min_y",A.COLUMN_MAX_X="max_x",A.COLUMN_MAX_Y="max_y",A})(B.Dao);x.TileMatrixSetDao=I},731:function(y,x,r){var b=this&&this.__awaiter||function(U,q,K,J){return new(K||(K=Promise))((function(te,oe){function ue(Ge){try{Le(J.next(Ge))}catch(ze){oe(ze)}}function fe(Ge){try{Le(J.throw(Ge))}catch(ze){oe(ze)}}function Le(Ge){var ze;Ge.done?te(Ge.value):(ze=Ge.value,ze instanceof K?ze:new K((function(je){je(ze)}))).then(ue,fe)}Le((J=J.apply(U,q||[])).next())}))},M=this&&this.__generator||function(U,q){var K,J,te,oe,ue={label:0,sent:function(){if(1&te[0])throw te[1];return te[1]},trys:[],ops:[]};return oe={next:fe(0),throw:fe(1),return:fe(2)},typeof Symbol=="function"&&(oe[Symbol.iterator]=function(){return this}),oe;function fe(Le){return function(Ge){return(function(ze){if(K)throw new TypeError("Generator is already executing.");for(;oe&&(oe=0,ze[0]&&(ue=0)),ue;)try{if(K=1,J&&(te=2&ze[0]?J.return:ze[0]?J.throw||((te=J.return)&&te.call(J),0):J.next)&&!(te=te.call(J,ze[1])).done)return te;switch(J=0,te&&(ze=[2&ze[0],te.value]),ze[0]){case 0:case 1:te=ze;break;case 4:return ue.label++,{value:ze[1],done:!1};case 5:ue.label++,J=ze[1],ze=[0];continue;case 7:ze=ue.ops.pop(),ue.trys.pop();continue;default:if(!((te=(te=ue.trys).length>0&&te[te.length-1])||ze[0]!==6&&ze[0]!==2)){ue=0;continue}if(ze[0]===3&&(!te||ze[1]>te[0]&&ze[1]<te[3])){ue.label=ze[1];break}if(ze[0]===6&&ue.label<te[1]){ue.label=te[1],te=ze;break}if(te&&ue.label<te[2]){ue.label=te[2],ue.ops.push(ze);break}te[2]&&ue.ops.pop(),ue.trys.pop();continue}ze=q.call(U,ue)}catch(je){ze=[6,je],J=0}finally{K=te=0}if(5&ze[0])throw ze[1];return{value:ze[0]?ze[1]:void 0,done:!0}})([Le,Ge])}}},z=this&&this.__values||function(U){var q=typeof Symbol=="function"&&Symbol.iterator,K=q&&U[q],J=0;if(K)return K.call(U);if(U&&typeof U.length=="number")return{next:function(){return U&&J>=U.length&&(U=void 0),{value:U&&U[J++],done:!U}}};throw new TypeError(q?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(x,"__esModule",{value:!0}),x.GeoPackageTileRetriever=void 0;var B=r(3684),R=r(7977),I=r(2777),O=r(5604),A=r(1375),T=(function(){function U(q,K,J){this.tileDao=q,this.tileDao.adjustTileMatrixLengths(),this.width=K,this.height=J,this.scaling=null}return U.prototype.setScaling=function(q){this.scaling=q},U.prototype.getWebMercatorBoundingBox=function(){return this.setWebMercatorBoundingBox==null&&(this.setWebMercatorBoundingBox=this.tileDao.tileMatrixSet.boundingBox.projectBoundingBox(this.tileDao.projection,A.ProjectionConstants.EPSG_3857)),this.setWebMercatorBoundingBox},U.prototype.hasTile=function(q,K,J){var te=!1;if(q>=0&&K>=0&&J>=0){var oe=B.TileBoundingBoxUtils.getWebMercatorBoundingBoxFromXYZ(q,K,J);te=this.hasTileForBoundingBox(oe,A.ProjectionConstants.EPSG_3857)}return te},U.prototype.hasTileForBoundingBox=function(q,K){for(var J=q.projectBoundingBox(K,this.tileDao.projection),te=this.getTileMatrices(J),oe=!1,ue=0;!oe&&ue<te.length;ue++){var fe=te[ue],Le=B.TileBoundingBoxUtils.getTileGridWithTotalBoundingBox(this.tileDao.tileMatrixSet.boundingBox,fe.matrix_width,fe.matrix_height,J);oe=this.tileDao.countByTileGrid(Le,fe.zoom_level)>0}return oe},U.prototype.getTile=function(q,K,J){return b(this,void 0,void 0,(function(){var te;return M(this,(function(oe){return te=B.TileBoundingBoxUtils.getWebMercatorBoundingBoxFromXYZ(q,K,J),[2,this.getTileWithBounds(te,A.ProjectionConstants.EPSG_3857)]}))}))},U.prototype.getWebMercatorTile=function(q,K,J){return b(this,void 0,void 0,(function(){var te;return M(this,(function(oe){return te=B.TileBoundingBoxUtils.getWebMercatorBoundingBoxFromXYZ(q,K,J),[2,this.getTileWithBounds(te,A.ProjectionConstants.EPSG_3857)]}))}))},U.prototype.drawTileIn=function(q,K,J,te){return b(this,void 0,void 0,(function(){var oe;return M(this,(function(ue){return oe=B.TileBoundingBoxUtils.getWebMercatorBoundingBoxFromXYZ(q,K,J),[2,this.getTileWithBounds(oe,A.ProjectionConstants.EPSG_3857,te)]}))}))},U.prototype.getTileWithWgs84Bounds=function(q,K){return b(this,void 0,void 0,(function(){var J;return M(this,(function(te){return J=q.projectBoundingBox(A.ProjectionConstants.EPSG_4326,A.ProjectionConstants.EPSG_3857),[2,this.getTileWithBounds(J,A.ProjectionConstants.EPSG_3857,K)]}))}))},U.prototype.getTileWithWgs84BoundsInProjection=function(q,K,J,te){return b(this,void 0,void 0,(function(){var oe;return M(this,(function(ue){return oe=q.projectBoundingBox(A.ProjectionConstants.EPSG_4326,J),[2,this.getTileWithBounds(oe,J,te)]}))}))},U.prototype.getTileWithBounds=function(q,K,J){return b(this,void 0,void 0,(function(){var te,oe,ue,fe,Le,Ge,ze,je,Be,_e,He,tt,Ke,Ze,Qe,vt,pt,ut,Mt,bt,ar;return M(this,(function(dt){switch(dt.label){case 0:if((te=O.Projection.hasProjection(K))==null)throw new Error("Projection "+K+" is not loaded.");oe=q.projectBoundingBox(K,this.tileDao.projection),ue=this.getTileMatrices(oe),fe=!1,Le=null,Ge=0,dt.label=1;case 1:return!fe&&Ge<ue.length?(ze=ue[Ge],je=ze.tile_width,Be=ze.tile_height,[4,R.TileCreator.create(this.width||je,this.height||Be,ze,this.tileDao.tileMatrixSet,q,this.tileDao.srs,K,te,J)]):[3,12];case 2:_e=dt.sent(),He=this.retrieveTileResults(oe,ze),dt.label=3;case 3:dt.trys.push([3,8,9,10]),bt=void 0,tt=z(He),Ke=tt.next(),dt.label=4;case 4:return Ke.done?[3,7]:(Ze=Ke.value,Qe=B.TileBoundingBoxUtils.getTileBoundingBox(this.tileDao.tileMatrixSet.boundingBox,ze,Ze.tileColumn,Ze.row),(vt=B.TileBoundingBoxUtils.intersection(oe,Qe))==null?[3,6]:(pt=B.TileBoundingBoxUtils.getFloatRoundedRectangle(ze.tile_width,ze.tile_height,Qe,vt),ut=B.TileBoundingBoxUtils.getFloatRoundedRectangle(this.width,this.height,oe,vt),pt.isValid&&ut.isValid?[4,_e.addTile(Ze.tileData,Ze.tileColumn,Ze.row)]:[3,6]));case 5:dt.sent(),fe=!0,dt.label=6;case 6:return Ke=tt.next(),[3,4];case 7:return[3,10];case 8:return Mt=dt.sent(),bt={error:Mt},[3,10];case 9:try{Ke&&!Ke.done&&(ar=tt.return)&&ar.call(tt)}finally{if(bt)throw bt.error}return[7];case 10:!J&&fe&&(Le=_e.getCompleteTile()),_e.cleanup(),dt.label=11;case 11:return Ge++,[3,1];case 12:return[2,Le]}}))}))},U.prototype.retrieveTileResults=function(q,K){if(K){var J=B.TileBoundingBoxUtils.getTileGridWithTotalBoundingBox(this.tileDao.tileMatrixSet.boundingBox,K.matrix_width,K.matrix_height,q);return this.tileDao.queryByTileGrid(J,K.zoom_level)}},U.prototype.getTileMatrices=function(q){var K=this,J=[];if(this.tileDao.tileMatrices.length!==0&&B.TileBoundingBoxUtils.intersects(q,this.tileDao.tileMatrixSet.boundingBox)){var te,oe=q.maxLongitude-q.minLongitude,ue=q.maxLatitude-q.minLatitude;if((te=this.scaling!=null?this.tileDao.getApproximateZoomLevelForWidthAndHeight(oe,ue):this.tileDao.getZoomLevelForWidthAndHeight(oe,ue))!=null){var fe=[];if(this.scaling!=null&&this.scaling.scaling_type!=null){var Le=[];if(this.scaling.isZoomIn())for(var Ge=this.scaling.zoom_in!=null?te+this.scaling.zoom_in:this.tileDao.maxZoom,ze=te+1;ze<=Ge;ze++)Le.push(ze);var je=[];if(this.scaling.isZoomOut()){var Be=this.scaling.zoom_out!=null?te-this.scaling.zoom_out:this.tileDao.minZoom;for(ze=te-1;ze>=Be;ze--)je.push(ze)}if(Le.length==0)fe=je;else if(je.length==0)fe=Le;else{var _e=this.scaling.scaling_type;switch(_e){case I.TileScalingType.IN:case I.TileScalingType.IN_OUT:fe=Le.concat(je);break;case I.TileScalingType.OUT:case I.TileScalingType.OUT_IN:fe=je.concat(Le);break;case I.TileScalingType.CLOSEST_IN_OUT:case I.TileScalingType.CLOSEST_OUT_IN:var He=void 0,tt=void 0;_e==I.TileScalingType.CLOSEST_IN_OUT?(He=Le,tt=je):(He=je,tt=Le),fe=[];for(var Ke=Math.max(He.length,tt.length),Ze=0;Ze<Ke;Ze++)Ze<He.length&&fe.push(He[Ze]),Ze<tt.length&&fe.push(tt[Ze]);break;default:throw new Error("Unsupported TileScalingType: "+_e)}}}else fe=[];fe.unshift(te),fe.forEach((function(Qe){var vt=K.tileDao.getTileMatrixWithZoomLevel(Qe);vt!=null&&J.push(vt)}))}}return J},U})();x.GeoPackageTileRetriever=T},3684:(y,x,r)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.TileBoundingBoxUtils=void 0;var b=r(1375),M=r(7218),z=r(2527),B=(function(){function R(){}return R.webMercatorTileBox=function(I,O){var A=R.tilesPerSideWithZoom(O),T=R.tileSizeWithTilesPerSide(A),U=Math.max(-b.ProjectionConstants.WEB_MERCATOR_HALF_WORLD_WIDTH,I.minLongitude),q=Math.min(b.ProjectionConstants.WEB_MERCATOR_HALF_WORLD_WIDTH,I.maxLongitude),K=Math.max(-b.ProjectionConstants.WEB_MERCATOR_HALF_WORLD_WIDTH,I.minLatitude),J=Math.min(b.ProjectionConstants.WEB_MERCATOR_HALF_WORLD_WIDTH,I.maxLatitude),te=Math.floor((U+b.ProjectionConstants.WEB_MERCATOR_HALF_WORLD_WIDTH)/T),oe=Math.max(0,Math.ceil((q+b.ProjectionConstants.WEB_MERCATOR_HALF_WORLD_WIDTH)/T)-1),ue=Math.floor((b.ProjectionConstants.WEB_MERCATOR_HALF_WORLD_WIDTH-J)/T),fe=Math.max(0,Math.ceil((b.ProjectionConstants.WEB_MERCATOR_HALF_WORLD_WIDTH-K)/T)-1);return new z.BoundingBox(te,oe,ue,fe)},R.wgs84TileBox=function(I,O){var A=R.tilesPerWGS84LatSide(O),T=R.tilesPerWGS84LonSide(O),U=R.tileSizeLatPerWGS84Side(A),q=R.tileSizeLonPerWGS84Side(T),K=Math.max(-b.ProjectionConstants.WGS84_HALF_WORLD_LON_WIDTH,I.minLongitude),J=Math.min(b.ProjectionConstants.WGS84_HALF_WORLD_LON_WIDTH,I.maxLongitude),te=Math.max(-b.ProjectionConstants.WGS84_HALF_WORLD_LAT_HEIGHT,I.minLatitude),oe=Math.min(b.ProjectionConstants.WGS84_HALF_WORLD_LAT_HEIGHT,I.maxLatitude),ue=Math.floor((K+b.ProjectionConstants.WGS84_HALF_WORLD_LON_WIDTH)/q),fe=Math.max(0,Math.ceil((J+b.ProjectionConstants.WGS84_HALF_WORLD_LON_WIDTH)/q)-1),Le=Math.floor((b.ProjectionConstants.WGS84_HALF_WORLD_LAT_HEIGHT-oe)/U),Ge=Math.max(0,Math.ceil((b.ProjectionConstants.WGS84_HALF_WORLD_LAT_HEIGHT-te)/U)-1);return new z.BoundingBox(ue,fe,Le,Ge)},R.determinePositionAndScale=function(I,O,A,T,U,q){var K={},J=T.maxLongitude-T.minLongitude,te=(I.minLongitude-T.minLongitude)/J,oe=T.maxLatitude-T.minLatitude,ue=(T.maxLatitude-I.maxLatitude)/oe,fe=q/J,Le=(I.maxLongitude-I.minLongitude)*fe,Ge=U/oe,ze=(I.maxLatitude-I.minLatitude)*Ge;return K.yPositionInFinalTileStart=ue*U,K.xPositionInFinalTileStart=te*q,K.dx=K.xPositionInFinalTileStart,K.dy=K.yPositionInFinalTileStart,K.sx=0,K.sy=0,K.dWidth=Le,K.dHeight=ze,K.sWidth=A,K.sHeight=O,K},R.getWebMercatorBoundingBoxFromXYZ=function(I,O,A,T){for(var U=R.tilesPerSideWithZoom(A),q=R.tileSizeWithTilesPerSide(U);I<0;)I+=U;for(;I>=U;)I-=U;var K=0;if(T&&T.buffer&&T.tileSize){var J=T.buffer;K=q/T.tileSize*J}var te=-1*b.ProjectionConstants.WEB_MERCATOR_HALF_WORLD_WIDTH+I*q-K,oe=-1*b.ProjectionConstants.WEB_MERCATOR_HALF_WORLD_WIDTH+(I+1)*q+K,ue=b.ProjectionConstants.WEB_MERCATOR_HALF_WORLD_WIDTH-(O+1)*q-K,fe=b.ProjectionConstants.WEB_MERCATOR_HALF_WORLD_WIDTH-O*q+K;return te=Math.max(-1*b.ProjectionConstants.WEB_MERCATOR_HALF_WORLD_WIDTH,te),oe=Math.min(b.ProjectionConstants.WEB_MERCATOR_HALF_WORLD_WIDTH,oe),ue=Math.max(-1*b.ProjectionConstants.WEB_MERCATOR_HALF_WORLD_WIDTH,ue),fe=Math.min(b.ProjectionConstants.WEB_MERCATOR_HALF_WORLD_WIDTH,fe),new z.BoundingBox(te,oe,ue,fe)},R.getWGS84BoundingBoxFromXYZ=function(I,O,A){var T=R.tilesPerWGS84LatSide(A),U=R.tilesPerWGS84LonSide(A),q=R.tileSizeLatPerWGS84Side(T),K=R.tileSizeLonPerWGS84Side(U),J=-1*b.ProjectionConstants.WGS84_HALF_WORLD_LON_WIDTH+I*K,te=-1*b.ProjectionConstants.WGS84_HALF_WORLD_LON_WIDTH+(I+1)*K,oe=b.ProjectionConstants.WGS84_HALF_WORLD_LAT_HEIGHT-(O+1)*q,ue=b.ProjectionConstants.WGS84_HALF_WORLD_LAT_HEIGHT-O*q;return new z.BoundingBox(J,te,oe,ue)},R.tileSizeWithTilesPerSide=function(I){return 2*b.ProjectionConstants.WEB_MERCATOR_HALF_WORLD_WIDTH/I},R.intersects=function(I,O){return R.intersection(I,O)!=null},R.intersection=function(I,O){var A=Math.max(I.minLongitude,O.minLongitude),T=Math.max(I.minLatitude,O.minLatitude),U=Math.min(I.maxLongitude,O.maxLongitude),q=Math.min(I.maxLatitude,O.maxLatitude);return A>U||T>q?null:new z.BoundingBox(A,U,T,q)},R.tilesPerSideWithZoom=function(I){return 1<<I},R.tilesPerWGS84LatSide=function(I){return R.tilesPerSide(I)},R.tilesPerWGS84LonSide=function(I){return 2*R.tilesPerSide(I)},R.tileSizeLatPerWGS84Side=function(I){return 2*b.ProjectionConstants.WGS84_HALF_WORLD_LAT_HEIGHT/I},R.tileSizeLonPerWGS84Side=function(I){return 2*b.ProjectionConstants.WGS84_HALF_WORLD_LON_WIDTH/I},R.getTileGridWithTotalBoundingBox=function(I,O,A,T){var U=R.getTileColumnWithTotalBoundingBox(I,O,T.minLongitude),q=R.getTileColumnWithTotalBoundingBox(I,O,T.maxLongitude);U<O&&q>=0&&(U<0&&(U=0),q>=O&&(q=O-1));var K=R.getRowWithTotalBoundingBox(I,A,T.minLatitude),J=R.getRowWithTotalBoundingBox(I,A,T.maxLatitude);return J<A&&K>=0&&(J<0&&(J=0),K>=A&&(K=A-1)),new M.TileGrid(U,q,J,K)},R.getTileColumnWithTotalBoundingBox=function(I,O,A){var T=I.minLongitude,U=I.maxLongitude;return A<T?-1:A>=U?O:~~((A-T)/((U-T)/O))},R.getRowWithTotalBoundingBox=function(I,O,A){var T=I.minLatitude,U=I.maxLatitude;return A<T?O:A>=U?-1:~~((U-A)/((U-T)/O))},R.getTileBoundingBox=function(I,O,A,T){var U=O.matrix_width,q=O.matrix_height,K=new M.TileGrid(A,A,T,T),J=I.minLongitude,te=(I.maxLongitude-J)/U,oe=J+te*K.min_x,ue=oe+te*(K.max_x+1-K.min_x),fe=I.minLatitude,Le=I.maxLatitude,Ge=(Le-fe)/q,ze=Le-Ge*K.min_y,je=ze-Ge*(K.max_y+1-K.min_y);return new z.BoundingBox(oe,ue,je,ze)},R.getTileGridBoundingBox=function(I,O,A,T){var U=I.minLongitude,q=I.width/O,K=U+q*T.min_x,J=K+q*(T.max_x+1-T.min_x),te=I.maxLatitude,oe=I.height/A,ue=te-oe*T.min_y,fe=ue-oe*(T.max_y+1-T.min_y);return new z.BoundingBox(K,J,fe,ue)},R.getXPixel=function(I,O,A){return(A-O.minLongitude)/O.width*I},R.getLongitudeFromPixel=function(I,O,A,T){return T/I*A.width+O.minLongitude},R.getYPixel=function(I,O,A){return(O.maxLatitude-A)/O.height*I},R.getLatitudeFromPixel=function(I,O,A,T){return O.maxLatitude-T/I*A.height},R.tileSize=function(I){return 2*b.ProjectionConstants.WEB_MERCATOR_HALF_WORLD_WIDTH/I},R.zoomLevelOfTileSize=function(I){var O=2*b.ProjectionConstants.WEB_MERCATOR_HALF_WORLD_WIDTH/I;return Math.log(O)/Math.log(2)},R.tileWidthDegrees=function(I){return 360/I},R.prototype.statictileHeightDegrees=function(I){return 180/I},R.tilesPerSide=function(I){return Math.pow(2,I)},R.tileSizeWithZoom=function(I){var O=this.tilesPerSide(I);return this.tileSize(O)},R.toleranceDistance=function(I,O){return this.tileSizeWithZoom(I)/O},R.toleranceDistanceWidthAndHeight=function(I,O,A){return this.toleranceDistance(I,Math.max(O,A))},R.getFloatRoundedRectangle=function(I,O,A,T){var U=Math.round(R.getXPixel(I,A,T.minLongitude)),q=Math.round(R.getXPixel(I,A,T.maxLongitude)),K=Math.round(R.getYPixel(O,A,T.maxLatitude)),J=Math.round(R.getYPixel(O,A,T.minLatitude));return{left:U,right:q,bottom:J,top:K,isValid:U<q&&K<J}},R})();x.TileBoundingBoxUtils=B},7218:(y,x)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.TileGrid=void 0;var r=(function(){function b(M,z,B,R){this.min_x=M,this.max_x=z,this.min_y=B,this.max_y=R}return b.prototype.count=function(){return(this.max_x+1-this.min_x)*(this.max_y+1-this.min_y)},b.prototype.equals=function(M){return!!M&&this.min_x===M.min_x&&this.max_x===M.max_x&&this.min_y===M.min_y&&this.max_y===M.max_y},b})();x.TileGrid=r},8334:function(y,x,r){var b,M=this&&this.__extends||(b=function(O,A){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,U){T.__proto__=U}||function(T,U){for(var q in U)Object.prototype.hasOwnProperty.call(U,q)&&(T[q]=U[q])},b(O,A)},function(O,A){if(typeof A!="function"&&A!==null)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");function T(){this.constructor=O}b(O,A),O.prototype=A===null?Object.create(A):(T.prototype=A.prototype,new T)});Object.defineProperty(x,"__esModule",{value:!0}),x.TileColumn=void 0;var z=r(5865),B=r(7319),R=r(5071),I=(function(O){function A(T,U,q,K,J,te,oe,ue){return O.call(this,T,U,q,K,J,te,oe,ue)||this}return M(A,O),A.createIdColumn=function(T,U){return U===void 0&&(U=R.UserTableDefaults.DEFAULT_AUTOINCREMENT),new A(T,A.COLUMN_ID,B.GeoPackageDataType.INTEGER,null,!1,null,!0,U)},A.createZoomLevelColumn=function(T){return new A(T,A.COLUMN_ZOOM_LEVEL,B.GeoPackageDataType.INTEGER,null,!0,null,!1,!1)},A.createTileColumnColumn=function(T){return new A(T,A.COLUMN_TILE_COLUMN,B.GeoPackageDataType.INTEGER,null,!0,null,!1,!1)},A.createTileRowColumn=function(T){return new A(T,A.COLUMN_TILE_ROW,B.GeoPackageDataType.INTEGER,null,!0,null,!1,!1)},A.createTileDataColumn=function(T){return new A(T,A.COLUMN_TILE_DATA,B.GeoPackageDataType.BLOB,null,!0,null,!1,!1)},A.createColumn=function(T,U,q,K,J,te,oe){return K===void 0&&(K=!1),new A(T,U,q,te,K,J,!1,oe)},A.COLUMN_ID="id",A.COLUMN_ZOOM_LEVEL="zoom_level",A.COLUMN_TILE_COLUMN="tile_column",A.COLUMN_TILE_ROW="tile_row",A.COLUMN_TILE_DATA="tile_data",A})(z.UserColumn);x.TileColumn=I},6295:function(y,x,r){var b,M=this&&this.__extends||(b=function(R,I){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,A){O.__proto__=A}||function(O,A){for(var T in A)Object.prototype.hasOwnProperty.call(A,T)&&(O[T]=A[T])},b(R,I)},function(R,I){if(typeof I!="function"&&I!==null)throw new TypeError("Class extends value "+String(I)+" is not a constructor or null");function O(){this.constructor=R}b(R,I),R.prototype=I===null?Object.create(I):(O.prototype=I.prototype,new O)});Object.defineProperty(x,"__esModule",{value:!0}),x.TileColumns=void 0;var z=r(7319),B=(function(R){function I(O,A,T){var U=R.call(this,O,A,T)||this;return U.zoomLevelIndex=-1,U.tileColumnIndex=-1,U.tileRowIndex=-1,U.tileDataIndex=-1,U.updateColumns(),U}return M(I,R),I.prototype.copy=function(){var O=new I(this._tableName,this._columns,this._custom);return O.zoomLevelIndex=this.zoomLevelIndex,O.tileColumnIndex=this.tileColumnIndex,O.tileRowIndex=this.tileRowIndex,O.tileDataIndex=this.tileDataIndex,O},I.prototype.updateColumns=function(){R.prototype.updateColumns.call(this);var O=this.getColumnIndex(I.ZOOM_LEVEL,!1);this.isCustom()||this.missingCheck(O,I.ZOOM_LEVEL),O!==null&&(this.typeCheck(z.GeoPackageDataType.INTEGER,this.getColumnForIndex(O)),this.zoomLevelIndex=O);var A=this.getColumnIndex(I.TILE_COLUMN,!1);this.isCustom()||this.missingCheck(A,I.TILE_COLUMN),A!=null&&(this.typeCheck(z.GeoPackageDataType.INTEGER,this.getColumnForIndex(A)),this.tileColumnIndex=A);var T=this.getColumnIndex(I.TILE_ROW,!1);this.isCustom()||this.missingCheck(T,I.TILE_ROW),T!=null&&(this.typeCheck(z.GeoPackageDataType.INTEGER,this.getColumnForIndex(T)),this.tileRowIndex=T);var U=this.getColumnIndex(I.TILE_DATA,!1);this.isCustom()||this.missingCheck(U,I.TILE_DATA),U!=null&&(this.typeCheck(z.GeoPackageDataType.BLOB,this.getColumnForIndex(U)),this.tileDataIndex=U)},I.prototype.getZoomLevelIndex=function(){return this.zoomLevelIndex},I.prototype.setZoomLevelIndex=function(O){this.zoomLevelIndex=O},I.prototype.hasZoomLevelColumn=function(){return this.zoomLevelIndex>=0},I.prototype.getZoomLevelColumn=function(){var O=null;return this.hasZoomLevelColumn()&&(O=this.getColumnForIndex(this.zoomLevelIndex)),O},I.prototype.getTileColumnIndex=function(){return this.tileColumnIndex},I.prototype.setTileColumnIndex=function(O){this.tileColumnIndex=O},I.prototype.hasTileColumnColumn=function(){return this.tileColumnIndex>=0},I.prototype.getTileColumnColumn=function(){var O=null;return this.hasTileColumnColumn()&&(O=this.getColumnForIndex(this.tileColumnIndex)),O},I.prototype.getTileRowIndex=function(){return this.tileRowIndex},I.prototype.setTileRowIndex=function(O){this.tileRowIndex=O},I.prototype.hasTileRowColumn=function(){return this.tileRowIndex>=0},I.prototype.getTileRowColumn=function(){var O=null;return this.hasTileRowColumn()&&(O=this.getColumnForIndex(this.tileRowIndex)),O},I.prototype.getTileDataIndex=function(){return this.tileDataIndex},I.prototype.setTileDataIndex=function(O){this.tileDataIndex=O},I.prototype.hasTileDataColumn=function(){return this.tileDataIndex>=0},I.prototype.getTileDataColumn=function(){var O=null;return this.hasTileDataColumn()&&(O=this.getColumnForIndex(this.tileDataIndex)),O},I.ID="id",I.ZOOM_LEVEL="zoom_level",I.TILE_COLUMN="tile_column",I.TILE_ROW="tile_row",I.TILE_DATA="tile_data",I})(r(2114).UserColumns);x.TileColumns=B},1394:function(y,x,r){var b,M=this&&this.__extends||(b=function(fe,Le){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ge,ze){Ge.__proto__=ze}||function(Ge,ze){for(var je in ze)Object.prototype.hasOwnProperty.call(ze,je)&&(Ge[je]=ze[je])},b(fe,Le)},function(fe,Le){if(typeof Le!="function"&&Le!==null)throw new TypeError("Class extends value "+String(Le)+" is not a constructor or null");function Ge(){this.constructor=fe}b(fe,Le),fe.prototype=Le===null?Object.create(Le):(Ge.prototype=Le.prototype,new Ge)}),z=this&&this.__values||function(fe){var Le=typeof Symbol=="function"&&Symbol.iterator,Ge=Le&&fe[Le],ze=0;if(Ge)return Ge.call(fe);if(fe&&typeof fe.length=="number")return{next:function(){return fe&&ze>=fe.length&&(fe=void 0),{value:fe&&fe[ze++],done:!fe}}};throw new TypeError(Le?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(x,"__esModule",{value:!0}),x.TileDao=void 0;var B=r(4668),R=r(3506),I=r(5925),O=r(1332),A=r(8334),T=r(7218),U=r(8572),q=r(3684),K=r(2527),J=r(1584),te=r(5604),oe=r(1375),ue=(function(fe){function Le(Ge,ze,je,Be){var _e=fe.call(this,Ge,ze)||this;_e.tileMatrixSet=je,_e.tileMatrices=Be,_e.zoomLevelToTileMatrix=[],_e.widths=[],_e.heights=[],Be.length===0?(_e.minZoom=0,_e.maxZoom=0):(_e.minZoom=_e.tileMatrices[0].zoom_level,_e.maxZoom=_e.tileMatrices[_e.tileMatrices.length-1].zoom_level);for(var He=_e.tileMatrices.length-1;He>=0;He--){var tt=_e.tileMatrices[He];_e.zoomLevelToTileMatrix[tt.zoom_level]=tt}return _e.initialize(),_e}return M(Le,fe),Le.prototype.initialize=function(){var Ge=this.geoPackage.tileMatrixSetDao;this.srs=Ge.getSrs(this.tileMatrixSet),this.projection=[this.srs.organization.toUpperCase(),this.srs.organization_coordsys_id].join(":"),te.Projection.loadProjection(this.projection,this.srs.definition);for(var ze=this.tileMatrices.length-1;ze>=0;ze--){var je=this.tileMatrices[ze],Be=je.pixel_x_size*je.tile_width,_e=je.pixel_y_size*je.tile_height,He=te.Projection.getConverter(this.projection);He.to_meter&&(Be=He.to_meter*je.pixel_x_size*je.tile_width,_e=He.to_meter*je.pixel_y_size*je.tile_height),this.widths.push(Be),this.heights.push(_e)}this.setWebMapZoomLevels()},Le.prototype.webZoomToGeoPackageZoom=function(Ge){var ze=q.TileBoundingBoxUtils.getWebMercatorBoundingBoxFromXYZ(0,0,Ge);return this.determineGeoPackageZoomLevel(ze,Ge)},Le.prototype.setWebMapZoomLevels=function(){this.minWebMapZoom=20,this.maxWebMapZoom=0,this.webZoomToGeoPackageZooms={};for(var Ge=this.tileMatrixSet.max_x-this.tileMatrixSet.min_x,ze=this.tileMatrixSet.max_y-this.tileMatrixSet.min_y,je=0;je<this.tileMatrices.length;je++){var Be=this.tileMatrices[je],_e=Ge/Be.matrix_width,He=ze/Be.matrix_height,tt=new K.BoundingBox(this.tileMatrixSet.min_x,this.tileMatrixSet.min_x+_e,this.tileMatrixSet.min_y,this.tileMatrixSet.min_y+He),Ke=te.Projection.getConverter(this.projection,oe.ProjectionConstants.EPSG_4326),Ze=Ke.forward([tt.maxLongitude,tt.maxLatitude]),Qe=Ke.forward([tt.minLongitude,tt.minLatitude]),vt=Ze[0]-Qe[0],pt=Math.ceil(Math.log2(360/vt));this.minWebMapZoom>pt&&(this.minWebMapZoom=pt),this.maxWebMapZoom<pt&&(this.maxWebMapZoom=pt),this.webZoomToGeoPackageZooms[pt]=Be.zoom_level}},Le.prototype.determineGeoPackageZoomLevel=function(Ge,ze){return this.webZoomToGeoPackageZooms[ze]},Le.prototype.getBoundingBoxWithZoomLevel=function(Ge){var ze,je=this.getTileMatrixWithZoomLevel(Ge);if(je){var Be=this.queryForTileGridWithZoomLevel(Ge);if(Be){var _e=this.boundingBox;ze=q.TileBoundingBoxUtils.getTileGridBoundingBox(_e,je.matrix_width,je.matrix_height,Be)}}return ze},Object.defineProperty(Le.prototype,"boundingBox",{get:function(){return this.tileMatrixSet.boundingBox},enumerable:!1,configurable:!0}),Le.prototype.queryForTileGridWithZoomLevel=function(Ge){var ze,je=this.buildWhereWithFieldAndValue(A.TileColumn.COLUMN_ZOOM_LEVEL,Ge),Be=this.buildWhereArgs(Ge),_e=this.minOfColumn(A.TileColumn.COLUMN_TILE_COLUMN,je,Be),He=this.maxOfColumn(A.TileColumn.COLUMN_TILE_COLUMN,je,Be),tt=this.minOfColumn(A.TileColumn.COLUMN_TILE_ROW,je,Be),Ke=this.maxOfColumn(A.TileColumn.COLUMN_TILE_ROW,je,Be);return _e!=null&&tt!=null&&He!=null&&Ke!=null&&(ze=new T.TileGrid(_e,He,tt,Ke)),ze},Le.prototype.getTileGridWithZoomLevel=function(Ge){var ze,je=this.getTileMatrixWithZoomLevel(Ge);return je&&(ze=new T.TileGrid(0,~~je.matrix_width-1,0,~~je.matrix_height-1)),ze},Object.defineProperty(Le.prototype,"table",{get:function(){return this._table},enumerable:!1,configurable:!0}),Le.prototype.newRow=function(Ge,ze){return new O.TileRow(this.table,Ge,ze)},Le.prototype.adjustTileMatrixLengths=function(){for(var Ge=this.tileMatrixSet.max_x-this.tileMatrixSet.min_x,ze=this.tileMatrixSet.max_y-this.tileMatrixSet.min_y,je=0;je<this.tileMatrices.length;je++){var Be=this.tileMatrices[je],_e=~~(Ge/(Be.pixel_x_size*~~Be.tile_width)),He=~~(ze/(Be.pixel_y_size*~~Be.tile_height));_e>~~Be.matrix_width&&(Be.matrix_width=~~_e),He>~~Be.matrix_height&&(Be.matrix_height=~~He)}},Le.prototype.getTileMatrixWithZoomLevel=function(Ge){return this.zoomLevelToTileMatrix[Ge]},Le.prototype.getZoomLevelForLength=function(Ge){return J.TileDaoUtils.getZoomLevelForLength(this.widths,this.heights,this.tileMatrices,Ge)},Le.prototype.getZoomLevelForWidthAndHeight=function(Ge,ze){return J.TileDaoUtils.getZoomLevelForWidthAndHeight(this.widths,this.heights,this.tileMatrices,Ge,ze)},Le.prototype.getClosestZoomLevelForLength=function(Ge){return J.TileDaoUtils.getClosestZoomLevelForLength(this.widths,this.heights,this.tileMatrices,Ge)},Le.prototype.getClosestZoomLevelForWidthAndHeight=function(Ge,ze){return J.TileDaoUtils.getClosestZoomLevelForWidthAndHeight(this.widths,this.heights,this.tileMatrices,Ge,ze)},Le.prototype.getApproximateZoomLevelForLength=function(Ge){return J.TileDaoUtils.getApproximateZoomLevelForLength(this.widths,this.heights,this.tileMatrices,Ge)},Le.prototype.getApproximateZoomLevelForWidthAndHeight=function(Ge,ze){return J.TileDaoUtils.getApproximateZoomLevelForWidthAndHeight(this.widths,this.heights,this.tileMatrices,Ge,ze)},Le.prototype.getMaxLength=function(){return J.TileDaoUtils.getMaxLengthForTileWidthsAndHeights(this.widths,this.heights)},Le.prototype.getMinLength=function(){return J.TileDaoUtils.getMinLengthForTileWidthsAndHeights(this.widths,this.heights)},Le.prototype.queryForTile=function(Ge,ze,je){var Be,_e,He,tt=new U.ColumnValues;tt.addColumn(A.TileColumn.COLUMN_TILE_COLUMN,Ge),tt.addColumn(A.TileColumn.COLUMN_TILE_ROW,ze),tt.addColumn(A.TileColumn.COLUMN_ZOOM_LEVEL,je);try{for(var Ke=z(this.queryForFieldValues(tt)),Ze=Ke.next();!Ze.done;Ze=Ke.next()){var Qe=Ze.value;He=this.getRow(Qe)}}catch(vt){Be={error:vt}}finally{try{Ze&&!Ze.done&&(_e=Ke.return)&&_e.call(Ke)}finally{if(Be)throw Be.error}}return He},Le.prototype.queryForTilesWithZoomLevel=function(Ge){var ze,je=this,Be=this.queryForEach(A.TileColumn.COLUMN_ZOOM_LEVEL,Ge);return(ze={})[Symbol.iterator]=function(){return this},ze.next=function(){var _e=Be.next();return _e.done?{value:void 0,done:!0}:{value:je.getRow(_e.value),done:!1}},ze},Le.prototype.queryForTilesDescending=function(Ge){var ze,je=this,Be=this.queryForEach(A.TileColumn.COLUMN_ZOOM_LEVEL,Ge,void 0,void 0,A.TileColumn.COLUMN_TILE_COLUMN+" DESC, "+A.TileColumn.COLUMN_TILE_ROW+" DESC");return(ze={})[Symbol.iterator]=function(){return this},ze.next=function(){var _e=Be.next();return _e.done?{value:void 0,done:!0}:{value:je.getRow(_e.value),done:!1}},ze},Le.prototype.queryForTilesInColumn=function(Ge,ze){var je,Be=this,_e=new U.ColumnValues;_e.addColumn(A.TileColumn.COLUMN_TILE_COLUMN,Ge),_e.addColumn(A.TileColumn.COLUMN_ZOOM_LEVEL,ze);var He=this.queryForFieldValues(_e);return(je={})[Symbol.iterator]=function(){return this},je.next=function(){var tt=He.next();return tt.done?{value:void 0,done:!0}:{value:Be.getRow(tt.value),done:!1}},je},Le.prototype.queryForTilesInRow=function(Ge,ze){var je,Be=this,_e=new U.ColumnValues;_e.addColumn(A.TileColumn.COLUMN_TILE_ROW,Ge),_e.addColumn(A.TileColumn.COLUMN_ZOOM_LEVEL,ze);var He=this.queryForFieldValues(_e);return(je={})[Symbol.iterator]=function(){return this},je.next=function(){var tt=He.next();return tt.done?{value:void 0,done:!0}:{value:Be.getRow(tt.value),done:!1}},je},Le.prototype.queryByTileGrid=function(Ge,ze){var je,Be=this;if(Ge){var _e="";_e+=this.buildWhereWithFieldAndValue(A.TileColumn.COLUMN_ZOOM_LEVEL,ze),_e+=" and ",_e+=this.buildWhereWithFieldAndValue(A.TileColumn.COLUMN_TILE_COLUMN,Ge.min_x,">="),_e+=" and ",_e+=this.buildWhereWithFieldAndValue(A.TileColumn.COLUMN_TILE_COLUMN,Ge.max_x,"<="),_e+=" and ",_e+=this.buildWhereWithFieldAndValue(A.TileColumn.COLUMN_TILE_ROW,Ge.min_y,">="),_e+=" and ",_e+=this.buildWhereWithFieldAndValue(A.TileColumn.COLUMN_TILE_ROW,Ge.max_y,"<=");var He=this.buildWhereArgs([ze,Ge.min_x,Ge.max_x,Ge.min_y,Ge.max_y]),tt=this.queryWhereWithArgsDistinct(_e,He);return(je={})[Symbol.iterator]=function(){return this},je.next=function(){var Ke=tt.next();return Ke.done?{value:void 0,done:!0}:{value:Be.getRow(Ke.value),done:!1}},je}},Le.prototype.countByTileGrid=function(Ge,ze){if(Ge){var je="";je+=this.buildWhereWithFieldAndValue(A.TileColumn.COLUMN_ZOOM_LEVEL,ze),je+=" and ",je+=this.buildWhereWithFieldAndValue(A.TileColumn.COLUMN_TILE_COLUMN,Ge.min_x,">="),je+=" and ",je+=this.buildWhereWithFieldAndValue(A.TileColumn.COLUMN_TILE_COLUMN,Ge.max_x,"<="),je+=" and ",je+=this.buildWhereWithFieldAndValue(A.TileColumn.COLUMN_TILE_ROW,Ge.min_y,">="),je+=" and ",je+=this.buildWhereWithFieldAndValue(A.TileColumn.COLUMN_TILE_ROW,Ge.max_y,"<=");var Be=this.buildWhereArgs([ze,Ge.min_x,Ge.max_x,Ge.min_y,Ge.max_y]);return this.countWhere(je,Be)}},Le.prototype.deleteTile=function(Ge,ze,je){var Be="";Be+=this.buildWhereWithFieldAndValue(A.TileColumn.COLUMN_ZOOM_LEVEL,je),Be+=" and ",Be+=this.buildWhereWithFieldAndValue(A.TileColumn.COLUMN_TILE_COLUMN,Ge),Be+=" and ",Be+=this.buildWhereWithFieldAndValue(A.TileColumn.COLUMN_TILE_ROW,ze);var _e=this.buildWhereArgs([je,Ge,ze]);return this.deleteWhere(Be,_e)},Le.prototype.dropTable=function(){var Ge=this.geoPackage.tileMatrixDao,ze=B.UserDao.prototype.dropTable.call(this);this.geoPackage.tileMatrixSetDao.delete(this.tileMatrixSet);for(var je=this.tileMatrices.length-1;je>=0;je--){var Be=this.tileMatrices[je];Ge.delete(Be)}return this.geoPackage.contentsDao.deleteById(this.gpkgTableName),ze},Le.prototype.rename=function(Ge){fe.prototype.rename.call(this,Ge);var ze=this.tileMatrixSet.table_name,je={};je[I.TileMatrixSetDao.COLUMN_TABLE_NAME]=Ge;var Be=this.buildWhereWithFieldAndValue(I.TileMatrixSetDao.COLUMN_TABLE_NAME,ze),_e=this.buildWhereArgs([ze]),He=this.geoPackage.contentsDao,tt=He.queryForId(ze);tt.table_name=Ge,tt.identifier=Ge,He.create(tt),this.geoPackage.tileMatrixSetDao.updateWithValues(je,Be,_e);var Ke=this.geoPackage.tileMatrixDao,Ze={};Ze[R.TileMatrixDao.COLUMN_TABLE_NAME]=Ge;var Qe=this.buildWhereWithFieldAndValue(R.TileMatrixDao.COLUMN_TABLE_NAME,ze);Ke.updateWithValues(Ze,Qe,_e),He.deleteById(ze)},Le.readTable=function(Ge,ze){return Ge.getTileDao(ze)},Le})(B.UserDao);x.TileDao=ue},1584:function(y,x,r){var b=this&&this.__importDefault||function(R){return R&&R.__esModule?R:{default:R}};Object.defineProperty(x,"__esModule",{value:!0}),x.TileDaoUtils=void 0;var M=b(r(5871)),z=b(r(1159)),B=(function(){function R(){}return R.adjustTileMatrixLengths=function(I,O){var A=I.max_x-I.min_x,T=I.max_y-I.min_y;O.forEach((function(U){var q=Math.floor(A/(U.pixel_x_size*U.tile_width)),K=Math.floor(T/(U.pixel_y_size*U.tile_height));q>U.matrix_width&&(U.matrix_width=q),K>U.matrix_height&&(U.matrix_height=K)}))},R.getZoomLevelForLength=function(I,O,A,T){return R._getZoomLevelForLength(I,O,A,T,!0)},R.getZoomLevelForWidthAndHeight=function(I,O,A,T,U){return R._getZoomLevelForWidthAndHeight(I,O,A,T,U,!0)},R.getClosestZoomLevelForLength=function(I,O,A,T){return R._getZoomLevelForLength(I,O,A,T,!1)},R.getClosestZoomLevelForWidthAndHeight=function(I,O,A,T,U){return R._getZoomLevelForWidthAndHeight(I,O,A,T,U,!1)},R._getZoomLevelForLength=function(I,O,A,T,U){return R._getZoomLevelForWidthAndHeight(I,O,A,T,T,U)},R._getZoomLevelForWidthAndHeight=function(I,O,A,T,U,q){var K=null,J=(0,M.default)(I,T);J===-1&&(J=(0,z.default)(I,T)),J<0&&(J=-1*(J+1));var te=(0,M.default)(O,U);if(te===-1&&(te=(0,z.default)(O,U)),te<0&&(te=-1*(te+1)),J==0?q&&T<R.getMinLength(I)&&(J=-1):J==I.length?q&&T>=R.getMaxLength(I)?J=-1:--J:R.closerToZoomIn(I,T,J)&&--J,te==0?q&&U<R.getMinLength(O)&&(te=-1):te==O.length?q&&U>=R.getMaxLength(O)?te=-1:--te:R.closerToZoomIn(O,U,te)&&--te,J>=0||te>=0){var oe;oe=J<0?te:te<0?J:Math.min(J,te),K=R.getTileMatrixAtLengthIndex(A,oe).zoom_level}return K},R.closerToZoomIn=function(I,O,A){return Math.log(O/I[A-1])/Math.log(2)<Math.log(O/I[A])/Math.log(.5)},R.getTileMatrixAtLengthIndex=function(I,O){return I[I.length-O-1]},R.getApproximateZoomLevelForLength=function(I,O,A,T){return R.getApproximateZoomLevelForWidthAndHeight(I,O,A,T,T)},R.getApproximateZoomLevelForWidthAndHeight=function(I,O,A,T,U){var q=R.getApproximateZoomLevel(I,A,T),K=R.getApproximateZoomLevel(O,A,U);return q==null?K:K==null?q:Math.max(q,K)},R.getApproximateZoomLevel=function(I,O,A){var T,U=I[0],q=I[I.length-1];if(A<U){var K=Math.log(A/U)/Math.log(.5),J=Math.floor(K),te=Math.ceil(K),oe=U*Math.pow(.5,J),ue=U*Math.pow(.5,te);T=O[O.length-1].zoom_level,T+=oe-A<=A-ue?J:te}else if(A>q){var fe=Math.log(A/q)/Math.log(2);J=Math.ceil(fe),te=Math.floor(fe),oe=q*Math.pow(2,J),ue=q*Math.pow(2,te),T=O[0].zoom_level,T-=A-ue<=oe-A?te:J}else{var Le=(0,M.default)(I,A);Le<0&&(Le=-1*(Le+1));var Ge=Math.log(A/I[Le])/Math.log(.5),ze=R.getTileMatrixAtLengthIndex(O,Le).zoom_level;T=ze+=Math.round(Ge)}return T},R.getMaxLengthForTileWidthsAndHeights=function(I,O){var A=R.getMaxLength(I),T=R.getMaxLength(O);return Math.min(A,T)},R.getMinLengthForTileWidthsAndHeights=function(I,O){var A=R.getMinLength(I),T=R.getMinLength(O);return Math.max(A,T)},R.getMaxLength=function(I){return I[I.length-1]/.51},R.getMinLength=function(I){return .51*I[0]},R})();x.TileDaoUtils=B},1332:function(y,x,r){var b,M=this&&this.__extends||(b=function(B,R){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,O){I.__proto__=O}||function(I,O){for(var A in O)Object.prototype.hasOwnProperty.call(O,A)&&(I[A]=O[A])},b(B,R)},function(B,R){if(typeof R!="function"&&R!==null)throw new TypeError("Class extends value "+String(R)+" is not a constructor or null");function I(){this.constructor=B}b(B,R),B.prototype=R===null?Object.create(R):(I.prototype=R.prototype,new I)});Object.defineProperty(x,"__esModule",{value:!0}),x.TileRow=void 0;var z=(function(B){function R(I,O,A){var T=B.call(this,I,O,A)||this;return T.tileTable=I,T}return M(R,B),Object.defineProperty(R.prototype,"zoomLevelColumnIndex",{get:function(){return this.tileTable.getZoomLevelColumnIndex()},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"zoomLevelColumn",{get:function(){return this.tileTable.getZoomLevelColumn()},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"zoomLevel",{get:function(){return this.getValueWithColumnName(this.zoomLevelColumn.name)},set:function(I){this.setValueWithIndex(this.zoomLevelColumnIndex,I)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"tileColumnColumnIndex",{get:function(){return this.tileTable.getTileColumnColumnIndex()},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"tileColumnColumn",{get:function(){return this.tileTable.getTileColumnColumn()},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"tileColumn",{get:function(){return this.getValueWithColumnName(this.tileColumnColumn.name)},set:function(I){this.setValueWithColumnName(this.tileColumnColumn.name,I)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"rowColumnIndex",{get:function(){return this.tileTable.getTileRowColumnIndex()},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"rowColumn",{get:function(){return this.tileTable.getTileRowColumn()},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"row",{get:function(){return this.getValueWithColumnName(this.rowColumn.name)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"tileRow",{set:function(I){this.setValueWithColumnName(this.rowColumn.name,I)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"tileDataColumnIndex",{get:function(){return this.tileTable.getTileDataColumnIndex()},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"tileDataColumn",{get:function(){return this.tileTable.getTileDataColumn()},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"tileData",{get:function(){return this.getValueWithColumnName(this.tileDataColumn.name)},set:function(I){this.setValueWithColumnName(this.tileDataColumn.name,I)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"tileDataImage",{get:function(){return null},enumerable:!1,configurable:!0}),R})(r(2224).UserRow);x.TileRow=z},8704:function(y,x,r){var b,M=this&&this.__extends||(b=function(T,U){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(q,K){q.__proto__=K}||function(q,K){for(var J in K)Object.prototype.hasOwnProperty.call(K,J)&&(q[J]=K[J])},b(T,U)},function(T,U){if(typeof U!="function"&&U!==null)throw new TypeError("Class extends value "+String(U)+" is not a constructor or null");function q(){this.constructor=T}b(T,U),T.prototype=U===null?Object.create(U):(q.prototype=U.prototype,new q)});Object.defineProperty(x,"__esModule",{value:!0}),x.TileTable=void 0;var z=r(8018),B=r(8334),R=r(6295),I=r(1648),O=r(9971),A=(function(T){function U(q,K){var J=T.call(this,new R.TileColumns(q,K,!1))||this,te=new I.UniqueConstraint;return te.add(J.getUserColumns().getZoomLevelColumn()),te.add(J.getUserColumns().getTileColumnColumn()),te.add(J.getUserColumns().getTileRowColumn()),J.addConstraint(te),J}return M(U,T),U.prototype.copy=function(){return new U(this.getTableName(),this.columns._columns)},U.prototype.getDataType=function(){return O.ContentsDataType.TILES},U.prototype.getUserColumns=function(){return T.prototype.getUserColumns.call(this)},U.prototype.createUserColumns=function(q){return new R.TileColumns(this.getTableName(),q,!0)},U.prototype.getZoomLevelColumnIndex=function(){return this.getUserColumns().getZoomLevelIndex()},U.prototype.getZoomLevelColumn=function(){return this.getUserColumns().getZoomLevelColumn()},U.prototype.getTileColumnColumnIndex=function(){return this.getUserColumns().getTileColumnIndex()},U.prototype.getTileColumnColumn=function(){return this.getUserColumns().getTileColumnColumn()},U.prototype.getTileRowColumnIndex=function(){return this.getUserColumns().getTileRowIndex()},U.prototype.getTileRowColumn=function(){return this.getUserColumns().getTileRowColumn()},U.prototype.getTileDataColumnIndex=function(){return this.getUserColumns().getTileDataIndex()},U.prototype.getTileDataColumn=function(){return this.getUserColumns().getTileDataColumn()},U.createRequiredColumns=function(q){q===void 0&&(q=0);var K=[];return K.push(B.TileColumn.createIdColumn(q++)),K.push(B.TileColumn.createZoomLevelColumn(q++)),K.push(B.TileColumn.createTileColumnColumn(q++)),K.push(B.TileColumn.createTileRowColumn(q++)),K.push(B.TileColumn.createTileDataColumn(q)),K},U.prototype.validateContents=function(q){var K=q.data_type;if(K==null||K!==O.ContentsDataType.TILES)throw new Error("The Contents of a TileTable must have a data type of tiles")},U.COLUMN_ID=R.TileColumns.ID,U.COLUMN_ZOOM_LEVEL=R.TileColumns.ZOOM_LEVEL,U.COLUMN_TILE_COLUMN=R.TileColumns.TILE_COLUMN,U.COLUMN_TILE_ROW=R.TileColumns.TILE_ROW,U.COLUMN_TILE_DATA=R.TileColumns.TILE_DATA,U})(z.UserTable);x.TileTable=A},9631:function(y,x,r){var b,M=this&&this.__extends||(b=function(O,A){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,U){T.__proto__=U}||function(T,U){for(var q in U)Object.prototype.hasOwnProperty.call(U,q)&&(T[q]=U[q])},b(O,A)},function(O,A){if(typeof A!="function"&&A!==null)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");function T(){this.constructor=O}b(O,A),O.prototype=A===null?Object.create(A):(T.prototype=A.prototype,new T)});Object.defineProperty(x,"__esModule",{value:!0}),x.TileTableReader=void 0;var z=r(4880),B=r(8704),R=r(8334),I=(function(O){function A(T){var U=O.call(this,T.table_name)||this;return U.tileMatrixSet=T,U}return M(A,O),A.prototype.readTileTable=function(T){return this.readTable(T.database)},A.prototype.createTable=function(T,U){return new B.TileTable(T,U)},A.prototype.createColumn=function(T){return new R.TileColumn(T.index,T.name,T.dataType,T.max,T.notNull,T.defaultValue,T.primaryKey,T.autoincrement)},A})(z.UserTableReader);x.TileTableReader=I},5762:function(y,x,r){var b,M=this&&this.__extends||(b=function(O,A){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,U){T.__proto__=U}||function(T,U){for(var q in U)Object.prototype.hasOwnProperty.call(U,q)&&(T[q]=U[q])},b(O,A)},function(O,A){if(typeof A!="function"&&A!==null)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");function T(){this.constructor=O}b(O,A),O.prototype=A===null?Object.create(A):(T.prototype=A.prototype,new T)});Object.defineProperty(x,"__esModule",{value:!0}),x.UserCustomColumn=void 0;var z=r(5865),B=r(7319),R=r(5071),I=(function(O){function A(T,U,q,K,J,te,oe,ue){var fe=O.call(this,T,U,q,K,J,te,oe,ue)||this;if(q==null)throw new Error("Data type is required to create column: "+U);return fe}return M(A,O),A.createColumn=function(T,U,q,K,J,te,oe){return K===void 0&&(K=!1),new A(T,U,q,te,K,J,!1,oe)},A.createPrimaryKeyColumn=function(T,U,q){return q===void 0&&(q=R.UserTableDefaults.DEFAULT_AUTOINCREMENT),new A(T,U,B.GeoPackageDataType.INTEGER,void 0,void 0,void 0,!0,q)},A})(z.UserColumn);x.UserCustomColumn=I},496:function(y,x,r){var b,M=this&&this.__extends||(b=function(B,R){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,O){I.__proto__=O}||function(I,O){for(var A in O)Object.prototype.hasOwnProperty.call(O,A)&&(I[A]=O[A])},b(B,R)},function(B,R){if(typeof R!="function"&&R!==null)throw new TypeError("Class extends value "+String(R)+" is not a constructor or null");function I(){this.constructor=B}b(B,R),B.prototype=R===null?Object.create(R):(I.prototype=R.prototype,new I)});Object.defineProperty(x,"__esModule",{value:!0}),x.UserCustomColumns=void 0;var z=(function(B){function R(I,O,A,T){var U=B.call(this,I,O,T)||this;return U.requiredColumns=A==null?[]:A.slice(),U.updateColumns(),U}return M(R,B),R.prototype.copy=function(){return new R(this.getTableName(),this.getColumns(),this.getRequiredColumns(),this.isCustom())},R.prototype.getRequiredColumns=function(){return this.requiredColumns},R.prototype.setRequiredColumns=function(I){I===void 0&&(I=[]),this.requiredColumns=I.slice()},R.prototype.updateColumns=function(){var I=this;if(B.prototype.updateColumns.call(this),!this.isCustom()&&this.requiredColumns!==null&&this.requiredColumns.length!==0){var O=new Set(this.requiredColumns),A={};this.getColumns().forEach((function(T){var U=T.getName(),q=T.getIndex();if(O.has(U)){var K=A[U];I.duplicateCheck(q,K,U),A[U]=q}})),O.forEach((function(T){I.missingCheck(A[T],T)}))}},R})(r(2114).UserColumns);x.UserCustomColumns=z},1447:function(y,x,r){var b,M=this&&this.__extends||(b=function(I,O){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,T){A.__proto__=T}||function(A,T){for(var U in T)Object.prototype.hasOwnProperty.call(T,U)&&(A[U]=T[U])},b(I,O)},function(I,O){if(typeof O!="function"&&O!==null)throw new TypeError("Class extends value "+String(O)+" is not a constructor or null");function A(){this.constructor=I}b(I,O),I.prototype=O===null?Object.create(O):(A.prototype=O.prototype,new A)});Object.defineProperty(x,"__esModule",{value:!0}),x.UserCustomDao=void 0;var z=r(4668),B=r(362),R=(function(I){function O(A,T){return I.call(this,A,T)||this}return M(O,I),O.prototype.createObject=function(A){return this.getRow(A)},O.readTable=function(A,T){return new O(A,new B.UserCustomTableReader(T).readTable(A.database))},O})(z.UserDao);x.UserCustomDao=R},2378:function(y,x,r){var b,M=this&&this.__extends||(b=function(I,O){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,T){A.__proto__=T}||function(A,T){for(var U in T)Object.prototype.hasOwnProperty.call(T,U)&&(A[U]=T[U])},b(I,O)},function(I,O){if(typeof O!="function"&&O!==null)throw new TypeError("Class extends value "+String(O)+" is not a constructor or null");function A(){this.constructor=I}b(I,O),I.prototype=O===null?Object.create(O):(A.prototype=O.prototype,new A)});Object.defineProperty(x,"__esModule",{value:!0}),x.UserCustomTable=void 0;var z=r(8018),B=r(496),R=(function(I){function O(A,T,U){return U===void 0&&(U=[]),I.call(this,new B.UserCustomColumns(A,T,U,!0))||this}return M(O,I),O.prototype.copy=function(){return new O(this.getTableName(),this.getUserColumns().getColumns(),this.getUserColumns().getRequiredColumns())},O.prototype.getDataType=function(){return null},O.prototype.getUserColumns=function(){return I.prototype.getUserColumns.call(this)},O.prototype.getRequiredColumns=function(){return this.getUserColumns().getRequiredColumns()},O})(z.UserTable);x.UserCustomTable=R},362:function(y,x,r){var b,M=this&&this.__extends||(b=function(O,A){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,U){T.__proto__=U}||function(T,U){for(var q in U)Object.prototype.hasOwnProperty.call(U,q)&&(T[q]=U[q])},b(O,A)},function(O,A){if(typeof A!="function"&&A!==null)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");function T(){this.constructor=O}b(O,A),O.prototype=A===null?Object.create(A):(T.prototype=A.prototype,new T)});Object.defineProperty(x,"__esModule",{value:!0}),x.UserCustomTableReader=void 0;var z=r(2378),B=r(4880),R=r(5762),I=(function(O){function A(T){return O.call(this,T)||this}return M(A,O),A.prototype.readUserCustomTable=function(T){return this.readTable(T.database)},A.prototype.createTable=function(T,U){return new z.UserCustomTable(T,U,null)},A.prototype.createColumn=function(T){return new R.UserCustomColumn(T.index,T.name,T.dataType,T.max,T.notNull,T.defaultValue,T.primaryKey,T.autoincrement)},A})(B.UserTableReader);x.UserCustomTableReader=I},5865:function(y,x,r){var b=this&&this.__importDefault||function(U){return U&&U.__esModule?U:{default:U}};Object.defineProperty(x,"__esModule",{value:!0}),x.UserColumn=void 0;var M=b(r(8446)),z=r(7319),B=r(2841),R=r(1133),I=r(91),O=r(5071),A=r(7686),T=(function(){function U(q,K,J,te,oe,ue,fe,Le,Ge){this.index=q,this.name=K,this.dataType=J,this.max=te,this.notNull=oe,this.defaultValue=ue,this.primaryKey=fe,this.autoincrement=Le,this.unique=Ge,this.constraints=new A.Constraints,this.validateMax(),this.type=this.getTypeName(K,J),this.addDefaultConstraints()}return U.validateDataType=function(q,K){if(K==null)throw new Error("Data Type is required to create column: "+q)},U.prototype.copy=function(){var q=new U(this.index,this.name,this.dataType,this.max,this.notNull,this.defaultValue,this.primaryKey,this.unique);return q.min=this.min,q.constraints=this.constraints.copy(),q},U.prototype.clearConstraints=function(){return this.constraints.clear()},U.prototype.getConstraints=function(){return this.constraints},U.prototype.setIndex=function(q){if(this.hasIndex()){if(!(0,M.default)(q,this.index))throw new Error("User Column with a valid index may not be changed. Column Name: "+this.name+", Index: "+this.index+", Attempted Index: "+this.index)}else this.index=q},U.prototype.hasIndex=function(){return this.index>U.NO_INDEX},U.prototype.resetIndex=function(){this.index=U.NO_INDEX},U.prototype.getIndex=function(){return this.index},U.prototype.setName=function(q){this.name=q},U.prototype.getName=function(){return this.name},U.prototype.isNamed=function(q){return this.name===q},U.prototype.hasMax=function(){return this.max!=null},U.prototype.setMax=function(q){this.max=q},U.prototype.getMax=function(){return this.max},U.prototype.setNotNull=function(q){this.notNull!==q&&(q?this.addNotNullConstraint():this.removeConstraintByType(I.ConstraintType.NOT_NULL)),this.notNull=q},U.prototype.isNotNull=function(){return this.notNull},U.prototype.hasDefaultValue=function(){return this.defaultValue!==null&&this.defaultValue!==void 0},U.prototype.setDefaultValue=function(q){this.removeConstraintByType(I.ConstraintType.DEFAULT),q!=null&&this.addDefaultValueConstraint(q),this.defaultValue=q},U.prototype.getDefaultValue=function(){return this.defaultValue},U.prototype.setPrimaryKey=function(q){this.primaryKey!==q&&(q?this.addPrimaryKeyConstraint():(this.autoincrement=!1,this.removeConstraintByType(I.ConstraintType.AUTOINCREMENT),this.removeConstraintByType(I.ConstraintType.PRIMARY_KEY))),this.primaryKey=q},U.prototype.isPrimaryKey=function(){return this.primaryKey},U.prototype.setAutoincrement=function(q){this.autoincrement!==q&&(q?this.addAutoincrementConstraint():this.removeConstraintByType(I.ConstraintType.AUTOINCREMENT)),this.autoincrement=q},U.prototype.isAutoincrement=function(){return this.autoincrement},U.prototype.setUnique=function(q){this.unique!==q&&(q?this.addUniqueConstraint():this.removeConstraintByType(I.ConstraintType.UNIQUE)),this.unique=q},U.prototype.isUnique=function(){return this.unique},U.prototype.setDataType=function(q){this.dataType=q},U.prototype.getDataType=function(){return this.dataType},U.prototype.getTypeName=function(q,K){return U.validateDataType(q,K),z.GeoPackageDataType.nameFromType(K)},U.prototype.validateMax=function(){if(this.max&&this.dataType!==z.GeoPackageDataType.TEXT&&this.dataType!==z.GeoPackageDataType.BLOB)throw new Error("Column max is only supported for TEXT and BLOB columns. column: "+this.name+", max: "+this.max+", type: "+this.dataType);return!0},U.createPrimaryKeyColumn=function(q,K,J){return J===void 0&&(J=O.UserTableDefaults.DEFAULT_AUTOINCREMENT),new U(q,K,z.GeoPackageDataType.INTEGER,void 0,!0,void 0,!0,J)},U.createColumn=function(q,K,J,te,oe,ue){return te===void 0&&(te=!1),new U(q,K,J,ue,te,oe,!1)},U.prototype.addDefaultConstraints=function(){this.isNotNull()&&this.addNotNullConstraint(),this.hasDefaultValue()&&this.addDefaultValueConstraint(this.getDefaultValue()),this.isPrimaryKey()&&(this.addPrimaryKeyConstraint(),this.isAutoincrement()&&this.addAutoincrementConstraint()),this.isUnique()&&this.addUniqueConstraint()},U.prototype.addConstraint=function(q){q.order!==null&&q.order!==void 0||this.setConstraintOrder(q),this.constraints.add(q)},U.prototype.setConstraintOrder=function(q){var K=null;switch(q.getType()){case I.ConstraintType.PRIMARY_KEY:K=U.PRIMARY_KEY_CONSTRAINT_ORDER;break;case I.ConstraintType.UNIQUE:K=U.UNIQUE_CONSTRAINT_ORDER;break;case I.ConstraintType.NOT_NULL:K=U.NOT_NULL_CONSTRAINT_ORDER;break;case I.ConstraintType.DEFAULT:K=U.DEFAULT_VALUE_CONSTRAINT_ORDER;break;case I.ConstraintType.AUTOINCREMENT:K=U.AUTOINCREMENT_CONSTRAINT_ORDER}q.order=K},U.prototype.addConstraintSql=function(q){var K=R.ConstraintParser.getType(q),J=R.ConstraintParser.getName(q);this.constraints.add(new B.RawConstraint(K,J,q))},U.prototype.addConstraints=function(q){this.constraints.addConstraints(q)},U.prototype.addColumnConstraints=function(q){this.addConstraints(q.getConstraints())},U.prototype.addNotNullConstraint=function(){this.addConstraint(new B.RawConstraint(I.ConstraintType.NOT_NULL,null,"NOT NULL",U.NOT_NULL_CONSTRAINT_ORDER))},U.prototype.addDefaultValueConstraint=function(q){this.addConstraint(new B.RawConstraint(I.ConstraintType.DEFAULT,null,"DEFAULT "+z.GeoPackageDataType.columnDefaultValue(q,this.getDataType()),U.DEFAULT_VALUE_CONSTRAINT_ORDER))},U.prototype.addPrimaryKeyConstraint=function(){this.addConstraint(new B.RawConstraint(I.ConstraintType.PRIMARY_KEY,null,"PRIMARY KEY",U.PRIMARY_KEY_CONSTRAINT_ORDER))},U.prototype.addAutoincrementConstraint=function(){if(!this.isPrimaryKey())throw new Error("Autoincrement may only be set on a primary key column");this.addConstraint(new B.RawConstraint(I.ConstraintType.AUTOINCREMENT,null,"AUTOINCREMENT",U.AUTOINCREMENT_CONSTRAINT_ORDER))},U.prototype.addUniqueConstraint=function(){this.addConstraint(new B.RawConstraint(I.ConstraintType.UNIQUE,null,"UNIQUE",U.UNIQUE_CONSTRAINT_ORDER))},U.prototype.removeConstraintByType=function(q){this.constraints.clearConstraintsByType(q)},U.prototype.getType=function(){return this.type},U.prototype.hasConstraints=function(){return this.constraints.has()},U.prototype.buildConstraintSql=function(q){var K=null;return!O.UserTableDefaults.DEFAULT_PK_NOT_NULL&&this.isPrimaryKey()&&q.getType()===I.ConstraintType.NOT_NULL||(K=q.buildSql()),K},U.NO_INDEX=-1,U.NOT_NULL_CONSTRAINT_ORDER=1,U.DEFAULT_VALUE_CONSTRAINT_ORDER=2,U.PRIMARY_KEY_CONSTRAINT_ORDER=3,U.AUTOINCREMENT_CONSTRAINT_ORDER=4,U.UNIQUE_CONSTRAINT_ORDER=5,U})();x.UserColumn=T},2114:(y,x,r)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.UserColumns=void 0;var b=r(7319),M=(function(){function z(B,R,I){I===void 0&&(I=!1),this._pkIndex=-1,this._tableName=B,this._columns=R,this._custom=I,this._nameToIndex=new Map,this._columnNames=[]}return z.prototype.copy=function(){var B=[];this._columns.forEach((function(I){B.push(I.copy())}));var R=new z(this._tableName,B,this._custom);return R._columnNames=Array.from(this._columnNames),R._nameToIndex=new Map(this._nameToIndex),R._pkIndex=this._pkIndex,R},z.prototype.updateColumns=function(){var B=this;if(this._nameToIndex.clear(),!this._custom){var R=new Set,I=[];this._columns.forEach((function(J){if(J.hasIndex()){var te=J.getIndex();if(R.has(te))throw new Error("Duplicate index: "+te+", Table Name: "+B._tableName);R.add(te)}else I.push(J)}));var O=-1;I.forEach((function(J){for(;R.has(++O););J.setIndex(O)})),this._columns.sort((function(J,te){return J.index-te.index}))}this._pkIndex=-1,this._columnNames=[];for(var A=0;A<this._columns.length;A++){var T=this._columns[A],U=T.getName(),q=U.toLowerCase();if(!this._custom){if(T.getIndex()!=A)throw new Error("No column found at index: "+A+", Table Name: "+this._tableName);if(this._nameToIndex.has(q))throw new Error("Duplicate column found at index: "+A+", Table Name: "+this._tableName+", Name: "+U)}if(T.isPrimaryKey()){if(this._pkIndex!=-1){var K="More than one primary key column was found for ";throw K=(K=this._custom?K.concat("custom specified table columns"):K.concat("table")).concat(". table: "+this._tableName+", index1: "+this._pkIndex+", index2: "+A),this._custom&&(K=K.concat(", columns: "+this._columnNames)),new Error(K)}this._pkIndex=A}this._columnNames[A]=U,this._nameToIndex.set(q,A)}},z.prototype.duplicateCheck=function(B,R,I){if(R!=null)throw new Error("More than one "+I+" column was found for table '"+this._tableName+"'. Index "+R+" and "+B)},z.prototype.typeCheck=function(B,R){var I=R.getDataType();if(I==null||I!==B)throw new Error("Unexpected "+R.getName()+" column data type was found for table '"+this._tableName+"', expected: "+b.GeoPackageDataType.nameFromType(B)+", actual: "+(I!=null?b.GeoPackageDataType.nameFromType(I):"null"))},z.prototype.missingCheck=function(B,R){if(B==null)throw new Error("No "+R+" column was found for table '"+this._tableName+"'")},z.prototype.getColumnIndexForColumnName=function(B){return this.getColumnIndex(B,!0)},z.prototype.getColumnIndex=function(B,R){var I=this._nameToIndex.get(B.toLowerCase());if(R&&I==null){var O="Column does not exist in ";throw O=(O=this._custom?O.concat("custom specified table columns"):O.concat("table")).concat(". table: "+this._tableName+", column: "+B),this._custom&&(O=O.concat(", columns: "+this._columnNames)),new Error(O)}return I},z.prototype.getColumnNames=function(){return this._columnNames},z.prototype.getColumnName=function(B){return this._columnNames[B]},z.prototype.getColumns=function(){return this._columns},z.prototype.getColumnForIndex=function(B){return this._columns[B]},z.prototype.getColumn=function(B){return this.getColumnForIndex(this.getColumnIndexForColumnName(B))},z.prototype.hasColumn=function(B){return this._nameToIndex.has(B.toLowerCase())},z.prototype.columnCount=function(){return this._columns.length},z.prototype.getTableName=function(){return this._tableName},z.prototype.setTableName=function(B){this._tableName=B},z.prototype.isCustom=function(){return this._custom},z.prototype.setCustom=function(B){this._custom=B},z.prototype.hasPkColumn=function(){return this._pkIndex>=0},z.prototype.getPkColumnIndex=function(){return this._pkIndex},z.prototype.getPkColumn=function(){var B=null;return this.hasPkColumn()&&(B=this._columns[this._pkIndex]),B},z.prototype.getPkColumnName=function(){return this.getPkColumn().getName()},z.prototype.columnsOfType=function(B){return this._columns.filter((function(R){return R.getDataType()===B}))},z.prototype.addColumn=function(B){this._columns.push(B),this.updateColumns()},z.prototype.renameColumn=function(B,R){this.renameColumnWithName(B.getName(),R),B.setName(R)},z.prototype.renameColumnWithName=function(B,R){this.renameColumnWithIndex(this.getColumnIndexForColumnName(B),R)},z.prototype.renameColumnWithIndex=function(B,R){this._columns[B].setName(R),this.updateColumns()},z.prototype.dropColumn=function(B){this.dropColumnWithIndex(B.getIndex())},z.prototype.dropColumnWithName=function(B){this.dropColumnWithIndex(this.getColumnIndexForColumnName(B))},z.prototype.dropColumnWithIndex=function(B){this._columns.splice(B,1),this._columns.forEach((function(R){return R.resetIndex()})),this.updateColumns()},z.prototype.alterColumn=function(B){var R=this.getColumn(B.getName()).getIndex();B.setIndex(R),this._columns[R]=B},z})();x.UserColumns=M},4668:function(y,x,r){var b,M=this&&this.__extends||(b=function(q,K){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(J,te){J.__proto__=te}||function(J,te){for(var oe in te)Object.prototype.hasOwnProperty.call(te,oe)&&(J[oe]=te[oe])},b(q,K)},function(q,K){if(typeof K!="function"&&K!==null)throw new TypeError("Class extends value "+String(K)+" is not a constructor or null");function J(){this.constructor=q}b(q,K),q.prototype=K===null?Object.create(K):(J.prototype=K.prototype,new J)});Object.defineProperty(x,"__esModule",{value:!0}),x.UserDao=void 0;var z=r(4115),B=r(6366),R=r(4599),I=r(2224),O=r(8483),A=r(8314),T=r(5042),U=(function(q){function K(J,te){var oe=q.call(this,J)||this;return oe._table=te,oe.table_name=te.getTableName(),oe.gpkgTableName=te.getTableName(),te.getPkColumn()?oe.idColumns=[te.getPkColumn().getName()]:oe.idColumns=[],oe.columns=te.getUserColumns().getColumnNames(),oe}return M(K,q),K.prototype.createObject=function(J){return J?this.getRow(J):this.newRow()},K.prototype.setValueInObject=function(J,te,oe){J.setValueNoValidationWithIndex(te,oe)},K.prototype.getRow=function(J){if(J instanceof I.UserRow)return J;if(this.table){for(var te=this.table.getColumnCount(),oe={},ue=0;ue<te;ue++){var fe=this.table.getColumnWithIndex(ue);oe[fe.name]=fe.dataType}return this.newRow(oe,J)}},Object.defineProperty(K.prototype,"table",{get:function(){return this._table},enumerable:!1,configurable:!0}),K.prototype.newRow=function(J,te){return new I.UserRow(this.table,J,te)},K.prototype.linkRelatedRow=function(J,te,oe,ue,fe){var Le,Ge=this.geoPackage.relatedTablesExtension,ze=J.table.getTableName(),je=te.table.getTableName(),Be=Ge.getRelationshipBuilder().setBaseTableName(ze).setRelatedTableName(je).setRelationType(oe);ue&&typeof ue!="string"?(Be.setUserMappingTable(ue),Le=ue.getTableName()):(ue=ue||ze+"_"+je,Be.setMappingTableName(ue),Le=ue),Ge.addRelationship(Be);var _e=Ge.getMappingDao(Le),He=_e.newRow();for(var tt in He.baseId=J.id,He.relatedId=te.id,fe)He.setValueWithColumnName(tt,fe[tt]);return _e.create(He)},K.prototype.linkFeatureRow=function(J,te,oe,ue){return this.linkRelatedRow(J,te,O.RelationType.FEATURES,oe,ue)},K.prototype.linkMediaRow=function(J,te,oe,ue){return this.linkRelatedRow(J,te,O.RelationType.MEDIA,oe,ue)},K.prototype.linkSimpleAttributesRow=function(J,te,oe,ue){return this.linkRelatedRow(J,te,O.RelationType.SIMPLE_ATTRIBUTES,oe,ue)},K.prototype.getLinkedMedia=function(J){for(var te=this.mediaRelations,oe=this.geoPackage.relatedTablesExtension,ue=[],fe=0;fe<te.length;fe++)for(var Le=te[fe],Ge=oe.getMediaDao(Le),ze=oe.getMappingDao(Le.mapping_table_name).queryByBaseId(J.id),je=0;je<ze.length;je++){var Be=ze[je].related_id;ue.push(Ge.queryForId(Be))}return ue},K.prototype.getLinkedSimpleAttributes=function(J){for(var te=this.simpleAttributesRelations,oe=this.geoPackage.relatedTablesExtension,ue=[],fe=0;fe<te.length;fe++)for(var Le=te[fe],Ge=oe.getSimpleAttributesDao(Le),ze=oe.getMappingDao(Le.mapping_table_name).queryByBaseId(J.id),je=0;je<ze.length;je++){var Be=ze[je].related_id;ue.push(Ge.queryForId(Be))}return ue},K.prototype.getLinkedFeatures=function(J){for(var te=this.featureRelations,oe=this.geoPackage.relatedTablesExtension,ue=[],fe=0;fe<te.length;fe++)for(var Le=te[fe],Ge=this.geoPackage.getFeatureDao(Le.base_table_name),ze=oe.getMappingDao(Le.mapping_table_name).queryByBaseId(J.id),je=0;je<ze.length;je++){var Be=ze[je].related_id;ue.push(Ge.queryForId(Be))}return ue},Object.defineProperty(K.prototype,"simpleAttributesRelations",{get:function(){return this.getRelationsWithName(R.SimpleAttributesTable.RELATION_TYPE.name)},enumerable:!1,configurable:!0}),Object.defineProperty(K.prototype,"featureRelations",{get:function(){return this.getRelationsWithName(O.RelationType.FEATURES.name)},enumerable:!1,configurable:!0}),Object.defineProperty(K.prototype,"mediaRelations",{get:function(){return this.getRelationsWithName(B.MediaTable.RELATION_TYPE.name)},enumerable:!1,configurable:!0}),K.prototype.getRelationsWithName=function(J){return this.geoPackage.extendedRelationDao.getBaseTableRelationsWithName(this.table_name,J)},Object.defineProperty(K.prototype,"relations",{get:function(){return this.geoPackage.extendedRelationDao.getBaseTableRelations(this.table_name)},enumerable:!1,configurable:!0}),K.prototype.getRows=function(J){for(var te=[],oe=0;oe<J.length;oe++){var ue=this.queryForId(J[oe]);ue&&te.push(ue)}return te},K.prototype.getCount=function(){return this.connection.count(this.table_name)},K.prototype.getTableName=function(){return this.table_name},K.prototype.renameColumn=function(J,te){A.AlterTable.renameColumn(this.connection,this.table_name,J,te),this._table.renameColumnWithName(J,te)},K.prototype.addColumn=function(J){A.AlterTable.addColumn(this.connection,this.table_name,J.getName(),T.CoreSQLUtils.columnDefinition(J)),this._table.addColumn(J)},K.prototype.dropColumnWithIndex=function(J){this.dropColumn(this._table.getColumnNameWithIndex(J))},K.prototype.dropColumn=function(J){A.AlterTable.dropColumnForUserTable(this.connection,this.table,J)},K.prototype.dropColumns=function(J){var te=[];J.forEach((function(oe){te.push(oe.getName())})),this.dropColumnNames(te)},K.prototype.dropColumnIndexes=function(J){var te=this,oe=[];J.forEach((function(ue){oe.push(te._table.getColumnNameWithIndex(ue))})),this.dropColumnNames(oe)},K.prototype.dropColumnNames=function(J){A.AlterTable.dropColumnsForUserTable(this.connection,this.table,J)},K.prototype.alterColumn=function(J){A.AlterTable.alterColumnForTable(this.connection,this.table,J)},K.prototype.alterColumns=function(J){A.AlterTable.alterColumnsForTable(this.connection,this.table,J)},K})(z.Dao);x.UserDao=U},2224:(y,x,r)=>{var b=r(3085).lW;Object.defineProperty(x,"__esModule",{value:!0}),x.UserRow=void 0;var M=r(7319),z=(function(){function B(R,I,O){if(this.table=R,this.columnTypes=I,this.values=O,!this.columnTypes){var A=this.table.getColumnCount();this.columnTypes={},this.values={};for(var T=0;T<A;T++)this.columnTypes[this.table.columns.getColumnName(T)]=this.table.columns.getColumnForIndex(T).dataType,this.values[this.table.columns.getColumnName(T)]=this.table.columns.getColumnForIndex(T).defaultValue}}return Object.defineProperty(B.prototype,"idColumn",{get:function(){return this.table.getIdColumn()},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"columnCount",{get:function(){return this.table.getColumnCount()},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"columnNames",{get:function(){return this.table.columns._columnNames},enumerable:!1,configurable:!0}),B.prototype.getColumnNameWithIndex=function(R){return this.table.getColumnNameWithIndex(R)},B.prototype.getColumnIndexWithColumnName=function(R){return this.table.getColumnIndex(R)},B.prototype.getValueWithIndex=function(R){var I=this.values[this.getColumnNameWithIndex(R)];return I!==void 0&&(I=this.toObjectValue(R,I)),I},B.prototype.getValueWithColumnName=function(R){var I=this.values[R],O=this.getRowColumnTypeWithColumnName(R);return I==null?I:O===M.GeoPackageDataType.BOOLEAN?I===1:O===M.GeoPackageDataType.BLOB?b.from(I):I},B.prototype.toObjectValue=function(R,I){var O=I;return this.getColumnWithIndex(R).dataType===M.GeoPackageDataType.BOOLEAN&&I?I===1:O},B.prototype.toDatabaseValue=function(R){var I=this.getColumnWithColumnName(R),O=this.getValueWithColumnName(R);return I.dataType===M.GeoPackageDataType.BOOLEAN?O===!0?1:0:O},B.prototype.getRowColumnTypeWithIndex=function(R){return this.columnTypes[this.getColumnNameWithIndex(R)]},B.prototype.getRowColumnTypeWithColumnName=function(R){return this.columnTypes[R]},B.prototype.getColumnWithIndex=function(R){return this.table.getColumnWithIndex(R)},B.prototype.getColumnWithColumnName=function(R){return this.table.getColumnWithColumnName(R)},Object.defineProperty(B.prototype,"id",{get:function(){var R=null;return this.pkColumn&&(R=this.getValueWithIndex(this.pkColumnIndex)),R},set:function(R){this.values[this.table.getPkColumnName()]=R},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"pkColumnIndex",{get:function(){return this.table.getUserColumns().getPkColumnIndex()},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"pkColumn",{get:function(){return this.table.getPkColumn()},enumerable:!1,configurable:!0}),B.prototype.setValueWithIndex=function(R,I){if(R===this.table.getUserColumns().getPkColumnIndex())throw new Error("Cannot update the primary key of the row.  Table Name: "+this.table.getTableName()+", Index: "+R+", Name: "+this.table.getPkColumnName());this.setValueWithColumnName(this.getColumnNameWithIndex(R),I)},B.prototype.setValueNoValidationWithIndex=function(R,I){this.values[this.getColumnNameWithIndex(R)]=I},B.prototype.setValueWithColumnName=function(R,I){var O=this.getRowColumnTypeWithColumnName(R);O===M.GeoPackageDataType.BOOLEAN?this.values[R]=I===!0?1:0:O===M.GeoPackageDataType.DATE?this.values[R]=I.toISOString().slice(0,10):O===M.GeoPackageDataType.DATETIME?this.values[R]=I.toISOString():this.values[R]=I},B.prototype.hasIdColumn=function(){return this.table.getUserColumns().getPkColumnIndex()!==void 0},B.prototype.hasId=function(){var R=!1;if(this.hasIdColumn()){var I=this.getValueWithIndex(this.table.getUserColumns().getPkColumnIndex());R=I!=null&&typeof I=="number"}return R},B.prototype.resetId=function(){this.values[this.table.getPkColumnName()]=void 0},B})();x.UserRow=z},8018:(y,x,r)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.UserTable=void 0;var b=r(7686),M=(function(){function z(B){this.constraints=new b.Constraints,this.columns=B,this.constraints=new b.Constraints}return z.prototype.copy=function(){var B=new z(this.columns.copy());return B.constraints.addConstraints(this.constraints),this.contents!==null&&this.contents!==void 0&&(B.contents=this.contents.copy()),B},z.prototype.getTableName=function(){return this.columns.getTableName()},Object.defineProperty(z.prototype,"tableType",{get:function(){return"userTable"},enumerable:!1,configurable:!0}),z.prototype.getUserColumns=function(){return this.columns},z.prototype.getColumnIndex=function(B){return this.columns.getColumnIndexForColumnName(B)},z.prototype.hasColumn=function(B){try{return this.getColumnIndex(B),!0}catch{return!1}},z.prototype.getColumnNameWithIndex=function(B){return this.columns.getColumnName(B)},z.prototype.getColumnWithIndex=function(B){return this.columns.getColumnForIndex(B)},z.prototype.getColumnWithColumnName=function(B){return this.getColumnWithIndex(this.getColumnIndex(B))},z.prototype.getColumnCount=function(){return this.columns.columnCount()},z.prototype.getPkColumn=function(){return this.columns.getPkColumn()},z.prototype.getPkColumnName=function(){return this.columns.getPkColumnName()},z.prototype.getIdColumnIndex=function(){return this.columns.getPkColumnIndex()},z.prototype.getIdColumn=function(){return this.getPkColumn()},z.prototype.addConstraint=function(B){this.constraints.add(B)},z.prototype.addConstraints=function(B){this.constraints.addConstraints(B)},z.prototype.hasConstraints=function(){return this.constraints.has()},z.prototype.getConstraints=function(){return this.constraints},z.prototype.getConstraintsByType=function(B){return this.constraints.getConstraintsForType(B)},z.prototype.clearConstraints=function(){return this.constraints.clear()},z.prototype.columnsOfType=function(B){return this.columns.columnsOfType(B)},z.prototype.getContents=function(){return this.contents},z.prototype.setContents=function(B){this.contents=B,B!=null&&this.validateContents(B)},z.prototype.validateContents=function(B){},z.prototype.addColumn=function(B){this.columns.addColumn(B)},z.prototype.renameColumn=function(B,R){this.columns.renameColumn(B,R)},z.prototype.renameColumnWithName=function(B,R){this.columns.renameColumnWithName(B,R)},z.prototype.renameColumnAtIndex=function(B,R){this.columns.renameColumnWithIndex(B,R)},z.prototype.dropColumn=function(B){this.columns.dropColumn(B)},z.prototype.dropColumnWithName=function(B){this.columns.dropColumnWithName(B)},z.prototype.dropColumnWithIndex=function(B){this.columns.dropColumnWithIndex(B)},z.prototype.alterColumn=function(B){this.columns.alterColumn(B)},z})();x.UserTable=M},5071:(y,x)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.UserTableDefaults=void 0;var r=(function(){function b(){}return b.DEFAULT_AUTOINCREMENT=!0,b.DEFAULT_PK_NOT_NULL=!0,b})();x.UserTableDefaults=r},4880:(y,x,r)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.UserTableReader=void 0;var b=r(5865),M=r(5045),z=r(7043),B=(function(){function R(I){this.table_name=I}return R.prototype.readTable=function(I){var O=this,A=[],T=M.TableInfo.info(I,this.table_name);if(T==null)throw new Error("Table does not exist: "+this.table_name);var U=z.SQLiteMaster.queryForConstraints(I,this.table_name);T.getColumns().forEach((function(K){if(K.getDataType()===null||K.getDataType()===void 0)throw new Error("Unsupported column data type "+K.getType());var J=O.createColumn(K),te=U.getColumnConstraints(J.getName());te!=null&&te.hasConstraints()&&(J.clearConstraints(),J.addConstraints(te.constraints)),A.push(J)}));var q=this.createTable(this.table_name,A);return q.addConstraints(U.getTableConstraints()),q},R.prototype.createColumn=function(I){return new b.UserColumn(I.index,I.name,I.dataType,I.max,I.notNull,I.defaultValue,I.primaryKey,I.autoincrement)},R})();x.UserTableReader=B},4275:function(y,x,r){var b=this&&this.__importDefault||function(I){return I&&I.__esModule?I:{default:I}};Object.defineProperty(x,"__esModule",{value:!0}),x.GeoPackageValidate=x.GeoPackageValidationError=void 0;var M=b(r(3935)),z=r(1506),B=function(I,O){this.error=I,this.fatal=O};x.GeoPackageValidationError=B;var R=(function(){function I(){}return I.hasGeoPackageExtension=function(O){var A=M.default.extname(O);return A&&A!==""&&(A.toLowerCase()==="."+z.GeoPackageConstants.GEOPACKAGE_EXTENSION.toLowerCase()||A.toLowerCase()==="."+z.GeoPackageConstants.GEOPACKAGE_EXTENDED_EXTENSION.toLowerCase())},I.validateGeoPackageExtension=function(O){if(!I.hasGeoPackageExtension(O))return new B("GeoPackage database file '"+O+"' does not have a valid extension of '"+z.GeoPackageConstants.GEOPACKAGE_EXTENSION+"' or '"+z.GeoPackageConstants.GEOPACKAGE_EXTENDED_EXTENSION+"'",!0)},I.validateMinimumTables=function(O){var A=[],T=O.spatialReferenceSystemDao.isTableExists(),U=O.contentsDao.isTableExists();return T||A.push(new B("gpkg_spatial_ref_sys table does not exist",!0)),U||A.push(new B("gpkg_contents table does not exist",!0)),A},I.hasMinimumTables=function(O){return this.validateMinimumTables(O).length==0},I})();x.GeoPackageValidate=R},2038:(y,x)=>{var r;Object.defineProperty(x,"__esModule",{value:!0}),x.WKB=void 0;var b=(function(){function M(){}return M.fromName=function(z){return(z=z.toUpperCase())==="GEOMETRY"?M.typeMap.wkb.GeometryCollection:M.wktToEnum[z]},M.typeMap={wkt:{Point:"POINT",LineString:"LINESTRING",Polygon:"POLYGON",MultiPoint:"MULTIPOINT",MultiLineString:"MULTILINESTRING",MultiPolygon:"MULTIPOLYGON",GeometryCollection:"GEOMETRYCOLLECTION"},wkb:{Point:1,LineString:2,Polygon:3,MultiPoint:4,MultiLineString:5,MultiPolygon:6,GeometryCollection:7}},M.wktToEnum=((r={})[M.typeMap.wkt.Point]=M.typeMap.wkb.Point,r[M.typeMap.wkt.LineString]=M.typeMap.wkb.LineString,r[M.typeMap.wkt.Polygon]=M.typeMap.wkb.Polygon,r[M.typeMap.wkt.MultiPoint]=M.typeMap.wkb.MultiPoint,r[M.typeMap.wkt.MultiLineString]=M.typeMap.wkb.MultiLineString,r[M.typeMap.wkt.MultiPolygon]=M.typeMap.wkb.MultiPolygon,r[M.typeMap.wkt.GeometryCollection]=M.typeMap.wkb.GeometryCollection,r),M})();x.WKB=b},2511:function(y,x,r){var b;y=r.nmd(y),(function(M){x&&x.nodeType,y&&y.nodeType;var z=typeof r.g=="object"&&r.g;z.global!==z&&z.window!==z&&z.self;var B,R=2147483647,I=36,O=1,A=26,T=38,U=700,q=72,K=128,J="-",te=/^xn--/,oe=/[^\x20-\x7E]/,ue=/[\x2E\u3002\uFF0E\uFF61]/g,fe={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Le=I-O,Ge=Math.floor,ze=String.fromCharCode;function je(pt){throw RangeError(fe[pt])}function Be(pt,ut){for(var Mt=pt.length,bt=[];Mt--;)bt[Mt]=ut(pt[Mt]);return bt}function _e(pt,ut){var Mt=pt.split("@"),bt="";return Mt.length>1&&(bt=Mt[0]+"@",pt=Mt[1]),bt+Be((pt=pt.replace(ue,".")).split("."),ut).join(".")}function He(pt){for(var ut,Mt,bt=[],ar=0,dt=pt.length;ar<dt;)(ut=pt.charCodeAt(ar++))>=55296&&ut<=56319&&ar<dt?(64512&(Mt=pt.charCodeAt(ar++)))==56320?bt.push(((1023&ut)<<10)+(1023&Mt)+65536):(bt.push(ut),ar--):bt.push(ut);return bt}function tt(pt){return Be(pt,(function(ut){var Mt="";return ut>65535&&(Mt+=ze((ut-=65536)>>>10&1023|55296),ut=56320|1023&ut),Mt+ze(ut)})).join("")}function Ke(pt,ut){return pt+22+75*(pt<26)-((ut!=0)<<5)}function Ze(pt,ut,Mt){var bt=0;for(pt=Mt?Ge(pt/U):pt>>1,pt+=Ge(pt/ut);pt>Le*A>>1;bt+=I)pt=Ge(pt/Le);return Ge(bt+(Le+1)*pt/(pt+T))}function Qe(pt){var ut,Mt,bt,ar,dt,yt,Gt,Bt,Dt,Ct,It,lr=[],Je=pt.length,Ve=0,st=K,it=q;for((Mt=pt.lastIndexOf(J))<0&&(Mt=0),bt=0;bt<Mt;++bt)pt.charCodeAt(bt)>=128&&je("not-basic"),lr.push(pt.charCodeAt(bt));for(ar=Mt>0?Mt+1:0;ar<Je;){for(dt=Ve,yt=1,Gt=I;ar>=Je&&je("invalid-input"),((Bt=(It=pt.charCodeAt(ar++))-48<10?It-22:It-65<26?It-65:It-97<26?It-97:I)>=I||Bt>Ge((R-Ve)/yt))&&je("overflow"),Ve+=Bt*yt,!(Bt<(Dt=Gt<=it?O:Gt>=it+A?A:Gt-it));Gt+=I)yt>Ge(R/(Ct=I-Dt))&&je("overflow"),yt*=Ct;it=Ze(Ve-dt,ut=lr.length+1,dt==0),Ge(Ve/ut)>R-st&&je("overflow"),st+=Ge(Ve/ut),Ve%=ut,lr.splice(Ve++,0,st)}return tt(lr)}function vt(pt){var ut,Mt,bt,ar,dt,yt,Gt,Bt,Dt,Ct,It,lr,Je,Ve,st,it=[];for(lr=(pt=He(pt)).length,ut=K,Mt=0,dt=q,yt=0;yt<lr;++yt)(It=pt[yt])<128&&it.push(ze(It));for(bt=ar=it.length,ar&&it.push(J);bt<lr;){for(Gt=R,yt=0;yt<lr;++yt)(It=pt[yt])>=ut&&It<Gt&&(Gt=It);for(Gt-ut>Ge((R-Mt)/(Je=bt+1))&&je("overflow"),Mt+=(Gt-ut)*Je,ut=Gt,yt=0;yt<lr;++yt)if((It=pt[yt])<ut&&++Mt>R&&je("overflow"),It==ut){for(Bt=Mt,Dt=I;!(Bt<(Ct=Dt<=dt?O:Dt>=dt+A?A:Dt-dt));Dt+=I)st=Bt-Ct,Ve=I-Ct,it.push(ze(Ke(Ct+st%Ve,0))),Bt=Ge(st/Ve);it.push(ze(Ke(Bt,0))),dt=Ze(Mt,Je,bt==ar),Mt=0,++bt}++Mt,++ut}return it.join("")}B={version:"1.3.2",ucs2:{decode:He,encode:tt},decode:Qe,encode:vt,toASCII:function(pt){return _e(pt,(function(ut){return oe.test(ut)?"xn--"+vt(ut):ut}))},toUnicode:function(pt){return _e(pt,(function(ut){return te.test(ut)?Qe(ut.slice(4).toLowerCase()):ut}))}},(b=(function(){return B}).call(x,r,x,y))===void 0||(y.exports=b)})()},8575:(y,x,r)=>{var b=r(2511),M=r(2502);function z(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}x.parse=fe,x.resolve=function(Le,Ge){return fe(Le,!1,!0).resolve(Ge)},x.resolveObject=function(Le,Ge){return Le?fe(Le,!1,!0).resolveObject(Ge):Ge},x.format=function(Le){return M.isString(Le)&&(Le=fe(Le)),Le instanceof z?Le.format():z.prototype.format.call(Le)},x.Url=z;var B=/^([a-z0-9.+-]+:)/i,R=/:[0-9]*$/,I=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,O=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r",`
`,"	"]),A=["'"].concat(O),T=["%","/","?",";","#"].concat(A),U=["/","?","#"],q=/^[+a-z0-9A-Z_-]{0,63}$/,K=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,J={javascript:!0,"javascript:":!0},te={javascript:!0,"javascript:":!0},oe={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},ue=r(7673);function fe(Le,Ge,ze){if(Le&&M.isObject(Le)&&Le instanceof z)return Le;var je=new z;return je.parse(Le,Ge,ze),je}z.prototype.parse=function(Le,Ge,ze){if(!M.isString(Le))throw new TypeError("Parameter 'url' must be a string, not "+typeof Le);var je=Le.indexOf("?"),Be=je!==-1&&je<Le.indexOf("#")?"?":"#",_e=Le.split(Be);_e[0]=_e[0].replace(/\\/g,"/");var He=Le=_e.join(Be);if(He=He.trim(),!ze&&Le.split("#").length===1){var tt=I.exec(He);if(tt)return this.path=He,this.href=He,this.pathname=tt[1],tt[2]?(this.search=tt[2],this.query=Ge?ue.parse(this.search.substr(1)):this.search.substr(1)):Ge&&(this.search="",this.query={}),this}var Ke=B.exec(He);if(Ke){var Ze=(Ke=Ke[0]).toLowerCase();this.protocol=Ze,He=He.substr(Ke.length)}if(ze||Ke||He.match(/^\/\/[^@\/]+@[^@\/]+/)){var Qe=He.substr(0,2)==="//";!Qe||Ke&&te[Ke]||(He=He.substr(2),this.slashes=!0)}if(!te[Ke]&&(Qe||Ke&&!oe[Ke])){for(var vt,pt,ut=-1,Mt=0;Mt<U.length;Mt++)(bt=He.indexOf(U[Mt]))!==-1&&(ut===-1||bt<ut)&&(ut=bt);for((pt=ut===-1?He.lastIndexOf("@"):He.lastIndexOf("@",ut))!==-1&&(vt=He.slice(0,pt),He=He.slice(pt+1),this.auth=decodeURIComponent(vt)),ut=-1,Mt=0;Mt<T.length;Mt++){var bt;(bt=He.indexOf(T[Mt]))!==-1&&(ut===-1||bt<ut)&&(ut=bt)}ut===-1&&(ut=He.length),this.host=He.slice(0,ut),He=He.slice(ut),this.parseHost(),this.hostname=this.hostname||"";var ar=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!ar)for(var dt=this.hostname.split(/\./),yt=(Mt=0,dt.length);Mt<yt;Mt++){var Gt=dt[Mt];if(Gt&&!Gt.match(q)){for(var Bt="",Dt=0,Ct=Gt.length;Dt<Ct;Dt++)Gt.charCodeAt(Dt)>127?Bt+="x":Bt+=Gt[Dt];if(!Bt.match(q)){var It=dt.slice(0,Mt),lr=dt.slice(Mt+1),Je=Gt.match(K);Je&&(It.push(Je[1]),lr.unshift(Je[2])),lr.length&&(He="/"+lr.join(".")+He),this.hostname=It.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),ar||(this.hostname=b.toASCII(this.hostname));var Ve=this.port?":"+this.port:"",st=this.hostname||"";this.host=st+Ve,this.href+=this.host,ar&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),He[0]!=="/"&&(He="/"+He))}if(!J[Ze])for(Mt=0,yt=A.length;Mt<yt;Mt++){var it=A[Mt];if(He.indexOf(it)!==-1){var Wt=encodeURIComponent(it);Wt===it&&(Wt=escape(it)),He=He.split(it).join(Wt)}}var rt=He.indexOf("#");rt!==-1&&(this.hash=He.substr(rt),He=He.slice(0,rt));var ur=He.indexOf("?");if(ur!==-1?(this.search=He.substr(ur),this.query=He.substr(ur+1),Ge&&(this.query=ue.parse(this.query)),He=He.slice(0,ur)):Ge&&(this.search="",this.query={}),He&&(this.pathname=He),oe[Ze]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){Ve=this.pathname||"";var tr=this.search||"";this.path=Ve+tr}return this.href=this.format(),this},z.prototype.format=function(){var Le=this.auth||"";Le&&(Le=(Le=encodeURIComponent(Le)).replace(/%3A/i,":"),Le+="@");var Ge=this.protocol||"",ze=this.pathname||"",je=this.hash||"",Be=!1,_e="";this.host?Be=Le+this.host:this.hostname&&(Be=Le+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(Be+=":"+this.port)),this.query&&M.isObject(this.query)&&Object.keys(this.query).length&&(_e=ue.stringify(this.query));var He=this.search||_e&&"?"+_e||"";return Ge&&Ge.substr(-1)!==":"&&(Ge+=":"),this.slashes||(!Ge||oe[Ge])&&Be!==!1?(Be="//"+(Be||""),ze&&ze.charAt(0)!=="/"&&(ze="/"+ze)):Be||(Be=""),je&&je.charAt(0)!=="#"&&(je="#"+je),He&&He.charAt(0)!=="?"&&(He="?"+He),Ge+Be+(ze=ze.replace(/[?#]/g,(function(tt){return encodeURIComponent(tt)})))+(He=He.replace("#","%23"))+je},z.prototype.resolve=function(Le){return this.resolveObject(fe(Le,!1,!0)).format()},z.prototype.resolveObject=function(Le){if(M.isString(Le)){var Ge=new z;Ge.parse(Le,!1,!0),Le=Ge}for(var ze=new z,je=Object.keys(this),Be=0;Be<je.length;Be++){var _e=je[Be];ze[_e]=this[_e]}if(ze.hash=Le.hash,Le.href==="")return ze.href=ze.format(),ze;if(Le.slashes&&!Le.protocol){for(var He=Object.keys(Le),tt=0;tt<He.length;tt++){var Ke=He[tt];Ke!=="protocol"&&(ze[Ke]=Le[Ke])}return oe[ze.protocol]&&ze.hostname&&!ze.pathname&&(ze.path=ze.pathname="/"),ze.href=ze.format(),ze}if(Le.protocol&&Le.protocol!==ze.protocol){if(!oe[Le.protocol]){for(var Ze=Object.keys(Le),Qe=0;Qe<Ze.length;Qe++){var vt=Ze[Qe];ze[vt]=Le[vt]}return ze.href=ze.format(),ze}if(ze.protocol=Le.protocol,Le.host||te[Le.protocol])ze.pathname=Le.pathname;else{for(var pt=(Le.pathname||"").split("/");pt.length&&!(Le.host=pt.shift()););Le.host||(Le.host=""),Le.hostname||(Le.hostname=""),pt[0]!==""&&pt.unshift(""),pt.length<2&&pt.unshift(""),ze.pathname=pt.join("/")}if(ze.search=Le.search,ze.query=Le.query,ze.host=Le.host||"",ze.auth=Le.auth,ze.hostname=Le.hostname||Le.host,ze.port=Le.port,ze.pathname||ze.search){var ut=ze.pathname||"",Mt=ze.search||"";ze.path=ut+Mt}return ze.slashes=ze.slashes||Le.slashes,ze.href=ze.format(),ze}var bt=ze.pathname&&ze.pathname.charAt(0)==="/",ar=Le.host||Le.pathname&&Le.pathname.charAt(0)==="/",dt=ar||bt||ze.host&&Le.pathname,yt=dt,Gt=ze.pathname&&ze.pathname.split("/")||[],Bt=(pt=Le.pathname&&Le.pathname.split("/")||[],ze.protocol&&!oe[ze.protocol]);if(Bt&&(ze.hostname="",ze.port=null,ze.host&&(Gt[0]===""?Gt[0]=ze.host:Gt.unshift(ze.host)),ze.host="",Le.protocol&&(Le.hostname=null,Le.port=null,Le.host&&(pt[0]===""?pt[0]=Le.host:pt.unshift(Le.host)),Le.host=null),dt=dt&&(pt[0]===""||Gt[0]==="")),ar)ze.host=Le.host||Le.host===""?Le.host:ze.host,ze.hostname=Le.hostname||Le.hostname===""?Le.hostname:ze.hostname,ze.search=Le.search,ze.query=Le.query,Gt=pt;else if(pt.length)Gt||(Gt=[]),Gt.pop(),Gt=Gt.concat(pt),ze.search=Le.search,ze.query=Le.query;else if(!M.isNullOrUndefined(Le.search))return Bt&&(ze.hostname=ze.host=Gt.shift(),(Je=!!(ze.host&&ze.host.indexOf("@")>0)&&ze.host.split("@"))&&(ze.auth=Je.shift(),ze.host=ze.hostname=Je.shift())),ze.search=Le.search,ze.query=Le.query,M.isNull(ze.pathname)&&M.isNull(ze.search)||(ze.path=(ze.pathname?ze.pathname:"")+(ze.search?ze.search:"")),ze.href=ze.format(),ze;if(!Gt.length)return ze.pathname=null,ze.search?ze.path="/"+ze.search:ze.path=null,ze.href=ze.format(),ze;for(var Dt=Gt.slice(-1)[0],Ct=(ze.host||Le.host||Gt.length>1)&&(Dt==="."||Dt==="..")||Dt==="",It=0,lr=Gt.length;lr>=0;lr--)(Dt=Gt[lr])==="."?Gt.splice(lr,1):Dt===".."?(Gt.splice(lr,1),It++):It&&(Gt.splice(lr,1),It--);if(!dt&&!yt)for(;It--;It)Gt.unshift("..");!dt||Gt[0]===""||Gt[0]&&Gt[0].charAt(0)==="/"||Gt.unshift(""),Ct&&Gt.join("/").substr(-1)!=="/"&&Gt.push("");var Je,Ve=Gt[0]===""||Gt[0]&&Gt[0].charAt(0)==="/";return Bt&&(ze.hostname=ze.host=Ve?"":Gt.length?Gt.shift():"",(Je=!!(ze.host&&ze.host.indexOf("@")>0)&&ze.host.split("@"))&&(ze.auth=Je.shift(),ze.host=ze.hostname=Je.shift())),(dt=dt||ze.host&&Gt.length)&&!Ve&&Gt.unshift(""),Gt.length?ze.pathname=Gt.join("/"):(ze.pathname=null,ze.path=null),M.isNull(ze.pathname)&&M.isNull(ze.search)||(ze.path=(ze.pathname?ze.pathname:"")+(ze.search?ze.search:"")),ze.auth=Le.auth||ze.auth,ze.slashes=ze.slashes||Le.slashes,ze.href=ze.format(),ze},z.prototype.parseHost=function(){var Le=this.host,Ge=R.exec(Le);Ge&&((Ge=Ge[0])!==":"&&(this.port=Ge.substr(1)),Le=Le.substr(0,Le.length-Ge.length)),Le&&(this.hostname=Le)}},2502:y=>{y.exports={isString:function(x){return typeof x=="string"},isObject:function(x){return typeof x=="object"&&x!==null},isNull:function(x){return x===null},isNullOrUndefined:function(x){return x==null}}},4927:(y,x,r)=>{var b=r(5108);function M(z){try{if(!r.g.localStorage)return!1}catch{return!1}var B=r.g.localStorage[z];return B!=null&&String(B).toLowerCase()==="true"}y.exports=function(z,B){if(M("noDeprecation"))return z;var R=!1;return function(){if(!R){if(M("throwDeprecation"))throw new Error(B);M("traceDeprecation")?b.trace(B):b.warn(B),R=!0}return z.apply(this,arguments)}}},1496:y=>{typeof Object.create=="function"?y.exports=function(x,r){x.super_=r,x.prototype=Object.create(r.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}})}:y.exports=function(x,r){x.super_=r;var b=function(){};b.prototype=r.prototype,x.prototype=new b,x.prototype.constructor=x}},384:y=>{y.exports=function(x){return x&&typeof x=="object"&&typeof x.copy=="function"&&typeof x.fill=="function"&&typeof x.readUInt8=="function"}},9539:(y,x,r)=>{var b=r(4155),M=r(5108),z=/%[sdj%]/g;x.format=function(Ze){if(!ue(Ze)){for(var Qe=[],vt=0;vt<arguments.length;vt++)Qe.push(I(arguments[vt]));return Qe.join(" ")}vt=1;for(var pt=arguments,ut=pt.length,Mt=String(Ze).replace(z,(function(ar){if(ar==="%%")return"%";if(vt>=ut)return ar;switch(ar){case"%s":return String(pt[vt++]);case"%d":return Number(pt[vt++]);case"%j":try{return JSON.stringify(pt[vt++])}catch{return"[Circular]"}default:return ar}})),bt=pt[vt];vt<ut;bt=pt[++vt])te(bt)||!Ge(bt)?Mt+=" "+bt:Mt+=" "+I(bt);return Mt},x.deprecate=function(Ze,Qe){if(fe(r.g.process))return function(){return x.deprecate(Ze,Qe).apply(this,arguments)};if(b.noDeprecation===!0)return Ze;var vt=!1;return function(){if(!vt){if(b.throwDeprecation)throw new Error(Qe);b.traceDeprecation?M.trace(Qe):M.error(Qe),vt=!0}return Ze.apply(this,arguments)}};var B,R={};function I(Ze,Qe){var vt={seen:[],stylize:A};return arguments.length>=3&&(vt.depth=arguments[2]),arguments.length>=4&&(vt.colors=arguments[3]),J(Qe)?vt.showHidden=Qe:Qe&&x._extend(vt,Qe),fe(vt.showHidden)&&(vt.showHidden=!1),fe(vt.depth)&&(vt.depth=2),fe(vt.colors)&&(vt.colors=!1),fe(vt.customInspect)&&(vt.customInspect=!0),vt.colors&&(vt.stylize=O),T(vt,Ze,vt.depth)}function O(Ze,Qe){var vt=I.styles[Qe];return vt?"\x1B["+I.colors[vt][0]+"m"+Ze+"\x1B["+I.colors[vt][1]+"m":Ze}function A(Ze,Qe){return Ze}function T(Ze,Qe,vt){if(Ze.customInspect&&Qe&&Be(Qe.inspect)&&Qe.inspect!==x.inspect&&(!Qe.constructor||Qe.constructor.prototype!==Qe)){var pt=Qe.inspect(vt,Ze);return ue(pt)||(pt=T(Ze,pt,vt)),pt}var ut=(function(Dt,Ct){if(fe(Ct))return Dt.stylize("undefined","undefined");if(ue(Ct)){var It="'"+JSON.stringify(Ct).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return Dt.stylize(It,"string")}return oe(Ct)?Dt.stylize(""+Ct,"number"):J(Ct)?Dt.stylize(""+Ct,"boolean"):te(Ct)?Dt.stylize("null","null"):void 0})(Ze,Qe);if(ut)return ut;var Mt=Object.keys(Qe),bt=(function(Dt){var Ct={};return Dt.forEach((function(It,lr){Ct[It]=!0})),Ct})(Mt);if(Ze.showHidden&&(Mt=Object.getOwnPropertyNames(Qe)),je(Qe)&&(Mt.indexOf("message")>=0||Mt.indexOf("description")>=0))return U(Qe);if(Mt.length===0){if(Be(Qe)){var ar=Qe.name?": "+Qe.name:"";return Ze.stylize("[Function"+ar+"]","special")}if(Le(Qe))return Ze.stylize(RegExp.prototype.toString.call(Qe),"regexp");if(ze(Qe))return Ze.stylize(Date.prototype.toString.call(Qe),"date");if(je(Qe))return U(Qe)}var dt,yt="",Gt=!1,Bt=["{","}"];return K(Qe)&&(Gt=!0,Bt=["[","]"]),Be(Qe)&&(yt=" [Function"+(Qe.name?": "+Qe.name:"")+"]"),Le(Qe)&&(yt=" "+RegExp.prototype.toString.call(Qe)),ze(Qe)&&(yt=" "+Date.prototype.toUTCString.call(Qe)),je(Qe)&&(yt=" "+U(Qe)),Mt.length!==0||Gt&&Qe.length!=0?vt<0?Le(Qe)?Ze.stylize(RegExp.prototype.toString.call(Qe),"regexp"):Ze.stylize("[Object]","special"):(Ze.seen.push(Qe),dt=Gt?(function(Dt,Ct,It,lr,Je){for(var Ve=[],st=0,it=Ct.length;st<it;++st)Ke(Ct,String(st))?Ve.push(q(Dt,Ct,It,lr,String(st),!0)):Ve.push("");return Je.forEach((function(Wt){Wt.match(/^\d+$/)||Ve.push(q(Dt,Ct,It,lr,Wt,!0))})),Ve})(Ze,Qe,vt,bt,Mt):Mt.map((function(Dt){return q(Ze,Qe,vt,bt,Dt,Gt)})),Ze.seen.pop(),(function(Dt,Ct,It){return Dt.reduce((function(lr,Je){return Je.indexOf(`
`),lr+Je.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?It[0]+(Ct===""?"":Ct+`
 `)+" "+Dt.join(`,
  `)+" "+It[1]:It[0]+Ct+" "+Dt.join(", ")+" "+It[1]})(dt,yt,Bt)):Bt[0]+yt+Bt[1]}function U(Ze){return"["+Error.prototype.toString.call(Ze)+"]"}function q(Ze,Qe,vt,pt,ut,Mt){var bt,ar,dt;if((dt=Object.getOwnPropertyDescriptor(Qe,ut)||{value:Qe[ut]}).get?ar=dt.set?Ze.stylize("[Getter/Setter]","special"):Ze.stylize("[Getter]","special"):dt.set&&(ar=Ze.stylize("[Setter]","special")),Ke(pt,ut)||(bt="["+ut+"]"),ar||(Ze.seen.indexOf(dt.value)<0?(ar=te(vt)?T(Ze,dt.value,null):T(Ze,dt.value,vt-1)).indexOf(`
`)>-1&&(ar=Mt?ar.split(`
`).map((function(yt){return"  "+yt})).join(`
`).substr(2):`
`+ar.split(`
`).map((function(yt){return"   "+yt})).join(`
`)):ar=Ze.stylize("[Circular]","special")),fe(bt)){if(Mt&&ut.match(/^\d+$/))return ar;(bt=JSON.stringify(""+ut)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(bt=bt.substr(1,bt.length-2),bt=Ze.stylize(bt,"name")):(bt=bt.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),bt=Ze.stylize(bt,"string"))}return bt+": "+ar}function K(Ze){return Array.isArray(Ze)}function J(Ze){return typeof Ze=="boolean"}function te(Ze){return Ze===null}function oe(Ze){return typeof Ze=="number"}function ue(Ze){return typeof Ze=="string"}function fe(Ze){return Ze===void 0}function Le(Ze){return Ge(Ze)&&_e(Ze)==="[object RegExp]"}function Ge(Ze){return typeof Ze=="object"&&Ze!==null}function ze(Ze){return Ge(Ze)&&_e(Ze)==="[object Date]"}function je(Ze){return Ge(Ze)&&(_e(Ze)==="[object Error]"||Ze instanceof Error)}function Be(Ze){return typeof Ze=="function"}function _e(Ze){return Object.prototype.toString.call(Ze)}function He(Ze){return Ze<10?"0"+Ze.toString(10):Ze.toString(10)}x.debuglog=function(Ze){if(fe(B)&&(B=b.env.NODE_DEBUG||""),Ze=Ze.toUpperCase(),!R[Ze])if(new RegExp("\\b"+Ze+"\\b","i").test(B)){var Qe=b.pid;R[Ze]=function(){var vt=x.format.apply(x,arguments);M.error("%s %d: %s",Ze,Qe,vt)}}else R[Ze]=function(){};return R[Ze]},x.inspect=I,I.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},I.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},x.isArray=K,x.isBoolean=J,x.isNull=te,x.isNullOrUndefined=function(Ze){return Ze==null},x.isNumber=oe,x.isString=ue,x.isSymbol=function(Ze){return typeof Ze=="symbol"},x.isUndefined=fe,x.isRegExp=Le,x.isObject=Ge,x.isDate=ze,x.isError=je,x.isFunction=Be,x.isPrimitive=function(Ze){return Ze===null||typeof Ze=="boolean"||typeof Ze=="number"||typeof Ze=="string"||typeof Ze=="symbol"||Ze===void 0},x.isBuffer=r(384);var tt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Ke(Ze,Qe){return Object.prototype.hasOwnProperty.call(Ze,Qe)}x.log=function(){var Ze,Qe;M.log("%s - %s",(Qe=[He((Ze=new Date).getHours()),He(Ze.getMinutes()),He(Ze.getSeconds())].join(":"),[Ze.getDate(),tt[Ze.getMonth()],Qe].join(" ")),x.format.apply(x,arguments))},x.inherits=r(1496),x._extend=function(Ze,Qe){if(!Qe||!Ge(Qe))return Ze;for(var vt=Object.keys(Qe),pt=vt.length;pt--;)Ze[vt[pt]]=Qe[vt[pt]];return Ze}},8034:y=>{var x=arguments[3],r=arguments[4],b=arguments[5],M=JSON.stringify;y.exports=function(z,B){for(var R,I=Object.keys(b),O=0,A=I.length;O<A;O++){var T=I[O],U=b[T].exports;if(U===z||U&&U.default===z){R=T;break}}if(!R){R=Math.floor(Math.pow(16,8)*Math.random()).toString(16);var q={};for(O=0,A=I.length;O<A;O++)q[T=I[O]]=T;r[R]=["function(require,module,exports){"+z+"(self); }",q]}var K=Math.floor(Math.pow(16,8)*Math.random()).toString(16),J={};J[R]=R,r[K]=["function(require,module,exports){var f = require("+M(R)+");(f.default ? f.default : f)(self);}",J];var te={};(function ze(je){for(var Be in te[je]=!0,r[je][1]){var _e=r[je][1][Be];te[_e]||ze(_e)}})(K);var oe="("+x+")({"+Object.keys(te).map((function(ze){return M(ze)+":["+r[ze][0]+","+M(r[ze][1])+"]"})).join(",")+"},{},["+M(K)+"])",ue=window.URL||window.webkitURL||window.mozURL||window.msURL,fe=new Blob([oe],{type:"text/javascript"});if(B&&B.bare)return fe;var Le=ue.createObjectURL(fe),Ge=new Worker(Le);return Ge.objectURL=Le,Ge}},6382:(y,x,r)=>{var b=r(3085).lW;function M(B,R){this.buffer=B,this.position=0,this.isBigEndian=R||!1}function z(B,R,I){return function(){var O;return O=this.isBigEndian?R.call(this.buffer,this.position):B.call(this.buffer,this.position),this.position+=I,O}}y.exports=M,M.prototype.readUInt8=z(b.prototype.readUInt8,b.prototype.readUInt8,1),M.prototype.readUInt16=z(b.prototype.readUInt16LE,b.prototype.readUInt16BE,2),M.prototype.readUInt32=z(b.prototype.readUInt32LE,b.prototype.readUInt32BE,4),M.prototype.readInt8=z(b.prototype.readInt8,b.prototype.readInt8,1),M.prototype.readInt16=z(b.prototype.readInt16LE,b.prototype.readInt16BE,2),M.prototype.readInt32=z(b.prototype.readInt32LE,b.prototype.readInt32BE,4),M.prototype.readFloat=z(b.prototype.readFloatLE,b.prototype.readFloatBE,4),M.prototype.readDouble=z(b.prototype.readDoubleLE,b.prototype.readDoubleBE,8),M.prototype.readVarInt=function(){var B,R=0,I=0;do R+=(127&(B=this.buffer[this.position+I]))<<7*I,I++;while(B>=128);return this.position+=I,R}},2659:(y,x,r)=>{var b=r(3085).lW;function M(B,R){this.buffer=new b(B),this.position=0,this.allowResize=R}function z(B,R){return function(I,O){this.ensureSize(R),B.call(this.buffer,I,this.position,O),this.position+=R}}y.exports=M,M.prototype.writeUInt8=z(b.prototype.writeUInt8,1),M.prototype.writeUInt16LE=z(b.prototype.writeUInt16LE,2),M.prototype.writeUInt16BE=z(b.prototype.writeUInt16BE,2),M.prototype.writeUInt32LE=z(b.prototype.writeUInt32LE,4),M.prototype.writeUInt32BE=z(b.prototype.writeUInt32BE,4),M.prototype.writeInt8=z(b.prototype.writeInt8,1),M.prototype.writeInt16LE=z(b.prototype.writeInt16LE,2),M.prototype.writeInt16BE=z(b.prototype.writeInt16BE,2),M.prototype.writeInt32LE=z(b.prototype.writeInt32LE,4),M.prototype.writeInt32BE=z(b.prototype.writeInt32BE,4),M.prototype.writeFloatLE=z(b.prototype.writeFloatLE,4),M.prototype.writeFloatBE=z(b.prototype.writeFloatBE,4),M.prototype.writeDoubleLE=z(b.prototype.writeDoubleLE,8),M.prototype.writeDoubleBE=z(b.prototype.writeDoubleBE,8),M.prototype.writeBuffer=function(B){this.ensureSize(B.length),B.copy(this.buffer,this.position,0,B.length),this.position+=B.length},M.prototype.writeVarInt=function(B){for(var R=1;(4294967168&B)!=0;)this.writeUInt8(127&B|128),B>>>=7,R++;return this.writeUInt8(127&B),R},M.prototype.ensureSize=function(B){if(this.buffer.length<this.position+B){if(!this.allowResize)throw new RangeError("index out of range");var R=new b(this.position+B);this.buffer.copy(R,0,0,this.buffer.length),this.buffer=R}}},7056:(y,x,r)=>{var b=r(3085).lW;y.exports=te;var M=r(4905),z=r(9213),B=r(9645),R=r(978),I=r(1665),O=r(9606),A=r(9763),T=r(2292),U=r(6382),q=r(2659),K=r(2620),J=r(3172);function te(){this.srid=void 0,this.hasZ=!1,this.hasM=!1}te.parse=function(oe,ue){if(typeof oe=="string"||oe instanceof K)return te._parseWkt(oe);if(b.isBuffer(oe)||oe instanceof U)return te._parseWkb(oe,ue);throw new Error("first argument must be a string or Buffer")},te._parseWkt=function(oe){var ue,fe,Le=(ue=oe instanceof K?oe:new K(oe)).matchRegex([/^SRID=(\d+);/]);Le&&(fe=parseInt(Le[1],10));var Ge=ue.matchType(),ze=ue.matchDimension(),je={srid:fe,hasZ:ze.hasZ,hasM:ze.hasM};switch(Ge){case M.wkt.Point:return z._parseWkt(ue,je);case M.wkt.LineString:return B._parseWkt(ue,je);case M.wkt.Polygon:return R._parseWkt(ue,je);case M.wkt.MultiPoint:return I._parseWkt(ue,je);case M.wkt.MultiLineString:return O._parseWkt(ue,je);case M.wkt.MultiPolygon:return A._parseWkt(ue,je);case M.wkt.GeometryCollection:return T._parseWkt(ue,je)}},te._parseWkb=function(oe,ue){var fe,Le,Ge,ze={};switch((fe=oe instanceof U?oe:new U(oe)).isBigEndian=!fe.readInt8(),Le=fe.readUInt32(),ze.hasSrid=(536870912&Le)==536870912,ze.isEwkb=536870912&Le||1073741824&Le||2147483648&Le,ze.hasSrid&&(ze.srid=fe.readUInt32()),ze.hasZ=!1,ze.hasM=!1,ze.isEwkb||ue&&ue.isEwkb?(2147483648&Le&&(ze.hasZ=!0),1073741824&Le&&(ze.hasM=!0),Ge=15&Le):Le>=1e3&&Le<2e3?(ze.hasZ=!0,Ge=Le-1e3):Le>=2e3&&Le<3e3?(ze.hasM=!0,Ge=Le-2e3):Le>=3e3&&Le<4e3?(ze.hasZ=!0,ze.hasM=!0,Ge=Le-3e3):Ge=Le,Ge){case M.wkb.Point:return z._parseWkb(fe,ze);case M.wkb.LineString:return B._parseWkb(fe,ze);case M.wkb.Polygon:return R._parseWkb(fe,ze);case M.wkb.MultiPoint:return I._parseWkb(fe,ze);case M.wkb.MultiLineString:return O._parseWkb(fe,ze);case M.wkb.MultiPolygon:return A._parseWkb(fe,ze);case M.wkb.GeometryCollection:return T._parseWkb(fe,ze);default:throw new Error("GeometryType "+Ge+" not supported")}},te.parseTwkb=function(oe){var ue,fe={},Le=(ue=oe instanceof U?oe:new U(oe)).readUInt8(),Ge=ue.readUInt8(),ze=15&Le;if(fe.precision=J.decode(Le>>4),fe.precisionFactor=Math.pow(10,fe.precision),fe.hasBoundingBox=Ge>>0&1,fe.hasSizeAttribute=Ge>>1&1,fe.hasIdList=Ge>>2&1,fe.hasExtendedPrecision=Ge>>3&1,fe.isEmpty=Ge>>4&1,fe.hasExtendedPrecision){var je=ue.readUInt8();fe.hasZ=(1&je)==1,fe.hasM=(2&je)==2,fe.zPrecision=J.decode((28&je)>>2),fe.zPrecisionFactor=Math.pow(10,fe.zPrecision),fe.mPrecision=J.decode((224&je)>>5),fe.mPrecisionFactor=Math.pow(10,fe.mPrecision)}else fe.hasZ=!1,fe.hasM=!1;if(fe.hasSizeAttribute&&ue.readVarInt(),fe.hasBoundingBox){var Be=2;fe.hasZ&&Be++,fe.hasM&&Be++;for(var _e=0;_e<Be;_e++)ue.readVarInt(),ue.readVarInt()}switch(ze){case M.wkb.Point:return z._parseTwkb(ue,fe);case M.wkb.LineString:return B._parseTwkb(ue,fe);case M.wkb.Polygon:return R._parseTwkb(ue,fe);case M.wkb.MultiPoint:return I._parseTwkb(ue,fe);case M.wkb.MultiLineString:return O._parseTwkb(ue,fe);case M.wkb.MultiPolygon:return A._parseTwkb(ue,fe);case M.wkb.GeometryCollection:return T._parseTwkb(ue,fe);default:throw new Error("GeometryType "+ze+" not supported")}},te.parseGeoJSON=function(oe){return te._parseGeoJSON(oe)},te._parseGeoJSON=function(oe,ue){var fe;switch(oe.type){case M.geoJSON.Point:fe=z._parseGeoJSON(oe);break;case M.geoJSON.LineString:fe=B._parseGeoJSON(oe);break;case M.geoJSON.Polygon:fe=R._parseGeoJSON(oe);break;case M.geoJSON.MultiPoint:fe=I._parseGeoJSON(oe);break;case M.geoJSON.MultiLineString:fe=O._parseGeoJSON(oe);break;case M.geoJSON.MultiPolygon:fe=A._parseGeoJSON(oe);break;case M.geoJSON.GeometryCollection:fe=T._parseGeoJSON(oe);break;default:throw new Error("GeometryType "+oe.type+" not supported")}if(oe.crs&&oe.crs.type&&oe.crs.type==="name"&&oe.crs.properties&&oe.crs.properties.name){var Le=oe.crs.properties.name;if(Le.indexOf("EPSG:")===0)fe.srid=parseInt(Le.substring(5));else{if(Le.indexOf("urn:ogc:def:crs:EPSG::")!==0)throw new Error("Unsupported crs: "+Le);fe.srid=parseInt(Le.substring(22))}}else ue||(fe.srid=4326);return fe},te.prototype.toEwkt=function(){return"SRID="+this.srid+";"+this.toWkt()},te.prototype.toEwkb=function(){var oe=new q(this._getWkbSize()+4),ue=this.toWkb();return oe.writeInt8(1),oe.writeUInt32LE((536870912|ue.slice(1,5).readUInt32LE(0))>>>0,!0),oe.writeUInt32LE(this.srid),oe.writeBuffer(ue.slice(5)),oe.buffer},te.prototype._getWktType=function(oe,ue){var fe=oe;return this.hasZ&&this.hasM?fe+=" ZM ":this.hasZ?fe+=" Z ":this.hasM&&(fe+=" M "),!ue||this.hasZ||this.hasM||(fe+=" "),ue&&(fe+="EMPTY"),fe},te.prototype._getWktCoordinate=function(oe){var ue=oe.x+" "+oe.y;return this.hasZ&&(ue+=" "+oe.z),this.hasM&&(ue+=" "+oe.m),ue},te.prototype._writeWkbType=function(oe,ue,fe){var Le=0;this.srid!==void 0||fe&&fe.srid!==void 0?(this.hasZ&&(Le|=2147483648),this.hasM&&(Le|=1073741824)):this.hasZ&&this.hasM?Le+=3e3:this.hasZ?Le+=1e3:this.hasM&&(Le+=2e3),oe.writeUInt32LE(Le+ue>>>0,!0)},te.getTwkbPrecision=function(oe,ue,fe){return{xy:oe,z:ue,m:fe,xyFactor:Math.pow(10,oe),zFactor:Math.pow(10,ue),mFactor:Math.pow(10,fe)}},te.prototype._writeTwkbHeader=function(oe,ue,fe,Le){var Ge=(J.encode(fe.xy)<<4)+ue,ze=(this.hasZ||this.hasM)<<3;if(ze+=Le<<4,oe.writeUInt8(Ge),oe.writeUInt8(ze),this.hasZ||this.hasM){var je=0;this.hasZ&&(je|=1),this.hasM&&(je|=2),oe.writeUInt8(je)}},te.prototype.toGeoJSON=function(oe){var ue={};return this.srid&&oe&&(oe.shortCrs?ue.crs={type:"name",properties:{name:"EPSG:"+this.srid}}:oe.longCrs&&(ue.crs={type:"name",properties:{name:"urn:ogc:def:crs:EPSG::"+this.srid}})),ue}},2292:(y,x,r)=>{y.exports=R;var b=r(9539),M=r(4905),z=r(7056),B=r(2659);function R(I,O){z.call(this),this.geometries=I||[],this.srid=O,this.geometries.length>0&&(this.hasZ=this.geometries[0].hasZ,this.hasM=this.geometries[0].hasM)}b.inherits(R,z),R.Z=function(I,O){var A=new R(I,O);return A.hasZ=!0,A},R.M=function(I,O){var A=new R(I,O);return A.hasM=!0,A},R.ZM=function(I,O){var A=new R(I,O);return A.hasZ=!0,A.hasM=!0,A},R._parseWkt=function(I,O){var A=new R;if(A.srid=O.srid,A.hasZ=O.hasZ,A.hasM=O.hasM,I.isMatch(["EMPTY"]))return A;I.expectGroupStart();do A.geometries.push(z.parse(I));while(I.isMatch([","]));return I.expectGroupEnd(),A},R._parseWkb=function(I,O){var A=new R;A.srid=O.srid,A.hasZ=O.hasZ,A.hasM=O.hasM;for(var T=I.readUInt32(),U=0;U<T;U++)A.geometries.push(z.parse(I,O));return A},R._parseTwkb=function(I,O){var A=new R;if(A.hasZ=O.hasZ,A.hasM=O.hasM,O.isEmpty)return A;for(var T=I.readVarInt(),U=0;U<T;U++)A.geometries.push(z.parseTwkb(I));return A},R._parseGeoJSON=function(I){for(var O=new R,A=0;A<I.geometries.length;A++)O.geometries.push(z._parseGeoJSON(I.geometries[A],!0));return O.geometries.length>0&&(O.hasZ=O.geometries[0].hasZ),O},R.prototype.toWkt=function(){if(this.geometries.length===0)return this._getWktType(M.wkt.GeometryCollection,!0);for(var I=this._getWktType(M.wkt.GeometryCollection,!1)+"(",O=0;O<this.geometries.length;O++)I+=this.geometries[O].toWkt()+",";return(I=I.slice(0,-1))+")"},R.prototype.toWkb=function(){var I=new B(this._getWkbSize());I.writeInt8(1),this._writeWkbType(I,M.wkb.GeometryCollection),I.writeUInt32LE(this.geometries.length);for(var O=0;O<this.geometries.length;O++)I.writeBuffer(this.geometries[O].toWkb({srid:this.srid}));return I.buffer},R.prototype.toTwkb=function(){var I=new B(0,!0),O=z.getTwkbPrecision(5,0,0),A=this.geometries.length===0;if(this._writeTwkbHeader(I,M.wkb.GeometryCollection,O,A),this.geometries.length>0){I.writeVarInt(this.geometries.length);for(var T=0;T<this.geometries.length;T++)I.writeBuffer(this.geometries[T].toTwkb())}return I.buffer},R.prototype._getWkbSize=function(){for(var I=9,O=0;O<this.geometries.length;O++)I+=this.geometries[O]._getWkbSize();return I},R.prototype.toGeoJSON=function(I){var O=z.prototype.toGeoJSON.call(this,I);O.type=M.geoJSON.GeometryCollection,O.geometries=[];for(var A=0;A<this.geometries.length;A++)O.geometries.push(this.geometries[A].toGeoJSON());return O}},9645:(y,x,r)=>{y.exports=I;var b=r(9539),M=r(7056),z=r(4905),B=r(9213),R=r(2659);function I(O,A){M.call(this),this.points=O||[],this.srid=A,this.points.length>0&&(this.hasZ=this.points[0].hasZ,this.hasM=this.points[0].hasM)}b.inherits(I,M),I.Z=function(O,A){var T=new I(O,A);return T.hasZ=!0,T},I.M=function(O,A){var T=new I(O,A);return T.hasM=!0,T},I.ZM=function(O,A){var T=new I(O,A);return T.hasZ=!0,T.hasM=!0,T},I._parseWkt=function(O,A){var T=new I;return T.srid=A.srid,T.hasZ=A.hasZ,T.hasM=A.hasM,O.isMatch(["EMPTY"])||(O.expectGroupStart(),T.points.push.apply(T.points,O.matchCoordinates(A)),O.expectGroupEnd()),T},I._parseWkb=function(O,A){var T=new I;T.srid=A.srid,T.hasZ=A.hasZ,T.hasM=A.hasM;for(var U=O.readUInt32(),q=0;q<U;q++)T.points.push(B._readWkbPoint(O,A));return T},I._parseTwkb=function(O,A){var T=new I;if(T.hasZ=A.hasZ,T.hasM=A.hasM,A.isEmpty)return T;for(var U=new B(0,0,A.hasZ?0:void 0,A.hasM?0:void 0),q=O.readVarInt(),K=0;K<q;K++)T.points.push(B._readTwkbPoint(O,A,U));return T},I._parseGeoJSON=function(O){var A=new I;O.coordinates.length>0&&(A.hasZ=O.coordinates[0].length>2);for(var T=0;T<O.coordinates.length;T++)A.points.push(B._readGeoJSONPoint(O.coordinates[T]));return A},I.prototype.toWkt=function(){return this.points.length===0?this._getWktType(z.wkt.LineString,!0):this._getWktType(z.wkt.LineString,!1)+this._toInnerWkt()},I.prototype._toInnerWkt=function(){for(var O="(",A=0;A<this.points.length;A++)O+=this._getWktCoordinate(this.points[A])+",";return(O=O.slice(0,-1))+")"},I.prototype.toWkb=function(O){var A=new R(this._getWkbSize());A.writeInt8(1),this._writeWkbType(A,z.wkb.LineString,O),A.writeUInt32LE(this.points.length);for(var T=0;T<this.points.length;T++)this.points[T]._writeWkbPoint(A);return A.buffer},I.prototype.toTwkb=function(){var O=new R(0,!0),A=M.getTwkbPrecision(5,0,0),T=this.points.length===0;if(this._writeTwkbHeader(O,z.wkb.LineString,A,T),this.points.length>0){O.writeVarInt(this.points.length);for(var U=new B(0,0,0,0),q=0;q<this.points.length;q++)this.points[q]._writeTwkbPoint(O,A,U)}return O.buffer},I.prototype._getWkbSize=function(){var O=16;return this.hasZ&&(O+=8),this.hasM&&(O+=8),9+this.points.length*O},I.prototype.toGeoJSON=function(O){var A=M.prototype.toGeoJSON.call(this,O);A.type=z.geoJSON.LineString,A.coordinates=[];for(var T=0;T<this.points.length;T++)this.hasZ?A.coordinates.push([this.points[T].x,this.points[T].y,this.points[T].z]):A.coordinates.push([this.points[T].x,this.points[T].y]);return A}},9606:(y,x,r)=>{y.exports=O;var b=r(9539),M=r(4905),z=r(7056),B=r(9213),R=r(9645),I=r(2659);function O(A,T){z.call(this),this.lineStrings=A||[],this.srid=T,this.lineStrings.length>0&&(this.hasZ=this.lineStrings[0].hasZ,this.hasM=this.lineStrings[0].hasM)}b.inherits(O,z),O.Z=function(A,T){var U=new O(A,T);return U.hasZ=!0,U},O.M=function(A,T){var U=new O(A,T);return U.hasM=!0,U},O.ZM=function(A,T){var U=new O(A,T);return U.hasZ=!0,U.hasM=!0,U},O._parseWkt=function(A,T){var U=new O;if(U.srid=T.srid,U.hasZ=T.hasZ,U.hasM=T.hasM,A.isMatch(["EMPTY"]))return U;A.expectGroupStart();do A.expectGroupStart(),U.lineStrings.push(new R(A.matchCoordinates(T))),A.expectGroupEnd();while(A.isMatch([","]));return A.expectGroupEnd(),U},O._parseWkb=function(A,T){var U=new O;U.srid=T.srid,U.hasZ=T.hasZ,U.hasM=T.hasM;for(var q=A.readUInt32(),K=0;K<q;K++)U.lineStrings.push(z.parse(A,T));return U},O._parseTwkb=function(A,T){var U=new O;if(U.hasZ=T.hasZ,U.hasM=T.hasM,T.isEmpty)return U;for(var q=new B(0,0,T.hasZ?0:void 0,T.hasM?0:void 0),K=A.readVarInt(),J=0;J<K;J++){var te=new R;te.hasZ=T.hasZ,te.hasM=T.hasM;for(var oe=A.readVarInt(),ue=0;ue<oe;ue++)te.points.push(B._readTwkbPoint(A,T,q));U.lineStrings.push(te)}return U},O._parseGeoJSON=function(A){var T=new O;A.coordinates.length>0&&A.coordinates[0].length>0&&(T.hasZ=A.coordinates[0][0].length>2);for(var U=0;U<A.coordinates.length;U++)T.lineStrings.push(R._parseGeoJSON({coordinates:A.coordinates[U]}));return T},O.prototype.toWkt=function(){if(this.lineStrings.length===0)return this._getWktType(M.wkt.MultiLineString,!0);for(var A=this._getWktType(M.wkt.MultiLineString,!1)+"(",T=0;T<this.lineStrings.length;T++)A+=this.lineStrings[T]._toInnerWkt()+",";return(A=A.slice(0,-1))+")"},O.prototype.toWkb=function(){var A=new I(this._getWkbSize());A.writeInt8(1),this._writeWkbType(A,M.wkb.MultiLineString),A.writeUInt32LE(this.lineStrings.length);for(var T=0;T<this.lineStrings.length;T++)A.writeBuffer(this.lineStrings[T].toWkb({srid:this.srid}));return A.buffer},O.prototype.toTwkb=function(){var A=new I(0,!0),T=z.getTwkbPrecision(5,0,0),U=this.lineStrings.length===0;if(this._writeTwkbHeader(A,M.wkb.MultiLineString,T,U),this.lineStrings.length>0){A.writeVarInt(this.lineStrings.length);for(var q=new B(0,0,0,0),K=0;K<this.lineStrings.length;K++){A.writeVarInt(this.lineStrings[K].points.length);for(var J=0;J<this.lineStrings[K].points.length;J++)this.lineStrings[K].points[J]._writeTwkbPoint(A,T,q)}}return A.buffer},O.prototype._getWkbSize=function(){for(var A=9,T=0;T<this.lineStrings.length;T++)A+=this.lineStrings[T]._getWkbSize();return A},O.prototype.toGeoJSON=function(A){var T=z.prototype.toGeoJSON.call(this,A);T.type=M.geoJSON.MultiLineString,T.coordinates=[];for(var U=0;U<this.lineStrings.length;U++)T.coordinates.push(this.lineStrings[U].toGeoJSON().coordinates);return T}},1665:(y,x,r)=>{y.exports=I;var b=r(9539),M=r(4905),z=r(7056),B=r(9213),R=r(2659);function I(O,A){z.call(this),this.points=O||[],this.srid=A,this.points.length>0&&(this.hasZ=this.points[0].hasZ,this.hasM=this.points[0].hasM)}b.inherits(I,z),I.Z=function(O,A){var T=new I(O,A);return T.hasZ=!0,T},I.M=function(O,A){var T=new I(O,A);return T.hasM=!0,T},I.ZM=function(O,A){var T=new I(O,A);return T.hasZ=!0,T.hasM=!0,T},I._parseWkt=function(O,A){var T=new I;return T.srid=A.srid,T.hasZ=A.hasZ,T.hasM=A.hasM,O.isMatch(["EMPTY"])||(O.expectGroupStart(),T.points.push.apply(T.points,O.matchCoordinates(A)),O.expectGroupEnd()),T},I._parseWkb=function(O,A){var T=new I;T.srid=A.srid,T.hasZ=A.hasZ,T.hasM=A.hasM;for(var U=O.readUInt32(),q=0;q<U;q++)T.points.push(z.parse(O,A));return T},I._parseTwkb=function(O,A){var T=new I;if(T.hasZ=A.hasZ,T.hasM=A.hasM,A.isEmpty)return T;for(var U=new B(0,0,A.hasZ?0:void 0,A.hasM?0:void 0),q=O.readVarInt(),K=0;K<q;K++)T.points.push(B._readTwkbPoint(O,A,U));return T},I._parseGeoJSON=function(O){var A=new I;O.coordinates.length>0&&(A.hasZ=O.coordinates[0].length>2);for(var T=0;T<O.coordinates.length;T++)A.points.push(B._parseGeoJSON({coordinates:O.coordinates[T]}));return A},I.prototype.toWkt=function(){if(this.points.length===0)return this._getWktType(M.wkt.MultiPoint,!0);for(var O=this._getWktType(M.wkt.MultiPoint,!1)+"(",A=0;A<this.points.length;A++)O+=this._getWktCoordinate(this.points[A])+",";return(O=O.slice(0,-1))+")"},I.prototype.toWkb=function(){var O=new R(this._getWkbSize());O.writeInt8(1),this._writeWkbType(O,M.wkb.MultiPoint),O.writeUInt32LE(this.points.length);for(var A=0;A<this.points.length;A++)O.writeBuffer(this.points[A].toWkb({srid:this.srid}));return O.buffer},I.prototype.toTwkb=function(){var O=new R(0,!0),A=z.getTwkbPrecision(5,0,0),T=this.points.length===0;if(this._writeTwkbHeader(O,M.wkb.MultiPoint,A,T),this.points.length>0){O.writeVarInt(this.points.length);for(var U=new B(0,0,0,0),q=0;q<this.points.length;q++)this.points[q]._writeTwkbPoint(O,A,U)}return O.buffer},I.prototype._getWkbSize=function(){var O=16;return this.hasZ&&(O+=8),this.hasM&&(O+=8),O+=5,9+this.points.length*O},I.prototype.toGeoJSON=function(O){var A=z.prototype.toGeoJSON.call(this,O);A.type=M.geoJSON.MultiPoint,A.coordinates=[];for(var T=0;T<this.points.length;T++)A.coordinates.push(this.points[T].toGeoJSON().coordinates);return A}},9763:(y,x,r)=>{y.exports=O;var b=r(9539),M=r(4905),z=r(7056),B=r(9213),R=r(978),I=r(2659);function O(A,T){z.call(this),this.polygons=A||[],this.srid=T,this.polygons.length>0&&(this.hasZ=this.polygons[0].hasZ,this.hasM=this.polygons[0].hasM)}b.inherits(O,z),O.Z=function(A,T){var U=new O(A,T);return U.hasZ=!0,U},O.M=function(A,T){var U=new O(A,T);return U.hasM=!0,U},O.ZM=function(A,T){var U=new O(A,T);return U.hasZ=!0,U.hasM=!0,U},O._parseWkt=function(A,T){var U=new O;if(U.srid=T.srid,U.hasZ=T.hasZ,U.hasM=T.hasM,A.isMatch(["EMPTY"]))return U;A.expectGroupStart();do{A.expectGroupStart();var q=[],K=[];for(A.expectGroupStart(),q.push.apply(q,A.matchCoordinates(T)),A.expectGroupEnd();A.isMatch([","]);)A.expectGroupStart(),K.push(A.matchCoordinates(T)),A.expectGroupEnd();U.polygons.push(new R(q,K)),A.expectGroupEnd()}while(A.isMatch([","]));return A.expectGroupEnd(),U},O._parseWkb=function(A,T){var U=new O;U.srid=T.srid,U.hasZ=T.hasZ,U.hasM=T.hasM;for(var q=A.readUInt32(),K=0;K<q;K++)U.polygons.push(z.parse(A,T));return U},O._parseTwkb=function(A,T){var U=new O;if(U.hasZ=T.hasZ,U.hasM=T.hasM,T.isEmpty)return U;for(var q=new B(0,0,T.hasZ?0:void 0,T.hasM?0:void 0),K=A.readVarInt(),J=0;J<K;J++){var te=new R;te.hasZ=T.hasZ,te.hasM=T.hasM;for(var oe=A.readVarInt(),ue=A.readVarInt(),fe=0;fe<ue;fe++)te.exteriorRing.push(B._readTwkbPoint(A,T,q));for(fe=1;fe<oe;fe++){for(var Le=[],Ge=A.readVarInt(),ze=0;ze<Ge;ze++)Le.push(B._readTwkbPoint(A,T,q));te.interiorRings.push(Le)}U.polygons.push(te)}return U},O._parseGeoJSON=function(A){var T=new O;A.coordinates.length>0&&A.coordinates[0].length>0&&A.coordinates[0][0].length>0&&(T.hasZ=A.coordinates[0][0][0].length>2);for(var U=0;U<A.coordinates.length;U++)T.polygons.push(R._parseGeoJSON({coordinates:A.coordinates[U]}));return T},O.prototype.toWkt=function(){if(this.polygons.length===0)return this._getWktType(M.wkt.MultiPolygon,!0);for(var A=this._getWktType(M.wkt.MultiPolygon,!1)+"(",T=0;T<this.polygons.length;T++)A+=this.polygons[T]._toInnerWkt()+",";return(A=A.slice(0,-1))+")"},O.prototype.toWkb=function(){var A=new I(this._getWkbSize());A.writeInt8(1),this._writeWkbType(A,M.wkb.MultiPolygon),A.writeUInt32LE(this.polygons.length);for(var T=0;T<this.polygons.length;T++)A.writeBuffer(this.polygons[T].toWkb({srid:this.srid}));return A.buffer},O.prototype.toTwkb=function(){var A=new I(0,!0),T=z.getTwkbPrecision(5,0,0),U=this.polygons.length===0;if(this._writeTwkbHeader(A,M.wkb.MultiPolygon,T,U),this.polygons.length>0){A.writeVarInt(this.polygons.length);for(var q=new B(0,0,0,0),K=0;K<this.polygons.length;K++){A.writeVarInt(1+this.polygons[K].interiorRings.length),A.writeVarInt(this.polygons[K].exteriorRing.length);for(var J=0;J<this.polygons[K].exteriorRing.length;J++)this.polygons[K].exteriorRing[J]._writeTwkbPoint(A,T,q);for(J=0;J<this.polygons[K].interiorRings.length;J++){A.writeVarInt(this.polygons[K].interiorRings[J].length);for(var te=0;te<this.polygons[K].interiorRings[J].length;te++)this.polygons[K].interiorRings[J][te]._writeTwkbPoint(A,T,q)}}}return A.buffer},O.prototype._getWkbSize=function(){for(var A=9,T=0;T<this.polygons.length;T++)A+=this.polygons[T]._getWkbSize();return A},O.prototype.toGeoJSON=function(A){var T=z.prototype.toGeoJSON.call(this,A);T.type=M.geoJSON.MultiPolygon,T.coordinates=[];for(var U=0;U<this.polygons.length;U++)T.coordinates.push(this.polygons[U].toGeoJSON().coordinates);return T}},9213:(y,x,r)=>{y.exports=I;var b=r(9539),M=r(7056),z=r(4905),B=r(2659),R=r(3172);function I(O,A,T,U,q){M.call(this),this.x=O,this.y=A,this.z=T,this.m=U,this.srid=q,this.hasZ=this.z!==void 0,this.hasM=this.m!==void 0}b.inherits(I,M),I.Z=function(O,A,T,U){var q=new I(O,A,T,void 0,U);return q.hasZ=!0,q},I.M=function(O,A,T,U){var q=new I(O,A,void 0,T,U);return q.hasM=!0,q},I.ZM=function(O,A,T,U,q){var K=new I(O,A,T,U,q);return K.hasZ=!0,K.hasM=!0,K},I._parseWkt=function(O,A){var T=new I;if(T.srid=A.srid,T.hasZ=A.hasZ,T.hasM=A.hasM,O.isMatch(["EMPTY"]))return T;O.expectGroupStart();var U=O.matchCoordinate(A);return T.x=U.x,T.y=U.y,T.z=U.z,T.m=U.m,O.expectGroupEnd(),T},I._parseWkb=function(O,A){var T=I._readWkbPoint(O,A);return T.srid=A.srid,T},I._readWkbPoint=function(O,A){return new I(O.readDouble(),O.readDouble(),A.hasZ?O.readDouble():void 0,A.hasM?O.readDouble():void 0)},I._parseTwkb=function(O,A){var T=new I;return T.hasZ=A.hasZ,T.hasM=A.hasM,A.isEmpty||(T.x=R.decode(O.readVarInt())/A.precisionFactor,T.y=R.decode(O.readVarInt())/A.precisionFactor,T.z=A.hasZ?R.decode(O.readVarInt())/A.zPrecisionFactor:void 0,T.m=A.hasM?R.decode(O.readVarInt())/A.mPrecisionFactor:void 0),T},I._readTwkbPoint=function(O,A,T){return T.x+=R.decode(O.readVarInt())/A.precisionFactor,T.y+=R.decode(O.readVarInt())/A.precisionFactor,A.hasZ&&(T.z+=R.decode(O.readVarInt())/A.zPrecisionFactor),A.hasM&&(T.m+=R.decode(O.readVarInt())/A.mPrecisionFactor),new I(T.x,T.y,T.z,T.m)},I._parseGeoJSON=function(O){return I._readGeoJSONPoint(O.coordinates)},I._readGeoJSONPoint=function(O){return O.length===0?new I:O.length>2?new I(O[0],O[1],O[2]):new I(O[0],O[1])},I.prototype.toWkt=function(){return this.x===void 0&&this.y===void 0&&this.z===void 0&&this.m===void 0?this._getWktType(z.wkt.Point,!0):this._getWktType(z.wkt.Point,!1)+"("+this._getWktCoordinate(this)+")"},I.prototype.toWkb=function(O){var A=new B(this._getWkbSize());return A.writeInt8(1),this._writeWkbType(A,z.wkb.Point,O),this.x===void 0&&this.y===void 0?(A.writeDoubleLE(NaN),A.writeDoubleLE(NaN),this.hasZ&&A.writeDoubleLE(NaN),this.hasM&&A.writeDoubleLE(NaN)):this._writeWkbPoint(A),A.buffer},I.prototype._writeWkbPoint=function(O){O.writeDoubleLE(this.x),O.writeDoubleLE(this.y),this.hasZ&&O.writeDoubleLE(this.z),this.hasM&&O.writeDoubleLE(this.m)},I.prototype.toTwkb=function(){var O=new B(0,!0),A=M.getTwkbPrecision(5,0,0),T=this.x===void 0&&this.y===void 0;return this._writeTwkbHeader(O,z.wkb.Point,A,T),T||this._writeTwkbPoint(O,A,new I(0,0,0,0)),O.buffer},I.prototype._writeTwkbPoint=function(O,A,T){var U=this.x*A.xyFactor,q=this.y*A.xyFactor,K=this.z*A.zFactor,J=this.m*A.mFactor;O.writeVarInt(R.encode(U-T.x)),O.writeVarInt(R.encode(q-T.y)),this.hasZ&&O.writeVarInt(R.encode(K-T.z)),this.hasM&&O.writeVarInt(R.encode(J-T.m)),T.x=U,T.y=q,T.z=K,T.m=J},I.prototype._getWkbSize=function(){var O=21;return this.hasZ&&(O+=8),this.hasM&&(O+=8),O},I.prototype.toGeoJSON=function(O){var A=M.prototype.toGeoJSON.call(this,O);return A.type=z.geoJSON.Point,this.x===void 0&&this.y===void 0?A.coordinates=[]:this.z!==void 0?A.coordinates=[this.x,this.y,this.z]:A.coordinates=[this.x,this.y],A}},978:(y,x,r)=>{y.exports=I;var b=r(9539),M=r(7056),z=r(4905),B=r(9213),R=r(2659);function I(O,A,T){M.call(this),this.exteriorRing=O||[],this.interiorRings=A||[],this.srid=T,this.exteriorRing.length>0&&(this.hasZ=this.exteriorRing[0].hasZ,this.hasM=this.exteriorRing[0].hasM)}b.inherits(I,M),I.Z=function(O,A,T){var U=new I(O,A,T);return U.hasZ=!0,U},I.M=function(O,A,T){var U=new I(O,A,T);return U.hasM=!0,U},I.ZM=function(O,A,T){var U=new I(O,A,T);return U.hasZ=!0,U.hasM=!0,U},I._parseWkt=function(O,A){var T=new I;if(T.srid=A.srid,T.hasZ=A.hasZ,T.hasM=A.hasM,O.isMatch(["EMPTY"]))return T;for(O.expectGroupStart(),O.expectGroupStart(),T.exteriorRing.push.apply(T.exteriorRing,O.matchCoordinates(A)),O.expectGroupEnd();O.isMatch([","]);)O.expectGroupStart(),T.interiorRings.push(O.matchCoordinates(A)),O.expectGroupEnd();return O.expectGroupEnd(),T},I._parseWkb=function(O,A){var T=new I;T.srid=A.srid,T.hasZ=A.hasZ,T.hasM=A.hasM;var U=O.readUInt32();if(U>0){for(var q=O.readUInt32(),K=0;K<q;K++)T.exteriorRing.push(B._readWkbPoint(O,A));for(K=1;K<U;K++){for(var J=[],te=O.readUInt32(),oe=0;oe<te;oe++)J.push(B._readWkbPoint(O,A));T.interiorRings.push(J)}}return T},I._parseTwkb=function(O,A){var T=new I;if(T.hasZ=A.hasZ,T.hasM=A.hasM,A.isEmpty)return T;for(var U=new B(0,0,A.hasZ?0:void 0,A.hasM?0:void 0),q=O.readVarInt(),K=O.readVarInt(),J=0;J<K;J++)T.exteriorRing.push(B._readTwkbPoint(O,A,U));for(J=1;J<q;J++){for(var te=[],oe=O.readVarInt(),ue=0;ue<oe;ue++)te.push(B._readTwkbPoint(O,A,U));T.interiorRings.push(te)}return T},I._parseGeoJSON=function(O){var A=new I;O.coordinates.length>0&&O.coordinates[0].length>0&&(A.hasZ=O.coordinates[0][0].length>2);for(var T=0;T<O.coordinates.length;T++){T>0&&A.interiorRings.push([]);for(var U=0;U<O.coordinates[T].length;U++)T===0?A.exteriorRing.push(B._readGeoJSONPoint(O.coordinates[T][U])):A.interiorRings[T-1].push(B._readGeoJSONPoint(O.coordinates[T][U]))}return A},I.prototype.toWkt=function(){return this.exteriorRing.length===0?this._getWktType(z.wkt.Polygon,!0):this._getWktType(z.wkt.Polygon,!1)+this._toInnerWkt()},I.prototype._toInnerWkt=function(){for(var O="((",A=0;A<this.exteriorRing.length;A++)O+=this._getWktCoordinate(this.exteriorRing[A])+",";for(O=O.slice(0,-1),O+=")",A=0;A<this.interiorRings.length;A++){O+=",(";for(var T=0;T<this.interiorRings[A].length;T++)O+=this._getWktCoordinate(this.interiorRings[A][T])+",";O=O.slice(0,-1),O+=")"}return O+")"},I.prototype.toWkb=function(O){var A=new R(this._getWkbSize());A.writeInt8(1),this._writeWkbType(A,z.wkb.Polygon,O),this.exteriorRing.length>0?(A.writeUInt32LE(1+this.interiorRings.length),A.writeUInt32LE(this.exteriorRing.length)):A.writeUInt32LE(0);for(var T=0;T<this.exteriorRing.length;T++)this.exteriorRing[T]._writeWkbPoint(A);for(T=0;T<this.interiorRings.length;T++){A.writeUInt32LE(this.interiorRings[T].length);for(var U=0;U<this.interiorRings[T].length;U++)this.interiorRings[T][U]._writeWkbPoint(A)}return A.buffer},I.prototype.toTwkb=function(){var O=new R(0,!0),A=M.getTwkbPrecision(5,0,0),T=this.exteriorRing.length===0;if(this._writeTwkbHeader(O,z.wkb.Polygon,A,T),this.exteriorRing.length>0){O.writeVarInt(1+this.interiorRings.length),O.writeVarInt(this.exteriorRing.length);for(var U=new B(0,0,0,0),q=0;q<this.exteriorRing.length;q++)this.exteriorRing[q]._writeTwkbPoint(O,A,U);for(q=0;q<this.interiorRings.length;q++){O.writeVarInt(this.interiorRings[q].length);for(var K=0;K<this.interiorRings[q].length;K++)this.interiorRings[q][K]._writeTwkbPoint(O,A,U)}}return O.buffer},I.prototype._getWkbSize=function(){var O=16;this.hasZ&&(O+=8),this.hasM&&(O+=8);var A=9;this.exteriorRing.length>0&&(A+=4+this.exteriorRing.length*O);for(var T=0;T<this.interiorRings.length;T++)A+=4+this.interiorRings[T].length*O;return A},I.prototype.toGeoJSON=function(O){var A=M.prototype.toGeoJSON.call(this,O);if(A.type=z.geoJSON.Polygon,A.coordinates=[],this.exteriorRing.length>0){for(var T=[],U=0;U<this.exteriorRing.length;U++)this.hasZ?T.push([this.exteriorRing[U].x,this.exteriorRing[U].y,this.exteriorRing[U].z]):T.push([this.exteriorRing[U].x,this.exteriorRing[U].y]);A.coordinates.push(T)}for(var q=0;q<this.interiorRings.length;q++){for(var K=[],J=0;J<this.interiorRings[q].length;J++)this.hasZ?K.push([this.interiorRings[q][J].x,this.interiorRings[q][J].y,this.interiorRings[q][J].z]):K.push([this.interiorRings[q][J].x,this.interiorRings[q][J].y]);A.coordinates.push(K)}return A}},4905:y=>{y.exports={wkt:{Point:"POINT",LineString:"LINESTRING",Polygon:"POLYGON",MultiPoint:"MULTIPOINT",MultiLineString:"MULTILINESTRING",MultiPolygon:"MULTIPOLYGON",GeometryCollection:"GEOMETRYCOLLECTION"},wkb:{Point:1,LineString:2,Polygon:3,MultiPoint:4,MultiLineString:5,MultiPolygon:6,GeometryCollection:7},geoJSON:{Point:"Point",LineString:"LineString",Polygon:"Polygon",MultiPoint:"MultiPoint",MultiLineString:"MultiLineString",MultiPolygon:"MultiPolygon",GeometryCollection:"GeometryCollection"}}},2620:(y,x,r)=>{y.exports=z;var b=r(4905),M=r(9213);function z(B){this.value=B,this.position=0}z.prototype.match=function(B){this.skipWhitespaces();for(var R=0;R<B.length;R++)if(this.value.substring(this.position).indexOf(B[R])===0)return this.position+=B[R].length,B[R];return null},z.prototype.matchRegex=function(B){this.skipWhitespaces();for(var R=0;R<B.length;R++){var I=this.value.substring(this.position).match(B[R]);if(I)return this.position+=I[0].length,I}return null},z.prototype.isMatch=function(B){this.skipWhitespaces();for(var R=0;R<B.length;R++)if(this.value.substring(this.position).indexOf(B[R])===0)return this.position+=B[R].length,!0;return!1},z.prototype.matchType=function(){var B=this.match([b.wkt.Point,b.wkt.LineString,b.wkt.Polygon,b.wkt.MultiPoint,b.wkt.MultiLineString,b.wkt.MultiPolygon,b.wkt.GeometryCollection]);if(!B)throw new Error("Expected geometry type");return B},z.prototype.matchDimension=function(){switch(this.match(["ZM","Z","M"])){case"ZM":return{hasZ:!0,hasM:!0};case"Z":return{hasZ:!0,hasM:!1};case"M":return{hasZ:!1,hasM:!0};default:return{hasZ:!1,hasM:!1}}},z.prototype.expectGroupStart=function(){if(!this.isMatch(["("]))throw new Error("Expected group start")},z.prototype.expectGroupEnd=function(){if(!this.isMatch([")"]))throw new Error("Expected group end")},z.prototype.matchCoordinate=function(B){var R;if(!(R=B.hasZ&&B.hasM?this.matchRegex([/^(\S*)\s+(\S*)\s+(\S*)\s+([^\s,)]*)/]):B.hasZ||B.hasM?this.matchRegex([/^(\S*)\s+(\S*)\s+([^\s,)]*)/]):this.matchRegex([/^(\S*)\s+([^\s,)]*)/])))throw new Error("Expected coordinates");return B.hasZ&&B.hasM?new M(parseFloat(R[1]),parseFloat(R[2]),parseFloat(R[3]),parseFloat(R[4])):B.hasZ?new M(parseFloat(R[1]),parseFloat(R[2]),parseFloat(R[3])):B.hasM?new M(parseFloat(R[1]),parseFloat(R[2]),void 0,parseFloat(R[3])):new M(parseFloat(R[1]),parseFloat(R[2]))},z.prototype.matchCoordinates=function(B){var R=[];do{var I=this.isMatch(["("]);R.push(this.matchCoordinate(B)),I&&this.expectGroupEnd()}while(this.isMatch([","]));return R},z.prototype.skipWhitespaces=function(){for(;this.position<this.value.length&&this.value[this.position]===" ";)this.position++}},1011:(y,x,r)=>{x.Types=r(4905),x.Geometry=r(7056),x.Point=r(9213),x.LineString=r(9645),x.Polygon=r(978),x.MultiPoint=r(1665),x.MultiLineString=r(9606),x.MultiPolygon=r(9763),x.GeometryCollection=r(2292)},3172:y=>{y.exports={encode:function(x){return x<<1^x>>31},decode:function(x){return x>>1^-(1&x)}}},7529:y=>{y.exports=function(){for(var r={},b=0;b<arguments.length;b++){var M=arguments[b];for(var z in M)x.call(M,z)&&(r[z]=M[z])}return r};var x=Object.prototype.hasOwnProperty},1498:y=>{if(__WEBPACK_EXTERNAL_MODULE__1498__===void 0){var x=new Error("Cannot find module 'better-sqlite3'");throw x.code="MODULE_NOT_FOUND",x}y.exports=__WEBPACK_EXTERNAL_MODULE__1498__},5699:()=>{},4919:()=>{},1929:()=>{},2203:()=>{},7990:()=>{},8497:()=>{},1408:()=>{},3646:()=>{},4059:()=>{}},__webpack_module_cache__={};function __webpack_require__(y){var x=__webpack_module_cache__[y];if(x!==void 0)return x.exports;var r=__webpack_module_cache__[y]={id:y,loaded:!1,exports:{}};return __webpack_modules__[y].call(r.exports,r,r.exports,__webpack_require__),r.loaded=!0,r.exports}__webpack_require__.n=y=>{var x=y&&y.__esModule?()=>y.default:()=>y;return __webpack_require__.d(x,{a:x}),x},__webpack_require__.d=(y,x)=>{for(var r in x)__webpack_require__.o(x,r)&&!__webpack_require__.o(y,r)&&Object.defineProperty(y,r,{enumerable:!0,get:x[r]})},__webpack_require__.g=(function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}})(),__webpack_require__.o=(y,x)=>Object.prototype.hasOwnProperty.call(y,x),__webpack_require__.r=y=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(y,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(y,"__esModule",{value:!0})},__webpack_require__.nmd=y=>(y.paths=[],y.children||(y.children=[]),y);var __webpack_exports__={};return(()=>{var y=__webpack_exports__;Object.defineProperty(y,"__esModule",{value:!0}),y.OffscreenCanvasAdapter=y.NumberFeaturesTile=y.MetadataReference=y.MetadataExtension=y.MetadataDao=y.Metadata=y.MediaTable=y.ImageUtils=y.IconTable=y.Icons=y.IconCache=y.HtmlCanvasAdapter=y.GeoPackageValidate=y.GeoPackageTileRetriever=y.GeoPackageDataType=y.GeoPackageConnection=y.GeoPackageAPI=y.GeoPackage=y.GeometryData=y.GeometryColumnsDao=y.GeometryColumns=y.GeometryType=y.FeatureTiles=y.FeatureTableStyles=y.FeatureTableReader=y.FeatureTableIndex=y.FeatureTable=y.FeatureStyles=y.FeatureStyleExtension=y.FeatureStyle=y.FeaturePaint=y.FeatureDrawType=y.FeatureColumn=y.Extension=y.DublinCoreType=y.DublinCoreMetadata=y.DataColumnsDao=y.DataColumns=y.DataColumnConstraintsDao=y.DataColumnConstraints=y.CrsWktExtension=y.Context=y.ConstraintType=y.Constraints=y.Constraint=y.ContentsIdDao=y.ContentsDao=y.CanvasKitCanvasAdapter=y.Canvas=y.BoundingBox=void 0,y.WKB=y.WebPExtension=y.UserTableReader=y.UserTable=y.UserRow=y.UserMappingTable=y.UserDao=y.UserColumn=y.TileUtilities=y.TileTable=y.TileScalingType=y.TileScaling=y.TileMatrixSet=y.TileMatrix=y.TileColumn=y.TileBoundingBoxUtils=y.TileCreator=y.TableCreator=y.StyleTable=y.Styles=y.SqljsAdapter=y.StyleMappingTable=y.SqliteQueryBuilder=y.SqliteAdapter=y.SpatialReferenceSystem=y.SimpleAttributesTable=y.ShadedFeaturesTile=y.SchemaExtension=y.setSqljsWasmLocateFile=y.setCanvasKitWasmLocateFile=y.RTreeIndexDao=y.RTreeIndex=y.RelatedTablesExtension=y.ProjectionConstants=y.Projection=y.Paint=y.OptionBuilder=void 0;var x=__webpack_require__(2527);Object.defineProperty(y,"BoundingBox",{enumerable:!0,get:function(){return x.BoundingBox}});var r=__webpack_require__(4325);Object.defineProperty(y,"GeoPackage",{enumerable:!0,get:function(){return r.GeoPackage}});var b=__webpack_require__(6638);Object.defineProperty(y,"ContentsDao",{enumerable:!0,get:function(){return b.ContentsDao}});var M=__webpack_require__(7092);Object.defineProperty(y,"ContentsIdDao",{enumerable:!0,get:function(){return M.ContentsIdDao}});var z=__webpack_require__(8007);Object.defineProperty(y,"Constraint",{enumerable:!0,get:function(){return z.Constraint}});var B=__webpack_require__(7686);Object.defineProperty(y,"Constraints",{enumerable:!0,get:function(){return B.Constraints}});var R=__webpack_require__(91);Object.defineProperty(y,"ConstraintType",{enumerable:!0,get:function(){return R.ConstraintType}});var I=__webpack_require__(5306);Object.defineProperty(y,"CrsWktExtension",{enumerable:!0,get:function(){return I.CrsWktExtension}});var O=__webpack_require__(8590);Object.defineProperty(y,"DataColumnConstraints",{enumerable:!0,get:function(){return O.DataColumnConstraints}});var A=__webpack_require__(7175);Object.defineProperty(y,"DataColumnConstraintsDao",{enumerable:!0,get:function(){return A.DataColumnConstraintsDao}});var T=__webpack_require__(8133);Object.defineProperty(y,"DataColumns",{enumerable:!0,get:function(){return T.DataColumns}});var U=__webpack_require__(7319);Object.defineProperty(y,"GeoPackageDataType",{enumerable:!0,get:function(){return U.GeoPackageDataType}});var q=__webpack_require__(4941);Object.defineProperty(y,"DataColumnsDao",{enumerable:!0,get:function(){return q.DataColumnsDao}});var K=__webpack_require__(3096);Object.defineProperty(y,"DublinCoreMetadata",{enumerable:!0,get:function(){return K.DublinCoreMetadata}});var J=__webpack_require__(1485);Object.defineProperty(y,"DublinCoreType",{enumerable:!0,get:function(){return J.DublinCoreType}});var te=__webpack_require__(624);Object.defineProperty(y,"Extension",{enumerable:!0,get:function(){return te.Extension}});var oe=__webpack_require__(961);Object.defineProperty(y,"FeatureColumn",{enumerable:!0,get:function(){return oe.FeatureColumn}});var ue=__webpack_require__(4538);Object.defineProperty(y,"FeatureDrawType",{enumerable:!0,get:function(){return ue.FeatureDrawType}});var fe=__webpack_require__(6063);Object.defineProperty(y,"FeaturePaint",{enumerable:!0,get:function(){return fe.FeaturePaint}});var Le=__webpack_require__(612);Object.defineProperty(y,"FeatureStyle",{enumerable:!0,get:function(){return Le.FeatureStyle}});var Ge=__webpack_require__(8479);Object.defineProperty(y,"FeatureStyleExtension",{enumerable:!0,get:function(){return Ge.FeatureStyleExtension}});var ze=__webpack_require__(2752);Object.defineProperty(y,"FeatureStyles",{enumerable:!0,get:function(){return ze.FeatureStyles}});var je=__webpack_require__(8412);Object.defineProperty(y,"FeatureTable",{enumerable:!0,get:function(){return je.FeatureTable}});var Be=__webpack_require__(5626);Object.defineProperty(y,"FeatureTableIndex",{enumerable:!0,get:function(){return Be.FeatureTableIndex}});var _e=__webpack_require__(4896);Object.defineProperty(y,"FeatureTableReader",{enumerable:!0,get:function(){return _e.FeatureTableReader}});var He=__webpack_require__(6536);Object.defineProperty(y,"FeatureTableStyles",{enumerable:!0,get:function(){return He.FeatureTableStyles}});var tt=__webpack_require__(297);Object.defineProperty(y,"FeatureTiles",{enumerable:!0,get:function(){return tt.FeatureTiles}});var Ke=__webpack_require__(812);Object.defineProperty(y,"GeometryColumns",{enumerable:!0,get:function(){return Ke.GeometryColumns}});var Ze=__webpack_require__(1968);Object.defineProperty(y,"GeometryColumnsDao",{enumerable:!0,get:function(){return Ze.GeometryColumnsDao}});var Qe=__webpack_require__(857);Object.defineProperty(y,"GeometryData",{enumerable:!0,get:function(){return Qe.GeometryData}});var vt=__webpack_require__(9211);Object.defineProperty(y,"GeometryType",{enumerable:!0,get:function(){return vt.GeometryType}});var pt=__webpack_require__(1191);Object.defineProperty(y,"GeoPackageAPI",{enumerable:!0,get:function(){return pt.GeoPackageAPI}});var ut=__webpack_require__(5116);Object.defineProperty(y,"GeoPackageConnection",{enumerable:!0,get:function(){return ut.GeoPackageConnection}});var Mt=__webpack_require__(731);Object.defineProperty(y,"GeoPackageTileRetriever",{enumerable:!0,get:function(){return Mt.GeoPackageTileRetriever}});var bt=__webpack_require__(4275);Object.defineProperty(y,"GeoPackageValidate",{enumerable:!0,get:function(){return bt.GeoPackageValidate}});var ar=__webpack_require__(8600);Object.defineProperty(y,"IconCache",{enumerable:!0,get:function(){return ar.IconCache}});var dt=__webpack_require__(4725);Object.defineProperty(y,"Icons",{enumerable:!0,get:function(){return dt.Icons}});var yt=__webpack_require__(2015);Object.defineProperty(y,"IconTable",{enumerable:!0,get:function(){return yt.IconTable}});var Gt=__webpack_require__(9325);Object.defineProperty(y,"ImageUtils",{enumerable:!0,get:function(){return Gt.ImageUtils}});var Bt=__webpack_require__(6366);Object.defineProperty(y,"MediaTable",{enumerable:!0,get:function(){return Bt.MediaTable}});var Dt=__webpack_require__(3026);Object.defineProperty(y,"Metadata",{enumerable:!0,get:function(){return Dt.Metadata}});var Ct=__webpack_require__(663);Object.defineProperty(y,"MetadataDao",{enumerable:!0,get:function(){return Ct.MetadataDao}});var It=__webpack_require__(3501);Object.defineProperty(y,"MetadataExtension",{enumerable:!0,get:function(){return It.MetadataExtension}});var lr=__webpack_require__(9173);Object.defineProperty(y,"MetadataReference",{enumerable:!0,get:function(){return lr.MetadataReference}});var Je=__webpack_require__(3060);Object.defineProperty(y,"NumberFeaturesTile",{enumerable:!0,get:function(){return Je.NumberFeaturesTile}});var Ve=__webpack_require__(7403);Object.defineProperty(y,"OptionBuilder",{enumerable:!0,get:function(){return Ve.OptionBuilder}});var st=__webpack_require__(5211);Object.defineProperty(y,"Paint",{enumerable:!0,get:function(){return st.Paint}});var it=__webpack_require__(5604);Object.defineProperty(y,"Projection",{enumerable:!0,get:function(){return it.Projection}});var Wt=__webpack_require__(1375);Object.defineProperty(y,"ProjectionConstants",{enumerable:!0,get:function(){return Wt.ProjectionConstants}});var rt=__webpack_require__(1832);Object.defineProperty(y,"RelatedTablesExtension",{enumerable:!0,get:function(){return rt.RelatedTablesExtension}});var ur=__webpack_require__(5859);Object.defineProperty(y,"RTreeIndex",{enumerable:!0,get:function(){return ur.RTreeIndex}});var tr=__webpack_require__(735);Object.defineProperty(y,"RTreeIndexDao",{enumerable:!0,get:function(){return tr.RTreeIndexDao}});var Ft=__webpack_require__(8116);Object.defineProperty(y,"SchemaExtension",{enumerable:!0,get:function(){return Ft.SchemaExtension}});var Jt=__webpack_require__(6667);Object.defineProperty(y,"ShadedFeaturesTile",{enumerable:!0,get:function(){return Jt.ShadedFeaturesTile}});var et=__webpack_require__(4599);Object.defineProperty(y,"SimpleAttributesTable",{enumerable:!0,get:function(){return et.SimpleAttributesTable}});var gt=__webpack_require__(341);Object.defineProperty(y,"SpatialReferenceSystem",{enumerable:!0,get:function(){return gt.SpatialReferenceSystem}});var Et=__webpack_require__(8877);Object.defineProperty(y,"SqliteQueryBuilder",{enumerable:!0,get:function(){return Et.SqliteQueryBuilder}});var Xt=__webpack_require__(8138);Object.defineProperty(y,"StyleMappingTable",{enumerable:!0,get:function(){return Xt.StyleMappingTable}});var mr=__webpack_require__(7924);Object.defineProperty(y,"Styles",{enumerable:!0,get:function(){return mr.Styles}});var Cr=__webpack_require__(3934);Object.defineProperty(y,"StyleTable",{enumerable:!0,get:function(){return Cr.StyleTable}});var Dr=__webpack_require__(1459);Object.defineProperty(y,"TableCreator",{enumerable:!0,get:function(){return Dr.TableCreator}});var _n=__webpack_require__(3684);Object.defineProperty(y,"TileBoundingBoxUtils",{enumerable:!0,get:function(){return _n.TileBoundingBoxUtils}});var In=__webpack_require__(8334);Object.defineProperty(y,"TileColumn",{enumerable:!0,get:function(){return In.TileColumn}});var Fn=__webpack_require__(1938);Object.defineProperty(y,"TileMatrix",{enumerable:!0,get:function(){return Fn.TileMatrix}});var ti=__webpack_require__(5899);Object.defineProperty(y,"TileMatrixSet",{enumerable:!0,get:function(){return ti.TileMatrixSet}});var Qn=__webpack_require__(4301);Object.defineProperty(y,"TileScaling",{enumerable:!0,get:function(){return Qn.TileScaling}});var vi=__webpack_require__(2777);Object.defineProperty(y,"TileScalingType",{enumerable:!0,get:function(){return vi.TileScalingType}});var wi=__webpack_require__(8704);Object.defineProperty(y,"TileTable",{enumerable:!0,get:function(){return wi.TileTable}});var oi=__webpack_require__(824);Object.defineProperty(y,"TileUtilities",{enumerable:!0,get:function(){return oi.TileUtilities}});var Si=__webpack_require__(5865);Object.defineProperty(y,"UserColumn",{enumerable:!0,get:function(){return Si.UserColumn}});var Gi=__webpack_require__(4668);Object.defineProperty(y,"UserDao",{enumerable:!0,get:function(){return Gi.UserDao}});var ai=__webpack_require__(233);Object.defineProperty(y,"UserMappingTable",{enumerable:!0,get:function(){return ai.UserMappingTable}});var zi=__webpack_require__(2224);Object.defineProperty(y,"UserRow",{enumerable:!0,get:function(){return zi.UserRow}});var Ei=__webpack_require__(8018);Object.defineProperty(y,"UserTable",{enumerable:!0,get:function(){return Ei.UserTable}});var fa=__webpack_require__(4880);Object.defineProperty(y,"UserTableReader",{enumerable:!0,get:function(){return fa.UserTableReader}});var Vn=__webpack_require__(7719);Object.defineProperty(y,"WebPExtension",{enumerable:!0,get:function(){return Vn.WebPExtension}});var ha=__webpack_require__(2038);Object.defineProperty(y,"WKB",{enumerable:!0,get:function(){return ha.WKB}});var Na=__webpack_require__(922);Object.defineProperty(y,"SqliteAdapter",{enumerable:!0,get:function(){return Na.SqliteAdapter}});var wt=__webpack_require__(6328);Object.defineProperty(y,"SqljsAdapter",{enumerable:!0,get:function(){return wt.SqljsAdapter}});var _t=__webpack_require__(7977);Object.defineProperty(y,"TileCreator",{enumerable:!0,get:function(){return _t.TileCreator}});var jt=__webpack_require__(3437);Object.defineProperty(y,"Canvas",{enumerable:!0,get:function(){return jt.Canvas}});var nr=__webpack_require__(8038);Object.defineProperty(y,"CanvasKitCanvasAdapter",{enumerable:!0,get:function(){return nr.CanvasKitCanvasAdapter}});var Yt=__webpack_require__(342);Object.defineProperty(y,"OffscreenCanvasAdapter",{enumerable:!0,get:function(){return Yt.OffscreenCanvasAdapter}});var Nr=__webpack_require__(2807);Object.defineProperty(y,"HtmlCanvasAdapter",{enumerable:!0,get:function(){return Nr.HtmlCanvasAdapter}});var Gr=__webpack_require__(1150);Object.defineProperty(y,"Context",{enumerable:!0,get:function(){return Gr.Context}}),Gr.Context.setupDefaultContext();var Vr=wt.SqljsAdapter.setSqljsWasmLocateFile;y.setSqljsWasmLocateFile=Vr;var Mn=nr.CanvasKitCanvasAdapter.setCanvasKitWasmLocateFile;y.setCanvasKitWasmLocateFile=Mn})(),__webpack_exports__})()))})(geopackage_min,geopackage_min.exports)),geopackage_min.exports}var geopackage_minExports=requireGeopackage_min();const parseFile=async y=>{const x=y.name.toLowerCase();if(x.endsWith(".kmz")){const r=await JSZip.loadAsync(y),b=Object.keys(r.files).find(M=>M.toLowerCase().endsWith(".kml"));if(b){const M=await r.file(b).async("string"),B=new DOMParser().parseFromString(M,"text/xml");return togeojsonExports.kml(B)}else throw new Error("No KML file found in KMZ archive")}else if(x.endsWith(".kml")){const r=await y.text(),M=new DOMParser().parseFromString(r,"text/xml");return togeojsonExports.kml(M)}else if(x.endsWith(".xlsx")||x.endsWith(".xls")){const r=await y.arrayBuffer(),b=readSync(r),M=b.SheetNames[0],z=b.Sheets[M];return{type:"FeatureCollection",features:utils.sheet_to_json(z).map(I=>{const O=Object.keys(I).find(U=>/^(lat|latitude)$/i.test(U)),A=Object.keys(I).find(U=>/^(lon|lng|longitude)$/i.test(U)),T=Object.keys(I).find(U=>/^(name|title)$/i.test(U));if(O&&A){const U={...I};return T&&(U.name=I[T]),{type:"Feature",properties:U,geometry:{type:"Point",coordinates:[parseFloat(I[A]),parseFloat(I[O])]}}}return null}).filter(I=>I!==null)}}else if(x.endsWith(".qgs")){const r=await y.text();return parseQgsContent(r)}else{if(x.endsWith(".qgz"))return parseQgz(y);if(x.endsWith(".gpkg"))return parseGeoPackage(y);throw new Error("Unsupported file type. Please upload KML, KMZ, XLSX, XLS, QGS, QGZ, or GPKG.")}},parseQgsContent=y=>{const b=new DOMParser().parseFromString(y,"text/xml").getElementsByTagName("maplayer"),M=[],z=[];for(let R=0;R<b.length;R++){const I=b[R],O=I.getElementsByTagName("layername")[0]?.textContent||"Unnamed Layer",A=I.getAttribute("provider");if(A==="memory"){const T=I.getElementsByTagName("feature");for(let U=0;U<T.length;U++){const q=T[U],K={},J=q.getElementsByTagName("attribute");for(let ue=0;ue<J.length;ue++){const fe=J[ue],Le=fe.getAttribute("name"),Ge=fe.getElementsByTagName("value")[0]?.textContent||fe.getAttribute("value");Le&&Ge&&(K[Le]=Ge)}K.layerName=O;const te=q.getElementsByTagName("geometry")[0];let oe=null;if(te){const ue=te.getElementsByTagName("wkt")[0]?.textContent;ue&&(oe=parseWkt(ue))}oe&&M.push({type:"Feature",properties:K,geometry:oe})}}else{const T=I.getElementsByTagName("datasource")[0]?.textContent;let U=null;if(T){const q=T.match(/([^/\\]+\.(gpkg|shp|geojson|kml))(?:\||\s|$)/i);q&&(U=q[1])}z.push({name:O,source:T||"Unknown",filename:U,provider:A})}}const B={};if(M.length>0&&(B.type="FeatureCollection",B.features=M),z.length>0&&(B.qgsInfo={layers:z,files:[...new Set(z.map(R=>R.filename).filter(R=>R))]}),B.type)return B;if(B.qgsInfo)return B;throw new Error("No valid layers or features found in QGS file.")},parseQgz=async y=>{const x=await JSZip.loadAsync(y),r=Object.keys(x.files).find(b=>b.toLowerCase().endsWith(".qgs"));if(r){const b=await x.file(r).async("string");return parseQgsContent(b)}else throw new Error("No .qgs file found in QGZ archive")},parseGeoPackage=async y=>{const x=await y.arrayBuffer(),r=new Uint8Array(x),b=await geopackage_minExports.GeoPackageAPI.open(r),M=b.getFeatureTables(),z=[];for(const B of M){const R=b.queryForGeoJSONFeaturesInTable(B);for(const I of R)I.properties||(I.properties={}),I.properties.tableName=B,z.push(I)}return{type:"FeatureCollection",features:z}},parseWkt=y=>{if(!y)return null;const x=y.trim();if(x.startsWith("POINT")){const r=x.match(/\(([^)]+)\)/)[1].split(" ");return{type:"Point",coordinates:[parseFloat(r[0]),parseFloat(r[1])]}}else{if(x.startsWith("LINESTRING"))return{type:"LineString",coordinates:x.match(/\(([^)]+)\)/)[1].split(",").map(M=>{const[z,B]=M.trim().split(" ");return[parseFloat(z),parseFloat(B)]})};if(x.startsWith("POLYGON"))return{type:"Polygon",coordinates:x.substring(x.indexOf("((")+2,x.lastIndexOf("))")).split("),(").map(z=>z.split(",").map(B=>{const[R,I]=B.trim().split(" ");return[parseFloat(R),parseFloat(I)]}))}}return null},exportToXlsx=(y,x="map-export.xlsx")=>{if(!y||!y.features||y.features.length===0)throw new Error("No features to export");const r=y.features.map(z=>{const B={...z.properties};if(z.geometry&&z.geometry.type==="Point"){const[R,I]=z.geometry.coordinates;B.latitude=I,B.longitude=R}return B}),b=utils.json_to_sheet(r),M=utils.book_new();utils.book_append_sheet(M,b,"Map Data"),writeFileSync(M,x)},exportToKmz=async(y,x="map-export.kmz")=>{if(!y||!y.features||y.features.length===0)throw new Error("No features to export");const r=tokml(y),b=new JSZip;b.file("doc.kml",r);const M=await b.generateAsync({type:"blob"}),z=URL.createObjectURL(M),B=document.createElement("a");B.href=z,B.download=x,document.body.appendChild(B),B.click(),document.body.removeChild(B),URL.revokeObjectURL(z)},bindPopupName=y=>{y.feature||(y.feature={type:"Feature",properties:{}}),y.feature.properties||(y.feature.properties={});const x=y.feature.properties,r=x.name||"",b=document.createElement("div");b.style.minWidth="200px";const M=document.createElement("label");M.innerText="Title",M.style.display="block",M.style.marginBottom="4px",M.style.fontWeight="600",M.style.fontSize="12px",M.style.color="#64748b";const z=document.createElement("input");z.type="text",z.value=r,z.placeholder="Enter title...",z.style.marginBottom="12px",z.oninput=R=>{y.feature.properties.name=R.target.value},b.appendChild(M),b.appendChild(z);const B=Object.entries(x).filter(([R])=>R!=="name"&&R!=="style");if(B.length>0){const R=document.createElement("div");R.innerText="Properties",R.style.fontWeight="600",R.style.fontSize="12px",R.style.color="#64748b",R.style.marginBottom="4px",b.appendChild(R);const I=document.createElement("table");I.style.width="100%",I.style.borderCollapse="collapse",I.style.fontSize="12px",B.forEach(([O,A])=>{const T=document.createElement("tr");T.style.borderBottom="1px solid #e2e8f0";const U=document.createElement("td");U.innerText=O,U.style.padding="4px 8px 4px 0",U.style.fontWeight="500",U.style.color="#475569";const q=document.createElement("td");q.innerText=String(A),q.style.padding="4px 0",q.style.color="#1e293b",q.style.textAlign="right",T.appendChild(U),T.appendChild(q),I.appendChild(T)}),b.appendChild(I)}y.bindPopup(b)},MapLogic=({bounds:y,featureGroupRef:x,isPickingLocation:r,onLocationPicked:b})=>{const M=useMap();return reactExports.useEffect(()=>{y&&M.fitBounds(y)},[y,M]),reactExports.useEffect(()=>{if(r){M.getContainer().style.cursor="crosshair";const z=B=>{b(B.latlng.lat,B.latlng.lng)};return M.on("click",z),()=>{M.getContainer().style.cursor="",M.off("click",z)}}},[r,M,b]),reactExports.useEffect(()=>{const z=B=>{const R=B.layer;bindPopupName(R),x.current&&x.current.addLayer(R)};return M.on("pm:create",z),()=>M.off("pm:create",z)},[M,x]),null},MapEditor=({isPickingLocation:y,onLocationPicked:x})=>{const[r,b]=reactExports.useState(null),[M,z]=reactExports.useState(null),[B,R]=reactExports.useState(!1),[I,O]=reactExports.useState(!1),A=reactExports.useRef(null),T=reactExports.useRef(null),U=async Ge=>{if(Ge){R(!0);const ze=zt.loading("Parsing file...");try{const je=await parseFile(Ge);let Be=null;if(je.qgsInfo){const{layers:_e,files:He}=je.qgsInfo;if(He&&He.length>0){zt.dismiss(ze);const tt=He.join(", ");zt(`This QGS project references: ${tt}. Please upload these files.`,{duration:5e3,icon:""});const Ke=document.createElement("input");Ke.type="file",Ke.multiple=!0,Ke.accept=".gpkg,.shp,.geojson,.kml";const Ze=await new Promise(Qe=>{Ke.onchange=vt=>Qe(Array.from(vt.target.files)),Ke.click()});if(Ze&&Ze.length>0){const Qe=zt.loading(`Loading ${Ze.length} external file(s)...`),vt=je.features||[];for(const pt of Ze)try{const ut=await parseFile(pt);ut.type==="FeatureCollection"&&ut.features&&vt.push(...ut.features)}catch(ut){console.error(`Failed to parse ${pt.name}:`,ut),zt.error(`Failed to load ${pt.name}`)}vt.length>0&&(Be={type:"FeatureCollection",features:vt}),zt.dismiss(Qe)}}else{const tt=_e.map(Ke=>` ${Ke.name} (${Ke.source||Ke.type})`).join(`
`);zt(Ke=>jsxRuntimeExports.jsxs("div",{style:{minWidth:"300px"},children:[jsxRuntimeExports.jsx("b",{children:"QGIS Project Info"}),jsxRuntimeExports.jsx("p",{style:{fontSize:"0.9em",margin:"8px 0"},children:je.type?"Some layers could not be loaded (external references):":"This project references external data sources that cannot be loaded:"}),jsxRuntimeExports.jsx("pre",{style:{background:"#f1f5f9",padding:"8px",borderRadius:"4px",fontSize:"0.8em",maxHeight:"200px",overflow:"auto"},children:tt}),jsxRuntimeExports.jsx("button",{onClick:()=>zt.dismiss(Ke.id),style:{marginTop:"8px",padding:"4px 8px",fontSize:"0.8em",background:"#cbd5e1",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Dismiss"})]}),{duration:1e4,icon:""})}}if(!Be&&je.type==="FeatureCollection"&&(Be=je),Be&&A.current){const _e=L$1.geoJSON(Be),He=_e.getLayers();if(He.length===0){if(!je.qgsInfo)throw new Error("No valid features found in file.")}else He.forEach(tt=>{bindPopupName(tt),tt.addTo(A.current)}),b(_e.getBounds()),zt.success(`Successfully imported ${He.length} features!`,{id:ze})}else if(je.qgsInfo)Be||zt.success("QGS file structure read successfully",{id:ze});else throw new Error("No parseable data found.")}catch(je){console.error(je),zt.error(je.message||"Failed to parse file",{id:ze})}finally{R(!1)}}},q=async Ge=>{Ge.preventDefault(),Ge.stopPropagation();const ze=Ge.dataTransfer.files[0];await U(ze)},K=Ge=>{Ge.preventDefault(),Ge.stopPropagation()},J=()=>{T.current&&T.current.click()},te=async Ge=>{const ze=Ge.target.files[0];await U(ze),Ge.target.value=""},oe=()=>{if(!A.current)return;const Ge=A.current.getLayers();if(Ge.length===0){zt.error("Nothing to export! Add some markers first.");return}try{const je=L$1.featureGroup(Ge).toGeoJSON(),Be=tokml(je),_e=new Blob([Be],{type:"application/vnd.google-earth.kml+xml"}),He=URL.createObjectURL(_e),tt=document.createElement("a");tt.href=He,tt.download="map-export.kml",document.body.appendChild(tt),tt.click(),document.body.removeChild(tt),URL.revokeObjectURL(He),zt.success("Exported KML successfully!")}catch{zt.error("Failed to export KML.")}},ue=()=>{if(!A.current)return;const Ge=A.current.getLayers();if(Ge.length===0){zt.error("Nothing to export! Add some markers first.");return}try{const je=L$1.featureGroup(Ge).toGeoJSON();exportToXlsx(je,"map-export.xlsx"),zt.success("Exported XLSX successfully!")}catch(ze){console.error(ze),zt.error("Failed to export XLSX: "+ze.message)}},fe=async()=>{if(!A.current)return;const Ge=A.current.getLayers();if(Ge.length===0){zt.error("Nothing to export! Add some markers first.");return}try{const je=L$1.featureGroup(Ge).toGeoJSON();await exportToKmz(je,"map-export.kmz"),zt.success("Exported KMZ successfully!")}catch(ze){console.error(ze),zt.error("Failed to export KMZ: "+ze.message)}},Le=()=>{if(!navigator.geolocation){zt.error("Geolocation is not supported by your browser");return}const Ge=zt.loading("Locating you...");navigator.geolocation.getCurrentPosition(ze=>{const{latitude:je,longitude:Be}=ze.coords;z([je,Be]);const He=.01;b([[je-He,Be-He],[je+He,Be+He]]),zt.success("Found you!",{id:Ge})},ze=>{zt.error("Unable to retrieve your location: "+ze.message,{id:Ge})})};return reactExports.useEffect(()=>{Le()},[]),jsxRuntimeExports.jsxs("div",{className:"map-container",onDrop:q,onDragOver:K,children:[jsxRuntimeExports.jsx("input",{type:"file",ref:T,style:{display:"none"},accept:".kml,.kmz,.xlsx,.xls,.qgs,.qgz,.gpkg",onChange:te}),jsxRuntimeExports.jsx("div",{className:"floating-toolbar",children:jsxRuntimeExports.jsxs("div",{className:"menu-container",children:[jsxRuntimeExports.jsxs("button",{className:"toolbar-btn",onClick:()=>O(!I),title:"Menu",children:[jsxRuntimeExports.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[jsxRuntimeExports.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),jsxRuntimeExports.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),jsxRuntimeExports.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]}),jsxRuntimeExports.jsx("span",{children:"Menu"})]}),I&&jsxRuntimeExports.jsxs("div",{className:"dropdown-menu",children:[jsxRuntimeExports.jsxs("button",{className:"dropdown-item",onClick:()=>{J(),O(!1)},disabled:B,children:[B?jsxRuntimeExports.jsx(LoaderCircle,{size:18,className:"animate-spin"}):jsxRuntimeExports.jsx(Upload,{size:18}),jsxRuntimeExports.jsx("span",{children:"Import File"})]}),jsxRuntimeExports.jsxs("button",{className:"dropdown-item",onClick:()=>{Le(),O(!1)},children:[jsxRuntimeExports.jsx(MapPin,{size:18}),jsxRuntimeExports.jsx("span",{children:"Current Location"})]}),jsxRuntimeExports.jsx("div",{className:"dropdown-divider"}),jsxRuntimeExports.jsxs("button",{className:"dropdown-item",onClick:()=>{oe(),O(!1)},children:[jsxRuntimeExports.jsx(Download,{size:18}),jsxRuntimeExports.jsx("span",{children:"Export KML"})]}),jsxRuntimeExports.jsxs("button",{className:"dropdown-item",onClick:()=>{fe(),O(!1)},children:[jsxRuntimeExports.jsx(Download,{size:18}),jsxRuntimeExports.jsx("span",{children:"Export KMZ"})]}),jsxRuntimeExports.jsxs("button",{className:"dropdown-item",onClick:()=>{ue(),O(!1)},children:[jsxRuntimeExports.jsx(Download,{size:18}),jsxRuntimeExports.jsx("span",{children:"Export XLSX"})]})]})]})}),jsxRuntimeExports.jsxs(MapContainer,{center:[51.505,-.09],zoom:13,style:{height:"100%",width:"100%"},children:[jsxRuntimeExports.jsxs(LayersControl,{position:"bottomleft",children:[jsxRuntimeExports.jsx(LayersControl.BaseLayer,{checked:!0,name:"Standard",children:jsxRuntimeExports.jsx(TileLayer,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"})}),jsxRuntimeExports.jsx(LayersControl.BaseLayer,{name:"Satellite",children:jsxRuntimeExports.jsx(TileLayer,{attribution:"Tiles  Esri  Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community",url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}"})}),jsxRuntimeExports.jsx(LayersControl.BaseLayer,{name:"Dark Mode",children:jsxRuntimeExports.jsx(TileLayer,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors  <a href="https://carto.com/attributions">CARTO</a>',url:"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png"})}),jsxRuntimeExports.jsx(LayersControl.BaseLayer,{name:"Light Mode",children:jsxRuntimeExports.jsx(TileLayer,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors  <a href="https://carto.com/attributions">CARTO</a>',url:"https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png"})}),jsxRuntimeExports.jsx(LayersControl.BaseLayer,{name:"Google Satellite",children:jsxRuntimeExports.jsx(TileLayer,{url:"https://mt1.google.com/vt/lyrs=s&x={x}&y={y}&z={z}",attribution:" Google"})}),jsxRuntimeExports.jsx(LayersControl.BaseLayer,{name:"Google Hybrid",children:jsxRuntimeExports.jsx(TileLayer,{url:"https://mt1.google.com/vt/lyrs=y&x={x}&y={y}&z={z}",attribution:" Google"})}),jsxRuntimeExports.jsx(LayersControl.BaseLayer,{name:"Google Streets",children:jsxRuntimeExports.jsx(TileLayer,{url:"https://mt1.google.com/vt/lyrs=m&x={x}&y={y}&z={z}",attribution:" Google"})}),jsxRuntimeExports.jsx(LayersControl.BaseLayer,{name:"Google Terrain",children:jsxRuntimeExports.jsx(TileLayer,{url:"https://mt1.google.com/vt/lyrs=p&x={x}&y={y}&z={z}",attribution:" Google"})}),jsxRuntimeExports.jsx(LayersControl.BaseLayer,{name:"OpenTopoMap",children:jsxRuntimeExports.jsx(TileLayer,{url:"https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png",attribution:'Map data:  <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, <a href="http://viewfinderpanoramas.org">SRTM</a> | Map style:  <a href="https://opentopomap.org">OpenTopoMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'})}),jsxRuntimeExports.jsx(LayersControl.BaseLayer,{name:"CyclOSM",children:jsxRuntimeExports.jsx(TileLayer,{url:"https://{s}.tile-cyclosm.openstreetmap.fr/cyclosm/{z}/{x}/{y}.png",attribution:'<a href="https://github.com/cyclosm/cyclosm-cartocss-style/releases" title="CyclOSM - Open Bicycle Render">CyclOSM</a> | Map data:  <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'})}),jsxRuntimeExports.jsx(LayersControl.BaseLayer,{name:"Esri World Street Map",children:jsxRuntimeExports.jsx(TileLayer,{url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer/tile/{z}/{y}/{x}",attribution:"Tiles  Esri  Source: Esri, DeLorme, NAVTEQ, USGS, Intermap, iPC, NRCAN, Esri Japan, METI, Esri China (Hong Kong), Esri (Thailand), TomTom, 2012"})}),jsxRuntimeExports.jsx(LayersControl.BaseLayer,{name:"Esri World Topo Map",children:jsxRuntimeExports.jsx(TileLayer,{url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer/tile/{z}/{y}/{x}",attribution:"Tiles  Esri  Esri, DeLorme, NAVTEQ, TomTom, Intermap, iPC, USGS, FAO, NPS, NRCAN, GeoBase, Kadaster NL, Ordnance Survey, Esri Japan, METI, Esri China (Hong Kong), and the GIS User Community"})}),jsxRuntimeExports.jsx(LayersControl.BaseLayer,{name:"CartoDB Voyager",children:jsxRuntimeExports.jsx(TileLayer,{url:"https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png",attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors  <a href="https://carto.com/attributions">CARTO</a>'})})]}),jsxRuntimeExports.jsx(MapLogic,{bounds:r,featureGroupRef:A,isPickingLocation:y,onLocationPicked:x}),M&&jsxRuntimeExports.jsx(CircleMarker,{center:M,radius:8,pathOptions:{color:"#3b82f6",fillColor:"#3b82f6",fillOpacity:.8},children:jsxRuntimeExports.jsx(Popup,{children:"You are here"})}),jsxRuntimeExports.jsx(FeatureGroup,{ref:A,children:jsxRuntimeExports.jsx(GeomanControls,{options:{position:"topleft",drawText:!1},globalOptions:{continueDrawing:!0,editable:!0}})})]})]})},FeatureForm=({formData:y,setFormData:x,onClose:r,onPickLocation:b})=>{const M=(B,R)=>{x(I=>({...I,[B]:R}))},z=B=>{x(R=>({...R,noOfUser:Math.max(0,R.noOfUser+B)}))};return jsxRuntimeExports.jsxs("div",{className:"feature-form-container",children:[jsxRuntimeExports.jsxs("div",{className:"form-header",children:[jsxRuntimeExports.jsx("div",{className:"header-icon-btn",onClick:r,children:jsxRuntimeExports.jsx(Check,{size:24,color:"white"})}),jsxRuntimeExports.jsx("div",{className:"header-title",children:"COMP_FAT"}),jsxRuntimeExports.jsx("div",{className:"header-icon-btn",children:jsxRuntimeExports.jsx(Trash2,{size:24,color:"white"})})]}),jsxRuntimeExports.jsxs("div",{className:"form-body",children:[jsxRuntimeExports.jsxs("div",{className:"form-field",children:[jsxRuntimeExports.jsxs("div",{className:"field-top",children:[jsxRuntimeExports.jsxs("div",{className:"field-label-group",children:[jsxRuntimeExports.jsx("span",{className:"field-label",children:"FAT_ID"}),jsxRuntimeExports.jsx("span",{className:"field-subtitle",children:"Not NULL"})]}),jsxRuntimeExports.jsxs("div",{className:"field-actions",children:[jsxRuntimeExports.jsx(EllipsisVertical,{size:20,className:"action-icon"}),jsxRuntimeExports.jsx(MapPin,{size:20,className:"pin-icon"})]})]}),jsxRuntimeExports.jsx("input",{type:"text",className:"field-input",value:y.fatId,onChange:B=>M("fatId",B.target.value)}),jsxRuntimeExports.jsx("div",{className:"field-underline"})]}),jsxRuntimeExports.jsxs("div",{className:"form-field",children:[jsxRuntimeExports.jsxs("div",{className:"field-top",children:[jsxRuntimeExports.jsxs("div",{className:"field-label-group",children:[jsxRuntimeExports.jsx("span",{className:"field-label",children:"FDT_ID"}),jsxRuntimeExports.jsx("span",{className:"field-subtitle",children:"Not NULL"})]}),jsxRuntimeExports.jsxs("div",{className:"field-actions",children:[jsxRuntimeExports.jsx(EllipsisVertical,{size:20,className:"action-icon"}),jsxRuntimeExports.jsx(MapPin,{size:20,className:"pin-icon"})]})]}),jsxRuntimeExports.jsx("input",{type:"text",className:"field-input",value:y.fdtId,onChange:B=>M("fdtId",B.target.value)}),jsxRuntimeExports.jsx("div",{className:"field-underline"})]}),jsxRuntimeExports.jsxs("div",{className:"form-field",children:[jsxRuntimeExports.jsxs("div",{className:"field-top",children:[jsxRuntimeExports.jsxs("div",{className:"field-label-group",children:[jsxRuntimeExports.jsx("span",{className:"field-label",children:"No_of_User"}),jsxRuntimeExports.jsx("span",{className:"field-subtitle",children:"Not NULL"})]}),jsxRuntimeExports.jsxs("div",{className:"field-actions",children:[jsxRuntimeExports.jsx(EllipsisVertical,{size:20,className:"action-icon"}),jsxRuntimeExports.jsx(MapPin,{size:20,className:"pin-icon"})]})]}),jsxRuntimeExports.jsxs("div",{className:"input-wrapper",children:[jsxRuntimeExports.jsx("input",{type:"number",className:"field-input",value:y.noOfUser,readOnly:!0}),jsxRuntimeExports.jsxs("div",{className:"number-controls",children:[jsxRuntimeExports.jsx("button",{className:"num-btn",onClick:()=>z(-1),children:jsxRuntimeExports.jsx(Minus,{size:16})}),jsxRuntimeExports.jsx("button",{className:"num-btn",onClick:()=>z(1),children:jsxRuntimeExports.jsx(Plus,{size:16})})]})]}),jsxRuntimeExports.jsx("div",{className:"field-underline"})]}),jsxRuntimeExports.jsxs("div",{className:"form-field",children:[jsxRuntimeExports.jsxs("div",{className:"field-top",children:[jsxRuntimeExports.jsxs("div",{className:"field-label-group",children:[jsxRuntimeExports.jsx("span",{className:"field-label",children:"X"}),jsxRuntimeExports.jsx("span",{className:"field-subtitle",children:"Not NULL"})]}),jsxRuntimeExports.jsxs("div",{className:"field-actions",children:[jsxRuntimeExports.jsx(EllipsisVertical,{size:20,className:"action-icon"}),jsxRuntimeExports.jsx(MapPin,{size:20,className:"action-icon",onClick:b,style:{cursor:"pointer",color:"#4caf50"}})]})]}),jsxRuntimeExports.jsx("input",{type:"text",className:"field-input",value:y.x,onChange:B=>M("x",B.target.value)}),jsxRuntimeExports.jsx("div",{className:"field-underline"})]}),jsxRuntimeExports.jsxs("div",{className:"form-field",children:[jsxRuntimeExports.jsxs("div",{className:"field-top",children:[jsxRuntimeExports.jsxs("div",{className:"field-label-group",children:[jsxRuntimeExports.jsx("span",{className:"field-label",children:"Y"}),jsxRuntimeExports.jsx("span",{className:"field-subtitle",children:"Not NULL"})]}),jsxRuntimeExports.jsxs("div",{className:"field-actions",children:[jsxRuntimeExports.jsx(EllipsisVertical,{size:20,className:"action-icon"}),jsxRuntimeExports.jsx(MapPin,{size:20,className:"action-icon",onClick:b,style:{cursor:"pointer",color:"#4caf50"}})]})]}),jsxRuntimeExports.jsx("input",{type:"text",className:"field-input",value:y.y,onChange:B=>M("y",B.target.value)}),jsxRuntimeExports.jsx("div",{className:"field-underline"})]}),jsxRuntimeExports.jsxs("div",{className:"form-field",children:[jsxRuntimeExports.jsxs("div",{className:"field-top",children:[jsxRuntimeExports.jsx("div",{className:"field-label-group",children:jsxRuntimeExports.jsx("span",{className:"field-label",children:"Company_Name"})}),jsxRuntimeExports.jsxs("div",{className:"field-actions",children:[jsxRuntimeExports.jsx(EllipsisVertical,{size:20,className:"action-icon"}),jsxRuntimeExports.jsx(MapPin,{size:20,className:"pin-icon"})]})]}),jsxRuntimeExports.jsxs("div",{className:"input-wrapper",children:[jsxRuntimeExports.jsxs("select",{className:"field-input dropdown",value:y.companyName,onChange:B=>M("companyName",B.target.value),children:[jsxRuntimeExports.jsx("option",{value:"Supercell",children:"Supercell"}),jsxRuntimeExports.jsx("option",{value:"Other",children:"Other"})]}),jsxRuntimeExports.jsx(Search,{size:18,className:"input-icon-right"})]}),jsxRuntimeExports.jsx("div",{className:"field-underline"})]}),jsxRuntimeExports.jsxs("div",{className:"form-field",children:[jsxRuntimeExports.jsxs("div",{className:"field-top",children:[jsxRuntimeExports.jsx("div",{className:"field-label-group",children:jsxRuntimeExports.jsx("span",{className:"field-label",children:"Note"})}),jsxRuntimeExports.jsxs("div",{className:"field-actions",children:[jsxRuntimeExports.jsx(EllipsisVertical,{size:20,className:"action-icon"}),jsxRuntimeExports.jsx(MapPin,{size:20,className:"pin-icon"})]})]}),jsxRuntimeExports.jsx("input",{type:"text",className:"field-input",value:y.note,onChange:B=>M("note",B.target.value)}),jsxRuntimeExports.jsx("div",{className:"field-underline"})]})]})]})};function App(){const[y,x]=reactExports.useState(!1),[r,b]=reactExports.useState(!1),[M,z]=reactExports.useState({fatId:"",fdtId:"",noOfUser:0,x:"44.04768368",y:"32.6058465",companyName:"Supercell",note:""}),B=(I,O)=>{z(A=>({...A,x:O.toFixed(8),y:I.toFixed(8)})),b(!1),x(!0)},R=()=>{x(!1),b(!0)};return jsxRuntimeExports.jsxs("div",{className:"App",children:[jsxRuntimeExports.jsx(Fe,{position:"top-center"}),y?jsxRuntimeExports.jsx(FeatureForm,{formData:M,setFormData:z,onClose:()=>x(!1),onPickLocation:R}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(MapEditor,{isPickingLocation:r,onLocationPicked:B,onAddFeature:()=>x(!0)}),!r&&jsxRuntimeExports.jsx("button",{disabled:!0,style:{position:"absolute",bottom:"20px",right:"20px",zIndex:1e3,padding:"12px 24px",backgroundColor:"#ff9800",color:"white",border:"none",borderRadius:"24px",fontWeight:"bold",boxShadow:"0 4px 10px rgba(0,0,0,0.3)",cursor:"not-allowed",opacity:.5},onClick:()=>x(!0),children:"+ Add Feature"}),r&&jsxRuntimeExports.jsx("div",{style:{position:"absolute",top:"20px",left:"50%",transform:"translateX(-50%)",zIndex:2e3,backgroundColor:"rgba(0,0,0,0.8)",color:"white",padding:"8px 16px",borderRadius:"20px",pointerEvents:"none"},children:"Click on map to select location"})]})]})}clientExports.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(reactExports.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}));
